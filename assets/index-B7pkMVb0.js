(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function dR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sg={exports:{}},yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function mR(){if(gb)return yc;gb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return yc.Fragment=t,yc.jsx=e,yc.jsxs=e,yc}var pb;function gR(){return pb||(pb=1,Sg.exports=mR()),Sg.exports}var w=gR(),Ag={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function pR(){if(yb)return At;yb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function j(L,Z,lt){this.props=L,this.context=Z,this.refs=M,this.updater=lt||R}j.prototype.isReactComponent={},j.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function F(){}F.prototype=j.prototype;function H(L,Z,lt){this.props=L,this.context=Z,this.refs=M,this.updater=lt||R}var J=H.prototype=new F;J.constructor=H,C(J,j.prototype),J.isPureReactComponent=!0;var Q=Array.isArray;function rt(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(L,Z,lt){var ct=lt.ref;return{$$typeof:n,type:L,key:Z,ref:ct!==void 0?ct:null,props:lt}}function V(L,Z){return D(L.type,Z,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function z(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(lt){return Z[lt]})}var k=/\/+/g;function Dt(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):Z.toString(36)}function Tt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(rt,rt):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function X(L,Z,lt,ct,ht){var gt=typeof L;(gt==="undefined"||gt==="boolean")&&(L=null);var Ct=!1;if(L===null)Ct=!0;else switch(gt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(L.$$typeof){case n:case t:Ct=!0;break;case y:return Ct=L._init,X(Ct(L._payload),Z,lt,ct,ht)}}if(Ct)return ht=ht(L),Ct=ct===""?"."+Dt(L,0):ct,Q(ht)?(lt="",Ct!=null&&(lt=Ct.replace(k,"$&/")+"/"),X(ht,Z,lt,"",function(Fr){return Fr})):ht!=null&&(O(ht)&&(ht=V(ht,lt+(ht.key==null||L&&L.key===ht.key?"":(""+ht.key).replace(k,"$&/")+"/")+Ct)),Z.push(ht)),1;Ct=0;var ne=ct===""?".":ct+":";if(Q(L))for(var ie=0;ie<L.length;ie++)ct=L[ie],gt=ne+Dt(ct,ie),Ct+=X(ct,Z,lt,gt,ht);else if(ie=E(L),typeof ie=="function")for(L=ie.call(L),ie=0;!(ct=L.next()).done;)ct=ct.value,gt=ne+Dt(ct,ie++),Ct+=X(ct,Z,lt,gt,ht);else if(gt==="object"){if(typeof L.then=="function")return X(Tt(L),Z,lt,ct,ht);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function ot(L,Z,lt){if(L==null)return L;var ct=[],ht=0;return X(L,ct,"","",function(gt){return Z.call(lt,gt,ht++)}),ct}function dt(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(lt){(L._status===0||L._status===-1)&&(L._status=1,L._result=lt)},function(lt){(L._status===0||L._status===-1)&&(L._status=2,L._result=lt)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var bt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ot={map:ot,forEach:function(L,Z,lt){ot(L,function(){Z.apply(this,arguments)},lt)},count:function(L){var Z=0;return ot(L,function(){Z++}),Z},toArray:function(L){return ot(L,function(Z){return Z})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return At.Activity=_,At.Children=Ot,At.Component=j,At.Fragment=e,At.Profiler=r,At.PureComponent=H,At.StrictMode=i,At.Suspense=f,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,At.__COMPILER_RUNTIME={__proto__:null,c:function(L){return N.H.useMemoCache(L)}},At.cache=function(L){return function(){return L.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(L,Z,lt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ct=C({},L.props),ht=L.key;if(Z!=null)for(gt in Z.key!==void 0&&(ht=""+Z.key),Z)!A.call(Z,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&Z.ref===void 0||(ct[gt]=Z[gt]);var gt=arguments.length-2;if(gt===1)ct.children=lt;else if(1<gt){for(var Ct=Array(gt),ne=0;ne<gt;ne++)Ct[ne]=arguments[ne+2];ct.children=Ct}return D(L.type,ht,ct)},At.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},At.createElement=function(L,Z,lt){var ct,ht={},gt=null;if(Z!=null)for(ct in Z.key!==void 0&&(gt=""+Z.key),Z)A.call(Z,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(ht[ct]=Z[ct]);var Ct=arguments.length-2;if(Ct===1)ht.children=lt;else if(1<Ct){for(var ne=Array(Ct),ie=0;ie<Ct;ie++)ne[ie]=arguments[ie+2];ht.children=ne}if(L&&L.defaultProps)for(ct in Ct=L.defaultProps,Ct)ht[ct]===void 0&&(ht[ct]=Ct[ct]);return D(L,gt,ht)},At.createRef=function(){return{current:null}},At.forwardRef=function(L){return{$$typeof:h,render:L}},At.isValidElement=O,At.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:dt}},At.memo=function(L,Z){return{$$typeof:m,type:L,compare:Z===void 0?null:Z}},At.startTransition=function(L){var Z=N.T,lt={};N.T=lt;try{var ct=L(),ht=N.S;ht!==null&&ht(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(rt,bt)}catch(gt){bt(gt)}finally{Z!==null&&lt.types!==null&&(Z.types=lt.types),N.T=Z}},At.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},At.use=function(L){return N.H.use(L)},At.useActionState=function(L,Z,lt){return N.H.useActionState(L,Z,lt)},At.useCallback=function(L,Z){return N.H.useCallback(L,Z)},At.useContext=function(L){return N.H.useContext(L)},At.useDebugValue=function(){},At.useDeferredValue=function(L,Z){return N.H.useDeferredValue(L,Z)},At.useEffect=function(L,Z){return N.H.useEffect(L,Z)},At.useEffectEvent=function(L){return N.H.useEffectEvent(L)},At.useId=function(){return N.H.useId()},At.useImperativeHandle=function(L,Z,lt){return N.H.useImperativeHandle(L,Z,lt)},At.useInsertionEffect=function(L,Z){return N.H.useInsertionEffect(L,Z)},At.useLayoutEffect=function(L,Z){return N.H.useLayoutEffect(L,Z)},At.useMemo=function(L,Z){return N.H.useMemo(L,Z)},At.useOptimistic=function(L,Z){return N.H.useOptimistic(L,Z)},At.useReducer=function(L,Z,lt){return N.H.useReducer(L,Z,lt)},At.useRef=function(L){return N.H.useRef(L)},At.useState=function(L){return N.H.useState(L)},At.useSyncExternalStore=function(L,Z,lt){return N.H.useSyncExternalStore(L,Z,lt)},At.useTransition=function(){return N.H.useTransition()},At.version="19.2.0",At}var _b;function kp(){return _b||(_b=1,Ag.exports=pR()),Ag.exports}var nt=kp();const pE=dR(nt);var Rg={exports:{}},_c={},Cg={exports:{}},Ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function yR(){return vb||(vb=1,(function(n){function t(X,ot){var dt=X.length;X.push(ot);t:for(;0<dt;){var bt=dt-1>>>1,Ot=X[bt];if(0<r(Ot,ot))X[bt]=ot,X[dt]=Ot,dt=bt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ot=X[0],dt=X.pop();if(dt!==ot){X[0]=dt;t:for(var bt=0,Ot=X.length,L=Ot>>>1;bt<L;){var Z=2*(bt+1)-1,lt=X[Z],ct=Z+1,ht=X[ct];if(0>r(lt,dt))ct<Ot&&0>r(ht,lt)?(X[bt]=ht,X[ct]=dt,bt=ct):(X[bt]=lt,X[Z]=dt,bt=Z);else if(ct<Ot&&0>r(ht,dt))X[bt]=ht,X[ct]=dt,bt=ct;else break t}}return ot}function r(X,ot){var dt=X.sortIndex-ot.sortIndex;return dt!==0?dt:X.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,_=null,b=3,E=!1,R=!1,C=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function J(X){for(var ot=e(m);ot!==null;){if(ot.callback===null)i(m);else if(ot.startTime<=X)i(m),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=e(m)}}function Q(X){if(C=!1,J(X),!R)if(e(f)!==null)R=!0,rt||(rt=!0,z());else{var ot=e(m);ot!==null&&Tt(Q,ot.startTime-X)}}var rt=!1,N=-1,A=5,D=-1;function V(){return M?!0:!(n.unstable_now()-D<A)}function O(){if(M=!1,rt){var X=n.unstable_now();D=X;var ot=!0;try{t:{R=!1,C&&(C=!1,F(N),N=-1),E=!0;var dt=b;try{e:{for(J(X),_=e(f);_!==null&&!(_.expirationTime>X&&V());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,b=_.priorityLevel;var Ot=bt(_.expirationTime<=X);if(X=n.unstable_now(),typeof Ot=="function"){_.callback=Ot,J(X),ot=!0;break e}_===e(f)&&i(f),J(X)}else i(f);_=e(f)}if(_!==null)ot=!0;else{var L=e(m);L!==null&&Tt(Q,L.startTime-X),ot=!1}}break t}finally{_=null,b=dt,E=!1}ot=void 0}}finally{ot?z():rt=!1}}}var z;if(typeof H=="function")z=function(){H(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Dt=k.port2;k.port1.onmessage=O,z=function(){Dt.postMessage(null)}}else z=function(){j(O,0)};function Tt(X,ot){N=j(function(){X(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var dt=b;b=ot;try{return X()}finally{b=dt}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var dt=b;b=X;try{return ot()}finally{b=dt}},n.unstable_scheduleCallback=function(X,ot,dt){var bt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?bt+dt:bt):dt=bt,X){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=dt+Ot,X={id:y++,callback:ot,priorityLevel:X,startTime:dt,expirationTime:Ot,sortIndex:-1},dt>bt?(X.sortIndex=dt,t(m,X),e(f)===null&&X===e(m)&&(C?(F(N),N=-1):C=!0,Tt(Q,dt-bt))):(X.sortIndex=Ot,t(f,X),R||E||(R=!0,rt||(rt=!0,z()))),X},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(X){var ot=b;return function(){var dt=b;b=ot;try{return X.apply(this,arguments)}finally{b=dt}}}})(Ig)),Ig}var bb;function _R(){return bb||(bb=1,Cg.exports=yR()),Cg.exports}var Mg={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function vR(){if(xb)return sn;xb=1;var n=kp();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,y)},sn.flushSync=function(f){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=y,i.d.f()}},sn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},sn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},sn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:E}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},sn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},sn.requestFormReset=function(f){i.d.r(f)},sn.unstable_batchedUpdates=function(f,m){return f(m)},sn.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var Tb;function bR(){if(Tb)return Mg.exports;Tb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Mg.exports=vR(),Mg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function xR(){if(Eb)return _c;Eb=1;var n=_R(),t=kp(),e=bR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var x=!1,S=g.child;S;){if(S===l){x=!0,l=g,u=p;break}if(S===u){x=!0,u=g,l=p;break}S=S.sibling}if(!x){for(S=p.child;S;){if(S===l){x=!0,l=p,u=g;break}if(S===u){x=!0,u=p,l=g;break}S=S.sibling}if(!x)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),H=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case j:return"Profiler";case M:return"StrictMode";case Q:return"Suspense";case rt:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case H:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case J:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case A:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var Tt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},bt=[],Ot=-1;function L(s){return{current:s}}function Z(s){0>Ot||(s.current=bt[Ot],bt[Ot]=null,Ot--)}function lt(s,a){Ot++,bt[Ot]=s.current,s.current=a}var ct=L(null),ht=L(null),gt=L(null),Ct=L(null);function ne(s,a){switch(lt(gt,a),lt(ht,s),lt(ct,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?j0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=j0(a),s=z0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(ct),lt(ct,s)}function ie(){Z(ct),Z(ht),Z(gt)}function Fr(s){s.memoizedState!==null&&lt(Ct,s);var a=ct.current,l=z0(a,s.type);a!==l&&(lt(ht,s),lt(ct,l))}function Xa(s){ht.current===s&&(Z(ct),Z(ht)),Ct.current===s&&(Z(Ct),dc._currentValue=dt)}var $a,Qa;function bi(s){if($a===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);$a=a&&a[1]||"",Qa=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+s+Qa}var dl=!1;function Hr(s,a){if(!s||dl)return"";dl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(W){var K=W}Reflect.construct(s,[],it)}else{try{it.call()}catch(W){K=W}s.call(it.prototype)}}else{try{throw Error()}catch(W){K=W}(it=s())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),x=p[0],S=p[1];if(x&&S){var P=x.split(`
`),Y=S.split(`
`);for(g=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(u===P.length||g===Y.length)for(u=P.length-1,g=Y.length-1;1<=u&&0<=g&&P[u]!==Y[g];)g--;for(;1<=u&&0<=g;u--,g--)if(P[u]!==Y[g]){if(u!==1||g!==1)do if(u--,g--,0>g||P[u]!==Y[g]){var tt=`
`+P[u].replace(" at new "," at ");return s.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",s.displayName)),tt}while(1<=u&&0<=g);break}}}finally{dl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?bi(l):""}function ml(s,a){switch(s.tag){case 26:case 27:case 5:return bi(s.type);case 16:return bi("Lazy");case 13:return s.child!==a&&a!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Hr(s.type,!1);case 11:return Hr(s.type.render,!1);case 1:return Hr(s.type,!0);case 31:return bi("Activity");default:return""}}function gl(s){try{var a="",l=null;do a+=ml(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ae=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,Us=n.unstable_cancelCallback,Rd=n.unstable_shouldYield,pu=n.unstable_requestPaint,mn=n.unstable_now,qr=n.unstable_getCurrentPriorityLevel,pl=n.unstable_ImmediatePriority,yl=n.unstable_UserBlockingPriority,Bs=n.unstable_NormalPriority,Cd=n.unstable_LowPriority,yu=n.unstable_IdlePriority,_u=n.log,vu=n.unstable_setDisableYieldValue,ii=null,Xe=null;function Ln(s){if(typeof _u=="function"&&vu(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ii,s)}catch{}}var be=Math.clz32?Math.clz32:xu,bu=Math.log,Wa=Math.LN2;function xu(s){return s>>>=0,s===0?32:31-(bu(s)/Wa|0)|0}var xi=256,Gr=262144,Re=4194304;function Ti(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ei(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=Ti(u):(x&=S,x!==0?g=Ti(x):l||(l=S&~s,l!==0&&(g=Ti(l))))):(S=u&~p,S!==0?g=Ti(S):x!==0?g=Ti(x):l||(l=u&~s,l!==0&&(g=Ti(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function si(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Id(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var s=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),s}function wi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Yr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Md(s,a,l,u,g,p){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,P=s.expirationTimes,Y=s.hiddenUpdates;for(l=x&~l;0<l;){var tt=31-be(l),it=1<<tt;S[tt]=0,P[tt]=-1;var K=Y[tt];if(K!==null)for(Y[tt]=null,tt=0;tt<K.length;tt++){var W=K[tt];W!==null&&(W.lane&=-536870913)}l&=~it}u!==0&&Kr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(x&~a))}function Kr(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-be(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function _l(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-be(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function vl(s,a){var l=a&-a;return l=(l&42)!==0?1:Xr(l),(l&(s.suspendedLanes|a))!==0?0:l}function Xr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function as(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Eu(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:lb(s.type))}function ri(s,a){var l=ot.p;try{return ot.p=s,a()}finally{ot.p=l}}var ai=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ai,qe="__reactProps$"+ai,Si="__reactContainer$"+ai,Za="__reactEvents$"+ai,Nd="__reactListeners$"+ai,wu="__reactHandles$"+ai,Su="__reactResources$"+ai,Ai="__reactMarker$"+ai;function Ja(s){delete s[Ce],delete s[qe],delete s[Za],delete s[Nd],delete s[wu]}function Ri(s){var a=s[Ce];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Si]||l[Ce]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=Y0(s);s!==null;){if(l=s[Ce])return l;s=Y0(s)}return a}s=l,l=s.parentNode}return null}function jn(s){if(s=s[Ce]||s[Si]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Rn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ci(s){var a=s[Su];return a||(a=s[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ie(s){s[Ai]=!0}var bl=new Set,xl={};function Ii(s,a){Mi(s,a),Mi(s+"Capture",a)}function Mi(s,a){for(xl[s]=a,s=0;s<a.length;s++)bl.add(a[s])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},wl={};function Au(s){return Ae.call(wl,s)?!0:Ae.call(El,s)?!1:Tl.test(s)?wl[s]=!0:(El[s]=!0,!1)}function to(s,a,l){if(Au(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Cn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Me(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Ge(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Sl(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){l=""+x,p.call(this,x)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Wt(s){if(!s._valueTracker){var a=Fs(s)?"checked":"value";s._valueTracker=Sl(s,a,""+s[a])}}function $r(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Fs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Ni(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Qr=/[\n"\\]/g;function yn(s){return s.replace(Qr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function eo(s,a,l,u,g,p,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ge(a)):s.value!==""+Ge(a)&&(s.value=""+Ge(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?Al(s,x,Ge(a)):l!=null?Al(s,x,Ge(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Ge(S):s.removeAttribute("name")}function Ru(s,a,l,u,g,p,x,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Wt(s);return}l=l!=null?""+Ge(l):"",a=a!=null?""+Ge(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),Wt(s)}function Al(s,a,l){a==="number"&&Ni(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Hs(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ge(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Cu(s,a,l){if(a!=null&&(a=""+Ge(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Ge(l):""}function qs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Tt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ge(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Wt(s)}function _n(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Iu.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Cl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Rl(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Rl(s,p,a[p])}function no(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(s){return Gs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function oi(){}var Il=null;function zn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ys=null,Di=null;function Wr(s){var a=jn(s);if(a&&(s=a.stateNode)){var l=s[qe]||null;t:switch(s=a.stateNode,a.type){case"input":if(eo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+yn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[qe]||null;if(!g)throw Error(i(90));eo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&$r(u)}break t;case"textarea":Cu(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Hs(s,!!l.multiple,a,!1)}}}var so=!1;function Ks(s,a,l){if(so)return s(a,l);so=!0;try{var u=s(a);return u}finally{if(so=!1,(Ys!==null||Di!==null)&&(Eh(),Ys&&(a=Ys,s=Di,Di=Ys=null,Wr(a),s)))for(a=0;a<s.length;a++)Wr(s[a])}}function li(s,a){var l=s.stateNode;if(l===null)return null;var u=l[qe]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zr=!1;if(Un)try{var se={};Object.defineProperty(se,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{Zr=!1}var Oi=null,Ml=null,Jr=null;function Nl(){if(Jr)return Jr;var s,a=Ml,l=a.length,u,g="value"in Oi?Oi.value:Oi.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var x=l-s;for(u=1;u<=x&&a[l-u]===g[p-u];u++);return Jr=g.slice(s,1<u?1-u:void 0)}function ta(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function os(){return!0}function ci(){return!1}function $e(s){function a(l,u,g,p,x){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?os:ci,this.isPropagationStopped=ci,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),a}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=$e(ls),Xs=_({},ls,{view:0,detail:0}),Dl=$e(Xs),$s,ro,Vi,ao=_({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Vi&&(Vi&&s.type==="mousemove"?($s=s.screenX-Vi.screenX,ro=s.screenY-Vi.screenY):ro=$s=0,Vi=s),$s)},movementY:function(s){return"movementY"in s?s.movementY:ro}}),Ol=$e(ao),ea=_({},ao,{dataTransfer:0}),Nu=$e(ea),Du=_({},Xs,{relatedTarget:0}),na=$e(Du),kl=_({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Ou=$e(kl),oo=_({},ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ku=$e(oo),Vu=_({},ls,{data:0}),Pi=$e(Vu),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ju[s])?!!a[s]:!1}function Qs(){return zu}var gn=_({},Xs,{key:function(s){if(s.key){var a=Pu[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Lu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(s){return s.type==="keypress"?ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Uu=$e(gn),Bu=_({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=$e(Bu),d=_({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),v=$e(d),T=_({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=$e(T),q=_({},ao,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$=$e(q),ut=_({},ls,{newState:0,oldState:0}),It=$e(ut),xe=[9,13,27,32],Kt=Un&&"CompositionEvent"in window,me=null;Un&&"documentMode"in document&&(me=document.documentMode);var Bn=Un&&"TextEvent"in window&&!me,Li=Un&&(!Kt||me&&8<me&&11>=me),ui=" ",hi=!1;function ia(s,a){switch(s){case"keyup":return xe.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var co=!1;function L1(s,a){switch(s){case"compositionend":return lo(a);case"keypress":return a.which!==32?null:(hi=!0,ui);case"textInput":return s=a.data,s===ui&&hi?null:s;default:return null}}function j1(s,a){if(co)return s==="compositionend"||!Kt&&ia(s,a)?(s=Nl(),Jr=Ml=Oi=null,co=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Li&&a.locale!=="ko"?null:a.data;default:return null}}var z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!z1[s.type]:a==="textarea"}function Qy(s,a,l,u){Ys?Di?Di.push(u):Di=[u]:Ys=u,a=Mh(a,"onChange"),0<a.length&&(l=new ki("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Vl=null,Pl=null;function U1(s){D0(s,0)}function Fu(s){var a=Rn(s);if($r(a))return s}function Wy(s,a){if(s==="change")return a}var Zy=!1;if(Un){var Dd;if(Un){var Od="oninput"in document;if(!Od){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),Od=typeof Jy.oninput=="function"}Dd=Od}else Dd=!1;Zy=Dd&&(!document.documentMode||9<document.documentMode)}function t_(){Vl&&(Vl.detachEvent("onpropertychange",e_),Pl=Vl=null)}function e_(s){if(s.propertyName==="value"&&Fu(Pl)){var a=[];Qy(a,Pl,s,zn(s)),Ks(U1,a)}}function B1(s,a,l){s==="focusin"?(t_(),Vl=a,Pl=l,Vl.attachEvent("onpropertychange",e_)):s==="focusout"&&t_()}function F1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Fu(Pl)}function H1(s,a){if(s==="click")return Fu(a)}function q1(s,a){if(s==="input"||s==="change")return Fu(a)}function G1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var In=typeof Object.is=="function"?Object.is:G1;function Ll(s,a){if(In(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ae.call(a,g)||!In(s[g],a[g]))return!1}return!0}function n_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function i_(s,a){var l=n_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=n_(l)}}function s_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?s_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function r_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Ni(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Ni(s.document)}return a}function kd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Y1=Un&&"documentMode"in document&&11>=document.documentMode,uo=null,Vd=null,jl=null,Pd=!1;function a_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pd||uo==null||uo!==Ni(u)||(u=uo,"selectionStart"in u&&kd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Ll(jl,u)||(jl=u,u=Mh(Vd,"onSelect"),0<u.length&&(a=new ki("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=uo)))}function sa(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var ho={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Ld={},o_={};Un&&(o_=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ra(s){if(Ld[s])return Ld[s];if(!ho[s])return s;var a=ho[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in o_)return Ld[s]=a[l];return s}var l_=ra("animationend"),c_=ra("animationiteration"),u_=ra("animationstart"),K1=ra("transitionrun"),X1=ra("transitionstart"),$1=ra("transitioncancel"),h_=ra("transitionend"),f_=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function fi(s,a){f_.set(s,a),Ii(a,[s])}var Hu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Fn=[],fo=0,zd=0;function qu(){for(var s=fo,a=zd=fo=0;a<s;){var l=Fn[a];Fn[a++]=null;var u=Fn[a];Fn[a++]=null;var g=Fn[a];Fn[a++]=null;var p=Fn[a];if(Fn[a++]=null,u!==null&&g!==null){var x=u.pending;x===null?g.next=g:(g.next=x.next,x.next=g),u.pending=g}p!==0&&d_(l,g,p)}}function Gu(s,a,l,u){Fn[fo++]=s,Fn[fo++]=a,Fn[fo++]=l,Fn[fo++]=u,zd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Ud(s,a,l,u){return Gu(s,a,l,u),Yu(s)}function aa(s,a){return Gu(s,null,null,a),Yu(s)}function d_(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-be(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Yu(s){if(50<ac)throw ac=0,$m=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var mo={};function Q1(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,a,l,u){return new Q1(s,a,l,u)}function Bd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function us(s,a){var l=s.alternate;return l===null?(l=Mn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function m_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Ku(s,a,l,u,g,p){var x=0;if(u=s,typeof s=="function")Bd(s)&&(x=1);else if(typeof s=="string")x=eR(s,l,ct.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=Mn(31,l,a,g),s.elementType=D,s.lanes=p,s;case C:return oa(l.children,g,p,a);case M:x=8,g|=24;break;case j:return s=Mn(12,l,a,g|2),s.elementType=j,s.lanes=p,s;case Q:return s=Mn(13,l,a,g),s.elementType=Q,s.lanes=p,s;case rt:return s=Mn(19,l,a,g),s.elementType=rt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:x=10;break t;case F:x=9;break t;case J:x=11;break t;case N:x=14;break t;case A:x=16,u=null;break t}x=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Mn(x,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function oa(s,a,l,u){return s=Mn(7,s,u,a),s.lanes=l,s}function Fd(s,a,l){return s=Mn(6,s,null,a),s.lanes=l,s}function g_(s){var a=Mn(18,null,null,0);return a.stateNode=s,a}function Hd(s,a,l){return a=Mn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var p_=new WeakMap;function Hn(s,a){if(typeof s=="object"&&s!==null){var l=p_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:gl(a)},p_.set(s,a),a)}return{value:s,source:a,stack:gl(a)}}var go=[],po=0,Xu=null,zl=0,qn=[],Gn=0,Ws=null,ji=1,zi="";function hs(s,a){go[po++]=zl,go[po++]=Xu,Xu=s,zl=a}function y_(s,a,l){qn[Gn++]=ji,qn[Gn++]=zi,qn[Gn++]=Ws,Ws=s;var u=ji;s=zi;var g=32-be(u)-1;u&=~(1<<g),l+=1;var p=32-be(a)+g;if(30<p){var x=g-g%5;p=(u&(1<<x)-1).toString(32),u>>=x,g-=x,ji=1<<32-be(a)+g|l<<g|u,zi=p+s}else ji=1<<p|l<<g|u,zi=s}function qd(s){s.return!==null&&(hs(s,1),y_(s,1,0))}function Gd(s){for(;s===Xu;)Xu=go[--po],go[po]=null,zl=go[--po],go[po]=null;for(;s===Ws;)Ws=qn[--Gn],qn[Gn]=null,zi=qn[--Gn],qn[Gn]=null,ji=qn[--Gn],qn[Gn]=null}function __(s,a){qn[Gn++]=ji,qn[Gn++]=zi,qn[Gn++]=Ws,ji=a.id,zi=a.overflow,Ws=s}var Qe=null,ce=null,Ft=!1,Zs=null,Yn=!1,Yd=Error(i(519));function Js(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(Hn(a,s)),Yd}function v_(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Ce]=s,a[qe]=u,l){case"dialog":Pt("cancel",a),Pt("close",a);break;case"iframe":case"object":case"embed":Pt("load",a);break;case"video":case"audio":for(l=0;l<lc.length;l++)Pt(lc[l],a);break;case"source":Pt("error",a);break;case"img":case"image":case"link":Pt("error",a),Pt("load",a);break;case"details":Pt("toggle",a);break;case"input":Pt("invalid",a),Ru(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",a);break;case"textarea":Pt("invalid",a),qs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||P0(a.textContent,l)?(u.popover!=null&&(Pt("beforetoggle",a),Pt("toggle",a)),u.onScroll!=null&&Pt("scroll",a),u.onScrollEnd!=null&&Pt("scrollend",a),u.onClick!=null&&(a.onclick=oi),a=!0):a=!1,a||Js(s,!0)}function b_(s){for(Qe=s.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Qe=Qe.return}}function yo(s){if(s!==Qe)return!1;if(!Ft)return b_(s),Ft=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||ug(s.type,s.memoizedProps)),l=!l),l&&ce&&Js(s),b_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=G0(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=G0(s)}else a===27?(a=ce,dr(s.type)?(s=gg,gg=null,ce=s):ce=a):ce=Qe?Xn(s.stateNode.nextSibling):null;return!0}function la(){ce=Qe=null,Ft=!1}function Kd(){var s=Zs;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),Zs=null),s}function Ul(s){Zs===null?Zs=[s]:Zs.push(s)}var Xd=L(null),ca=null,fs=null;function tr(s,a,l){lt(Xd,a._currentValue),a._currentValue=l}function ds(s){s._currentValue=Xd.current,Z(Xd)}function $d(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Qd(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var x=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var P=0;P<a.length;P++)if(S.context===a[P]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),$d(p.return,l,s),u||(x=null);break t}p=S.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(i(341));x.lanes|=l,p=x.alternate,p!==null&&(p.lanes|=l),$d(x,l,s),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function _o(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var S=g.type;In(g.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(g===Ct.current){if(x=g.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(dc):s=[dc])}g=g.return}s!==null&&Qd(a,s,l,u),a.flags|=262144}function $u(s){for(s=s.firstContext;s!==null;){if(!In(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ua(s){ca=s,fs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function We(s){return x_(ca,s)}function Qu(s,a){return ca===null&&ua(s),x_(s,a)}function x_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},fs===null){if(s===null)throw Error(i(308));fs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else fs=fs.next=a;return l}var W1=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Z1=n.unstable_scheduleCallback,J1=n.unstable_NormalPriority,Ne={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wd(){return{controller:new W1,data:new Map,refCount:0}}function Bl(s){s.refCount--,s.refCount===0&&Z1(J1,function(){s.controller.abort()})}var Fl=null,Zd=0,vo=0,bo=null;function tA(s,a){if(Fl===null){var l=Fl=[];Zd=0,vo=eg(),bo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Zd++,a.then(T_,T_),a}function T_(){if(--Zd===0&&Fl!==null){bo!==null&&(bo.status="fulfilled");var s=Fl;Fl=null,vo=0,bo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function eA(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var E_=X.S;X.S=function(s,a){a0=mn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&tA(s,a),E_!==null&&E_(s,a)};var ha=L(null);function Jd(){var s=ha.current;return s!==null?s:le.pooledCache}function Wu(s,a){a===null?lt(ha,ha.current):lt(ha,a.pool)}function w_(){var s=Jd();return s===null?null:{parent:Ne._currentValue,pool:s}}var xo=Error(i(460)),tm=Error(i(474)),Zu=Error(i(542)),Ju={then:function(){}};function S_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function A_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(oi,oi),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,C_(s),s;default:if(typeof a.status=="string")a.then(oi,oi);else{if(s=le,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,C_(s),s}throw da=a,xo}}function fa(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(da=l,xo):l}}var da=null;function R_(){if(da===null)throw Error(i(459));var s=da;return da=null,s}function C_(s){if(s===xo||s===Zu)throw Error(i(483))}var To=null,Hl=0;function th(s){var a=Hl;return Hl+=1,To===null&&(To=[]),A_(To,s,a)}function ql(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function eh(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function I_(s){function a(B,U){if(s){var G=B.deletions;G===null?(B.deletions=[U],B.flags|=16):G.push(U)}}function l(B,U){if(!s)return null;for(;U!==null;)a(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function g(B,U){return B=us(B,U),B.index=0,B.sibling=null,B}function p(B,U,G){return B.index=G,s?(G=B.alternate,G!==null?(G=G.index,G<U?(B.flags|=67108866,U):G):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function x(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function S(B,U,G,et){return U===null||U.tag!==6?(U=Fd(G,B.mode,et),U.return=B,U):(U=g(U,G),U.return=B,U)}function P(B,U,G,et){var _t=G.type;return _t===C?tt(B,U,G.props.children,et,G.key):U!==null&&(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&fa(_t)===U.type)?(U=g(U,G.props),ql(U,G),U.return=B,U):(U=Ku(G.type,G.key,G.props,null,B.mode,et),ql(U,G),U.return=B,U)}function Y(B,U,G,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Hd(G,B.mode,et),U.return=B,U):(U=g(U,G.children||[]),U.return=B,U)}function tt(B,U,G,et,_t){return U===null||U.tag!==7?(U=oa(G,B.mode,et,_t),U.return=B,U):(U=g(U,G),U.return=B,U)}function it(B,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Fd(""+U,B.mode,G),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return G=Ku(U.type,U.key,U.props,null,B.mode,G),ql(G,U),G.return=B,G;case R:return U=Hd(U,B.mode,G),U.return=B,U;case A:return U=fa(U),it(B,U,G)}if(Tt(U)||z(U))return U=oa(U,B.mode,G,null),U.return=B,U;if(typeof U.then=="function")return it(B,th(U),G);if(U.$$typeof===H)return it(B,Qu(B,U),G);eh(B,U)}return null}function K(B,U,G,et){var _t=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _t!==null?null:S(B,U,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===_t?P(B,U,G,et):null;case R:return G.key===_t?Y(B,U,G,et):null;case A:return G=fa(G),K(B,U,G,et)}if(Tt(G)||z(G))return _t!==null?null:tt(B,U,G,et,null);if(typeof G.then=="function")return K(B,U,th(G),et);if(G.$$typeof===H)return K(B,U,Qu(B,G),et);eh(B,G)}return null}function W(B,U,G,et,_t){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(G)||null,S(U,B,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case E:return B=B.get(et.key===null?G:et.key)||null,P(U,B,et,_t);case R:return B=B.get(et.key===null?G:et.key)||null,Y(U,B,et,_t);case A:return et=fa(et),W(B,U,G,et,_t)}if(Tt(et)||z(et))return B=B.get(G)||null,tt(U,B,et,_t,null);if(typeof et.then=="function")return W(B,U,G,th(et),_t);if(et.$$typeof===H)return W(B,U,G,Qu(U,et),_t);eh(U,et)}return null}function mt(B,U,G,et){for(var _t=null,Gt=null,pt=U,Nt=U=0,jt=null;pt!==null&&Nt<G.length;Nt++){pt.index>Nt?(jt=pt,pt=null):jt=pt.sibling;var Yt=K(B,pt,G[Nt],et);if(Yt===null){pt===null&&(pt=jt);break}s&&pt&&Yt.alternate===null&&a(B,pt),U=p(Yt,U,Nt),Gt===null?_t=Yt:Gt.sibling=Yt,Gt=Yt,pt=jt}if(Nt===G.length)return l(B,pt),Ft&&hs(B,Nt),_t;if(pt===null){for(;Nt<G.length;Nt++)pt=it(B,G[Nt],et),pt!==null&&(U=p(pt,U,Nt),Gt===null?_t=pt:Gt.sibling=pt,Gt=pt);return Ft&&hs(B,Nt),_t}for(pt=u(pt);Nt<G.length;Nt++)jt=W(pt,B,Nt,G[Nt],et),jt!==null&&(s&&jt.alternate!==null&&pt.delete(jt.key===null?Nt:jt.key),U=p(jt,U,Nt),Gt===null?_t=jt:Gt.sibling=jt,Gt=jt);return s&&pt.forEach(function(_r){return a(B,_r)}),Ft&&hs(B,Nt),_t}function xt(B,U,G,et){if(G==null)throw Error(i(151));for(var _t=null,Gt=null,pt=U,Nt=U=0,jt=null,Yt=G.next();pt!==null&&!Yt.done;Nt++,Yt=G.next()){pt.index>Nt?(jt=pt,pt=null):jt=pt.sibling;var _r=K(B,pt,Yt.value,et);if(_r===null){pt===null&&(pt=jt);break}s&&pt&&_r.alternate===null&&a(B,pt),U=p(_r,U,Nt),Gt===null?_t=_r:Gt.sibling=_r,Gt=_r,pt=jt}if(Yt.done)return l(B,pt),Ft&&hs(B,Nt),_t;if(pt===null){for(;!Yt.done;Nt++,Yt=G.next())Yt=it(B,Yt.value,et),Yt!==null&&(U=p(Yt,U,Nt),Gt===null?_t=Yt:Gt.sibling=Yt,Gt=Yt);return Ft&&hs(B,Nt),_t}for(pt=u(pt);!Yt.done;Nt++,Yt=G.next())Yt=W(pt,B,Nt,Yt.value,et),Yt!==null&&(s&&Yt.alternate!==null&&pt.delete(Yt.key===null?Nt:Yt.key),U=p(Yt,U,Nt),Gt===null?_t=Yt:Gt.sibling=Yt,Gt=Yt);return s&&pt.forEach(function(fR){return a(B,fR)}),Ft&&hs(B,Nt),_t}function oe(B,U,G,et){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:t:{for(var _t=G.key;U!==null;){if(U.key===_t){if(_t=G.type,_t===C){if(U.tag===7){l(B,U.sibling),et=g(U,G.props.children),et.return=B,B=et;break t}}else if(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&fa(_t)===U.type){l(B,U.sibling),et=g(U,G.props),ql(et,G),et.return=B,B=et;break t}l(B,U);break}else a(B,U);U=U.sibling}G.type===C?(et=oa(G.props.children,B.mode,et,G.key),et.return=B,B=et):(et=Ku(G.type,G.key,G.props,null,B.mode,et),ql(et,G),et.return=B,B=et)}return x(B);case R:t:{for(_t=G.key;U!==null;){if(U.key===_t)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(B,U.sibling),et=g(U,G.children||[]),et.return=B,B=et;break t}else{l(B,U);break}else a(B,U);U=U.sibling}et=Hd(G,B.mode,et),et.return=B,B=et}return x(B);case A:return G=fa(G),oe(B,U,G,et)}if(Tt(G))return mt(B,U,G,et);if(z(G)){if(_t=z(G),typeof _t!="function")throw Error(i(150));return G=_t.call(G),xt(B,U,G,et)}if(typeof G.then=="function")return oe(B,U,th(G),et);if(G.$$typeof===H)return oe(B,U,Qu(B,G),et);eh(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(l(B,U.sibling),et=g(U,G),et.return=B,B=et):(l(B,U),et=Fd(G,B.mode,et),et.return=B,B=et),x(B)):l(B,U)}return function(B,U,G,et){try{Hl=0;var _t=oe(B,U,G,et);return To=null,_t}catch(pt){if(pt===xo||pt===Zu)throw pt;var Gt=Mn(29,pt,null,B.mode);return Gt.lanes=et,Gt.return=B,Gt}finally{}}}var ma=I_(!0),M_=I_(!1),er=!1;function em(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function nr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ir(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Yu(s),d_(s,null,l),a}return Gu(s,u,a,l),Yu(s)}function Gl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,_l(s,l)}}function im(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=x:p=p.next=x,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var sm=!1;function Yl(){if(sm){var s=bo;if(s!==null)throw s}}function Kl(s,a,l,u){sm=!1;var g=s.updateQueue;er=!1;var p=g.firstBaseUpdate,x=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var P=S,Y=P.next;P.next=null,x===null?p=Y:x.next=Y,x=P;var tt=s.alternate;tt!==null&&(tt=tt.updateQueue,S=tt.lastBaseUpdate,S!==x&&(S===null?tt.firstBaseUpdate=Y:S.next=Y,tt.lastBaseUpdate=P))}if(p!==null){var it=g.baseState;x=0,tt=Y=P=null,S=p;do{var K=S.lane&-536870913,W=K!==S.lane;if(W?(Lt&K)===K:(u&K)===K){K!==0&&K===vo&&(sm=!0),tt!==null&&(tt=tt.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=s,xt=S;K=a;var oe=l;switch(xt.tag){case 1:if(mt=xt.payload,typeof mt=="function"){it=mt.call(oe,it,K);break t}it=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=xt.payload,K=typeof mt=="function"?mt.call(oe,it,K):mt,K==null)break t;it=_({},it,K);break t;case 2:er=!0}}K=S.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=g.callbacks,W===null?g.callbacks=[K]:W.push(K))}else W={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},tt===null?(Y=tt=W,P=it):tt=tt.next=W,x|=K;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;W=S,S=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);tt===null&&(P=it),g.baseState=P,g.firstBaseUpdate=Y,g.lastBaseUpdate=tt,p===null&&(g.shared.lanes=0),lr|=x,s.lanes=x,s.memoizedState=it}}function N_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function D_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)N_(l[s],a)}var Eo=L(null),nh=L(0);function O_(s,a){s=Ts,lt(nh,s),lt(Eo,a),Ts=s|a.baseLanes}function rm(){lt(nh,Ts),lt(Eo,Eo.current)}function am(){Ts=nh.current,Z(Eo),Z(nh)}var Nn=L(null),Kn=null;function sr(s){var a=s.alternate;lt(Te,Te.current&1),lt(Nn,s),Kn===null&&(a===null||Eo.current!==null||a.memoizedState!==null)&&(Kn=s)}function om(s){lt(Te,Te.current),lt(Nn,s),Kn===null&&(Kn=s)}function k_(s){s.tag===22?(lt(Te,Te.current),lt(Nn,s),Kn===null&&(Kn=s)):rr()}function rr(){lt(Te,Te.current),lt(Nn,Nn.current)}function Dn(s){Z(Nn),Kn===s&&(Kn=null),Z(Te)}var Te=L(0);function ih(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||dg(l)||mg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ms=0,Mt=null,re=null,De=null,sh=!1,wo=!1,ga=!1,rh=0,Xl=0,So=null,nA=0;function ye(){throw Error(i(321))}function lm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!In(s[l],a[l]))return!1;return!0}function cm(s,a,l,u,g,p){return ms=p,Mt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=s===null||s.memoizedState===null?yv:wm,ga=!1,p=l(u,g),ga=!1,wo&&(p=P_(a,l,u,g)),V_(s),p}function V_(s){X.H=Wl;var a=re!==null&&re.next!==null;if(ms=0,De=re=Mt=null,sh=!1,Xl=0,So=null,a)throw Error(i(300));s===null||Oe||(s=s.dependencies,s!==null&&$u(s)&&(Oe=!0))}function P_(s,a,l,u){Mt=s;var g=0;do{if(wo&&(So=null),Xl=0,wo=!1,25<=g)throw Error(i(301));if(g+=1,De=re=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=_v,p=a(l,u)}while(wo);return p}function iA(){var s=X.H,a=s.useState()[0];return a=typeof a.then=="function"?$l(a):a,s=s.useState()[0],(re!==null?re.memoizedState:null)!==s&&(Mt.flags|=1024),a}function um(){var s=rh!==0;return rh=0,s}function hm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function fm(s){if(sh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}sh=!1}ms=0,De=re=Mt=null,wo=!1,Xl=rh=0,So=null}function pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Mt.memoizedState=De=s:De=De.next=s,De}function Ee(){if(re===null){var s=Mt.alternate;s=s!==null?s.memoizedState:null}else s=re.next;var a=De===null?Mt.memoizedState:De.next;if(a!==null)De=a,re=s;else{if(s===null)throw Mt.alternate===null?Error(i(467)):Error(i(310));re=s,s={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},De===null?Mt.memoizedState=De=s:De=De.next=s}return De}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(s){var a=Xl;return Xl+=1,So===null&&(So=[]),s=A_(So,s,a),a=Mt,(De===null?a.memoizedState:De.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?yv:wm),s}function oh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return $l(s);if(s.$$typeof===H)return We(s)}throw Error(i(438,String(s)))}function dm(s){var a=null,l=Mt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Mt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ah(),Mt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=V;return a.index++,l}function gs(s,a){return typeof a=="function"?a(s):a}function lh(s){var a=Ee();return mm(a,re,s)}function mm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var x=g.next;g.next=p.next,p.next=x}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var S=x=null,P=null,Y=a,tt=!1;do{var it=Y.lane&-536870913;if(it!==Y.lane?(Lt&it)===it:(ms&it)===it){var K=Y.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),it===vo&&(tt=!0);else if((ms&K)===K){Y=Y.next,K===vo&&(tt=!0);continue}else it={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(S=P=it,x=p):P=P.next=it,Mt.lanes|=K,lr|=K;it=Y.action,ga&&l(p,it),p=Y.hasEagerState?Y.eagerState:l(p,it)}else K={lane:it,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(S=P=K,x=p):P=P.next=K,Mt.lanes|=it,lr|=it;Y=Y.next}while(Y!==null&&Y!==a);if(P===null?x=p:P.next=S,!In(p,s.memoizedState)&&(Oe=!0,tt&&(l=bo,l!==null)))throw l;s.memoizedState=p,s.baseState=x,s.baseQueue=P,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function gm(s){var a=Ee(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var x=g=g.next;do p=s(p,x.action),x=x.next;while(x!==g);In(p,a.memoizedState)||(Oe=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function L_(s,a,l){var u=Mt,g=Ee(),p=Ft;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var x=!In((re||g).memoizedState,l);if(x&&(g.memoizedState=l,Oe=!0),g=g.queue,_m(U_.bind(null,u,g,s),[s]),g.getSnapshot!==a||x||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,Ao(9,{destroy:void 0},z_.bind(null,u,g,l,a),null),le===null)throw Error(i(349));p||(ms&127)!==0||j_(u,a,l)}return l}function j_(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Mt.updateQueue,a===null?(a=ah(),Mt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function z_(s,a,l,u){a.value=l,a.getSnapshot=u,B_(a)&&F_(s)}function U_(s,a,l){return l(function(){B_(a)&&F_(s)})}function B_(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!In(s,l)}catch{return!0}}function F_(s){var a=aa(s,2);a!==null&&En(a,s,2)}function pm(s){var a=pn();if(typeof s=="function"){var l=s;if(s=l(),ga){Ln(!0);try{l()}finally{Ln(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},a}function H_(s,a,l,u){return s.baseState=l,mm(s,re,typeof u=="function"?u:gs)}function sA(s,a,l,u,g){if(hh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};X.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,q_(a,p)):(p.next=l.next,a.pending=l.next=p)}}function q_(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=X.T,x={};X.T=x;try{var S=l(g,u),P=X.S;P!==null&&P(x,S),G_(s,a,S)}catch(Y){ym(s,a,Y)}finally{p!==null&&x.types!==null&&(p.types=x.types),X.T=p}}else try{p=l(g,u),G_(s,a,p)}catch(Y){ym(s,a,Y)}}function G_(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Y_(s,a,u)},function(u){return ym(s,a,u)}):Y_(s,a,l)}function Y_(s,a,l){a.status="fulfilled",a.value=l,K_(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,q_(s,l)))}function ym(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,K_(a),a=a.next;while(a!==u)}s.action=null}function K_(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function X_(s,a){return a}function $_(s,a){if(Ft){var l=le.formState;if(l!==null){t:{var u=Mt;if(Ft){if(ce){e:{for(var g=ce,p=Yn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Xn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){ce=Xn(g.nextSibling),u=g.data==="F!";break t}}Js(u)}u=!1}u&&(a=l[0])}}return l=pn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X_,lastRenderedState:a},l.queue=u,l=mv.bind(null,Mt,u),u.dispatch=l,u=pm(!1),p=Em.bind(null,Mt,!1,u.queue),u=pn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=sA.bind(null,Mt,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function Q_(s){var a=Ee();return W_(a,re,s)}function W_(s,a,l){if(a=mm(s,a,X_)[0],s=lh(gs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=$l(a)}catch(x){throw x===xo?Zu:x}else u=a;a=Ee();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(Mt.flags|=2048,Ao(9,{destroy:void 0},rA.bind(null,g,l),null)),[u,p,s]}function rA(s,a){s.action=a}function Z_(s){var a=Ee(),l=re;if(l!==null)return W_(a,l,s);Ee(),a=a.memoizedState,l=Ee();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Ao(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Mt.updateQueue,a===null&&(a=ah(),Mt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function J_(){return Ee().memoizedState}function ch(s,a,l,u){var g=pn();Mt.flags|=s,g.memoizedState=Ao(1|a,{destroy:void 0},l,u===void 0?null:u)}function uh(s,a,l,u){var g=Ee();u=u===void 0?null:u;var p=g.memoizedState.inst;re!==null&&u!==null&&lm(u,re.memoizedState.deps)?g.memoizedState=Ao(a,p,l,u):(Mt.flags|=s,g.memoizedState=Ao(1|a,p,l,u))}function tv(s,a){ch(8390656,8,s,a)}function _m(s,a){uh(2048,8,s,a)}function aA(s){Mt.flags|=4;var a=Mt.updateQueue;if(a===null)a=ah(),Mt.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function ev(s){var a=Ee().memoizedState;return aA({ref:a,nextImpl:s}),function(){if((Xt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function nv(s,a){return uh(4,2,s,a)}function iv(s,a){return uh(4,4,s,a)}function sv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function rv(s,a,l){l=l!=null?l.concat([s]):null,uh(4,4,sv.bind(null,a,s),l)}function vm(){}function av(s,a){var l=Ee();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&lm(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function ov(s,a){var l=Ee();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&lm(a,u[1]))return u[0];if(u=s(),ga){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[u,a],u}function bm(s,a,l){return l===void 0||(ms&1073741824)!==0&&(Lt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=l0(),Mt.lanes|=s,lr|=s,l)}function lv(s,a,l,u){return In(l,a)?l:Eo.current!==null?(s=bm(s,l,u),In(s,a)||(Oe=!0),s):(ms&42)===0||(ms&1073741824)!==0&&(Lt&261930)===0?(Oe=!0,s.memoizedState=l):(s=l0(),Mt.lanes|=s,lr|=s,a)}function cv(s,a,l,u,g){var p=ot.p;ot.p=p!==0&&8>p?p:8;var x=X.T,S={};X.T=S,Em(s,!1,a,l);try{var P=g(),Y=X.S;if(Y!==null&&Y(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var tt=eA(P,u);Ql(s,a,tt,Vn(s))}else Ql(s,a,u,Vn(s))}catch(it){Ql(s,a,{then:function(){},status:"rejected",reason:it},Vn())}finally{ot.p=p,x!==null&&S.types!==null&&(x.types=S.types),X.T=x}}function oA(){}function xm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=uv(s).queue;cv(s,g,a,dt,l===null?oA:function(){return hv(s),l(u)})}function uv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:dt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function hv(s){var a=uv(s);a.next===null&&(a=s.alternate.memoizedState),Ql(s,a.next.queue,{},Vn())}function Tm(){return We(dc)}function fv(){return Ee().memoizedState}function dv(){return Ee().memoizedState}function lA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Vn();s=nr(l);var u=ir(a,s,l);u!==null&&(En(u,a,l),Gl(u,a,l)),a={cache:Wd()},s.payload=a;return}a=a.return}}function cA(s,a,l){var u=Vn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hh(s)?gv(a,l):(l=Ud(s,a,l,u),l!==null&&(En(l,s,u),pv(l,a,u)))}function mv(s,a,l){var u=Vn();Ql(s,a,l,u)}function Ql(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(hh(s))gv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var x=a.lastRenderedState,S=p(x,l);if(g.hasEagerState=!0,g.eagerState=S,In(S,x))return Gu(s,a,g,0),le===null&&qu(),!1}catch{}finally{}if(l=Ud(s,a,g,u),l!==null)return En(l,s,u),pv(l,a,u),!0}return!1}function Em(s,a,l,u){if(u={lane:2,revertLane:eg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},hh(s)){if(a)throw Error(i(479))}else a=Ud(s,l,u,2),a!==null&&En(a,s,2)}function hh(s){var a=s.alternate;return s===Mt||a!==null&&a===Mt}function gv(s,a){wo=sh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function pv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,_l(s,l)}}var Wl={readContext:We,use:oh,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Wl.useEffectEvent=ye;var yv={readContext:We,use:oh,useCallback:function(s,a){return pn().memoizedState=[s,a===void 0?null:a],s},useContext:We,useEffect:tv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,ch(4194308,4,sv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return ch(4194308,4,s,a)},useInsertionEffect:function(s,a){ch(4,2,s,a)},useMemo:function(s,a){var l=pn();a=a===void 0?null:a;var u=s();if(ga){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=pn();if(l!==void 0){var g=l(a);if(ga){Ln(!0);try{l(a)}finally{Ln(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=cA.bind(null,Mt,s),[u.memoizedState,s]},useRef:function(s){var a=pn();return s={current:s},a.memoizedState=s},useState:function(s){s=pm(s);var a=s.queue,l=mv.bind(null,Mt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:vm,useDeferredValue:function(s,a){var l=pn();return bm(l,s,a)},useTransition:function(){var s=pm(!1);return s=cv.bind(null,Mt,s.queue,!0,!1),pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Mt,g=pn();if(Ft){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),le===null)throw Error(i(349));(Lt&127)!==0||j_(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,tv(U_.bind(null,u,p,s),[s]),u.flags|=2048,Ao(9,{destroy:void 0},z_.bind(null,u,p,l,a),null),l},useId:function(){var s=pn(),a=le.identifierPrefix;if(Ft){var l=zi,u=ji;l=(u&~(1<<32-be(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=rh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=nA++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Tm,useFormState:$_,useActionState:$_,useOptimistic:function(s){var a=pn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Em.bind(null,Mt,!0,l),l.dispatch=a,[s,a]},useMemoCache:dm,useCacheRefresh:function(){return pn().memoizedState=lA.bind(null,Mt)},useEffectEvent:function(s){var a=pn(),l={impl:s};return a.memoizedState=l,function(){if((Xt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},wm={readContext:We,use:oh,useCallback:av,useContext:We,useEffect:_m,useImperativeHandle:rv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:lh,useRef:J_,useState:function(){return lh(gs)},useDebugValue:vm,useDeferredValue:function(s,a){var l=Ee();return lv(l,re.memoizedState,s,a)},useTransition:function(){var s=lh(gs)[0],a=Ee().memoizedState;return[typeof s=="boolean"?s:$l(s),a]},useSyncExternalStore:L_,useId:fv,useHostTransitionStatus:Tm,useFormState:Q_,useActionState:Q_,useOptimistic:function(s,a){var l=Ee();return H_(l,re,s,a)},useMemoCache:dm,useCacheRefresh:dv};wm.useEffectEvent=ev;var _v={readContext:We,use:oh,useCallback:av,useContext:We,useEffect:_m,useImperativeHandle:rv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:gm,useRef:J_,useState:function(){return gm(gs)},useDebugValue:vm,useDeferredValue:function(s,a){var l=Ee();return re===null?bm(l,s,a):lv(l,re.memoizedState,s,a)},useTransition:function(){var s=gm(gs)[0],a=Ee().memoizedState;return[typeof s=="boolean"?s:$l(s),a]},useSyncExternalStore:L_,useId:fv,useHostTransitionStatus:Tm,useFormState:Z_,useActionState:Z_,useOptimistic:function(s,a){var l=Ee();return re!==null?H_(l,re,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:dm,useCacheRefresh:dv};_v.useEffectEvent=ev;function Sm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Am={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Vn(),g=nr(u);g.payload=a,l!=null&&(g.callback=l),a=ir(s,g,u),a!==null&&(En(a,s,u),Gl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Vn(),g=nr(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=ir(s,g,u),a!==null&&(En(a,s,u),Gl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Vn(),u=nr(l);u.tag=2,a!=null&&(u.callback=a),a=ir(s,u,l),a!==null&&(En(a,s,l),Gl(a,s,l))}};function vv(s,a,l,u,g,p,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,x):a.prototype&&a.prototype.isPureReactComponent?!Ll(l,u)||!Ll(g,p):!0}function bv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Am.enqueueReplaceState(a,a.state,null)}function pa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function xv(s){Hu(s)}function Tv(s){console.error(s)}function Ev(s){Hu(s)}function fh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function wv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Rm(s,a,l){return l=nr(l),l.tag=3,l.payload={element:null},l.callback=function(){fh(s,a)},l}function Sv(s){return s=nr(s),s.tag=3,s}function Av(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){wv(a,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){wv(a,l,u),typeof g!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function uA(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&_o(a,l,g,!0),l=Nn.current,l!==null){switch(l.tag){case 31:case 13:return Kn===null?wh():l.alternate===null&&_e===0&&(_e=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Ju?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Zm(s,u,g)),!1;case 22:return l.flags|=65536,u===Ju?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Zm(s,u,g)),!1}throw Error(i(435,l.tag))}return Zm(s,u,g),wh(),!1}if(Ft)return a=Nn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==Yd&&(s=Error(i(422),{cause:u}),Ul(Hn(s,l)))):(u!==Yd&&(a=Error(i(423),{cause:u}),Ul(Hn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Hn(u,l),g=Rm(s.stateNode,u,g),im(s,g),_e!==4&&(_e=2)),!1;var p=Error(i(520),{cause:u});if(p=Hn(p,l),rc===null?rc=[p]:rc.push(p),_e!==4&&(_e=2),a===null)return!0;u=Hn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Rm(l.stateNode,u,s),im(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(cr===null||!cr.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Sv(g),Av(g,s,l,u),im(l,g),!1}l=l.return}while(l!==null);return!1}var Cm=Error(i(461)),Oe=!1;function Ze(s,a,l,u){a.child=s===null?M_(a,null,l,u):ma(a,s.child,l,u)}function Rv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return ua(a),u=cm(s,a,l,x,p,g),S=um(),s!==null&&!Oe?(hm(s,a,g),ps(s,a,g)):(Ft&&S&&qd(a),a.flags|=1,Ze(s,a,u,g),a.child)}function Cv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Bd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Iv(s,a,p,u,g)):(s=Ku(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Pm(s,g)){var x=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ll,l(x,u)&&s.ref===a.ref)return ps(s,a,g)}return a.flags|=1,s=us(p,u),s.ref=a.ref,s.return=a,a.child=s}function Iv(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(Ll(p,u)&&s.ref===a.ref)if(Oe=!1,a.pendingProps=u=p,Pm(s,g))(s.flags&131072)!==0&&(Oe=!0);else return a.lanes=s.lanes,ps(s,a,g)}return Im(s,a,l,u,g)}function Mv(s,a,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Nv(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Wu(a,p!==null?p.cachePool:null),p!==null?O_(a,p):rm(),k_(a);else return u=a.lanes=536870912,Nv(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Wu(a,p.cachePool),O_(a,p),rr(),a.memoizedState=null):(s!==null&&Wu(a,null),rm(),rr());return Ze(s,a,g,l),a.child}function Zl(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Nv(s,a,l,u,g){var p=Jd();return p=p===null?null:{parent:Ne._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Wu(a,null),rm(),k_(a),s!==null&&_o(s,a,u,!0),a.childLanes=g,null}function dh(s,a){return a=gh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Dv(s,a,l){return ma(a,s.child,null,l),s=dh(a,a.pendingProps),s.flags|=2,Dn(a),a.memoizedState=null,s}function hA(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Ft){if(u.mode==="hidden")return s=dh(a,u),a.lanes=536870912,Zl(null,s);if(om(a),(s=ce)?(s=q0(s,Yn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ws!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=g_(s),l.return=a,a.child=l,Qe=a,ce=null)):s=null,s===null)throw Js(a);return a.lanes=536870912,null}return dh(a,u)}var p=s.memoizedState;if(p!==null){var x=p.dehydrated;if(om(a),g)if(a.flags&256)a.flags&=-257,a=Dv(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Oe||_o(s,a,l,!1),g=(l&s.childLanes)!==0,Oe||g){if(u=le,u!==null&&(x=vl(u,l),x!==0&&x!==p.retryLane))throw p.retryLane=x,aa(s,x),En(u,s,x),Cm;wh(),a=Dv(s,a,l)}else s=p.treeContext,ce=Xn(x.nextSibling),Qe=a,Ft=!0,Zs=null,Yn=!1,s!==null&&__(a,s),a=dh(a,u),a.flags|=4096;return a}return s=us(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function mh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Im(s,a,l,u,g){return ua(a),l=cm(s,a,l,u,void 0,g),u=um(),s!==null&&!Oe?(hm(s,a,g),ps(s,a,g)):(Ft&&u&&qd(a),a.flags|=1,Ze(s,a,l,g),a.child)}function Ov(s,a,l,u,g,p){return ua(a),a.updateQueue=null,l=P_(a,u,l,g),V_(s),u=um(),s!==null&&!Oe?(hm(s,a,p),ps(s,a,p)):(Ft&&u&&qd(a),a.flags|=1,Ze(s,a,l,p),a.child)}function kv(s,a,l,u,g){if(ua(a),a.stateNode===null){var p=mo,x=l.contextType;typeof x=="object"&&x!==null&&(p=We(x)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Am,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},em(a),x=l.contextType,p.context=typeof x=="object"&&x!==null?We(x):mo,p.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Sm(a,l,x,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Am.enqueueReplaceState(p,p.state,null),Kl(a,u,p,g),Yl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var S=a.memoizedProps,P=pa(l,S);p.props=P;var Y=p.context,tt=l.contextType;x=mo,typeof tt=="object"&&tt!==null&&(x=We(tt));var it=l.getDerivedStateFromProps;tt=typeof it=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,tt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==x)&&bv(a,p,u,x),er=!1;var K=a.memoizedState;p.state=K,Kl(a,u,p,g),Yl(),Y=a.memoizedState,S||K!==Y||er?(typeof it=="function"&&(Sm(a,l,it,u),Y=a.memoizedState),(P=er||vv(a,l,P,u,K,Y,x))?(tt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=x,u=P):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,nm(s,a),x=a.memoizedProps,tt=pa(l,x),p.props=tt,it=a.pendingProps,K=p.context,Y=l.contextType,P=mo,typeof Y=="object"&&Y!==null&&(P=We(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==it||K!==P)&&bv(a,p,u,P),er=!1,K=a.memoizedState,p.state=K,Kl(a,u,p,g),Yl();var W=a.memoizedState;x!==it||K!==W||er||s!==null&&s.dependencies!==null&&$u(s.dependencies)?(typeof S=="function"&&(Sm(a,l,S,u),W=a.memoizedState),(tt=er||vv(a,l,tt,u,K,W,P)||s!==null&&s.dependencies!==null&&$u(s.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,P)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=P,u=tt):(typeof p.componentDidUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,mh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=ma(a,s.child,null,g),a.child=ma(a,null,l,g)):Ze(s,a,l,g),a.memoizedState=p.state,s=a.child):s=ps(s,a,g),s}function Vv(s,a,l,u){return la(),a.flags|=256,Ze(s,a,l,u),a.child}var Mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nm(s){return{baseLanes:s,cachePool:w_()}}function Dm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=kn),s}function Pv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,x;if((x=p)||(x=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),x&&(g=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ft){if(g?sr(a):rr(),(s=ce)?(s=q0(s,Yn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ws!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=g_(s),l.return=a,a.child=l,Qe=a,ce=null)):s=null,s===null)throw Js(a);return mg(s)?a.lanes=32:a.lanes=536870912,null}var S=u.children;return u=u.fallback,g?(rr(),g=a.mode,S=gh({mode:"hidden",children:S},g),u=oa(u,g,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,u=a.child,u.memoizedState=Nm(l),u.childLanes=Dm(s,x,l),a.memoizedState=Mm,Zl(null,u)):(sr(a),Om(a,S))}var P=s.memoizedState;if(P!==null&&(S=P.dehydrated,S!==null)){if(p)a.flags&256?(sr(a),a.flags&=-257,a=km(s,a,l)):a.memoizedState!==null?(rr(),a.child=s.child,a.flags|=128,a=null):(rr(),S=u.fallback,g=a.mode,u=gh({mode:"visible",children:u.children},g),S=oa(S,g,l,null),S.flags|=2,u.return=a,S.return=a,u.sibling=S,a.child=u,ma(a,s.child,null,l),u=a.child,u.memoizedState=Nm(l),u.childLanes=Dm(s,x,l),a.memoizedState=Mm,a=Zl(null,u));else if(sr(a),mg(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var Y=x.dgst;x=Y,u=Error(i(419)),u.stack="",u.digest=x,Ul({value:u,source:null,stack:null}),a=km(s,a,l)}else if(Oe||_o(s,a,l,!1),x=(l&s.childLanes)!==0,Oe||x){if(x=le,x!==null&&(u=vl(x,l),u!==0&&u!==P.retryLane))throw P.retryLane=u,aa(s,u),En(x,s,u),Cm;dg(S)||wh(),a=km(s,a,l)}else dg(S)?(a.flags|=192,a.child=s.child,a=null):(s=P.treeContext,ce=Xn(S.nextSibling),Qe=a,Ft=!0,Zs=null,Yn=!1,s!==null&&__(a,s),a=Om(a,u.children),a.flags|=4096);return a}return g?(rr(),S=u.fallback,g=a.mode,P=s.child,Y=P.sibling,u=us(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,Y!==null?S=us(Y,S):(S=oa(S,g,l,null),S.flags|=2),S.return=a,u.return=a,u.sibling=S,a.child=u,Zl(null,u),u=a.child,S=s.child.memoizedState,S===null?S=Nm(l):(g=S.cachePool,g!==null?(P=Ne._currentValue,g=g.parent!==P?{parent:P,pool:P}:g):g=w_(),S={baseLanes:S.baseLanes|l,cachePool:g}),u.memoizedState=S,u.childLanes=Dm(s,x,l),a.memoizedState=Mm,Zl(s.child,u)):(sr(a),l=s.child,s=l.sibling,l=us(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=l,a.memoizedState=null,l)}function Om(s,a){return a=gh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function gh(s,a){return s=Mn(22,s,null,a),s.lanes=0,s}function km(s,a,l){return ma(a,s.child,null,l),s=Om(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Lv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),$d(s.return,a,l)}function Vm(s,a,l,u,g,p){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=g,x.treeForkCount=p)}function jv(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var x=Te.current,S=(x&2)!==0;if(S?(x=x&1|2,a.flags|=128):x&=1,lt(Te,x),Ze(s,a,u,l),u=Ft?zl:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lv(s,l,a);else if(s.tag===19)Lv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&ih(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Vm(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&ih(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Vm(a,!0,l,null,p,u);break;case"together":Vm(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ps(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),lr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(_o(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=us(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=us(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Pm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&$u(s)))}function fA(s,a,l){switch(a.tag){case 3:ne(a,a.stateNode.containerInfo),tr(a,Ne,s.memoizedState.cache),la();break;case 27:case 5:Fr(a);break;case 4:ne(a,a.stateNode.containerInfo);break;case 10:tr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,om(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(sr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Pv(s,a,l):(sr(a),s=ps(s,a,l),s!==null?s.sibling:null);sr(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(_o(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return jv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(Te,Te.current),u)break;return null;case 22:return a.lanes=0,Mv(s,a,l,a.pendingProps);case 24:tr(a,Ne,s.memoizedState.cache)}return ps(s,a,l)}function zv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Oe=!0;else{if(!Pm(s,l)&&(a.flags&128)===0)return Oe=!1,fA(s,a,l);Oe=(s.flags&131072)!==0}else Oe=!1,Ft&&(a.flags&1048576)!==0&&y_(a,zl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=fa(a.elementType),a.type=s,typeof s=="function")Bd(s)?(u=pa(s,u),a.tag=1,a=kv(null,a,s,u,l)):(a.tag=0,a=Im(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===J){a.tag=11,a=Rv(null,a,s,u,l);break t}else if(g===N){a.tag=14,a=Cv(null,a,s,u,l);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return Im(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=pa(u,a.pendingProps),kv(s,a,u,g,l);case 3:t:{if(ne(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,nm(s,a),Kl(a,u,null,l);var x=a.memoizedState;if(u=x.cache,tr(a,Ne,u),u!==p.cache&&Qd(a,[Ne],l,!0),Yl(),u=x.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Vv(s,a,u,l);break t}else if(u!==g){g=Hn(Error(i(424)),a),Ul(g),a=Vv(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ce=Xn(s.firstChild),Qe=a,Ft=!0,Zs=null,Yn=!0,l=M_(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(la(),u===g){a=ps(s,a,l);break t}Ze(s,a,u,l)}a=a.child}return a;case 26:return mh(s,a),s===null?(l=Q0(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ft||(l=a.type,s=a.pendingProps,u=Nh(gt.current).createElement(l),u[Ce]=a,u[qe]=s,Je(u,l,s),Ie(u),a.stateNode=u):a.memoizedState=Q0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Fr(a),s===null&&Ft&&(u=a.stateNode=K0(a.type,a.pendingProps,gt.current),Qe=a,Yn=!0,g=ce,dr(a.type)?(gg=g,ce=Xn(u.firstChild)):ce=g),Ze(s,a,a.pendingProps.children,l),mh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ft&&((g=u=ce)&&(u=FA(u,a.type,a.pendingProps,Yn),u!==null?(a.stateNode=u,Qe=a,ce=Xn(u.firstChild),Yn=!1,g=!0):g=!1),g||Js(a)),Fr(a),g=a.type,p=a.pendingProps,x=s!==null?s.memoizedProps:null,u=p.children,ug(g,p)?u=null:x!==null&&ug(g,x)&&(a.flags|=32),a.memoizedState!==null&&(g=cm(s,a,iA,null,null,l),dc._currentValue=g),mh(s,a),Ze(s,a,u,l),a.child;case 6:return s===null&&Ft&&((s=l=ce)&&(l=HA(l,a.pendingProps,Yn),l!==null?(a.stateNode=l,Qe=a,ce=null,s=!0):s=!1),s||Js(a)),null;case 13:return Pv(s,a,l);case 4:return ne(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=ma(a,null,u,l):Ze(s,a,u,l),a.child;case 11:return Rv(s,a,a.type,a.pendingProps,l);case 7:return Ze(s,a,a.pendingProps,l),a.child;case 8:return Ze(s,a,a.pendingProps.children,l),a.child;case 12:return Ze(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,tr(a,a.type,u.value),Ze(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,ua(a),g=We(g),u=u(g),a.flags|=1,Ze(s,a,u,l),a.child;case 14:return Cv(s,a,a.type,a.pendingProps,l);case 15:return Iv(s,a,a.type,a.pendingProps,l);case 19:return jv(s,a,l);case 31:return hA(s,a,l);case 22:return Mv(s,a,l,a.pendingProps);case 24:return ua(a),u=We(Ne),s===null?(g=Jd(),g===null&&(g=le,p=Wd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},em(a),tr(a,Ne,g)):((s.lanes&l)!==0&&(nm(s,a),Kl(a,null,null,l),Yl()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),tr(a,Ne,u)):(u=p.cache,tr(a,Ne,u),u!==g.cache&&Qd(a,[Ne],l,!0))),Ze(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ys(s){s.flags|=4}function Lm(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(f0())s.flags|=8192;else throw da=Ju,tm}else s.flags&=-16777217}function Uv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!eb(a))if(f0())s.flags|=8192;else throw da=Ju,tm}function ph(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Tu():536870912,s.lanes|=a,Mo|=a)}function Jl(s,a){if(!Ft)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ue(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function dA(s,a,l){var u=a.pendingProps;switch(Gd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(a),null;case 1:return ue(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ds(Ne),ie(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(yo(a)?ys(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Kd())),ue(a),null;case 26:var g=a.type,p=a.memoizedState;return s===null?(ys(a),p!==null?(ue(a),Uv(a,p)):(ue(a),Lm(a,g,null,u,l))):p?p!==s.memoizedState?(ys(a),ue(a),Uv(a,p)):(ue(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&ys(a),ue(a),Lm(a,g,s,u,l)),null;case 27:if(Xa(a),l=gt.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}s=ct.current,yo(a)?v_(a):(s=K0(g,u,l),a.stateNode=s,ys(a))}return ue(a),null;case 5:if(Xa(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}if(p=ct.current,yo(a))v_(a);else{var x=Nh(gt.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?x.createElement(g,{is:u.is}):x.createElement(g)}}p[Ce]=a,p[qe]=u;t:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break t;for(;x.sibling===null;){if(x.return===null||x.return===a)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=p;t:switch(Je(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ys(a)}}return ue(a),Lm(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=gt.current,yo(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=Qe,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Ce]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||P0(s.nodeValue,l)),s||Js(a,!0)}else s=Nh(s).createTextNode(u),s[Ce]=a,a.stateNode=s}return ue(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=yo(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ce]=a}else la(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),s=!1}else l=Kd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Dn(a),a):(Dn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ue(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=yo(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ce]=a}else la(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),g=!1}else g=Kd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Dn(a),a):(Dn(a),null)}return Dn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),ph(a,a.updateQueue),ue(a),null);case 4:return ie(),s===null&&rg(a.stateNode.containerInfo),ue(a),null;case 10:return ds(a.type),ue(a),null;case 19:if(Z(Te),u=a.memoizedState,u===null)return ue(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)Jl(u,!1);else{if(_e!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=ih(s),p!==null){for(a.flags|=128,Jl(u,!1),s=p.updateQueue,a.updateQueue=s,ph(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)m_(l,s),l=l.sibling;return lt(Te,Te.current&1|2),Ft&&hs(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&mn()>xh&&(a.flags|=128,g=!0,Jl(u,!1),a.lanes=4194304)}else{if(!g)if(s=ih(p),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,ph(a,s),Jl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ft)return ue(a),null}else 2*mn()-u.renderingStartTime>xh&&l!==536870912&&(a.flags|=128,g=!0,Jl(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=mn(),s.sibling=null,l=Te.current,lt(Te,g?l&1|2:l&1),Ft&&hs(a,u.treeForkCount),s):(ue(a),null);case 22:case 23:return Dn(a),am(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ue(a),a.subtreeFlags&6&&(a.flags|=8192)):ue(a),l=a.updateQueue,l!==null&&ph(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&Z(ha),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ds(Ne),ue(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function mA(s,a){switch(Gd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ds(Ne),ie(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Xa(a),null;case 31:if(a.memoizedState!==null){if(Dn(a),a.alternate===null)throw Error(i(340));la()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Dn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));la()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Z(Te),null;case 4:return ie(),null;case 10:return ds(a.type),null;case 22:case 23:return Dn(a),am(),s!==null&&Z(ha),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ds(Ne),null;case 25:return null;default:return null}}function Bv(s,a){switch(Gd(a),a.tag){case 3:ds(Ne),ie();break;case 26:case 27:case 5:Xa(a);break;case 4:ie();break;case 31:a.memoizedState!==null&&Dn(a);break;case 13:Dn(a);break;case 19:Z(Te);break;case 10:ds(a.type);break;case 22:case 23:Dn(a),am(),s!==null&&Z(ha);break;case 24:ds(Ne)}}function tc(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,x=l.inst;u=p(),x.destroy=u}l=l.next}while(l!==g)}}catch(S){Jt(a,a.return,S)}}function ar(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,g=a;var P=l,Y=S;try{Y()}catch(tt){Jt(g,P,tt)}}}u=u.next}while(u!==p)}}catch(tt){Jt(a,a.return,tt)}}function Fv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{D_(a,l)}catch(u){Jt(s,s.return,u)}}}function Hv(s,a,l){l.props=pa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,a,u)}}function ec(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,a,g)}}function Ui(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,a,g)}else l.current=null}function qv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function jm(s,a,l){try{var u=s.stateNode;PA(u,s.type,l,a),u[qe]=a}catch(g){Jt(s,s.return,g)}}function Gv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&dr(s.type)||s.tag===4}function zm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Gv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&dr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Um(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=oi));else if(u!==4&&(u===27&&dr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Um(s,a,l),s=s.sibling;s!==null;)Um(s,a,l),s=s.sibling}function yh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&dr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(yh(s,a,l),s=s.sibling;s!==null;)yh(s,a,l),s=s.sibling}function Yv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Je(a,u,l),a[Ce]=s,a[qe]=l}catch(p){Jt(s,s.return,p)}}var _s=!1,ke=!1,Bm=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function gA(s,a){if(s=s.containerInfo,lg=jh,s=r_(s),kd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var x=0,S=-1,P=-1,Y=0,tt=0,it=s,K=null;e:for(;;){for(var W;it!==l||g!==0&&it.nodeType!==3||(S=x+g),it!==p||u!==0&&it.nodeType!==3||(P=x+u),it.nodeType===3&&(x+=it.nodeValue.length),(W=it.firstChild)!==null;)K=it,it=W;for(;;){if(it===s)break e;if(K===l&&++Y===g&&(S=x),K===p&&++tt===u&&(P=x),(W=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=W}l=S===-1||P===-1?null:{start:S,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(cg={focusedElem:s,selectionRange:l},jh=!1,Ye=a;Ye!==null;)if(a=Ye,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ye=s;else for(;Ye!==null;){switch(a=Ye,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var mt=pa(l.type,g);s=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(xt){Jt(l,l.return,xt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)fg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":fg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ye=s;break}Ye=a.return}}function Xv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:bs(s,l),u&4&&tc(5,l);break;case 1:if(bs(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(x){Jt(l,l.return,x)}else{var g=pa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){Jt(l,l.return,x)}}u&64&&Fv(l),u&512&&ec(l,l.return);break;case 3:if(bs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{D_(s,a)}catch(x){Jt(l,l.return,x)}}break;case 27:a===null&&u&4&&Yv(l);case 26:case 5:bs(s,l),a===null&&u&4&&qv(l),u&512&&ec(l,l.return);break;case 12:bs(s,l);break;case 31:bs(s,l),u&4&&Wv(s,l);break;case 13:bs(s,l),u&4&&Zv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=wA.bind(null,l),qA(s,l))));break;case 22:if(u=l.memoizedState!==null||_s,!u){a=a!==null&&a.memoizedState!==null||ke,g=_s;var p=ke;_s=u,(ke=a)&&!p?xs(s,l,(l.subtreeFlags&8772)!==0):bs(s,l),_s=g,ke=p}break;case 30:break;default:bs(s,l)}}function $v(s){var a=s.alternate;a!==null&&(s.alternate=null,$v(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ja(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ge=null,vn=!1;function vs(s,a,l){for(l=l.child;l!==null;)Qv(s,a,l),l=l.sibling}function Qv(s,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ii,l)}catch{}switch(l.tag){case 26:ke||Ui(l,a),vs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ke||Ui(l,a);var u=ge,g=vn;dr(l.type)&&(ge=l.stateNode,vn=!1),vs(s,a,l),uc(l.stateNode),ge=u,vn=g;break;case 5:ke||Ui(l,a);case 6:if(u=ge,g=vn,ge=null,vs(s,a,l),ge=u,vn=g,ge!==null)if(vn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(l.stateNode)}catch(p){Jt(l,a,p)}else try{ge.removeChild(l.stateNode)}catch(p){Jt(l,a,p)}break;case 18:ge!==null&&(vn?(s=ge,F0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),jo(s)):F0(ge,l.stateNode));break;case 4:u=ge,g=vn,ge=l.stateNode.containerInfo,vn=!0,vs(s,a,l),ge=u,vn=g;break;case 0:case 11:case 14:case 15:ar(2,l,a),ke||ar(4,l,a),vs(s,a,l);break;case 1:ke||(Ui(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Hv(l,a,u)),vs(s,a,l);break;case 21:vs(s,a,l);break;case 22:ke=(u=ke)||l.memoizedState!==null,vs(s,a,l),ke=u;break;default:vs(s,a,l)}}function Wv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{jo(s)}catch(l){Jt(a,a.return,l)}}}function Zv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{jo(s)}catch(l){Jt(a,a.return,l)}}function pA(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Kv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Kv),a;default:throw Error(i(435,s.tag))}}function _h(s,a){var l=pA(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=SA.bind(null,s,u);u.then(g,g)}})}function bn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,x=a,S=x;t:for(;S!==null;){switch(S.tag){case 27:if(dr(S.type)){ge=S.stateNode,vn=!1;break t}break;case 5:ge=S.stateNode,vn=!1;break t;case 3:case 4:ge=S.stateNode.containerInfo,vn=!0;break t}S=S.return}if(ge===null)throw Error(i(160));Qv(p,x,g),ge=null,vn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Jv(a,s),a=a.sibling}var di=null;function Jv(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:bn(a,s),xn(s),u&4&&(ar(3,s,s.return),tc(3,s),ar(5,s,s.return));break;case 1:bn(a,s),xn(s),u&512&&(ke||l===null||Ui(l,l.return)),u&64&&_s&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=di;if(bn(a,s),xn(s),u&512&&(ke||l===null||Ui(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Ai]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Je(p,u,l),p[Ce]=s,Ie(p),u=p;break t;case"link":var x=J0("link","href",g).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(p=x[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;case"meta":if(x=J0("meta","content",g).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(p=x[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ce]=s,Ie(p),u=p}s.stateNode=u}else tb(g,s.type,s.stateNode);else s.stateNode=Z0(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?tb(g,s.type,s.stateNode):Z0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&jm(s,s.memoizedProps,l.memoizedProps)}break;case 27:bn(a,s),xn(s),u&512&&(ke||l===null||Ui(l,l.return)),l!==null&&u&4&&jm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(bn(a,s),xn(s),u&512&&(ke||l===null||Ui(l,l.return)),s.flags&32){g=s.stateNode;try{_n(g,"")}catch(mt){Jt(s,s.return,mt)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,jm(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Bm=!0);break;case 6:if(bn(a,s),xn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(mt){Jt(s,s.return,mt)}}break;case 3:if(kh=null,g=di,di=Dh(a.containerInfo),bn(a,s),di=g,xn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{jo(a.containerInfo)}catch(mt){Jt(s,s.return,mt)}Bm&&(Bm=!1,t0(s));break;case 4:u=di,di=Dh(s.stateNode.containerInfo),bn(a,s),xn(s),di=u;break;case 12:bn(a,s),xn(s);break;case 31:bn(a,s),xn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,_h(s,u)));break;case 13:bn(a,s),xn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bh=mn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,_h(s,u)));break;case 22:g=s.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,Y=_s,tt=ke;if(_s=Y||g,ke=tt||P,bn(a,s),ke=tt,_s=Y,xn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||P||_s||ke||ya(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){P=l=a;try{if(p=P.stateNode,g)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=P.stateNode;var it=P.memoizedProps.style,K=it!=null&&it.hasOwnProperty("display")?it.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(mt){Jt(P,P.return,mt)}}}else if(a.tag===6){if(l===null){P=a;try{P.stateNode.nodeValue=g?"":P.memoizedProps}catch(mt){Jt(P,P.return,mt)}}}else if(a.tag===18){if(l===null){P=a;try{var W=P.stateNode;g?H0(W,!0):H0(P.stateNode,!1)}catch(mt){Jt(P,P.return,mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,_h(s,l))));break;case 19:bn(a,s),xn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,_h(s,u)));break;case 30:break;case 21:break;default:bn(a,s),xn(s)}}function xn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Gv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=zm(s);yh(s,p,g);break;case 5:var x=l.stateNode;l.flags&32&&(_n(x,""),l.flags&=-33);var S=zm(s);yh(s,S,x);break;case 3:case 4:var P=l.stateNode.containerInfo,Y=zm(s);Um(s,Y,P);break;default:throw Error(i(161))}}catch(tt){Jt(s,s.return,tt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function t0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;t0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function bs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Xv(s,a.alternate,a),a=a.sibling}function ya(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ar(4,a,a.return),ya(a);break;case 1:Ui(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Hv(a,a.return,l),ya(a);break;case 27:uc(a.stateNode);case 26:case 5:Ui(a,a.return),ya(a);break;case 22:a.memoizedState===null&&ya(a);break;case 30:ya(a);break;default:ya(a)}s=s.sibling}}function xs(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,x=p.flags;switch(p.tag){case 0:case 11:case 15:xs(g,p,l),tc(4,p);break;case 1:if(xs(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){Jt(u,u.return,Y)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var P=g.shared.hiddenCallbacks;if(P!==null)for(g.shared.hiddenCallbacks=null,g=0;g<P.length;g++)N_(P[g],S)}catch(Y){Jt(u,u.return,Y)}}l&&x&64&&Fv(p),ec(p,p.return);break;case 27:Yv(p);case 26:case 5:xs(g,p,l),l&&u===null&&x&4&&qv(p),ec(p,p.return);break;case 12:xs(g,p,l);break;case 31:xs(g,p,l),l&&x&4&&Wv(g,p);break;case 13:xs(g,p,l),l&&x&4&&Zv(g,p);break;case 22:p.memoizedState===null&&xs(g,p,l),ec(p,p.return);break;case 30:break;default:xs(g,p,l)}a=a.sibling}}function Fm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Bl(l))}function Hm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Bl(s))}function mi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)e0(s,a,l,u),a=a.sibling}function e0(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:mi(s,a,l,u),g&2048&&tc(9,a);break;case 1:mi(s,a,l,u);break;case 3:mi(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Bl(s)));break;case 12:if(g&2048){mi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,x=p.id,S=p.onPostCommit;typeof S=="function"&&S(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(P){Jt(a,a.return,P)}}else mi(s,a,l,u);break;case 31:mi(s,a,l,u);break;case 13:mi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,x=a.alternate,a.memoizedState!==null?p._visibility&2?mi(s,a,l,u):nc(s,a):p._visibility&2?mi(s,a,l,u):(p._visibility|=2,Ro(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Fm(x,a);break;case 24:mi(s,a,l,u),g&2048&&Hm(a.alternate,a);break;default:mi(s,a,l,u)}}function Ro(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,x=a,S=l,P=u,Y=x.flags;switch(x.tag){case 0:case 11:case 15:Ro(p,x,S,P,g),tc(8,x);break;case 23:break;case 22:var tt=x.stateNode;x.memoizedState!==null?tt._visibility&2?Ro(p,x,S,P,g):nc(p,x):(tt._visibility|=2,Ro(p,x,S,P,g)),g&&Y&2048&&Fm(x.alternate,x);break;case 24:Ro(p,x,S,P,g),g&&Y&2048&&Hm(x.alternate,x);break;default:Ro(p,x,S,P,g)}a=a.sibling}}function nc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:nc(l,u),g&2048&&Fm(u.alternate,u);break;case 24:nc(l,u),g&2048&&Hm(u.alternate,u);break;default:nc(l,u)}a=a.sibling}}var ic=8192;function Co(s,a,l){if(s.subtreeFlags&ic)for(s=s.child;s!==null;)n0(s,a,l),s=s.sibling}function n0(s,a,l){switch(s.tag){case 26:Co(s,a,l),s.flags&ic&&s.memoizedState!==null&&nR(l,di,s.memoizedState,s.memoizedProps);break;case 5:Co(s,a,l);break;case 3:case 4:var u=di;di=Dh(s.stateNode.containerInfo),Co(s,a,l),di=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=ic,ic=16777216,Co(s,a,l),ic=u):Co(s,a,l));break;default:Co(s,a,l)}}function i0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function sc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,r0(u,s)}i0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)s0(s),s=s.sibling}function s0(s){switch(s.tag){case 0:case 11:case 15:sc(s),s.flags&2048&&ar(9,s,s.return);break;case 3:sc(s);break;case 12:sc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,vh(s)):sc(s);break;default:sc(s)}}function vh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,r0(u,s)}i0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ar(8,a,a.return),vh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,vh(a));break;default:vh(a)}s=s.sibling}}function r0(s,a){for(;Ye!==null;){var l=Ye;switch(l.tag){case 0:case 11:case 15:ar(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ye=u;else t:for(l=s;Ye!==null;){u=Ye;var g=u.sibling,p=u.return;if($v(u),u===l){Ye=null;break t}if(g!==null){g.return=p,Ye=g;break t}Ye=p}}}var yA={getCacheForType:function(s){var a=We(Ne),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return We(Ne).controller.signal}},_A=typeof WeakMap=="function"?WeakMap:Map,Xt=0,le=null,Vt=null,Lt=0,Zt=0,On=null,or=!1,Io=!1,qm=!1,Ts=0,_e=0,lr=0,_a=0,Gm=0,kn=0,Mo=0,rc=null,Tn=null,Ym=!1,bh=0,a0=0,xh=1/0,Th=null,cr=null,je=0,ur=null,No=null,Es=0,Km=0,Xm=null,o0=null,ac=0,$m=null;function Vn(){return(Xt&2)!==0&&Lt!==0?Lt&-Lt:X.T!==null?eg():Eu()}function l0(){if(kn===0)if((Lt&536870912)===0||Ft){var s=Gr;Gr<<=1,(Gr&3932160)===0&&(Gr=262144),kn=s}else kn=536870912;return s=Nn.current,s!==null&&(s.flags|=32),kn}function En(s,a,l){(s===le&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Do(s,0),hr(s,Lt,kn,!1)),Yr(s,l),((Xt&2)===0||s!==le)&&(s===le&&((Xt&2)===0&&(_a|=l),_e===4&&hr(s,Lt,kn,!1)),Bi(s))}function c0(s,a,l){if((Xt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||si(s,a),g=u?xA(s,a):Wm(s,a,!0),p=u;do{if(g===0){Io&&!u&&hr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!vA(l)){g=Wm(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var S=s;g=rc;var P=S.current.memoizedState.isDehydrated;if(P&&(Do(S,x).flags|=256),x=Wm(S,x,!1),x!==2){if(qm&&!P){S.errorRecoveryDisabledLanes|=p,_a|=p,g=4;break t}p=Tn,Tn=g,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}g=x}if(p=!1,g!==2)continue}}if(g===1){Do(s,0),hr(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:hr(u,a,kn,!or);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=bh+300-mn(),10<g)){if(hr(u,a,kn,!or),Ei(u,0,!0)!==0)break t;Es=a,u.timeoutHandle=U0(u0.bind(null,u,l,Tn,Th,Ym,a,kn,_a,Mo,or,p,"Throttled",-0,0),g);break t}u0(u,l,Tn,Th,Ym,a,kn,_a,Mo,or,p,null,-0,0)}}break}while(!0);Bi(s)}function u0(s,a,l,u,g,p,x,S,P,Y,tt,it,K,W){if(s.timeoutHandle=-1,it=a.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},n0(a,p,it);var mt=(p&62914560)===p?bh-mn():(p&4194048)===p?a0-mn():0;if(mt=iR(it,mt),mt!==null){Es=p,s.cancelPendingCommit=mt(_0.bind(null,s,a,p,l,u,g,x,S,P,tt,it,null,K,W)),hr(s,p,x,!Y);return}}_0(s,a,p,l,u,g,x,S,P)}function vA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!In(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function hr(s,a,l,u){a&=~Gm,a&=~_a,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-be(g),x=1<<p;u[p]=-1,g&=~x}l!==0&&Kr(s,l,a)}function Eh(){return(Xt&6)===0?(oc(0),!1):!0}function Qm(){if(Vt!==null){if(Zt===0)var s=Vt.return;else s=Vt,fs=ca=null,fm(s),To=null,Hl=0,s=Vt;for(;s!==null;)Bv(s.alternate,s),s=s.return;Vt=null}}function Do(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,zA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Es=0,Qm(),le=s,Vt=l=us(s.current,null),Lt=a,Zt=0,On=null,or=!1,Io=si(s,a),qm=!1,Mo=kn=Gm=_a=lr=_e=0,Tn=rc=null,Ym=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-be(u),p=1<<g;a|=s[g],u&=~p}return Ts=a,qu(),l}function h0(s,a){Mt=null,X.H=Wl,a===xo||a===Zu?(a=R_(),Zt=3):a===tm?(a=R_(),Zt=4):Zt=a===Cm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,On=a,Vt===null&&(_e=1,fh(s,Hn(a,s.current)))}function f0(){var s=Nn.current;return s===null?!0:(Lt&4194048)===Lt?Kn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?s===Kn:!1}function d0(){var s=X.H;return X.H=Wl,s===null?Wl:s}function m0(){var s=X.A;return X.A=yA,s}function wh(){_e=4,or||(Lt&4194048)!==Lt&&Nn.current!==null||(Io=!0),(lr&134217727)===0&&(_a&134217727)===0||le===null||hr(le,Lt,kn,!1)}function Wm(s,a,l){var u=Xt;Xt|=2;var g=d0(),p=m0();(le!==s||Lt!==a)&&(Th=null,Do(s,a)),a=!1;var x=_e;t:do try{if(Zt!==0&&Vt!==null){var S=Vt,P=On;switch(Zt){case 8:Qm(),x=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(a=!0);var Y=Zt;if(Zt=0,On=null,Oo(s,S,P,Y),l&&Io){x=0;break t}break;default:Y=Zt,Zt=0,On=null,Oo(s,S,P,Y)}}bA(),x=_e;break}catch(tt){h0(s,tt)}while(!0);return a&&s.shellSuspendCounter++,fs=ca=null,Xt=u,X.H=g,X.A=p,Vt===null&&(le=null,Lt=0,qu()),x}function bA(){for(;Vt!==null;)g0(Vt)}function xA(s,a){var l=Xt;Xt|=2;var u=d0(),g=m0();le!==s||Lt!==a?(Th=null,xh=mn()+500,Do(s,a)):Io=si(s,a);t:do try{if(Zt!==0&&Vt!==null){a=Vt;var p=On;e:switch(Zt){case 1:Zt=0,On=null,Oo(s,a,p,1);break;case 2:case 9:if(S_(p)){Zt=0,On=null,p0(a);break}a=function(){Zt!==2&&Zt!==9||le!==s||(Zt=7),Bi(s)},p.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:S_(p)?(Zt=0,On=null,p0(a)):(Zt=0,On=null,Oo(s,a,p,7));break;case 5:var x=null;switch(Vt.tag){case 26:x=Vt.memoizedState;case 5:case 27:var S=Vt;if(x?eb(x):S.stateNode.complete){Zt=0,On=null;var P=S.sibling;if(P!==null)Vt=P;else{var Y=S.return;Y!==null?(Vt=Y,Sh(Y)):Vt=null}break e}}Zt=0,On=null,Oo(s,a,p,5);break;case 6:Zt=0,On=null,Oo(s,a,p,6);break;case 8:Qm(),_e=6;break t;default:throw Error(i(462))}}TA();break}catch(tt){h0(s,tt)}while(!0);return fs=ca=null,X.H=u,X.A=g,Xt=l,Vt!==null?0:(le=null,Lt=0,qu(),_e)}function TA(){for(;Vt!==null&&!Rd();)g0(Vt)}function g0(s){var a=zv(s.alternate,s,Ts);s.memoizedProps=s.pendingProps,a===null?Sh(s):Vt=a}function p0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Ov(l,a,a.pendingProps,a.type,void 0,Lt);break;case 11:a=Ov(l,a,a.pendingProps,a.type.render,a.ref,Lt);break;case 5:fm(a);default:Bv(l,a),a=Vt=m_(a,Ts),a=zv(l,a,Ts)}s.memoizedProps=s.pendingProps,a===null?Sh(s):Vt=a}function Oo(s,a,l,u){fs=ca=null,fm(a),To=null,Hl=0;var g=a.return;try{if(uA(s,g,a,l,Lt)){_e=1,fh(s,Hn(l,s.current)),Vt=null;return}}catch(p){if(g!==null)throw Vt=g,p;_e=1,fh(s,Hn(l,s.current)),Vt=null;return}a.flags&32768?(Ft||u===1?s=!0:Io||(Lt&536870912)!==0?s=!1:(or=s=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),y0(a,s)):Sh(a)}function Sh(s){var a=s;do{if((a.flags&32768)!==0){y0(a,or);return}s=a.return;var l=dA(a.alternate,a,Ts);if(l!==null){Vt=l;return}if(a=a.sibling,a!==null){Vt=a;return}Vt=a=s}while(a!==null);_e===0&&(_e=5)}function y0(s,a){do{var l=mA(s.alternate,s);if(l!==null){l.flags&=32767,Vt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Vt=s;return}Vt=s=l}while(s!==null);_e=6,Vt=null}function _0(s,a,l,u,g,p,x,S,P){s.cancelPendingCommit=null;do Ah();while(je!==0);if((Xt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=zd,Md(s,l,p,x,S,P),s===le&&(Vt=le=null,Lt=0),No=a,ur=s,Es=l,Km=p,Xm=g,o0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,AA(Bs,function(){return E0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,g=ot.p,ot.p=2,x=Xt,Xt|=4;try{gA(s,a,l)}finally{Xt=x,ot.p=g,X.T=u}}je=1,v0(),b0(),x0()}}function v0(){if(je===1){je=0;var s=ur,a=No,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var u=ot.p;ot.p=2;var g=Xt;Xt|=4;try{Jv(a,s);var p=cg,x=r_(s.containerInfo),S=p.focusedElem,P=p.selectionRange;if(x!==S&&S&&S.ownerDocument&&s_(S.ownerDocument.documentElement,S)){if(P!==null&&kd(S)){var Y=P.start,tt=P.end;if(tt===void 0&&(tt=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(tt,S.value.length);else{var it=S.ownerDocument||document,K=it&&it.defaultView||window;if(K.getSelection){var W=K.getSelection(),mt=S.textContent.length,xt=Math.min(P.start,mt),oe=P.end===void 0?xt:Math.min(P.end,mt);!W.extend&&xt>oe&&(x=oe,oe=xt,xt=x);var B=i_(S,xt),U=i_(S,oe);if(B&&U&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var G=it.createRange();G.setStart(B.node,B.offset),W.removeAllRanges(),xt>oe?(W.addRange(G),W.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),W.addRange(G))}}}}for(it=[],W=S;W=W.parentNode;)W.nodeType===1&&it.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<it.length;S++){var et=it[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}jh=!!lg,cg=lg=null}finally{Xt=g,ot.p=u,X.T=l}}s.current=a,je=2}}function b0(){if(je===2){je=0;var s=ur,a=No,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var u=ot.p;ot.p=2;var g=Xt;Xt|=4;try{Xv(s,a.alternate,a)}finally{Xt=g,ot.p=u,X.T=l}}je=3}}function x0(){if(je===4||je===3){je=0,pu();var s=ur,a=No,l=Es,u=o0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?je=5:(je=0,No=ur=null,T0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(cr=null),as(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ii,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=X.T,g=ot.p,ot.p=2,X.T=null;try{for(var p=s.onRecoverableError,x=0;x<u.length;x++){var S=u[x];p(S.value,{componentStack:S.stack})}}finally{X.T=a,ot.p=g}}(Es&3)!==0&&Ah(),Bi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===$m?ac++:(ac=0,$m=s):ac=0,oc(0)}}function T0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Bl(a)))}function Ah(){return v0(),b0(),x0(),E0()}function E0(){if(je!==5)return!1;var s=ur,a=Km;Km=0;var l=as(Es),u=X.T,g=ot.p;try{ot.p=32>l?32:l,X.T=null,l=Xm,Xm=null;var p=ur,x=Es;if(je=0,No=ur=null,Es=0,(Xt&6)!==0)throw Error(i(331));var S=Xt;if(Xt|=4,s0(p.current),e0(p,p.current,x,l),Xt=S,oc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ii,p)}catch{}return!0}finally{ot.p=g,X.T=u,T0(s,a)}}function w0(s,a,l){a=Hn(l,a),a=Rm(s.stateNode,a,2),s=ir(s,a,2),s!==null&&(Yr(s,2),Bi(s))}function Jt(s,a,l){if(s.tag===3)w0(s,s,l);else for(;a!==null;){if(a.tag===3){w0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cr===null||!cr.has(u))){s=Hn(l,s),l=Sv(2),u=ir(a,l,2),u!==null&&(Av(l,u,a,s),Yr(u,2),Bi(u));break}}a=a.return}}function Zm(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new _A;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(qm=!0,g.add(l),s=EA.bind(null,s,a,l),a.then(s,s))}function EA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,le===s&&(Lt&l)===l&&(_e===4||_e===3&&(Lt&62914560)===Lt&&300>mn()-bh?(Xt&2)===0&&Do(s,0):Gm|=l,Mo===Lt&&(Mo=0)),Bi(s)}function S0(s,a){a===0&&(a=Tu()),s=aa(s,a),s!==null&&(Yr(s,a),Bi(s))}function wA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),S0(s,l)}function SA(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),S0(s,l)}function AA(s,a){return Le(s,a)}var Rh=null,ko=null,Jm=!1,Ch=!1,tg=!1,fr=0;function Bi(s){s!==ko&&s.next===null&&(ko===null?Rh=ko=s:ko=ko.next=s),Ch=!0,Jm||(Jm=!0,CA())}function oc(s,a){if(!tg&&Ch){tg=!0;do for(var l=!1,u=Rh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var x=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-be(42|s)+1)-1,p&=g&~(x&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,I0(u,p))}else p=Lt,p=Ei(u,u===le?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||si(u,p)||(l=!0,I0(u,p));u=u.next}while(l);tg=!1}}function RA(){A0()}function A0(){Ch=Jm=!1;var s=0;fr!==0&&jA()&&(s=fr);for(var a=mn(),l=null,u=Rh;u!==null;){var g=u.next,p=R0(u,a);p===0?(u.next=null,l===null?Rh=g:l.next=g,g===null&&(ko=l)):(l=u,(s!==0||(p&3)!==0)&&(Ch=!0)),u=g}je!==0&&je!==5||oc(s),fr!==0&&(fr=0)}function R0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var x=31-be(p),S=1<<x,P=g[x];P===-1?((S&l)===0||(S&u)!==0)&&(g[x]=Id(S,a)):P<=a&&(s.expiredLanes|=S),p&=~S}if(a=le,l=Lt,l=Ei(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Us(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||si(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Us(u),as(l)){case 2:case 8:l=yl;break;case 32:l=Bs;break;case 268435456:l=yu;break;default:l=Bs}return u=C0.bind(null,s),l=Le(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Us(u),s.callbackPriority=2,s.callbackNode=null,2}function C0(s,a){if(je!==0&&je!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Ah()&&s.callbackNode!==l)return null;var u=Lt;return u=Ei(s,s===le?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(c0(s,u,a),R0(s,mn()),s.callbackNode!=null&&s.callbackNode===l?C0.bind(null,s):null)}function I0(s,a){if(Ah())return null;c0(s,a,!0)}function CA(){UA(function(){(Xt&6)!==0?Le(pl,RA):A0()})}function eg(){if(fr===0){var s=vo;s===0&&(s=xi,xi<<=1,(xi&261888)===0&&(xi=256)),fr=s}return fr}function M0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:io(""+s)}function N0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function IA(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=M0((g[qe]||null).action),x=u.submitter;x&&(a=(a=x[qe]||null)?M0(a.formAction):x.getAttribute("formAction"),a!==null&&(p=a,x=null));var S=new ki("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fr!==0){var P=x?N0(g,x):new FormData(g);xm(l,{pending:!0,data:P,method:g.method,action:p},null,P)}}else typeof p=="function"&&(S.preventDefault(),P=x?N0(g,x):new FormData(g),xm(l,{pending:!0,data:P,method:g.method,action:p},p,P))},currentTarget:g}]})}}for(var ng=0;ng<jd.length;ng++){var ig=jd[ng],MA=ig.toLowerCase(),NA=ig[0].toUpperCase()+ig.slice(1);fi(MA,"on"+NA)}fi(l_,"onAnimationEnd"),fi(c_,"onAnimationIteration"),fi(u_,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(K1,"onTransitionRun"),fi(X1,"onTransitionStart"),fi($1,"onTransitionCancel"),fi(h_,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lc));function D0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var x=u.length-1;0<=x;x--){var S=u[x],P=S.instance,Y=S.currentTarget;if(S=S.listener,P!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=Y;try{p(g)}catch(tt){Hu(tt)}g.currentTarget=null,p=P}else for(x=0;x<u.length;x++){if(S=u[x],P=S.instance,Y=S.currentTarget,S=S.listener,P!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=Y;try{p(g)}catch(tt){Hu(tt)}g.currentTarget=null,p=P}}}}function Pt(s,a){var l=a[Za];l===void 0&&(l=a[Za]=new Set);var u=s+"__bubble";l.has(u)||(O0(a,s,2,!1),l.add(u))}function sg(s,a,l){var u=0;a&&(u|=4),O0(l,s,u,a)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function rg(s){if(!s[Ih]){s[Ih]=!0,bl.forEach(function(l){l!=="selectionchange"&&(DA.has(l)||sg(l,!1,s),sg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ih]||(a[Ih]=!0,sg("selectionchange",!1,a))}}function O0(s,a,l,u){switch(lb(a)){case 2:var g=aR;break;case 8:g=oR;break;default:g=bg}l=g.bind(null,a,l,s),g=void 0,!Zr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function ag(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===g)break;if(x===4)for(x=u.return;x!==null;){var P=x.tag;if((P===3||P===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;S!==null;){if(x=Ri(S),x===null)return;if(P=x.tag,P===5||P===6||P===26||P===27){u=p=x;continue t}S=S.parentNode}}u=u.return}Ks(function(){var Y=p,tt=zn(l),it=[];t:{var K=f_.get(s);if(K!==void 0){var W=ki,mt=s;switch(s){case"keypress":if(ta(l)===0)break t;case"keydown":case"keyup":W=Uu;break;case"focusin":mt="focus",W=na;break;case"focusout":mt="blur",W=na;break;case"beforeblur":case"afterblur":W=na;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case l_:case c_:case u_:W=Ou;break;case h_:W=I;break;case"scroll":case"scrollend":W=Dl;break;case"wheel":W=$;break;case"copy":case"cut":case"paste":W=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=cs;break;case"toggle":case"beforetoggle":W=It}var xt=(a&4)!==0,oe=!xt&&(s==="scroll"||s==="scrollend"),B=xt?K!==null?K+"Capture":null:K;xt=[];for(var U=Y,G;U!==null;){var et=U;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||B===null||(et=li(U,B),et!=null&&xt.push(cc(U,et,G))),oe)break;U=U.return}0<xt.length&&(K=new W(K,mt,null,l,tt),it.push({event:K,listeners:xt}))}}if((a&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==Il&&(mt=l.relatedTarget||l.fromElement)&&(Ri(mt)||mt[Si]))break t;if((W||K)&&(K=tt.window===tt?tt:(K=tt.ownerDocument)?K.defaultView||K.parentWindow:window,W?(mt=l.relatedTarget||l.toElement,W=Y,mt=mt?Ri(mt):null,mt!==null&&(oe=o(mt),xt=mt.tag,mt!==oe||xt!==5&&xt!==27&&xt!==6)&&(mt=null)):(W=null,mt=Y),W!==mt)){if(xt=Ol,et="onMouseLeave",B="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(xt=cs,et="onPointerLeave",B="onPointerEnter",U="pointer"),oe=W==null?K:Rn(W),G=mt==null?K:Rn(mt),K=new xt(et,U+"leave",W,l,tt),K.target=oe,K.relatedTarget=G,et=null,Ri(tt)===Y&&(xt=new xt(B,U+"enter",mt,l,tt),xt.target=G,xt.relatedTarget=oe,et=xt),oe=et,W&&mt)e:{for(xt=OA,B=W,U=mt,G=0,et=B;et;et=xt(et))G++;et=0;for(var _t=U;_t;_t=xt(_t))et++;for(;0<G-et;)B=xt(B),G--;for(;0<et-G;)U=xt(U),et--;for(;G--;){if(B===U||U!==null&&B===U.alternate){xt=B;break e}B=xt(B),U=xt(U)}xt=null}else xt=null;W!==null&&k0(it,K,W,xt,!1),mt!==null&&oe!==null&&k0(it,oe,mt,xt,!0)}}t:{if(K=Y?Rn(Y):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Gt=Wy;else if($y(K))if(Zy)Gt=q1;else{Gt=F1;var pt=B1}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&no(Y.elementType)&&(Gt=Wy):Gt=H1;if(Gt&&(Gt=Gt(s,Y))){Qy(it,Gt,l,tt);break t}pt&&pt(s,K,Y),s==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Al(K,"number",K.value)}switch(pt=Y?Rn(Y):window,s){case"focusin":($y(pt)||pt.contentEditable==="true")&&(uo=pt,Vd=Y,jl=null);break;case"focusout":jl=Vd=uo=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,a_(it,l,tt);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":a_(it,l,tt)}var Nt;if(Kt)t:{switch(s){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else co?ia(s,l)&&(jt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(Li&&l.locale!=="ko"&&(co||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&co&&(Nt=Nl()):(Oi=tt,Ml="value"in Oi?Oi.value:Oi.textContent,co=!0)),pt=Mh(Y,jt),0<pt.length&&(jt=new Pi(jt,s,null,l,tt),it.push({event:jt,listeners:pt}),Nt?jt.data=Nt:(Nt=lo(l),Nt!==null&&(jt.data=Nt)))),(Nt=Bn?L1(s,l):j1(s,l))&&(jt=Mh(Y,"onBeforeInput"),0<jt.length&&(pt=new Pi("onBeforeInput","beforeinput",null,l,tt),it.push({event:pt,listeners:jt}),pt.data=Nt)),IA(it,s,Y,l,tt)}D0(it,a)})}function cc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Mh(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=li(s,l),g!=null&&u.unshift(cc(s,g,p)),g=li(s,a),g!=null&&u.push(cc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function OA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function k0(s,a,l,u,g){for(var p=a._reactName,x=[];l!==null&&l!==u;){var S=l,P=S.alternate,Y=S.stateNode;if(S=S.tag,P!==null&&P===u)break;S!==5&&S!==26&&S!==27||Y===null||(P=Y,g?(Y=li(l,p),Y!=null&&x.unshift(cc(l,Y,P))):g||(Y=li(l,p),Y!=null&&x.push(cc(l,Y,P)))),l=l.return}x.length!==0&&s.push({event:a,listeners:x})}var kA=/\r\n?/g,VA=/\u0000|\uFFFD/g;function V0(s){return(typeof s=="string"?s:""+s).replace(kA,`
`).replace(VA,"")}function P0(s,a){return a=V0(a),V0(s)===a}function ae(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||_n(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&_n(s,""+u);break;case"className":Cn(s,"class",u);break;case"tabIndex":Cn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(s,l,u);break;case"style":Cl(s,u,p);break;case"data":if(a!=="object"){Cn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=io(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ae(s,a,"name",g.name,g,null),ae(s,a,"formEncType",g.formEncType,g,null),ae(s,a,"formMethod",g.formMethod,g,null),ae(s,a,"formTarget",g.formTarget,g,null)):(ae(s,a,"encType",g.encType,g,null),ae(s,a,"method",g.method,g,null),ae(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=io(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=oi);break;case"onScroll":u!=null&&Pt("scroll",s);break;case"onScrollEnd":u!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=io(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),to(s,"popover",u);break;case"xlinkActuate":Me(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Me(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Me(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Me(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Me(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Me(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Me(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Me(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Me(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":to(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Mu.get(l)||l,to(s,l,u))}}function og(s,a,l,u,g,p){switch(l){case"style":Cl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?_n(s,u):(typeof u=="number"||typeof u=="bigint")&&_n(s,""+u);break;case"onScroll":u!=null&&Pt("scroll",s);break;case"onScrollEnd":u!=null&&Pt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[qe]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):to(s,l,u)}}}function Je(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var x=l[p];if(x!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ae(s,a,p,x,l,null)}}g&&ae(s,a,"srcSet",l.srcSet,l,null),u&&ae(s,a,"src",l.src,l,null);return;case"input":Pt("invalid",s);var S=p=x=g=null,P=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var tt=l[u];if(tt!=null)switch(u){case"name":g=tt;break;case"type":x=tt;break;case"checked":P=tt;break;case"defaultChecked":Y=tt;break;case"value":p=tt;break;case"defaultValue":S=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:ae(s,a,u,tt,l,null)}}Ru(s,p,S,P,Y,x,g,!1);return;case"select":Pt("invalid",s),u=x=p=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:ae(s,a,g,S,l,null)}a=p,l=x,s.multiple=!!u,a!=null?Hs(s,!!u,a,!1):l!=null&&Hs(s,!!u,l,!0);return;case"textarea":Pt("invalid",s),p=g=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ae(s,a,x,S,l,null)}qs(s,u,g,p);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(u=l[P],u!=null))switch(P){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ae(s,a,P,u,l,null)}return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(u=0;u<lc.length;u++)Pt(lc[u],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ae(s,a,Y,u,l,null)}return;default:if(no(a)){for(tt in l)l.hasOwnProperty(tt)&&(u=l[tt],u!==void 0&&og(s,a,tt,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&ae(s,a,S,u,l,null))}function PA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,x=null,S=null,P=null,Y=null,tt=null;for(W in l){var it=l[W];if(l.hasOwnProperty(W)&&it!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=it;default:u.hasOwnProperty(W)||ae(s,a,W,null,u,it)}}for(var K in u){var W=u[K];if(it=l[K],u.hasOwnProperty(K)&&(W!=null||it!=null))switch(K){case"type":p=W;break;case"name":g=W;break;case"checked":Y=W;break;case"defaultChecked":tt=W;break;case"value":x=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==it&&ae(s,a,K,W,u,it)}}eo(s,x,S,P,Y,tt,p,g);return;case"select":W=x=S=K=null;for(p in l)if(P=l[p],l.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":W=P;default:u.hasOwnProperty(p)||ae(s,a,p,null,u,P)}for(g in u)if(p=u[g],P=l[g],u.hasOwnProperty(g)&&(p!=null||P!=null))switch(g){case"value":K=p;break;case"defaultValue":S=p;break;case"multiple":x=p;default:p!==P&&ae(s,a,g,p,u,P)}a=S,l=x,u=W,K!=null?Hs(s,!!l,K,!1):!!u!=!!l&&(a!=null?Hs(s,!!l,a,!0):Hs(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ae(s,a,S,null,u,g)}for(x in u)if(g=u[x],p=l[x],u.hasOwnProperty(x)&&(g!=null||p!=null))switch(x){case"value":K=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&ae(s,a,x,g,u,p)}Cu(s,K,W);return;case"option":for(var mt in l)if(K=l[mt],l.hasOwnProperty(mt)&&K!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":s.selected=!1;break;default:ae(s,a,mt,null,u,K)}for(P in u)if(K=u[P],W=l[P],u.hasOwnProperty(P)&&K!==W&&(K!=null||W!=null))switch(P){case"selected":s.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ae(s,a,P,K,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in l)K=l[xt],l.hasOwnProperty(xt)&&K!=null&&!u.hasOwnProperty(xt)&&ae(s,a,xt,null,u,K);for(Y in u)if(K=u[Y],W=l[Y],u.hasOwnProperty(Y)&&K!==W&&(K!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:ae(s,a,Y,K,u,W)}return;default:if(no(a)){for(var oe in l)K=l[oe],l.hasOwnProperty(oe)&&K!==void 0&&!u.hasOwnProperty(oe)&&og(s,a,oe,void 0,u,K);for(tt in u)K=u[tt],W=l[tt],!u.hasOwnProperty(tt)||K===W||K===void 0&&W===void 0||og(s,a,tt,K,u,W);return}}for(var B in l)K=l[B],l.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&ae(s,a,B,null,u,K);for(it in u)K=u[it],W=l[it],!u.hasOwnProperty(it)||K===W||K==null&&W==null||ae(s,a,it,K,u,W)}function L0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LA(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,x=g.initiatorType,S=g.duration;if(p&&S&&L0(x)){for(x=0,S=g.responseEnd,u+=1;u<l.length;u++){var P=l[u],Y=P.startTime;if(Y>S)break;var tt=P.transferSize,it=P.initiatorType;tt&&L0(it)&&(P=P.responseEnd,x+=tt*(P<S?1:(S-Y)/(P-Y)))}if(--u,a+=8*(p+x)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var lg=null,cg=null;function Nh(s){return s.nodeType===9?s:s.ownerDocument}function j0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function ug(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var hg=null;function jA(){var s=window.event;return s&&s.type==="popstate"?s===hg?!1:(hg=s,!0):(hg=null,!1)}var U0=typeof setTimeout=="function"?setTimeout:void 0,zA=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(s){return B0.resolve(null).then(s).catch(BA)}:U0;function BA(s){setTimeout(function(){throw s})}function dr(s){return s==="head"}function F0(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),jo(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")uc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,uc(l);for(var p=l.firstChild;p;){var x=p.nextSibling,S=p.nodeName;p[Ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=x}}else l==="body"&&uc(s.ownerDocument.body);l=g}while(l);jo(a)}function H0(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function fg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fg(l),Ja(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function FA(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ai])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Xn(s.nextSibling),s===null)break}return null}function HA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Xn(s.nextSibling),s===null))return null;return s}function q0(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Xn(s.nextSibling),s===null))return null;return s}function dg(s){return s.data==="$?"||s.data==="$~"}function mg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function qA(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Xn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var gg=null;function G0(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Xn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function Y0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function K0(s,a,l){switch(a=Nh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function uc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ja(s)}var $n=new Map,X0=new Set;function Dh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ws=ot.d;ot.d={f:GA,r:YA,D:KA,C:XA,L:$A,m:QA,X:ZA,S:WA,M:JA};function GA(){var s=ws.f(),a=Eh();return s||a}function YA(s){var a=jn(s);a!==null&&a.tag===5&&a.type==="form"?hv(a):ws.r(s)}var Vo=typeof document>"u"?null:document;function $0(s,a,l){var u=Vo;if(u&&typeof a=="string"&&a){var g=yn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),X0.has(g)||(X0.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Je(a,"link",s),Ie(a),u.head.appendChild(a)))}}function KA(s){ws.D(s),$0("dns-prefetch",s,null)}function XA(s,a){ws.C(s,a),$0("preconnect",s,a)}function $A(s,a,l){ws.L(s,a,l);var u=Vo;if(u&&s&&a){var g='link[rel="preload"][as="'+yn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+yn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+yn(l.imageSizes)+'"]')):g+='[href="'+yn(s)+'"]';var p=g;switch(a){case"style":p=Po(s);break;case"script":p=Lo(s)}$n.has(p)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),$n.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(hc(p))||a==="script"&&u.querySelector(fc(p))||(a=u.createElement("link"),Je(a,"link",s),Ie(a),u.head.appendChild(a)))}}function QA(s,a){ws.m(s,a);var l=Vo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Lo(s)}if(!$n.has(p)&&(s=_({rel:"modulepreload",href:s},a),$n.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fc(p)))return}u=l.createElement("link"),Je(u,"link",s),Ie(u),l.head.appendChild(u)}}}function WA(s,a,l){ws.S(s,a,l);var u=Vo;if(u&&s){var g=Ci(u).hoistableStyles,p=Po(s);a=a||"default";var x=g.get(p);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(hc(p)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=$n.get(p))&&pg(s,l);var P=x=u.createElement("link");Ie(P),Je(P,"link",s),P._p=new Promise(function(Y,tt){P.onload=Y,P.onerror=tt}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Oh(x,a,u)}x={type:"stylesheet",instance:x,count:1,state:S},g.set(p,x)}}}function ZA(s,a){ws.X(s,a);var l=Vo;if(l&&s){var u=Ci(l).hoistableScripts,g=Lo(s),p=u.get(g);p||(p=l.querySelector(fc(g)),p||(s=_({src:s,async:!0},a),(a=$n.get(g))&&yg(s,a),p=l.createElement("script"),Ie(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function JA(s,a){ws.M(s,a);var l=Vo;if(l&&s){var u=Ci(l).hoistableScripts,g=Lo(s),p=u.get(g);p||(p=l.querySelector(fc(g)),p||(s=_({src:s,async:!0,type:"module"},a),(a=$n.get(g))&&yg(s,a),p=l.createElement("script"),Ie(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function Q0(s,a,l,u){var g=(g=gt.current)?Dh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Po(l.href),l=Ci(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Po(l.href);var p=Ci(g).hoistableStyles,x=p.get(s);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,x),(p=g.querySelector(hc(s)))&&!p._p&&(x.instance=p,x.state.loading=5),$n.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$n.set(s,l),p||tR(g,s,l,x.state))),a&&u===null)throw Error(i(528,""));return x}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Lo(l),l=Ci(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Po(s){return'href="'+yn(s)+'"'}function hc(s){return'link[rel="stylesheet"]['+s+"]"}function W0(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function tR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Je(a,"link",l),Ie(a),s.head.appendChild(a))}function Lo(s){return'[src="'+yn(s)+'"]'}function fc(s){return"script[async]"+s}function Z0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+yn(l.href)+'"]');if(u)return a.instance=u,Ie(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ie(u),Je(u,"style",g),Oh(u,l.precedence,s),a.instance=u;case"stylesheet":g=Po(l.href);var p=s.querySelector(hc(g));if(p)return a.state.loading|=4,a.instance=p,Ie(p),p;u=W0(l),(g=$n.get(g))&&pg(u,g),p=(s.ownerDocument||s).createElement("link"),Ie(p);var x=p;return x._p=new Promise(function(S,P){x.onload=S,x.onerror=P}),Je(p,"link",u),a.state.loading|=4,Oh(p,l.precedence,s),a.instance=p;case"script":return p=Lo(l.src),(g=s.querySelector(fc(p)))?(a.instance=g,Ie(g),g):(u=l,(g=$n.get(p))&&(u=_({},l),yg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ie(g),Je(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Oh(u,l.precedence,s));return a.instance}function Oh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===a)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function pg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function yg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var kh=null;function J0(s,a,l){if(kh===null){var u=new Map,g=kh=new Map;g.set(l,u)}else g=kh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Ai]||p[Ce]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(a)||"";x=s+x;var S=u.get(x);S?S.push(p):u.set(x,[p])}}return u}function tb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function eR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function eb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function nR(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Po(u.href),p=a.querySelector(hc(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Vh.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ie(p);return}p=a.ownerDocument||a,u=W0(u),(g=$n.get(g))&&pg(u,g),p=p.createElement("link"),Ie(p);var x=p;x._p=new Promise(function(S,P){x.onload=S,x.onerror=P}),Je(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Vh.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var _g=0;function iR(s,a){return s.stylesheets&&s.count===0&&Lh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Lh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&_g===0&&(_g=62500*LA());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Lh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>_g?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ph=null;function Lh(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ph=new Map,a.forEach(sR,s),Ph=null,Vh.call(s))}function sR(s,a){if(!(a.state.loading&4)){var l=Ph.get(s);if(l)var u=l.get(null);else{l=new Map,Ph.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var x=g[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}g=a.instance,x=g.getAttribute("data-precedence"),p=l.get(x)||u,p===u&&l.set(null,g),l.set(x,g),this.count++,u=Vh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var dc={$$typeof:H,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function rR(s,a,l,u,g,p,x,S,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function nb(s,a,l,u,g,p,x,S,P,Y,tt,it){return s=new rR(s,a,l,x,P,Y,tt,it,S),a=1,p===!0&&(a|=24),p=Mn(3,null,null,a),s.current=p,p.stateNode=s,a=Wd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},em(p),s}function ib(s){return s?(s=mo,s):mo}function sb(s,a,l,u,g,p){g=ib(g),u.context===null?u.context=g:u.pendingContext=g,u=nr(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=ir(s,u,a),l!==null&&(En(l,s,a),Gl(l,s,a))}function rb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function vg(s,a){rb(s,a),(s=s.alternate)&&rb(s,a)}function ab(s){if(s.tag===13||s.tag===31){var a=aa(s,67108864);a!==null&&En(a,s,67108864),vg(s,67108864)}}function ob(s){if(s.tag===13||s.tag===31){var a=Vn();a=Xr(a);var l=aa(s,a);l!==null&&En(l,s,a),vg(s,a)}}var jh=!0;function aR(s,a,l,u){var g=X.T;X.T=null;var p=ot.p;try{ot.p=2,bg(s,a,l,u)}finally{ot.p=p,X.T=g}}function oR(s,a,l,u){var g=X.T;X.T=null;var p=ot.p;try{ot.p=8,bg(s,a,l,u)}finally{ot.p=p,X.T=g}}function bg(s,a,l,u){if(jh){var g=xg(u);if(g===null)ag(s,a,u,zh,l),cb(s,u);else if(cR(g,s,a,l,u))u.stopPropagation();else if(cb(s,u),a&4&&-1<lR.indexOf(s)){for(;g!==null;){var p=jn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=Ti(p.pendingLanes);if(x!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var P=1<<31-be(x);S.entanglements[1]|=P,x&=~P}Bi(p),(Xt&6)===0&&(xh=mn()+500,oc(0))}}break;case 31:case 13:S=aa(p,2),S!==null&&En(S,p,2),Eh(),vg(p,2)}if(p=xg(u),p===null&&ag(s,a,u,zh,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else ag(s,a,u,null,l)}}function xg(s){return s=zn(s),Tg(s)}var zh=null;function Tg(s){if(zh=null,s=Ri(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return zh=s,null}function lb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qr()){case pl:return 2;case yl:return 8;case Bs:case Cd:return 32;case yu:return 268435456;default:return 32}default:return 32}}var Eg=!1,mr=null,gr=null,pr=null,mc=new Map,gc=new Map,yr=[],lR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cb(s,a){switch(s){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":mc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(a.pointerId)}}function pc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=jn(a),a!==null&&ab(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function cR(s,a,l,u,g){switch(a){case"focusin":return mr=pc(mr,s,a,l,u,g),!0;case"dragenter":return gr=pc(gr,s,a,l,u,g),!0;case"mouseover":return pr=pc(pr,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return mc.set(p,pc(mc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,gc.set(p,pc(gc.get(p)||null,s,a,l,u,g)),!0}return!1}function ub(s){var a=Ri(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,ri(s.priority,function(){ob(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,ri(s.priority,function(){ob(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Uh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=xg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Il=u,l.target.dispatchEvent(u),Il=null}else return a=jn(l),a!==null&&ab(a),s.blockedOn=l,!1;a.shift()}return!0}function hb(s,a,l){Uh(s)&&l.delete(a)}function uR(){Eg=!1,mr!==null&&Uh(mr)&&(mr=null),gr!==null&&Uh(gr)&&(gr=null),pr!==null&&Uh(pr)&&(pr=null),mc.forEach(hb),gc.forEach(hb)}function Bh(s,a){s.blockedOn===a&&(s.blockedOn=null,Eg||(Eg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uR)))}var Fh=null;function fb(s){Fh!==s&&(Fh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fh===s&&(Fh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(Tg(u||l)===null)continue;break}var p=jn(l);p!==null&&(s.splice(a,3),a-=3,xm(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function jo(s){function a(P){return Bh(P,s)}mr!==null&&Bh(mr,s),gr!==null&&Bh(gr,s),pr!==null&&Bh(pr,s),mc.forEach(a),gc.forEach(a);for(var l=0;l<yr.length;l++){var u=yr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<yr.length&&(l=yr[0],l.blockedOn===null);)ub(l),l.blockedOn===null&&yr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],x=g[qe]||null;if(typeof p=="function")x||fb(l);else if(x){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,x=p[qe]||null)S=x.formAction;else if(Tg(g)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),fb(l)}}}function db(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return g=x})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function wg(s){this._internalRoot=s}Hh.prototype.render=wg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Vn();sb(l,u,s,a,null,null)},Hh.prototype.unmount=wg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;sb(s.current,2,null,s,null,null),Eh(),a[Si]=null}};function Hh(s){this._internalRoot=s}Hh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Eu();s={blockedOn:null,target:s,priority:a};for(var l=0;l<yr.length&&a!==0&&a<yr[l].priority;l++);yr.splice(l,0,s),l===0&&ub(s)}};var mb=t.version;if(mb!=="19.2.0")throw Error(i(527,mb,"19.2.0"));ot.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var hR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{ii=qh.inject(hR),Xe=qh}catch{}}return _c.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=xv,p=Tv,x=Ev;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=nb(s,1,!1,null,null,l,u,null,g,p,x,db),s[Si]=a.current,rg(s),new wg(a)},_c.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=xv,x=Tv,S=Ev,P=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),a=nb(s,1,!0,a,l??null,u,g,P,p,x,S,db),a.context=ib(null),l=a.current,u=Vn(),u=Xr(u),g=nr(u),g.callback=null,ir(l,g,u),l=u,a.current.lanes=l,Yr(a,l),Bi(a),s[Si]=a.current,rg(s),new Hh(a)},_c.version="19.2.0",_c}var wb;function TR(){if(wb)return Rg.exports;wb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Rg.exports=xR(),Rg.exports}var ER=TR();function yE({isDark:n,setIsDark:t}){return w.jsx("div",{className:`flex flex-row items-center justify-center
        `,title:"Switch Theme",onClick:()=>t(e=>!e),children:w.jsx("i",{className:n?"bx bx-sun bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--light-color)] hovered":"bx bx-moon bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--dark-color)] hovered"})})}const Vp="/DriveSense/assets/dark-icon-B2t9_VsN.png",Af="/DriveSense/assets/light-icon-CCshSbAW.png";function dn(n=768){const[t,e]=nt.useState(typeof window<"u"?window.innerWidth<n:!1);return nt.useEffect(()=>{const i=()=>{e(window.innerWidth<n)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),t}const wR=()=>{};var Sb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},SR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,m=f?n[r+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let b=(h&15)<<2|m>>6,E=m&63;f||(E=64,c||(b=64)),i.push(e[y],e[_],e[b],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_E(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):SR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||_==null)throw new AR;const b=o<<2|h>>4;if(i.push(b),m!==64){const E=h<<4&240|m>>2;if(i.push(E),_!==64){const R=m<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RR=function(n){const t=_E(n);return vE.encodeByteArray(t,!0)},Rf=function(n){return RR(n).replace(/\./g,"")},bE=function(n){try{return vE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=()=>CR().__FIREBASE_DEFAULTS__,MR=()=>{if(typeof process>"u"||typeof Sb>"u")return;const n=Sb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&bE(n[1]);return t&&JSON.parse(t)},nd=()=>{try{return wR()||IR()||MR()||NR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xE=n=>nd()?.emulatorHosts?.[n],TE=n=>{const t=xE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},EE=()=>nd()?.config,wE=n=>nd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Rf(JSON.stringify(e)),Rf(JSON.stringify(c)),""].join(".")}const Nc={};function OR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Nc))Nc[t]?n.emulator.push(t):n.prod.push(t);return n}function kR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Ab=!1;function Lp(n,t){if(typeof window>"u"||typeof document>"u"||!Ua(window.location.host)||Nc[n]===t||Nc[n]||Ab)return;Nc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=OR().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Ab=!0,c()},b}function y(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=kR(i),E=e("text"),R=document.getElementById(E)||document.createElement("span"),C=e("learnmore"),M=document.getElementById(C)||document.createElement("a"),j=e("preprendIcon"),F=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;h(H),y(M,C);const J=m();f(F,j),H.append(F,R,M,J),document.body.appendChild(H)}o?(R.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function PR(){const n=nd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UR(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BR(){return!PR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FR(){try{return typeof indexedDB=="object"}catch{return!1}}function HR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="FirebaseError";class ss extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=qR,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?GR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new ss(r,h,i)}}function GR(n,t){return n.replace(YR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const YR=/\{\$([^}]+)}/g;function KR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Na(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(Rb(o)&&Rb(c)){if(!Na(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Rb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function XR(n,t){const e=new $R(n,t);return e.subscribe.bind(e)}class $R{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");QR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Ng),r.error===void 0&&(r.error=Ng),r.complete===void 0&&(r.complete=Ng);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(n){return n&&n._delegate?n._delegate:n}class Or{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new DR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(JR(t))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ta){return this.instances.has(t)}getOptions(t=Ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ta){return this.component?this.component.multipleInstances?t:Ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZR(n){return n===Ta?void 0:n}function JR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new WR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zt||(zt={}));const eC={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},nC=zt.INFO,iC={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},sC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=iC[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jp{constructor(t){this.name=t,this._logLevel=nC,this._logHandler=sC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const rC=(n,t)=>t.some(e=>n instanceof e);let Cb,Ib;function aC(){return Cb||(Cb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oC(){return Ib||(Ib=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,np=new WeakMap,RE=new WeakMap,Dg=new WeakMap,zp=new WeakMap;function lC(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Cr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&AE.set(e,n)}).catch(()=>{}),zp.set(t,n),t}function cC(n){if(np.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});np.set(n,t)}let ip={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return np.get(n);if(t==="objectStoreNames")return n.objectStoreNames||RE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Cr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function uC(n){ip=n(ip)}function hC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Og(this),t,...e);return RE.set(i,t.sort?t.sort():[t]),Cr(i)}:oC().includes(n)?function(...t){return n.apply(Og(this),t),Cr(AE.get(this))}:function(...t){return Cr(n.apply(Og(this),t))}}function fC(n){return typeof n=="function"?hC(n):(n instanceof IDBTransaction&&cC(n),rC(n,aC())?new Proxy(n,ip):n)}function Cr(n){if(n instanceof IDBRequest)return lC(n);if(Dg.has(n))return Dg.get(n);const t=fC(n);return t!==n&&(Dg.set(n,t),zp.set(t,n)),t}const Og=n=>zp.get(n);function dC(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Cr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Cr(c.result),f.oldVersion,f.newVersion,Cr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const mC=["get","getKey","getAll","getAllKeys","count"],gC=["put","add","delete","clear"],kg=new Map;function Mb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(kg.get(t))return kg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=gC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||mC.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&f.done]))[0]};return kg.set(t,o),o}uC(n=>({...n,get:(t,e,i)=>Mb(t,e)||n.get(t,e,i),has:(t,e)=>!!Mb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(yC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function yC(n){return n.getComponent()?.type==="VERSION"}const sp="@firebase/app",Nb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new jp("@firebase/app"),_C="@firebase/app-compat",vC="@firebase/analytics-compat",bC="@firebase/analytics",xC="@firebase/app-check-compat",TC="@firebase/app-check",EC="@firebase/auth",wC="@firebase/auth-compat",SC="@firebase/database",AC="@firebase/data-connect",RC="@firebase/database-compat",CC="@firebase/functions",IC="@firebase/functions-compat",MC="@firebase/installations",NC="@firebase/installations-compat",DC="@firebase/messaging",OC="@firebase/messaging-compat",kC="@firebase/performance",VC="@firebase/performance-compat",PC="@firebase/remote-config",LC="@firebase/remote-config-compat",jC="@firebase/storage",zC="@firebase/storage-compat",UC="@firebase/firestore",BC="@firebase/ai",FC="@firebase/firestore-compat",HC="firebase",qC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",GC={[sp]:"fire-core",[_C]:"fire-core-compat",[bC]:"fire-analytics",[vC]:"fire-analytics-compat",[TC]:"fire-app-check",[xC]:"fire-app-check-compat",[EC]:"fire-auth",[wC]:"fire-auth-compat",[SC]:"fire-rtdb",[AC]:"fire-data-connect",[RC]:"fire-rtdb-compat",[CC]:"fire-fn",[IC]:"fire-fn-compat",[MC]:"fire-iid",[NC]:"fire-iid-compat",[DC]:"fire-fcm",[OC]:"fire-fcm-compat",[kC]:"fire-perf",[VC]:"fire-perf-compat",[PC]:"fire-rc",[LC]:"fire-rc-compat",[jC]:"fire-gcs",[zC]:"fire-gcs-compat",[UC]:"fire-fst",[FC]:"fire-fst-compat",[BC]:"fire-vertex","fire-js":"fire-js",[HC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Map,YC=new Map,ap=new Map;function Db(n,t){try{n.container.addComponent(t)}catch(e){ks.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Da(n){const t=n.name;if(ap.has(t))return ks.debug(`There were multiple attempts to register component ${t}.`),!1;ap.set(t,n);for(const e of Cf.values())Db(e,n);for(const e of YC.values())Db(e,n);return!0}function id(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Wn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new iu("app","Firebase",KC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=qC;function CE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:rp,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Ir.create("bad-app-name",{appName:String(r)});if(e||(e=EE()),!e)throw Ir.create("no-options");const o=Cf.get(r);if(o){if(Na(e,o.options)&&Na(i,o.config))return o;throw Ir.create("duplicate-app",{appName:r})}const c=new tC(r);for(const f of ap.values())c.addComponent(f);const h=new XC(e,i,c);return Cf.set(r,h),h}function Up(n=rp){const t=Cf.get(n);if(!t&&n===rp&&EE())return CE();if(!t)throw Ir.create("no-app",{appName:n});return t}function Yi(n,t,e){let i=GC[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ks.warn(c.join(" "));return}Da(new Or(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firebase-heartbeat-database",QC=1,Bc="firebase-heartbeat-store";let Vg=null;function IE(){return Vg||(Vg=dC($C,QC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Bc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ir.create("idb-open",{originalErrorMessage:n.message})})),Vg}async function WC(n){try{const e=(await IE()).transaction(Bc),i=await e.objectStore(Bc).get(ME(n));return await e.done,i}catch(t){if(t instanceof ss)ks.warn(t.message);else{const e=Ir.create("idb-get",{originalErrorMessage:t?.message});ks.warn(e.message)}}}async function Ob(n,t){try{const i=(await IE()).transaction(Bc,"readwrite");await i.objectStore(Bc).put(t,ME(n)),await i.done}catch(e){if(e instanceof ss)ks.warn(e.message);else{const i=Ir.create("idb-set",{originalErrorMessage:e?.message});ks.warn(i.message)}}}function ME(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=1024,JC=30;class t2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new n2(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>JC){const r=i2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ks.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kb(),{heartbeatsToSend:e,unsentEntries:i}=e2(this._heartbeatsCache.heartbeats),r=Rf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return ks.warn(t),""}}}function kb(){return new Date().toISOString().substring(0,10)}function e2(n,t=ZC){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Vb(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Vb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class n2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FR()?HR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await WC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ob(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ob(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Vb(n){return Rf(JSON.stringify({version:2,heartbeats:n})).length}function i2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n){Da(new Or("platform-logger",t=>new pC(t),"PRIVATE")),Da(new Or("heartbeat",t=>new t2(t),"PRIVATE")),Yi(sp,Nb,n),Yi(sp,Nb,"esm2020"),Yi("fire-js","")}s2("");var r2="firebase",a2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(r2,a2,"app");function NE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o2=NE,DE=new iu("auth","Firebase",NE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new jp("@firebase/auth");function l2(n,...t){If.logLevel<=zt.WARN&&If.warn(`Auth (${Ba}): ${n}`,...t)}function mf(n,...t){If.logLevel<=zt.ERROR&&If.error(`Auth (${Ba}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n,...t){throw Fp(n,...t)}function vi(n,...t){return Fp(n,...t)}function Bp(n,t,e){const i={...o2(),[t]:e};return new iu("auth","Firebase",i).create(t,{appName:n.name})}function Ca(n){return Bp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c2(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&ts(n,"argument-error"),Bp(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return DE.create(n,...t)}function wt(n,t,...e){if(!n)throw Fp(t,...e)}function Ms(n){const t="INTERNAL ASSERTION FAILED: "+n;throw mf(t),new Error(t)}function Vs(n,t){n||Ms(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){return typeof self<"u"&&self.location?.href||""}function u2(){return Pb()==="http:"||Pb()==="https:"}function Pb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u2()||jR()||"connection"in navigator)?navigator.onLine:!0}function f2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,e){this.shortDelay=t,this.longDelay=e,Vs(e>t,"Short delay should be less than long delay!"),this.isMobile=VR()||zR()}get(){return h2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n,t){Vs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g2=new ru(3e4,6e4);function qp(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function ol(n,t,e,i,r={}){return kE(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=su({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return LR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ua(n.emulatorConfig.host)&&(m.credentials="include"),OE.fetch()(await VE(n,n.config.apiHost,e,h),m)})}async function kE(n,t,e){n._canInitEmulator=!1;const i={...d2,...t};try{const r=new y2(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Gh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Gh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Gh(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Bp(n,y,m);ts(n,y)}}catch(r){if(r instanceof ss)throw r;ts(n,"network-request-failed",{message:String(r)})}}async function p2(n,t,e,i,r={}){const o=await ol(n,t,e,i,r);return"mfaPendingCredential"in o&&ts(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function VE(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Hp(n.config,r):`${n.config.apiScheme}://${r}`;return m2.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(vi(this.auth,"network-request-failed")),g2.get())})}}function Gh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=vi(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(n,t){return ol(n,"POST","/v1/accounts:delete",t)}async function Mf(n,t){return ol(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function v2(n,t=!1){const e=Pn(n),i=await e.getIdToken(t),r=Gp(i);wt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Dc(Pg(r.auth_time)),issuedAtTime:Dc(Pg(r.iat)),expirationTime:Dc(Pg(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Pg(n){return Number(n)*1e3}function Gp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return mf("JWT malformed, contained fewer than 3 sections"),null;try{const r=bE(e);return r?JSON.parse(r):(mf("Failed to decode base64 JWT payload"),null)}catch(r){return mf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Lb(n){const t=Gp(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ss&&b2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function b2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(n){const t=n.auth,e=await n.getIdToken(),i=await Fc(n,Mf(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?PE(r.providerUserInfo):[],c=E2(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,m=h?f:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new lp(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function T2(n){const t=Pn(n);await Nf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function E2(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function PE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,t){const e=await kE(n,{},async()=>{const i=su({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await VE(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Ua(n.emulatorConfig.host)&&(f.credentials="include"),OE.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function S2(n,t){return ol(n,"POST","/v2/accounts:revokeToken",qp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Lb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=Lb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await w2(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Go;return i&&(wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(wt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(wt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class pi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new x2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new lp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Fc(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return v2(this,t)}reload(){return T2(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Nf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Ca(this.auth));const t=await this.getIdToken();return await Fc(this,_2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:E,providerData:R,stsTokenManager:C}=e;wt(_&&C,t,"internal-error");const M=Go.fromJSON(this.name,C);wt(typeof _=="string",t,"internal-error"),vr(i,t.name),vr(r,t.name),wt(typeof b=="boolean",t,"internal-error"),wt(typeof E=="boolean",t,"internal-error"),vr(o,t.name),vr(c,t.name),vr(h,t.name),vr(f,t.name),vr(m,t.name),vr(y,t.name);const j=new pi({uid:_,auth:t,email:r,emailVerified:b,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:M,createdAt:m,lastLoginAt:y});return R&&Array.isArray(R)&&(j.providerData=R.map(F=>({...F}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(t,e,i=!1){const r=new Go;r.updateFromServerResponse(e);const o=new pi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Nf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];wt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?PE(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Go;h.updateFromIdToken(i);const f=new pi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new lp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;function Ns(n){Vs(n instanceof Function,"Expected a class definition");let t=jb.get(n);return t?(Vs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,jb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}LE.type="NONE";const zb=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n,t,e){return`firebase:${n}:${t}:${e}`}class Yo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=gf(this.userKey,r.apiKey,o),this.fullPersistenceKey=gf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Mf(this.auth,{idToken:t}).catch(()=>{});return e?pi._fromGetAccountInfoResponse(this.auth,e,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Yo(Ns(zb),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Ns(zb);const c=gf(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const b=await Mf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await pi._fromGetAccountInfoResponse(t,b,y)}else _=pi._fromJSON(t,y);m!==o&&(h=_),o=m;break}}catch{}const f=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Yo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Yo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HE(t))return"Blackberry";if(qE(t))return"Webos";if(zE(t))return"Safari";if((t.includes("chrome/")||UE(t))&&!t.includes("edge/"))return"Chrome";if(FE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function jE(n=fn()){return/firefox\//i.test(n)}function zE(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UE(n=fn()){return/crios\//i.test(n)}function BE(n=fn()){return/iemobile/i.test(n)}function FE(n=fn()){return/android/i.test(n)}function HE(n=fn()){return/blackberry/i.test(n)}function qE(n=fn()){return/webos/i.test(n)}function Yp(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function A2(n=fn()){return Yp(n)&&!!window.navigator?.standalone}function R2(){return UR()&&document.documentMode===10}function GE(n=fn()){return Yp(n)||FE(n)||qE(n)||HE(n)||/windows phone/i.test(n)||BE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n,t=[]){let e;switch(n){case"Browser":e=Ub(fn());break;case"Worker":e=`${Ub(fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ba}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,t={}){return ol(n,"GET","/v2/passwordPolicy",qp(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=6;class N2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??M2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bb(this),this.idTokenSubscription=new Bb(this),this.beforeStateQueue=new C2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ns(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Mf(this,{idToken:t}),i=await pi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Nf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=f2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject(Ca(this));const e=t?Pn(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await I2(this),e=new N2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new iu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await S2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ns(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Ns(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&l2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function sd(n){return Pn(n)}class Bb{constructor(t){this.auth=t,this.observer=null,this.addObserver=XR(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O2(n){Kp=n}function k2(n){return Kp.loadJS(n)}function V2(){return Kp.gapiScript}function P2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(n,t){const e=id(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Na(o,t??{}))return r;ts(r,"already-initialized")}return e.initialize({options:t})}function j2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ns);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function z2(n,t,e){const i=sd(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=KE(t),{host:c,port:h}=U2(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Na(m,i.config.emulator)&&Na(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Ua(c)?(Pp(`${o}//${c}${f}`),Lp("Auth",!0)):B2()}function KE(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function U2(n){const t=KE(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Fb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Fb(c)}}}function Fb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function B2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ms("not implemented")}_getIdTokenResponse(t){return Ms("not implemented")}_linkToIdToken(t,e){return Ms("not implemented")}_getReauthenticationResolver(t){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(n,t){return p2(n,"POST","/v1/accounts:signInWithIdp",qp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="http://localhost";class Oa extends XE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ts("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Oa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Ko(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ko(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ko(t,e)}buildRequest(){const t={requestUri:F2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=su(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Xp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends au{constructor(){super("facebook.com")}static credential(t){return Oa._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Oa._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Is.credentialFromTaggedObject(t)}static credentialFromError(t){return Is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Is.credential(e,i)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends au{constructor(){super("github.com")}static credential(t){return Oa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends au{constructor(){super("twitter.com")}static credential(t,e){return Oa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Er.credential(e,i)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await pi._fromIdTokenResponse(t,i,r),c=Hb(i);return new Zo({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Hb(i);return new Zo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Hb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends ss{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Df(t,e,i,r)}}function $E(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(n,o,t,i):o})}async function H2(n,t,e=!1){const i=await Fc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Zo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(n,t,e=!1){const{auth:i}=n;if(Wn(i.app))return Promise.reject(Ca(i));const r="reauthenticate";try{const o=await Fc(n,$E(i,r,t,n),e);wt(o.idToken,i,"internal-error");const c=Gp(o.idToken);wt(c,i,"internal-error");const{sub:h}=c;return wt(n.uid===h,i,"user-mismatch"),Zo._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ts(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,t,e=!1){if(Wn(n.app))return Promise.reject(Ca(n));const i="signIn",r=await $E(n,i,t),o=await Zo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}function Y2(n,t,e,i){return Pn(n).onIdTokenChanged(t,e,i)}function K2(n,t,e){return Pn(n).beforeAuthStateChanged(t,e)}function X2(n){return Pn(n).signOut()}const Of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1e3,Q2=10;class WE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);R2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,Q2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}WE.type="LOCAL";const W2=WE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}ZE.type="SESSION";const JE=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new rd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await Z2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=$p("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const b=_;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function tI(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function eI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nI(){return navigator?.serviceWorker?.controller||null}function iI(){return tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firebaseLocalStorageDb",sI=1,kf="firebaseLocalStorage",nw="fbase_key";class ou{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ad(n,t){return n.transaction([kf],t?"readwrite":"readonly").objectStore(kf)}function rI(){const n=indexedDB.deleteDatabase(ew);return new ou(n).toPromise()}function cp(){const n=indexedDB.open(ew,sI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(kf,{keyPath:nw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(kf)?t(i):(i.close(),await rI(),t(await cp()))})})}async function qb(n,t,e){const i=ad(n,!0).put({[nw]:t,value:e});return new ou(i).toPromise()}async function aI(n,t){const e=ad(n,!1).get(t),i=await new ou(e).toPromise();return i===void 0?null:i.value}function Gb(n,t){const e=ad(n,!0).delete(t);return new ou(e).toPromise()}const oI=800,lI=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>lI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(iI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eI(),!this.activeServiceWorker)return;this.sender=new J2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cp();return await qb(t,Of,"1"),await Gb(t,Of),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>qb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>aI(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Gb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=ad(r,!1).getAll();return new ou(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const cI=iw;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,t){return t?Ns(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends XE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ko(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ko(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ko(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function uI(n){return G2(n.auth,new Qp(n),n.bypassAuthState)}function hI(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),q2(e,new Qp(n),n.bypassAuthState)}async function fI(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),H2(e,new Qp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uI;case"linkViaPopup":case"linkViaRedirect":return fI;case"reauthViaPopup":case"reauthViaRedirect":return hI;default:ts(this.auth,"internal-error")}}resolve(t){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new ru(2e3,1e4);async function mI(n,t,e){if(Wn(n.app))return Promise.reject(vi(n,"operation-not-supported-in-this-environment"));const i=sd(n);c2(n,t,Xp);const r=sw(i,e);return new Sa(i,"signInViaPopup",t,r).executeNotNull()}class Sa extends rw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const t=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dI.get())};t()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="pendingRedirect",pf=new Map;class pI extends rw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=pf.get(this.auth._key());if(!t){try{const i=await yI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}pf.set(this.auth._key(),t)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yI(n,t){const e=bI(t),i=vI(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function _I(n,t){pf.set(n._key(),t)}function vI(n){return Ns(n._redirectPersistence)}function bI(n){return gf(gI,n.config.apiKey,n.name)}async function xI(n,t,e=!1){if(Wn(n.app))return Promise.reject(Ca(n));const i=sd(n),r=sw(i,t),c=await new pI(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=600*1e3;class EI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!aw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(vi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=TI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yb(t))}saveEventToCache(t){this.cachedEventUids.add(Yb(t)),this.lastProcessedEventTime=Date.now()}}function Yb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function aw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function wI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(n,t={}){return ol(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RI=/^https?/;async function CI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await SI(n);for(const e of t)try{if(II(e))return}catch{}ts(n,"unauthorized-domain")}function II(n){const t=op(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!RI.test(e))return!1;if(AI.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new ru(3e4,6e4);function Kb(){const n=Ki().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function NI(n){return new Promise((t,e)=>{function i(){Kb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kb(),e(vi(n,"network-request-failed"))},timeout:MI.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)i();else{const r=P2("iframefcb");return Ki()[r]=()=>{gapi.load?i():e(vi(n,"network-request-failed"))},k2(`${V2()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw yf=null,t})}let yf=null;function DI(n){return yf=yf||NI(n),yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new ru(5e3,15e3),kI="__/auth/iframe",VI="emulator/auth/iframe",PI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jI(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Hp(t,VI):`https://${n.config.authDomain}/${kI}`,i={apiKey:t.apiKey,appName:n.name,v:Ba},r=LI.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${su(i).slice(1)}`}async function zI(n){const t=await DI(n),e=Ki().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:jI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PI,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=vi(n,"network-request-failed"),h=Ki().setTimeout(()=>{o(c)},OI.get());function f(){Ki().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BI=500,FI=600,HI="_blank",qI="http://localhost";class Xb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GI(n,t,e,i=BI,r=FI){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...UI,width:i.toString(),height:r.toString(),top:o,left:c},m=fn().toLowerCase();e&&(h=UE(m)?HI:e),jE(m)&&(t=t||qI,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[E,R])=>`${b}${E}=${R},`,"");if(A2(m)&&h!=="_self")return YI(t||"",h),new Xb(null);const _=window.open(t||"",h,y);wt(_,n,"popup-blocked");try{_.focus()}catch{}return new Xb(_)}function YI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="__/auth/handler",XI="emulator/auth/handler",$I=encodeURIComponent("fac");async function $b(n,t,e,i,r,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ba,eventId:r};if(t instanceof Xp){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",KR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof au){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${$I}=${encodeURIComponent(f)}`:"";return`${QI(n)}?${su(h).slice(1)}${m}`}function QI({config:n}){return n.emulator?Hp(n,XI):`https://${n.authDomain}/${KI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="webStorageSupport";class WI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JE,this._completeRedirectFn=xI,this._overrideRedirectResult=_I}async _openPopup(t,e,i,r){Vs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await $b(t,e,i,op(),r);return GI(t,o,$p())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await $b(t,e,i,op(),r);return tI(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Vs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await zI(t),i=new EI(t);return e.register("authEvent",r=>(wt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Lg,{type:Lg},r=>{const o=r?.[0]?.[Lg];o!==void 0&&e(!!o),ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=CI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return GE()||zE()||Yp()}}const ZI=WI;var Qb="@firebase/auth",Wb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eM(n){Da(new Or("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(n)},m=new D2(i,r,o,f);return j2(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Da(new Or("auth-internal",t=>{const e=sd(t.getProvider("auth").getImmediate());return(i=>new JI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(Qb,Wb,tM(n)),Yi(Qb,Wb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=300,iM=wE("authIdTokenMaxAge")||nM;let Zb=null;const sM=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>iM)return;const r=e?.token;Zb!==r&&(Zb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ow(n=Up()){const t=id(n,"auth");if(t.isInitialized())return t.getImmediate();const e=L2(n,{popupRedirectResolver:ZI,persistence:[cI,W2,JE]}),i=wE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=sM(o.toString());K2(e,c,()=>c(e.currentUser)),Y2(e,h=>c(h))}}const r=xE("auth");return r&&z2(e,`http://${r}`),e}function rM(){return document.getElementsByTagName("head")?.[0]??document}O2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=vi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",rM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eM("Browser");var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,lw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,A){function D(){}D.prototype=A.prototype,N.F=A.prototype,N.prototype=new D,N.prototype.constructor=N,N.D=function(V,O,z){for(var k=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)k[Dt-2]=arguments[Dt];return A.prototype[O].apply(V,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,A,D){D||(D=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(O=0;O<16;++O)V[O]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=N.g[0],D=N.g[1],O=N.g[2];let z=N.g[3],k;k=A+(z^D&(O^z))+V[0]+3614090360&4294967295,A=D+(k<<7&4294967295|k>>>25),k=z+(O^A&(D^O))+V[1]+3905402710&4294967295,z=A+(k<<12&4294967295|k>>>20),k=O+(D^z&(A^D))+V[2]+606105819&4294967295,O=z+(k<<17&4294967295|k>>>15),k=D+(A^O&(z^A))+V[3]+3250441966&4294967295,D=O+(k<<22&4294967295|k>>>10),k=A+(z^D&(O^z))+V[4]+4118548399&4294967295,A=D+(k<<7&4294967295|k>>>25),k=z+(O^A&(D^O))+V[5]+1200080426&4294967295,z=A+(k<<12&4294967295|k>>>20),k=O+(D^z&(A^D))+V[6]+2821735955&4294967295,O=z+(k<<17&4294967295|k>>>15),k=D+(A^O&(z^A))+V[7]+4249261313&4294967295,D=O+(k<<22&4294967295|k>>>10),k=A+(z^D&(O^z))+V[8]+1770035416&4294967295,A=D+(k<<7&4294967295|k>>>25),k=z+(O^A&(D^O))+V[9]+2336552879&4294967295,z=A+(k<<12&4294967295|k>>>20),k=O+(D^z&(A^D))+V[10]+4294925233&4294967295,O=z+(k<<17&4294967295|k>>>15),k=D+(A^O&(z^A))+V[11]+2304563134&4294967295,D=O+(k<<22&4294967295|k>>>10),k=A+(z^D&(O^z))+V[12]+1804603682&4294967295,A=D+(k<<7&4294967295|k>>>25),k=z+(O^A&(D^O))+V[13]+4254626195&4294967295,z=A+(k<<12&4294967295|k>>>20),k=O+(D^z&(A^D))+V[14]+2792965006&4294967295,O=z+(k<<17&4294967295|k>>>15),k=D+(A^O&(z^A))+V[15]+1236535329&4294967295,D=O+(k<<22&4294967295|k>>>10),k=A+(O^z&(D^O))+V[1]+4129170786&4294967295,A=D+(k<<5&4294967295|k>>>27),k=z+(D^O&(A^D))+V[6]+3225465664&4294967295,z=A+(k<<9&4294967295|k>>>23),k=O+(A^D&(z^A))+V[11]+643717713&4294967295,O=z+(k<<14&4294967295|k>>>18),k=D+(z^A&(O^z))+V[0]+3921069994&4294967295,D=O+(k<<20&4294967295|k>>>12),k=A+(O^z&(D^O))+V[5]+3593408605&4294967295,A=D+(k<<5&4294967295|k>>>27),k=z+(D^O&(A^D))+V[10]+38016083&4294967295,z=A+(k<<9&4294967295|k>>>23),k=O+(A^D&(z^A))+V[15]+3634488961&4294967295,O=z+(k<<14&4294967295|k>>>18),k=D+(z^A&(O^z))+V[4]+3889429448&4294967295,D=O+(k<<20&4294967295|k>>>12),k=A+(O^z&(D^O))+V[9]+568446438&4294967295,A=D+(k<<5&4294967295|k>>>27),k=z+(D^O&(A^D))+V[14]+3275163606&4294967295,z=A+(k<<9&4294967295|k>>>23),k=O+(A^D&(z^A))+V[3]+4107603335&4294967295,O=z+(k<<14&4294967295|k>>>18),k=D+(z^A&(O^z))+V[8]+1163531501&4294967295,D=O+(k<<20&4294967295|k>>>12),k=A+(O^z&(D^O))+V[13]+2850285829&4294967295,A=D+(k<<5&4294967295|k>>>27),k=z+(D^O&(A^D))+V[2]+4243563512&4294967295,z=A+(k<<9&4294967295|k>>>23),k=O+(A^D&(z^A))+V[7]+1735328473&4294967295,O=z+(k<<14&4294967295|k>>>18),k=D+(z^A&(O^z))+V[12]+2368359562&4294967295,D=O+(k<<20&4294967295|k>>>12),k=A+(D^O^z)+V[5]+4294588738&4294967295,A=D+(k<<4&4294967295|k>>>28),k=z+(A^D^O)+V[8]+2272392833&4294967295,z=A+(k<<11&4294967295|k>>>21),k=O+(z^A^D)+V[11]+1839030562&4294967295,O=z+(k<<16&4294967295|k>>>16),k=D+(O^z^A)+V[14]+4259657740&4294967295,D=O+(k<<23&4294967295|k>>>9),k=A+(D^O^z)+V[1]+2763975236&4294967295,A=D+(k<<4&4294967295|k>>>28),k=z+(A^D^O)+V[4]+1272893353&4294967295,z=A+(k<<11&4294967295|k>>>21),k=O+(z^A^D)+V[7]+4139469664&4294967295,O=z+(k<<16&4294967295|k>>>16),k=D+(O^z^A)+V[10]+3200236656&4294967295,D=O+(k<<23&4294967295|k>>>9),k=A+(D^O^z)+V[13]+681279174&4294967295,A=D+(k<<4&4294967295|k>>>28),k=z+(A^D^O)+V[0]+3936430074&4294967295,z=A+(k<<11&4294967295|k>>>21),k=O+(z^A^D)+V[3]+3572445317&4294967295,O=z+(k<<16&4294967295|k>>>16),k=D+(O^z^A)+V[6]+76029189&4294967295,D=O+(k<<23&4294967295|k>>>9),k=A+(D^O^z)+V[9]+3654602809&4294967295,A=D+(k<<4&4294967295|k>>>28),k=z+(A^D^O)+V[12]+3873151461&4294967295,z=A+(k<<11&4294967295|k>>>21),k=O+(z^A^D)+V[15]+530742520&4294967295,O=z+(k<<16&4294967295|k>>>16),k=D+(O^z^A)+V[2]+3299628645&4294967295,D=O+(k<<23&4294967295|k>>>9),k=A+(O^(D|~z))+V[0]+4096336452&4294967295,A=D+(k<<6&4294967295|k>>>26),k=z+(D^(A|~O))+V[7]+1126891415&4294967295,z=A+(k<<10&4294967295|k>>>22),k=O+(A^(z|~D))+V[14]+2878612391&4294967295,O=z+(k<<15&4294967295|k>>>17),k=D+(z^(O|~A))+V[5]+4237533241&4294967295,D=O+(k<<21&4294967295|k>>>11),k=A+(O^(D|~z))+V[12]+1700485571&4294967295,A=D+(k<<6&4294967295|k>>>26),k=z+(D^(A|~O))+V[3]+2399980690&4294967295,z=A+(k<<10&4294967295|k>>>22),k=O+(A^(z|~D))+V[10]+4293915773&4294967295,O=z+(k<<15&4294967295|k>>>17),k=D+(z^(O|~A))+V[1]+2240044497&4294967295,D=O+(k<<21&4294967295|k>>>11),k=A+(O^(D|~z))+V[8]+1873313359&4294967295,A=D+(k<<6&4294967295|k>>>26),k=z+(D^(A|~O))+V[15]+4264355552&4294967295,z=A+(k<<10&4294967295|k>>>22),k=O+(A^(z|~D))+V[6]+2734768916&4294967295,O=z+(k<<15&4294967295|k>>>17),k=D+(z^(O|~A))+V[13]+1309151649&4294967295,D=O+(k<<21&4294967295|k>>>11),k=A+(O^(D|~z))+V[4]+4149444226&4294967295,A=D+(k<<6&4294967295|k>>>26),k=z+(D^(A|~O))+V[11]+3174756917&4294967295,z=A+(k<<10&4294967295|k>>>22),k=O+(A^(z|~D))+V[2]+718787259&4294967295,O=z+(k<<15&4294967295|k>>>17),k=D+(z^(O|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+z&4294967295}i.prototype.v=function(N,A){A===void 0&&(A=N.length);const D=A-this.blockSize,V=this.C;let O=this.h,z=0;for(;z<A;){if(O==0)for(;z<=D;)r(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<A;)if(V[O++]=N.charCodeAt(z++),O==this.blockSize){r(this,V),O=0;break}}else for(;z<A;)if(V[O++]=N[z++],O==this.blockSize){r(this,V),O=0;break}}this.h=O,this.o+=A},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var D=N.length-8;D<N.length;++D)N[D]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)N[A++]=this.g[D]>>>V&255;return N};function o(N,A){var D=h;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=A(N)}function c(N,A){this.h=A;const D=[];let V=!0;for(let O=N.length-1;O>=0;O--){const z=N[O]|0;V&&z==A||(D[O]=z,V=!1)}this.g=D}var h={};function f(N){return-128<=N&&N<128?o(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return M(m(-N));const A=[];let D=1;for(let V=0;N>=D;V++)A[V]=N/D|0,D*=4294967296;return new c(A,0)}function y(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return M(y(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(A,8));let V=_;for(let z=0;z<N.length;z+=8){var O=Math.min(8,N.length-z);const k=parseInt(N.substring(z,z+O),A);O<8?(O=m(Math.pow(A,O)),V=V.j(O).add(m(k))):(V=V.j(D),V=V.add(m(k)))}return V}var _=f(0),b=f(1),E=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-M(this).m();let N=0,A=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(C(this))return"-"+M(this).toString(N);const A=m(Math.pow(N,6));var D=this;let V="";for(;;){const O=J(D,A).g;D=j(D,O.j(A));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(N);if(D=O,R(D))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function C(N){return N.h==-1}n.l=function(N){return N=j(this,N),C(N)?-1:R(N)?0:1};function M(N){const A=N.g.length,D=[];for(let V=0;V<A;V++)D[V]=~N.g[V];return new c(D,~N.h).add(b)}n.abs=function(){return C(this)?M(this):this},n.add=function(N){const A=Math.max(this.g.length,N.g.length),D=[];let V=0;for(let O=0;O<=A;O++){let z=V+(this.i(O)&65535)+(N.i(O)&65535),k=(z>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=k>>>16,z&=65535,k&=65535,D[O]=k<<16|z}return new c(D,D[D.length-1]&-2147483648?-1:0)};function j(N,A){return N.add(M(A))}n.j=function(N){if(R(this)||R(N))return _;if(C(this))return C(N)?M(this).j(M(N)):M(M(this).j(N));if(C(N))return M(this.j(M(N)));if(this.l(E)<0&&N.l(E)<0)return m(this.m()*N.m());const A=this.g.length+N.g.length,D=[];for(var V=0;V<2*A;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const z=this.i(V)>>>16,k=this.i(V)&65535,Dt=N.i(O)>>>16,Tt=N.i(O)&65535;D[2*V+2*O]+=k*Tt,F(D,2*V+2*O),D[2*V+2*O+1]+=z*Tt,F(D,2*V+2*O+1),D[2*V+2*O+1]+=k*Dt,F(D,2*V+2*O+1),D[2*V+2*O+2]+=z*Dt,F(D,2*V+2*O+2)}for(N=0;N<A;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=A;N<2*A;N++)D[N]=0;return new c(D,0)};function F(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function H(N,A){this.g=N,this.h=A}function J(N,A){if(R(A))throw Error("division by zero");if(R(N))return new H(_,_);if(C(N))return A=J(M(N),A),new H(M(A.g),M(A.h));if(C(A))return A=J(N,M(A)),new H(M(A.g),A.h);if(N.g.length>30){if(C(N)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var D=b,V=A;V.l(N)<=0;)D=Q(D),V=Q(V);var O=rt(D,1),z=rt(V,1);for(V=rt(V,2),D=rt(D,2);!R(V);){var k=z.add(V);k.l(N)<=0&&(O=O.add(D),z=k),V=rt(V,1),D=rt(D,1)}return A=j(N,O.j(A)),new H(O,A)}for(O=_;N.l(A)>=0;){for(D=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=m(D),k=z.j(A);C(k)||k.l(N)>0;)D-=V,z=m(D),k=z.j(A);R(z)&&(z=b),O=O.add(z),N=j(N,k)}return new H(O,N)}n.B=function(N){return J(this,N).h},n.and=function(N){const A=Math.max(this.g.length,N.g.length),D=[];for(let V=0;V<A;V++)D[V]=this.i(V)&N.i(V);return new c(D,this.h&N.h)},n.or=function(N){const A=Math.max(this.g.length,N.g.length),D=[];for(let V=0;V<A;V++)D[V]=this.i(V)|N.i(V);return new c(D,this.h|N.h)},n.xor=function(N){const A=Math.max(this.g.length,N.g.length),D=[];for(let V=0;V<A;V++)D[V]=this.i(V)^N.i(V);return new c(D,this.h^N.h)};function Q(N){const A=N.g.length+1,D=[];for(let V=0;V<A;V++)D[V]=N.i(V)<<1|N.i(V-1)>>>31;return new c(D,N.h)}function rt(N,A){const D=A>>5;A%=32;const V=N.g.length-D,O=[];for(let z=0;z<V;z++)O[z]=A>0?N.i(z+D)>>>A|N.i(z+D+1)<<32-A:N.i(z+D);return new c(O,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,lw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Mr=c}).apply(typeof Jb<"u"?Jb:typeof self<"u"?self:typeof window<"u"?window:{});var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cw,wc,uw,_f,up,hw,fw,dw;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yh=="object"&&Yh];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var T=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var q=d[I];if(!(q in T))break t;T=T[q]}d=d[d.length-1],I=T[d],v=v(I),v!=I&&v!=null&&t(T,d,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(d){return d||function(v){var T=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&T.push([I,v[I]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,T){return d.call.apply(d.bind,arguments)}function m(d,v,T){return m=f,m.apply(null,arguments)}function y(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function _(d,v){function T(){}T.prototype=v.prototype,d.Z=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(I,q,$){for(var ut=Array(arguments.length-2),It=2;It<arguments.length;It++)ut[It-2]=arguments[It];return v.prototype[q].apply(I,ut)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function E(d){const v=d.length;if(v>0){const T=Array(v);for(let I=0;I<v;I++)T[I]=d[I];return T}return[]}function R(d,v){for(let I=1;I<arguments.length;I++){const q=arguments[I];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=d.length||0;const $=q.length||0;d.length=T+$;for(let ut=0;ut<$;ut++)d[T+ut]=q[ut]}else d.push(q)}}class C{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(d){c.setTimeout(()=>{throw d},0)}function j(){var d=N;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,T){const I=H.get();I.set(v,T),this.h?this.h.next=I:this.g=I,this.h=I}}var H=new C(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,rt=!1,N=new F,A=()=>{const d=Promise.resolve(void 0);Q=()=>{d.then(D)}};function D(){for(var d;d=j();){try{d.h.call(d.g)}catch(T){M(T)}var v=H;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return d})();function k(d){return/^[\s\xa0]*$/.test(d)}function Dt(d,v){O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(Dt,O),Dt.prototype.init=function(d,v){const T=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ot(d,v,T,I,q){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!I,this.ha=q,this.key=++X,this.da=this.fa=!1}function dt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function bt(d,v,T){for(const I in d)v.call(T,d[I],I,d)}function Ot(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function L(d){const v={};for(const T in d)v[T]=d[T];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(d,v){let T,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(T in I)d[T]=I[T];for(let $=0;$<Z.length;$++)T=Z[$],Object.prototype.hasOwnProperty.call(I,T)&&(d[T]=I[T])}}function ct(d){this.src=d,this.g={},this.h=0}ct.prototype.add=function(d,v,T,I,q){const $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);const ut=gt(d,v,I,q);return ut>-1?(v=d[ut],T||(v.fa=!1)):(v=new ot(v,this.src,$,!!I,q),v.fa=T,d.push(v)),v};function ht(d,v){const T=v.type;if(T in d.g){var I=d.g[T],q=Array.prototype.indexOf.call(I,v,void 0),$;($=q>=0)&&Array.prototype.splice.call(I,q,1),$&&(dt(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function gt(d,v,T,I){for(let q=0;q<d.length;++q){const $=d[q];if(!$.da&&$.listener==v&&$.capture==!!T&&$.ha==I)return q}return-1}var Ct="closure_lm_"+(Math.random()*1e6|0),ne={};function ie(d,v,T,I,q){if(Array.isArray(v)){for(let $=0;$<v.length;$++)ie(d,v[$],T,I,q);return null}return T=gl(T),d&&d[Tt]?d.J(v,T,h(I)?!!I.capture:!1,q):Fr(d,v,T,!1,I,q)}function Fr(d,v,T,I,q,$){if(!v)throw Error("Invalid event type");const ut=h(q)?!!q.capture:!!q;let It=Hr(d);if(It||(d[Ct]=It=new ct(d)),T=It.add(v,T,I,ut,$),T.proxy)return T;if(I=Xa(),T.proxy=I,I.src=d,I.listener=T,d.addEventListener)z||(q=ut),q===void 0&&(q=!1),d.addEventListener(v.toString(),I,q);else if(d.attachEvent)d.attachEvent(bi(v.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Xa(){function d(T){return v.call(d.src,d.listener,T)}const v=dl;return d}function $a(d,v,T,I,q){if(Array.isArray(v))for(var $=0;$<v.length;$++)$a(d,v[$],T,I,q);else I=h(I)?!!I.capture:!!I,T=gl(T),d&&d[Tt]?(d=d.i,$=String(v).toString(),$ in d.g&&(v=d.g[$],T=gt(v,T,I,q),T>-1&&(dt(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete d.g[$],d.h--)))):d&&(d=Hr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=gt(v,T,I,q)),(T=d>-1?v[d]:null)&&Qa(T))}function Qa(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Tt])ht(v.i,d);else{var T=d.type,I=d.proxy;v.removeEventListener?v.removeEventListener(T,I,d.capture):v.detachEvent?v.detachEvent(bi(T),I):v.addListener&&v.removeListener&&v.removeListener(I),(T=Hr(v))?(ht(T,d),T.h==0&&(T.src=null,v[Ct]=null)):dt(d)}}}function bi(d){return d in ne?ne[d]:ne[d]="on"+d}function dl(d,v){if(d.da)d=!0;else{v=new Dt(v,this);const T=d.listener,I=d.ha||d.src;d.fa&&Qa(d),d=T.call(I,v)}return d}function Hr(d){return d=d[Ct],d instanceof ct?d:null}var ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function gl(d){return typeof d=="function"?d:(d[ml]||(d[ml]=function(v){return d.handleEvent(v)}),d[ml])}function Ae(){V.call(this),this.i=new ct(this),this.M=this,this.G=null}_(Ae,V),Ae.prototype[Tt]=!0,Ae.prototype.removeEventListener=function(d,v,T,I){$a(this,d,v,T,I)};function Le(d,v){var T,I=d.G;if(I)for(T=[];I;I=I.G)T.push(I);if(d=d.M,I=v.type||v,typeof v=="string")v=new O(v,d);else if(v instanceof O)v.target=v.target||d;else{var q=v;v=new O(I,d),lt(v,q)}q=!0;let $,ut;if(T)for(ut=T.length-1;ut>=0;ut--)$=v.g=T[ut],q=Us($,I,!0,v)&&q;if($=v.g=d,q=Us($,I,!0,v)&&q,q=Us($,I,!1,v)&&q,T)for(ut=0;ut<T.length;ut++)$=v.g=T[ut],q=Us($,I,!1,v)&&q}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const T=d.g[v];for(let I=0;I<T.length;I++)dt(T[I]);delete d.g[v],d.h--}}this.G=null},Ae.prototype.J=function(d,v,T,I){return this.i.add(String(d),v,!1,T,I)},Ae.prototype.K=function(d,v,T,I){return this.i.add(String(d),v,!0,T,I)};function Us(d,v,T,I){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let $=0;$<v.length;++$){const ut=v[$];if(ut&&!ut.da&&ut.capture==T){const It=ut.listener,xe=ut.ha||ut.src;ut.fa&&ht(d.i,ut),q=It.call(xe,I)!==!1&&q}}return q&&!I.defaultPrevented}function Rd(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(d,v||0)}function pu(d){d.g=Rd(()=>{d.g=null,d.i&&(d.i=!1,pu(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class mn extends V{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(d){V.call(this),this.h=d,this.g={}}_(qr,V);var pl=[];function yl(d){bt(d.g,function(v,T){this.g.hasOwnProperty(T)&&Qa(v)},d),d.g={}}qr.prototype.N=function(){qr.Z.N.call(this),yl(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bs=c.JSON.stringify,Cd=c.JSON.parse,yu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function _u(){}function vu(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){O.call(this,"d")}_(Xe,O);function Ln(){O.call(this,"c")}_(Ln,O);var be={},bu=null;function Wa(){return bu=bu||new Ae}be.Ia="serverreachability";function xu(d){O.call(this,be.Ia,d)}_(xu,O);function xi(d){const v=Wa();Le(v,new xu(v))}be.STAT_EVENT="statevent";function Gr(d,v){O.call(this,be.STAT_EVENT,d),this.stat=v}_(Gr,O);function Re(d){const v=Wa();Le(v,new Gr(v,d))}be.Ja="timingevent";function Ti(d,v){O.call(this,be.Ja,d),this.size=v}_(Ti,O);function Ei(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function Id(d,v,T,I,q,$){d.info(function(){if(d.g)if($){var ut="",It=$.split("&");for(let Kt=0;Kt<It.length;Kt++){var xe=It[Kt].split("=");if(xe.length>1){const me=xe[0];xe=xe[1];const Bn=me.split("_");ut=Bn.length>=2&&Bn[1]=="type"?ut+(me+"="+xe+"&"):ut+(me+"=redacted&")}}}else ut=null;else ut=$;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+v+`
`+T+`
`+ut})}function Tu(d,v,T,I,q,$,ut){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+v+`
`+T+`
`+$+" "+ut})}function wi(d,v,T,I){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Md(d,T)+(I?" "+I:"")})}function Yr(d,v){d.info(function(){return"TIMEOUT: "+v})}si.prototype.info=function(){};function Md(d,v){if(!d.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(d=0;d<$.length;d++)if(Array.isArray($[d])){var T=$[d];if(!(T.length<2)){var I=T[1];if(Array.isArray(I)&&!(I.length<1)){var q=I[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ut=1;ut<I.length;ut++)I[ut]=""}}}}return Bs($)}catch{return v}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function Xr(){}_(Xr,_u),Xr.prototype.g=function(){return new XMLHttpRequest},vl=new Xr;function as(d){return encodeURIComponent(String(d))}function Eu(d){var v=1;d=d.split(":");const T=[];for(;v>0&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function ri(d,v,T,I){this.j=d,this.i=v,this.l=T,this.S=I||1,this.V=new qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Ce={},qe={};function Si(d,v,T){d.M=1,d.A=$r(Me(v)),d.u=T,d.R=!0,Za(d,null)}function Za(d,v){d.F=Date.now(),Ai(d),d.B=Me(d.A);var T=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),no(T.i,"t",I),d.C=0,T=d.j.L,d.h=new ai,d.g=ju(d.j,T?v:null,!d.u),d.P>0&&(d.O=new mn(m(d.Y,d,d.g),d.P)),v=d.V,T=d.g,I=d.ba;var q="readystatechange";Array.isArray(q)||(q&&(pl[0]=q.toString()),q=pl);for(let $=0;$<q.length;$++){const ut=ie(T,q[$],I||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=d.J?L(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),xi(),Id(d.i,d.v,d.B,d.l,d.S,d.u)}ri.prototype.ba=function(d){d=d.target;const v=this.O;v&&ci(d)==3?v.j():this.Y(d)},ri.prototype.Y=function(d){try{if(d==this.g)t:{const It=ci(this.g),xe=this.g.ya(),Kt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||It!=4||xe==7||(xe==8||Kt<=0?xi(3):xi(2)),Ri(this);var v=this.g.ca();this.X=v;var T=Nd(this);if(this.o=v==200,Tu(this.i,this.v,this.B,this.l,this.S,It,v),this.o){if(this.U&&!this.L){e:{if(this.g){var I,q=this.g;if((I=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var $=I;break e}}$=null}if(d=$)wi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,d);else{this.o=!1,this.m=3,Re(12),Rn(this),jn(this);break t}}if(this.R){d=!0;let me;for(;!this.K&&this.C<T.length;)if(me=Su(this,T),me==qe){It==4&&(this.m=4,Re(14),d=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ce){this.m=4,Re(15),wi(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else wi(this.i,this.l,me,null),Ci(this,me);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||T.length!=0||this.h.h||(this.m=1,Re(16),d=!1),this.o=this.o&&d,!d)wi(this.i,this.l,T,"[Invalid Chunked Response]"),Rn(this),jn(this);else if(T.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),kl(ut),ut.P=!0,Re(11))}}else wi(this.i,this.l,T,null),Ci(this,T);It==4&&Rn(this),this.o&&!this.K&&(It==4?ku(this.j,this):(this.o=!1,Ai(this)))}else ls(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Rn(this),jn(this)}}}catch{}finally{}};function Nd(d){if(!wu(d))return d.g.la();const v=$e(d.g);if(v==="")return"";let T="";const I=v.length,q=ci(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Rn(d),jn(d),"";d.h.i=new c.TextDecoder}for(let $=0;$<I;$++)d.h.h=!0,T+=d.h.i.decode(v[$],{stream:!(q&&$==I-1)});return v.length=0,d.h.g+=T,d.C=0,d.h.g}function wu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Su(d,v){var T=d.C,I=v.indexOf(`
`,T);return I==-1?qe:(T=Number(v.substring(T,I)),isNaN(T)?Ce:(I+=1,I+T>v.length?qe:(v=v.slice(I,I+T),d.C=I+T,v)))}ri.prototype.cancel=function(){this.K=!0,Rn(this)};function Ai(d){d.T=Date.now()+d.H,Ja(d,d.H)}function Ja(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ei(m(d.aa,d),v)}function Ri(d){d.D&&(c.clearTimeout(d.D),d.D=null)}ri.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Yr(this.i,this.B),this.M!=2&&(xi(),Re(17)),Rn(this),this.m=2,jn(this)):Ja(this,this.T-d)};function jn(d){d.j.I==0||d.K||ku(d.j,d)}function Rn(d){Ri(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,yl(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ci(d,v){try{var T=d.j;if(T.I!=0&&(T.g==d||Mi(T.h,d))){if(!d.L&&Mi(T.h,d)&&T.I==3){try{var I=T.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)oo(T),$s(T);else break t;na(T),Re(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ei(m(T.Va,T),6e3));Ii(T.h)<=1&&T.ta&&(T.ta=void 0)}else Pi(T,11)}else if((d.L||T.g==d)&&oo(T),!k(v))for(q=T.Ba.g.parse(v),v=0;v<q.length;v++){let Kt=q[v];const me=Kt[0];if(!(me<=T.K))if(T.K=me,Kt=Kt[1],T.I==2)if(Kt[0]=="c"){T.M=Kt[1],T.ba=Kt[2];const Bn=Kt[3];Bn!=null&&(T.ka=Bn,T.j.info("VER="+T.ka));const Li=Kt[4];Li!=null&&(T.za=Li,T.j.info("SVER="+T.za));const ui=Kt[5];ui!=null&&typeof ui=="number"&&ui>0&&(I=1.5*ui,T.O=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const hi=d.g;if(hi){const ia=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var $=I.h;$.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Tl($,$.h),$.h=null))}if(I.G){const lo=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(I.wa=lo,Wt(I.J,I.G,lo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),I=T;var ut=d;if(I.na=Lu(I,I.L?I.ba:null,I.W),ut.L){El(I.h,ut);var It=ut,xe=I.O;xe&&(It.H=xe),It.D&&(Ri(It),Ai(It)),I.g=ut}else Du(I);T.i.length>0&&Vi(T)}else Kt[0]!="stop"&&Kt[0]!="close"||Pi(T,7);else T.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Pi(T,7):Dl(T):Kt[0]!="noop"&&T.l&&T.l.qa(Kt),T.A=0)}}xi(4)}catch{}}var Ie=class{constructor(d,v){this.g=d,this.map=v}};function bl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ii(d){return d.h?1:d.g?d.g.size:0}function Mi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Tl(d,v){d.g?d.g.add(v):d.h=v}function El(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}bl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function wl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.G);return v}return E(d.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function to(d,v){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const I=d[T].indexOf("=");let q,$=null;I>=0?(q=d[T].substring(0,I),$=d[T].substring(I+1)):q=d[T],v(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Cn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Cn?(this.l=d.l,Ge(this,d.j),this.o=d.o,this.g=d.g,Fs(this,d.u),this.h=d.h,Sl(this,Mu(d.i)),this.m=d.m):d&&(v=String(d).match(Au))?(this.l=!1,Ge(this,v[1]||"",!0),this.o=Ni(v[2]||""),this.g=Ni(v[3]||"",!0),Fs(this,v[4]),this.h=Ni(v[5]||"",!0),Sl(this,v[6]||"",!0),this.m=Ni(v[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}Cn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Qr(v,eo,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Qr(v,eo,!0),"@"),d.push(as(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Qr(T,T.charAt(0)=="/"?Al:Ru,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Qr(T,Cu)),d.join("")},Cn.prototype.resolve=function(d){const v=Me(this);let T=!!d.j;T?Ge(v,d.j):T=!!d.o,T?v.o=d.o:T=!!d.g,T?v.g=d.g:T=d.u!=null;var I=d.h;if(T)Fs(v,d.u);else if(T=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var q=v.h.lastIndexOf("/");q!=-1&&(I=v.h.slice(0,q+1)+I)}if(q=I,q==".."||q==".")I="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){I=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let ut=0;ut<q.length;){const It=q[ut++];It=="."?I&&ut==q.length&&$.push(""):It==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),I&&ut==q.length&&$.push("")):($.push(It),I=!0)}I=$.join("/")}else I=q}return T?v.h=I:T=d.i.toString()!=="",T?Sl(v,Mu(d.i)):T=!!d.m,T&&(v.m=d.m),v};function Me(d){return new Cn(d)}function Ge(d,v,T){d.j=T?Ni(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Fs(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Sl(d,v,T){v instanceof qs?(d.i=v,io(d.i,d.l)):(T||(v=Qr(v,Hs)),d.i=new qs(v,d.l))}function Wt(d,v,T){d.i.set(v,T)}function $r(d){return Wt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ni(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qr(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,yn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var eo=/[#\/\?@]/g,Ru=/[#\?:]/g,Al=/[#\?]/g,Hs=/[#\?@]/g,Cu=/#/g;function qs(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function _n(d){d.g||(d.g=new Map,d.h=0,d.i&&to(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=qs.prototype,n.add=function(d,v){_n(this),this.i=null,d=Gs(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function Iu(d,v){_n(d),v=Gs(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Rl(d,v){return _n(d),v=Gs(d,v),d.g.has(v)}n.forEach=function(d,v){_n(this),this.g.forEach(function(T,I){T.forEach(function(q){d.call(v,q,I,this)},this)},this)};function Cl(d,v){_n(d);let T=[];if(typeof v=="string")Rl(d,v)&&(T=T.concat(d.g.get(Gs(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)T=T.concat(d[v]);return T}n.set=function(d,v){return _n(this),this.i=null,d=Gs(this,d),Rl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=Cl(this,d),d.length>0?String(d[0]):v):v};function no(d,v,T){Iu(d,v),T.length>0&&(d.i=null,d.g.set(Gs(d,v),E(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var T=v[I];const q=as(T);T=Cl(this,T);for(let $=0;$<T.length;$++){let ut=q;T[$]!==""&&(ut+="="+as(T[$])),d.push(ut)}}return this.i=d.join("&")};function Mu(d){const v=new qs;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Gs(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function io(d,v){v&&!d.j&&(_n(d),d.i=null,d.g.forEach(function(T,I){const q=I.toLowerCase();I!=q&&(Iu(this,I),no(this,q,T))},d)),d.j=v}function oi(d,v){const T=new si;if(c.Image){const I=new Image;I.onload=y(zn,T,"TestLoadImage: loaded",!0,v,I),I.onerror=y(zn,T,"TestLoadImage: error",!1,v,I),I.onabort=y(zn,T,"TestLoadImage: abort",!1,v,I),I.ontimeout=y(zn,T,"TestLoadImage: timeout",!1,v,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else v(!1)}function Il(d,v){const T=new si,I=new AbortController,q=setTimeout(()=>{I.abort(),zn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:I.signal}).then($=>{clearTimeout(q),$.ok?zn(T,"TestPingServer: ok",!0,v):zn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),zn(T,"TestPingServer: error",!1,v)})}function zn(d,v,T,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(T)}catch{}}function Ys(){this.g=new yu}function Di(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Di,_u),Di.prototype.g=function(){return new Wr(this.i,this.h)};function Wr(d,v){Ae.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Wr,Ae),n=Wr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,li(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;so(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function so(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ks(this):li(this),this.readyState==3&&so(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Ks(this))},n.Na=function(d){this.g&&(this.response=d,Ks(this))},n.ga=function(){this.g&&Ks(this)};function Ks(d){d.readyState=4,d.l=null,d.j=null,d.B=null,li(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function li(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Un(d){let v="";return bt(d,function(T,I){v+=I,v+=":",v+=T,v+=`\r
`}),v}function Zr(d,v,T){t:{for(I in T){var I=!1;break t}I=!0}I||(T=Un(T),typeof d=="string"?T!=null&&as(T):Wt(d,v,T))}function se(d){Ae.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(se,Ae);var Oi=/^https?$/i,Ml=["POST","PUT"];n=se.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch($){Jr(this,$);return}if(d=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)T.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())T.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),q=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Ml,v,void 0)>=0)||I||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ut]of T)this.g.setRequestHeader($,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch($){Jr(this,$)}};function Jr(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Nl(d),os(d)}function Nl(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Le(this,"complete"),Le(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),se.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},n.Xa=function(){ta(this)};function ta(d){if(d.h&&typeof o<"u"){if(d.v&&ci(d)==4)setTimeout(d.Ca.bind(d),0);else if(Le(d,"readystatechange"),ci(d)==4){d.h=!1;try{const $=d.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var I;if(I=$===0){let ut=String(d.D).match(Au)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),I=!Oi.test(ut?ut.toLowerCase():"")}T=I}if(T)Le(d,"complete"),Le(d,"success");else{d.o=6;try{var q=ci(d)>2?d.g.statusText:""}catch{q=""}d.l=q+" ["+d.ca()+"]",Nl(d)}}finally{os(d)}}}}function os(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,v||Le(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ci(d){return d.g?d.g.readyState:0}n.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Cd(v)}};function $e(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(d){const v={};d=(d.g&&ci(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(k(d[I]))continue;var T=Eu(d[I]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=v[q]||[];v[q]=$,$.push(T)}Ot(v,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function Xs(d){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,d),this.Za=ki("retryDelaySeedMs",1e4,d),this.Ta=ki("forwardChannelMaxRetries",2,d),this.va=ki("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(d&&d.concurrentRequestLimit),this.Ba=new Ys,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Xs.prototype,n.ka=8,n.I=1,n.connect=function(d,v,T,I){Re(0),this.W=d,this.H=v||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.J=Lu(this,null,this.W),Vi(this)};function Dl(d){if(ro(d),d.I==3){var v=d.V++,T=Me(d.J);if(Wt(T,"SID",d.M),Wt(T,"RID",v),Wt(T,"TYPE","terminate"),ea(d,T),v=new ri(d,d.j,v),v.M=2,v.A=$r(Me(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=ju(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}Pu(d)}function $s(d){d.g&&(kl(d),d.g.cancel(),d.g=null)}function ro(d){$s(d),d.v&&(c.clearTimeout(d.v),d.v=null),oo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Vi(d){if(!xl(d.h)&&!d.m){d.m=!0;var v=d.Ea;Q||A(),rt||(Q(),rt=!0),N.add(v,d),d.D=0}}function ao(d,v){return Ii(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ei(m(d.Ea,d,v),Vu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const q=new ri(this,this.j,d);let $=this.o;if(this.U&&($?($=L($),lt($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Nu(this,q,v),T=Me(this.J),Wt(T,"RID",d),Wt(T,"CVER",22),this.G&&Wt(T,"X-HTTP-Session-Id",this.G),ea(this,T),$&&(this.R?v="headers="+as(Un($))+"&"+v:this.u&&Zr(T,this.u,$)),Tl(this.h,q),this.Ra&&Wt(T,"TYPE","init"),this.S?(Wt(T,"$req",v),Wt(T,"SID","null"),q.U=!0,Si(q,T,null)):Si(q,T,v),this.I=2}}else this.I==3&&(d?Ol(this,d):this.i.length==0||xl(this.h)||Ol(this))};function Ol(d,v){var T;v?T=v.l:T=d.V++;const I=Me(d.J);Wt(I,"SID",d.M),Wt(I,"RID",T),Wt(I,"AID",d.K),ea(d,I),d.u&&d.o&&Zr(I,d.u,d.o),T=new ri(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Nu(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Tl(d.h,T),Si(T,I,v)}function ea(d,v){d.H&&bt(d.H,function(T,I){Wt(v,I,T)}),d.l&&bt({},function(T,I){Wt(v,I,T)})}function Nu(d,v,T){T=Math.min(d.i.length,T);const I=d.l?m(d.l.Ka,d.l,d):null;t:{var q=d.i;let It=-1;for(;;){const xe=["count="+T];It==-1?T>0?(It=q[0].g,xe.push("ofs="+It)):It=0:xe.push("ofs="+It);let Kt=!0;for(let me=0;me<T;me++){var $=q[me].g;const Bn=q[me].map;if($-=It,$<0)It=Math.max(0,q[me].g-100),Kt=!1;else try{$="req"+$+"_"||"";try{var ut=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Li,ui]of ut){let hi=ui;h(ui)&&(hi=Bs(ui)),xe.push($+Li+"="+encodeURIComponent(hi))}}catch(Li){throw xe.push($+"type="+encodeURIComponent("_badmap")),Li}}catch{I&&I(Bn)}}if(Kt){ut=xe.join("&");break t}}ut=void 0}return d=d.i.splice(0,T),v.G=d,ut}function Du(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;Q||A(),rt||(Q(),rt=!0),N.add(v,d),d.A=0}}function na(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ei(m(d.Da,d),Vu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ei(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),$s(this),Ou(this))};function kl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Ou(d){d.g=new ri(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Me(d.na);Wt(v,"RID","rpc"),Wt(v,"SID",d.M),Wt(v,"AID",d.K),Wt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Wt(v,"TO",d.ia),Wt(v,"TYPE","xmlhttp"),ea(d,v),d.u&&d.o&&Zr(v,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=$r(Me(v)),T.u=null,T.R=!0,Za(T,d)}n.Va=function(){this.C!=null&&(this.C=null,$s(this),na(this),Re(19))};function oo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ku(d,v){var T=null;if(d.g==v){oo(d),kl(d),d.g=null;var I=2}else if(Mi(d.h,v))T=v.G,El(d.h,v),I=1;else return;if(d.I!=0){if(v.o)if(I==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var q=d.D;I=Wa(),Le(I,new Ti(I,T)),Vi(d)}else Du(d);else if(q=v.m,q==3||q==0&&v.X>0||!(I==1&&ao(d,v)||I==2&&na(d)))switch(T&&T.length>0&&(v=d.h,v.i=v.i.concat(T)),q){case 1:Pi(d,5);break;case 4:Pi(d,10);break;case 3:Pi(d,6);break;default:Pi(d,2)}}}function Vu(d,v){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*v}function Pi(d,v){if(d.j.info("Error code "+v),v==2){var T=m(d.bb,d),I=d.Ua;const q=!I;I=new Cn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ge(I,"https"),$r(I),q?oi(I.toString(),T):Il(I.toString(),T)}else Re(2);d.I=0,d.l&&d.l.pa(v),Pu(d),ro(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Pu(d){if(d.I=0,d.ja=[],d.l){const v=wl(d.h);(v.length!=0||d.i.length!=0)&&(R(d.ja,v),R(d.ja,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.oa()}}function Lu(d,v,T){var I=T instanceof Cn?Me(T):new Cn(T);if(I.g!="")v&&(I.g=v+"."+I.g),Fs(I,I.u);else{var q=c.location;I=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const $=new Cn(null);I&&Ge($,I),v&&($.g=v),q&&Fs($,q),T&&($.h=T),I=$}return T=d.G,v=d.wa,T&&v&&Wt(I,T,v),Wt(I,"VER",d.ka),ea(d,I),I}function ju(d,v,T){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new se(new Di({ab:T})):new se(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}n=zu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Qs(){}Qs.prototype.g=function(d,v){return new gn(d,v)};function gn(d,v){Ae.call(this),this.g=new Xs(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!k(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new cs(this)}_(gn,Ae),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Dl(this.g)},gn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=Bs(d),d=T);v.i.push(new Ie(v.Ya++,d)),v.I==3&&Vi(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,gn.Z.N.call(this)};function Uu(d){Xe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const T in v){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(Uu,Xe);function Bu(){Ln.call(this),this.status=1}_(Bu,Ln);function cs(d){this.g=d}_(cs,zu),cs.prototype.ra=function(){Le(this.g,"a")},cs.prototype.qa=function(d){Le(this.g,new Uu(d))},cs.prototype.pa=function(d){Le(this.g,new Bu)},cs.prototype.oa=function(){Le(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,dw=function(){return new Qs},fw=function(){return Wa()},hw=be,up={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,_f=Kr,_l.COMPLETE="complete",uw=_l,vu.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,wc=vu,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,cw=se}).apply(typeof Yh<"u"?Yh:typeof self<"u"?self:typeof window<"u"?window:{});const tx="@firebase/firestore",ex="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new jp("@firebase/firestore");function Bo(){return ka.logLevel}function ft(n,...t){if(ka.logLevel<=zt.DEBUG){const e=t.map(Wp);ka.debug(`Firestore (${ll}): ${n}`,...e)}}function Ps(n,...t){if(ka.logLevel<=zt.ERROR){const e=t.map(Wp);ka.error(`Firestore (${ll}): ${n}`,...e)}}function Jo(n,...t){if(ka.logLevel<=zt.WARN){const e=t.map(Wp);ka.warn(`Firestore (${ll}): ${n}`,...e)}}function Wp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,mw(n,i,e)}function mw(n,t,e){let i=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ps(i),new Error(i)}function Qt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||mw(t,r,i)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends ss{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(on.UNAUTHENTICATED)))}shutdown(){}}class oM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class lM{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Os,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Os)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new gw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class cM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new cM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new nx(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=fM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ut(n,t){return n<t?-1:n>t?1:0}function hp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return jg(r)===jg(o)?Ut(r,o):jg(r)?1:-1}return Ut(n.length,t.length)}const dM=55296,mM=57343;function jg(n){const t=n.charCodeAt(0);return t>=dM&&t<=mM}function tl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="__name__";class Gi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Et(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Gi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Gi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ut(t.length,e.length)}static compareSegments(t,e){const i=Gi.isNumericId(t),r=Gi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Gi.extractNumericId(t).compare(Gi.extractNumericId(e)):hp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mr.fromString(t.substring(4,t.length-2))}}class fe extends Gi{construct(t,e,i){return new fe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new yt(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new fe(e)}static emptyPath(){return new fe([])}}const gM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Gi{construct(t,e,i){return new en(t,e,i)}static isValidIdentifier(t){return gM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ix}static keyField(){return new en([ix])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new yt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new yt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new yt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new yt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(fe.fromString(t))}static fromName(t){return new vt(fe.fromString(t).popFirst(5))}static empty(){return new vt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return fe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(n,t,e){if(!e)throw new yt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function pM(n,t,e,i){if(t===!0&&i===!0)throw new yt(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function sx(n){if(!vt.isDocumentKey(n))throw new yt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rx(n){if(vt.isDocumentKey(n))throw new yt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Jp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function kr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Jp(n);throw new yt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n,t){const e={typeString:n};return t&&(e.value=t),e}function lu(n,t){if(!yw(n))throw new yt(at.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new yt(at.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=-62135596800,ox=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*ox);return new de(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<ax)throw new yt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ox}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lu(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ax;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Pe("string",de._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new de(0,0))}static max(){return new St(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=-1;function yM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new de(e+1,0):new de(e,i));return new Vr(r,vt.empty(),t)}function _M(n){return new Vr(n.readTime,n.key,Hc)}class Vr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Vr(St.min(),vt.empty(),Hc)}static max(){return new Vr(St.max(),vt.empty(),Hc)}}function vM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:Ut(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==bM)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,i)=>{e(t)}))}static reject(t){return new st(((e,i)=>{i(t)}))}static waitFor(t){return new st(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next((r=>r?st.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new st(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((y=>{c[m]=y,++h,h===o&&i(c)}),(y=>r(y)))}}))}static doWhile(t,e){return new st(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function TM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ul(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}od.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-1;function ld(n){return n==null}function Vf(n){return n===0&&1/n==-1/0}function EM(n){return typeof n=="number"&&Number.isInteger(n)&&!Vf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="";function wM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=lx(t)),t=SM(n.get(e),t);return lx(t)}function SM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case _w:e+="";break;default:e+=o}}return e}function lx(n){return n+_w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Fa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function vw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new pe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kh(this.root,t,this.comparator,!0)}}class Kh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=r??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new tn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ux(this.data.getIterator())}getIteratorFrom(t){return new ux(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class ux{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new yi([])}unionWith(t){let e=new He(en.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new yi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return tl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bw("Invalid base64 string: "+o):o}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const AM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=AM.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(n.seconds),nanos:we(n.nanos)}}function we(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lr(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="server_timestamp",Tw="__type__",Ew="__previous_value__",ww="__local_write_time__";function ey(n){return(n?.mapValue?.fields||{})[Tw]?.stringValue===xw}function cd(n){const t=n.mapValue.fields[Ew];return ey(t)?cd(t):t}function qc(n){const t=Pr(n.mapValue.fields[ww].timestampValue);return new de(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,e,i,r,o,c,h,f,m,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const Pf="(default)";class Gc{constructor(t,e){this.projectId=t,this.database=e||Pf}static empty(){return new Gc("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(t){return t instanceof Gc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="__type__",CM="__max__",Xh={mapValue:{}},Aw="__vector__",Lf="value";function jr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ey(n)?4:MM(n)?9007199254740991:IM(n)?10:11:Et(28295,{value:n})}function es(n,t){if(n===t)return!0;const e=jr(n);if(e!==jr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return qc(n).isEqual(qc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Pr(r.timestampValue),h=Pr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Lr(r.bytesValue).isEqual(Lr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return we(r.geoPointValue.latitude)===we(o.geoPointValue.latitude)&&we(r.geoPointValue.longitude)===we(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return we(r.integerValue)===we(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=we(r.doubleValue),h=we(o.doubleValue);return c===h?Vf(c)===Vf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return tl(n.arrayValue.values||[],t.arrayValue.values||[],es);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(cx(c)!==cx(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!es(c[f],h[f])))return!1;return!0})(n,t);default:return Et(52216,{left:n})}}function Yc(n,t){return(n.values||[]).find((e=>es(e,t)))!==void 0}function el(n,t){if(n===t)return 0;const e=jr(n),i=jr(t);if(e!==i)return Ut(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=we(o.integerValue||o.doubleValue),f=we(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return hx(n.timestampValue,t.timestampValue);case 4:return hx(qc(n),qc(t));case 5:return hp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Lr(o),f=Lr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=Ut(h[m],f[m]);if(y!==0)return y}return Ut(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Ut(we(o.latitude),we(c.latitude));return h!==0?h:Ut(we(o.longitude),we(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return fx(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[Lf]?.arrayValue,y=f[Lf]?.arrayValue,_=Ut(m?.values?.length||0,y?.values?.length||0);return _!==0?_:fx(m,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Xh.mapValue&&c===Xh.mapValue)return 0;if(o===Xh.mapValue)return 1;if(c===Xh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const b=hp(f[_],y[_]);if(b!==0)return b;const E=el(h[f[_]],m[y[_]]);if(E!==0)return E}return Ut(f.length,y.length)})(n.mapValue,t.mapValue);default:throw Et(23264,{he:e})}}function hx(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const e=Pr(n),i=Pr(t),r=Ut(e.seconds,i.seconds);return r!==0?r:Ut(e.nanos,i.nanos)}function fx(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=el(e[r],i[r]);if(o)return o}return Ut(e.length,i.length)}function nl(n){return fp(n)}function fp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Pr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Lr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return vt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=fp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${fp(e.fields[c])}`;return r+"}"})(n.mapValue):Et(61005,{value:n})}function vf(n){switch(jr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cd(n);return t?16+vf(t):16;case 5:return 2*n.stringValue.length;case 6:return Lr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+vf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Fa(i.fields,((o,c)=>{r+=o.length+vf(c)})),r})(n.mapValue);default:throw Et(13486,{value:n})}}function dp(n){return!!n&&"integerValue"in n}function ny(n){return!!n&&"arrayValue"in n}function dx(n){return!!n&&"nullValue"in n}function mx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bf(n){return!!n&&"mapValue"in n}function IM(n){return(n?.mapValue?.fields||{})[Sw]?.stringValue===Aw}function Oc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Fa(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Oc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Oc(n.arrayValue.values[e]);return t}return{...n}}function MM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.value=t}static empty(){return new Zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!bf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Oc(e)}setAll(t){let e=en.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Oc(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());bf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return es(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];bf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Fa(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Zn(Oc(this.value))}}function Rw(n){const t=[];return Fa(n.fields,((e,i)=>{const r=new en([e]);if(bf(i)){const o=Rw(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new yi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ln(t,0,St.min(),St.min(),St.min(),Zn.empty(),0)}static newFoundDocument(t,e,i,r){return new ln(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new ln(t,2,e,St.min(),St.min(),Zn.empty(),0)}static newUnknownDocument(t,e){return new ln(t,3,e,St.min(),St.min(),Zn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t,e){this.position=t,this.inclusive=e}}function gx(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=vt.comparator(vt.fromName(c.referenceValue),e.key):i=el(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function px(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!es(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,e="asc"){this.field=t,this.dir=e}}function NM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{}class ze extends Cw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new OM(t,e,i):e==="array-contains"?new PM(t,i):e==="in"?new LM(t,i):e==="not-in"?new jM(t,i):e==="array-contains-any"?new zM(t,i):new ze(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new kM(t,i):new VM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(el(e,this.value)):e!==null&&jr(this.value)===jr(e)&&this.matchesComparison(el(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends Cw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ns(t,e)}matches(t){return Iw(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Iw(n){return n.op==="and"}function Mw(n){return DM(n)&&Iw(n)}function DM(n){for(const t of n.filters)if(t instanceof ns)return!1;return!0}function mp(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+nl(n.value);if(Mw(n))return n.filters.map((t=>mp(t))).join(",");{const t=n.filters.map((e=>mp(e))).join(",");return`${n.op}(${t})`}}function Nw(n,t){return n instanceof ze?(function(i,r){return r instanceof ze&&i.op===r.op&&i.field.isEqual(r.field)&&es(i.value,r.value)})(n,t):n instanceof ns?(function(i,r){return r instanceof ns&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&Nw(c,r.filters[h])),!0):!1})(n,t):void Et(19439)}function Dw(n){return n instanceof ze?(function(e){return`${e.field.canonicalString()} ${e.op} ${nl(e.value)}`})(n):n instanceof ns?(function(e){return e.op.toString()+" {"+e.getFilters().map(Dw).join(" ,")+"}"})(n):"Filter"}class OM extends ze{constructor(t,e,i){super(t,e,i),this.key=vt.fromName(i.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class kM extends ze{constructor(t,e){super(t,"in",e),this.keys=Ow("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class VM extends ze{constructor(t,e){super(t,"not-in",e),this.keys=Ow("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Ow(n,t){return(t.arrayValue?.values||[]).map((e=>vt.fromName(e.referenceValue)))}class PM extends ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ny(e)&&Yc(e.arrayValue,this.value)}}class LM extends ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Yc(this.value.arrayValue,e)}}class jM extends ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Yc(this.value.arrayValue,e)}}class zM extends ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ny(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Yc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function yx(n,t=null,e=[],i=[],r=null,o=null,c=null){return new UM(n,t,e,i,r,o,c)}function iy(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>mp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),ld(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>nl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>nl(i))).join(",")),t.Te=e}return t.Te}function sy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!NM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Nw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!px(n.startAt,t.startAt)&&px(n.endAt,t.endAt)}function gp(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BM(n,t,e,i,r,o,c,h){return new ud(n,t,e,i,r,o,c,h)}function ry(n){return new ud(n)}function _x(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FM(n){return n.collectionGroup!==null}function kc(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new He(en.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new zf(o,i))})),e.has(en.keyField().canonicalString())||t.Ie.push(new zf(en.keyField(),i))}return t.Ie}function Xi(n){const t=Rt(n);return t.Ee||(t.Ee=HM(t,kc(n))),t.Ee}function HM(n,t){if(n.limitType==="F")return yx(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new zf(r.field,o)}));const e=n.endAt?new jf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new jf(n.startAt.position,n.startAt.inclusive):null;return yx(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function pp(n,t,e){return new ud(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function hd(n,t){return sy(Xi(n),Xi(t))&&n.limitType===t.limitType}function kw(n){return`${iy(Xi(n))}|lt:${n.limitType}`}function Fo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>Dw(r))).join(", ")}]`),ld(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>nl(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>nl(r))).join(",")),`Target(${i})`})(Xi(n))}; limitType=${n.limitType})`}function fd(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):vt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of kc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const m=gx(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,kc(i),r)||i.endAt&&!(function(c,h,f){const m=gx(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,kc(i),r))})(n,t)}function qM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vw(n){return(t,e)=>{let i=!1;for(const r of kc(n)){const o=GM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function GM(n,t,e){const i=n.field.isKeyField()?vt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?el(f,m):Et(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Fa(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return vw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new pe(vt.comparator);function Ls(){return YM}const Pw=new pe(vt.comparator);function Sc(...n){let t=Pw;for(const e of n)t=t.insert(e.key,e);return t}function Lw(n){let t=Pw;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Aa(){return Vc()}function jw(){return Vc()}function Vc(){return new Ha((n=>n.toString()),((n,t)=>n.isEqual(t)))}const KM=new pe(vt.comparator),XM=new He(vt.comparator);function Bt(...n){let t=XM;for(const e of n)t=t.add(e);return t}const $M=new He(Ut);function QM(){return $M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(t)?"-0":t}}function zw(n){return{integerValue:""+n}}function WM(n,t){return EM(t)?zw(t):ay(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function ZM(n,t,e){return n instanceof Uf?(function(r,o){const c={fields:{[Tw]:{stringValue:xw},[ww]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ey(o)&&(o=cd(o)),o&&(c.fields[Ew]=o),{mapValue:c}})(e,t):n instanceof Kc?Bw(n,t):n instanceof Xc?Fw(n,t):(function(r,o){const c=Uw(r,o),h=vx(c)+vx(r.Ae);return dp(c)&&dp(r.Ae)?zw(h):ay(r.serializer,h)})(n,t)}function JM(n,t,e){return n instanceof Kc?Bw(n,t):n instanceof Xc?Fw(n,t):e}function Uw(n,t){return n instanceof Bf?(function(i){return dp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Uf extends dd{}class Kc extends dd{constructor(t){super(),this.elements=t}}function Bw(n,t){const e=Hw(t);for(const i of n.elements)e.some((r=>es(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Xc extends dd{constructor(t){super(),this.elements=t}}function Fw(n,t){let e=Hw(t);for(const i of n.elements)e=e.filter((r=>!es(r,i)));return{arrayValue:{values:e}}}class Bf extends dd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function vx(n){return we(n.integerValue||n.doubleValue)}function Hw(n){return ny(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function tN(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Kc&&r instanceof Kc||i instanceof Xc&&r instanceof Xc?tl(i.elements,r.elements,es):i instanceof Bf&&r instanceof Bf?es(i.Ae,r.Ae):i instanceof Uf&&r instanceof Uf})(n.transform,t.transform)}class eN{constructor(t,e){this.version=t,this.transformResults=e}}class $i{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class md{}function qw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new oy(n.key,$i.none()):new cu(n.key,n.data,$i.none());{const e=n.data,i=Zn.empty();let r=new He(en.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new qa(n.key,i,new yi(r.toArray()),$i.none())}}function nN(n,t,e){n instanceof cu?(function(r,o,c){const h=r.value.clone(),f=xx(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof qa?(function(r,o,c){if(!xf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=xx(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(Gw(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Pc(n,t,e,i){return n instanceof cu?(function(o,c,h,f){if(!xf(o.precondition,c))return h;const m=o.value.clone(),y=Tx(o.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof qa?(function(o,c,h,f){if(!xf(o.precondition,c))return h;const m=Tx(o.fieldTransforms,f,c),y=c.data;return y.setAll(Gw(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,h){return xf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function iN(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Uw(i.transform,r||null);o!=null&&(e===null&&(e=Zn.empty()),e.set(i.field,o))}return e||null}function bx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&tl(i,r,((o,c)=>tN(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class cu extends md{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qa extends md{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Gw(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function xx(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,JM(c,h,e[r]))}return i}function Tx(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,ZM(o,c,t))}return i}class oy extends md{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sN extends md{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&nN(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Pc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Pc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=jw();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=qw(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(St.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&tl(this.mutations,t.mutations,((e,i)=>bx(e,i)))&&tl(this.baseMutations,t.baseMutations,((e,i)=>bx(e,i)))}}class ly{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return KM})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new ly(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Ht;function lN(n){switch(n){case at.OK:return Et(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function Yw(n){if(n===void 0)return Ps("GRPC error has no .code"),at.UNKNOWN;switch(n){case Ve.OK:return at.OK;case Ve.CANCELLED:return at.CANCELLED;case Ve.UNKNOWN:return at.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return at.INTERNAL;case Ve.UNAVAILABLE:return at.UNAVAILABLE;case Ve.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Ve.NOT_FOUND:return at.NOT_FOUND;case Ve.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Ve.ABORTED:return at.ABORTED;case Ve.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Ve.DATA_LOSS:return at.DATA_LOSS;default:return Et(39323,{code:n})}}(Ht=Ve||(Ve={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new Mr([4294967295,4294967295],0);function Ex(n){const t=cN().encode(n),e=new lw;return e.update(t),new Uint8Array(e.digest())}function wx(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Mr([e,i],0),new Mr([r,o],0)]}class cy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ac(`Invalid padding: ${e}`);if(i<0)throw new Ac(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Mr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Mr.fromNumber(i)));return r.compare(uN)===1&&(r=new Mr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Ex(t),[i,r]=wx(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new cy(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=Ex(t),[i,r]=wx(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,uu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new gd(St.min(),r,new pe(Ut),Ls(),Bt())}}class uu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new uu(i,e,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class Kw{constructor(t,e){this.targetId=t,this.Ce=e}}class Xw{constructor(t,e,i=nn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Sx{constructor(){this.ve=0,this.Fe=Ax(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),e=Bt(),i=Bt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Et(38017,{changeType:o})}})),new uu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=Ax()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ls(),this.Je=$h(),this.He=$h(),this.Ye=new pe(Ut)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(gp(o))if(i===0){const c=new vt(o.path);this.et(e,c,ln.newNoDocument(c,St.min()))}else Qt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=Lr(i).toUint8Array()}catch(f){if(f instanceof bw)return Jo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new cy(c,r,o)}catch(f){return Jo(f instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&gp(h.target)){const f=new vt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ln.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Bt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new gd(t,e,this.Ye,this.je,i);return this.je=Ls(),this.Je=$h(),this.He=$h(),this.Ye=new pe(Ut),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Sx,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new He(Ut),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new He(Ut),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Sx),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function $h(){return new pe(vt.comparator)}function Ax(){return new pe(vt.comparator)}const fN={asc:"ASCENDING",desc:"DESCENDING"},dN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mN={and:"AND",or:"OR"};class gN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function yp(n,t){return n.useProto3Json||ld(t)?t:{value:t}}function Ff(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $w(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function pN(n,t){return Ff(n,t.toTimestamp())}function Qi(n){return Qt(!!n,49232),St.fromTimestamp((function(e){const i=Pr(e);return new de(i.seconds,i.nanos)})(n))}function uy(n,t){return _p(n,t).canonicalString()}function _p(n,t){const e=(function(r){return new fe(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Qw(n){const t=fe.fromString(n);return Qt(eS(t),10190,{key:t.toString()}),t}function vp(n,t){return uy(n.databaseId,t.path)}function zg(n,t){const e=Qw(t);if(e.get(1)!==n.databaseId.projectId)throw new yt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new yt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(Zw(e))}function Ww(n,t){return uy(n.databaseId,t)}function yN(n){const t=Qw(n);return t.length===4?fe.emptyPath():Zw(t)}function bp(n){return new fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Zw(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Rx(n,t,e){return{name:vp(n,t),fields:e.value.mapValue.fields}}function _N(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Et(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?at.UNKNOWN:Yw(m.code);return new yt(y,m.message||"")})(c);e=new Xw(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=zg(n,i.document.name),o=Qi(i.document.updateTime),c=i.document.createTime?Qi(i.document.createTime):St.min(),h=new Zn({mapValue:{fields:i.document.fields}}),f=ln.newFoundDocument(r,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];e=new Tf(m,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=zg(n,i.document),o=i.readTime?Qi(i.readTime):St.min(),c=ln.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Tf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=zg(n,i.document),o=i.removedTargetIds||[];e=new Tf([],o,r,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new oN(r,o),h=i.targetId;e=new Kw(h,c)}}return e}function vN(n,t){let e;if(t instanceof cu)e={update:Rx(n,t.key,t.value)};else if(t instanceof oy)e={delete:vp(n,t.key)};else if(t instanceof qa)e={update:Rx(n,t.key,t.data),updateMask:CN(t.fieldMask)};else{if(!(t instanceof sN))return Et(16599,{Vt:t.type});e={verify:vp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Uf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Xc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Bf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Et(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:pN(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Et(27497)})(n,t.precondition)),e}function bN(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?Qi(r.updateTime):Qi(o);return c.isEqual(St.min())&&(c=Qi(o)),new eN(c,r.transformResults||[])})(e,t)))):[]}function xN(n,t){return{documents:[Ww(n,t.path)]}}function TN(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Ww(n,r);const o=(function(m){if(m.length!==0)return tS(ns.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((y=>(function(b){return{field:Ho(b.field),direction:SN(b.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=yp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:r}}function EN(n){let t=yN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(_){const b=Jw(_);return b instanceof ns&&Mw(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((b=>(function(R){return new zf(qo(R.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(b)))})(e.orderBy));let h=null;e.limit&&(h=(function(_){let b;return b=typeof _=="object"?_.value:_,ld(b)?null:b})(e.limit));let f=null;e.startAt&&(f=(function(_){const b=!!_.before,E=_.values||[];return new jf(E,b)})(e.startAt));let m=null;return e.endAt&&(m=(function(_){const b=!_.before,E=_.values||[];return new jf(E,b)})(e.endAt)),BM(t,r,c,o,h,"F",f,m)}function wN(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Jw(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=qo(e.unaryFilter.field);return ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=qo(e.unaryFilter.field);return ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qo(e.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qo(e.unaryFilter.field);return ze.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ze.create(qo(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ns.create(e.compositeFilter.filters.map((i=>Jw(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(e.compositeFilter.op))})(n):Et(30097,{filter:n})}function SN(n){return fN[n]}function AN(n){return dN[n]}function RN(n){return mN[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function qo(n){return en.fromServerFormat(n.fieldPath)}function tS(n){return n instanceof ze?(function(e){if(e.op==="=="){if(mx(e.value))return{unaryFilter:{field:Ho(e.field),op:"IS_NAN"}};if(dx(e.value))return{unaryFilter:{field:Ho(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(mx(e.value))return{unaryFilter:{field:Ho(e.field),op:"IS_NOT_NAN"}};if(dx(e.value))return{unaryFilter:{field:Ho(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(e.field),op:AN(e.op),value:e.value}}})(n):n instanceof ns?(function(e){const i=e.getFilters().map((r=>tS(r)));return i.length===1?i[0]:{compositeFilter:{op:RN(e.op),filters:i}}})(n):Et(54877,{filter:n})}function CN(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function eS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,e,i,r,o=St.min(),c=St.min(),h=nn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t){this.yt=t}}function MN(n){const t=EN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.Cn=new DN}addToCollectionParentIndex(t,e){return this.Cn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Vr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Vr.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class DN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new He(fe.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new He(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nS=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(nS,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="LruGarbageCollector",ON=1048576;function Mx([n,t],[e,i]){const r=Ut(n,e);return r===0?Ut(t,i):r}class kN{constructor(t){this.Ir=t,this.buffer=new He(Mx),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Mx(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class VN{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(Ix,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ul(e)?ft(Ix,"Ignoring IndexedDB error during garbage collection: ",e):await cl(e)}await this.Vr(3e5)}))}}class PN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(od.ce);const i=new kN(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(Cx)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cx):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,c=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(m=Date.now(),Bo()<=zt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function LN(n,t){return new PN(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.changes=new Ha((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&Pc(i.mutation,r,yi.empty(),de.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Bt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Bt()){const r=Aa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=Sc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Aa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Bt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=Ls();const c=Vc(),h=(function(){return Vc()})();return e.forEach(((f,m)=>{const y=i.get(m.key);r.has(m.key)&&(y===void 0||y.mutation instanceof qa)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Pc(y.mutation,m,y.mutation.getFieldMask(),de.now())):c.set(m.key,yi.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,y)=>c.set(m,y))),e.forEach(((m,y)=>h.set(m,new zN(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Vc();let r=new pe(((c,h)=>c-h)),o=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let y=i.get(f)||yi.empty();y=h.applyToLocalView(m,y),i.set(f,y);const _=(r.get(h.batchId)||Bt()).add(f);r=r.insert(h.batchId,_)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,_=jw();y.forEach((b=>{if(!o.has(b)){const E=qw(e.get(b),i.get(b));E!==null&&_.set(b,E),o=o.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,_))}return st.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):FM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(Aa());let h=Hc,f=o;return c.next((m=>st.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{f=f.insert(y,b)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,Bt()))).next((y=>({batchId:h,changes:Lw(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next((i=>{let r=Sc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Sc();return this.indexManager.getCollectionParents(t,o).next((h=>st.forEach(h,(f=>{const m=(function(_,b){return new ud(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let h=Sc();return c.forEach(((f,m)=>{const y=o.get(f);y!==void 0&&Pc(y.mutation,m,yi.empty(),de.now()),fd(e,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return st.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Qi(r.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:MN(r.bundledQuery),readTime:Qi(r.readTime)}})(e)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.overlays=new pe(vt.comparator),this.qr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Aa();return st.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=Aa(),o=e.length+1,c=new vt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new pe(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Aa(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Aa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=r)););return st.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new aN(e,i));let o=this.qr.get(e);o===void 0&&(o=Bt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.Qr=new He(Ke.$r),this.Ur=new He(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Ke(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Ke(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new vt(new fe([])),i=new Ke(e,t),r=new Ke(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new vt(new fe([])),i=new Ke(e,t),r=new Ke(e,t+1);let o=Bt();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Ke(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ke{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return vt.comparator(t.key,e.key)||Ut(t.Yr,e.Yr)}static Kr(t,e){return Ut(t.Yr,e.Yr)||vt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ke.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rN(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Ke(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?ty:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ke(e,0),r=new Ke(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(Ut);return e.forEach((r=>{const o=new Ke(r,0),c=new Ke(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),st.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;vt.isDocumentKey(o)||(o=o.child(""));const c=new Ke(new vt(o),0);let h=new He(Ut);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(f.Yr)),!0)}),c),st.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return st.forEach(e.mutations,(r=>{const o=new Ke(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Ke(e,0),r=this.Zr.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t){this.ri=t,this.docs=(function(){return new pe(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(e))}getEntries(t,e){let i=Ls();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ln.newInvalidDocument(r))})),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ls();const c=e.path,h=new vt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||vM(_M(y),i)<=0||(r.has(y.key)||fd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Et(9500)}ii(t,e){return st.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new YN(this)}getSize(t){return st.resolve(this.size)}}class YN extends jN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),st.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t){this.persistence=t,this.si=new Ha((e=>iy(e)),sy),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new hy,this.targetCount=0,this.ai=il.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),st.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new il(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Pr(e),st.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),st.waitFor(o).next((()=>r))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),st.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t,e){this.ui={},this.overlays={},this.ci=new od(0),this.li=!1,this.li=!0,this.hi=new HN,this.referenceDelegate=t(this),this.Pi=new KN(this),this.indexManager=new NN,this.remoteDocumentCache=(function(r){return new GN(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new IN(e),this.Ii=new BN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new FN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new qN(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ft("MemoryPersistence","Starting transaction:",t);const r=new XN(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return st.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class XN extends xM{constructor(t){super(),this.currentSequenceNumber=t}}class fy{constructor(t){this.persistence=t,this.Ri=new hy,this.Vi=null}static mi(t){return new fy(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(i=>{const r=vt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,St.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Hf{constructor(t,e){this.persistence=t,this.pi=new Ha((i=>wM(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=LN(this,e)}static mi(t,e){return new Hf(t,e)}Ei(){}di(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return st.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?st.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,St.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=vf(t.data.value)),e}br(t,e,i){return st.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return st.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Bt(),r=Bt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new dy(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BR()?8:TM(fn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new $N;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Bo()<=zt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Fo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Bo()<=zt.DEBUG&&ft("QueryEngine","Query:",Fo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Bo()<=zt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Fo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xi(e))):st.resolve())}ys(t,e){if(_x(e))return st.resolve(null);let i=Xi(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=pp(e,null,"F"),i=Xi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Bt(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,pp(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,i,r){return _x(e)||r.isEqual(St.min())?st.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?st.resolve(null):(Bo()<=zt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fo(e)),this.vs(t,c,e,yM(r,Hc)).next((h=>h)))}))}Ds(t,e){let i=new He(Vw(t));return e.forEach(((r,o)=>{fd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Bo()<=zt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Fo(e)),this.ps.getDocumentsMatchingQuery(t,e,Vr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="LocalStore",WN=3e8;class ZN{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new pe(Ut),this.xs=new Ha((o=>iy(o)),sy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function JN(n,t,e,i){return new ZN(n,t,e,i)}async function sS(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Bt();for(const m of r){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function tD(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,y){const _=m.batch,b=_.keys();let E=st.resolve();return b.forEach((R=>{E=E.next((()=>y.getEntry(f,R))).next((C=>{const M=m.docVersions.get(R);Qt(M!==null,48541),C.version.compareTo(M)<0&&(_.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),y.addEntry(C)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Bt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function rS(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function eD(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((y,_)=>{const b=r.get(_);if(!b)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,_))));let E=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?E=E.withResumeToken(nn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,i)),r=r.insert(_,E),(function(C,M,j){return C.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=WN?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(b,E,y)&&h.push(e.Pi.updateTargetData(o,E))}));let f=Ls(),m=Bt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(nD(o,c,t.documentUpdates).next((y=>{f=y.ks,m=y.qs}))),!i.isEqual(St.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return st.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function nD(n,t,e){let i=Bt(),r=Bt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Ls();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(St.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ft(my,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function iD(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=ty),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function sD(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,st.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new wr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function xp(n,t,e){const i=Rt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ul(c))throw c;ft(my,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function Nx(n,t,e){const i=Rt(n);let r=St.min(),o=Bt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,y){const _=Rt(f),b=_.xs.get(y);return b!==void 0?st.resolve(_.Ms.get(b)):_.Pi.getTargetData(m,y)})(i,c,Xi(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:St.min(),e?o:Bt()))).next((h=>(rD(i,qM(t),h),{documents:h,Qs:o})))))}function rD(n,t,e){let i=n.Os.get(t)||St.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class Dx{constructor(){this.activeTargetIds=QM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aD{constructor(){this.Mo=new Dx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Dx,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="ConnectivityMonitor";class kx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(Ox,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(Ox,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh=null;function Tp(){return Qh===null?Qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qh++,"0x"+Qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Pf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=Tp(),h=this.zo(t,e.toUriEncodedString());ft(Ug,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:m}=new URL(h),y=Ua(m);return this.Jo(t,h,f,i,y).then((_=>(ft(Ug,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Jo(Ug,`RPC '${t}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=lD[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class hD extends cD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=Tp();return new Promise(((h,f)=>{const m=new cw;m.setWithCredentials(!0),m.listenOnce(uw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case _f.NO_ERROR:const _=m.getResponseJson();ft(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),h(_);break;case _f.TIMEOUT:ft(rn,`RPC '${t}' ${c} timed out`),f(new yt(at.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const b=m.getStatus();if(ft(rn,`RPC '${t}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E?.error;if(R&&R.status&&R.message){const C=(function(j){const F=j.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(F)>=0?F:at.UNKNOWN})(R.status);f(new yt(C,R.message))}else f(new yt(at.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new yt(at.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ft(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(r);ft(rn,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",y,i,15)}))}T_(t,e,i){const r=Tp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=dw(),h=fw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ft(rn,`Creating RPC '${t}' stream ${r}: ${y}`,f);const _=c.createWebChannel(y,f);this.I_(_);let b=!1,E=!1;const R=new uD({Yo:M=>{E?ft(rn,`Not sending because RPC '${t}' stream ${r} is closed:`,M):(b||(ft(rn,`Opening RPC '${t}' stream ${r} transport.`),_.open(),b=!0),ft(rn,`RPC '${t}' stream ${r} sending:`,M),_.send(M))},Zo:()=>_.close()}),C=(M,j,F)=>{M.listen(j,(H=>{try{F(H)}catch(J){setTimeout((()=>{throw J}),0)}}))};return C(_,wc.EventType.OPEN,(()=>{E||(ft(rn,`RPC '${t}' stream ${r} transport opened.`),R.o_())})),C(_,wc.EventType.CLOSE,(()=>{E||(E=!0,ft(rn,`RPC '${t}' stream ${r} transport closed`),R.a_(),this.E_(_))})),C(_,wc.EventType.ERROR,(M=>{E||(E=!0,Jo(rn,`RPC '${t}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),R.a_(new yt(at.UNAVAILABLE,"The operation could not be completed")))})),C(_,wc.EventType.MESSAGE,(M=>{if(!E){const j=M.data[0];Qt(!!j,16349);const F=j,H=F?.error||F[0]?.error;if(H){ft(rn,`RPC '${t}' stream ${r} received error:`,H);const J=H.status;let Q=(function(A){const D=Ve[A];if(D!==void 0)return Yw(D)})(J),rt=H.message;Q===void 0&&(Q=at.INTERNAL,rt="Unknown error status: "+J+" with message "+H.message),E=!0,R.a_(new yt(Q,rt)),_.close()}else ft(rn,`RPC '${t}' stream ${r} received:`,j),R.u_(j)}})),C(h,hw.STAT_EVENT,(M=>{M.stat===up.PROXY?ft(rn,`RPC '${t}' stream ${r} detected buffering proxy`):M.stat===up.NOPROXY&&ft(rn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n){return new gN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="PersistentStream";class oS{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?(Ps(e.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new yt(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(Vx,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ft(Vx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fD extends oS{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=_N(this.serializer,t),i=(function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Qi(c.readTime):St.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=bp(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=gp(f)?{documents:xN(o,f)}:{query:TN(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=$w(o,c.resumeToken);const m=yp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(St.min())>0){h.readTime=Ff(o,c.snapshotVersion.toTimestamp());const m=yp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=wN(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=bp(this.serializer),e.removeTarget=t,this.q_(e)}}class dD extends oS{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=bN(t.writeResults,t.commitTime),i=Qi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=bp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>vN(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{}class gD extends mD{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new yt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,_p(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new yt(at.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,_p(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(at.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(e),this.aa=!1):ft("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class yD{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ga(this)&&(ft(Va,"Restarting streams for network reachability change."),await(async function(f){const m=Rt(f);m.Ea.add(4),await hu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await yd(m)})(this))}))})),this.Ra=new pD(i,r)}}async function yd(n){if(Ga(n))for(const t of n.da)await t(!0)}async function hu(n){for(const t of n.da)await t(!1)}function lS(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),_y(e)?yy(e):hl(e).O_()&&py(e,t))}function gy(n,t){const e=Rt(n),i=hl(e);e.Ia.delete(t),i.O_()&&cS(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ga(e)&&e.Ra.set("Unknown"))}function py(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}hl(n).Y_(t)}function cS(n,t){n.Va.Ue(t),hl(n).Z_(t)}function yy(n){n.Va=new hN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),hl(n).start(),n.Ra.ua()}function _y(n){return Ga(n)&&!hl(n).x_()&&n.Ia.size>0}function Ga(n){return Rt(n).Ea.size===0}function uS(n){n.Va=void 0}async function _D(n){n.Ra.set("Online")}async function vD(n){n.Ia.forEach(((t,e)=>{py(n,t)}))}async function bD(n,t){uS(n),_y(n)?(n.Ra.ha(t),yy(n)):n.Ra.set("Unknown")}async function xD(n,t,e){if(n.Ra.set("Online"),t instanceof Xw&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ft(Va,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await qf(n,i)}else if(t instanceof Tf?n.Va.Ze(t):t instanceof Kw?n.Va.st(t):n.Va.tt(t),!e.isEqual(St.min()))try{const i=await rS(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),cS(o,f);const _=new wr(y.target,f,m,y.sequenceNumber);py(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ft(Va,"Failed to raise snapshot:",i),await qf(n,i)}}async function qf(n,t,e){if(!ul(t))throw t;n.Ea.add(1),await hu(n),n.Ra.set("Offline"),e||(e=()=>rS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ft(Va,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await yd(n)}))}function hS(n,t){return t().catch((e=>qf(n,e,t)))}async function _d(n){const t=Rt(n),e=zr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ty;for(;TD(t);)try{const r=await iD(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,ED(t,r)}catch(r){await qf(t,r)}fS(t)&&dS(t)}function TD(n){return Ga(n)&&n.Ta.length<10}function ED(n,t){n.Ta.push(t);const e=zr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function fS(n){return Ga(n)&&!zr(n).x_()&&n.Ta.length>0}function dS(n){zr(n).start()}async function wD(n){zr(n).ra()}async function SD(n){const t=zr(n);for(const e of n.Ta)t.ea(e.mutations)}async function AD(n,t,e){const i=n.Ta.shift(),r=ly.from(i,t,e);await hS(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await _d(n)}async function RD(n,t){t&&zr(n).X_&&await(async function(i,r){if((function(c){return lN(c)&&c!==at.ABORTED})(r.code)){const o=i.Ta.shift();zr(i).B_(),await hS(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await _d(i)}})(n,t),fS(n)&&dS(n)}async function Px(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ft(Va,"RemoteStore received new credentials");const i=Ga(e);e.Ea.add(3),await hu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await yd(e)}async function CD(n,t){const e=Rt(n);t?(e.Ea.delete(2),await yd(e)):t||(e.Ea.add(2),await hu(e),e.Ra.set("Unknown"))}function hl(n){return n.ma||(n.ma=(function(e,i,r){const o=Rt(e);return o.sa(),new fD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:_D.bind(null,n),t_:vD.bind(null,n),r_:bD.bind(null,n),H_:xD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),_y(n)?yy(n):n.Ra.set("Unknown")):(await n.ma.stop(),uS(n))}))),n.ma}function zr(n){return n.fa||(n.fa=(function(e,i,r){const o=Rt(e);return o.sa(),new dD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:wD.bind(null,n),r_:RD.bind(null,n),ta:SD.bind(null,n),na:AD.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await _d(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(Va,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new vy(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(n,t){if(Ps("AsyncQueue",`${t}: ${n}`),ul(n))return new yt(at.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(t){return new Xo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||vt.comparator(e.key,i.key):(e,i)=>vt.comparator(e.key,i.key),this.keyedMap=Sc(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Xo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Xo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.ga=new pe(vt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class sl{constructor(t,e,i,r,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new sl(t,e,Xo.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class MD{constructor(){this.queries=jx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=jx(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new yt(at.ABORTED,"Firestore shutting down"))}}function jx(){return new Ha((n=>kw(n)),hd)}async function mS(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new ID,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=by(c,`Initialization of query '${Fo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&xy(e)}async function gS(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function ND(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&xy(e)}function DD(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function xy(n){n.Ca.forEach((t=>{t.next()}))}var Ep,zx;(zx=Ep||(Ep={})).Ma="default",zx.Cache="cache";class pS{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new sl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t){this.key=t}}class _S{constructor(t){this.key=t}}class OD{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=Vw(t),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new Lx,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((y,_)=>{const b=r.get(y),E=fd(this.query,_)?_:null,R=!!b&&this.mutatedKeys.has(b.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let M=!1;b&&E?b.data.isEqual(E.data)?R!==C&&(i.track({type:3,doc:E}),M=!0):this.su(b,E)||(i.track({type:2,doc:E}),M=!0,(f&&this.eu(E,f)>0||m&&this.eu(E,m)<0)&&(h=!0)):!b&&E?(i.track({type:0,doc:E}),M=!0):b&&!E&&(i.track({type:1,doc:b}),M=!0,(f||m)&&(h=!0)),M&&(E?(c=c.add(E),o=C?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(E,R){const C=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:M})}};return C(E)-C(R)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new sl(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new _S(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new yS(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Bt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ty="SyncEngine";class kD{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class VD{constructor(t){this.key=t,this.hu=!1}}class PD{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ha((h=>kw(h)),hd),this.Iu=new Map,this.Eu=new Set,this.du=new pe(vt.comparator),this.Au=new Map,this.Ru=new hy,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LD(n,t,e=!0){const i=wS(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await vS(i,t,e,!0),r}async function jD(n,t){const e=wS(n);await vS(e,t,!0,!1)}async function vS(n,t,e,i){const r=await sD(n.localStore,Xi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await zD(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&lS(n.remoteStore,r),h}async function zD(n,t,e,i,r){n.pu=(_,b,E)=>(async function(C,M,j,F){let H=M.view.ru(j);H.Cs&&(H=await Nx(C.localStore,M.query,!1).then((({documents:N})=>M.view.ru(N,H))));const J=F&&F.targetChanges.get(M.targetId),Q=F&&F.targetMismatches.get(M.targetId)!=null,rt=M.view.applyChanges(H,C.isPrimaryClient,J,Q);return Bx(C,M.targetId,rt.au),rt.snapshot})(n,_,b,E);const o=await Nx(n.localStore,t,!0),c=new OD(t,o.Qs),h=c.ru(o.documents),f=uu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,f);Bx(n,e,m.au);const y=new kD(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function UD(n,t,e){const i=Rt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!hd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await xp(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&gy(i.remoteStore,r.targetId),wp(i,r.targetId)})).catch(cl)):(wp(i,r.targetId),await xp(i.localStore,r.targetId,!0))}async function BD(n,t){const e=Rt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),gy(e.remoteStore,i.targetId))}async function FD(n,t,e){const i=$D(n);try{const r=await(function(c,h){const f=Rt(c),m=de.now(),y=h.reduce(((E,R)=>E.add(R.key)),Bt());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let R=Ls(),C=Bt();return f.Ns.getEntries(E,y).next((M=>{R=M,R.forEach(((j,F)=>{F.isValidDocument()||(C=C.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,R))).next((M=>{_=M;const j=[];for(const F of h){const H=iN(F,_.get(F.key).overlayedDocument);H!=null&&j.push(new qa(F.key,H,Rw(H.value.mapValue),$i.exists(!0)))}return f.mutationQueue.addMutationBatch(E,m,j,h)})).next((M=>{b=M;const j=M.applyToLocalDocumentSet(_,C);return f.documentOverlayCache.saveOverlays(E,M.batchId,j)}))})).then((()=>({batchId:b.batchId,changes:Lw(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new pe(Ut)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(i,r.batchId,e),await fu(i,r.changes),await _d(i.remoteStore)}catch(r){const o=by(r,"Failed to persist write");e.reject(o)}}async function bS(n,t){const e=Rt(n);try{const i=await eD(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Qt(c.hu,14607):r.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await fu(e,i,t)}catch(i){await cl(i)}}function Ux(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Rt(c);f.onlineState=h;let m=!1;f.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(h)&&(m=!0)})),m&&xy(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function HD(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new pe(vt.comparator);c=c.insert(o,ln.newNoDocument(o,St.min()));const h=Bt().add(o),f=new gd(St.min(),new Map,new pe(Ut),c,h);await bS(i,f),i.du=i.du.remove(o),i.Au.delete(t),Ey(i)}else await xp(i.localStore,t,!1).then((()=>wp(i,t,e))).catch(cl)}async function qD(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await tD(e.localStore,t);TS(e,i,null),xS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await fu(e,r)}catch(r){await cl(r)}}async function GD(n,t,e){const i=Rt(n);try{const r=await(function(c,h){const f=Rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next((_=>(Qt(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(m,_)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(i.localStore,t);TS(i,t,e),xS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await fu(i,r)}catch(r){await cl(r)}}function xS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function TS(n,t,e){const i=Rt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function wp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||ES(n,i)}))}function ES(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(gy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Ey(n))}function Bx(n,t,e){for(const i of e)i instanceof yS?(n.Ru.addReference(i.key,t),YD(n,i)):i instanceof _S?(ft(Ty,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||ES(n,i.key)):Et(19791,{wu:i})}function YD(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ft(Ty,"New document in limbo: "+e),n.Eu.add(i),Ey(n))}function Ey(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new vt(fe.fromString(t)),i=n.fu.next();n.Au.set(i,new VD(e)),n.du=n.du.insert(e,i),lS(n.remoteStore,new wr(Xi(ry(e.path)),i,"TargetPurposeLimboResolution",od.ce))}}async function fu(n,t,e){const i=Rt(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(m){r.push(m);const y=dy.As(f.targetId,m);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,m){const y=Rt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(m,(b=>st.forEach(b.Es,(E=>y.persistence.referenceDelegate.addReference(_,b.targetId,E))).next((()=>st.forEach(b.ds,(E=>y.persistence.referenceDelegate.removeReference(_,b.targetId,E)))))))))}catch(_){if(!ul(_))throw _;ft(my,"Failed to update sequence numbers: "+_)}for(const _ of m){const b=_.targetId;if(!_.fromCache){const E=y.Ms.get(b),R=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(R);y.Ms=y.Ms.insert(b,C)}}})(i.localStore,o))}async function KD(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ft(Ty,"User change. New user:",t.toKey());const i=await sS(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new yt(at.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await fu(e,i.Ls)}}function XD(n,t){const e=Rt(n),i=e.Au.get(t);if(i&&i.hu)return Bt().add(i.key);{let r=Bt();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function wS(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=bS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HD.bind(null,t),t.Pu.H_=ND.bind(null,t.eventManager),t.Pu.yu=DD.bind(null,t.eventManager),t}function $D(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GD.bind(null,t),t}class Gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=pd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return JN(this.persistence,new QN,t.initialUser,this.serializer)}Cu(t){return new iS(fy.mi,this.serializer)}Du(t){return new aD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gf.provider={build:()=>new Gf};class QD extends Gf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof Hf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new VN(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new iS((i=>Hf.mi(i,e)),this.serializer)}}class Sp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ux(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KD.bind(null,this.syncEngine),await CD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new MD})()}createDatastore(t){const e=pd(t.databaseInfo.databaseId),i=(function(o){return new hD(o)})(t.databaseInfo);return(function(o,c,h,f){return new gD(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new yD(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>Ux(this.syncEngine,e,0)),(function(){return kx.v()?new kx:new oD})())}createSyncEngine(t,e){return(function(r,o,c,h,f,m,y){const _=new PD(r,o,c,h,f,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Rt(e);ft(Va,"RemoteStore shutting down."),i.Ea.add(5),await hu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sp.provider={build:()=>new Sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class WD{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ft(Ur,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ft(Ur,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=by(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Fg(n,t){n.asyncQueue.verifyOperationInProgress(),ft(Ur,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await sS(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Fx(n,t){n.asyncQueue.verifyOperationInProgress();const e=await ZD(n);ft(Ur,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Px(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>Px(t.remoteStore,r))),n._onlineComponents=t}async function ZD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(Ur,"Using user provided OfflineComponentProvider");try{await Fg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===at.FAILED_PRECONDITION||r.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Jo("Error using user provided cache. Falling back to memory cache: "+e),await Fg(n,new Gf)}}else ft(Ur,"Using default OfflineComponentProvider"),await Fg(n,new QD(void 0));return n._offlineComponents}async function AS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(Ur,"Using user provided OnlineComponentProvider"),await Fx(n,n._uninitializedComponentsProvider._online)):(ft(Ur,"Using default OnlineComponentProvider"),await Fx(n,new Sp))),n._onlineComponents}function JD(n){return AS(n).then((t=>t.syncEngine))}async function RS(n){const t=await AS(n),e=t.eventManager;return e.onListen=LD.bind(null,t.syncEngine),e.onUnlisten=UD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=jD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=BD.bind(null,t.syncEngine),e}function tO(n,t,e={}){const i=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const y=new SS({next:b=>{y.Nu(),c.enqueueAndForget((()=>gS(o,_)));const E=b.docs.has(h);!E&&b.fromCache?m.reject(new yt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&f&&f.source==="server"?m.reject(new yt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),_=new pS(ry(h.path),y,{includeMetadataChanges:!0,qa:!0});return mS(o,_)})(await RS(n),n.asyncQueue,t,e,i))),i.promise}function eO(n,t,e={}){const i=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const y=new SS({next:b=>{y.Nu(),c.enqueueAndForget((()=>gS(o,_))),b.fromCache&&f.source==="server"?m.reject(new yt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),_=new pS(h,y,{includeMetadataChanges:!0,qa:!0});return mS(o,_)})(await RS(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firestore.googleapis.com",qx=!0;class Gx{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IS,this.ssl=qx}else this.host=t.host,this.ssl=t.ssl??qx;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ON)throw new yt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vd{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gx(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new aM;switch(i.type){case"firstParty":return new uM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new yt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=Hx.get(e);i&&(ft("ComponentProvider","Removing Datastore"),Hx.delete(e),i.terminate())})(this),Promise.resolve()}}function nO(n,t,e,i={}){n=kr(n,vd);const r=Ua(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Pp(`https://${h}`),Lp("Firestore",!0)),o.host!==IS&&o.host!==h&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!Na(f,c)&&(n._setSettings(f),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=on.MOCK_USER;else{m=SE(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new yt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}n._authCredentials=new oM(new gw(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new bd(this.firestore,t,this._query)}}class Be{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(lu(e,Be._jsonSchema))return new Be(t,i||null,new vt(fe.fromString(e.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Pe("string",Be._jsonSchemaVersion),referencePath:Pe("string")};class Nr extends bd{constructor(t,e,i){super(t,e,ry(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new vt(t))}withConverter(t){return new Nr(this.firestore,t,this._path)}}function Pa(n,t,...e){if(n=Pn(n),pw("collection","path",t),n instanceof vd){const i=fe.fromString(t,...e);return rx(i),new Nr(n,null,i)}{if(!(n instanceof Be||n instanceof Nr))throw new yt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fe.fromString(t,...e));return rx(i),new Nr(n.firestore,null,i)}}function js(n,t,...e){if(n=Pn(n),arguments.length===1&&(t=Zp.newId()),pw("doc","path",t),n instanceof vd){const i=fe.fromString(t,...e);return sx(i),new Be(n,null,new vt(i))}{if(!(n instanceof Be||n instanceof Nr))throw new yt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fe.fromString(t,...e));return sx(i),new Be(n.firestore,n instanceof Nr?n.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="AsyncQueue";class Kx{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aS(this,"async_queue_retry"),this._c=()=>{const i=Bg();i&&ft(Yx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Bg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Bg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;ft(Yx,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",Xx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=vy.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Et(47125,{Pc:Xx(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Xx(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class du extends vd{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Kx,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kx(t),this._firestoreClient=void 0,await t}}}function iO(n,t){const e=typeof n=="object"?n:Up(),i=typeof n=="string"?n:Pf,r=id(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=TE("firestore");o&&nO(r,...o)}return r}function wy(n){if(n._terminated)throw new yt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sO(n),n._firestoreClient}function sO(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new RM(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,CS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new WD(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(nn.fromBase64String(t))}catch(e){throw new yt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lu(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Pe("string",Jn._jsonSchemaVersion),bytes:Pe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(t){if(lu(t,Wi._jsonSchema))return new Wi(t.latitude,t.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Pe("string",Wi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lu(t,Zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Zi(t.vectorValues);throw new yt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Pe("string",Zi._jsonSchemaVersion),vectorValues:Pe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=/^__.*__$/;class aO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new qa(t,this.data,this.fieldMask,e,this.fieldTransforms):new cu(t,this.data,e,this.fieldTransforms)}}function NS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:n})}}class Ay{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ay({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Yf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(NS(this.Ac)&&rO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class oO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||pd(t)}Cc(t,e,i,r=!1){return new Ay({Ac:t,methodName:e,Dc:i,path:en.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lO(n){const t=n._freezeSettings(),e=pd(n._databaseId);return new oO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function cO(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);VS("Data must be an object, but it was:",c,i);const h=OS(i,c);let f,m;if(o.merge)f=new yi(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const b=uO(t,_,e);if(!c.contains(b))throw new yt(at.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);fO(y,b)||y.push(b)}f=new yi(y),m=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,m=c.fieldTransforms;return new aO(new Zn(h),f,m)}function DS(n,t){if(kS(n=Pn(n)))return VS("Unsupported field value:",t,n),OS(n,t);if(n instanceof MS)return(function(i,r){if(!NS(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=DS(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Pn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return WM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=de.fromDate(i);return{timestampValue:Ff(r.serializer,o)}}if(i instanceof de){const o=new de(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ff(r.serializer,o)}}if(i instanceof Wi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jn)return{bytesValue:$w(r.serializer,i._byteString)};if(i instanceof Be){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Zi)return(function(c,h){return{mapValue:{fields:{[Sw]:{stringValue:Aw},[Lf]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return ay(h.serializer,m)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Jp(i)}`)})(n,t)}function OS(n,t){const e={};return vw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fa(n,((i,r)=>{const o=DS(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function kS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof de||n instanceof Wi||n instanceof Jn||n instanceof Be||n instanceof MS||n instanceof Zi)}function VS(n,t,e){if(!kS(e)||!yw(e)){const i=Jp(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function uO(n,t,e){if((t=Pn(t))instanceof Sy)return t._internalPath;if(typeof t=="string")return PS(n,t);throw Yf("Field path arguments must be of type string or ",n,!1,void 0,e)}const hO=new RegExp("[~\\*/\\[\\]]");function PS(n,t,e){if(t.search(hO)>=0)throw Yf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Sy(...t.split("."))._internalPath}catch{throw Yf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Yf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new yt(at.INVALID_ARGUMENT,h+n+f)}function fO(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(jS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class dO extends LS{data(){return super.data()}}function jS(n,t){return typeof t=="string"?PS(n,t):t instanceof Sy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gO{convertValue(t,e="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Fa(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Lf].arrayValue?.values?.map((i=>we(i.doubleValue)));return new Zi(e)}convertGeoPoint(t){return new Wi(we(t.latitude),we(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=cd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(qc(t));default:return null}}convertTimestamp(t){const e=Pr(t);return new de(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fe.fromString(t);Qt(eS(i),9688,{name:t});const r=new Gc(i.get(1),i.get(3)),o=new vt(i.popFirst(5));return r.isEqual(e)||Ps(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Rc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ia extends LS{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(jS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ia._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:Pe("string",Ia._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Ef extends Ia{data(t={}){return super.data(t)}}class $o{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Rc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Ef(this._firestore,this._userDataWriter,i.key,i,new Rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new Ef(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Rc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Ef(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Rc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:yO(h.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$o._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function yO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n){n=kr(n,Be);const t=kr(n.firestore,du);return tO(wy(t),n._key).then((e=>_O(t,n,e)))}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:Pe("string",$o._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class zS extends gO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}function La(n){n=kr(n,bd);const t=kr(n.firestore,du),e=wy(t),i=new zS(t);return mO(n._query),eO(e,n._query).then((r=>new $o(t,i,n,r)))}function mu(n,t,e){n=kr(n,Be);const i=kr(n.firestore,du),r=pO(n.converter,t);return BS(i,[cO(lO(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,$i.none())])}function US(n){return BS(kr(n.firestore,du),[new oy(n._key,$i.none())])}function BS(n,t){return(function(i,r){const o=new Os;return i.asyncQueue.enqueueAndForget((async()=>FD(await JD(i),r,o))),o.promise})(wy(n),t)}function _O(n,t,e){const i=e.docs.get(t._key),r=new zS(n);return new Ia(n,r,t._key,i,new Rc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){ll=r})(Ba),Da(new Or("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new du(new lM(i.getProvider("auth-internal")),new hM(c,i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new yt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(m.options.projectId,y)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Yi(tx,ex,t),Yi(tx,ex,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="firebasestorage.googleapis.com",vO="storageBucket",bO=120*1e3,xO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ss{constructor(t,e,i=0){super(Hg(t),`Firebase Storage: ${e} (${Hg(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rs.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Hg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var is;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(is||(is={}));function Hg(n){return"storage/"+n}function TO(){const n="An unknown error occurred, please check the error payload for server response.";return new rs(is.UNKNOWN,n)}function EO(){return new rs(is.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wO(){return new rs(is.CANCELED,"User canceled the upload/download.")}function SO(n){return new rs(is.INVALID_URL,"Invalid URL '"+n+"'.")}function AO(n){return new rs(is.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $x(n){return new rs(is.INVALID_ARGUMENT,n)}function HS(){return new rs(is.APP_DELETED,"The Firebase app was deleted.")}function RO(n){return new rs(is.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=_i.makeFromUrl(t,e)}catch{return new _i(t,"")}if(i.path==="")return i;throw AO(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function m(J){J.path_=decodeURIComponent(J.path)}const y="v[A-Za-z0-9_]+",_=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${y}/b/${r}/o${b}`,"i"),R={bucket:1,path:3},C=e===FS?"(?:storage.googleapis.com|storage.cloud.google.com)":e,M="([^?#]*)",j=new RegExp(`^https?://${C}/${r}/${M}`,"i"),H=[{regex:h,indices:f,postModify:o},{regex:E,indices:R,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let J=0;J<H.length;J++){const Q=H[J],rt=Q.regex.exec(t);if(rt){const N=rt[Q.indices.bucket];let A=rt[Q.indices.path];A||(A=""),i=new _i(N,A),Q.postModify(i);break}}if(i==null)throw SO(t);return i}}class CO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let m=!1;function y(...M){m||(m=!0,t.apply(null,M))}function _(M){r=setTimeout(()=>{r=null,n(E,f())},M)}function b(){o&&clearTimeout(o)}function E(M,...j){if(m){b();return}if(M){b(),y.call(null,M,...j);return}if(f()||c){b(),y.call(null,M,...j);return}i<64&&(i*=2);let H;h===1?(h=2,H=0):H=(i+Math.random())*1e3,_(H)}let R=!1;function C(M){R||(R=!0,b(),!m&&(r!==null?(M||(h=2),clearTimeout(r),_(0)):M||(h=1)))}return _(0),o=setTimeout(()=>{c=!0,C(!0)},e),C}function MO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(n){return n!==void 0}function Qx(n,t,e,i){if(i<t)throw $x(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw $x(`Invalid value for '${n}'. Expected ${e} or less.`)}function DO(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Kf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Kf||(Kf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t,e,i,r,o,c,h,f,m,y,_,b=!0,E=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,C)=>{this.resolve_=R,this.reject_=C,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Wh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Kf.NO_ERROR,f=o.getStatus();if(!h||OO(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Kf.ABORT;i(!1,new Wh(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Wh(m,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());NO(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=TO();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?HS():wO();c(f)}else{const f=EO();c(f)}};this.canceled_?e(!1,new Wh(!1,null,!0)):this.backoffId_=IO(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&MO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wh{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function VO(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function PO(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function LO(n,t){t&&(n["X-Firebase-GMPID"]=t)}function jO(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function zO(n,t,e,i,r,o,c=!0,h=!1){const f=DO(n.urlParams),m=n.url+f,y=Object.assign({},n.headers);return LO(y,t),VO(y,e),PO(y,o),jO(y,i),new kO(m,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function BO(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t,e){this._service=t,e instanceof _i?this._location=e:this._location=_i.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Xf(t,e)}get root(){const t=new _i(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BO(this._location.path)}get storage(){return this._service}get parent(){const t=UO(this._location.path);if(t===null)return null;const e=new _i(this._location.bucket,t);return new Xf(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw RO(t)}}function Wx(n,t){const e=t?.[vO];return e==null?null:_i.makeFromBucketSpec(e,n)}function FO(n,t,e,i={}){n.host=`${t}:${e}`;const r=Ua(t);r&&(Pp(`https://${n.host}/b`),Lp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:SE(o,n.app.options.projectId))}class HO{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=FS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bO,this._maxUploadRetryTime=xO,this._requests=new Set,r!=null?this._bucket=_i.makeFromBucketSpec(r,this._host):this._bucket=Wx(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,t):this._bucket=Wx(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Qx("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Qx("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Xf(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new CO(HS());{const c=zO(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const Zx="@firebase/storage",Jx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="storage";function qO(n=Up(),t){n=Pn(n);const i=id(n,qS).getImmediate({identifier:t}),r=TE("storage");return r&&GO(i,...r),i}function GO(n,t,e,i={}){FO(n,t,e,i)}function YO(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new HO(e,i,r,t,Ba)}function KO(){Da(new Or(qS,YO,"PUBLIC").setMultipleInstances(!0)),Yi(Zx,Jx,""),Yi(Zx,Jx,"esm2020")}KO();const XO={apiKey:"AIzaSyBpLnEBDMz-FXoSYWN9EWsUuMAIu-Dpt9M",authDomain:"drivesense-7cac6.firebaseapp.com",projectId:"drivesense-7cac6",storageBucket:"drivesense-7cac6.firebasestorage.app",messagingSenderId:"751400174977",appId:"1:751400174977:web:c1d4109794ca4d41bb5480"},Ry=CE(XO),$O=ow(Ry),cn=iO(Ry);qO(Ry);const QO=({isLoggedIn:n,setIsLoggedIn:t,setUser:e})=>{const i=async()=>{const r=new Is;try{const c=(await mI($O,r)).user;e({displayName:c.displayName,email:c.email,photoURL:c.photoURL,uid:c.uid});const h=js(cn,"users",c.uid);(await Ap(h)).exists()||await mu(h,{uid:c.uid,name:c.displayName,email:c.email,photoURL:c.photoURL,createdAt:new Date().toISOString()}),t(m=>!m),n&&console.log("Google Sign-In successful:",c)}catch(o){console.error("Google Sign-In error:",o)}};return w.jsxs("div",{className:`flex flex-row items-center justify-center px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)]  \r
            bg-[var(--blue-color)] text-[var(--light-color)] cursor-pointer rounded-full gap-[calc(0.2vw+0.3rem)] \r
            hover:bg-[var(--purple-color)] hover:text-[var(--dark-color)] transition duration-300 ease-in-out`,children:[w.jsx("i",{className:"bxl bx-google bx-tada-hover text-[calc(0.4vw+0.8rem)]"}),w.jsx("span",{onClick:i,className:"text-[calc(0.4vw+0.5rem)]",children:"Sign in with Google"})]})};function WO({isDark:n,setIsDark:t,isLoggedIn:e,setIsLoggedIn:i,setUser:r}){const o=dn(),[c,h]=nt.useState(!1),[f,m]=nt.useState(!1),y=()=>{m(_=>!_)};return w.jsxs("div",{className:`
            ${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[w.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&w.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(_=>!_)}),w.jsx("img",{src:n?Vp:Af,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),!o&&w.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Home"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Features"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]}),w.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"}),w.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)] text-[calc(0.4vw+0.5rem)]":"text-[var(--light-color)] bg-[var(--dark-color)] text-[calc(0.4vw+0.5rem)]"}
                    px-[calc(0.4vw+0.6rem)] py-[calc(0.2vw+0.3rem)] rounded-md cursor-pointer
                    hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)] font-semibold`,onClick:()=>y(),children:"Sign In"}),f&&w.jsx("div",{className:"fade-in absolute top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:w.jsxs("div",{className:"h-[420px] w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-start relative rounded-xl rounded-tr-none",children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                            flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>m(_=>!_)}),w.jsxs("div",{className:"w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[w.jsx("img",{src:Af,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer",alt:""}),w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Sign in to your account"}),w.jsx(QO,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),w.jsx("span",{className:"text-[calc(0.4vw+0.5rem)]",children:"Or continue with"}),w.jsx("input",{type:"email",placeholder:"Email",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),w.jsx("input",{type:"password",placeholder:"Password",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,children:"Continue"}),w.jsxs("span",{className:"text-[calc(0.4vw+0.5rem)]",children:["Don't have an account?",w.jsx("span",{className:"text-[calc(0.4vw+0.5rem)] text-[var(--blue-color)] hovered cursor-pointer",children:" Sign Up"})]})]})]})}),w.jsx(yE,{isDark:n,setIsDark:t})]}),o&&c&&w.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[w.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(_=>!_)}),w.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Home"}),w.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Features"}),w.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Github"})]})})]})}const ZO="/DriveSense/assets/car-img-DqpG-dY6.png",Zh=({icon:n,title:t,info:e,isDark:i})=>{const r=dn();return w.jsxs("div",{className:`
            ${r?"w-[152px] h-[240px]":"flex-1"}
            flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)] 
            p-[calc(0.4vw+0.6rem)] rounded-lg border border-[var(--border-color)]`,children:[n,w.jsx("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} font-semibold text-center`,children:t}),w.jsxs("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} text-center`,children:[e,"."]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gu(n){return n+.5|0}const Sr=(n,t,e)=>Math.max(Math.min(n,e),t);function Cc(n){return Sr(gu(n*2.55),0,255)}function Dr(n){return Sr(gu(n*255),0,255)}function Cs(n){return Sr(gu(n/2.55)/100,0,1)}function tT(n){return Sr(gu(n*100),0,100)}const Qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rp=[..."0123456789ABCDEF"],JO=n=>Rp[n&15],t4=n=>Rp[(n&240)>>4]+Rp[n&15],Jh=n=>(n&240)>>4===(n&15),e4=n=>Jh(n.r)&&Jh(n.g)&&Jh(n.b)&&Jh(n.a);function n4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Qn[n[1]]*17,g:255&Qn[n[2]]*17,b:255&Qn[n[3]]*17,a:t===5?Qn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Qn[n[1]]<<4|Qn[n[2]],g:Qn[n[3]]<<4|Qn[n[4]],b:Qn[n[5]]<<4|Qn[n[6]],a:t===9?Qn[n[7]]<<4|Qn[n[8]]:255})),e}const i4=(n,t)=>n<255?t(n):"";function s4(n){var t=e4(n)?JO:t4;return n?"#"+t(n.r)+t(n.g)+t(n.b)+i4(n.a,t):void 0}const r4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GS(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function a4(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function o4(n,t,e){const i=GS(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function l4(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Cy(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,m,y;return o!==c&&(y=o-c,m=h>.5?y/(2-o-c):y/(o+c),f=l4(e,i,r,y,o),f=f*60+.5),[f|0,m||0,h]}function Iy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Dr)}function My(n,t,e){return Iy(GS,n,t,e)}function c4(n,t,e){return Iy(o4,n,t,e)}function u4(n,t,e){return Iy(a4,n,t,e)}function YS(n){return(n%360+360)%360}function h4(n){const t=r4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Cc(+t[5]):Dr(+t[5]));const r=YS(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=c4(r,o,c):t[1]==="hsv"?i=u4(r,o,c):i=My(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function f4(n,t){var e=Cy(n);e[0]=YS(e[0]+t),e=My(e),n.r=e[0],n.g=e[1],n.b=e[2]}function d4(n){if(!n)return;const t=Cy(n),e=t[0],i=tT(t[1]),r=tT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Cs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const eT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function m4(){const n={},t=Object.keys(nT),e=Object.keys(eT);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,eT[o]);o=parseInt(nT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let tf;function g4(n){tf||(tf=m4(),tf.transparent=[0,0,0,0]);const t=tf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const p4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function y4(n){const t=p4.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Cc(c):Sr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Cc(i):Sr(i,0,255)),r=255&(t[4]?Cc(r):Sr(r,0,255)),o=255&(t[6]?Cc(o):Sr(o,0,255)),{r:i,g:r,b:o,a:e}}}function _4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Cs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const qg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,zo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function v4(n,t,e){const i=zo(Cs(n.r)),r=zo(Cs(n.g)),o=zo(Cs(n.b));return{r:Dr(qg(i+e*(zo(Cs(t.r))-i))),g:Dr(qg(r+e*(zo(Cs(t.g))-r))),b:Dr(qg(o+e*(zo(Cs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function ef(n,t,e){if(n){let i=Cy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=My(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function KS(n,t){return n&&Object.assign(t||{},n)}function iT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Dr(n[3]))):(t=KS(n,{r:0,g:0,b:0,a:1}),t.a=Dr(t.a)),t}function b4(n){return n.charAt(0)==="r"?y4(n):h4(n)}class $c{constructor(t){if(t instanceof $c)return t;const e=typeof t;let i;e==="object"?i=iT(t):e==="string"&&(i=n4(t)||g4(t)||b4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=KS(this._rgb);return t&&(t.a=Cs(t.a)),t}set rgb(t){this._rgb=iT(t)}rgbString(){return this._valid?_4(this._rgb):void 0}hexString(){return this._valid?s4(this._rgb):void 0}hslString(){return this._valid?d4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=v4(this._rgb,t._rgb,e)),this}clone(){return new $c(this.rgb)}alpha(t){return this._rgb.a=Dr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=gu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ef(this._rgb,2,t),this}darken(t){return ef(this._rgb,2,-t),this}saturate(t){return ef(this._rgb,1,t),this}desaturate(t){return ef(this._rgb,1,-t),this}rotate(t){return f4(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ss(){}const x4=(()=>{let n=0;return()=>n++})();function $t(n){return n==null}function Ue(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ei(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Fi(n,t){return ei(n)?n:t}function kt(n,t){return typeof n>"u"?t:n}const T4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,XS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function he(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,c;if(Ue(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function $f(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Qf(n){if(Ue(n))return n.map(Qf);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Qf(n[e[r]]);return t}return n}function $S(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function E4(n,t,e,i){if(!$S(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?Qc(r,o,i):t[n]=Qf(o)}function Qc(n,t,e){const i=Ue(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||E4;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let m=0,y=f.length;m<y;++m)o(f[m],n,c,e)}return n}function Lc(n,t){return Qc(n,t,{merger:w4})}function w4(n,t,e){if(!$S(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?Lc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Qf(r))}const sT={"":n=>n,x:n=>n.x,y:n=>n.y};function S4(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function A4(n){const t=S4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function ja(n,t){return(sT[t]||(sT[t]=A4(t)))(n)}function Ny(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Wc=n=>typeof n<"u",Br=n=>typeof n=="function",rT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function R4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ee=Math.PI,ve=2*ee,C4=ve+ee,Wf=Number.POSITIVE_INFINITY,I4=ee/180,Fe=ee/2,va=ee/4,aT=ee*2/3,QS=Math.log10,Ji=Math.sign;function jc(n,t,e){return Math.abs(n-t)<e}function oT(n){const t=Math.round(n);n=jc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(QS(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function M4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function N4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Zc(n){return!N4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function D4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function O4(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ds(n){return n*(ee/180)}function k4(n){return n*(180/ee)}function lT(n){if(!ei(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function WS(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ee&&(o+=ve),{angle:o,distance:r}}function Cp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function V4(n,t){return(n-t+C4)%ve-ee}function gi(n){return(n%ve+ve)%ve}function Jc(n,t,e,i){const r=gi(n),o=gi(t),c=gi(e),h=gi(o-r),f=gi(c-r),m=gi(r-o),y=gi(r-c);return r===o||r===c||i&&o===c||h>f&&m<y}function un(n,t,e){return Math.max(t,Math.min(e,n))}function P4(n){return un(n,-32768,32767)}function Ar(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Dy(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Ra=(n,t,e,i)=>Dy(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),L4=(n,t,e)=>Dy(n,e,i=>n[i][t]>=e);function j4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const ZS=["push","pop","shift","splice","unshift"];function z4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ZS.forEach(e=>{const i="_onData"+Ny(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function cT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(ZS.forEach(o=>{delete n[o]}),delete n._chartjs)}function JS(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const t1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function e1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,t1.call(window,()=>{i=!1,n.apply(t,e)}))}}function U4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Oy=n=>n==="start"?"left":n==="end"?"right":"center",an=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,B4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function F4(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:_,max:b,minDefined:E,maxDefined:R}=c.getUserBounds();if(E){if(r=Math.min(Ra(f,y,_).lo,e?i:Ra(t,y,c.getPixelForValue(_)).lo),m){const C=f.slice(0,r+1).reverse().findIndex(M=>!$t(M[h.axis]));r-=Math.max(0,C)}r=un(r,0,i-1)}if(R){let C=Math.max(Ra(f,c.axis,b,!0).hi+1,e?0:Ra(t,y,c.getPixelForValue(b),!0).hi+1);if(m){const M=f.slice(C-1).findIndex(j=>!$t(j[h.axis]));C+=Math.max(0,M)}o=un(C,r,i)-r}else o=i-r}return{start:r,count:o}}function H4(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const nf=n=>n===0||n===1,uT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ve/e)),hT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ve/e)+1,zc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Fe)+1,easeOutSine:n=>Math.sin(n*Fe),easeInOutSine:n=>-.5*(Math.cos(ee*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>nf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>nf(n)?n:uT(n,.075,.3),easeOutElastic:n=>nf(n)?n:hT(n,.075,.3),easeInOutElastic(n){return nf(n)?n:n<.5?.5*uT(n*2,.1125,.45):.5+.5*hT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-zc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?zc.easeInBounce(n*2)*.5:zc.easeOutBounce(n*2-1)*.5+.5};function ky(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fT(n){return ky(n)?n:new $c(n)}function Gg(n){return ky(n)?n:new $c(n).saturate(.5).darken(.1).hexString()}const q4=["x","y","borderWidth","radius","tension"],G4=["color","borderColor","backgroundColor"];function Y4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:G4},numbers:{type:"number",properties:q4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function K4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dT=new Map;function X4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=dT.get(e);return i||(i=new Intl.NumberFormat(n,t),dT.set(e,i)),i}function Vy(n,t,e){return X4(t,e).format(n)}const $4={values(n){return Ue(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=Q4(n,e)}const c=QS(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Vy(n,i,f)}};function Q4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var n1={formatters:$4};function W4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:n1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const za=Object.create(null),Ip=Object.create(null);function Uc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Yg(n,t,e){return typeof t=="string"?Qc(Uc(n,t),e):Qc(Uc(n,""),t)}class Z4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Gg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Gg(r.borderColor),this.hoverColor=(i,r)=>Gg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Yg(this,t,e)}get(t){return Uc(this,t)}describe(t,e){return Yg(Ip,t,e)}override(t,e){return Yg(za,t,e)}route(t,e,i,r){const o=Uc(this,t),c=Uc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[r];return qt(f)?Object.assign({},m,f):kt(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Se=new Z4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Y4,K4,W4]);function J4(n){return!n||$t(n.size)||$t(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function mT(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function ba(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function gT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Mp(n,t,e,i){i1(n,t,e,i,null)}function i1(n,t,e,i,r){let o,c,h,f,m,y,_,b;const E=t.pointStyle,R=t.rotation,C=t.radius;let M=(R||0)*I4;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(M),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,C,0,0,ve):n.arc(e,i,C,0,ve),n.closePath();break;case"triangle":y=r?r/2:C,n.moveTo(e+Math.sin(M)*y,i-Math.cos(M)*C),M+=aT,n.lineTo(e+Math.sin(M)*y,i-Math.cos(M)*C),M+=aT,n.lineTo(e+Math.sin(M)*y,i-Math.cos(M)*C),n.closePath();break;case"rectRounded":m=C*.516,f=C-m,c=Math.cos(M+va)*f,_=Math.cos(M+va)*(r?r/2-m:f),h=Math.sin(M+va)*f,b=Math.sin(M+va)*(r?r/2-m:f),n.arc(e-_,i-h,m,M-ee,M-Fe),n.arc(e+b,i-c,m,M-Fe,M),n.arc(e+_,i+h,m,M,M+Fe),n.arc(e-b,i+c,m,M+Fe,M+ee),n.closePath();break;case"rect":if(!R){f=Math.SQRT1_2*C,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}M+=va;case"rectRot":_=Math.cos(M)*(r?r/2:C),c=Math.cos(M)*C,h=Math.sin(M)*C,b=Math.sin(M)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+b,i-c),n.lineTo(e+_,i+h),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":M+=va;case"cross":_=Math.cos(M)*(r?r/2:C),c=Math.cos(M)*C,h=Math.sin(M)*C,b=Math.sin(M)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":_=Math.cos(M)*(r?r/2:C),c=Math.cos(M)*C,h=Math.sin(M)*C,b=Math.sin(M)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),M+=va,_=Math.cos(M)*(r?r/2:C),c=Math.cos(M)*C,h=Math.sin(M)*C,b=Math.sin(M)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(M)*C,h=Math.sin(M)*C,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(r?r/2:C),i+Math.sin(M)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function tu(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Py(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ly(n){n.restore()}function tk(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function ek(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function nk(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),$t(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function ik(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function sk(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function eu(n,t,e,i,r,o={}){const c=Ue(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=r.string,nk(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&sk(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),$t(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),ik(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function Zf(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ee,ee,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ee,Fe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Fe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Fe,!0),n.lineTo(e+c.topLeft,i)}const rk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ak=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ok(n,t){const e=(""+n).match(rk);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const lk=n=>+n||0;function jy(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>kt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=lk(o(c));return e}function s1(n){return jy(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Qo(n){return jy(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ni(n){const t=s1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hn(n,t){n=n||{},t=t||Se.font;let e=kt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=kt(n.style,t.style);i&&!(""+i).match(ak)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:kt(n.family,t.family),lineHeight:ok(kt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:kt(n.weight,t.weight),string:""};return r.string=J4(r),r}function sf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function ck(n,t,e){const{min:i,max:r}=n,o=XS(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Ya(n,t){return Object.assign(Object.create(n),t)}function zy(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=l1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>zy([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return a1(h,f,()=>yk(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return yT(h).includes(f)},ownKeys(h){return yT(h)},set(h,f,m){const y=h._storage||(h._storage=r());return h[f]=y[f]=m,delete h._keys,!0}})}function rl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:r1(n,i),setContext:o=>rl(n,o,e,i),override:o=>rl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return a1(o,c,()=>hk(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function r1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Br(e)?e:()=>e,isIndexable:Br(i)?i:()=>i}}const uk=(n,t)=>n?n+Ny(t):t,Uy=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function a1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function hk(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Br(h)&&c.isScriptable(t)&&(h=fk(t,h,n,e)),Ue(h)&&h.length&&(h=dk(t,h,n,c.isIndexable)),Uy(t,h)&&(h=rl(h,r,o&&o[t],c)),h}function fk(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),Uy(n,f)&&(f=By(r._scopes,r,n,f)),f}function dk(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,m=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const _=By(m,r,n,y);t.push(rl(_,o,c&&c[n],h))}}return t}function o1(n,t,e){return Br(n)?n(t,e):n}const mk=(n,t)=>n===!0?t:typeof n=="string"?ja(t,n):void 0;function gk(n,t,e,i,r){for(const o of t){const c=mk(e,o);if(c){n.add(c);const h=o1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function By(n,t,e,i){const r=t._rootScopes,o=o1(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=pT(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=pT(h,c,o,f,i),f===null)?!1:zy(Array.from(h),[""],r,o,()=>pk(t,e,i))}function pT(n,t,e,i,r){for(;e;)e=gk(n,t,e,i,r);return e}function pk(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Ue(r)&&qt(e)?e:r||{}}function yk(n,t,e,i){let r;for(const o of t)if(r=l1(uk(o,n),e),typeof r<"u")return Uy(n,r)?By(e,i,n,r):r}function l1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function yT(n){let t=n._keys;return t||(t=n._keys=_k(n._scopes)),t}function _k(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const vk=Number.EPSILON||1e-14,al=(n,t)=>t<n.length&&!n[t].skip&&n[t],c1=n=>n==="x"?"y":"x";function bk(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=Cp(o,r),f=Cp(c,o);let m=h/(h+f),y=f/(h+f);m=isNaN(m)?0:m,y=isNaN(y)?0:y;const _=i*m,b=i*y;return{previous:{x:o.x-_*(c.x-r.x),y:o.y-_*(c.y-r.y)},next:{x:o.x+b*(c.x-r.x),y:o.y+b*(c.y-r.y)}}}function xk(n,t,e){const i=n.length;let r,o,c,h,f,m=al(n,0);for(let y=0;y<i-1;++y)if(f=m,m=al(n,y+1),!(!f||!m)){if(jc(t[y],0,vk)){e[y]=e[y+1]=0;continue}r=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=r*c*t[y],e[y+1]=o*c*t[y])}}function Tk(n,t,e="x"){const i=c1(e),r=n.length;let o,c,h,f=al(n,0);for(let m=0;m<r;++m){if(c=h,h=f,f=al(n,m+1),!h)continue;const y=h[e],_=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=_-o*t[m]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=_+o*t[m])}}function Ek(n,t="x"){const e=c1(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,m=al(n,0);for(c=0;c<i;++c)if(h=f,f=m,m=al(n,c+1),!!f){if(m){const y=m[t]-f[t];r[c]=y!==0?(m[e]-f[e])/y:0}o[c]=h?m?Ji(r[c-1])!==Ji(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}xk(n,r,o),Tk(n,o,t)}function rf(n,t,e){return Math.max(Math.min(n,e),t)}function wk(n,t){let e,i,r,o,c,h=tu(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&tu(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=rf(r.cp1x,t.left,t.right),r.cp1y=rf(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=rf(r.cp2x,t.left,t.right),r.cp2y=rf(r.cp2y,t.top,t.bottom)))}function Sk(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")Ek(n,r);else{let m=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=bk(m,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,m=h}t.capBezierPoints&&wk(n,e)}function Fy(){return typeof window<"u"&&typeof document<"u"}function Hy(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Jf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const xd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Ak(n,t){return xd(n).getPropertyValue(t)}const Rk=["top","right","bottom","left"];function Ma(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=Rk[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Ck=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Ik(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(Ck(r,o,n.target))h=r,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function Ea(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=xd(e),o=r.boxSizing==="border-box",c=Ma(r,"padding"),h=Ma(r,"border","width"),{x:f,y:m,box:y}=Ik(n,e),_=c.left+(y&&h.left),b=c.top+(y&&h.top);let{width:E,height:R}=t;return o&&(E-=c.width+h.width,R-=c.height+h.height),{x:Math.round((f-_)/E*e.width/i),y:Math.round((m-b)/R*e.height/i)}}function Mk(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&Hy(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=xd(o),f=Ma(h,"border","width"),m=Ma(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=Jf(h.maxWidth,o,"clientWidth"),r=Jf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Wf,maxHeight:r||Wf}}const af=n=>Math.round(n*10)/10;function Nk(n,t,e,i){const r=xd(n),o=Ma(r,"margin"),c=Jf(r.maxWidth,n,"clientWidth")||Wf,h=Jf(r.maxHeight,n,"clientHeight")||Wf,f=Mk(n,t,e);let{width:m,height:y}=f;if(r.boxSizing==="content-box"){const b=Ma(r,"border","width"),E=Ma(r,"padding");m-=E.width+b.width,y-=E.height+b.height}return m=Math.max(0,m-o.width),y=Math.max(0,i?m/i:y-o.height),m=af(Math.min(m,c,f.maxWidth)),y=af(Math.min(y,h,f.maxHeight)),m&&!y&&(y=af(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,m=af(Math.floor(y*i))),{width:m,height:y}}function _T(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Dk=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Fy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function vT(n,t){const e=Ak(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wa(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Ok(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function kk(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=wa(n,r,e),h=wa(r,o,e),f=wa(o,t,e),m=wa(c,h,e),y=wa(h,f,e);return wa(m,y,e)}const Vk=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Pk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Wo(n,t,e){return n?Vk(t,e):Pk()}function u1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function h1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function f1(n){return n==="angle"?{between:Jc,compare:V4,normalize:gi}:{between:Ar,compare:(t,e)=>t-e,normalize:t=>t}}function bT({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function Lk(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=f1(i),f=t.length;let{start:m,end:y,loop:_}=n,b,E;if(_){for(m+=f,y+=f,b=0,E=f;b<E&&c(h(t[m%f][i]),r,o);++b)m--,y--;m%=f,y%=f}return y<m&&(y+=f),{start:m,end:y,loop:_,style:n.style}}function jk(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:m}=f1(i),{start:y,end:_,loop:b,style:E}=Lk(n,t,e),R=[];let C=!1,M=null,j,F,H;const J=()=>f(r,H,j)&&h(r,H)!==0,Q=()=>h(o,j)===0||f(o,H,j),rt=()=>C||J(),N=()=>!C||Q();for(let A=y,D=y;A<=_;++A)F=t[A%c],!F.skip&&(j=m(F[i]),j!==H&&(C=f(j,r,o),M===null&&rt()&&(M=h(j,r)===0?A:D),M!==null&&N()&&(R.push(bT({start:M,end:A,loop:b,count:c,style:E})),M=null),D=A,H=j));return M!==null&&R.push(bT({start:M,end:_,loop:b,count:c,style:E})),R}function zk(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=jk(i[r],n.points,t);o.length&&e.push(...o)}return e}function Uk(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function Bk(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const m=n[f%r];m.skip||m.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=m.stop?f:null):(c=f,h.skip&&(t=f)),h=m}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function Fk(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=Uk(e,r,o,i);if(i===!0)return xT(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,m=!!n._fullLoop&&c===0&&h===r-1;return xT(n,Bk(e,c,f,m),e,t)}function xT(n,t,e,i){return!i||!i.setContext||!e?t:Hk(n,t,e,i)}function Hk(n,t,e,i){const r=n._chart.getContext(),o=TT(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,m=[];let y=o,_=t[0].start,b=_;function E(R,C,M,j){const F=h?-1:1;if(R!==C){for(R+=f;e[R%f].skip;)R-=F;for(;e[C%f].skip;)C+=F;R%f!==C%f&&(m.push({start:R%f,end:C%f,loop:M,style:j}),y=j,_=C%f)}}for(const R of t){_=h?_:R.start;let C=e[_%f],M;for(b=_+1;b<=R.end;b++){const j=e[b%f];M=TT(i.setContext(Ya(r,{type:"segment",p0:C,p1:j,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),qk(M,y)&&E(_,b-1,R.loop,y),C=j,y=M}_<b-1&&E(_,b-1,R.loop,y)}return m}function TT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function qk(n,t){if(!t)return!1;const e=[],i=function(r,o){return ky(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function of(n,t,e){return n.options.clip?n[e]:t[e]}function Gk(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:of(e,t,"left"),right:of(e,t,"right"),top:of(i,t,"top"),bottom:of(i,t,"bottom")}:t}function Yk(n,t){const e=t._clip;if(e.disabled)return!1;const i=Gk(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Kk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=t1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var As=new Kk;const ET="transparent",Xk={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=fT(n||ET),r=i.valid&&fT(t||ET);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class $k{constructor(t,e,i,r){const o=e[i];r=sf([t.to,r,o,t.from]);const c=sf([t.from,o,r]);this._active=!0,this._fn=t.fn||Xk[t.type||typeof c],this._easing=zc[t.easing]||zc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=sf([t.to,e,r,t.from]),this._from=sf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class d1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Se.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(Ue(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=Wk(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&Qk(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[m];let _=o[m];const b=i.get(m);if(_)if(b&&_.active()){_.update(b,y,h);continue}else _.cancel();if(!b||!b.duration){t[m]=y;continue}o[m]=_=new $k(b,t,m,y),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return As.add(this._chart,i),!0}}function Qk(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function Wk(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function wT(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function Zk(n,t,e){if(e===!1)return!1;const i=wT(n,e),r=wT(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Jk(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function m1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function ST(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(y=!0,i.all)continue;break}m=n.values[f],ei(m)&&(o||t===0||Ji(t)===Ji(m))&&(t+=m)}return!y&&!i.all?0:t}function tV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,y;for(f=0,m=c.length;f<m;++f)y=c[f],h[f]={[r]:y,[o]:n[y]};return h}function Kg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function eV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function nV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function iV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function AT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function RT(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,y=eV(o,c,i),_=t.length;let b;for(let E=0;E<_;++E){const R=t[E],{[f]:C,[m]:M}=R,j=R._stacks||(R._stacks={});b=j[m]=iV(r,y,C),b[h]=M,b._top=AT(b,c,!0,i.type),b._bottom=AT(b,c,!1,i.type);const F=b._visualValues||(b._visualValues={});F[h]=M}}function Xg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function sV(n,t){return Ya(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function rV(n,t,e){return Ya(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function vc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const $g=n=>n==="reset"||n==="none",CT=(n,t)=>t?n:Object.assign({},n),aV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:m1(e,!0),values:null};class Td{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Kg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&vc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,b,E,R)=>_==="x"?b:_==="r"?R:E,o=e.xAxisID=kt(i.xAxisID,Xg(t,"x")),c=e.yAxisID=kt(i.yAxisID,Xg(t,"y")),h=e.rAxisID=kt(i.rAxisID,Xg(t,"r")),f=e.indexAxis,m=e.iAxisID=r(f,o,c,h),y=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cT(this._data,this),t._stacked&&vc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=tV(e,r)}else if(i!==e){if(i){cT(i,this);const r=this._cachedMeta;vc(r),r._parsed=[]}e&&Object.isExtensible(e)&&z4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Kg(e.vScale,e),e.stack!==i.stack&&(r=!0,vc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(RT(this,e._parsed),e._stacked=Kg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],y,_,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Ue(r[t])?b=this.parseArrayData(i,r,t,e):qt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const E=()=>_[h]===null||m&&_[h]<m[h];for(y=0;y<e;++y)i._parsed[y+t]=_=b[y],f&&(E()&&(f=!1),m=_);i._sorted=f}c&&RT(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),y=o===c,_=new Array(r);let b,E,R;for(b=0,E=r;b<E;++b)R=b+i,_[b]={[h]:y||o.parse(m[R],R),[f]:c.parse(e[R],R)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,m,y,_;for(f=0,m=r;f<m;++f)y=f+i,_=e[y],h[f]={x:o.parse(_[0],y),y:c.parse(_[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(r);let y,_,b,E;for(y=0,_=r;y<_;++y)b=y+i,E=e[b],m[y]={x:o.parse(ja(E,h),b),y:c.parse(ja(E,f),b)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:m1(r,!0),values:e._stacks[t.axis]._visualValues};return ST(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=ST(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=aV(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:_}=nV(h);let b,E;function R(){E=r[b];const C=E[h.axis];return!ei(E[t.axis])||y>C||_<C}for(b=0;b<c&&!(!R()&&(this.updateRangeFromParsed(m,t,E,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!R()){this.updateRangeFromParsed(m,t,E,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ei(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Jk(kt(this.options.clip,Zk(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const _=r[y];_.hidden||(_.active&&m?c.push(_):_.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=rV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=sV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Wc(i);if(h)return CT(h,f);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],b=m.getOptionScopes(this.getDataset(),y),E=Object.keys(Se.elements[t]),R=()=>this.getContext(i,r,e),C=m.resolveNamedOptions(b,E,R,_);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(CT(C,f))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,_=y.datasetAnimationScopeKeys(this._type,e),b=y.getOptionScopes(this.getDataset(),_);f=y.createResolver(b,this.getContext(t,i,e))}const m=new d1(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||$g(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){$g(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!$g(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&vc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function oV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=JS(i.sort((r,o)=>r-o))}return n._cache.$bar}function lV(n){const t=n.iScale,e=oV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Wc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function cV(n,t,e,i){const r=e.barThickness;let o,c;return $t(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function uV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:m}}function hV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:r,end:o,min:c,max:h}}function g1(n,t,e,i){return Ue(n)?hV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function IT(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let m,y,_,b;for(m=e,y=e+i;m<y;++m)b=t[m],_={},_[r.axis]=h||r.parse(c[m],m),f.push(g1(b,_,o,m));return f}function Qg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function fV(n,t,e){return n!==0?Ji(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function dV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function mV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:y}=dV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=y:(o[MT(y,c,h,f)]=!0,r=m)),o[MT(r,c,h,f)]=!0,n.borderSkipped=o}function MT(n,t,e,i){return i?(n=gV(n,t,e),n=NT(n,e,t)):n=NT(n,t,e),n}function gV(n,t,e){return n===t?e:n===e?t:n}function NT(n,t,e){return n==="start"?t:n==="end"?e:n}function pV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class yV extends Td{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return IT(t,e,i,r)}parseArrayData(t,e,i,r){return IT(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?h:f,y=c.axis==="x"?h:f,_=[];let b,E,R,C;for(b=i,E=i+r;b<E;++b)C=e[b],R={},R[o.axis]=o.parse(ja(C,m),b),_.push(g1(ja(C,y),R,c,b));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Qg(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),y=this._getRuler(),{sharedOptions:_,includeOptions:b}=this._getSharedOptions(e,r);for(let E=e;E<e+i;E++){const R=this.getParsed(E),C=o||$t(R[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(E),M=this._calculateBarIndexPixels(E,y),j=(R._stacks||{})[h.axis],F={horizontal:m,base:C.base,enableBorderRadius:!j||Qg(R._custom)||c===j._top||c===j._bottom,x:m?C.head:M.center,y:m?M.center:C.head,height:m?M.size:Math.abs(C.size),width:m?Math.abs(C.size):M.size};b&&(F.options=_||this.resolveDataElementOptions(E,t[E].active?"active":r));const H=F.options||t[E].options;mV(F,H,j,c),pV(F,H,y.ratio),this.updateElement(t[E],E,F,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],m=y=>{const _=y._parsed.find(E=>E[i.axis]===f),b=_&&_[y.vScale.axis];if($t(b)||isNaN(b))return!0};for(const y of r)if(!(e!==void 0&&m(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[kt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||lV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),m=f._custom,y=Qg(m);let _=f[e.axis],b=0,E=i?this.applyStack(e,f,i):_,R,C;E!==_&&(b=E-_,E=_),y&&(_=m.barStart,E=m.barEnd-m.barStart,_!==0&&Ji(_)!==Ji(m.barEnd)&&(b=0),b+=_);const M=!$t(o)&&!y?o:b;let j=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(b+E):R=j,C=R-j,Math.abs(C)<c){C=fV(C,e,h)*c,_===h&&(j-=C/2);const F=e.getPixelForDecimal(0),H=e.getPixelForDecimal(1),J=Math.min(F,H),Q=Math.max(F,H);j=Math.max(Math.min(j,Q),J),R=j+C,i&&!y&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(R)-e.getValueForPixel(j))}if(j===e.getPixelForValue(h)){const F=Ji(C)*e.getLineWidthForValue(h)/2;j+=F,C-=F}return{size:C,base:j,head:R,center:R+C/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=kt(r.maxBarThickness,1/0);let h,f;const m=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?uV(t,e,r,y*m):cV(t,e,r,y*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(kt(b,this.getFirstScaleIdForIndexAxis())),R=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+E;h=_.start+_.chunk*R+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function _V(n,t,e){let i=1,r=1,o=0,c=0;if(t<ve){const h=n,f=h+t,m=Math.cos(h),y=Math.sin(h),_=Math.cos(f),b=Math.sin(f),E=(H,J,Q)=>Jc(H,h,f,!0)?1:Math.max(J,J*e,Q,Q*e),R=(H,J,Q)=>Jc(H,h,f,!0)?-1:Math.min(J,J*e,Q,Q*e),C=E(0,m,_),M=E(Fe,y,b),j=R(ee,m,_),F=R(ee+Fe,y,b);i=(C-j)/2,r=(M-F)/2,o=-(C+j)/2,c=-(M+F)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class vV extends Td{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(qt(i[t])){const{key:f="value"}=this._parsing;o=m=>+ja(i[m],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Ds(this.options.rotation-90)}_getCircumference(){return Ds(this.options.circumference)}_getRotationExtents(){let t=ve,e=-ve;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(T4(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:y,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:E,offsetX:R,offsetY:C}=_V(_,y,f),M=(i.width-c)/b,j=(i.height-c)/E,F=Math.max(Math.min(M,j)/2,0),H=XS(this.options.radius,F),J=Math.max(H*f,0),Q=(H-J)/this._getVisibleDatasetWeightTotal();this.offsetX=R*H,this.offsetY=C*H,r.total=this.calculateTotal(),this.outerRadius=H-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ve)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,y=(h.left+h.right)/2,_=(h.top+h.bottom)/2,b=o&&m.animateScale,E=b?0:this.innerRadius,R=b?0:this.outerRadius,{sharedOptions:C,includeOptions:M}=this._getSharedOptions(e,r);let j=this._getRotation(),F;for(F=0;F<e;++F)j+=this._circumference(F,o);for(F=e;F<e+i;++F){const H=this._circumference(F,o),J=t[F],Q={x:y+this.offsetX,y:_+this.offsetY,startAngle:j,endAngle:j+H,circumference:H,outerRadius:R,innerRadius:E};M&&(Q.options=C||this.resolveDataElementOptions(F,J.active?"active":r)),j+=H,this.updateElement(J,F,Q,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ve*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=Vy(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(kt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class bV extends Td{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=F4(e,r,c);this._drawStart=h,this._drawCount=f,H4(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(e,r),b=c.axis,E=h.axis,{spanGaps:R,segment:C}=this.options,M=Zc(R)?R:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||o||r==="none",F=e+i,H=t.length;let J=e>0&&this.getParsed(e-1);for(let Q=0;Q<H;++Q){const rt=t[Q],N=j?rt:{};if(Q<e||Q>=F){N.skip=!0;continue}const A=this.getParsed(Q),D=$t(A[E]),V=N[b]=c.getPixelForValue(A[b],Q),O=N[E]=o||D?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,A,f):A[E],Q);N.skip=isNaN(V)||isNaN(O)||D,N.stop=Q>0&&Math.abs(A[b]-J[b])>M,C&&(N.parsed=A,N.raw=m.data[Q]),_&&(N.options=y||this.resolveDataElementOptions(Q,rt.active?"active":r)),j||this.updateElement(rt,Q,N,r),J=A}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function xa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qy{static override(t){Object.assign(qy.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return xa()}parse(){return xa()}format(){return xa()}add(){return xa()}diff(){return xa()}startOf(){return xa()}endOf(){return xa()}}var xV={_date:qy};function TV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?L4:Ra;if(i){if(r._sharedOptions){const y=o[0],_=typeof y.getRange=="function"&&y.getRange(t);if(_){const b=m(o,t,e-_),E=m(o,t,e+_);return{lo:b.lo,hi:E.hi}}}}else{const y=m(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:b}=n,E=b.slice(0,y.lo+1).reverse().findIndex(C=>!$t(C[_.axis]));y.lo-=Math.max(0,E);const R=b.slice(y.hi).findIndex(C=>!$t(C[_.axis]));y.hi+=Math.max(0,R)}return y}}return{lo:0,hi:o.length-1}}function Ed(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:y}=o[h],{lo:_,hi:b}=TV(o[h],t,c,r);for(let E=_;E<=b;++E){const R=y[E];R.skip||i(R,m,E)}}}function EV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Wg(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Ed(n,e,t,function(h,f,m){!r&&!tu(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function wV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:_}=WS(c,{x:t.x,y:t.y});Jc(_,m,y)&&r.push({element:c,datasetIndex:h,index:f})}return Ed(n,e,t,o),r}function SV(n,t,e,i,r,o){let c=[];const h=EV(e);let f=Number.POSITIVE_INFINITY;function m(y,_,b){const E=y.inRange(t.x,t.y,r);if(i&&!E)return;const R=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!E)return;const M=h(t,R);M<f?(c=[{element:y,datasetIndex:_,index:b}],f=M):M===f&&c.push({element:y,datasetIndex:_,index:b})}return Ed(n,e,t,m),c}function Zg(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?wV(n,t,e,r):SV(n,t,e,i,r,o)}function DT(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Ed(n,e,t,(f,m,y)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:m,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var AV={modes:{index(n,t,e,i){const r=Ea(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Wg(n,r,o,i,c):Zg(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,_=m.data[y];_&&!_.skip&&f.push({element:_,datasetIndex:m.index,index:y})}),f):[]},dataset(n,t,e,i){const r=Ea(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Wg(n,r,o,i,c):Zg(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=Ea(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Wg(n,r,o,i,c)},nearest(n,t,e,i){const r=Ea(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Zg(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ea(t,n);return DT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ea(t,n);return DT(n,r,"y",e.intersect,i)}}};const p1=["left","top","right","bottom"];function bc(n,t){return n.filter(e=>e.pos===t)}function OT(n,t){return n.filter(e=>p1.indexOf(e.pos)===-1&&e.box.axis===t)}function xc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function RV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function CV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!p1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function IV(n,t){const e=CV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function MV(n){const t=RV(n),e=xc(t.filter(m=>m.box.fullSize),!0),i=xc(bc(t,"left"),!0),r=xc(bc(t,"right")),o=xc(bc(t,"top"),!0),c=xc(bc(t,"bottom")),h=OT(t,"x"),f=OT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:bc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function kT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function y1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function NV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&y1(c,o.getPadding());const h=Math.max(0,t.outerWidth-kT(c,n,"left","right")),f=Math.max(0,t.outerHeight-kT(c,n,"top","bottom")),m=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:y}:{same:y,other:m}}function DV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function OV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Ic(n,t,e,i){const r=[];let o,c,h,f,m,y;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,OV(h.horizontal,t));const{same:_,other:b}=NV(t,e,h,i);m|=_&&r.length,y=y||b,f.fullSize||r.push(h)}return m&&Ic(r,t,e,i)||y}function lf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function VT(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const _=t.w*y,b=m.size||f.height;Wc(m.start)&&(c=m.start),f.fullSize?lf(f,r.left,c,e.outerWidth-r.right-r.left,b):lf(f,t.left+m.placed,c,_,b),m.start=c,m.placed+=_,c=f.bottom}else{const _=t.h*y,b=m.size||f.width;Wc(m.start)&&(o=m.start),f.fullSize?lf(f,o,r.top,b,e.outerHeight-r.bottom-r.top):lf(f,o,t.top+m.placed,b,_),m.start=o,m.placed+=_,o=f.right}}t.x=o,t.y=c}var ti={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ni(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=MV(n.boxes),f=h.vertical,m=h.horizontal;te(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const y=f.reduce((C,M)=>M.box.options&&M.box.options.display===!1?C:C+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),b=Object.assign({},r);y1(b,ni(i));const E=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),R=IV(f.concat(m),_);Ic(h.fullSize,E,_,R),Ic(f,E,_,R),Ic(m,E,_,R)&&Ic(f,E,_,R),DV(E),VT(h.leftAndTop,E,_,R),E.x+=E.w,E.y+=E.h,VT(h.rightAndBottom,E,_,R),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},te(h.chartArea,C=>{const M=C.box;Object.assign(M,n.chartArea),M.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class _1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class kV extends _1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const wf="$chartjs",VV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PT=n=>n===null||n==="";function PV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[wf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",PT(r)){const o=vT(n,"width");o!==void 0&&(n.width=o)}if(PT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=vT(n,"height");o!==void 0&&(n.height=o)}return n}const v1=Dk?{passive:!0}:!1;function LV(n,t,e){n&&n.addEventListener(t,e,v1)}function jV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,v1)}function zV(n,t){const e=VV[n.type]||n.type,{x:i,y:r}=Ea(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function td(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function UV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||td(h.addedNodes,i),c=c&&!td(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function BV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||td(h.removedNodes,i),c=c&&!td(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const nu=new Map;let LT=0;function b1(){const n=window.devicePixelRatio;n!==LT&&(LT=n,nu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function FV(n,t){nu.size||window.addEventListener("resize",b1),nu.set(n,t)}function HV(n){nu.delete(n),nu.size||window.removeEventListener("resize",b1)}function qV(n,t,e){const i=n.canvas,r=i&&Hy(i);if(!r)return;const o=e1((h,f)=>{const m=r.clientWidth;e(h,f),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,y=f.contentRect.height;m===0&&y===0||o(m,y)});return c.observe(r),FV(n,o),c}function Jg(n,t,e){e&&e.disconnect(),t==="resize"&&HV(n)}function GV(n,t,e){const i=n.canvas,r=e1(o=>{n.ctx!==null&&e(zV(o,n))},n);return LV(i,t,r),r}class YV extends _1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(PV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[wf])return!1;const i=e[wf].initial;["height","width"].forEach(o=>{const c=i[o];$t(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[wf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:UV,detach:BV,resize:qV}[e]||GV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Jg,detach:Jg,resize:Jg}[e]||jV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return Nk(t,e,i,r)}isAttached(t){const e=t&&Hy(t);return!!(e&&e.isConnected)}}function KV(n){return!Fy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?kV:YV}class zs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Zc(this.x)&&Zc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function XV(n,t){const e=n.options.ticks,i=$V(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?WV(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>r)return ZV(t,m,o,c/r),m;const y=QV(o,t,r);if(c>0){let _,b;const E=c>1?Math.round((f-h)/(c-1)):null;for(cf(t,m,y,$t(E)?0:h-E,h),_=0,b=c-1;_<b;_++)cf(t,m,y,o[_],o[_+1]);return cf(t,m,y,f,$t(E)?t.length:f+E),m}return cf(t,m,y),m}function $V(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function QV(n,t,e){const i=JV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=M4(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function WV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function ZV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function cf(n,t,e,i,r){const o=kt(i,0),c=Math.min(kt(r,n.length),n.length);let h=0,f,m,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===y&&(t.push(n[m]),h++,y=Math.round(o+h*e))}function JV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const t6=n=>n==="left"?"right":n==="right"?"left":n,jT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,zT=(n,t)=>Math.min(t||n,n);function UT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function e6(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(r-1))/2,f+=r<t?m:-m,f<o-h||f>c+h)))return f}function n6(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Tc(n){return n.drawTicks?n.tickLength:0}function BT(n,t){if(!n.display)return 0;const e=hn(n.font,t),i=ni(n.padding);return(Ue(n.text)?n.text.length:1)*e.lineHeight+i.height}function i6(n,t){return Ya(n,{scale:t,type:"scale"})}function s6(n,t,e){return Ya(n,{tick:e,index:t,type:"tick"})}function r6(n,t,e){let i=Oy(n);return(e&&t!=="right"||!e&&t==="right")&&(i=t6(i)),i}function a6(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:y}=f;let _=0,b,E,R;const C=c-r,M=h-o;if(n.isHorizontal()){if(E=an(i,o,h),qt(e)){const j=Object.keys(e)[0],F=e[j];R=y[j].getPixelForValue(F)+C-t}else e==="center"?R=(m.bottom+m.top)/2+C-t:R=jT(n,e,t);b=h-o}else{if(qt(e)){const j=Object.keys(e)[0],F=e[j];E=y[j].getPixelForValue(F)-M+t}else e==="center"?E=(m.left+m.right)/2-M+t:E=jT(n,e,t);R=an(i,c,r),_=e==="left"?-Fe:Fe}return{titleX:E,titleY:R,maxWidth:b,rotation:_}}class fl extends zs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Fi(t,Number.POSITIVE_INFINITY),e=Fi(e,Number.NEGATIVE_INFINITY),i=Fi(i,Number.POSITIVE_INFINITY),r=Fi(r,Number.NEGATIVE_INFINITY),{min:Fi(t,i),max:Fi(e,r),minDefined:ei(t),maxDefined:ei(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Fi(e,Fi(i,e)),max:Fi(i,Fi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ck(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?UT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=XV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),he(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=he(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=zT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),_=y.widest.width,b=y.highest.height,E=un(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:E/(i-1),_+6>h&&(h=E/(i-(t.offset?.5:1)),f=this.maxHeight-Tc(t.grid)-e.padding-BT(t.title,this.chart.options.font),m=Math.sqrt(_*_+b*b),c=k4(Math.min(Math.asin(un((y.highest.height+6)/h,-1,1)),Math.asin(un(f/m,-1,1))-Math.asin(un(b/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=BT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Tc(o)+f):(t.height=this.maxHeight,t.width=Tc(o)+f),i.display&&this.ticks.length){const{first:m,last:y,widest:_,highest:b}=this._getLabelSizes(),E=i.padding*2,R=Ds(this.labelRotation),C=Math.cos(R),M=Math.sin(R);if(h){const j=i.mirror?0:M*_.width+C*b.height;t.height=Math.min(this.maxHeight,t.height+j+E)}else{const j=i.mirror?0:C*_.width+M*b.height;t.width=Math.min(this.maxWidth,t.width+j+E)}this._calculatePadding(m,y,M,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,E=0;f?m?(b=r*t.width,E=i*e.height):(b=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,E=e.width/2),this.paddingLeft=Math.max((b-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((E-_+c)*this.width/(this.width-_),0)}else{let y=e.height/2,_=t.height/2;o==="start"?(y=0,_=t.height):o==="end"&&(y=e.height,_=0),this.paddingTop=y+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)$t(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=UT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/zT(e,i));let m=0,y=0,_,b,E,R,C,M,j,F,H,J,Q;for(_=0;_<e;_+=f){if(R=t[_].label,C=this._resolveTickFontOptions(_),r.font=M=C.string,j=o[M]=o[M]||{data:{},gc:[]},F=C.lineHeight,H=J=0,!$t(R)&&!Ue(R))H=mT(r,j.data,j.gc,H,R),J=F;else if(Ue(R))for(b=0,E=R.length;b<E;++b)Q=R[b],!$t(Q)&&!Ue(Q)&&(H=mT(r,j.data,j.gc,H,Q),J+=F);c.push(H),h.push(J),m=Math.max(H,m),y=Math.max(J,y)}n6(o,e);const rt=c.indexOf(m),N=h.indexOf(y),A=D=>({width:c[D]||0,height:h[D]||0});return{first:A(0),last:A(e-1),widest:A(rt),highest:A(N),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return P4(this._alignToPixels?ba(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=s6(this.getContext(),t,i))}return this.$context||(this.$context=i6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ds(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,m=this.isHorizontal(),_=this.ticks.length+(f?1:0),b=Tc(o),E=[],R=h.setContext(this.getContext()),C=R.display?R.width:0,M=C/2,j=function(X){return ba(i,X,C)};let F,H,J,Q,rt,N,A,D,V,O,z,k;if(c==="top")F=j(this.bottom),N=this.bottom-b,D=F-M,O=j(t.top)+M,k=t.bottom;else if(c==="bottom")F=j(this.top),O=t.top,k=j(t.bottom)-M,N=F+M,D=this.top+b;else if(c==="left")F=j(this.right),rt=this.right-b,A=F-M,V=j(t.left)+M,z=t.right;else if(c==="right")F=j(this.left),V=t.left,z=j(t.right)-M,rt=F+M,A=this.left+b;else if(e==="x"){if(c==="center")F=j((t.top+t.bottom)/2+.5);else if(qt(c)){const X=Object.keys(c)[0],ot=c[X];F=j(this.chart.scales[X].getPixelForValue(ot))}O=t.top,k=t.bottom,N=F+M,D=N+b}else if(e==="y"){if(c==="center")F=j((t.left+t.right)/2);else if(qt(c)){const X=Object.keys(c)[0],ot=c[X];F=j(this.chart.scales[X].getPixelForValue(ot))}rt=F-M,A=rt-b,V=t.left,z=t.right}const Dt=kt(r.ticks.maxTicksLimit,_),Tt=Math.max(1,Math.ceil(_/Dt));for(H=0;H<_;H+=Tt){const X=this.getContext(H),ot=o.setContext(X),dt=h.setContext(X),bt=ot.lineWidth,Ot=ot.color,L=dt.dash||[],Z=dt.dashOffset,lt=ot.tickWidth,ct=ot.tickColor,ht=ot.tickBorderDash||[],gt=ot.tickBorderDashOffset;J=e6(this,H,f),J!==void 0&&(Q=ba(i,J,bt),m?rt=A=V=z=Q:N=D=O=k=Q,E.push({tx1:rt,ty1:N,tx2:A,ty2:D,x1:V,y1:O,x2:z,y2:k,width:bt,color:Ot,borderDash:L,borderDashOffset:Z,tickWidth:lt,tickColor:ct,tickBorderDash:ht,tickBorderDashOffset:gt}))}return this._ticksLength=_,this._borderValue=F,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:y,mirror:_}=o,b=Tc(i.grid),E=b+y,R=_?-y:E,C=-Ds(this.labelRotation),M=[];let j,F,H,J,Q,rt,N,A,D,V,O,z,k="middle";if(r==="top")rt=this.bottom-R,N=this._getXAxisLabelAlignment();else if(r==="bottom")rt=this.top+R,N=this._getXAxisLabelAlignment();else if(r==="left"){const Tt=this._getYAxisLabelAlignment(b);N=Tt.textAlign,Q=Tt.x}else if(r==="right"){const Tt=this._getYAxisLabelAlignment(b);N=Tt.textAlign,Q=Tt.x}else if(e==="x"){if(r==="center")rt=(t.top+t.bottom)/2+E;else if(qt(r)){const Tt=Object.keys(r)[0],X=r[Tt];rt=this.chart.scales[Tt].getPixelForValue(X)+E}N=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Q=(t.left+t.right)/2-E;else if(qt(r)){const Tt=Object.keys(r)[0],X=r[Tt];Q=this.chart.scales[Tt].getPixelForValue(X)}N=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?k="top":f==="end"&&(k="bottom"));const Dt=this._getLabelSizes();for(j=0,F=h.length;j<F;++j){H=h[j],J=H.label;const Tt=o.setContext(this.getContext(j));A=this.getPixelForTick(j)+o.labelOffset,D=this._resolveTickFontOptions(j),V=D.lineHeight,O=Ue(J)?J.length:1;const X=O/2,ot=Tt.color,dt=Tt.textStrokeColor,bt=Tt.textStrokeWidth;let Ot=N;c?(Q=A,N==="inner"&&(j===F-1?Ot=this.options.reverse?"left":"right":j===0?Ot=this.options.reverse?"right":"left":Ot="center"),r==="top"?m==="near"||C!==0?z=-O*V+V/2:m==="center"?z=-Dt.highest.height/2-X*V+V:z=-Dt.highest.height+V/2:m==="near"||C!==0?z=V/2:m==="center"?z=Dt.highest.height/2-X*V:z=Dt.highest.height-O*V,_&&(z*=-1),C!==0&&!Tt.showLabelBackdrop&&(Q+=V/2*Math.sin(C))):(rt=A,z=(1-O)*V/2);let L;if(Tt.showLabelBackdrop){const Z=ni(Tt.backdropPadding),lt=Dt.heights[j],ct=Dt.widths[j];let ht=z-Z.top,gt=0-Z.left;switch(k){case"middle":ht-=lt/2;break;case"bottom":ht-=lt;break}switch(N){case"center":gt-=ct/2;break;case"right":gt-=ct;break;case"inner":j===F-1?gt-=ct:j>0&&(gt-=ct/2);break}L={left:gt,top:ht,width:ct+Z.width,height:lt+Z.height,color:Tt.backdropColor}}M.push({label:J,font:D,textOffset:z,options:{rotation:C,color:ot,strokeColor:dt,strokeWidth:bt,textAlign:Ot,textBaseline:k,translation:[Q,rt],backdrop:L}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ds(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,y;return e==="left"?r?(y=this.right+o,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y+=f)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y-=f)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,y,_,b;this.isHorizontal()?(m=ba(t,this.left,c)-c/2,y=ba(t,this.right,h)+h/2,_=b=f):(_=ba(t,this.top,c)-c/2,b=ba(t,this.bottom,h)+h/2,m=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,_),e.lineTo(y,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Py(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,y=c.textOffset;eu(i,m,0,y,f,h)}r&&Ly(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=hn(i.font),c=ni(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,Ue(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:y,maxWidth:_,rotation:b}=a6(this,f,e,h);eu(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:b,textAlign:r6(h,e,r),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=kt(t.grid&&t.grid.z,-1),r=kt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==fl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return hn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class uf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;c6(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,o6(t,c,i),this.override&&Se.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Se[r]&&(delete Se[r][i],this.override&&delete za[i])}}function o6(n,t,e){const i=Qc(Object.create(null),[e?Se.get(e):{},Se.get(t),n.defaults]);Se.set(t,i),n.defaultRoutes&&l6(t,n.defaultRoutes),n.descriptors&&Se.describe(t,n.descriptors)}function l6(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Se.route(o,r,f,h)})}function c6(n){return"id"in n&&"defaults"in n}class u6{constructor(){this.controllers=new uf(Td,"datasets",!0),this.elements=new uf(zs,"elements"),this.plugins=new uf(Object,"plugins"),this.scales=new uf(fl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=Ny(t);he(i["before"+r],[],i),e[t](i),he(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var qi=new u6;class h6{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(he(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=kt(i.options&&i.options.plugins,{}),o=f6(i);return r===!1&&!e?[]:m6(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function f6(n){const t={},e=[],i=Object.keys(qi.plugins.items);for(let o=0;o<i.length;o++)e.push(qi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function d6(n,t){return!t&&n===!1?null:n===!0?{}:n}function m6(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=d6(i[f],r);m!==null&&o.push({plugin:h,options:g6(n.config,{plugin:h,local:e[f]},m,c)})}return o}function g6(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Np(n,t){const e=Se.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function p6(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function y6(n,t){return n===t?"_index_":"_value_"}function FT(n){if(n==="x"||n==="y"||n==="r")return n}function _6(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Dp(n,...t){if(FT(n))return n;for(const e of t){const i=e.axis||_6(e.position)||n.length>1&&FT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function HT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function v6(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return HT(n,"x",e[0])||HT(n,"y",e[0])}return{}}function b6(n,t){const e=za[n.type]||{scales:{}},i=t.scales||{},r=Np(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Dp(c,h,v6(c,n),Se.scales[h.type]),m=y6(f,r),y=e.scales||{};o[c]=Lc(Object.create(null),[{axis:f},h,y[f],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Np(h,t),y=(za[h]||{}).scales||{};Object.keys(y).forEach(_=>{const b=p6(_,f),E=c[b+"AxisID"]||b;o[E]=o[E]||Object.create(null),Lc(o[E],[{axis:b},i[E],y[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];Lc(h,[Se.scales[h.type],Se.scale])}),o}function x1(n){const t=n.options||(n.options={});t.plugins=kt(t.plugins,{}),t.scales=b6(n,t)}function T1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function x6(n){return n=n||{},n.data=T1(n.data),x1(n),n}const qT=new Map,E1=new Set;function hf(n,t){let e=qT.get(n);return e||(e=t(),qT.set(n,e),E1.add(e)),e}const Ec=(n,t,e)=>{const i=ja(t,e);i!==void 0&&n.add(i)};class T6{constructor(t){this._config=x6(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=T1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),x1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return hf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return hf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return hf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return hf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(_=>Ec(f,t,_))),y.forEach(_=>Ec(f,r,_)),y.forEach(_=>Ec(f,za[o]||{},_)),y.forEach(_=>Ec(f,Se,_)),y.forEach(_=>Ec(f,Ip,_))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),E1.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,za[e]||{},Se.datasets[e]||{},{type:e},Se,Ip]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=GT(this._resolverCache,t,r);let f=c;if(w6(c,e)){o.$shared=!1,i=Br(i)?i():i;const m=this.createResolver(t,i,h);f=rl(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=GT(this._resolverCache,t,i);return qt(e)?rl(o,e,void 0,r):o}}function GT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:zy(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const E6=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>Br(n[t]));function w6(n,t){const{isScriptable:e,isIndexable:i}=r1(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Br(h)||E6(h))||c&&Ue(h))return!0}return!1}var S6="4.5.0";const A6=["top","bottom","left","right","chartArea"];function YT(n,t){return n==="top"||n==="bottom"||A6.indexOf(n)===-1&&t==="x"}function KT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function XT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),he(e&&e.onComplete,[n],t)}function R6(n){const t=n.chart,e=t.options.animation;he(e&&e.onProgress,[n],t)}function w1(n){return Fy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Sf={},$T=n=>{const t=w1(n);return Object.values(Sf).filter(e=>e.canvas===t).pop()};function C6(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function I6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Ka=class{static defaults=Se;static instances=Sf;static overrides=za;static registry=qi;static version=S6;static getChart=$T;static register(...t){qi.add(...t),QT()}static unregister(...t){qi.remove(...t),QT()}constructor(t,e){const i=this.config=new T6(e),r=w1(t),o=$T(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||KV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,y=f&&f.width;if(this.id=x4(),this.ctx=h,this.canvas=f,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new h6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=U4(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],Sf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}As.listen(this,"complete",XT),As.listen(this,"progress",R6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return $t(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return qi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_T(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gT(this.canvas,this.ctx),this}stop(){return As.stop(this),this}resize(t,e){As.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,_T(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),he(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Dp(c,h),m=f==="r",y=f==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,m=Dp(f,h),y=kt(h.type,c.dtype);(h.position===void 0||YT(h.position,m)!==YT(c.dposition))&&(h.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===y)_=i[f];else{const b=qi.getScale(y);_=new b({id:f,type:y,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),te(r,(c,h)=>{c||delete i[h]}),te(i,c=>{ti.configure(this,c,c.options),ti.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(KT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Np(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=qi.getController(h),{datasetElementType:m,dataElementType:y}=Se.datasets[h];Object.assign(f,{dataElementType:qi.getElement(y),datasetElementType:m&&qi.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:_}=this.getDatasetMeta(m),b=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(b),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(KT("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{ti.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!rT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;C6(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!rT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ti.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Br(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(As.has(this)?this.attached&&!As.running(this)&&As.start(this):(this.draw(),XT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=Yk(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Py(e,r),t.controller.draw(),r&&Ly(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return tu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=AV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ya(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Wc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),As.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Sf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},r=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!$f(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,m)=>f.filter(y=>!m.some(_=>y.datasetIndex===_.datasetIndex&&y.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=R4(t),m=I6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,he(o.onHover,[t,h,this],this),f&&he(o.onClick,[t,h,this],this));const y=!$f(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function QT(){return te(Ka.instances,n=>n._plugins.invalidate())}function M6(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:m,borderJoinStyle:y}=f,_=Math.min(m/c,gi(i-e));if(n.beginPath(),n.arc(r,o,c-m/2,i+_/2,e-_/2),h>0){const b=Math.min(m/h,gi(i-e));n.arc(r,o,h+m/2,e-b/2,i+b/2,!0)}else{const b=Math.min(m/2,c*gi(i-e));if(y==="round")n.arc(r,o,b,e-ee/2,i+ee/2,!0);else if(y==="bevel"){const E=2*b*b,R=-E*Math.cos(e+ee/2)+r,C=-E*Math.sin(e+ee/2)+o,M=E*Math.cos(i+ee/2)+r,j=E*Math.sin(i+ee/2)+o;n.lineTo(R,C),n.lineTo(M,j)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function N6(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let m=r/h;n.beginPath(),n.arc(o,c,h,i-m,e+m),f>r?(m=r/f,n.arc(o,c,f,e+m,i-m,!0)):n.arc(o,c,r,e+Fe,i-Fe),n.closePath(),n.clip()}function D6(n){return jy(n,["outerStart","outerEnd","innerStart","innerEnd"])}function O6(n,t,e,i){const r=D6(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const m=(e-Math.min(o,f))*i/2;return un(f,0,Math.min(o,m))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:un(r.innerStart,0,c),innerEnd:un(r.innerEnd,0,c)}}function Uo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function ed(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:m,innerRadius:y}=t,_=Math.max(t.outerRadius+i+e-m,0),b=y>0?y+i+e+m:0;let E=0;const R=r-f;if(i){const Tt=y>0?y-i:0,X=_>0?_-i:0,ot=(Tt+X)/2,dt=ot!==0?R*ot/(ot+i):R;E=(R-dt)/2}const C=Math.max(.001,R*_-e/ee)/_,M=(R-C)/2,j=f+M+E,F=r-M-E,{outerStart:H,outerEnd:J,innerStart:Q,innerEnd:rt}=O6(t,b,_,F-j),N=_-H,A=_-J,D=j+H/N,V=F-J/A,O=b+Q,z=b+rt,k=j+Q/O,Dt=F-rt/z;if(n.beginPath(),o){const Tt=(D+V)/2;if(n.arc(c,h,_,D,Tt),n.arc(c,h,_,Tt,V),J>0){const bt=Uo(A,V,c,h);n.arc(bt.x,bt.y,J,V,F+Fe)}const X=Uo(z,F,c,h);if(n.lineTo(X.x,X.y),rt>0){const bt=Uo(z,Dt,c,h);n.arc(bt.x,bt.y,rt,F+Fe,Dt+Math.PI)}const ot=(F-rt/b+(j+Q/b))/2;if(n.arc(c,h,b,F-rt/b,ot,!0),n.arc(c,h,b,ot,j+Q/b,!0),Q>0){const bt=Uo(O,k,c,h);n.arc(bt.x,bt.y,Q,k+Math.PI,j-Fe)}const dt=Uo(N,j,c,h);if(n.lineTo(dt.x,dt.y),H>0){const bt=Uo(N,D,c,h);n.arc(bt.x,bt.y,H,j-Fe,D)}}else{n.moveTo(c,h);const Tt=Math.cos(D)*_+c,X=Math.sin(D)*_+h;n.lineTo(Tt,X);const ot=Math.cos(V)*_+c,dt=Math.sin(V)*_+h;n.lineTo(ot,dt)}n.closePath()}function k6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){ed(n,t,e,i,f,r);for(let m=0;m<o;++m)n.fill();isNaN(h)||(f=c+(h%ve||ve))}return ed(n,t,e,i,f,r),n.fill(),f}function V6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:m,borderJoinStyle:y,borderDash:_,borderDashOffset:b,borderRadius:E}=f,R=f.borderAlign==="inner";if(!m)return;n.setLineDash(_||[]),n.lineDashOffset=b,R?(n.lineWidth=m*2,n.lineJoin=y||"round"):(n.lineWidth=m,n.lineJoin=y||"bevel");let C=t.endAngle;if(o){ed(n,t,e,i,C,r);for(let M=0;M<o;++M)n.stroke();isNaN(h)||(C=c+(h%ve||ve))}R&&N6(n,t,C),f.selfJoin&&C-c>=ee&&E===0&&y!=="miter"&&M6(n,t,C),o||(ed(n,t,e,i,C,r),n.stroke())}class P6 extends zs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=WS(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,E=kt(_,f-h),R=Jc(o,h,f)&&h!==f,C=E>=ve||R,M=Ar(c,m+b,y+b);return C&&M}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,y=(r+o)/2,_=(c+h+m+f)/2;return{x:e+Math.cos(y)*_,y:i+Math.sin(y)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ve?Math.floor(i/ve):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ee,i||0)),m=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,k6(t,this,m,o,c),V6(t,this,m,o,c),t.restore()}}function S1(n,t,e=t){n.lineCap=kt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(kt(e.borderDash,t.borderDash)),n.lineDashOffset=kt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=kt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=kt(e.borderWidth,t.borderWidth),n.strokeStyle=kt(e.borderColor,t.borderColor)}function L6(n,t,e){n.lineTo(e.x,e.y)}function j6(n){return n.stepped?tk:n.tension||n.cubicInterpolationMode==="monotone"?ek:L6}function A1(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),m=Math.min(o,h),y=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:m<f&&!y?i+m-f:m-f}}function z6(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:m}=A1(r,e,i),y=j6(o);let{move:_=!0,reverse:b}=i||{},E,R,C;for(E=0;E<=m;++E)R=r[(h+(b?m-E:E))%c],!R.skip&&(_?(n.moveTo(R.x,R.y),_=!1):y(n,C,R,b,o.stepped),C=R);return f&&(R=r[(h+(b?m:0))%c],y(n,C,R,b,o.stepped)),!!f}function U6(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=A1(r,e,i),{move:f=!0,reverse:m}=i||{};let y=0,_=0,b,E,R,C,M,j;const F=J=>(c+(m?h-J:J))%o,H=()=>{C!==M&&(n.lineTo(y,M),n.lineTo(y,C),n.lineTo(y,j))};for(f&&(E=r[F(0)],n.moveTo(E.x,E.y)),b=0;b<=h;++b){if(E=r[F(b)],E.skip)continue;const J=E.x,Q=E.y,rt=J|0;rt===R?(Q<C?C=Q:Q>M&&(M=Q),y=(_*y+J)/++_):(H(),n.lineTo(J,Q),R=rt,_=0,C=M=Q),j=Q}H()}function Op(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?U6:z6}function B6(n){return n.stepped?Ok:n.tension||n.cubicInterpolationMode==="monotone"?kk:wa}function F6(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),S1(n,t.options),n.stroke(r)}function H6(n,t,e,i){const{segments:r,options:o}=t,c=Op(t);for(const h of r)S1(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const q6=typeof Path2D=="function";function G6(n,t,e,i){q6&&!t.options.segment?F6(n,t,e,i):H6(n,t,e,i)}class Y6 extends zs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Sk(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Fk(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=zk(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=B6(i);let m,y;for(m=0,y=c.length;m<y;++m){const{start:_,end:b}=c[m],E=o[_],R=o[b];if(E===R){h.push(E);continue}const C=Math.abs((r-E[e])/(R[e]-E[e])),M=f(E,R,C,i.stepped);M[e]=t[e],h.push(M)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Op(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Op(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),G6(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function WT(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class K6 extends zs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return WT(this,t,"x",e)}inYRange(t,e){return WT(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!tu(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Mp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function R1(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,m,y,_;return n.horizontal?(_=c/2,h=Math.min(e,r),f=Math.max(e,r),m=i-_,y=i+_):(_=o/2,h=e-_,f=e+_,m=Math.min(i,r),y=Math.max(i,r)),{left:h,top:m,right:f,bottom:y}}function Rr(n,t,e,i){return n?0:un(t,e,i)}function X6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=s1(i);return{t:Rr(r.top,o.top,0,e),r:Rr(r.right,o.right,0,t),b:Rr(r.bottom,o.bottom,0,e),l:Rr(r.left,o.left,0,t)}}function $6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Qo(r),c=Math.min(t,e),h=n.borderSkipped,f=i||qt(r);return{topLeft:Rr(!f||h.top||h.left,o.topLeft,0,c),topRight:Rr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Rr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Rr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function Q6(n){const t=R1(n),e=t.right-t.left,i=t.bottom-t.top,r=X6(n,e/2,i/2),o=$6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function tp(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&R1(n,i);return h&&(r||Ar(t,h.left,h.right))&&(o||Ar(e,h.top,h.bottom))}function W6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Z6(n,t){n.rect(t.x,t.y,t.w,t.h)}function ep(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class C1 extends zs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=Q6(this),h=W6(c.radius)?Zf:Z6;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,ep(c,e,o)),t.clip(),h(t,ep(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,ep(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return tp(this,t,e,i)}inXRange(t,e){return tp(this,t,null,e)}inYRange(t,e){return tp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const ZT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},J6=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class JT extends zs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=he(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=hn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=ZT(i,o);let m,y;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,m=this._fitCols(c,r,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],y=r+h;let _=t;o.textAlign="left",o.textBaseline="middle";let b=-1,E=-y;return this.legendItems.forEach((R,C)=>{const M=i+e/2+o.measureText(R.text).width;(C===0||m[m.length-1]+M+2*h>c)&&(_+=y,m[m.length-(C>0?0:1)]=0,E+=y,b++),f[C]={left:0,top:E,row:b,width:M,height:r},m[m.length-1]+=M+h}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-t;let _=h,b=0,E=0,R=0,C=0;return this.legendItems.forEach((M,j)=>{const{itemWidth:F,itemHeight:H}=tP(i,e,o,M,r);j>0&&E+H+2*h>y&&(_+=b+h,m.push({width:b,height:E}),R+=b+h,C++,b=E=0),f[j]={left:R,top:E,col:C,width:F,height:H},b=Math.max(b,F),E+=H+h}),_+=b,m.push({width:b,height:E}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Wo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=an(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=an(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+r}else{let h=0,f=an(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=an(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Py(t,this),this._draw(),Ly(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Se.color,f=Wo(t.rtl,this.left,this.width),m=hn(c.font),{padding:y}=c,_=m.size,b=_/2;let E;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:R,boxHeight:C,itemHeight:M}=ZT(c,_),j=function(rt,N,A){if(isNaN(R)||R<=0||isNaN(C)||C<0)return;r.save();const D=kt(A.lineWidth,1);if(r.fillStyle=kt(A.fillStyle,h),r.lineCap=kt(A.lineCap,"butt"),r.lineDashOffset=kt(A.lineDashOffset,0),r.lineJoin=kt(A.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=kt(A.strokeStyle,h),r.setLineDash(kt(A.lineDash,[])),c.usePointStyle){const V={radius:C*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:D},O=f.xPlus(rt,R/2),z=N+b;i1(r,V,O,z,c.pointStyleWidth&&R)}else{const V=N+Math.max((_-C)/2,0),O=f.leftForLtr(rt,R),z=Qo(A.borderRadius);r.beginPath(),Object.values(z).some(k=>k!==0)?Zf(r,{x:O,y:V,w:R,h:C,radius:z}):r.rect(O,V,R,C),r.fill(),D!==0&&r.stroke()}r.restore()},F=function(rt,N,A){eu(r,A.text,rt,N+M/2,m,{strikethrough:A.hidden,textAlign:f.textAlign(A.textAlign)})},H=this.isHorizontal(),J=this._computeTitleHeight();H?E={x:an(o,this.left+y,this.right-i[0]),y:this.top+y+J,line:0}:E={x:this.left+y,y:an(o,this.top+J+y,this.bottom-e[0].height),line:0},u1(this.ctx,t.textDirection);const Q=M+y;this.legendItems.forEach((rt,N)=>{r.strokeStyle=rt.fontColor,r.fillStyle=rt.fontColor;const A=r.measureText(rt.text).width,D=f.textAlign(rt.textAlign||(rt.textAlign=c.textAlign)),V=R+b+A;let O=E.x,z=E.y;f.setWidth(this.width),H?N>0&&O+V+y>this.right&&(z=E.y+=Q,E.line++,O=E.x=an(o,this.left+y,this.right-i[E.line])):N>0&&z+Q>this.bottom&&(O=E.x=O+e[E.line].width+y,E.line++,z=E.y=an(o,this.top+J+y,this.bottom-e[E.line].height));const k=f.x(O);if(j(k,z,rt),O=B4(D,O+R+b,H?O+V:this.right,t.rtl),F(f.x(O),z,rt),H)E.x+=V+y;else if(typeof rt.text!="string"){const Dt=m.lineHeight;E.y+=I1(rt,Dt)+y}else E.y+=Q}),h1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=hn(e.font),r=ni(e.padding);if(!e.display)return;const o=Wo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=r.top+f;let y,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+m,_=an(t.align,_,this.right-b);else{const R=this.columnSizes.reduce((C,M)=>Math.max(C,M.height),0);y=m+an(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const E=an(h,_,_+b);c.textAlign=o.textAlign(Oy(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,eu(c,e.text,E,y,i)}_computeTitleHeight(){const t=this.options.title,e=hn(t.font),i=ni(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Ar(t,this.left,this.right)&&Ar(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Ar(t,r.left,r.left+r.width)&&Ar(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!iP(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=J6(r,i);r&&!o&&he(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&he(e.onHover,[t,i,this],this)}else i&&he(e.onClick,[t,i,this],this)}}function tP(n,t,e,i,r){const o=eP(i,n,t,e),c=nP(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function eP(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function nP(n,t,e){let i=n;return typeof t.text!="string"&&(i=I1(t,e)),i}function I1(n,t){const e=n.text?n.text.length:0;return t*e}function iP(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var wd={id:"legend",_element:JT,start(n,t,e){const i=n.legend=new JT({ctx:n.ctx,options:e,chart:n});ti.configure(n,i,e),ti.addBox(n,i)},stop(n){ti.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ti.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),y=ni(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class M1 extends zs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Ue(i.text)?i.text.length:1;this._padding=ni(i.padding);const o=r*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,m,y,_;return this.isHorizontal()?(y=an(h,i,o),_=e+t,m=o-i):(c.position==="left"?(y=i+t,_=an(h,r,e),f=ee*-.5):(y=o-t,_=an(h,e,r),f=ee*.5),m=r-e),{titleX:y,titleY:_,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=hn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);eu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:Oy(e.align),textBaseline:"middle",translation:[c,h]})}}function sP(n,t){const e=new M1({ctx:n.ctx,options:t,chart:n});ti.configure(n,e,t),ti.addBox(n,e),n.titleBlock=e}var Gy={id:"title",_element:M1,start(n,t,e){sP(n,e)},stop(n){const t=n.titleBlock;ti.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ti.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),y=Cp(t,m);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Hi(n,t){return t&&(Ue(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Rs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function rP(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function tE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=hn(t.bodyFont),m=hn(t.titleFont),y=hn(t.footerFont),_=o.length,b=r.length,E=i.length,R=ni(t.padding);let C=R.height,M=0,j=i.reduce((J,Q)=>J+Q.before.length+Q.lines.length+Q.after.length,0);if(j+=n.beforeBody.length+n.afterBody.length,_&&(C+=_*m.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),j){const J=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;C+=E*J+(j-E)*f.lineHeight+(j-1)*t.bodySpacing}b&&(C+=t.footerMarginTop+b*y.lineHeight+(b-1)*t.footerSpacing);let F=0;const H=function(J){M=Math.max(M,e.measureText(J).width+F)};return e.save(),e.font=m.string,te(n.title,H),e.font=f.string,te(n.beforeBody.concat(n.afterBody),H),F=t.displayColors?c+2+t.boxPadding:0,te(i,J=>{te(J.before,H),te(J.lines,H),te(J.after,H)}),F=0,e.font=y.string,te(n.footer,H),e.restore(),M+=R.width,{width:M,height:C}}function aP(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function oP(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function lP(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=r<=(h+f)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),oP(m,n,t,e)&&(m="center"),m}function eE(n,t,e){const i=e.yAlign||t.yAlign||aP(n,e);return{xAlign:e.xAlign||t.xAlign||lP(n,t,e,i),yAlign:i}}function cP(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function uP(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function nE(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=r+o,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:E}=Qo(c);let R=cP(t,h);const C=uP(t,f,m);return f==="center"?h==="left"?R+=m:h==="right"&&(R-=m):h==="left"?R-=Math.max(y,b)+r:h==="right"&&(R+=Math.max(_,E)+r),{x:un(R,0,i.width-t.width),y:un(C,0,i.height-t.height)}}function ff(n,t,e){const i=ni(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function iE(n){return Hi([],Rs(n))}function hP(n,t,e){return Ya(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function sE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const N1={beforeTitle:Ss,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ss,beforeBody:Ss,beforeLabel:Ss,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return $t(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ss,afterBody:Ss,beforeFooter:Ss,footer:Ss,afterFooter:Ss};function wn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?N1[t].call(e,i):r}class rE extends zs{static positioners=Mc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new d1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=hP(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=wn(i,"beforeTitle",this,t),o=wn(i,"title",this,t),c=wn(i,"afterTitle",this,t);let h=[];return h=Hi(h,Rs(r)),h=Hi(h,Rs(o)),h=Hi(h,Rs(c)),h}getBeforeBody(t,e){return iE(wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=sE(i,o);Hi(c.before,Rs(wn(h,"beforeLabel",this,o))),Hi(c.lines,wn(h,"label",this,o)),Hi(c.after,Rs(wn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return iE(wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=wn(i,"beforeFooter",this,t),o=wn(i,"footer",this,t),c=wn(i,"afterFooter",this,t);let h=[];return h=Hi(h,Rs(r)),h=Hi(h,Rs(o)),h=Hi(h,Rs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(rP(this.chart,e[f]));return t.filter&&(h=h.filter((y,_,b)=>t.filter(y,_,b,i))),t.itemSort&&(h=h.sort((y,_)=>t.itemSort(y,_,i))),te(h,y=>{const _=sE(t.callbacks,y);r.push(wn(_,"labelColor",this,y)),o.push(wn(_,"labelPointStyle",this,y)),c.push(wn(_,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Mc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=tE(this,i),m=Object.assign({},h,f),y=eE(this.chart,i,m),_=nE(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:y,bottomRight:_}=Qo(h),{x:b,y:E}=t,{width:R,height:C}=e;let M,j,F,H,J,Q;return o==="center"?(J=E+C/2,r==="left"?(M=b,j=M-c,H=J+c,Q=J-c):(M=b+R,j=M+c,H=J-c,Q=J+c),F=M):(r==="left"?j=b+Math.max(f,y)+c:r==="right"?j=b+R-Math.max(m,_)-c:j=this.caretX,o==="top"?(H=E,J=H-c,M=j-c,F=j+c):(H=E+C,J=H+c,M=j+c,F=j-c),Q=H),{x1:M,x2:j,x3:F,y1:H,y2:J,y3:Q}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const m=Wo(i.rtl,this.x,this.width);for(t.x=ff(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=hn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,y=hn(o.bodyFont),_=ff(this,"left",o),b=r.x(_),E=f<y.lineHeight?(y.lineHeight-f)/2:0,R=e.y+E;if(o.usePointStyle){const C={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(b,m)+m/2,j=R+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Mp(t,C,M,j),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Mp(t,C,M,j)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=r.leftForLtr(b,m),M=r.leftForLtr(r.xPlus(b,1),m-2),j=Qo(c.borderRadius);Object.values(j).some(F=>F!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Zf(t,{x:C,y:R,w:m,h:f,radius:j}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Zf(t,{x:M,y:R+1,w:m-2,h:f-2,radius:j}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,R,m,f),t.strokeRect(C,R,m,f),t.fillStyle=c.backgroundColor,t.fillRect(M,R+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:y}=i,_=hn(i.bodyFont);let b=_.lineHeight,E=0;const R=Wo(i.rtl,this.x,this.width),C=function(A){e.fillText(A,R.x(t.x+E),t.y+b/2),t.y+=b+o},M=R.textAlign(c);let j,F,H,J,Q,rt,N;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=ff(this,M,i),e.fillStyle=i.bodyColor,te(this.beforeBody,C),E=h&&M!=="right"?c==="center"?m/2+y:m+2+y:0,J=0,rt=r.length;J<rt;++J){for(j=r[J],F=this.labelTextColors[J],e.fillStyle=F,te(j.before,C),H=j.lines,h&&H.length&&(this._drawColorBox(e,t,J,R,i),b=Math.max(_.lineHeight,f)),Q=0,N=H.length;Q<N;++Q)C(H[Q]),b=_.lineHeight;te(j.after,C)}E=0,b=_.lineHeight,te(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=Wo(i.rtl,this.x,this.width);for(t.x=ff(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=hn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:y}=i,{topLeft:_,topRight:b,bottomLeft:E,bottomRight:R}=Qo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-b,f),e.quadraticCurveTo(h+m,f,h+m,f+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,f+y-R),e.quadraticCurveTo(h+m,f+y,h+m-R,f+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+E,f+y),e.quadraticCurveTo(h,f+y,h,f+y-E),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Mc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=tE(this,t),f=Object.assign({},c,this._size),m=eE(e,t,f),y=nE(t,f,m,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ni(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),u1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),h1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!$f(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!$f(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Mc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Sd={id:"tooltip",_element:rE,positioners:Mc,afterInit(n,t,e){e&&(n.tooltip=new rE({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:N1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const fP=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function dP(n,t,e,i){const r=n.indexOf(t);if(r===-1)return fP(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const mP=(n,t)=>n===null?null:un(Math.round(n),0,t);function aE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Yy extends fl{static id="category";static defaults={ticks:{callback:aE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if($t(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:dP(i,t,kt(e,t),this._addedLabels),mP(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return aE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function gP(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:m,maxTicks:y,maxDigits:_,includeBounds:b}=n,E=o||1,R=y-1,{min:C,max:M}=t,j=!$t(c),F=!$t(h),H=!$t(m),J=(M-C)/(_+1);let Q=oT((M-C)/R/E)*E,rt,N,A,D;if(Q<1e-14&&!j&&!F)return[{value:C},{value:M}];D=Math.ceil(M/Q)-Math.floor(C/Q),D>R&&(Q=oT(D*Q/R/E)*E),$t(f)||(rt=Math.pow(10,f),Q=Math.ceil(Q*rt)/rt),r==="ticks"?(N=Math.floor(C/Q)*Q,A=Math.ceil(M/Q)*Q):(N=C,A=M),j&&F&&o&&D4((h-c)/o,Q/1e3)?(D=Math.round(Math.min((h-c)/Q,y)),Q=(h-c)/D,N=c,A=h):H?(N=j?c:N,A=F?h:A,D=m-1,Q=(A-N)/D):(D=(A-N)/Q,jc(D,Math.round(D),Q/1e3)?D=Math.round(D):D=Math.ceil(D));const V=Math.max(lT(Q),lT(N));rt=Math.pow(10,$t(f)?V:f),N=Math.round(N*rt)/rt,A=Math.round(A*rt)/rt;let O=0;for(j&&(b&&N!==c?(e.push({value:c}),N<c&&O++,jc(Math.round((N+O*Q)*rt)/rt,c,oE(c,J,n))&&O++):N<c&&O++);O<D;++O){const z=Math.round((N+O*Q)*rt)/rt;if(F&&z>h)break;e.push({value:z})}return F&&b&&A!==h?e.length&&jc(e[e.length-1].value,h,oE(h,J,n))?e[e.length-1].value=h:e.push({value:h}):(!F||A===h)&&e.push({value:A}),e}function oE(n,t,{horizontal:e,minRotation:i}){const r=Ds(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class pP extends fl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return $t(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=Ji(r),m=Ji(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=gP(r,o);return t.bounds==="ticks"&&O4(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Vy(t,this.chart.options.locale,this.options.ticks.format)}}class Ky extends pP{static id="linear";static defaults={ticks:{callback:n1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ei(t)?t:0,this.max=ei(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ds(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ad={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},An=Object.keys(Ad);function lE(n,t){return n-t}function cE(n,t){if($t(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ei(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Zc(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function uE(n,t,e,i){const r=An.length;for(let o=An.indexOf(n);o<r-1;++o){const c=Ad[An[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return An[o]}return An[r-1]}function yP(n,t,e,i,r){for(let o=An.length-1;o>=An.indexOf(e);o--){const c=An[o];if(Ad[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return An[e?An.indexOf(e):0]}function _P(n){for(let t=An.indexOf(n)+1,e=An.length;t<e;++t)if(Ad[An[t]].common)return An[t]}function hE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=Dy(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function vP(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function fE(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:vP(n,i,r,e)}class dE extends fl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new xV._date(t.adapters.date);r.init(e),Lc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:cE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=ei(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ei(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=j4(r,o,c);return this._unit=e.unit||(i.autoSkip?uE(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):yP(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:_P(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),fE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=un(e,0,c),i=un(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||uE(o.minUnit,e,i,this._getLabelCapacity(e)),h=kt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Zc(f)||f===!0,y={};let _=e,b,E;if(m&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(b=_,E=0;b<i;b=+t.add(b,h,c),E++)hE(y,b,R);return(b===i||r.bounds==="ticks"||E===1)&&hE(y,b,R),Object.keys(y).sort(lE).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return he(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,y=f&&h[f],_=m&&h[m],b=i[e],E=m&&_&&b&&b.major;return this._adapter.format(t,r||(E?_:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ds(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,fE(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(cE(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return JS(t.sort(lE))}}function df(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ra(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ra(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class nL extends dE{static id="timeseries";static defaults=dE.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=df(e,this.min),this._tableRange=df(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,m,y;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],f=r[c-1],m=r[c],Math.round((y+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(df(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return df(this._table,i*this._tableRange+this._minPos,!0)}}const D1="label";function mE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function bP(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function O1(n,t){n.labels=t}function k1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D1;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function xP(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D1;const e={labels:[],datasets:[]};return O1(e,n.labels),k1(e,n.datasets,t),e}function TP(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:y,updateMode:_,...b}=n,E=nt.useRef(null),R=nt.useRef(null),C=()=>{E.current&&(R.current=new Ka(E.current,{type:c,data:xP(h,o),options:f&&{...f},plugins:m}),mE(t,R.current))},M=()=>{mE(t,null),R.current&&(R.current.destroy(),R.current=null)};return nt.useEffect(()=>{!r&&R.current&&f&&bP(R.current,f)},[r,f]),nt.useEffect(()=>{!r&&R.current&&O1(R.current.config.data,h.labels)},[r,h.labels]),nt.useEffect(()=>{!r&&R.current&&h.datasets&&k1(R.current.config.data,h.datasets,o)},[r,h.datasets]),nt.useEffect(()=>{R.current&&(r?(M(),setTimeout(C)):R.current.update(_))},[r,f,h.labels,h.datasets,_]),nt.useEffect(()=>{R.current&&(M(),setTimeout(C))},[c]),nt.useEffect(()=>(C(),()=>M()),[]),pE.createElement("canvas",{ref:E,role:"img",height:e,width:i,...b},y)}const EP=nt.forwardRef(TP);function Xy(n,t){return Ka.register(t),nt.forwardRef((e,i)=>pE.createElement(EP,{...e,ref:i,type:n}))}const wP=Xy("line",bV),V1=Xy("bar",yV),SP=Xy("doughnut",vV);Ka.register(Yy,Ky,C1,Gy,Sd,wd);const AP=({isDark:n})=>{const t={labels:["January","February","March"],datasets:[{label:"Fuel Consumption",data:[20,42,88],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption Overview",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return w.jsx(V1,{data:t,options:e})};Ka.register(Yy,Ky,K6,Y6,Gy,Sd,wd);const RP=({isDark:n})=>{const t={labels:["January","February","March","April"],datasets:[{label:"Mileage",data:[40,52,70,88],fill:!1,borderColor:"rgba(101, 119, 255, 1)",tension:.1}]},e={responsive:!0,plugins:{legend:{position:"top",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Mileage Efficiency",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return w.jsx(wP,{data:t,options:e})};Ka.register(P6,Sd,wd);const CP=({isDark:n})=>{const t={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Total Expenses",color:n?"#FFFCE1":"#0E100F"},tooltip:{backgroundColor:n?"#0E100F":"#FFFCE1",titleColor:n?"#FFFCE1":"#0E100F",bodyColor:n?"#FFFCE1":"#0E100F",borderColor:n?"#555":"#ccc",borderWidth:1}}},e={labels:["January","February","March"],datasets:[{label:"Expenses",data:[300,50,100],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderColor:n?"#0E100F":"#FFFCE1",borderWidth:2}]};return w.jsx(SP,{data:e,options:t})};function IP({isDark:n}){const t=dn();return w.jsxs("div",{className:`flex-col
            fade-in flex items-center justify-center h-screen w-full p-[calc(0.4vw+0.6rem)]`,children:[w.jsx("section",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:`${t?"flex-col items-center gap-[calc(0.4vw+0.6rem)]":"flex-row items-center"}
                    h-auto w-full flex justify-center p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]`,children:[w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("img",{src:n?Vp:Af,className:`h-[calc(6vw+6.4rem)] w-[calc(6vw+6.4rem)] cursor-pointer\r
                            filter hover:brightness-60 transition duration-300`,alt:""}),w.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),w.jsxs("div",{className:"flex-3 h-full flex flex-col items-start justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[w.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"Subscribe to our newsletter"}),w.jsxs("div",{className:"w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] pl-0",children:[w.jsx("input",{type:"email",placeholder:"Enter your email",className:`${n?"border-[var(--light-color)]":"border-[var(--dark-color)]"}
                                    w-full outline-none px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] border-b`}),w.jsx("i",{className:"bx bx-arrow-right-stroke-circle bx-spin-hover hovered text-[calc(1vw+1.4rem)] cursor-pointer"})]})]}),w.jsxs("div",{className:`${t?"pb-[calc(0.4vw+0.6rem)]":"p-[calc(0.4vw+0.6rem)]"}
                            flex-3 w-full flex items-center justify-center gap-[calc(1.4vw+1.6rem)]`,children:[w.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"About Us"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Mission"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Team"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"})]}),w.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Support"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Contact"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Support"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"FAQ's"})]}),w.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Social"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Facebook"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Instagram"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]})]})]})]})}),w.jsxs("section",{className:"w-full flex flex-row items-center justify-between flex-wrap",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Copyright © DriveSense 2025"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Terms of Service"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"A100 Group 6 BSIT Mini-Capstone Project"}),w.jsxs("div",{className:"flex flex-row items-center justify-center",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Back to top"}),w.jsx("i",{className:"bx bx-arrow-up-square bx-tada-hover text-[calc(1vw+1.4rem)] cursor-pointer hovered",onClick:()=>{const e=document.getElementById("landing-section");e&&e.scrollIntoView({behavior:"smooth"})}})]})]})]})}function MP({isDark:n}){const t=dn();return w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in h-screen w-full flex flex-col items-center justify-start overflow-y-scroll snap-y snap-mandatory scroll-smooth no-scrollbar`,children:[w.jsxs("section",{id:"landing-section",className:`${t?"flex-col min-h-screen w-full justify-center":"w-[90%] flex-row min-h-screen justify-around snap-start"}
                flex items-center border-b border-[var(--border-color)]`,children:[w.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(1.6vw+1.4rem)] font-bold cursor-pointer hovered",children:"Fuel Consumption and Vehicle Usage Monitoring System"}),!t&&w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),!t&&w.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--dark-color)] font-semibold`,children:"Get Started"}),w.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer font-semibold
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)]`,children:"Sign In"})]})]})}),w.jsx("div",{className:"relative h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:w.jsx("img",{src:ZO,className:`${t?"h-[calc(18vw+16rem)] min-w-[calc(18vw+16rem)]":"h-[calc(18vw+16rem)] w-[calc(24vw+18rem)] mb-[48px]"}`,alt:""})}),t&&w.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"w-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),w.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer`,children:"Get Started"}),w.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer font-semibold`,children:"Sign In"})]})]})})]}),w.jsxs("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)] border-b border-[var(--border-color)]`,children:[w.jsx("span",{className:"text-[calc(0.8vw+1rem)] cursor-pointer font-semibold hovered",children:"Why Use DriveSense?"}),w.jsxs("div",{className:`${n?"text-[var(--light-color)]":"text-[var(--dark-color)]"}
                        ${t?"flex-row items-center flex-wrap":"flex-row items-start"}
                        w-full flex justify-center gap-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)]`,children:[w.jsx(Zh,{icon:w.jsx("i",{className:"bx bx-petrol-pump bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Monitor Fuel Consumption",info:"Track fuel volume, cost and refusing data.",isDark:n}),w.jsx(Zh,{icon:w.jsx("i",{className:"bx bx-chart-bar-columns bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Analyze Efficiency",info:"Generate reports on vehicle mileage and performance.",isDark:n}),w.jsx(Zh,{icon:w.jsx("i",{className:"bx bx-car bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Manage Vehicles",info:"Register and update vehicle details with ease.",isDark:n}),w.jsx(Zh,{icon:w.jsx("i",{className:"bx bx-lock-keyhole bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Secure Access",info:"Role: based login for admin, driver and owner.",isDark:n})]}),w.jsxs("div",{className:`${t?"flex-col justify-start w-full":"flex-row justify-center h-[320px] w-full"}
                    h-auto flex items-center p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:w.jsx(AP,{isDark:n})}),w.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:w.jsx(RP,{isDark:n})}),w.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:w.jsx(CP,{isDark:n})})]})]}),w.jsx("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)]`,children:w.jsx(IP,{isDark:n})})]})}function NP({isLoggedIn:n,setIsLoggedIn:t,setUser:e}){const[i,r]=nt.useState(!0);return w.jsxs("div",{className:`${i?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            h-screen w-screen overflow-hidden flex flex-col items-center justify-start`,children:[w.jsx(WO,{isDark:i,setIsDark:r,isLoggedIn:n,setIsLoggedIn:t,setUser:e}),w.jsx(MP,{isDark:i})]})}const P1=({icon:n,title:t})=>w.jsxs(w.Fragment,{children:[w.jsx("i",{className:`${n} text-[calc(0.6vw+1rem)]`}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] hovered",children:t})]});function DP({isDark:n,setIsDark:t,activeIndex:e,setActiveIndex:i,user:r,isLoggedIn:o,setIsLoggedIn:c}){const h=dn(),[f,m]=nt.useState(!1),y=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicle"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],_=r?.displayName?.split(" ")[0]??"Guest",b=()=>{const E=ow();X2(E).then(()=>{console.log("Signed out successfully!"),c(R=>!R)}).catch(R=>{console.error(R)})};return w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[w.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[h&&w.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>m(E=>!E)}),w.jsx("img",{src:n?Vp:Af,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),w.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[r&&w.jsx("img",{src:r?.photoURL??"",className:"rounded-full h-[calc(0.8vw+1.4rem)]  w-[calc(0.8vw+1.4rem)] cursor-pointer",alt:""}),!r&&w.jsx("i",{className:"bx bx-user-circle bx-tada-hover hovered text-[calc(1vw+1.2rem)] cursor-pointer"}),w.jsx("span",{className:`${h?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} 
                    cursor-pointer hovered`,children:h?_:r?.displayName??"Guest"}),w.jsx(yE,{isDark:n,setIsDark:t}),o&&w.jsx("i",{className:"bx bx-arrow-out-right-square-half bx-tada-hover text-[calc(0.4vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out cursor-pointer",onClick:()=>b()})]}),h&&f&&w.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[w.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>m(E=>!E)}),y.map((E,R)=>w.jsx("div",{className:`${e===R?"bg-[var(--border-color)]":""} flex flex-row items-center justify-start gap-[calc(0.4vw+0.6rem)] 
                            cursor-pointer transition duration-300 ease-in-out`,onClick:()=>i(R),children:w.jsx(P1,{icon:E.icon,title:E.title})},R))]})})]})}function br({title:n,descrip:t,isDark:e}){return w.jsxs("div",{className:`
            text-[var(--light-color)] bg-[var(--purple-color)]
            h-auto w-full flex flex-col items-start justify-center rounded-lg
            p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer text-center",children:n}),w.jsx("span",{className:"text-[calc(0.6vw+1.2rem)] cursor-pointer",children:t})]})}Ka.register(Yy,Ky,C1,Gy,Sd,wd);const OP=({isDark:n})=>{const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],datasets:[{label:"Fuel Consumption",data:[20,42,98,66,32,52,44,80,74],backgroundColor:["rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption",color:n?"#FFFCE1":"#0E100F",align:"start",font:{size:16}}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return w.jsx(V1,{data:t,options:e})};function gE({isDark:n,user:t}){const e=dn(),[i,r]=nt.useState("0"),[o,c]=nt.useState("0"),[h,f]=nt.useState("0"),[m,y]=nt.useState("0"),_=async()=>{try{if(!t||!t.uid){console.warn("User not available.");return}const b=Pa(cn,"users",t?.uid,"vehicles"),R=(await La(b)).size;return r(String(R)??"0"),c("0"),f("0"),y("0"),R}catch(b){console.error("Error fetching dashboard data:",b)}};return nt.useEffect(()=>{_()},[_]),w.jsxs("section",{id:"main",className:`${e?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
        flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:[w.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Dashboard"}),w.jsxs("span",{className:"text-[calc(0.4vw+0.8rem)] cursor-pointer hovered",children:["Welcome back, ",t?.displayName]}),!e&&w.jsxs("div",{className:"h-auto w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx(br,{title:"Total Vehicles",descrip:i,isDark:n}),w.jsx(br,{title:"Monthly Fuel Cost",descrip:o,isDark:n}),w.jsx(br,{title:"Mileage Efficiency",descrip:h,isDark:n}),w.jsx(br,{title:"Total Trips",descrip:m,isDark:n})]}),e&&w.jsxs("div",{className:"h-auto w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx(br,{title:"Total Vehicles",descrip:i,isDark:n}),w.jsx(br,{title:"Monthly Fuel Cost",descrip:o,isDark:n})]}),w.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx(br,{title:"Mileage Efficiency",descrip:h,isDark:n}),w.jsx(br,{title:"Total Trips",descrip:m,isDark:n})]})]})]}),w.jsxs("div",{className:`${e?"flex-col items-center mt-[calc(0.4vw+0.6rem)]":"flex-row items-start"}
                h-full w-full flex justify-start gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:w.jsx(OP,{isDark:n})}),w.jsxs("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:[w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] p-[calc(0.4vw+0.6rem)] pl-0 cursor-pointer",children:"Recent Activity"}),w.jsx("div",{className:"h-full w-full flex flex-row items-start justify-around py-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"w-full flex flex-row items-center justify-start",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Activity"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Date"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Time"})]})})]})]})]})}function kP({user:n,driverInfo:t,isDark:e,vehicleInfo:i,setVehicleInfo:r,setIsVisible:o}){const[c,h]=nt.useState(!1),f=dn(),[m,y]=nt.useState(null);nt.useEffect(()=>{if(console.log("driverInfo prop:",t),t&&Array.isArray(t)){const F=t.map(H=>H.name??"null");y(F)}},[t]),nt.useEffect(()=>{console.log("Driver Names: ",m)},[m]);const[_,b]=nt.useState(null),[E,R]=nt.useState(null),[C,M]=nt.useState(null),j=async()=>{if(!n?.uid)return;const F=new Date,H=`${F.toLocaleDateString()} ${F.toLocaleTimeString()}`,J=(i.length+1).toString(),Q=js(cn,"users",n?.uid,"vehicles",J),rt=await mu(Q,{id:J,plateNumber:_,model:E,driver:C,createdAt:H}),N={id:J,plateNumber:_,model:E,driver:C,createdAt:H};r(A=>[...A,N]),console.log(i),console.log("Added the vehicle successfully: ",rt),h(A=>!A),o(!1)};return w.jsx(w.Fragment,{children:!c&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:w.jsxs("div",{className:`${e?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>h(F=>!F)}),w.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),w.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("input",{type:"text",placeholder:"Plate Number",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:F=>b(F.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"Model",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:F=>R(F.target.value),required:!0}),w.jsxs("select",{id:"driver-names",value:C??"",className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",onChange:F=>M(F.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),m?.map((F,H)=>w.jsx("option",{value:F,className:"text-[var(--dark-color)] cursor-pointer",children:F},H))]}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>j(),children:"Continue"})]})]})]})})})}function VP(n){const[t,e]=nt.useState([]),[i,r]=nt.useState(!0),[o,c]=nt.useState(null),h=nt.useCallback(async()=>{if(n?.uid)try{r(!0);const f=Pa(cn,"users",n.uid,"vehicles"),m=await La(f),y=[];m.forEach(_=>{const b=_.data();y.push({id:_.id,plateNumber:b.plateNumber??"null",model:b.model??"null",driver:b.driver??"null",createdAt:b.createdAt??"null"})}),e(y)}catch(f){console.error("Failed to fetch vehicle logs:",f),c(f)}finally{r(!1)}},[n]);return nt.useEffect(()=>{h()},[h]),{vehicleInfo:t,loading:i,error:o,refetch:h}}function PP({selectedDriverIndex:n,user:t,refetch:e,setIsDelete:i}){nt.useEffect(()=>{console.log("SelectedDriverIndex: ",n)},[]);const[r,o]=nt.useState(!0),c=async()=>{try{if(!t?.uid||n===null)return;const h=js(cn,"users",t?.uid,"vehicles",n.toString());await US(h),e()}catch(h){console.error(h)}o(!1),i(!1),console.log("Deleted vehicle successfully!")};return w.jsx(w.Fragment,{children:r&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:w.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>o(!1)}),w.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[w.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this vehicle?"})}),w.jsxs("div",{className:"flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>o(!1),children:"No"}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>c(),children:"Yes"})]})]})]})})})}function LP({isDark:n,user:t,driverInfo:e}){const i=dn(),[r,o]=nt.useState(!1),[c,h]=nt.useState(!1),[f,m]=nt.useState(null),{vehicleInfo:y,loading:_,error:b,refetch:E}=VP(t);return _?w.jsx("p",{className:"w-full text-center text-gray-500",children:"Loading vehicles..."}):b?w.jsxs("p",{className:"w-full text-center text-red-500",children:["Error: ",b.message]}):w.jsxs("section",{id:"main",className:`${i?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Vehicle Information"}),w.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>o(R=>!R),children:[w.jsx("i",{className:"bx bx-plus bx-tada-hover"}),w.jsx("span",{children:"Add Vehicle"})]})]}),r&&w.jsx(kP,{user:t,driverInfo:e,isDark:n,vehicleInfo:y,setVehicleInfo:()=>E(),setIsVisible:o}),w.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Driver"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Plate no."}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Model"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Created At"}),w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover text-[calc(0.6vw+1rem)] cursor-pointer hover:text-[var(--dark-color)] transition duration-300 ease-in-out",onClick:E})})]})}),y.map(R=>w.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-row items-start justify-start",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:R.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:R.driver??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:R.plateNumber??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:R.model??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:R.createdAt??"null"}),w.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer",onClick:()=>{h(C=>!C),m(Number(R.id))}})]})]})},R.id)),c&&w.jsx(PP,{selectedDriverIndex:f,user:t,refetch:E,setIsDelete:h})]})]})}function jP({user:n,refetch:t,driverInfo:e,setIsAddDriverVisible:i}){const[r,o]=nt.useState(!0),[c,h]=nt.useState(""),[f,m]=nt.useState(""),[y,_]=nt.useState(""),b=async()=>{try{if(!n?.uid)return;const E=(e.length+1).toString(),R=js(cn,"users",n.uid,"drivers",E);await mu(R,{name:c,contact:f,license:y}),console.log("Added the driver successfully"),t(),o(C=>!C),i(!1)}catch(E){console.error("Can't add the driver.",E)}};return w.jsx(w.Fragment,{children:r&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:w.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>o(E=>!E)}),w.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[w.jsx("div",{className:"w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new driver"})}),w.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("input",{type:"text",placeholder:"Name",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>h(E.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"Contact",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>m(E.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"License",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>_(E.target.value),required:!0}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                    bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:b,children:"Continue"})]})]})]})})})}function zP({user:n,driverId:t,driverIndex:e,driverInfo:i,setDriverInfo:r,refetch:o,setIsDelete:c}){const[h,f]=nt.useState(!0),m=dn(),y=async()=>{try{if(!n?.uid||!t)return;const _=js(cn,"users",n?.uid,"drivers",t);await US(_),r(b=>b.filter((E,R)=>R!==e)),o(),f(b=>!b),c(!1)}catch(_){console.error("Cant delete the driver.",_)}};return console.log("Updated driver info: ",i),w.jsx(w.Fragment,{children:h&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:w.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>f(_=>!_)}),w.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[w.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this driver?"})}),w.jsxs("div",{className:`
                            flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>f(_=>!_),children:"No"}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>y(),children:"Yes"})]})]})]})})})}function UP(n){const[t,e]=nt.useState([]),[i,r]=nt.useState(!0),[o,c]=nt.useState(null),h=nt.useCallback(async()=>{if(n?.uid)try{r(!0);const f=Pa(cn,"users",n.uid,"drivers"),m=await La(f),y=[];m.forEach(_=>{const b=_.data();y.push({id:_.id,name:b.name??"null",contact:b.contact??"null",license:b.license??"null"})}),e(y)}catch(f){console.error("Failed to fetch vehicle logs:",f),c(f)}finally{r(!1)}},[n]);return nt.useEffect(()=>{h()},[h]),{driverInfo:t,loading:i,error:o,refetch:h}}function BP({isDark:n,user:t}){const[e,i]=nt.useState([]),r=dn(),[o,c]=nt.useState(!1),[h,f]=nt.useState(!1),[m,y]=nt.useState(null),[_,b]=nt.useState(null),{driverInfo:E,loading:R,error:C,refetch:M}=UP(t);return R?w.jsx("p",{className:"w-full text-center text-gray-500",children:"Loading drivers..."}):C?w.jsxs("p",{className:"w-full text-center text-red-500",children:["Error: ",C.message]}):w.jsxs("section",{id:"main",className:`${r?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-auto"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Driver Information"}),w.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-lg cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>c(j=>!j),children:[w.jsx("i",{className:"bx bx-plus bx-tada-hover"}),w.jsx("span",{children:"Add Driver"})]})]}),o&&w.jsx(jP,{user:t,refetch:M,driverInfo:E,setIsAddDriverVisible:c}),w.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start gap-[calc(0.6vw+1rem)]",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Name"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Contact"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"License"}),w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh bx-spin-hover text-[calc(0.6vw+1rem)] cursor-pointer hover:text-[var(--dark-color)] transition duration-300 ease-in-out",onClick:M})})]})}),E.map((j,F)=>w.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-row items-start justify-start gap-[calc(0.6vw+1rem)]",children:[w.jsx("span",{className:"flex-1",children:j.id??"null"}),w.jsx("span",{className:"flex-1",children:j.name??"null"}),w.jsx("span",{className:"flex-1",children:j.contact??"null"}),w.jsx("span",{className:"flex-1",children:j.license??"null"}),w.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer",onClick:()=>{f(!0),y(j.id??"null"),b(F)}})]})]})},j.id??F)),h&&m&&w.jsx(zP,{user:t,driverId:m,driverIndex:_,driverInfo:e,setDriverInfo:i,refetch:M,setIsDelete:f})]})]})}function FP(n){const[t,e]=nt.useState([]),[i,r]=nt.useState(!0),[o,c]=nt.useState(null),h=nt.useCallback(async()=>{if(n?.uid)try{r(!0);const f=Pa(cn,"users",n.uid,"fuels"),m=await La(f),y=[];m.forEach(_=>{const b=_.data();y.push({id:_.id||null,vehicle:b.vehicle??"null",volume:b.volume??"null",cost:b.cost??"null",addedBy:b.addedBy??"null",logDate:b.logDate??"null"})}),e(y)}catch(f){console.error("Failed to fetch fuel logs:",f),c(f)}finally{r(!1)}},[n]);return nt.useEffect(()=>{h()},[h]),{fuelInfo:t,loading:i,error:o,refetch:h}}function HP({isDark:n,user:t,fuelInfo:e,vehicleInfo:i,driverInfo:r,refetch:o,setIsAddFuel:c}){const[h,f]=nt.useState([]),[m,y]=nt.useState([]),[_,b]=nt.useState([]);nt.useEffect(()=>{const A=i.map(O=>O.model??"null");f(A);const D=r.map(O=>O.name??"null");y(D);const V=e.map(O=>O.id??"null");b(V)},[i]);const[E,R]=nt.useState(!0),[C,M]=nt.useState(null),[j,F]=nt.useState(null),[H,J]=nt.useState(null),[Q,rt]=nt.useState(null),N=async()=>{try{if(!t?.uid)return;const A=(_.length+1).toString(),D=new Date,V=`${D.toLocaleDateString()} ${D.toLocaleTimeString()}`,O=js(cn,"users",t?.uid,"fuels",A);await mu(O,{id:A,vehicle:C,volume:j,cost:H,addedBy:Q,logDate:V}),R(z=>!z),c(z=>!z),o()}catch(A){console.error("Cant add fuel log.",A)}};return w.jsx(w.Fragment,{children:E&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>R(A=>!A)}),w.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),w.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",onChange:A=>M(A.target.value),children:[w.jsx("option",{value:"Select a vehicle",disabled:!0,children:"Select a vehicle"}),h?.map((A,D)=>w.jsx("option",{value:A,className:"text-[var(--dark-color)] cursor-pointer",children:A},D))]}),w.jsx("input",{type:"text",placeholder:"Volume",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:A=>F(A.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"Cost",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:A=>J(A.target.value),required:!0}),w.jsxs("select",{value:"Select a driver",className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",onChange:A=>rt(A.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),m?.map((A,D)=>w.jsx("option",{value:A,className:"text-[var(--dark-color)] cursor-pointer",children:A},D))]}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>N(),children:"Continue"})]})]})]})})})}function qP({isDark:n,user:t,driverInfo:e,vehicleInfo:i}){const r=dn(),{fuelInfo:o,loading:c,error:h,refetch:f}=FP(t),[m,y]=nt.useState(null),[_,b]=nt.useState(null),[E,R]=nt.useState(!1);return nt.useEffect(()=>{if(e){const C=e.map(M=>M.name??"null");y(C)}},[e]),nt.useEffect(()=>{if(i){const C=i.map(M=>M.model??"null");b(C)}},[i]),c?w.jsx("p",{className:"w-full text-center text-gray-500",children:"Loading fuel logs..."}):h?w.jsxs("p",{className:"w-full text-center text-red-500",children:["Error: ",h.message]}):w.jsxs("section",{id:"main",className:`${r?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Fuel Logs"}),w.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>R(C=>!C),children:[w.jsx("i",{className:"bx bx-plus bx-tada-hover"}),w.jsx("span",{children:"Add Fuel Log"})]})]}),E&&w.jsx(HP,{isDark:n,user:t,fuelInfo:o,vehicleInfo:i,driverInfo:e,refetch:f,setIsAddFuel:R}),w.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Vehicle"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Volume(L)"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Cost"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Added By"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Log Date"}),w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>f()})})]})}),o.map((C,M)=>w.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-row items-start justify-start",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.vehicle??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.volume??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.cost??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.addedBy??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.logDate??"null"}),w.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer"})]})]})},C.id??M))]})]})}function GP(n){const[t,e]=nt.useState([]),[i,r]=nt.useState(!0),[o,c]=nt.useState(null),h=nt.useCallback(async()=>{if(n?.uid)try{r(!0);const f=Pa(cn,"users",n.uid,"maintenance"),m=await La(f),y=[];m.forEach(_=>{const b=_.data();y.push({id:_.id||null,vehicle:b.vehicle??"null",desrcription:b.description??"null",cost:b.cost??"null",createdAt:b.createdAt??"null"})}),e(y)}catch(f){console.error("Failed to fetch fuel logs:",f),c(f)}finally{r(!1)}},[n]);return nt.useEffect(()=>{h()},[h]),{maintenanceInfo:t,loading:i,error:o,refetch:h}}function YP({isDark:n,user:t,maintenanceInfo:e,vehicleInfo:i,refetch:r,setIsAddMaintenance:o}){const[c,h]=nt.useState(!0),[f,m]=nt.useState([]),[y,_]=nt.useState([]);nt.useEffect(()=>{const H=i.map(Q=>Q.model??"null");m(H);const J=e.map(Q=>Q.id??"null");_(J)},[i]);const[b,E]=nt.useState(null),[R,C]=nt.useState(null),[M,j]=nt.useState(null),F=async()=>{try{if(!t?.uid)return;const H=(y.length+1).toString(),J=new Date,Q=`${J.toLocaleDateString()} ${J.toLocaleTimeString()}`,rt=js(cn,"users",t?.uid,"maintenance",H);await mu(rt,{id:H,vehicle:b,description:R,cost:M,createdAt:Q}),r(),h(N=>!N),o(N=>!N)}catch(H){console.log(H)}};return w.jsx(w.Fragment,{children:c&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>h(H=>!H)}),w.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new record"})}),w.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",value:b??"",onChange:H=>E(H.target.value),children:[w.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select a vehicle"}),f?.map((H,J)=>w.jsx("option",{value:H,className:"text-[var(--dark-color)] cursor-pointer",children:H},J))]}),w.jsx("input",{maxLength:20,type:"text",placeholder:"Description",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:H=>C(H.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"Cost",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:H=>j(H.target.value),required:!0}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>F(),children:"Continue"})]})]})]})})})}function KP({user:n,isDark:t,vehicleInfo:e}){const{maintenanceInfo:i,loading:r,error:o,refetch:c}=GP(n),h=dn(),[f,m]=nt.useState(!1),[y,_]=nt.useState(null);return nt.useEffect(()=>{if(e){const b=e.map(E=>E.model??"null");_(b)}},[e]),r?w.jsx("p",{className:"w-full text-center text-gray-500",children:"Loading maintenance records..."}):o?w.jsxs("p",{className:"w-full text-center text-red-500",children:["Error: ",o.message]}):w.jsxs("section",{id:"main",className:`${h?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Maintenance Records"}),w.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>m(b=>!b),children:[w.jsx("i",{className:"bx bx-plus bx-tada-hover"}),w.jsx("span",{children:"Add Maintenance"})]})]}),f&&w.jsx(YP,{isDark:t,user:n,maintenanceInfo:i,vehicleInfo:e,refetch:c,setIsAddMaintenance:m}),w.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Vehicle"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] flex-wrap",children:"Description"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Cost"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Created At"}),w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>c()})})]})}),i.map((b,E)=>w.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-row items-start justify-start",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.vehicle??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.desrcription??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.cost??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.createdAt??"null"}),w.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer"})]})]})},b.id??E))]})]})}function XP({isDark:n}){const t=dn();return w.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Reports Tab"})}function $P({isDark:n}){const t=dn();return w.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Users Tab"})}function QP({isDark:n}){const t=dn();return w.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Settings Tab"})}function WP({isDark:n,activeIndex:t,setActiveIndex:e,user:i,driverInfo:r,setDriverInfo:o,vehicleInfo:c,setVehicleInfo:h}){const[f,m]=nt.useState(null),[y,_]=nt.useState(null),[b,E]=nt.useState([]),[R,C]=nt.useState([]),[M,j]=nt.useState([]),[F,H]=nt.useState([]),J=async()=>{try{if(!i?.uid)return;const L=Pa(cn,"users",i?.uid,"drivers"),Z=await La(L),lt=[];Z.forEach(ht=>{lt.push(ht.id)}),E(lt);const ct=[];try{if(lt.length>0){for(const ht of lt){const gt=js(cn,"users",i?.uid,"drivers",ht),Ct=await Ap(gt);if(Ct.exists()&&ht){const ne=Ct.data(),ie={id:Ct.id??null,name:ne.name??null,contact:ne.contact??null,license:ne.license??null};ct.push(ie)}}o(ct)}}catch(ht){console.error("Bruh can't fetch the names :D",ht)}}catch(L){console.error("Can't fetch drivers :D",L)}};nt.useEffect(()=>{J()},[J]),nt.useEffect(()=>{const L=r.map(ht=>ht.id?ht.id.toLocaleString():"null");E(L);const Z=r.map(ht=>ht.name??"null");C(Z);const lt=r.map(ht=>ht.contact??"null");j(lt);const ct=r.map(ht=>ht.license??"null");H(ct)},[r]);const[Q,rt]=nt.useState([]),[N,A]=nt.useState([]),[D,V]=nt.useState([]),[O,z]=nt.useState([]),[k,Dt]=nt.useState([]),[Tt,X]=nt.useState([]),ot=async()=>{if(i?.uid)try{const L=Pa(cn,"users",i?.uid,"vehicles"),Z=await La(L),lt=[];Z.forEach(ht=>{lt.push(ht.id)}),rt(lt);const ct=[];try{if(Q.length>0){for(const ht of lt){const gt=js(cn,"users",i?.uid,"vehicles",ht),Ct=await Ap(gt);if(Ct.exists()&&ht){const ne=Ct.data(),ie={id:Ct.id??null,plateNumber:ne.plateNumber??null,model:ne.model??null,driver:ne.driver??null,createdAt:ne.createdAt??null};ct.push(ie)}}h(ct)}}catch(ht){console.error("Cant fetch vehicle fields",ht)}}catch(L){console.error("Can't fetech the vehicles :(",L)}};nt.useEffect(()=>{ot()},[ot]),nt.useEffect(()=>{const L=c.map(gt=>String(gt.id??"null"));A(L);const Z=c.map(gt=>gt.plateNumber??"null");V(Z);const lt=c.map(gt=>gt.model??"null");z(lt);const ct=c.map(gt=>gt.driver??"null");Dt(ct);const ht=c.map(gt=>gt.createdAt??"null");X(ht)},[c]),nt.useEffect(()=>{if(r&&Array.isArray(r)){const L=r.map(Z=>Z.name??"null");m(L)}},[r]),nt.useEffect(()=>{},[f]),nt.useEffect(()=>{if(c&&Array.isArray(c)){const L=c.map(Z=>Z.model??"null");_(L)}},[c]),nt.useEffect(()=>{},[y]);const dt=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-user bx-tada-hover hovered",title:"Drivers"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicles"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],bt=[w.jsx(gE,{isDark:n,user:i,vehicleInfo:c}),w.jsx(BP,{isDark:n,user:i}),w.jsx(LP,{isDark:n,user:i,driverInfo:r}),w.jsx(qP,{isDark:n,user:i,driverInfo:r,vehicleInfo:c}),w.jsx(KP,{isDark:n,user:i,vehicleInfo:c}),w.jsx(XP,{isDark:n}),w.jsx($P,{isDark:n}),w.jsx(QP,{isDark:n})],Ot=dn();return w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            ${Ot?"h-auto":"h-screen"}
            fade-in w-full flex flex-row items-start justify-center p-[calc(0.4vw+0.6rem)]`,children:[!Ot&&w.jsx("section",{id:"side-nav",className:"h-full w-full flex-1",children:dt.map((L,Z)=>w.jsx("div",{className:`${t===Z?"text-[var(--dark-color)] bg-[var(--border-color)]":""} flex flex-row items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] 
                        cursor-pointer transition duration-300 ease-in-out`,onClick:()=>e(Z),children:w.jsx(P1,{icon:L.icon,title:L.title})},Z))}),bt[t]??w.jsx(gE,{isDark:n,user:i,vehicleInfo:c})]})}function ZP({user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,maintenanceInfo:o,isLoggedIn:c,setIsLoggedIn:h}){const[f,m]=nt.useState(!0),[y,_]=nt.useState(0);return w.jsxs("div",{children:[w.jsx(DP,{isDark:f,setIsDark:m,activeIndex:y,setActiveIndex:_,user:n,isLoggedIn:c,setIsLoggedIn:h}),w.jsx(WP,{isDark:f,activeIndex:y,setActiveIndex:_,user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,maintenanceInfo:o})]})}function JP(){const[n,t]=nt.useState(!1),[e,i]=nt.useState(null),[r,o]=nt.useState([]),[c,h]=nt.useState([]),[f,m]=nt.useState([]),[y,_]=nt.useState([]);return w.jsxs("div",{children:[!n&&w.jsx(NP,{isLoggedIn:n,setIsLoggedIn:t,setUser:i}),n&&w.jsx(ZP,{user:e,isLoggedIn:n,setIsLoggedIn:t,driverInfo:r,setDriverInfo:o,vehicleInfo:c,setVehicleInfo:h,fuelInfo:f,setFuelInfo:m,maintenanceInfo:y,setMaintenanceInfo:_})]})}ER.createRoot(document.getElementById("root")).render(w.jsx(nt.StrictMode,{children:w.jsx(JP,{})}));
