(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function mR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eg={exports:{}},pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function gR(){if(gb)return pc;gb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return pc.Fragment=t,pc.jsx=e,pc.jsxs=e,pc}var pb;function pR(){return pb||(pb=1,Eg.exports=gR()),Eg.exports}var D=pR(),wg={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function _R(){if(_b)return At;_b=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,N={};function L(z,et,lt){this.props=z,this.context=et,this.refs=N,this.updater=lt||C}L.prototype.isReactComponent={},L.prototype.setState=function(z,et){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,et,"setState")},L.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=L.prototype;function $(z,et,lt){this.props=z,this.context=et,this.refs=N,this.updater=lt||C}var Z=$.prototype=new F;Z.constructor=$,M(Z,L.prototype),Z.isPureReactComponent=!0;var Y=Array.isArray;function tt(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(z,et,lt){var ct=lt.ref;return{$$typeof:n,type:z,key:et,ref:ct!==void 0?ct:null,props:lt}}function V(z,et){return I(z.type,et,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function j(z){var et={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(lt){return et[lt]})}var O=/\/+/g;function Dt(z,et){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):et.toString(36)}function Et(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(tt,tt):(z.status="pending",z.then(function(et){z.status==="pending"&&(z.status="fulfilled",z.value=et)},function(et){z.status==="pending"&&(z.status="rejected",z.reason=et)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function X(z,et,lt,ct,yt){var Tt=typeof z;(Tt==="undefined"||Tt==="boolean")&&(z=null);var Ft=!1;if(z===null)Ft=!0;else switch(Tt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(z.$$typeof){case n:case t:Ft=!0;break;case _:return Ft=z._init,X(Ft(z._payload),et,lt,ct,yt)}}if(Ft)return yt=yt(z),Ft=ct===""?"."+Dt(z,0):ct,Y(yt)?(lt="",Ft!=null&&(lt=Ft.replace(O,"$&/")+"/"),X(yt,et,lt,"",function(Br){return Br})):yt!=null&&(k(yt)&&(yt=V(yt,lt+(yt.key==null||z&&z.key===yt.key?"":(""+yt.key).replace(O,"$&/")+"/")+Ft)),et.push(yt)),1;Ft=0;var Pe=ct===""?".":ct+":";if(Y(z))for(var fe=0;fe<z.length;fe++)ct=z[fe],Tt=Pe+Dt(ct,fe),Ft+=X(ct,et,lt,Tt,yt);else if(fe=E(z),typeof fe=="function")for(z=fe.call(z),fe=0;!(ct=z.next()).done;)ct=ct.value,Tt=Pe+Dt(ct,fe++),Ft+=X(ct,et,lt,Tt,yt);else if(Tt==="object"){if(typeof z.then=="function")return X(Et(z),et,lt,ct,yt);throw et=String(z),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function at(z,et,lt){if(z==null)return z;var ct=[],yt=0;return X(z,ct,"","",function(Tt){return et.call(lt,Tt,yt++)}),ct}function ht(z){if(z._status===-1){var et=z._result;et=et(),et.then(function(lt){(z._status===0||z._status===-1)&&(z._status=1,z._result=lt)},function(lt){(z._status===0||z._status===-1)&&(z._status=2,z._result=lt)}),z._status===-1&&(z._status=0,z._result=et)}if(z._status===1)return z._result.default;throw z._result}var bt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Vt={map:at,forEach:function(z,et,lt){at(z,function(){et.apply(this,arguments)},lt)},count:function(z){var et=0;return at(z,function(){et++}),et},toArray:function(z){return at(z,function(et){return et})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return At.Activity=y,At.Children=Vt,At.Component=L,At.Fragment=e,At.Profiler=r,At.PureComponent=$,At.StrictMode=i,At.Suspense=f,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,At.__COMPILER_RUNTIME={__proto__:null,c:function(z){return R.H.useMemoCache(z)}},At.cache=function(z){return function(){return z.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(z,et,lt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ct=M({},z.props),yt=z.key;if(et!=null)for(Tt in et.key!==void 0&&(yt=""+et.key),et)!S.call(et,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&et.ref===void 0||(ct[Tt]=et[Tt]);var Tt=arguments.length-2;if(Tt===1)ct.children=lt;else if(1<Tt){for(var Ft=Array(Tt),Pe=0;Pe<Tt;Pe++)Ft[Pe]=arguments[Pe+2];ct.children=Ft}return I(z.type,yt,ct)},At.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},At.createElement=function(z,et,lt){var ct,yt={},Tt=null;if(et!=null)for(ct in et.key!==void 0&&(Tt=""+et.key),et)S.call(et,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(yt[ct]=et[ct]);var Ft=arguments.length-2;if(Ft===1)yt.children=lt;else if(1<Ft){for(var Pe=Array(Ft),fe=0;fe<Ft;fe++)Pe[fe]=arguments[fe+2];yt.children=Pe}if(z&&z.defaultProps)for(ct in Ft=z.defaultProps,Ft)yt[ct]===void 0&&(yt[ct]=Ft[ct]);return I(z,Tt,yt)},At.createRef=function(){return{current:null}},At.forwardRef=function(z){return{$$typeof:h,render:z}},At.isValidElement=k,At.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:ht}},At.memo=function(z,et){return{$$typeof:m,type:z,compare:et===void 0?null:et}},At.startTransition=function(z){var et=R.T,lt={};R.T=lt;try{var ct=z(),yt=R.S;yt!==null&&yt(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(tt,bt)}catch(Tt){bt(Tt)}finally{et!==null&&lt.types!==null&&(et.types=lt.types),R.T=et}},At.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},At.use=function(z){return R.H.use(z)},At.useActionState=function(z,et,lt){return R.H.useActionState(z,et,lt)},At.useCallback=function(z,et){return R.H.useCallback(z,et)},At.useContext=function(z){return R.H.useContext(z)},At.useDebugValue=function(){},At.useDeferredValue=function(z,et){return R.H.useDeferredValue(z,et)},At.useEffect=function(z,et){return R.H.useEffect(z,et)},At.useEffectEvent=function(z){return R.H.useEffectEvent(z)},At.useId=function(){return R.H.useId()},At.useImperativeHandle=function(z,et,lt){return R.H.useImperativeHandle(z,et,lt)},At.useInsertionEffect=function(z,et){return R.H.useInsertionEffect(z,et)},At.useLayoutEffect=function(z,et){return R.H.useLayoutEffect(z,et)},At.useMemo=function(z,et){return R.H.useMemo(z,et)},At.useOptimistic=function(z,et){return R.H.useOptimistic(z,et)},At.useReducer=function(z,et,lt){return R.H.useReducer(z,et,lt)},At.useRef=function(z){return R.H.useRef(z)},At.useState=function(z){return R.H.useState(z)},At.useSyncExternalStore=function(z,et,lt){return R.H.useSyncExternalStore(z,et,lt)},At.useTransition=function(){return R.H.useTransition()},At.version="19.2.0",At}var yb;function Dp(){return yb||(yb=1,wg.exports=_R()),wg.exports}var gt=Dp();const pE=mR(gt);var Sg={exports:{}},_c={},Ag={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function yR(){return vb||(vb=1,(function(n){function t(X,at){var ht=X.length;X.push(at);t:for(;0<ht;){var bt=ht-1>>>1,Vt=X[bt];if(0<r(Vt,at))X[bt]=at,X[ht]=Vt,ht=bt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var at=X[0],ht=X.pop();if(ht!==at){X[0]=ht;t:for(var bt=0,Vt=X.length,z=Vt>>>1;bt<z;){var et=2*(bt+1)-1,lt=X[et],ct=et+1,yt=X[ct];if(0>r(lt,ht))ct<Vt&&0>r(yt,lt)?(X[bt]=yt,X[ct]=ht,bt=ct):(X[bt]=lt,X[et]=ht,bt=et);else if(ct<Vt&&0>r(yt,ht))X[bt]=yt,X[ct]=ht,bt=ct;else break t}}return at}function r(X,at){var ht=X.sortIndex-at.sortIndex;return ht!==0?ht:X.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],_=1,y=null,b=3,E=!1,C=!1,M=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Z(X){for(var at=e(m);at!==null;){if(at.callback===null)i(m);else if(at.startTime<=X)i(m),at.sortIndex=at.expirationTime,t(f,at);else break;at=e(m)}}function Y(X){if(M=!1,Z(X),!C)if(e(f)!==null)C=!0,tt||(tt=!0,j());else{var at=e(m);at!==null&&Et(Y,at.startTime-X)}}var tt=!1,R=-1,S=5,I=-1;function V(){return N?!0:!(n.unstable_now()-I<S)}function k(){if(N=!1,tt){var X=n.unstable_now();I=X;var at=!0;try{t:{C=!1,M&&(M=!1,F(R),R=-1),E=!0;var ht=b;try{e:{for(Z(X),y=e(f);y!==null&&!(y.expirationTime>X&&V());){var bt=y.callback;if(typeof bt=="function"){y.callback=null,b=y.priorityLevel;var Vt=bt(y.expirationTime<=X);if(X=n.unstable_now(),typeof Vt=="function"){y.callback=Vt,Z(X),at=!0;break e}y===e(f)&&i(f),Z(X)}else i(f);y=e(f)}if(y!==null)at=!0;else{var z=e(m);z!==null&&Et(Y,z.startTime-X),at=!1}}break t}finally{y=null,b=ht,E=!1}at=void 0}}finally{at?j():tt=!1}}}var j;if(typeof $=="function")j=function(){$(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Dt=O.port2;O.port1.onmessage=k,j=function(){Dt.postMessage(null)}}else j=function(){L(k,0)};function Et(X,at){R=L(function(){X(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(X){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var ht=b;b=at;try{return X()}finally{b=ht}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(X,at){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ht=b;b=X;try{return at()}finally{b=ht}},n.unstable_scheduleCallback=function(X,at,ht){var bt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?bt+ht:bt):ht=bt,X){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ht+Vt,X={id:_++,callback:at,priorityLevel:X,startTime:ht,expirationTime:Vt,sortIndex:-1},ht>bt?(X.sortIndex=ht,t(m,X),e(f)===null&&X===e(m)&&(M?(F(R),R=-1):M=!0,Et(Y,ht-bt))):(X.sortIndex=Vt,t(f,X),C||E||(C=!0,tt||(tt=!0,j()))),X},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(X){var at=b;return function(){var ht=b;b=at;try{return X.apply(this,arguments)}finally{b=ht}}}})(Rg)),Rg}var bb;function vR(){return bb||(bb=1,Ag.exports=yR()),Ag.exports}var Cg={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function bR(){if(Tb)return rn;Tb=1;var n=Dp();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rn.createPortal=function(f,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,_)},rn.flushSync=function(f){var m=c.T,_=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=_,i.d.f()}},rn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},rn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},rn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:E}):_==="script"&&i.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},rn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},rn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin);i.d.L(f,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},rn.preloadModule=function(f,m){if(typeof f=="string")if(m){var _=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},rn.requestFormReset=function(f){i.d.r(f)},rn.unstable_batchedUpdates=function(f,m){return f(m)},rn.useFormState=function(f,m,_){return c.H.useFormState(f,m,_)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var xb;function TR(){if(xb)return Cg.exports;xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Cg.exports=bR(),Cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function xR(){if(Eb)return _c;Eb=1;var n=vR(),t=Dp(),e=TR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var T=!1,w=g.child;w;){if(w===l){T=!0,l=g,u=p;break}if(w===u){T=!0,u=g,l=p;break}w=w.sibling}if(!T){for(w=p.child;w;){if(w===l){T=!0,l=p,u=g;break}if(w===u){T=!0,u=p,l=g;break}w=w.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function _(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=_(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case L:return"Profiler";case N:return"StrictMode";case Y:return"Suspense";case tt:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case $:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case Z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case S:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var Et=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},bt=[],Vt=-1;function z(s){return{current:s}}function et(s){0>Vt||(s.current=bt[Vt],bt[Vt]=null,Vt--)}function lt(s,a){Vt++,bt[Vt]=s.current,s.current=a}var ct=z(null),yt=z(null),Tt=z(null),Ft=z(null);function Pe(s,a){switch(lt(Tt,a),lt(yt,s),lt(ct,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?j0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=j0(a),s=z0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}et(ct),lt(ct,s)}function fe(){et(ct),et(yt),et(Tt)}function Br(s){s.memoizedState!==null&&lt(Ft,s);var a=ct.current,l=z0(a,s.type);a!==l&&(lt(yt,s),lt(ct,l))}function Ga(s){yt.current===s&&(et(ct),et(yt)),Ft.current===s&&(et(Ft),fc._currentValue=ht)}var Ya,Ka;function bi(s){if(Ya===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ya=a&&a[1]||"",Ka=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ya+s+Ka}var fl=!1;function Fr(s,a){if(!s||fl)return"";fl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(W){var K=W}Reflect.construct(s,[],it)}else{try{it.call()}catch(W){K=W}s.call(it.prototype)}}else{try{throw Error()}catch(W){K=W}(it=s())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],w=p[1];if(T&&w){var P=T.split(`
`),G=w.split(`
`);for(g=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(u===P.length||g===G.length)for(u=P.length-1,g=G.length-1;1<=u&&0<=g&&P[u]!==G[g];)g--;for(;1<=u&&0<=g;u--,g--)if(P[u]!==G[g]){if(u!==1||g!==1)do if(u--,g--,0>g||P[u]!==G[g]){var J=`
`+P[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=g);break}}}finally{fl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?bi(l):""}function dl(s,a){switch(s.tag){case 26:case 27:case 5:return bi(s.type);case 16:return bi("Lazy");case 13:return s.child!==a&&a!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Fr(s.type,!1);case 11:return Fr(s.type.render,!1);case 1:return Fr(s.type,!0);case 31:return bi("Activity");default:return""}}function ml(s){try{var a="",l=null;do a+=dl(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,Us=n.unstable_cancelCallback,Sd=n.unstable_shouldYield,du=n.unstable_requestPaint,dn=n.unstable_now,Hr=n.unstable_getCurrentPriorityLevel,gl=n.unstable_ImmediatePriority,pl=n.unstable_UserBlockingPriority,Bs=n.unstable_NormalPriority,Ad=n.unstable_LowPriority,mu=n.unstable_IdlePriority,gu=n.log,pu=n.unstable_setDisableYieldValue,ni=null,Xe=null;function Vn(s){if(typeof gu=="function"&&pu(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ni,s)}catch{}}var ve=Math.clz32?Math.clz32:yu,_u=Math.log,Xa=Math.LN2;function yu(s){return s>>>=0,s===0?32:31-(_u(s)/Xa|0)|0}var Ti=256,qr=262144,Ae=4194304;function xi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ei(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?g=xi(u):(T&=w,T!==0?g=xi(T):l||(l=w&~s,l!==0&&(g=xi(l))))):(w=u&~p,w!==0?g=xi(w):T!==0?g=xi(T):l||(l=u&~s,l!==0&&(g=xi(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function ii(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Rd(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function wi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Gr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Cd(s,a,l,u,g,p){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var w=s.entanglements,P=s.expirationTimes,G=s.hiddenUpdates;for(l=T&~l;0<l;){var J=31-ve(l),it=1<<J;w[J]=0,P[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var W=K[J];W!==null&&(W.lane&=-536870913)}l&=~it}u!==0&&Yr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(T&~a))}function Yr(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-ve(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function _l(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-ve(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function yl(s,a){var l=a&-a;return l=(l&42)!==0?1:Kr(l),(l&(s.suspendedLanes|a))!==0?0:l}function Kr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function rs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function bu(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:lb(s.type))}function si(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var ri=Math.random().toString(36).slice(2),Re="__reactFiber$"+ri,qe="__reactProps$"+ri,Si="__reactContainer$"+ri,$a="__reactEvents$"+ri,Id="__reactListeners$"+ri,Tu="__reactHandles$"+ri,xu="__reactResources$"+ri,Ai="__reactMarker$"+ri;function Qa(s){delete s[Re],delete s[qe],delete s[$a],delete s[Id],delete s[Tu]}function Ri(s){var a=s[Re];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Si]||l[Re]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=Y0(s);s!==null;){if(l=s[Re])return l;s=Y0(s)}return a}s=l,l=s.parentNode}return null}function Pn(s){if(s=s[Re]||s[Si]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function An(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ci(s){var a=s[xu];return a||(a=s[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ce(s){s[Ai]=!0}var vl=new Set,bl={};function Ii(s,a){Mi(s,a),Mi(s+"Capture",a)}function Mi(s,a){for(bl[s]=a,s=0;s<a.length;s++)vl.add(a[s])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},El={};function Eu(s){return Se.call(El,s)?!0:Se.call(xl,s)?!1:Tl.test(s)?El[s]=!0:(xl[s]=!0,!1)}function Wa(s,a,l){if(Eu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Rn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ie(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Ge(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wl(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Wt(s){if(!s._valueTracker){var a=Fs(s)?"checked":"value";s._valueTracker=wl(s,a,""+s[a])}}function Xr(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Fs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Di(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var $r=/[\n"\\]/g;function pn(s){return s.replace($r,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Za(s,a,l,u,g,p,T,w){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ge(a)):s.value!==""+Ge(a)&&(s.value=""+Ge(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?Sl(s,T,Ge(a)):l!=null?Sl(s,T,Ge(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+Ge(w):s.removeAttribute("name")}function wu(s,a,l,u,g,p,T,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Wt(s);return}l=l!=null?""+Ge(l):"",a=a!=null?""+Ge(a):l,w||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=w?s.checked:!!u,s.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),Wt(s)}function Sl(s,a,l){a==="number"&&Di(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Hs(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ge(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Su(s,a,l){if(a!=null&&(a=""+Ge(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Ge(l):""}function qs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Et(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ge(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Wt(s)}function _n(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Au.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Rl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Al(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Al(s,p,a[p])}function Ja(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(s){return Gs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ai(){}var Cl=null;function Ln(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ys=null,Ni=null;function Qr(s){var a=Pn(s);if(a&&(s=a.stateNode)){var l=s[qe]||null;t:switch(s=a.stateNode,a.type){case"input":if(Za(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[qe]||null;if(!g)throw Error(i(90));Za(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&Xr(u)}break t;case"textarea":Su(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Hs(s,!!l.multiple,a,!1)}}}var eo=!1;function Ks(s,a,l){if(eo)return s(a,l);eo=!0;try{var u=s(a);return u}finally{if(eo=!1,(Ys!==null||Ni!==null)&&(bh(),Ys&&(a=Ys,s=Ni,Ni=Ys=null,Qr(a),s)))for(a=0;a<s.length;a++)Qr(s[a])}}function oi(s,a){var l=s.stateNode;if(l===null)return null;var u=l[qe]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(jn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Wr=!1}var Oi=null,Il=null,Zr=null;function Ml(){if(Zr)return Zr;var s,a=Il,l=a.length,u,g="value"in Oi?Oi.value:Oi.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var T=l-s;for(u=1;u<=T&&a[l-u]===g[p-u];u++);return Zr=g.slice(s,1<u?1-u:void 0)}function Jr(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function as(){return!0}function li(){return!1}function $e(s){function a(l,u,g,p,T){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(l=s[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?as:li,this.isPropagationStopped=li,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),a}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=$e(os),Xs=y({},os,{view:0,detail:0}),Dl=$e(Xs),$s,no,Vi,io=y({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Vi&&(Vi&&s.type==="mousemove"?($s=s.screenX-Vi.screenX,no=s.screenY-Vi.screenY):no=$s=0,Vi=s),$s)},movementY:function(s){return"movementY"in s?s.movementY:no}}),Nl=$e(io),ta=y({},io,{dataTransfer:0}),Cu=$e(ta),Iu=y({},Xs,{relatedTarget:0}),ea=$e(Iu),Ol=y({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=$e(Ol),so=y({},os,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Du=$e(so),Nu=y({},os,{data:0}),Pi=$e(Nu),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Vu[s])?!!a[s]:!1}function Qs(){return Pu}var mn=y({},Xs,{key:function(s){if(s.key){var a=Ou[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Jr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ku[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(s){return s.type==="keypress"?Jr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Jr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Lu=$e(mn),ju=y({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=$e(ju),d=y({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),v=$e(d),x=y({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=$e(x),H=y({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=$e(H),ot=y({},os,{newState:0,oldState:0}),Ct=$e(ot),be=[9,13,27,32],Kt=jn&&"CompositionEvent"in window,de=null;jn&&"documentMode"in document&&(de=document.documentMode);var zn=jn&&"TextEvent"in window&&!de,Li=jn&&(!Kt||de&&8<de&&11>=de),ci=" ",ui=!1;function na(s,a){switch(s){case"keyup":return be.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ao=!1;function j1(s,a){switch(s){case"compositionend":return ro(a);case"keypress":return a.which!==32?null:(ui=!0,ci);case"textInput":return s=a.data,s===ci&&ui?null:s;default:return null}}function z1(s,a){if(ao)return s==="compositionend"||!Kt&&na(s,a)?(s=Ml(),Zr=Il=Oi=null,ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Li&&a.locale!=="ko"?null:a.data;default:return null}}var U1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!U1[s.type]:a==="textarea"}function Q_(s,a,l,u){Ys?Ni?Ni.push(u):Ni=[u]:Ys=u,a=Rh(a,"onChange"),0<a.length&&(l=new ki("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var kl=null,Vl=null;function B1(s){N0(s,0)}function zu(s){var a=An(s);if(Xr(a))return s}function W_(s,a){if(s==="change")return a}var Z_=!1;if(jn){var Md;if(jn){var Dd="oninput"in document;if(!Dd){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),Dd=typeof J_.oninput=="function"}Md=Dd}else Md=!1;Z_=Md&&(!document.documentMode||9<document.documentMode)}function ty(){kl&&(kl.detachEvent("onpropertychange",ey),Vl=kl=null)}function ey(s){if(s.propertyName==="value"&&zu(Vl)){var a=[];Q_(a,Vl,s,Ln(s)),Ks(B1,a)}}function F1(s,a,l){s==="focusin"?(ty(),kl=a,Vl=l,kl.attachEvent("onpropertychange",ey)):s==="focusout"&&ty()}function H1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zu(Vl)}function q1(s,a){if(s==="click")return zu(a)}function G1(s,a){if(s==="input"||s==="change")return zu(a)}function Y1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Cn=typeof Object.is=="function"?Object.is:Y1;function Pl(s,a){if(Cn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Se.call(a,g)||!Cn(s[g],a[g]))return!1}return!0}function ny(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function iy(s,a){var l=ny(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=ny(l)}}function sy(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?sy(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ry(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Di(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Di(s.document)}return a}function Nd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var K1=jn&&"documentMode"in document&&11>=document.documentMode,oo=null,Od=null,Ll=null,kd=!1;function ay(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;kd||oo==null||oo!==Di(u)||(u=oo,"selectionStart"in u&&Nd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ll&&Pl(Ll,u)||(Ll=u,u=Rh(Od,"onSelect"),0<u.length&&(a=new ki("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=oo)))}function ia(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var lo={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Vd={},oy={};jn&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function sa(s){if(Vd[s])return Vd[s];if(!lo[s])return s;var a=lo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in oy)return Vd[s]=a[l];return s}var ly=sa("animationend"),cy=sa("animationiteration"),uy=sa("animationstart"),X1=sa("transitionrun"),$1=sa("transitionstart"),Q1=sa("transitioncancel"),hy=sa("transitionend"),fy=new Map,Pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pd.push("scrollEnd");function hi(s,a){fy.set(s,a),Ii(a,[s])}var Uu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Un=[],co=0,Ld=0;function Bu(){for(var s=co,a=Ld=co=0;a<s;){var l=Un[a];Un[a++]=null;var u=Un[a];Un[a++]=null;var g=Un[a];Un[a++]=null;var p=Un[a];if(Un[a++]=null,u!==null&&g!==null){var T=u.pending;T===null?g.next=g:(g.next=T.next,T.next=g),u.pending=g}p!==0&&dy(l,g,p)}}function Fu(s,a,l,u){Un[co++]=s,Un[co++]=a,Un[co++]=l,Un[co++]=u,Ld|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function jd(s,a,l,u){return Fu(s,a,l,u),Hu(s)}function ra(s,a){return Fu(s,null,null,a),Hu(s)}function dy(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-ve(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Hu(s){if(50<rc)throw rc=0,Km=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var uo={};function W1(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(s,a,l,u){return new W1(s,a,l,u)}function zd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cs(s,a){var l=s.alternate;return l===null?(l=In(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function my(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function qu(s,a,l,u,g,p){var T=0;if(u=s,typeof s=="function")zd(s)&&(T=1);else if(typeof s=="string")T=nR(s,l,ct.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case I:return s=In(31,l,a,g),s.elementType=I,s.lanes=p,s;case M:return aa(l.children,g,p,a);case N:T=8,g|=24;break;case L:return s=In(12,l,a,g|2),s.elementType=L,s.lanes=p,s;case Y:return s=In(13,l,a,g),s.elementType=Y,s.lanes=p,s;case tt:return s=In(19,l,a,g),s.elementType=tt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:T=10;break t;case F:T=9;break t;case Z:T=11;break t;case R:T=14;break t;case S:T=16,u=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=In(T,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function aa(s,a,l,u){return s=In(7,s,u,a),s.lanes=l,s}function Ud(s,a,l){return s=In(6,s,null,a),s.lanes=l,s}function gy(s){var a=In(18,null,null,0);return a.stateNode=s,a}function Bd(s,a,l){return a=In(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var py=new WeakMap;function Bn(s,a){if(typeof s=="object"&&s!==null){var l=py.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ml(a)},py.set(s,a),a)}return{value:s,source:a,stack:ml(a)}}var ho=[],fo=0,Gu=null,jl=0,Fn=[],Hn=0,Ws=null,ji=1,zi="";function us(s,a){ho[fo++]=jl,ho[fo++]=Gu,Gu=s,jl=a}function _y(s,a,l){Fn[Hn++]=ji,Fn[Hn++]=zi,Fn[Hn++]=Ws,Ws=s;var u=ji;s=zi;var g=32-ve(u)-1;u&=~(1<<g),l+=1;var p=32-ve(a)+g;if(30<p){var T=g-g%5;p=(u&(1<<T)-1).toString(32),u>>=T,g-=T,ji=1<<32-ve(a)+g|l<<g|u,zi=p+s}else ji=1<<p|l<<g|u,zi=s}function Fd(s){s.return!==null&&(us(s,1),_y(s,1,0))}function Hd(s){for(;s===Gu;)Gu=ho[--fo],ho[fo]=null,jl=ho[--fo],ho[fo]=null;for(;s===Ws;)Ws=Fn[--Hn],Fn[Hn]=null,zi=Fn[--Hn],Fn[Hn]=null,ji=Fn[--Hn],Fn[Hn]=null}function yy(s,a){Fn[Hn++]=ji,Fn[Hn++]=zi,Fn[Hn++]=Ws,ji=a.id,zi=a.overflow,Ws=s}var Qe=null,oe=null,Bt=!1,Zs=null,qn=!1,qd=Error(i(519));function Js(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(Bn(a,s)),qd}function vy(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Re]=s,a[qe]=u,l){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(l=0;l<oc.length;l++)kt(oc[l],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),wu(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),qs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||P0(a.textContent,l)?(u.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),u.onScroll!=null&&kt("scroll",a),u.onScrollEnd!=null&&kt("scrollend",a),u.onClick!=null&&(a.onclick=ai),a=!0):a=!1,a||Js(s,!0)}function by(s){for(Qe=s.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Qe=Qe.return}}function mo(s){if(s!==Qe)return!1;if(!Bt)return by(s),Bt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||lg(s.type,s.memoizedProps)),l=!l),l&&oe&&Js(s),by(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=G0(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=G0(s)}else a===27?(a=oe,dr(s.type)?(s=dg,dg=null,oe=s):oe=a):oe=Qe?Yn(s.stateNode.nextSibling):null;return!0}function oa(){oe=Qe=null,Bt=!1}function Gd(){var s=Zs;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),Zs=null),s}function zl(s){Zs===null?Zs=[s]:Zs.push(s)}var Yd=z(null),la=null,hs=null;function tr(s,a,l){lt(Yd,a._currentValue),a._currentValue=l}function fs(s){s._currentValue=Yd.current,et(Yd)}function Kd(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Xd(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var T=g.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=g;for(var P=0;P<a.length;P++)if(w.context===a[P]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),Kd(p.return,l,s),u||(T=null);break t}p=w.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(i(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),Kd(T,l,s),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===s){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function go(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=g.type;Cn(g.pendingProps.value,T.value)||(s!==null?s.push(w):s=[w])}}else if(g===Ft.current){if(T=g.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(fc):s=[fc])}g=g.return}s!==null&&Xd(a,s,l,u),a.flags|=262144}function Yu(s){for(s=s.firstContext;s!==null;){if(!Cn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ca(s){la=s,hs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function We(s){return Ty(la,s)}function Ku(s,a){return la===null&&ca(s),Ty(s,a)}function Ty(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},hs===null){if(s===null)throw Error(i(308));hs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else hs=hs.next=a;return l}var Z1=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},J1=n.unstable_scheduleCallback,tA=n.unstable_NormalPriority,Me={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $d(){return{controller:new Z1,data:new Map,refCount:0}}function Ul(s){s.refCount--,s.refCount===0&&J1(tA,function(){s.controller.abort()})}var Bl=null,Qd=0,po=0,_o=null;function eA(s,a){if(Bl===null){var l=Bl=[];Qd=0,po=Jm(),_o={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Qd++,a.then(xy,xy),a}function xy(){if(--Qd===0&&Bl!==null){_o!==null&&(_o.status="fulfilled");var s=Bl;Bl=null,po=0,_o=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function nA(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Ey=X.S;X.S=function(s,a){a0=dn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&eA(s,a),Ey!==null&&Ey(s,a)};var ua=z(null);function Wd(){var s=ua.current;return s!==null?s:ae.pooledCache}function Xu(s,a){a===null?lt(ua,ua.current):lt(ua,a.pool)}function wy(){var s=Wd();return s===null?null:{parent:Me._currentValue,pool:s}}var yo=Error(i(460)),Zd=Error(i(474)),$u=Error(i(542)),Qu={then:function(){}};function Sy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ay(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(ai,ai),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Cy(s),s;default:if(typeof a.status=="string")a.then(ai,ai);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Cy(s),s}throw fa=a,yo}}function ha(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(fa=l,yo):l}}var fa=null;function Ry(){if(fa===null)throw Error(i(459));var s=fa;return fa=null,s}function Cy(s){if(s===yo||s===$u)throw Error(i(483))}var vo=null,Fl=0;function Wu(s){var a=Fl;return Fl+=1,vo===null&&(vo=[]),Ay(vo,s,a)}function Hl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Zu(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Iy(s){function a(B,U){if(s){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function l(B,U){if(!s)return null;for(;U!==null;)a(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function g(B,U){return B=cs(B,U),B.index=0,B.sibling=null,B}function p(B,U,q){return B.index=q,s?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function T(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function w(B,U,q,nt){return U===null||U.tag!==6?(U=Ud(q,B.mode,nt),U.return=B,U):(U=g(U,q),U.return=B,U)}function P(B,U,q,nt){var pt=q.type;return pt===M?J(B,U,q.props.children,nt,q.key):U!==null&&(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&ha(pt)===U.type)?(U=g(U,q.props),Hl(U,q),U.return=B,U):(U=qu(q.type,q.key,q.props,null,B.mode,nt),Hl(U,q),U.return=B,U)}function G(B,U,q,nt){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Bd(q,B.mode,nt),U.return=B,U):(U=g(U,q.children||[]),U.return=B,U)}function J(B,U,q,nt,pt){return U===null||U.tag!==7?(U=aa(q,B.mode,nt,pt),U.return=B,U):(U=g(U,q),U.return=B,U)}function it(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Ud(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return q=qu(U.type,U.key,U.props,null,B.mode,q),Hl(q,U),q.return=B,q;case C:return U=Bd(U,B.mode,q),U.return=B,U;case S:return U=ha(U),it(B,U,q)}if(Et(U)||j(U))return U=aa(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return it(B,Wu(U),q);if(U.$$typeof===$)return it(B,Ku(B,U),q);Zu(B,U)}return null}function K(B,U,q,nt){var pt=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pt!==null?null:w(B,U,""+q,nt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return q.key===pt?P(B,U,q,nt):null;case C:return q.key===pt?G(B,U,q,nt):null;case S:return q=ha(q),K(B,U,q,nt)}if(Et(q)||j(q))return pt!==null?null:J(B,U,q,nt,null);if(typeof q.then=="function")return K(B,U,Wu(q),nt);if(q.$$typeof===$)return K(B,U,Ku(B,q),nt);Zu(B,q)}return null}function W(B,U,q,nt,pt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return B=B.get(q)||null,w(U,B,""+nt,pt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case E:return B=B.get(nt.key===null?q:nt.key)||null,P(U,B,nt,pt);case C:return B=B.get(nt.key===null?q:nt.key)||null,G(U,B,nt,pt);case S:return nt=ha(nt),W(B,U,q,nt,pt)}if(Et(nt)||j(nt))return B=B.get(q)||null,J(U,B,nt,pt,null);if(typeof nt.then=="function")return W(B,U,q,Wu(nt),pt);if(nt.$$typeof===$)return W(B,U,q,Ku(U,nt),pt);Zu(U,nt)}return null}function ft(B,U,q,nt){for(var pt=null,Gt=null,dt=U,Mt=U=0,Lt=null;dt!==null&&Mt<q.length;Mt++){dt.index>Mt?(Lt=dt,dt=null):Lt=dt.sibling;var Yt=K(B,dt,q[Mt],nt);if(Yt===null){dt===null&&(dt=Lt);break}s&&dt&&Yt.alternate===null&&a(B,dt),U=p(Yt,U,Mt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt,dt=Lt}if(Mt===q.length)return l(B,dt),Bt&&us(B,Mt),pt;if(dt===null){for(;Mt<q.length;Mt++)dt=it(B,q[Mt],nt),dt!==null&&(U=p(dt,U,Mt),Gt===null?pt=dt:Gt.sibling=dt,Gt=dt);return Bt&&us(B,Mt),pt}for(dt=u(dt);Mt<q.length;Mt++)Lt=W(dt,B,Mt,q[Mt],nt),Lt!==null&&(s&&Lt.alternate!==null&&dt.delete(Lt.key===null?Mt:Lt.key),U=p(Lt,U,Mt),Gt===null?pt=Lt:Gt.sibling=Lt,Gt=Lt);return s&&dt.forEach(function(yr){return a(B,yr)}),Bt&&us(B,Mt),pt}function vt(B,U,q,nt){if(q==null)throw Error(i(151));for(var pt=null,Gt=null,dt=U,Mt=U=0,Lt=null,Yt=q.next();dt!==null&&!Yt.done;Mt++,Yt=q.next()){dt.index>Mt?(Lt=dt,dt=null):Lt=dt.sibling;var yr=K(B,dt,Yt.value,nt);if(yr===null){dt===null&&(dt=Lt);break}s&&dt&&yr.alternate===null&&a(B,dt),U=p(yr,U,Mt),Gt===null?pt=yr:Gt.sibling=yr,Gt=yr,dt=Lt}if(Yt.done)return l(B,dt),Bt&&us(B,Mt),pt;if(dt===null){for(;!Yt.done;Mt++,Yt=q.next())Yt=it(B,Yt.value,nt),Yt!==null&&(U=p(Yt,U,Mt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return Bt&&us(B,Mt),pt}for(dt=u(dt);!Yt.done;Mt++,Yt=q.next())Yt=W(dt,B,Mt,Yt.value,nt),Yt!==null&&(s&&Yt.alternate!==null&&dt.delete(Yt.key===null?Mt:Yt.key),U=p(Yt,U,Mt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return s&&dt.forEach(function(dR){return a(B,dR)}),Bt&&us(B,Mt),pt}function re(B,U,q,nt){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case E:t:{for(var pt=q.key;U!==null;){if(U.key===pt){if(pt=q.type,pt===M){if(U.tag===7){l(B,U.sibling),nt=g(U,q.props.children),nt.return=B,B=nt;break t}}else if(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&ha(pt)===U.type){l(B,U.sibling),nt=g(U,q.props),Hl(nt,q),nt.return=B,B=nt;break t}l(B,U);break}else a(B,U);U=U.sibling}q.type===M?(nt=aa(q.props.children,B.mode,nt,q.key),nt.return=B,B=nt):(nt=qu(q.type,q.key,q.props,null,B.mode,nt),Hl(nt,q),nt.return=B,B=nt)}return T(B);case C:t:{for(pt=q.key;U!==null;){if(U.key===pt)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){l(B,U.sibling),nt=g(U,q.children||[]),nt.return=B,B=nt;break t}else{l(B,U);break}else a(B,U);U=U.sibling}nt=Bd(q,B.mode,nt),nt.return=B,B=nt}return T(B);case S:return q=ha(q),re(B,U,q,nt)}if(Et(q))return ft(B,U,q,nt);if(j(q)){if(pt=j(q),typeof pt!="function")throw Error(i(150));return q=pt.call(q),vt(B,U,q,nt)}if(typeof q.then=="function")return re(B,U,Wu(q),nt);if(q.$$typeof===$)return re(B,U,Ku(B,q),nt);Zu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(l(B,U.sibling),nt=g(U,q),nt.return=B,B=nt):(l(B,U),nt=Ud(q,B.mode,nt),nt.return=B,B=nt),T(B)):l(B,U)}return function(B,U,q,nt){try{Fl=0;var pt=re(B,U,q,nt);return vo=null,pt}catch(dt){if(dt===yo||dt===$u)throw dt;var Gt=In(29,dt,null,B.mode);return Gt.lanes=nt,Gt.return=B,Gt}finally{}}}var da=Iy(!0),My=Iy(!1),er=!1;function Jd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function nr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ir(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Hu(s),dy(s,null,l),a}return Fu(s,u,a,l),Hu(s)}function ql(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,_l(s,l)}}function em(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var nm=!1;function Gl(){if(nm){var s=_o;if(s!==null)throw s}}function Yl(s,a,l,u){nm=!1;var g=s.updateQueue;er=!1;var p=g.firstBaseUpdate,T=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var P=w,G=P.next;P.next=null,T===null?p=G:T.next=G,T=P;var J=s.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==T&&(w===null?J.firstBaseUpdate=G:w.next=G,J.lastBaseUpdate=P))}if(p!==null){var it=g.baseState;T=0,J=G=P=null,w=p;do{var K=w.lane&-536870913,W=K!==w.lane;if(W?(Pt&K)===K:(u&K)===K){K!==0&&K===po&&(nm=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var ft=s,vt=w;K=a;var re=l;switch(vt.tag){case 1:if(ft=vt.payload,typeof ft=="function"){it=ft.call(re,it,K);break t}it=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=vt.payload,K=typeof ft=="function"?ft.call(re,it,K):ft,K==null)break t;it=y({},it,K);break t;case 2:er=!0}}K=w.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=g.callbacks,W===null?g.callbacks=[K]:W.push(K))}else W={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(G=J=W,P=it):J=J.next=W,T|=K;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;W=w,w=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);J===null&&(P=it),g.baseState=P,g.firstBaseUpdate=G,g.lastBaseUpdate=J,p===null&&(g.shared.lanes=0),lr|=T,s.lanes=T,s.memoizedState=it}}function Dy(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Ny(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Dy(l[s],a)}var bo=z(null),Ju=z(0);function Oy(s,a){s=Ts,lt(Ju,s),lt(bo,a),Ts=s|a.baseLanes}function im(){lt(Ju,Ts),lt(bo,bo.current)}function sm(){Ts=Ju.current,et(bo),et(Ju)}var Mn=z(null),Gn=null;function sr(s){var a=s.alternate;lt(Te,Te.current&1),lt(Mn,s),Gn===null&&(a===null||bo.current!==null||a.memoizedState!==null)&&(Gn=s)}function rm(s){lt(Te,Te.current),lt(Mn,s),Gn===null&&(Gn=s)}function ky(s){s.tag===22?(lt(Te,Te.current),lt(Mn,s),Gn===null&&(Gn=s)):rr()}function rr(){lt(Te,Te.current),lt(Mn,Mn.current)}function Dn(s){et(Mn),Gn===s&&(Gn=null),et(Te)}var Te=z(0);function th(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||hg(l)||fg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ds=0,It=null,ie=null,De=null,eh=!1,To=!1,ma=!1,nh=0,Kl=0,xo=null,iA=0;function pe(){throw Error(i(321))}function am(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Cn(s[l],a[l]))return!1;return!0}function om(s,a,l,u,g,p){return ds=p,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=s===null||s.memoizedState===null?_v:xm,ma=!1,p=l(u,g),ma=!1,To&&(p=Py(a,l,u,g)),Vy(s),p}function Vy(s){X.H=Ql;var a=ie!==null&&ie.next!==null;if(ds=0,De=ie=It=null,eh=!1,Kl=0,xo=null,a)throw Error(i(300));s===null||Ne||(s=s.dependencies,s!==null&&Yu(s)&&(Ne=!0))}function Py(s,a,l,u){It=s;var g=0;do{if(To&&(xo=null),Kl=0,To=!1,25<=g)throw Error(i(301));if(g+=1,De=ie=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=yv,p=a(l,u)}while(To);return p}function sA(){var s=X.H,a=s.useState()[0];return a=typeof a.then=="function"?Xl(a):a,s=s.useState()[0],(ie!==null?ie.memoizedState:null)!==s&&(It.flags|=1024),a}function lm(){var s=nh!==0;return nh=0,s}function cm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function um(s){if(eh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}eh=!1}ds=0,De=ie=It=null,To=!1,Kl=nh=0,xo=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?It.memoizedState=De=s:De=De.next=s,De}function xe(){if(ie===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=ie.next;var a=De===null?It.memoizedState:De.next;if(a!==null)De=a,ie=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));ie=s,s={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},De===null?It.memoizedState=De=s:De=De.next=s}return De}function ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(s){var a=Kl;return Kl+=1,xo===null&&(xo=[]),s=Ay(xo,s,a),a=It,(De===null?a.memoizedState:De.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?_v:xm),s}function sh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Xl(s);if(s.$$typeof===$)return We(s)}throw Error(i(438,String(s)))}function hm(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ih(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=V;return a.index++,l}function ms(s,a){return typeof a=="function"?a(s):a}function rh(s){var a=xe();return fm(a,ie,s)}function fm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var T=g.next;g.next=p.next,p.next=T}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var w=T=null,P=null,G=a,J=!1;do{var it=G.lane&-536870913;if(it!==G.lane?(Pt&it)===it:(ds&it)===it){var K=G.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),it===po&&(J=!0);else if((ds&K)===K){G=G.next,K===po&&(J=!0);continue}else it={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(w=P=it,T=p):P=P.next=it,It.lanes|=K,lr|=K;it=G.action,ma&&l(p,it),p=G.hasEagerState?G.eagerState:l(p,it)}else K={lane:it,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(w=P=K,T=p):P=P.next=K,It.lanes|=it,lr|=it;G=G.next}while(G!==null&&G!==a);if(P===null?T=p:P.next=w,!Cn(p,s.memoizedState)&&(Ne=!0,J&&(l=_o,l!==null)))throw l;s.memoizedState=p,s.baseState=T,s.baseQueue=P,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function dm(s){var a=xe(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do p=s(p,T.action),T=T.next;while(T!==g);Cn(p,a.memoizedState)||(Ne=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function Ly(s,a,l){var u=It,g=xe(),p=Bt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!Cn((ie||g).memoizedState,l);if(T&&(g.memoizedState=l,Ne=!0),g=g.queue,pm(Uy.bind(null,u,g,s),[s]),g.getSnapshot!==a||T||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,Eo(9,{destroy:void 0},zy.bind(null,u,g,l,a),null),ae===null)throw Error(i(349));p||(ds&127)!==0||jy(u,a,l)}return l}function jy(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=ih(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function zy(s,a,l,u){a.value=l,a.getSnapshot=u,By(a)&&Fy(s)}function Uy(s,a,l){return l(function(){By(a)&&Fy(s)})}function By(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Cn(s,l)}catch{return!0}}function Fy(s){var a=ra(s,2);a!==null&&xn(a,s,2)}function mm(s){var a=gn();if(typeof s=="function"){var l=s;if(s=l(),ma){Vn(!0);try{l()}finally{Vn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:s},a}function Hy(s,a,l,u){return s.baseState=l,fm(s,ie,typeof u=="function"?u:ms)}function rA(s,a,l,u,g){if(lh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};X.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,qy(a,p)):(p.next=l.next,a.pending=l.next=p)}}function qy(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=X.T,T={};X.T=T;try{var w=l(g,u),P=X.S;P!==null&&P(T,w),Gy(s,a,w)}catch(G){gm(s,a,G)}finally{p!==null&&T.types!==null&&(p.types=T.types),X.T=p}}else try{p=l(g,u),Gy(s,a,p)}catch(G){gm(s,a,G)}}function Gy(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Yy(s,a,u)},function(u){return gm(s,a,u)}):Yy(s,a,l)}function Yy(s,a,l){a.status="fulfilled",a.value=l,Ky(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,qy(s,l)))}function gm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Ky(a),a=a.next;while(a!==u)}s.action=null}function Ky(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Xy(s,a){return a}function $y(s,a){if(Bt){var l=ae.formState;if(l!==null){t:{var u=It;if(Bt){if(oe){e:{for(var g=oe,p=qn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Yn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){oe=Yn(g.nextSibling),u=g.data==="F!";break t}}Js(u)}u=!1}u&&(a=l[0])}}return l=gn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:a},l.queue=u,l=mv.bind(null,It,u),u.dispatch=l,u=mm(!1),p=Tm.bind(null,It,!1,u.queue),u=gn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=rA.bind(null,It,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function Qy(s){var a=xe();return Wy(a,ie,s)}function Wy(s,a,l){if(a=fm(s,a,Xy)[0],s=rh(ms)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Xl(a)}catch(T){throw T===yo?$u:T}else u=a;a=xe();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(It.flags|=2048,Eo(9,{destroy:void 0},aA.bind(null,g,l),null)),[u,p,s]}function aA(s,a){s.action=a}function Zy(s){var a=xe(),l=ie;if(l!==null)return Wy(a,l,s);xe(),a=a.memoizedState,l=xe();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Eo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=ih(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Jy(){return xe().memoizedState}function ah(s,a,l,u){var g=gn();It.flags|=s,g.memoizedState=Eo(1|a,{destroy:void 0},l,u===void 0?null:u)}function oh(s,a,l,u){var g=xe();u=u===void 0?null:u;var p=g.memoizedState.inst;ie!==null&&u!==null&&am(u,ie.memoizedState.deps)?g.memoizedState=Eo(a,p,l,u):(It.flags|=s,g.memoizedState=Eo(1|a,p,l,u))}function tv(s,a){ah(8390656,8,s,a)}function pm(s,a){oh(2048,8,s,a)}function oA(s){It.flags|=4;var a=It.updateQueue;if(a===null)a=ih(),It.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function ev(s){var a=xe().memoizedState;return oA({ref:a,nextImpl:s}),function(){if((Xt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function nv(s,a){return oh(4,2,s,a)}function iv(s,a){return oh(4,4,s,a)}function sv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function rv(s,a,l){l=l!=null?l.concat([s]):null,oh(4,4,sv.bind(null,a,s),l)}function _m(){}function av(s,a){var l=xe();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&am(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function ov(s,a){var l=xe();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&am(a,u[1]))return u[0];if(u=s(),ma){Vn(!0);try{s()}finally{Vn(!1)}}return l.memoizedState=[u,a],u}function ym(s,a,l){return l===void 0||(ds&1073741824)!==0&&(Pt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=l0(),It.lanes|=s,lr|=s,l)}function lv(s,a,l,u){return Cn(l,a)?l:bo.current!==null?(s=ym(s,l,u),Cn(s,a)||(Ne=!0),s):(ds&42)===0||(ds&1073741824)!==0&&(Pt&261930)===0?(Ne=!0,s.memoizedState=l):(s=l0(),It.lanes|=s,lr|=s,a)}function cv(s,a,l,u,g){var p=at.p;at.p=p!==0&&8>p?p:8;var T=X.T,w={};X.T=w,Tm(s,!1,a,l);try{var P=g(),G=X.S;if(G!==null&&G(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var J=nA(P,u);$l(s,a,J,kn(s))}else $l(s,a,u,kn(s))}catch(it){$l(s,a,{then:function(){},status:"rejected",reason:it},kn())}finally{at.p=p,T!==null&&w.types!==null&&(T.types=w.types),X.T=T}}function lA(){}function vm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=uv(s).queue;cv(s,g,a,ht,l===null?lA:function(){return hv(s),l(u)})}function uv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ht},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function hv(s){var a=uv(s);a.next===null&&(a=s.alternate.memoizedState),$l(s,a.next.queue,{},kn())}function bm(){return We(fc)}function fv(){return xe().memoizedState}function dv(){return xe().memoizedState}function cA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=kn();s=nr(l);var u=ir(a,s,l);u!==null&&(xn(u,a,l),ql(u,a,l)),a={cache:$d()},s.payload=a;return}a=a.return}}function uA(s,a,l){var u=kn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},lh(s)?gv(a,l):(l=jd(s,a,l,u),l!==null&&(xn(l,s,u),pv(l,a,u)))}function mv(s,a,l){var u=kn();$l(s,a,l,u)}function $l(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(lh(s))gv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var T=a.lastRenderedState,w=p(T,l);if(g.hasEagerState=!0,g.eagerState=w,Cn(w,T))return Fu(s,a,g,0),ae===null&&Bu(),!1}catch{}finally{}if(l=jd(s,a,g,u),l!==null)return xn(l,s,u),pv(l,a,u),!0}return!1}function Tm(s,a,l,u){if(u={lane:2,revertLane:Jm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lh(s)){if(a)throw Error(i(479))}else a=jd(s,l,u,2),a!==null&&xn(a,s,2)}function lh(s){var a=s.alternate;return s===It||a!==null&&a===It}function gv(s,a){To=eh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function pv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,_l(s,l)}}var Ql={readContext:We,use:sh,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Ql.useEffectEvent=pe;var _v={readContext:We,use:sh,useCallback:function(s,a){return gn().memoizedState=[s,a===void 0?null:a],s},useContext:We,useEffect:tv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,ah(4194308,4,sv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return ah(4194308,4,s,a)},useInsertionEffect:function(s,a){ah(4,2,s,a)},useMemo:function(s,a){var l=gn();a=a===void 0?null:a;var u=s();if(ma){Vn(!0);try{s()}finally{Vn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=gn();if(l!==void 0){var g=l(a);if(ma){Vn(!0);try{l(a)}finally{Vn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=uA.bind(null,It,s),[u.memoizedState,s]},useRef:function(s){var a=gn();return s={current:s},a.memoizedState=s},useState:function(s){s=mm(s);var a=s.queue,l=mv.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:_m,useDeferredValue:function(s,a){var l=gn();return ym(l,s,a)},useTransition:function(){var s=mm(!1);return s=cv.bind(null,It,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=It,g=gn();if(Bt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ae===null)throw Error(i(349));(Pt&127)!==0||jy(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,tv(Uy.bind(null,u,p,s),[s]),u.flags|=2048,Eo(9,{destroy:void 0},zy.bind(null,u,p,l,a),null),l},useId:function(){var s=gn(),a=ae.identifierPrefix;if(Bt){var l=zi,u=ji;l=(u&~(1<<32-ve(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=nh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=iA++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:bm,useFormState:$y,useActionState:$y,useOptimistic:function(s){var a=gn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Tm.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:hm,useCacheRefresh:function(){return gn().memoizedState=cA.bind(null,It)},useEffectEvent:function(s){var a=gn(),l={impl:s};return a.memoizedState=l,function(){if((Xt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},xm={readContext:We,use:sh,useCallback:av,useContext:We,useEffect:pm,useImperativeHandle:rv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:rh,useRef:Jy,useState:function(){return rh(ms)},useDebugValue:_m,useDeferredValue:function(s,a){var l=xe();return lv(l,ie.memoizedState,s,a)},useTransition:function(){var s=rh(ms)[0],a=xe().memoizedState;return[typeof s=="boolean"?s:Xl(s),a]},useSyncExternalStore:Ly,useId:fv,useHostTransitionStatus:bm,useFormState:Qy,useActionState:Qy,useOptimistic:function(s,a){var l=xe();return Hy(l,ie,s,a)},useMemoCache:hm,useCacheRefresh:dv};xm.useEffectEvent=ev;var yv={readContext:We,use:sh,useCallback:av,useContext:We,useEffect:pm,useImperativeHandle:rv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:dm,useRef:Jy,useState:function(){return dm(ms)},useDebugValue:_m,useDeferredValue:function(s,a){var l=xe();return ie===null?ym(l,s,a):lv(l,ie.memoizedState,s,a)},useTransition:function(){var s=dm(ms)[0],a=xe().memoizedState;return[typeof s=="boolean"?s:Xl(s),a]},useSyncExternalStore:Ly,useId:fv,useHostTransitionStatus:bm,useFormState:Zy,useActionState:Zy,useOptimistic:function(s,a){var l=xe();return ie!==null?Hy(l,ie,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:hm,useCacheRefresh:dv};yv.useEffectEvent=ev;function Em(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var wm={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=kn(),g=nr(u);g.payload=a,l!=null&&(g.callback=l),a=ir(s,g,u),a!==null&&(xn(a,s,u),ql(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=kn(),g=nr(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=ir(s,g,u),a!==null&&(xn(a,s,u),ql(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=kn(),u=nr(l);u.tag=2,a!=null&&(u.callback=a),a=ir(s,u,l),a!==null&&(xn(a,s,l),ql(a,s,l))}};function vv(s,a,l,u,g,p,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,T):a.prototype&&a.prototype.isPureReactComponent?!Pl(l,u)||!Pl(g,p):!0}function bv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&wm.enqueueReplaceState(a,a.state,null)}function ga(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function Tv(s){Uu(s)}function xv(s){console.error(s)}function Ev(s){Uu(s)}function ch(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function wv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Sm(s,a,l){return l=nr(l),l.tag=3,l.payload={element:null},l.callback=function(){ch(s,a)},l}function Sv(s){return s=nr(s),s.tag=3,s}function Av(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){wv(a,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){wv(a,l,u),typeof g!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function hA(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&go(a,l,g,!0),l=Mn.current,l!==null){switch(l.tag){case 31:case 13:return Gn===null?Th():l.alternate===null&&_e===0&&(_e=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Qu?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Qm(s,u,g)),!1;case 22:return l.flags|=65536,u===Qu?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Qm(s,u,g)),!1}throw Error(i(435,l.tag))}return Qm(s,u,g),Th(),!1}if(Bt)return a=Mn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==qd&&(s=Error(i(422),{cause:u}),zl(Bn(s,l)))):(u!==qd&&(a=Error(i(423),{cause:u}),zl(Bn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Bn(u,l),g=Sm(s.stateNode,u,g),em(s,g),_e!==4&&(_e=2)),!1;var p=Error(i(520),{cause:u});if(p=Bn(p,l),sc===null?sc=[p]:sc.push(p),_e!==4&&(_e=2),a===null)return!0;u=Bn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Sm(l.stateNode,u,s),em(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(cr===null||!cr.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Sv(g),Av(g,s,l,u),em(l,g),!1}l=l.return}while(l!==null);return!1}var Am=Error(i(461)),Ne=!1;function Ze(s,a,l,u){a.child=s===null?My(a,null,l,u):da(a,s.child,l,u)}function Rv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ca(a),u=om(s,a,l,T,p,g),w=lm(),s!==null&&!Ne?(cm(s,a,g),gs(s,a,g)):(Bt&&w&&Fd(a),a.flags|=1,Ze(s,a,u,g),a.child)}function Cv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!zd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Iv(s,a,p,u,g)):(s=qu(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!km(s,g)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:Pl,l(T,u)&&s.ref===a.ref)return gs(s,a,g)}return a.flags|=1,s=cs(p,u),s.ref=a.ref,s.return=a,a.child=s}function Iv(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(Pl(p,u)&&s.ref===a.ref)if(Ne=!1,a.pendingProps=u=p,km(s,g))(s.flags&131072)!==0&&(Ne=!0);else return a.lanes=s.lanes,gs(s,a,g)}return Rm(s,a,l,u,g)}function Mv(s,a,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Dv(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Xu(a,p!==null?p.cachePool:null),p!==null?Oy(a,p):im(),ky(a);else return u=a.lanes=536870912,Dv(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Xu(a,p.cachePool),Oy(a,p),rr(),a.memoizedState=null):(s!==null&&Xu(a,null),im(),rr());return Ze(s,a,g,l),a.child}function Wl(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Dv(s,a,l,u,g){var p=Wd();return p=p===null?null:{parent:Me._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Xu(a,null),im(),ky(a),s!==null&&go(s,a,u,!0),a.childLanes=g,null}function uh(s,a){return a=fh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Nv(s,a,l){return da(a,s.child,null,l),s=uh(a,a.pendingProps),s.flags|=2,Dn(a),a.memoizedState=null,s}function fA(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Bt){if(u.mode==="hidden")return s=uh(a,u),a.lanes=536870912,Wl(null,s);if(rm(a),(s=oe)?(s=q0(s,qn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ws!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=gy(s),l.return=a,a.child=l,Qe=a,oe=null)):s=null,s===null)throw Js(a);return a.lanes=536870912,null}return uh(a,u)}var p=s.memoizedState;if(p!==null){var T=p.dehydrated;if(rm(a),g)if(a.flags&256)a.flags&=-257,a=Nv(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ne||go(s,a,l,!1),g=(l&s.childLanes)!==0,Ne||g){if(u=ae,u!==null&&(T=yl(u,l),T!==0&&T!==p.retryLane))throw p.retryLane=T,ra(s,T),xn(u,s,T),Am;Th(),a=Nv(s,a,l)}else s=p.treeContext,oe=Yn(T.nextSibling),Qe=a,Bt=!0,Zs=null,qn=!1,s!==null&&yy(a,s),a=uh(a,u),a.flags|=4096;return a}return s=cs(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function hh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Rm(s,a,l,u,g){return ca(a),l=om(s,a,l,u,void 0,g),u=lm(),s!==null&&!Ne?(cm(s,a,g),gs(s,a,g)):(Bt&&u&&Fd(a),a.flags|=1,Ze(s,a,l,g),a.child)}function Ov(s,a,l,u,g,p){return ca(a),a.updateQueue=null,l=Py(a,u,l,g),Vy(s),u=lm(),s!==null&&!Ne?(cm(s,a,p),gs(s,a,p)):(Bt&&u&&Fd(a),a.flags|=1,Ze(s,a,l,p),a.child)}function kv(s,a,l,u,g){if(ca(a),a.stateNode===null){var p=uo,T=l.contextType;typeof T=="object"&&T!==null&&(p=We(T)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=wm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Jd(a),T=l.contextType,p.context=typeof T=="object"&&T!==null?We(T):uo,p.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Em(a,l,T,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&wm.enqueueReplaceState(p,p.state,null),Yl(a,u,p,g),Gl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var w=a.memoizedProps,P=ga(l,w);p.props=P;var G=p.context,J=l.contextType;T=uo,typeof J=="object"&&J!==null&&(T=We(J));var it=l.getDerivedStateFromProps;J=typeof it=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||G!==T)&&bv(a,p,u,T),er=!1;var K=a.memoizedState;p.state=K,Yl(a,u,p,g),Gl(),G=a.memoizedState,w||K!==G||er?(typeof it=="function"&&(Em(a,l,it,u),G=a.memoizedState),(P=er||vv(a,l,P,u,K,G,T))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=G),p.props=u,p.state=G,p.context=T,u=P):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,tm(s,a),T=a.memoizedProps,J=ga(l,T),p.props=J,it=a.pendingProps,K=p.context,G=l.contextType,P=uo,typeof G=="object"&&G!==null&&(P=We(G)),w=l.getDerivedStateFromProps,(G=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==it||K!==P)&&bv(a,p,u,P),er=!1,K=a.memoizedState,p.state=K,Yl(a,u,p,g),Gl();var W=a.memoizedState;T!==it||K!==W||er||s!==null&&s.dependencies!==null&&Yu(s.dependencies)?(typeof w=="function"&&(Em(a,l,w,u),W=a.memoizedState),(J=er||vv(a,l,J,u,K,W,P)||s!==null&&s.dependencies!==null&&Yu(s.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,P)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=P,u=J):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,hh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=da(a,s.child,null,g),a.child=da(a,null,l,g)):Ze(s,a,l,g),a.memoizedState=p.state,s=a.child):s=gs(s,a,g),s}function Vv(s,a,l,u){return oa(),a.flags|=256,Ze(s,a,l,u),a.child}var Cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Im(s){return{baseLanes:s,cachePool:wy()}}function Mm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=On),s}function Pv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,T;if((T=p)||(T=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),T&&(g=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(Bt){if(g?sr(a):rr(),(s=oe)?(s=q0(s,qn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ws!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=gy(s),l.return=a,a.child=l,Qe=a,oe=null)):s=null,s===null)throw Js(a);return fg(s)?a.lanes=32:a.lanes=536870912,null}var w=u.children;return u=u.fallback,g?(rr(),g=a.mode,w=fh({mode:"hidden",children:w},g),u=aa(u,g,l,null),w.return=a,u.return=a,w.sibling=u,a.child=w,u=a.child,u.memoizedState=Im(l),u.childLanes=Mm(s,T,l),a.memoizedState=Cm,Wl(null,u)):(sr(a),Dm(a,w))}var P=s.memoizedState;if(P!==null&&(w=P.dehydrated,w!==null)){if(p)a.flags&256?(sr(a),a.flags&=-257,a=Nm(s,a,l)):a.memoizedState!==null?(rr(),a.child=s.child,a.flags|=128,a=null):(rr(),w=u.fallback,g=a.mode,u=fh({mode:"visible",children:u.children},g),w=aa(w,g,l,null),w.flags|=2,u.return=a,w.return=a,u.sibling=w,a.child=u,da(a,s.child,null,l),u=a.child,u.memoizedState=Im(l),u.childLanes=Mm(s,T,l),a.memoizedState=Cm,a=Wl(null,u));else if(sr(a),fg(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var G=T.dgst;T=G,u=Error(i(419)),u.stack="",u.digest=T,zl({value:u,source:null,stack:null}),a=Nm(s,a,l)}else if(Ne||go(s,a,l,!1),T=(l&s.childLanes)!==0,Ne||T){if(T=ae,T!==null&&(u=yl(T,l),u!==0&&u!==P.retryLane))throw P.retryLane=u,ra(s,u),xn(T,s,u),Am;hg(w)||Th(),a=Nm(s,a,l)}else hg(w)?(a.flags|=192,a.child=s.child,a=null):(s=P.treeContext,oe=Yn(w.nextSibling),Qe=a,Bt=!0,Zs=null,qn=!1,s!==null&&yy(a,s),a=Dm(a,u.children),a.flags|=4096);return a}return g?(rr(),w=u.fallback,g=a.mode,P=s.child,G=P.sibling,u=cs(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,G!==null?w=cs(G,w):(w=aa(w,g,l,null),w.flags|=2),w.return=a,u.return=a,u.sibling=w,a.child=u,Wl(null,u),u=a.child,w=s.child.memoizedState,w===null?w=Im(l):(g=w.cachePool,g!==null?(P=Me._currentValue,g=g.parent!==P?{parent:P,pool:P}:g):g=wy(),w={baseLanes:w.baseLanes|l,cachePool:g}),u.memoizedState=w,u.childLanes=Mm(s,T,l),a.memoizedState=Cm,Wl(s.child,u)):(sr(a),l=s.child,s=l.sibling,l=cs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function Dm(s,a){return a=fh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function fh(s,a){return s=In(22,s,null,a),s.lanes=0,s}function Nm(s,a,l){return da(a,s.child,null,l),s=Dm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Lv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Kd(s.return,a,l)}function Om(s,a,l,u,g,p){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=l,T.tailMode=g,T.treeForkCount=p)}function jv(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var T=Te.current,w=(T&2)!==0;if(w?(T=T&1|2,a.flags|=128):T&=1,lt(Te,T),Ze(s,a,u,l),u=Bt?jl:0,!w&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lv(s,l,a);else if(s.tag===19)Lv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&th(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Om(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&th(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Om(a,!0,l,null,p,u);break;case"together":Om(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function gs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),lr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(go(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=cs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=cs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function km(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Yu(s)))}function dA(s,a,l){switch(a.tag){case 3:Pe(a,a.stateNode.containerInfo),tr(a,Me,s.memoizedState.cache),oa();break;case 27:case 5:Br(a);break;case 4:Pe(a,a.stateNode.containerInfo);break;case 10:tr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,rm(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(sr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Pv(s,a,l):(sr(a),s=gs(s,a,l),s!==null?s.sibling:null);sr(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(go(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return jv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(Te,Te.current),u)break;return null;case 22:return a.lanes=0,Mv(s,a,l,a.pendingProps);case 24:tr(a,Me,s.memoizedState.cache)}return gs(s,a,l)}function zv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ne=!0;else{if(!km(s,l)&&(a.flags&128)===0)return Ne=!1,dA(s,a,l);Ne=(s.flags&131072)!==0}else Ne=!1,Bt&&(a.flags&1048576)!==0&&_y(a,jl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=ha(a.elementType),a.type=s,typeof s=="function")zd(s)?(u=ga(s,u),a.tag=1,a=kv(null,a,s,u,l)):(a.tag=0,a=Rm(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===Z){a.tag=11,a=Rv(null,a,s,u,l);break t}else if(g===R){a.tag=14,a=Cv(null,a,s,u,l);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return Rm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=ga(u,a.pendingProps),kv(s,a,u,g,l);case 3:t:{if(Pe(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,tm(s,a),Yl(a,u,null,l);var T=a.memoizedState;if(u=T.cache,tr(a,Me,u),u!==p.cache&&Xd(a,[Me],l,!0),Gl(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Vv(s,a,u,l);break t}else if(u!==g){g=Bn(Error(i(424)),a),zl(g),a=Vv(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(oe=Yn(s.firstChild),Qe=a,Bt=!0,Zs=null,qn=!0,l=My(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(oa(),u===g){a=gs(s,a,l);break t}Ze(s,a,u,l)}a=a.child}return a;case 26:return hh(s,a),s===null?(l=Q0(a.type,null,a.pendingProps,null))?a.memoizedState=l:Bt||(l=a.type,s=a.pendingProps,u=Ch(Tt.current).createElement(l),u[Re]=a,u[qe]=s,Je(u,l,s),Ce(u),a.stateNode=u):a.memoizedState=Q0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Br(a),s===null&&Bt&&(u=a.stateNode=K0(a.type,a.pendingProps,Tt.current),Qe=a,qn=!0,g=oe,dr(a.type)?(dg=g,oe=Yn(u.firstChild)):oe=g),Ze(s,a,a.pendingProps.children,l),hh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Bt&&((g=u=oe)&&(u=HA(u,a.type,a.pendingProps,qn),u!==null?(a.stateNode=u,Qe=a,oe=Yn(u.firstChild),qn=!1,g=!0):g=!1),g||Js(a)),Br(a),g=a.type,p=a.pendingProps,T=s!==null?s.memoizedProps:null,u=p.children,lg(g,p)?u=null:T!==null&&lg(g,T)&&(a.flags|=32),a.memoizedState!==null&&(g=om(s,a,sA,null,null,l),fc._currentValue=g),hh(s,a),Ze(s,a,u,l),a.child;case 6:return s===null&&Bt&&((s=l=oe)&&(l=qA(l,a.pendingProps,qn),l!==null?(a.stateNode=l,Qe=a,oe=null,s=!0):s=!1),s||Js(a)),null;case 13:return Pv(s,a,l);case 4:return Pe(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=da(a,null,u,l):Ze(s,a,u,l),a.child;case 11:return Rv(s,a,a.type,a.pendingProps,l);case 7:return Ze(s,a,a.pendingProps,l),a.child;case 8:return Ze(s,a,a.pendingProps.children,l),a.child;case 12:return Ze(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,tr(a,a.type,u.value),Ze(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,ca(a),g=We(g),u=u(g),a.flags|=1,Ze(s,a,u,l),a.child;case 14:return Cv(s,a,a.type,a.pendingProps,l);case 15:return Iv(s,a,a.type,a.pendingProps,l);case 19:return jv(s,a,l);case 31:return fA(s,a,l);case 22:return Mv(s,a,l,a.pendingProps);case 24:return ca(a),u=We(Me),s===null?(g=Wd(),g===null&&(g=ae,p=$d(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},Jd(a),tr(a,Me,g)):((s.lanes&l)!==0&&(tm(s,a),Yl(a,null,null,l),Gl()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),tr(a,Me,u)):(u=p.cache,tr(a,Me,u),u!==g.cache&&Xd(a,[Me],l,!0))),Ze(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ps(s){s.flags|=4}function Vm(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(f0())s.flags|=8192;else throw fa=Qu,Zd}else s.flags&=-16777217}function Uv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!eb(a))if(f0())s.flags|=8192;else throw fa=Qu,Zd}function dh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?vu():536870912,s.lanes|=a,Ro|=a)}function Zl(s,a){if(!Bt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function le(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function mA(s,a,l){var u=a.pendingProps;switch(Hd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(a),null;case 1:return le(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),fs(Me),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(mo(a)?ps(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Gd())),le(a),null;case 26:var g=a.type,p=a.memoizedState;return s===null?(ps(a),p!==null?(le(a),Uv(a,p)):(le(a),Vm(a,g,null,u,l))):p?p!==s.memoizedState?(ps(a),le(a),Uv(a,p)):(le(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&ps(a),le(a),Vm(a,g,s,u,l)),null;case 27:if(Ga(a),l=Tt.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ps(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}s=ct.current,mo(a)?vy(a):(s=K0(g,u,l),a.stateNode=s,ps(a))}return le(a),null;case 5:if(Ga(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ps(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}if(p=ct.current,mo(a))vy(a);else{var T=Ch(Tt.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?T.createElement(g,{is:u.is}):T.createElement(g)}}p[Re]=a,p[qe]=u;t:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break t;for(;T.sibling===null;){if(T.return===null||T.return===a)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=p;t:switch(Je(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ps(a)}}return le(a),Vm(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ps(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=Tt.current,mo(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=Qe,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Re]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||P0(s.nodeValue,l)),s||Js(a,!0)}else s=Ch(s).createTextNode(u),s[Re]=a,a.stateNode=s}return le(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=mo(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Re]=a}else oa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),s=!1}else l=Gd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Dn(a),a):(Dn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return le(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=mo(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Re]=a}else oa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),g=!1}else g=Gd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Dn(a),a):(Dn(a),null)}return Dn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),dh(a,a.updateQueue),le(a),null);case 4:return fe(),s===null&&ig(a.stateNode.containerInfo),le(a),null;case 10:return fs(a.type),le(a),null;case 19:if(et(Te),u=a.memoizedState,u===null)return le(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)Zl(u,!1);else{if(_e!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=th(s),p!==null){for(a.flags|=128,Zl(u,!1),s=p.updateQueue,a.updateQueue=s,dh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)my(l,s),l=l.sibling;return lt(Te,Te.current&1|2),Bt&&us(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&dn()>yh&&(a.flags|=128,g=!0,Zl(u,!1),a.lanes=4194304)}else{if(!g)if(s=th(p),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,dh(a,s),Zl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Bt)return le(a),null}else 2*dn()-u.renderingStartTime>yh&&l!==536870912&&(a.flags|=128,g=!0,Zl(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=dn(),s.sibling=null,l=Te.current,lt(Te,g?l&1|2:l&1),Bt&&us(a,u.treeForkCount),s):(le(a),null);case 22:case 23:return Dn(a),sm(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(le(a),a.subtreeFlags&6&&(a.flags|=8192)):le(a),l=a.updateQueue,l!==null&&dh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&et(ua),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),fs(Me),le(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function gA(s,a){switch(Hd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return fs(Me),fe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ga(a),null;case 31:if(a.memoizedState!==null){if(Dn(a),a.alternate===null)throw Error(i(340));oa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Dn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));oa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return et(Te),null;case 4:return fe(),null;case 10:return fs(a.type),null;case 22:case 23:return Dn(a),sm(),s!==null&&et(ua),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return fs(Me),null;case 25:return null;default:return null}}function Bv(s,a){switch(Hd(a),a.tag){case 3:fs(Me),fe();break;case 26:case 27:case 5:Ga(a);break;case 4:fe();break;case 31:a.memoizedState!==null&&Dn(a);break;case 13:Dn(a);break;case 19:et(Te);break;case 10:fs(a.type);break;case 22:case 23:Dn(a),sm(),s!==null&&et(ua);break;case 24:fs(Me)}}function Jl(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,T=l.inst;u=p(),T.destroy=u}l=l.next}while(l!==g)}}catch(w){Jt(a,a.return,w)}}function ar(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,g=a;var P=l,G=w;try{G()}catch(J){Jt(g,P,J)}}}u=u.next}while(u!==p)}}catch(J){Jt(a,a.return,J)}}function Fv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Ny(a,l)}catch(u){Jt(s,s.return,u)}}}function Hv(s,a,l){l.props=ga(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,a,u)}}function tc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,a,g)}}function Ui(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,a,g)}else l.current=null}function qv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function Pm(s,a,l){try{var u=s.stateNode;LA(u,s.type,l,a),u[qe]=a}catch(g){Jt(s,s.return,g)}}function Gv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&dr(s.type)||s.tag===4}function Lm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Gv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&dr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ai));else if(u!==4&&(u===27&&dr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(jm(s,a,l),s=s.sibling;s!==null;)jm(s,a,l),s=s.sibling}function mh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&dr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(mh(s,a,l),s=s.sibling;s!==null;)mh(s,a,l),s=s.sibling}function Yv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Je(a,u,l),a[Re]=s,a[qe]=l}catch(p){Jt(s,s.return,p)}}var _s=!1,Oe=!1,zm=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function pA(s,a){if(s=s.containerInfo,ag=Vh,s=ry(s),Nd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var T=0,w=-1,P=-1,G=0,J=0,it=s,K=null;e:for(;;){for(var W;it!==l||g!==0&&it.nodeType!==3||(w=T+g),it!==p||u!==0&&it.nodeType!==3||(P=T+u),it.nodeType===3&&(T+=it.nodeValue.length),(W=it.firstChild)!==null;)K=it,it=W;for(;;){if(it===s)break e;if(K===l&&++G===g&&(w=T),K===p&&++J===u&&(P=T),(W=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=W}l=w===-1||P===-1?null:{start:w,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(og={focusedElem:s,selectionRange:l},Vh=!1,Ye=a;Ye!==null;)if(a=Ye,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ye=s;else for(;Ye!==null;){switch(a=Ye,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ft=ga(l.type,g);s=u.getSnapshotBeforeUpdate(ft,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(vt){Jt(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)ug(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ug(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ye=s;break}Ye=a.return}}function Xv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:vs(s,l),u&4&&Jl(5,l);break;case 1:if(vs(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){Jt(l,l.return,T)}else{var g=ga(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(l,l.return,T)}}u&64&&Fv(l),u&512&&tc(l,l.return);break;case 3:if(vs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Ny(s,a)}catch(T){Jt(l,l.return,T)}}break;case 27:a===null&&u&4&&Yv(l);case 26:case 5:vs(s,l),a===null&&u&4&&qv(l),u&512&&tc(l,l.return);break;case 12:vs(s,l);break;case 31:vs(s,l),u&4&&Wv(s,l);break;case 13:vs(s,l),u&4&&Zv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=SA.bind(null,l),GA(s,l))));break;case 22:if(u=l.memoizedState!==null||_s,!u){a=a!==null&&a.memoizedState!==null||Oe,g=_s;var p=Oe;_s=u,(Oe=a)&&!p?bs(s,l,(l.subtreeFlags&8772)!==0):vs(s,l),_s=g,Oe=p}break;case 30:break;default:vs(s,l)}}function $v(s){var a=s.alternate;a!==null&&(s.alternate=null,$v(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Qa(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var me=null,yn=!1;function ys(s,a,l){for(l=l.child;l!==null;)Qv(s,a,l),l=l.sibling}function Qv(s,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ni,l)}catch{}switch(l.tag){case 26:Oe||Ui(l,a),ys(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||Ui(l,a);var u=me,g=yn;dr(l.type)&&(me=l.stateNode,yn=!1),ys(s,a,l),cc(l.stateNode),me=u,yn=g;break;case 5:Oe||Ui(l,a);case 6:if(u=me,g=yn,me=null,ys(s,a,l),me=u,yn=g,me!==null)if(yn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(l.stateNode)}catch(p){Jt(l,a,p)}else try{me.removeChild(l.stateNode)}catch(p){Jt(l,a,p)}break;case 18:me!==null&&(yn?(s=me,F0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Vo(s)):F0(me,l.stateNode));break;case 4:u=me,g=yn,me=l.stateNode.containerInfo,yn=!0,ys(s,a,l),me=u,yn=g;break;case 0:case 11:case 14:case 15:ar(2,l,a),Oe||ar(4,l,a),ys(s,a,l);break;case 1:Oe||(Ui(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Hv(l,a,u)),ys(s,a,l);break;case 21:ys(s,a,l);break;case 22:Oe=(u=Oe)||l.memoizedState!==null,ys(s,a,l),Oe=u;break;default:ys(s,a,l)}}function Wv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Vo(s)}catch(l){Jt(a,a.return,l)}}}function Zv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vo(s)}catch(l){Jt(a,a.return,l)}}function _A(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Kv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Kv),a;default:throw Error(i(435,s.tag))}}function gh(s,a){var l=_A(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=AA.bind(null,s,u);u.then(g,g)}})}function vn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,T=a,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(dr(w.type)){me=w.stateNode,yn=!1;break t}break;case 5:me=w.stateNode,yn=!1;break t;case 3:case 4:me=w.stateNode.containerInfo,yn=!0;break t}w=w.return}if(me===null)throw Error(i(160));Qv(p,T,g),me=null,yn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Jv(a,s),a=a.sibling}var fi=null;function Jv(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vn(a,s),bn(s),u&4&&(ar(3,s,s.return),Jl(3,s),ar(5,s,s.return));break;case 1:vn(a,s),bn(s),u&512&&(Oe||l===null||Ui(l,l.return)),u&64&&_s&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=fi;if(vn(a,s),bn(s),u&512&&(Oe||l===null||Ui(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Ai]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Je(p,u,l),p[Re]=s,Ce(p),u=p;break t;case"link":var T=J0("link","href",g).get(u+(l.href||""));if(T){for(var w=0;w<T.length;w++)if(p=T[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(w,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;case"meta":if(T=J0("meta","content",g).get(u+(l.content||""))){for(w=0;w<T.length;w++)if(p=T[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(w,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Re]=s,Ce(p),u=p}s.stateNode=u}else tb(g,s.type,s.stateNode);else s.stateNode=Z0(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?tb(g,s.type,s.stateNode):Z0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Pm(s,s.memoizedProps,l.memoizedProps)}break;case 27:vn(a,s),bn(s),u&512&&(Oe||l===null||Ui(l,l.return)),l!==null&&u&4&&Pm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(vn(a,s),bn(s),u&512&&(Oe||l===null||Ui(l,l.return)),s.flags&32){g=s.stateNode;try{_n(g,"")}catch(ft){Jt(s,s.return,ft)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Pm(s,g,l!==null?l.memoizedProps:g)),u&1024&&(zm=!0);break;case 6:if(vn(a,s),bn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ft){Jt(s,s.return,ft)}}break;case 3:if(Dh=null,g=fi,fi=Ih(a.containerInfo),vn(a,s),fi=g,bn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Vo(a.containerInfo)}catch(ft){Jt(s,s.return,ft)}zm&&(zm=!1,t0(s));break;case 4:u=fi,fi=Ih(s.stateNode.containerInfo),vn(a,s),bn(s),fi=u;break;case 12:vn(a,s),bn(s);break;case 31:vn(a,s),bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 13:vn(a,s),bn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_h=dn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 22:g=s.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,G=_s,J=Oe;if(_s=G||g,Oe=J||P,vn(a,s),Oe=J,_s=G,bn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||P||_s||Oe||pa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){P=l=a;try{if(p=P.stateNode,g)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=P.stateNode;var it=P.memoizedProps.style,K=it!=null&&it.hasOwnProperty("display")?it.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ft){Jt(P,P.return,ft)}}}else if(a.tag===6){if(l===null){P=a;try{P.stateNode.nodeValue=g?"":P.memoizedProps}catch(ft){Jt(P,P.return,ft)}}}else if(a.tag===18){if(l===null){P=a;try{var W=P.stateNode;g?H0(W,!0):H0(P.stateNode,!1)}catch(ft){Jt(P,P.return,ft)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,gh(s,l))));break;case 19:vn(a,s),bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 30:break;case 21:break;default:vn(a,s),bn(s)}}function bn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Gv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=Lm(s);mh(s,p,g);break;case 5:var T=l.stateNode;l.flags&32&&(_n(T,""),l.flags&=-33);var w=Lm(s);mh(s,w,T);break;case 3:case 4:var P=l.stateNode.containerInfo,G=Lm(s);jm(s,G,P);break;default:throw Error(i(161))}}catch(J){Jt(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function t0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;t0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function vs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Xv(s,a.alternate,a),a=a.sibling}function pa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ar(4,a,a.return),pa(a);break;case 1:Ui(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Hv(a,a.return,l),pa(a);break;case 27:cc(a.stateNode);case 26:case 5:Ui(a,a.return),pa(a);break;case 22:a.memoizedState===null&&pa(a);break;case 30:pa(a);break;default:pa(a)}s=s.sibling}}function bs(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,T=p.flags;switch(p.tag){case 0:case 11:case 15:bs(g,p,l),Jl(4,p);break;case 1:if(bs(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){Jt(u,u.return,G)}if(u=p,g=u.updateQueue,g!==null){var w=u.stateNode;try{var P=g.shared.hiddenCallbacks;if(P!==null)for(g.shared.hiddenCallbacks=null,g=0;g<P.length;g++)Dy(P[g],w)}catch(G){Jt(u,u.return,G)}}l&&T&64&&Fv(p),tc(p,p.return);break;case 27:Yv(p);case 26:case 5:bs(g,p,l),l&&u===null&&T&4&&qv(p),tc(p,p.return);break;case 12:bs(g,p,l);break;case 31:bs(g,p,l),l&&T&4&&Wv(g,p);break;case 13:bs(g,p,l),l&&T&4&&Zv(g,p);break;case 22:p.memoizedState===null&&bs(g,p,l),tc(p,p.return);break;case 30:break;default:bs(g,p,l)}a=a.sibling}}function Um(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ul(l))}function Bm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ul(s))}function di(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)e0(s,a,l,u),a=a.sibling}function e0(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:di(s,a,l,u),g&2048&&Jl(9,a);break;case 1:di(s,a,l,u);break;case 3:di(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ul(s)));break;case 12:if(g&2048){di(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,T=p.id,w=p.onPostCommit;typeof w=="function"&&w(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(P){Jt(a,a.return,P)}}else di(s,a,l,u);break;case 31:di(s,a,l,u);break;case 13:di(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,T=a.alternate,a.memoizedState!==null?p._visibility&2?di(s,a,l,u):ec(s,a):p._visibility&2?di(s,a,l,u):(p._visibility|=2,wo(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Um(T,a);break;case 24:di(s,a,l,u),g&2048&&Bm(a.alternate,a);break;default:di(s,a,l,u)}}function wo(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,T=a,w=l,P=u,G=T.flags;switch(T.tag){case 0:case 11:case 15:wo(p,T,w,P,g),Jl(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?wo(p,T,w,P,g):ec(p,T):(J._visibility|=2,wo(p,T,w,P,g)),g&&G&2048&&Um(T.alternate,T);break;case 24:wo(p,T,w,P,g),g&&G&2048&&Bm(T.alternate,T);break;default:wo(p,T,w,P,g)}a=a.sibling}}function ec(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:ec(l,u),g&2048&&Um(u.alternate,u);break;case 24:ec(l,u),g&2048&&Bm(u.alternate,u);break;default:ec(l,u)}a=a.sibling}}var nc=8192;function So(s,a,l){if(s.subtreeFlags&nc)for(s=s.child;s!==null;)n0(s,a,l),s=s.sibling}function n0(s,a,l){switch(s.tag){case 26:So(s,a,l),s.flags&nc&&s.memoizedState!==null&&iR(l,fi,s.memoizedState,s.memoizedProps);break;case 5:So(s,a,l);break;case 3:case 4:var u=fi;fi=Ih(s.stateNode.containerInfo),So(s,a,l),fi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=nc,nc=16777216,So(s,a,l),nc=u):So(s,a,l));break;default:So(s,a,l)}}function i0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function ic(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,r0(u,s)}i0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)s0(s),s=s.sibling}function s0(s){switch(s.tag){case 0:case 11:case 15:ic(s),s.flags&2048&&ar(9,s,s.return);break;case 3:ic(s);break;case 12:ic(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,ph(s)):ic(s);break;default:ic(s)}}function ph(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,r0(u,s)}i0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ar(8,a,a.return),ph(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ph(a));break;default:ph(a)}s=s.sibling}}function r0(s,a){for(;Ye!==null;){var l=Ye;switch(l.tag){case 0:case 11:case 15:ar(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ye=u;else t:for(l=s;Ye!==null;){u=Ye;var g=u.sibling,p=u.return;if($v(u),u===l){Ye=null;break t}if(g!==null){g.return=p,Ye=g;break t}Ye=p}}}var yA={getCacheForType:function(s){var a=We(Me),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return We(Me).controller.signal}},vA=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,Ot=null,Pt=0,Zt=0,Nn=null,or=!1,Ao=!1,Fm=!1,Ts=0,_e=0,lr=0,_a=0,Hm=0,On=0,Ro=0,sc=null,Tn=null,qm=!1,_h=0,a0=0,yh=1/0,vh=null,cr=null,je=0,ur=null,Co=null,xs=0,Gm=0,Ym=null,o0=null,rc=0,Km=null;function kn(){return(Xt&2)!==0&&Pt!==0?Pt&-Pt:X.T!==null?Jm():bu()}function l0(){if(On===0)if((Pt&536870912)===0||Bt){var s=qr;qr<<=1,(qr&3932160)===0&&(qr=262144),On=s}else On=536870912;return s=Mn.current,s!==null&&(s.flags|=32),On}function xn(s,a,l){(s===ae&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Io(s,0),hr(s,Pt,On,!1)),Gr(s,l),((Xt&2)===0||s!==ae)&&(s===ae&&((Xt&2)===0&&(_a|=l),_e===4&&hr(s,Pt,On,!1)),Bi(s))}function c0(s,a,l){if((Xt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||ii(s,a),g=u?xA(s,a):$m(s,a,!0),p=u;do{if(g===0){Ao&&!u&&hr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!bA(l)){g=$m(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var w=s;g=sc;var P=w.current.memoizedState.isDehydrated;if(P&&(Io(w,T).flags|=256),T=$m(w,T,!1),T!==2){if(Fm&&!P){w.errorRecoveryDisabledLanes|=p,_a|=p,g=4;break t}p=Tn,Tn=g,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}g=T}if(p=!1,g!==2)continue}}if(g===1){Io(s,0),hr(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:hr(u,a,On,!or);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=_h+300-dn(),10<g)){if(hr(u,a,On,!or),Ei(u,0,!0)!==0)break t;xs=a,u.timeoutHandle=U0(u0.bind(null,u,l,Tn,vh,qm,a,On,_a,Ro,or,p,"Throttled",-0,0),g);break t}u0(u,l,Tn,vh,qm,a,On,_a,Ro,or,p,null,-0,0)}}break}while(!0);Bi(s)}function u0(s,a,l,u,g,p,T,w,P,G,J,it,K,W){if(s.timeoutHandle=-1,it=a.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},n0(a,p,it);var ft=(p&62914560)===p?_h-dn():(p&4194048)===p?a0-dn():0;if(ft=sR(it,ft),ft!==null){xs=p,s.cancelPendingCommit=ft(y0.bind(null,s,a,p,l,u,g,T,w,P,J,it,null,K,W)),hr(s,p,T,!G);return}}y0(s,a,p,l,u,g,T,w,P)}function bA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Cn(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function hr(s,a,l,u){a&=~Hm,a&=~_a,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-ve(g),T=1<<p;u[p]=-1,g&=~T}l!==0&&Yr(s,l,a)}function bh(){return(Xt&6)===0?(ac(0),!1):!0}function Xm(){if(Ot!==null){if(Zt===0)var s=Ot.return;else s=Ot,hs=la=null,um(s),vo=null,Fl=0,s=Ot;for(;s!==null;)Bv(s.alternate,s),s=s.return;Ot=null}}function Io(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,UA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),xs=0,Xm(),ae=s,Ot=l=cs(s.current,null),Pt=a,Zt=0,Nn=null,or=!1,Ao=ii(s,a),Fm=!1,Ro=On=Hm=_a=lr=_e=0,Tn=sc=null,qm=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-ve(u),p=1<<g;a|=s[g],u&=~p}return Ts=a,Bu(),l}function h0(s,a){It=null,X.H=Ql,a===yo||a===$u?(a=Ry(),Zt=3):a===Zd?(a=Ry(),Zt=4):Zt=a===Am?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Nn=a,Ot===null&&(_e=1,ch(s,Bn(a,s.current)))}function f0(){var s=Mn.current;return s===null?!0:(Pt&4194048)===Pt?Gn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?s===Gn:!1}function d0(){var s=X.H;return X.H=Ql,s===null?Ql:s}function m0(){var s=X.A;return X.A=yA,s}function Th(){_e=4,or||(Pt&4194048)!==Pt&&Mn.current!==null||(Ao=!0),(lr&134217727)===0&&(_a&134217727)===0||ae===null||hr(ae,Pt,On,!1)}function $m(s,a,l){var u=Xt;Xt|=2;var g=d0(),p=m0();(ae!==s||Pt!==a)&&(vh=null,Io(s,a)),a=!1;var T=_e;t:do try{if(Zt!==0&&Ot!==null){var w=Ot,P=Nn;switch(Zt){case 8:Xm(),T=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(a=!0);var G=Zt;if(Zt=0,Nn=null,Mo(s,w,P,G),l&&Ao){T=0;break t}break;default:G=Zt,Zt=0,Nn=null,Mo(s,w,P,G)}}TA(),T=_e;break}catch(J){h0(s,J)}while(!0);return a&&s.shellSuspendCounter++,hs=la=null,Xt=u,X.H=g,X.A=p,Ot===null&&(ae=null,Pt=0,Bu()),T}function TA(){for(;Ot!==null;)g0(Ot)}function xA(s,a){var l=Xt;Xt|=2;var u=d0(),g=m0();ae!==s||Pt!==a?(vh=null,yh=dn()+500,Io(s,a)):Ao=ii(s,a);t:do try{if(Zt!==0&&Ot!==null){a=Ot;var p=Nn;e:switch(Zt){case 1:Zt=0,Nn=null,Mo(s,a,p,1);break;case 2:case 9:if(Sy(p)){Zt=0,Nn=null,p0(a);break}a=function(){Zt!==2&&Zt!==9||ae!==s||(Zt=7),Bi(s)},p.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Sy(p)?(Zt=0,Nn=null,p0(a)):(Zt=0,Nn=null,Mo(s,a,p,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var w=Ot;if(T?eb(T):w.stateNode.complete){Zt=0,Nn=null;var P=w.sibling;if(P!==null)Ot=P;else{var G=w.return;G!==null?(Ot=G,xh(G)):Ot=null}break e}}Zt=0,Nn=null,Mo(s,a,p,5);break;case 6:Zt=0,Nn=null,Mo(s,a,p,6);break;case 8:Xm(),_e=6;break t;default:throw Error(i(462))}}EA();break}catch(J){h0(s,J)}while(!0);return hs=la=null,X.H=u,X.A=g,Xt=l,Ot!==null?0:(ae=null,Pt=0,Bu(),_e)}function EA(){for(;Ot!==null&&!Sd();)g0(Ot)}function g0(s){var a=zv(s.alternate,s,Ts);s.memoizedProps=s.pendingProps,a===null?xh(s):Ot=a}function p0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Ov(l,a,a.pendingProps,a.type,void 0,Pt);break;case 11:a=Ov(l,a,a.pendingProps,a.type.render,a.ref,Pt);break;case 5:um(a);default:Bv(l,a),a=Ot=my(a,Ts),a=zv(l,a,Ts)}s.memoizedProps=s.pendingProps,a===null?xh(s):Ot=a}function Mo(s,a,l,u){hs=la=null,um(a),vo=null,Fl=0;var g=a.return;try{if(hA(s,g,a,l,Pt)){_e=1,ch(s,Bn(l,s.current)),Ot=null;return}}catch(p){if(g!==null)throw Ot=g,p;_e=1,ch(s,Bn(l,s.current)),Ot=null;return}a.flags&32768?(Bt||u===1?s=!0:Ao||(Pt&536870912)!==0?s=!1:(or=s=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),_0(a,s)):xh(a)}function xh(s){var a=s;do{if((a.flags&32768)!==0){_0(a,or);return}s=a.return;var l=mA(a.alternate,a,Ts);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);_e===0&&(_e=5)}function _0(s,a){do{var l=gA(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);_e=6,Ot=null}function y0(s,a,l,u,g,p,T,w,P){s.cancelPendingCommit=null;do Eh();while(je!==0);if((Xt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Ld,Cd(s,l,p,T,w,P),s===ae&&(Ot=ae=null,Pt=0),Co=a,ur=s,xs=l,Gm=p,Ym=g,o0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,RA(Bs,function(){return E0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,g=at.p,at.p=2,T=Xt,Xt|=4;try{pA(s,a,l)}finally{Xt=T,at.p=g,X.T=u}}je=1,v0(),b0(),T0()}}function v0(){if(je===1){je=0;var s=ur,a=Co,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var u=at.p;at.p=2;var g=Xt;Xt|=4;try{Jv(a,s);var p=og,T=ry(s.containerInfo),w=p.focusedElem,P=p.selectionRange;if(T!==w&&w&&w.ownerDocument&&sy(w.ownerDocument.documentElement,w)){if(P!==null&&Nd(w)){var G=P.start,J=P.end;if(J===void 0&&(J=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(J,w.value.length);else{var it=w.ownerDocument||document,K=it&&it.defaultView||window;if(K.getSelection){var W=K.getSelection(),ft=w.textContent.length,vt=Math.min(P.start,ft),re=P.end===void 0?vt:Math.min(P.end,ft);!W.extend&&vt>re&&(T=re,re=vt,vt=T);var B=iy(w,vt),U=iy(w,re);if(B&&U&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var q=it.createRange();q.setStart(B.node,B.offset),W.removeAllRanges(),vt>re?(W.addRange(q),W.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),W.addRange(q))}}}}for(it=[],W=w;W=W.parentNode;)W.nodeType===1&&it.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<it.length;w++){var nt=it[w];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Vh=!!ag,og=ag=null}finally{Xt=g,at.p=u,X.T=l}}s.current=a,je=2}}function b0(){if(je===2){je=0;var s=ur,a=Co,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var u=at.p;at.p=2;var g=Xt;Xt|=4;try{Xv(s,a.alternate,a)}finally{Xt=g,at.p=u,X.T=l}}je=3}}function T0(){if(je===4||je===3){je=0,du();var s=ur,a=Co,l=xs,u=o0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?je=5:(je=0,Co=ur=null,x0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(cr=null),rs(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ni,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=X.T,g=at.p,at.p=2,X.T=null;try{for(var p=s.onRecoverableError,T=0;T<u.length;T++){var w=u[T];p(w.value,{componentStack:w.stack})}}finally{X.T=a,at.p=g}}(xs&3)!==0&&Eh(),Bi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Km?rc++:(rc=0,Km=s):rc=0,ac(0)}}function x0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ul(a)))}function Eh(){return v0(),b0(),T0(),E0()}function E0(){if(je!==5)return!1;var s=ur,a=Gm;Gm=0;var l=rs(xs),u=X.T,g=at.p;try{at.p=32>l?32:l,X.T=null,l=Ym,Ym=null;var p=ur,T=xs;if(je=0,Co=ur=null,xs=0,(Xt&6)!==0)throw Error(i(331));var w=Xt;if(Xt|=4,s0(p.current),e0(p,p.current,T,l),Xt=w,ac(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ni,p)}catch{}return!0}finally{at.p=g,X.T=u,x0(s,a)}}function w0(s,a,l){a=Bn(l,a),a=Sm(s.stateNode,a,2),s=ir(s,a,2),s!==null&&(Gr(s,2),Bi(s))}function Jt(s,a,l){if(s.tag===3)w0(s,s,l);else for(;a!==null;){if(a.tag===3){w0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cr===null||!cr.has(u))){s=Bn(l,s),l=Sv(2),u=ir(a,l,2),u!==null&&(Av(l,u,a,s),Gr(u,2),Bi(u));break}}a=a.return}}function Qm(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new vA;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(Fm=!0,g.add(l),s=wA.bind(null,s,a,l),a.then(s,s))}function wA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Pt&l)===l&&(_e===4||_e===3&&(Pt&62914560)===Pt&&300>dn()-_h?(Xt&2)===0&&Io(s,0):Hm|=l,Ro===Pt&&(Ro=0)),Bi(s)}function S0(s,a){a===0&&(a=vu()),s=ra(s,a),s!==null&&(Gr(s,a),Bi(s))}function SA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),S0(s,l)}function AA(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),S0(s,l)}function RA(s,a){return Le(s,a)}var wh=null,Do=null,Wm=!1,Sh=!1,Zm=!1,fr=0;function Bi(s){s!==Do&&s.next===null&&(Do===null?wh=Do=s:Do=Do.next=s),Sh=!0,Wm||(Wm=!0,IA())}function ac(s,a){if(!Zm&&Sh){Zm=!0;do for(var l=!1,u=wh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var T=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-ve(42|s)+1)-1,p&=g&~(T&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,I0(u,p))}else p=Pt,p=Ei(u,u===ae?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ii(u,p)||(l=!0,I0(u,p));u=u.next}while(l);Zm=!1}}function CA(){A0()}function A0(){Sh=Wm=!1;var s=0;fr!==0&&zA()&&(s=fr);for(var a=dn(),l=null,u=wh;u!==null;){var g=u.next,p=R0(u,a);p===0?(u.next=null,l===null?wh=g:l.next=g,g===null&&(Do=l)):(l=u,(s!==0||(p&3)!==0)&&(Sh=!0)),u=g}je!==0&&je!==5||ac(s),fr!==0&&(fr=0)}function R0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var T=31-ve(p),w=1<<T,P=g[T];P===-1?((w&l)===0||(w&u)!==0)&&(g[T]=Rd(w,a)):P<=a&&(s.expiredLanes|=w),p&=~w}if(a=ae,l=Pt,l=Ei(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Us(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ii(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Us(u),rs(l)){case 2:case 8:l=pl;break;case 32:l=Bs;break;case 268435456:l=mu;break;default:l=Bs}return u=C0.bind(null,s),l=Le(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Us(u),s.callbackPriority=2,s.callbackNode=null,2}function C0(s,a){if(je!==0&&je!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Eh()&&s.callbackNode!==l)return null;var u=Pt;return u=Ei(s,s===ae?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(c0(s,u,a),R0(s,dn()),s.callbackNode!=null&&s.callbackNode===l?C0.bind(null,s):null)}function I0(s,a){if(Eh())return null;c0(s,a,!0)}function IA(){BA(function(){(Xt&6)!==0?Le(gl,CA):A0()})}function Jm(){if(fr===0){var s=po;s===0&&(s=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),fr=s}return fr}function M0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:to(""+s)}function D0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function MA(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=M0((g[qe]||null).action),T=u.submitter;T&&(a=(a=T[qe]||null)?M0(a.formAction):T.getAttribute("formAction"),a!==null&&(p=a,T=null));var w=new ki("action","action",null,u,g);s.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fr!==0){var P=T?D0(g,T):new FormData(g);vm(l,{pending:!0,data:P,method:g.method,action:p},null,P)}}else typeof p=="function"&&(w.preventDefault(),P=T?D0(g,T):new FormData(g),vm(l,{pending:!0,data:P,method:g.method,action:p},p,P))},currentTarget:g}]})}}for(var tg=0;tg<Pd.length;tg++){var eg=Pd[tg],DA=eg.toLowerCase(),NA=eg[0].toUpperCase()+eg.slice(1);hi(DA,"on"+NA)}hi(ly,"onAnimationEnd"),hi(cy,"onAnimationIteration"),hi(uy,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(X1,"onTransitionRun"),hi($1,"onTransitionStart"),hi(Q1,"onTransitionCancel"),hi(hy,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oc));function N0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var T=u.length-1;0<=T;T--){var w=u[T],P=w.instance,G=w.currentTarget;if(w=w.listener,P!==p&&g.isPropagationStopped())break t;p=w,g.currentTarget=G;try{p(g)}catch(J){Uu(J)}g.currentTarget=null,p=P}else for(T=0;T<u.length;T++){if(w=u[T],P=w.instance,G=w.currentTarget,w=w.listener,P!==p&&g.isPropagationStopped())break t;p=w,g.currentTarget=G;try{p(g)}catch(J){Uu(J)}g.currentTarget=null,p=P}}}}function kt(s,a){var l=a[$a];l===void 0&&(l=a[$a]=new Set);var u=s+"__bubble";l.has(u)||(O0(a,s,2,!1),l.add(u))}function ng(s,a,l){var u=0;a&&(u|=4),O0(l,s,u,a)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function ig(s){if(!s[Ah]){s[Ah]=!0,vl.forEach(function(l){l!=="selectionchange"&&(OA.has(l)||ng(l,!1,s),ng(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ah]||(a[Ah]=!0,ng("selectionchange",!1,a))}}function O0(s,a,l,u){switch(lb(a)){case 2:var g=oR;break;case 8:g=lR;break;default:g=yg}l=g.bind(null,a,l,s),g=void 0,!Wr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function sg(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===g)break;if(T===4)for(T=u.return;T!==null;){var P=T.tag;if((P===3||P===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;w!==null;){if(T=Ri(w),T===null)return;if(P=T.tag,P===5||P===6||P===26||P===27){u=p=T;continue t}w=w.parentNode}}u=u.return}Ks(function(){var G=p,J=Ln(l),it=[];t:{var K=fy.get(s);if(K!==void 0){var W=ki,ft=s;switch(s){case"keypress":if(Jr(l)===0)break t;case"keydown":case"keyup":W=Lu;break;case"focusin":ft="focus",W=ea;break;case"focusout":ft="blur",W=ea;break;case"beforeblur":case"afterblur":W=ea;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case ly:case cy:case uy:W=Mu;break;case hy:W=A;break;case"scroll":case"scrollend":W=Dl;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ls;break;case"toggle":case"beforetoggle":W=Ct}var vt=(a&4)!==0,re=!vt&&(s==="scroll"||s==="scrollend"),B=vt?K!==null?K+"Capture":null:K;vt=[];for(var U=G,q;U!==null;){var nt=U;if(q=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||q===null||B===null||(nt=oi(U,B),nt!=null&&vt.push(lc(U,nt,q))),re)break;U=U.return}0<vt.length&&(K=new W(K,ft,null,l,J),it.push({event:K,listeners:vt}))}}if((a&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==Cl&&(ft=l.relatedTarget||l.fromElement)&&(Ri(ft)||ft[Si]))break t;if((W||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,W?(ft=l.relatedTarget||l.toElement,W=G,ft=ft?Ri(ft):null,ft!==null&&(re=o(ft),vt=ft.tag,ft!==re||vt!==5&&vt!==27&&vt!==6)&&(ft=null)):(W=null,ft=G),W!==ft)){if(vt=Nl,nt="onMouseLeave",B="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(vt=ls,nt="onPointerLeave",B="onPointerEnter",U="pointer"),re=W==null?K:An(W),q=ft==null?K:An(ft),K=new vt(nt,U+"leave",W,l,J),K.target=re,K.relatedTarget=q,nt=null,Ri(J)===G&&(vt=new vt(B,U+"enter",ft,l,J),vt.target=q,vt.relatedTarget=re,nt=vt),re=nt,W&&ft)e:{for(vt=kA,B=W,U=ft,q=0,nt=B;nt;nt=vt(nt))q++;nt=0;for(var pt=U;pt;pt=vt(pt))nt++;for(;0<q-nt;)B=vt(B),q--;for(;0<nt-q;)U=vt(U),nt--;for(;q--;){if(B===U||U!==null&&B===U.alternate){vt=B;break e}B=vt(B),U=vt(U)}vt=null}else vt=null;W!==null&&k0(it,K,W,vt,!1),ft!==null&&re!==null&&k0(it,re,ft,vt,!0)}}t:{if(K=G?An(G):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Gt=W_;else if($_(K))if(Z_)Gt=G1;else{Gt=H1;var dt=F1}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ja(G.elementType)&&(Gt=W_):Gt=q1;if(Gt&&(Gt=Gt(s,G))){Q_(it,Gt,l,J);break t}dt&&dt(s,K,G),s==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Sl(K,"number",K.value)}switch(dt=G?An(G):window,s){case"focusin":($_(dt)||dt.contentEditable==="true")&&(oo=dt,Od=G,Ll=null);break;case"focusout":Ll=Od=oo=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,ay(it,l,J);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":ay(it,l,J)}var Mt;if(Kt)t:{switch(s){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ao?na(s,l)&&(Lt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(Li&&l.locale!=="ko"&&(ao||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ao&&(Mt=Ml()):(Oi=J,Il="value"in Oi?Oi.value:Oi.textContent,ao=!0)),dt=Rh(G,Lt),0<dt.length&&(Lt=new Pi(Lt,s,null,l,J),it.push({event:Lt,listeners:dt}),Mt?Lt.data=Mt:(Mt=ro(l),Mt!==null&&(Lt.data=Mt)))),(Mt=zn?j1(s,l):z1(s,l))&&(Lt=Rh(G,"onBeforeInput"),0<Lt.length&&(dt=new Pi("onBeforeInput","beforeinput",null,l,J),it.push({event:dt,listeners:Lt}),dt.data=Mt)),MA(it,s,G,l,J)}N0(it,a)})}function lc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Rh(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=oi(s,l),g!=null&&u.unshift(lc(s,g,p)),g=oi(s,a),g!=null&&u.push(lc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function kA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function k0(s,a,l,u,g){for(var p=a._reactName,T=[];l!==null&&l!==u;){var w=l,P=w.alternate,G=w.stateNode;if(w=w.tag,P!==null&&P===u)break;w!==5&&w!==26&&w!==27||G===null||(P=G,g?(G=oi(l,p),G!=null&&T.unshift(lc(l,G,P))):g||(G=oi(l,p),G!=null&&T.push(lc(l,G,P)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var VA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function V0(s){return(typeof s=="string"?s:""+s).replace(VA,`
`).replace(PA,"")}function P0(s,a){return a=V0(a),V0(s)===a}function se(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||_n(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&_n(s,""+u);break;case"className":Rn(s,"class",u);break;case"tabIndex":Rn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(s,l,u);break;case"style":Rl(s,u,p);break;case"data":if(a!=="object"){Rn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=to(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&se(s,a,"name",g.name,g,null),se(s,a,"formEncType",g.formEncType,g,null),se(s,a,"formMethod",g.formMethod,g,null),se(s,a,"formTarget",g.formTarget,g,null)):(se(s,a,"encType",g.encType,g,null),se(s,a,"method",g.method,g,null),se(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=to(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=ai);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=to(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":kt("beforetoggle",s),kt("toggle",s),Wa(s,"popover",u);break;case"xlinkActuate":Ie(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ru.get(l)||l,Wa(s,l,u))}}function rg(s,a,l,u,g,p){switch(l){case"style":Rl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?_n(s,u):(typeof u=="number"||typeof u=="bigint")&&_n(s,""+u);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[qe]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Wa(s,l,u)}}}function Je(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,p,T,l,null)}}g&&se(s,a,"srcSet",l.srcSet,l,null),u&&se(s,a,"src",l.src,l,null);return;case"input":kt("invalid",s);var w=p=T=g=null,P=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":g=J;break;case"type":T=J;break;case"checked":P=J;break;case"defaultChecked":G=J;break;case"value":p=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:se(s,a,u,J,l,null)}}wu(s,p,w,P,G,T,g,!1);return;case"select":kt("invalid",s),u=T=p=null;for(g in l)if(l.hasOwnProperty(g)&&(w=l[g],w!=null))switch(g){case"value":p=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:se(s,a,g,w,l,null)}a=p,l=T,s.multiple=!!u,a!=null?Hs(s,!!u,a,!1):l!=null&&Hs(s,!!u,l,!0);return;case"textarea":kt("invalid",s),p=g=u=null;for(T in l)if(l.hasOwnProperty(T)&&(w=l[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":g=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:se(s,a,T,w,l,null)}qs(s,u,g,p);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(u=l[P],u!=null))switch(P){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:se(s,a,P,u,l,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(u=0;u<oc.length;u++)kt(oc[u],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,G,u,l,null)}return;default:if(Ja(a)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&rg(s,a,J,u,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(u=l[w],u!=null&&se(s,a,w,u,l,null))}function LA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,T=null,w=null,P=null,G=null,J=null;for(W in l){var it=l[W];if(l.hasOwnProperty(W)&&it!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=it;default:u.hasOwnProperty(W)||se(s,a,W,null,u,it)}}for(var K in u){var W=u[K];if(it=l[K],u.hasOwnProperty(K)&&(W!=null||it!=null))switch(K){case"type":p=W;break;case"name":g=W;break;case"checked":G=W;break;case"defaultChecked":J=W;break;case"value":T=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==it&&se(s,a,K,W,u,it)}}Za(s,T,w,P,G,J,p,g);return;case"select":W=T=w=K=null;for(p in l)if(P=l[p],l.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":W=P;default:u.hasOwnProperty(p)||se(s,a,p,null,u,P)}for(g in u)if(p=u[g],P=l[g],u.hasOwnProperty(g)&&(p!=null||P!=null))switch(g){case"value":K=p;break;case"defaultValue":w=p;break;case"multiple":T=p;default:p!==P&&se(s,a,g,p,u,P)}a=w,l=T,u=W,K!=null?Hs(s,!!l,K,!1):!!u!=!!l&&(a!=null?Hs(s,!!l,a,!0):Hs(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(w in l)if(g=l[w],l.hasOwnProperty(w)&&g!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:se(s,a,w,null,u,g)}for(T in u)if(g=u[T],p=l[T],u.hasOwnProperty(T)&&(g!=null||p!=null))switch(T){case"value":K=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&se(s,a,T,g,u,p)}Su(s,K,W);return;case"option":for(var ft in l)if(K=l[ft],l.hasOwnProperty(ft)&&K!=null&&!u.hasOwnProperty(ft))switch(ft){case"selected":s.selected=!1;break;default:se(s,a,ft,null,u,K)}for(P in u)if(K=u[P],W=l[P],u.hasOwnProperty(P)&&K!==W&&(K!=null||W!=null))switch(P){case"selected":s.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:se(s,a,P,K,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)K=l[vt],l.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&se(s,a,vt,null,u,K);for(G in u)if(K=u[G],W=l[G],u.hasOwnProperty(G)&&K!==W&&(K!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:se(s,a,G,K,u,W)}return;default:if(Ja(a)){for(var re in l)K=l[re],l.hasOwnProperty(re)&&K!==void 0&&!u.hasOwnProperty(re)&&rg(s,a,re,void 0,u,K);for(J in u)K=u[J],W=l[J],!u.hasOwnProperty(J)||K===W||K===void 0&&W===void 0||rg(s,a,J,K,u,W);return}}for(var B in l)K=l[B],l.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&se(s,a,B,null,u,K);for(it in u)K=u[it],W=l[it],!u.hasOwnProperty(it)||K===W||K==null&&W==null||se(s,a,it,K,u,W)}function L0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jA(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,T=g.initiatorType,w=g.duration;if(p&&w&&L0(T)){for(T=0,w=g.responseEnd,u+=1;u<l.length;u++){var P=l[u],G=P.startTime;if(G>w)break;var J=P.transferSize,it=P.initiatorType;J&&L0(it)&&(P=P.responseEnd,T+=J*(P<w?1:(w-G)/(P-G)))}if(--u,a+=8*(p+T)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ag=null,og=null;function Ch(s){return s.nodeType===9?s:s.ownerDocument}function j0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function lg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cg=null;function zA(){var s=window.event;return s&&s.type==="popstate"?s===cg?!1:(cg=s,!0):(cg=null,!1)}var U0=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(s){return B0.resolve(null).then(s).catch(FA)}:U0;function FA(s){setTimeout(function(){throw s})}function dr(s){return s==="head"}function F0(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),Vo(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")cc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,cc(l);for(var p=l.firstChild;p;){var T=p.nextSibling,w=p.nodeName;p[Ai]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=T}}else l==="body"&&cc(s.ownerDocument.body);l=g}while(l);Vo(a)}function H0(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function ug(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ug(l),Qa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function HA(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ai])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Yn(s.nextSibling),s===null)break}return null}function qA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Yn(s.nextSibling),s===null))return null;return s}function q0(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Yn(s.nextSibling),s===null))return null;return s}function hg(s){return s.data==="$?"||s.data==="$~"}function fg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function GA(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Yn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var dg=null;function G0(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Yn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function Y0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function K0(s,a,l){switch(a=Ch(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function cc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Qa(s)}var Kn=new Map,X0=new Set;function Ih(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Es=at.d;at.d={f:YA,r:KA,D:XA,C:$A,L:QA,m:WA,X:JA,S:ZA,M:tR};function YA(){var s=Es.f(),a=bh();return s||a}function KA(s){var a=Pn(s);a!==null&&a.tag===5&&a.type==="form"?hv(a):Es.r(s)}var No=typeof document>"u"?null:document;function $0(s,a,l){var u=No;if(u&&typeof a=="string"&&a){var g=pn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),X0.has(g)||(X0.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Je(a,"link",s),Ce(a),u.head.appendChild(a)))}}function XA(s){Es.D(s),$0("dns-prefetch",s,null)}function $A(s,a){Es.C(s,a),$0("preconnect",s,a)}function QA(s,a,l){Es.L(s,a,l);var u=No;if(u&&s&&a){var g='link[rel="preload"][as="'+pn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+pn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+pn(l.imageSizes)+'"]')):g+='[href="'+pn(s)+'"]';var p=g;switch(a){case"style":p=Oo(s);break;case"script":p=ko(s)}Kn.has(p)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Kn.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(uc(p))||a==="script"&&u.querySelector(hc(p))||(a=u.createElement("link"),Je(a,"link",s),Ce(a),u.head.appendChild(a)))}}function WA(s,a){Es.m(s,a);var l=No;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ko(s)}if(!Kn.has(p)&&(s=y({rel:"modulepreload",href:s},a),Kn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hc(p)))return}u=l.createElement("link"),Je(u,"link",s),Ce(u),l.head.appendChild(u)}}}function ZA(s,a,l){Es.S(s,a,l);var u=No;if(u&&s){var g=Ci(u).hoistableStyles,p=Oo(s);a=a||"default";var T=g.get(p);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(uc(p)))w.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Kn.get(p))&&mg(s,l);var P=T=u.createElement("link");Ce(P),Je(P,"link",s),P._p=new Promise(function(G,J){P.onload=G,P.onerror=J}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Mh(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:w},g.set(p,T)}}}function JA(s,a){Es.X(s,a);var l=No;if(l&&s){var u=Ci(l).hoistableScripts,g=ko(s),p=u.get(g);p||(p=l.querySelector(hc(g)),p||(s=y({src:s,async:!0},a),(a=Kn.get(g))&&gg(s,a),p=l.createElement("script"),Ce(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function tR(s,a){Es.M(s,a);var l=No;if(l&&s){var u=Ci(l).hoistableScripts,g=ko(s),p=u.get(g);p||(p=l.querySelector(hc(g)),p||(s=y({src:s,async:!0,type:"module"},a),(a=Kn.get(g))&&gg(s,a),p=l.createElement("script"),Ce(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function Q0(s,a,l,u){var g=(g=Tt.current)?Ih(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Oo(l.href),l=Ci(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Oo(l.href);var p=Ci(g).hoistableStyles,T=p.get(s);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,T),(p=g.querySelector(uc(s)))&&!p._p&&(T.instance=p,T.state.loading=5),Kn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kn.set(s,l),p||eR(g,s,l,T.state))),a&&u===null)throw Error(i(528,""));return T}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ko(l),l=Ci(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Oo(s){return'href="'+pn(s)+'"'}function uc(s){return'link[rel="stylesheet"]['+s+"]"}function W0(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function eR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Je(a,"link",l),Ce(a),s.head.appendChild(a))}function ko(s){return'[src="'+pn(s)+'"]'}function hc(s){return"script[async]"+s}function Z0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+pn(l.href)+'"]');if(u)return a.instance=u,Ce(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ce(u),Je(u,"style",g),Mh(u,l.precedence,s),a.instance=u;case"stylesheet":g=Oo(l.href);var p=s.querySelector(uc(g));if(p)return a.state.loading|=4,a.instance=p,Ce(p),p;u=W0(l),(g=Kn.get(g))&&mg(u,g),p=(s.ownerDocument||s).createElement("link"),Ce(p);var T=p;return T._p=new Promise(function(w,P){T.onload=w,T.onerror=P}),Je(p,"link",u),a.state.loading|=4,Mh(p,l.precedence,s),a.instance=p;case"script":return p=ko(l.src),(g=s.querySelector(hc(p)))?(a.instance=g,Ce(g),g):(u=l,(g=Kn.get(p))&&(u=y({},l),gg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ce(g),Je(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Mh(u,l.precedence,s));return a.instance}function Mh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===a)p=w;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function mg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function gg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Dh=null;function J0(s,a,l){if(Dh===null){var u=new Map,g=Dh=new Map;g.set(l,u)}else g=Dh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Ai]||p[Re]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(a)||"";T=s+T;var w=u.get(T);w?w.push(p):u.set(T,[p])}}return u}function tb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function nR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function eb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function iR(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Oo(u.href),p=a.querySelector(uc(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Nh.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ce(p);return}p=a.ownerDocument||a,u=W0(u),(g=Kn.get(g))&&mg(u,g),p=p.createElement("link"),Ce(p);var T=p;T._p=new Promise(function(w,P){T.onload=w,T.onerror=P}),Je(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Nh.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var pg=0;function sR(s,a){return s.stylesheets&&s.count===0&&kh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&kh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&pg===0&&(pg=62500*jA());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&kh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>pg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Oh=null;function kh(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Oh=new Map,a.forEach(rR,s),Oh=null,Nh.call(s))}function rR(s,a){if(!(a.state.loading&4)){var l=Oh.get(s);if(l)var u=l.get(null);else{l=new Map,Oh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var T=g[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}g=a.instance,T=g.getAttribute("data-precedence"),p=l.get(T)||u,p===u&&l.set(null,g),l.set(T,g),this.count++,u=Nh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var fc={$$typeof:$,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function aR(s,a,l,u,g,p,T,w,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function nb(s,a,l,u,g,p,T,w,P,G,J,it){return s=new aR(s,a,l,T,P,G,J,it,w),a=1,p===!0&&(a|=24),p=In(3,null,null,a),s.current=p,p.stateNode=s,a=$d(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Jd(p),s}function ib(s){return s?(s=uo,s):uo}function sb(s,a,l,u,g,p){g=ib(g),u.context===null?u.context=g:u.pendingContext=g,u=nr(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=ir(s,u,a),l!==null&&(xn(l,s,a),ql(l,s,a))}function rb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function _g(s,a){rb(s,a),(s=s.alternate)&&rb(s,a)}function ab(s){if(s.tag===13||s.tag===31){var a=ra(s,67108864);a!==null&&xn(a,s,67108864),_g(s,67108864)}}function ob(s){if(s.tag===13||s.tag===31){var a=kn();a=Kr(a);var l=ra(s,a);l!==null&&xn(l,s,a),_g(s,a)}}var Vh=!0;function oR(s,a,l,u){var g=X.T;X.T=null;var p=at.p;try{at.p=2,yg(s,a,l,u)}finally{at.p=p,X.T=g}}function lR(s,a,l,u){var g=X.T;X.T=null;var p=at.p;try{at.p=8,yg(s,a,l,u)}finally{at.p=p,X.T=g}}function yg(s,a,l,u){if(Vh){var g=vg(u);if(g===null)sg(s,a,u,Ph,l),cb(s,u);else if(uR(g,s,a,l,u))u.stopPropagation();else if(cb(s,u),a&4&&-1<cR.indexOf(s)){for(;g!==null;){var p=Pn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=xi(p.pendingLanes);if(T!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var P=1<<31-ve(T);w.entanglements[1]|=P,T&=~P}Bi(p),(Xt&6)===0&&(yh=dn()+500,ac(0))}}break;case 31:case 13:w=ra(p,2),w!==null&&xn(w,p,2),bh(),_g(p,2)}if(p=vg(u),p===null&&sg(s,a,u,Ph,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else sg(s,a,u,null,l)}}function vg(s){return s=Ln(s),bg(s)}var Ph=null;function bg(s){if(Ph=null,s=Ri(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Ph=s,null}function lb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case gl:return 2;case pl:return 8;case Bs:case Ad:return 32;case mu:return 268435456;default:return 32}default:return 32}}var Tg=!1,mr=null,gr=null,pr=null,dc=new Map,mc=new Map,_r=[],cR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cb(s,a){switch(s){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":dc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(a.pointerId)}}function gc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Pn(a),a!==null&&ab(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function uR(s,a,l,u,g){switch(a){case"focusin":return mr=gc(mr,s,a,l,u,g),!0;case"dragenter":return gr=gc(gr,s,a,l,u,g),!0;case"mouseover":return pr=gc(pr,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return dc.set(p,gc(dc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,mc.set(p,gc(mc.get(p)||null,s,a,l,u,g)),!0}return!1}function ub(s){var a=Ri(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,si(s.priority,function(){ob(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,si(s.priority,function(){ob(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=vg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Cl=u,l.target.dispatchEvent(u),Cl=null}else return a=Pn(l),a!==null&&ab(a),s.blockedOn=l,!1;a.shift()}return!0}function hb(s,a,l){Lh(s)&&l.delete(a)}function hR(){Tg=!1,mr!==null&&Lh(mr)&&(mr=null),gr!==null&&Lh(gr)&&(gr=null),pr!==null&&Lh(pr)&&(pr=null),dc.forEach(hb),mc.forEach(hb)}function jh(s,a){s.blockedOn===a&&(s.blockedOn=null,Tg||(Tg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hR)))}var zh=null;function fb(s){zh!==s&&(zh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zh===s&&(zh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(bg(u||l)===null)continue;break}var p=Pn(l);p!==null&&(s.splice(a,3),a-=3,vm(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Vo(s){function a(P){return jh(P,s)}mr!==null&&jh(mr,s),gr!==null&&jh(gr,s),pr!==null&&jh(pr,s),dc.forEach(a),mc.forEach(a);for(var l=0;l<_r.length;l++){var u=_r[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<_r.length&&(l=_r[0],l.blockedOn===null);)ub(l),l.blockedOn===null&&_r.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],T=g[qe]||null;if(typeof p=="function")T||fb(l);else if(T){var w=null;if(p&&p.hasAttribute("formAction")){if(g=p,T=p[qe]||null)w=T.formAction;else if(bg(g)!==null)continue}else w=T.action;typeof w=="function"?l[u+1]=w:(l.splice(u,3),u-=3),fb(l)}}}function db(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return g=T})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function xg(s){this._internalRoot=s}Uh.prototype.render=xg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=kn();sb(l,u,s,a,null,null)},Uh.prototype.unmount=xg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;sb(s.current,2,null,s,null,null),bh(),a[Si]=null}};function Uh(s){this._internalRoot=s}Uh.prototype.unstable_scheduleHydration=function(s){if(s){var a=bu();s={blockedOn:null,target:s,priority:a};for(var l=0;l<_r.length&&a!==0&&a<_r[l].priority;l++);_r.splice(l,0,s),l===0&&ub(s)}};var mb=t.version;if(mb!=="19.2.0")throw Error(i(527,mb,"19.2.0"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var fR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{ni=Bh.inject(fR),Xe=Bh}catch{}}return _c.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=Tv,p=xv,T=Ev;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=nb(s,1,!1,null,null,l,u,null,g,p,T,db),s[Si]=a.current,ig(s),new xg(a)},_c.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=Tv,T=xv,w=Ev,P=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),a=nb(s,1,!0,a,l??null,u,g,P,p,T,w,db),a.context=ib(null),l=a.current,u=kn(),u=Kr(u),g=nr(u),g.callback=null,ir(l,g,u),l=u,a.current.lanes=l,Gr(a,l),Bi(a),s[Si]=a.current,ig(s),new Uh(a)},_c.version="19.2.0",_c}var wb;function ER(){if(wb)return Sg.exports;wb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Sg.exports=xR(),Sg.exports}var wR=ER();function _E({isDark:n,setIsDark:t}){return D.jsx("div",{className:`flex flex-row items-center justify-center
        `,title:"Switch Theme",onClick:()=>t(e=>!e),children:D.jsx("i",{className:n?"bx bx-sun bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--light-color)] hovered":"bx bx-moon bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--dark-color)] hovered"})})}const Np="/DriveSense/assets/dark-icon-B2t9_VsN.png",Ef="/DriveSense/assets/light-icon-CCshSbAW.png";function sn(n=768){const[t,e]=gt.useState(typeof window<"u"?window.innerWidth<n:!1);return gt.useEffect(()=>{const i=()=>{e(window.innerWidth<n)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),t}const SR=()=>{};var Sb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},AR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,m=f?n[r+2]:0,_=o>>2,y=(o&3)<<4|h>>4;let b=(h&15)<<2|m>>6,E=m&63;f||(E=64,c||(b=64)),i.push(e[_],e[y],e[b],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(yE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):AR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||y==null)throw new RR;const b=o<<2|h>>4;if(i.push(b),m!==64){const E=h<<4&240|m>>2;if(i.push(E),y!==64){const C=m<<6&192|y;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CR=function(n){const t=yE(n);return vE.encodeByteArray(t,!0)},wf=function(n){return CR(n).replace(/\./g,"")},bE=function(n){try{return vE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=()=>IR().__FIREBASE_DEFAULTS__,DR=()=>{if(typeof process>"u"||typeof Sb>"u")return;const n=Sb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&bE(n[1]);return t&&JSON.parse(t)},Jf=()=>{try{return SR()||MR()||DR()||NR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TE=n=>Jf()?.emulatorHosts?.[n],xE=n=>{const t=TE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},EE=()=>Jf()?.config,wE=n=>Jf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Op(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wf(JSON.stringify(e)),wf(JSON.stringify(c)),""].join(".")}const Mc={};function kR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Mc))Mc[t]?n.emulator.push(t):n.prod.push(t);return n}function VR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Ab=!1;function kp(n,t){if(typeof window>"u"||typeof document>"u"||!La(window.location.host)||Mc[n]===t||Mc[n]||Ab)return;Mc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=kR().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Ab=!0,c()},b}function _(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=VR(i),E=e("text"),C=document.getElementById(E)||document.createElement("span"),M=e("learnmore"),N=document.getElementById(M)||document.createElement("a"),L=e("preprendIcon"),F=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const $=b.element;h($),_(N,M);const Z=m();f(F,L),$.append(F,C,N,Z),document.body.appendChild($)}o?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function LR(){const n=Jf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FR(){return!LR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HR(){try{return typeof indexedDB=="object"}catch{return!1}}function qR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="FirebaseError";class is extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=GR,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?YR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new is(r,h,i)}}function YR(n,t){return n.replace(KR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const KR=/\{\$([^}]+)}/g;function XR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ma(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(Rb(o)&&Rb(c)){if(!Ma(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Rb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function $R(n,t){const e=new QR(n,t);return e.subscribe.bind(e)}class QR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");WR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Ig),r.error===void 0&&(r.error=Ig),r.complete===void 0&&(r.complete=Ig);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(n){return n&&n._delegate?n._delegate:n}class Or{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new OR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tC(t))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ta){return this.instances.has(t)}getOptions(t=Ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ta){return this.component?this.component.multipleInstances?t:Ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(n){return n===Ta?void 0:n}function tC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ZR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const nC={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},iC=jt.INFO,sC={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},rC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=sC[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vp{constructor(t){this.name=t,this._logLevel=iC,this._logHandler=rC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const aC=(n,t)=>t.some(e=>n instanceof e);let Cb,Ib;function oC(){return Cb||(Cb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lC(){return Ib||(Ib=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,tp=new WeakMap,RE=new WeakMap,Mg=new WeakMap,Pp=new WeakMap;function cC(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Cr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&AE.set(e,n)}).catch(()=>{}),Pp.set(t,n),t}function uC(n){if(tp.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});tp.set(n,t)}let ep={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return tp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||RE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Cr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function hC(n){ep=n(ep)}function fC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Dg(this),t,...e);return RE.set(i,t.sort?t.sort():[t]),Cr(i)}:lC().includes(n)?function(...t){return n.apply(Dg(this),t),Cr(AE.get(this))}:function(...t){return Cr(n.apply(Dg(this),t))}}function dC(n){return typeof n=="function"?fC(n):(n instanceof IDBTransaction&&uC(n),aC(n,oC())?new Proxy(n,ep):n)}function Cr(n){if(n instanceof IDBRequest)return cC(n);if(Mg.has(n))return Mg.get(n);const t=dC(n);return t!==n&&(Mg.set(n,t),Pp.set(t,n)),t}const Dg=n=>Pp.get(n);function mC(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Cr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Cr(c.result),f.oldVersion,f.newVersion,Cr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const gC=["get","getKey","getAll","getAllKeys","count"],pC=["put","add","delete","clear"],Ng=new Map;function Mb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ng.get(t))return Ng.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=pC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||gC.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&f.done]))[0]};return Ng.set(t,o),o}hC(n=>({...n,get:(t,e,i)=>Mb(t,e)||n.get(t,e,i),has:(t,e)=>!!Mb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(yC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function yC(n){return n.getComponent()?.type==="VERSION"}const np="@firebase/app",Db="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Vp("@firebase/app"),vC="@firebase/app-compat",bC="@firebase/analytics-compat",TC="@firebase/analytics",xC="@firebase/app-check-compat",EC="@firebase/app-check",wC="@firebase/auth",SC="@firebase/auth-compat",AC="@firebase/database",RC="@firebase/data-connect",CC="@firebase/database-compat",IC="@firebase/functions",MC="@firebase/functions-compat",DC="@firebase/installations",NC="@firebase/installations-compat",OC="@firebase/messaging",kC="@firebase/messaging-compat",VC="@firebase/performance",PC="@firebase/performance-compat",LC="@firebase/remote-config",jC="@firebase/remote-config-compat",zC="@firebase/storage",UC="@firebase/storage-compat",BC="@firebase/firestore",FC="@firebase/ai",HC="@firebase/firestore-compat",qC="firebase",GC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",YC={[np]:"fire-core",[vC]:"fire-core-compat",[TC]:"fire-analytics",[bC]:"fire-analytics-compat",[EC]:"fire-app-check",[xC]:"fire-app-check-compat",[wC]:"fire-auth",[SC]:"fire-auth-compat",[AC]:"fire-rtdb",[RC]:"fire-data-connect",[CC]:"fire-rtdb-compat",[IC]:"fire-fn",[MC]:"fire-fn-compat",[DC]:"fire-iid",[NC]:"fire-iid-compat",[OC]:"fire-fcm",[kC]:"fire-fcm-compat",[VC]:"fire-perf",[PC]:"fire-perf-compat",[LC]:"fire-rc",[jC]:"fire-rc-compat",[zC]:"fire-gcs",[UC]:"fire-gcs-compat",[BC]:"fire-fst",[HC]:"fire-fst-compat",[FC]:"fire-vertex","fire-js":"fire-js",[qC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,KC=new Map,sp=new Map;function Nb(n,t){try{n.container.addComponent(t)}catch(e){Os.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Da(n){const t=n.name;if(sp.has(t))return Os.debug(`There were multiple attempts to register component ${t}.`),!1;sp.set(t,n);for(const e of Sf.values())Nb(e,n);for(const e of KC.values())Nb(e,n);return!0}function td(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function $n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new nu("app","Firebase",XC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=GC;function CE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:ip,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Ir.create("bad-app-name",{appName:String(r)});if(e||(e=EE()),!e)throw Ir.create("no-options");const o=Sf.get(r);if(o){if(Ma(e,o.options)&&Ma(i,o.config))return o;throw Ir.create("duplicate-app",{appName:r})}const c=new eC(r);for(const f of sp.values())c.addComponent(f);const h=new $C(e,i,c);return Sf.set(r,h),h}function Lp(n=ip){const t=Sf.get(n);if(!t&&n===ip&&EE())return CE();if(!t)throw Ir.create("no-app",{appName:n});return t}function Yi(n,t,e){let i=YC[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Os.warn(c.join(" "));return}Da(new Or(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="firebase-heartbeat-database",WC=1,Uc="firebase-heartbeat-store";let Og=null;function IE(){return Og||(Og=mC(QC,WC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Uc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ir.create("idb-open",{originalErrorMessage:n.message})})),Og}async function ZC(n){try{const e=(await IE()).transaction(Uc),i=await e.objectStore(Uc).get(ME(n));return await e.done,i}catch(t){if(t instanceof is)Os.warn(t.message);else{const e=Ir.create("idb-get",{originalErrorMessage:t?.message});Os.warn(e.message)}}}async function Ob(n,t){try{const i=(await IE()).transaction(Uc,"readwrite");await i.objectStore(Uc).put(t,ME(n)),await i.done}catch(e){if(e instanceof is)Os.warn(e.message);else{const i=Ir.create("idb-set",{originalErrorMessage:e?.message});Os.warn(i.message)}}}function ME(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=1024,t2=30;class e2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new i2(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>t2){const r=s2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kb(),{heartbeatsToSend:e,unsentEntries:i}=n2(this._heartbeatsCache.heartbeats),r=wf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Os.warn(t),""}}}function kb(){return new Date().toISOString().substring(0,10)}function n2(n,t=JC){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Vb(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Vb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class i2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HR()?qR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await ZC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ob(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ob(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Vb(n){return wf(JSON.stringify({version:2,heartbeats:n})).length}function s2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n){Da(new Or("platform-logger",t=>new _C(t),"PRIVATE")),Da(new Or("heartbeat",t=>new e2(t),"PRIVATE")),Yi(np,Db,n),Yi(np,Db,"esm2020"),Yi("fire-js","")}r2("");var a2="firebase",o2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(a2,o2,"app");function DE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l2=DE,NE=new nu("auth","Firebase",DE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Vp("@firebase/auth");function c2(n,...t){Af.logLevel<=jt.WARN&&Af.warn(`Auth (${ja}): ${n}`,...t)}function hf(n,...t){Af.logLevel<=jt.ERROR&&Af.error(`Auth (${ja}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n,...t){throw zp(n,...t)}function yi(n,...t){return zp(n,...t)}function jp(n,t,e){const i={...l2(),[t]:e};return new nu("auth","Firebase",i).create(t,{appName:n.name})}function Ra(n){return jp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u2(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Ji(n,"argument-error"),jp(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return NE.create(n,...t)}function wt(n,t,...e){if(!n)throw zp(t,...e)}function Is(n){const t="INTERNAL ASSERTION FAILED: "+n;throw hf(t),new Error(t)}function ks(n,t){n||Is(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){return typeof self<"u"&&self.location?.href||""}function h2(){return Pb()==="http:"||Pb()==="https:"}function Pb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||zR()||"connection"in navigator)?navigator.onLine:!0}function d2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,e){this.shortDelay=t,this.longDelay=e,ks(e>t,"Short delay should be less than long delay!"),this.isMobile=PR()||UR()}get(){return f2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n,t){ks(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p2=new su(3e4,6e4);function Bp(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function sl(n,t,e,i,r={}){return kE(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=iu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return jR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&La(n.emulatorConfig.host)&&(m.credentials="include"),OE.fetch()(await VE(n,n.config.apiHost,e,h),m)})}async function kE(n,t,e){n._canInitEmulator=!1;const i={...m2,...t};try{const r=new y2(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Fh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Fh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Fh(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw jp(n,_,m);Ji(n,_)}}catch(r){if(r instanceof is)throw r;Ji(n,"network-request-failed",{message:String(r)})}}async function _2(n,t,e,i,r={}){const o=await sl(n,t,e,i,r);return"mfaPendingCredential"in o&&Ji(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function VE(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Up(n.config,r):`${n.config.apiScheme}://${r}`;return g2.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(yi(this.auth,"network-request-failed")),p2.get())})}}function Fh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=yi(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(n,t){return sl(n,"POST","/v1/accounts:delete",t)}async function Rf(n,t){return sl(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function b2(n,t=!1){const e=Jn(n),i=await e.getIdToken(t),r=Fp(i);wt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Dc(kg(r.auth_time)),issuedAtTime:Dc(kg(r.iat)),expirationTime:Dc(kg(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function kg(n){return Number(n)*1e3}function Fp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const r=bE(e);return r?JSON.parse(r):(hf("Failed to decode base64 JWT payload"),null)}catch(r){return hf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Lb(n){const t=Fp(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof is&&T2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function T2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(n){const t=n.auth,e=await n.getIdToken(),i=await Bc(n,Rf(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?PE(r.providerUserInfo):[],c=w2(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,m=h?f:!1,_={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new ap(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function E2(n){const t=Jn(n);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function w2(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function PE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(n,t){const e=await kE(n,{},async()=>{const i=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await VE(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&La(n.emulatorConfig.host)&&(f.credentials="include"),OE.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function A2(n,t){return sl(n,"POST","/v2/accounts:revokeToken",Bp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Lb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=Lb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await S2(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Fo;return i&&(wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(wt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(wt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new x2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ap(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Bc(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return b2(this,t)}reload(){return E2(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Cf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Ra(this.auth));const t=await this.getIdToken();return await Bc(this,v2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:E,providerData:C,stsTokenManager:M}=e;wt(y&&M,t,"internal-error");const N=Fo.fromJSON(this.name,M);wt(typeof y=="string",t,"internal-error"),vr(i,t.name),vr(r,t.name),wt(typeof b=="boolean",t,"internal-error"),wt(typeof E=="boolean",t,"internal-error"),vr(o,t.name),vr(c,t.name),vr(h,t.name),vr(f,t.name),vr(m,t.name),vr(_,t.name);const L=new gi({uid:y,auth:t,email:r,emailVerified:b,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:m,lastLoginAt:_});return C&&Array.isArray(C)&&(L.providerData=C.map(F=>({...F}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(t,e,i=!1){const r=new Fo;r.updateFromServerResponse(e);const o=new gi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Cf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];wt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?PE(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Fo;h.updateFromIdToken(i);const f=new gi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ap(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;function Ms(n){ks(n instanceof Function,"Expected a class definition");let t=jb.get(n);return t?(ks(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,jb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}LE.type="NONE";const zb=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n,t,e){return`firebase:${n}:${t}:${e}`}class Ho{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=ff(this.userKey,r.apiKey,o),this.fullPersistenceKey=ff("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Rf(this.auth,{idToken:t}).catch(()=>{});return e?gi._fromGetAccountInfoResponse(this.auth,e,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Ho(Ms(zb),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Ms(zb);const c=ff(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const _=await m._get(c);if(_){let y;if(typeof _=="string"){const b=await Rf(t,{idToken:_}).catch(()=>{});if(!b)break;y=await gi._fromGetAccountInfoResponse(t,b,_)}else y=gi._fromJSON(t,_);m!==o&&(h=y),o=m;break}}catch{}const f=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ho(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Ho(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HE(t))return"Blackberry";if(qE(t))return"Webos";if(zE(t))return"Safari";if((t.includes("chrome/")||UE(t))&&!t.includes("edge/"))return"Chrome";if(FE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function jE(n=fn()){return/firefox\//i.test(n)}function zE(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UE(n=fn()){return/crios\//i.test(n)}function BE(n=fn()){return/iemobile/i.test(n)}function FE(n=fn()){return/android/i.test(n)}function HE(n=fn()){return/blackberry/i.test(n)}function qE(n=fn()){return/webos/i.test(n)}function Hp(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function R2(n=fn()){return Hp(n)&&!!window.navigator?.standalone}function C2(){return BR()&&document.documentMode===10}function GE(n=fn()){return Hp(n)||FE(n)||qE(n)||HE(n)||/windows phone/i.test(n)||BE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n,t=[]){let e;switch(n){case"Browser":e=Ub(fn());break;case"Worker":e=`${Ub(fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ja}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(n,t={}){return sl(n,"GET","/v2/passwordPolicy",Bp(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=6;class N2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??D2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bb(this),this.idTokenSubscription=new Bb(this),this.beforeStateQueue=new I2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ms(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ho.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Rf(this,{idToken:t}),i=await gi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=d2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(Ra(this));const e=t?Jn(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(Ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await M2(this),e=new N2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await A2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ms(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Ms(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&c2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ed(n){return Jn(n)}class Bb{constructor(t){this.auth=t,this.observer=null,this.addObserver=$R(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k2(n){qp=n}function V2(n){return qp.loadJS(n)}function P2(){return qp.gapiScript}function L2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(n,t){const e=td(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Ma(o,t??{}))return r;Ji(r,"already-initialized")}return e.initialize({options:t})}function z2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ms);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function U2(n,t,e){const i=ed(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=KE(t),{host:c,port:h}=B2(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Ma(m,i.config.emulator)&&Ma(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,La(c)?(Op(`${o}//${c}${f}`),kp("Auth",!0)):F2()}function KE(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function B2(n){const t=KE(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Fb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Fb(c)}}}function Fb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function F2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Is("not implemented")}_getIdTokenResponse(t){return Is("not implemented")}_linkToIdToken(t,e){return Is("not implemented")}_getReauthenticationResolver(t){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n,t){return _2(n,"POST","/v1/accounts:signInWithIdp",Bp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="http://localhost";class Na extends XE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ji("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Na(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return qo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,qo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,qo(t,e)}buildRequest(){const t={requestUri:H2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=iu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Gp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends ru{constructor(){super("facebook.com")}static credential(t){return Na._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Na._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Cs.credentialFromTaggedObject(t)}static credentialFromError(t){return Cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Cs.credential(e,i)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends ru{constructor(){super("github.com")}static credential(t){return Na._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends ru{constructor(){super("twitter.com")}static credential(t,e){return Na._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Er.credential(e,i)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await gi._fromIdTokenResponse(t,i,r),c=Hb(i);return new $o({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Hb(i);return new $o({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Hb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends is{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,If.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new If(t,e,i,r)}}function $E(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(n,o,t,i):o})}async function q2(n,t,e=!1){const i=await Bc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return $o._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,t,e=!1){const{auth:i}=n;if($n(i.app))return Promise.reject(Ra(i));const r="reauthenticate";try{const o=await Bc(n,$E(i,r,t,n),e);wt(o.idToken,i,"internal-error");const c=Fp(o.idToken);wt(c,i,"internal-error");const{sub:h}=c;return wt(n.uid===h,i,"user-mismatch"),$o._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ji(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(n,t,e=!1){if($n(n.app))return Promise.reject(Ra(n));const i="signIn",r=await $E(n,i,t),o=await $o._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}function K2(n,t,e,i){return Jn(n).onIdTokenChanged(t,e,i)}function X2(n,t,e){return Jn(n).beforeAuthStateChanged(t,e)}const Mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1e3,Q2=10;class WE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);C2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,Q2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}WE.type="LOCAL";const W2=WE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}ZE.type="SESSION";const JE=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new nd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await Z2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=Yp("",20);r.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(y){const b=y;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function tI(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function eI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nI(){return navigator?.serviceWorker?.controller||null}function iI(){return tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firebaseLocalStorageDb",sI=1,Df="firebaseLocalStorage",nw="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function id(n,t){return n.transaction([Df],t?"readwrite":"readonly").objectStore(Df)}function rI(){const n=indexedDB.deleteDatabase(ew);return new au(n).toPromise()}function op(){const n=indexedDB.open(ew,sI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Df,{keyPath:nw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Df)?t(i):(i.close(),await rI(),t(await op()))})})}async function qb(n,t,e){const i=id(n,!0).put({[nw]:t,value:e});return new au(i).toPromise()}async function aI(n,t){const e=id(n,!1).get(t),i=await new au(e).toPromise();return i===void 0?null:i.value}function Gb(n,t){const e=id(n,!0).delete(t);return new au(e).toPromise()}const oI=800,lI=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>lI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(iI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eI(),!this.activeServiceWorker)return;this.sender=new J2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await op();return await qb(t,Mf,"1"),await Gb(t,Mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>qb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>aI(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Gb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=id(r,!1).getAll();return new au(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const cI=iw;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,t){return t?Ms(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends XE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return qo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return qo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function uI(n){return Y2(n.auth,new Kp(n),n.bypassAuthState)}function hI(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),G2(e,new Kp(n),n.bypassAuthState)}async function fI(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),q2(e,new Kp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uI;case"linkViaPopup":case"linkViaRedirect":return fI;case"reauthViaPopup":case"reauthViaRedirect":return hI;default:Ji(this.auth,"internal-error")}}resolve(t){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new su(2e3,1e4);async function mI(n,t,e){if($n(n.app))return Promise.reject(yi(n,"operation-not-supported-in-this-environment"));const i=ed(n);u2(n,t,Gp);const r=sw(i,e);return new wa(i,"signInViaPopup",t,r).executeNotNull()}class wa extends rw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const t=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dI.get())};t()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="pendingRedirect",df=new Map;class pI extends rw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=df.get(this.auth._key());if(!t){try{const i=await _I(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}df.set(this.auth._key(),t)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _I(n,t){const e=bI(t),i=vI(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function yI(n,t){df.set(n._key(),t)}function vI(n){return Ms(n._redirectPersistence)}function bI(n){return ff(gI,n.config.apiKey,n.name)}async function TI(n,t,e=!1){if($n(n.app))return Promise.reject(Ra(n));const i=ed(n),r=sw(i,t),c=await new pI(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=600*1e3;class EI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!aw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(yi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yb(t))}saveEventToCache(t){this.cachedEventUids.add(Yb(t)),this.lastProcessedEventTime=Date.now()}}function Yb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function aw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function wI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(n,t={}){return sl(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RI=/^https?/;async function CI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await SI(n);for(const e of t)try{if(II(e))return}catch{}Ji(n,"unauthorized-domain")}function II(n){const t=rp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!RI.test(e))return!1;if(AI.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new su(3e4,6e4);function Kb(){const n=Ki().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function DI(n){return new Promise((t,e)=>{function i(){Kb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kb(),e(yi(n,"network-request-failed"))},timeout:MI.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)i();else{const r=L2("iframefcb");return Ki()[r]=()=>{gapi.load?i():e(yi(n,"network-request-failed"))},V2(`${P2()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw mf=null,t})}let mf=null;function NI(n){return mf=mf||DI(n),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new su(5e3,15e3),kI="__/auth/iframe",VI="emulator/auth/iframe",PI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jI(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Up(t,VI):`https://${n.config.authDomain}/${kI}`,i={apiKey:t.apiKey,appName:n.name,v:ja},r=LI.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${iu(i).slice(1)}`}async function zI(n){const t=await NI(n),e=Ki().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:jI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PI,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=yi(n,"network-request-failed"),h=Ki().setTimeout(()=>{o(c)},OI.get());function f(){Ki().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BI=500,FI=600,HI="_blank",qI="http://localhost";class Xb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GI(n,t,e,i=BI,r=FI){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...UI,width:i.toString(),height:r.toString(),top:o,left:c},m=fn().toLowerCase();e&&(h=UE(m)?HI:e),jE(m)&&(t=t||qI,f.scrollbars="yes");const _=Object.entries(f).reduce((b,[E,C])=>`${b}${E}=${C},`,"");if(R2(m)&&h!=="_self")return YI(t||"",h),new Xb(null);const y=window.open(t||"",h,_);wt(y,n,"popup-blocked");try{y.focus()}catch{}return new Xb(y)}function YI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="__/auth/handler",XI="emulator/auth/handler",$I=encodeURIComponent("fac");async function $b(n,t,e,i,r,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:ja,eventId:r};if(t instanceof Gp){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",XR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,y]of Object.entries({}))c[_]=y}if(t instanceof ru){const _=t.getScopes().filter(y=>y!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),m=f?`#${$I}=${encodeURIComponent(f)}`:"";return`${QI(n)}?${iu(h).slice(1)}${m}`}function QI({config:n}){return n.emulator?Up(n,XI):`https://${n.authDomain}/${KI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="webStorageSupport";class WI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JE,this._completeRedirectFn=TI,this._overrideRedirectResult=yI}async _openPopup(t,e,i,r){ks(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await $b(t,e,i,rp(),r);return GI(t,o,Yp())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await $b(t,e,i,rp(),r);return tI(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(ks(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await zI(t),i=new EI(t);return e.register("authEvent",r=>(wt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Vg,{type:Vg},r=>{const o=r?.[0]?.[Vg];o!==void 0&&e(!!o),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=CI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return GE()||zE()||Hp()}}const ZI=WI;var Qb="@firebase/auth",Wb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eM(n){Da(new Or("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(n)},m=new O2(i,r,o,f);return z2(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Da(new Or("auth-internal",t=>{const e=ed(t.getProvider("auth").getImmediate());return(i=>new JI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(Qb,Wb,tM(n)),Yi(Qb,Wb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=300,iM=wE("authIdTokenMaxAge")||nM;let Zb=null;const sM=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>iM)return;const r=e?.token;Zb!==r&&(Zb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function rM(n=Lp()){const t=td(n,"auth");if(t.isInitialized())return t.getImmediate();const e=j2(n,{popupRedirectResolver:ZI,persistence:[cI,W2,JE]}),i=wE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=sM(o.toString());X2(e,c,()=>c(e.currentUser)),K2(e,h=>c(h))}}const r=TE("auth");return r&&U2(e,`http://${r}`),e}function aM(){return document.getElementsByTagName("head")?.[0]??document}k2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=yi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",aM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eM("Browser");var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,ow;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,S){function I(){}I.prototype=S.prototype,R.F=S.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(V,k,j){for(var O=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)O[Dt-2]=arguments[Dt];return S.prototype[k].apply(V,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)V[k]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(k=0;k<16;++k)V[k]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=R.g[0],I=R.g[1],k=R.g[2];let j=R.g[3],O;O=S+(j^I&(k^j))+V[0]+3614090360&4294967295,S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+V[1]+3905402710&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+V[2]+606105819&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+V[3]+3250441966&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(j^I&(k^j))+V[4]+4118548399&4294967295,S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+V[5]+1200080426&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+V[6]+2821735955&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+V[7]+4249261313&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(j^I&(k^j))+V[8]+1770035416&4294967295,S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+V[9]+2336552879&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+V[10]+4294925233&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+V[11]+2304563134&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(j^I&(k^j))+V[12]+1804603682&4294967295,S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+V[13]+4254626195&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+V[14]+2792965006&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+V[15]+1236535329&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(k^j&(I^k))+V[1]+4129170786&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+V[6]+3225465664&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+V[11]+643717713&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+V[0]+3921069994&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^j&(I^k))+V[5]+3593408605&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+V[10]+38016083&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+V[15]+3634488961&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+V[4]+3889429448&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^j&(I^k))+V[9]+568446438&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+V[14]+3275163606&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+V[3]+4107603335&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+V[8]+1163531501&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^j&(I^k))+V[13]+2850285829&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+V[2]+4243563512&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+V[7]+1735328473&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+V[12]+2368359562&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(I^k^j)+V[5]+4294588738&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+V[8]+2272392833&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+V[11]+1839030562&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+V[14]+4259657740&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^j)+V[1]+2763975236&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+V[4]+1272893353&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+V[7]+4139469664&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+V[10]+3200236656&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^j)+V[13]+681279174&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+V[0]+3936430074&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+V[3]+3572445317&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+V[6]+76029189&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^j)+V[9]+3654602809&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+V[12]+3873151461&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+V[15]+530742520&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+V[2]+3299628645&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(k^(I|~j))+V[0]+4096336452&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+V[7]+1126891415&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+V[14]+2878612391&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+V[5]+4237533241&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~j))+V[12]+1700485571&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+V[3]+2399980690&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+V[10]+4293915773&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+V[1]+2240044497&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~j))+V[8]+1873313359&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+V[15]+4264355552&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+V[6]+2734768916&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+V[13]+1309151649&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~j))+V[4]+4149444226&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+V[11]+3174756917&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+V[2]+718787259&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+j&4294967295}i.prototype.v=function(R,S){S===void 0&&(S=R.length);const I=S-this.blockSize,V=this.C;let k=this.h,j=0;for(;j<S;){if(k==0)for(;j<=I;)r(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<S;)if(V[k++]=R.charCodeAt(j++),k==this.blockSize){r(this,V),k=0;break}}else for(;j<S;)if(V[k++]=R[j++],k==this.blockSize){r(this,V),k=0;break}}this.h=k,this.o+=S},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)R[S++]=this.g[I]>>>V&255;return R};function o(R,S){var I=h;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=S(R)}function c(R,S){this.h=S;const I=[];let V=!0;for(let k=R.length-1;k>=0;k--){const j=R[k]|0;V&&j==S||(I[k]=j,V=!1)}this.g=I}var h={};function f(R){return-128<=R&&R<128?o(R,function(S){return new c([S|0],S<0?-1:0)}):new c([R|0],R<0?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return y;if(R<0)return N(m(-R));const S=[];let I=1;for(let V=0;R>=I;V++)S[V]=R/I|0,I*=4294967296;return new c(S,0)}function _(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return N(_(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(S,8));let V=y;for(let j=0;j<R.length;j+=8){var k=Math.min(8,R.length-j);const O=parseInt(R.substring(j,j+k),S);k<8?(k=m(Math.pow(S,k)),V=V.j(k).add(m(O))):(V=V.j(I),V=V.add(m(O)))}return V}var y=f(0),b=f(1),E=f(16777216);n=c.prototype,n.m=function(){if(M(this))return-N(this).m();let R=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);R+=(V>=0?V:4294967296+V)*S,S*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C(this))return"0";if(M(this))return"-"+N(this).toString(R);const S=m(Math.pow(R,6));var I=this;let V="";for(;;){const k=Z(I,S).g;I=L(I,k.j(S));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=k,C(I))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function C(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function M(R){return R.h==-1}n.l=function(R){return R=L(this,R),M(R)?-1:C(R)?0:1};function N(R){const S=R.g.length,I=[];for(let V=0;V<S;V++)I[V]=~R.g[V];return new c(I,~R.h).add(b)}n.abs=function(){return M(this)?N(this):this},n.add=function(R){const S=Math.max(this.g.length,R.g.length),I=[];let V=0;for(let k=0;k<=S;k++){let j=V+(this.i(k)&65535)+(R.i(k)&65535),O=(j>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);V=O>>>16,j&=65535,O&=65535,I[k]=O<<16|j}return new c(I,I[I.length-1]&-2147483648?-1:0)};function L(R,S){return R.add(N(S))}n.j=function(R){if(C(this)||C(R))return y;if(M(this))return M(R)?N(this).j(N(R)):N(N(this).j(R));if(M(R))return N(this.j(N(R)));if(this.l(E)<0&&R.l(E)<0)return m(this.m()*R.m());const S=this.g.length+R.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let k=0;k<R.g.length;k++){const j=this.i(V)>>>16,O=this.i(V)&65535,Dt=R.i(k)>>>16,Et=R.i(k)&65535;I[2*V+2*k]+=O*Et,F(I,2*V+2*k),I[2*V+2*k+1]+=j*Et,F(I,2*V+2*k+1),I[2*V+2*k+1]+=O*Dt,F(I,2*V+2*k+1),I[2*V+2*k+2]+=j*Dt,F(I,2*V+2*k+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new c(I,0)};function F(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function $(R,S){this.g=R,this.h=S}function Z(R,S){if(C(S))throw Error("division by zero");if(C(R))return new $(y,y);if(M(R))return S=Z(N(R),S),new $(N(S.g),N(S.h));if(M(S))return S=Z(R,N(S)),new $(N(S.g),S.h);if(R.g.length>30){if(M(R)||M(S))throw Error("slowDivide_ only works with positive integers.");for(var I=b,V=S;V.l(R)<=0;)I=Y(I),V=Y(V);var k=tt(I,1),j=tt(V,1);for(V=tt(V,2),I=tt(I,2);!C(V);){var O=j.add(V);O.l(R)<=0&&(k=k.add(I),j=O),V=tt(V,1),I=tt(I,1)}return S=L(R,k.j(S)),new $(k,S)}for(k=y;R.l(S)>=0;){for(I=Math.max(1,Math.floor(R.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=m(I),O=j.j(S);M(O)||O.l(R)>0;)I-=V,j=m(I),O=j.j(S);C(j)&&(j=b),k=k.add(j),R=L(R,O)}return new $(k,R)}n.B=function(R){return Z(this,R).h},n.and=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&R.i(V);return new c(I,this.h&R.h)},n.or=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|R.i(V);return new c(I,this.h|R.h)},n.xor=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^R.i(V);return new c(I,this.h^R.h)};function Y(R){const S=R.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=R.i(V)<<1|R.i(V-1)>>>31;return new c(I,R.h)}function tt(R,S){const I=S>>5;S%=32;const V=R.g.length-I,k=[];for(let j=0;j<V;j++)k[j]=S>0?R.i(j+I)>>>S|R.i(j+I+1)<<32-S:R.i(j+I);return new c(k,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ow=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Mr=c}).apply(typeof Jb<"u"?Jb:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lw,Ec,cw,gf,lp,uw,hw,fw;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var v=0;v<d.length;++v){var x=d[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var x=i;d=d.split(".");for(var A=0;A<d.length-1;A++){var H=d[A];if(!(H in x))break t;x=x[H]}d=d[d.length-1],A=x[d],v=v(A),v!=A&&v!=null&&t(x,d,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(d){return d||function(v){var x=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&x.push([A,v[A]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,x){return d.call.apply(d.bind,arguments)}function m(d,v,x){return m=f,m.apply(null,arguments)}function _(d,v){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function y(d,v){function x(){}x.prototype=v.prototype,d.Z=v.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(A,H,Q){for(var ot=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ot[Ct-2]=arguments[Ct];return v.prototype[H].apply(A,ot)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function E(d){const v=d.length;if(v>0){const x=Array(v);for(let A=0;A<v;A++)x[A]=d[A];return x}return[]}function C(d,v){for(let A=1;A<arguments.length;A++){const H=arguments[A];var x=typeof H;if(x=x!="object"?x:H?Array.isArray(H)?"array":x:"null",x=="array"||x=="object"&&typeof H.length=="number"){x=d.length||0;const Q=H.length||0;d.length=x+Q;for(let ot=0;ot<Q;ot++)d[x+ot]=H[ot]}else d.push(H)}}class M{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(d){c.setTimeout(()=>{throw d},0)}function L(){var d=R;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,x){const A=$.get();A.set(v,x),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new M(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,tt=!1,R=new F,S=()=>{const d=Promise.resolve(void 0);Y=()=>{d.then(I)}};function I(){for(var d;d=L();){try{d.h.call(d.g)}catch(x){N(x)}var v=$;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}tt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};c.addEventListener("test",x,v),c.removeEventListener("test",x,v)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Dt(d,v){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}y(Dt,k),Dt.prototype.init=function(d,v){const x=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(x=="mouseover"?v=d.fromElement:x=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),X=0;function at(d,v,x,A,H){this.listener=d,this.proxy=null,this.src=v,this.type=x,this.capture=!!A,this.ha=H,this.key=++X,this.da=this.fa=!1}function ht(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function bt(d,v,x){for(const A in d)v.call(x,d[A],A,d)}function Vt(d,v){for(const x in d)v.call(void 0,d[x],x,d)}function z(d){const v={};for(const x in d)v[x]=d[x];return v}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(d,v){let x,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(x in A)d[x]=A[x];for(let Q=0;Q<et.length;Q++)x=et[Q],Object.prototype.hasOwnProperty.call(A,x)&&(d[x]=A[x])}}function ct(d){this.src=d,this.g={},this.h=0}ct.prototype.add=function(d,v,x,A,H){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const ot=Tt(d,v,A,H);return ot>-1?(v=d[ot],x||(v.fa=!1)):(v=new at(v,this.src,Q,!!A,H),v.fa=x,d.push(v)),v};function yt(d,v){const x=v.type;if(x in d.g){var A=d.g[x],H=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(A,H,1),Q&&(ht(v),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Tt(d,v,x,A){for(let H=0;H<d.length;++H){const Q=d[H];if(!Q.da&&Q.listener==v&&Q.capture==!!x&&Q.ha==A)return H}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Pe={};function fe(d,v,x,A,H){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)fe(d,v[Q],x,A,H);return null}return x=ml(x),d&&d[Et]?d.J(v,x,h(A)?!!A.capture:!1,H):Br(d,v,x,!1,A,H)}function Br(d,v,x,A,H,Q){if(!v)throw Error("Invalid event type");const ot=h(H)?!!H.capture:!!H;let Ct=Fr(d);if(Ct||(d[Ft]=Ct=new ct(d)),x=Ct.add(v,x,A,ot,Q),x.proxy)return x;if(A=Ga(),x.proxy=A,A.src=d,A.listener=x,d.addEventListener)j||(H=ot),H===void 0&&(H=!1),d.addEventListener(v.toString(),A,H);else if(d.attachEvent)d.attachEvent(bi(v.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ga(){function d(x){return v.call(d.src,d.listener,x)}const v=fl;return d}function Ya(d,v,x,A,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Ya(d,v[Q],x,A,H);else A=h(A)?!!A.capture:!!A,x=ml(x),d&&d[Et]?(d=d.i,Q=String(v).toString(),Q in d.g&&(v=d.g[Q],x=Tt(v,x,A,H),x>-1&&(ht(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete d.g[Q],d.h--)))):d&&(d=Fr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Tt(v,x,A,H)),(x=d>-1?v[d]:null)&&Ka(x))}function Ka(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Et])yt(v.i,d);else{var x=d.type,A=d.proxy;v.removeEventListener?v.removeEventListener(x,A,d.capture):v.detachEvent?v.detachEvent(bi(x),A):v.addListener&&v.removeListener&&v.removeListener(A),(x=Fr(v))?(yt(x,d),x.h==0&&(x.src=null,v[Ft]=null)):ht(d)}}}function bi(d){return d in Pe?Pe[d]:Pe[d]="on"+d}function fl(d,v){if(d.da)d=!0;else{v=new Dt(v,this);const x=d.listener,A=d.ha||d.src;d.fa&&Ka(d),d=x.call(A,v)}return d}function Fr(d){return d=d[Ft],d instanceof ct?d:null}var dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ml(d){return typeof d=="function"?d:(d[dl]||(d[dl]=function(v){return d.handleEvent(v)}),d[dl])}function Se(){V.call(this),this.i=new ct(this),this.M=this,this.G=null}y(Se,V),Se.prototype[Et]=!0,Se.prototype.removeEventListener=function(d,v,x,A){Ya(this,d,v,x,A)};function Le(d,v){var x,A=d.G;if(A)for(x=[];A;A=A.G)x.push(A);if(d=d.M,A=v.type||v,typeof v=="string")v=new k(v,d);else if(v instanceof k)v.target=v.target||d;else{var H=v;v=new k(A,d),lt(v,H)}H=!0;let Q,ot;if(x)for(ot=x.length-1;ot>=0;ot--)Q=v.g=x[ot],H=Us(Q,A,!0,v)&&H;if(Q=v.g=d,H=Us(Q,A,!0,v)&&H,H=Us(Q,A,!1,v)&&H,x)for(ot=0;ot<x.length;ot++)Q=v.g=x[ot],H=Us(Q,A,!1,v)&&H}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const x=d.g[v];for(let A=0;A<x.length;A++)ht(x[A]);delete d.g[v],d.h--}}this.G=null},Se.prototype.J=function(d,v,x,A){return this.i.add(String(d),v,!1,x,A)},Se.prototype.K=function(d,v,x,A){return this.i.add(String(d),v,!0,x,A)};function Us(d,v,x,A){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let Q=0;Q<v.length;++Q){const ot=v[Q];if(ot&&!ot.da&&ot.capture==x){const Ct=ot.listener,be=ot.ha||ot.src;ot.fa&&yt(d.i,ot),H=Ct.call(be,A)!==!1&&H}}return H&&!A.defaultPrevented}function Sd(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(d,v||0)}function du(d){d.g=Sd(()=>{d.g=null,d.i&&(d.i=!1,du(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class dn extends V{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(d){V.call(this),this.h=d,this.g={}}y(Hr,V);var gl=[];function pl(d){bt(d.g,function(v,x){this.g.hasOwnProperty(x)&&Ka(v)},d),d.g={}}Hr.prototype.N=function(){Hr.Z.N.call(this),pl(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bs=c.JSON.stringify,Ad=c.JSON.parse,mu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function gu(){}function pu(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){k.call(this,"d")}y(Xe,k);function Vn(){k.call(this,"c")}y(Vn,k);var ve={},_u=null;function Xa(){return _u=_u||new Se}ve.Ia="serverreachability";function yu(d){k.call(this,ve.Ia,d)}y(yu,k);function Ti(d){const v=Xa();Le(v,new yu(v))}ve.STAT_EVENT="statevent";function qr(d,v){k.call(this,ve.STAT_EVENT,d),this.stat=v}y(qr,k);function Ae(d){const v=Xa();Le(v,new qr(v,d))}ve.Ja="timingevent";function xi(d,v){k.call(this,ve.Ja,d),this.size=v}y(xi,k);function Ei(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Rd(d,v,x,A,H,Q){d.info(function(){if(d.g)if(Q){var ot="",Ct=Q.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var be=Ct[Kt].split("=");if(be.length>1){const de=be[0];be=be[1];const zn=de.split("_");ot=zn.length>=2&&zn[1]=="type"?ot+(de+"="+be+"&"):ot+(de+"=redacted&")}}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+v+`
`+x+`
`+ot})}function vu(d,v,x,A,H,Q,ot){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+v+`
`+x+`
`+Q+" "+ot})}function wi(d,v,x,A){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cd(d,x)+(A?" "+A:"")})}function Gr(d,v){d.info(function(){return"TIMEOUT: "+v})}ii.prototype.info=function(){};function Cd(d,v){if(!d.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var x=Q[d];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return Bs(Q)}catch{return v}}var Yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function Kr(){}y(Kr,gu),Kr.prototype.g=function(){return new XMLHttpRequest},yl=new Kr;function rs(d){return encodeURIComponent(String(d))}function bu(d){var v=1;d=d.split(":");const x=[];for(;v>0&&d.length;)x.push(d.shift()),v--;return d.length&&x.push(d.join(":")),x}function si(d,v,x,A){this.j=d,this.i=v,this.l=x,this.S=A||1,this.V=new Hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Re={},qe={};function Si(d,v,x){d.M=1,d.A=Xr(Ie(v)),d.u=x,d.R=!0,$a(d,null)}function $a(d,v){d.F=Date.now(),Ai(d),d.B=Ie(d.A);var x=d.B,A=d.S;Array.isArray(A)||(A=[String(A)]),Ja(x.i,"t",A),d.C=0,x=d.j.L,d.h=new ri,d.g=Vu(d.j,x?v:null,!d.u),d.P>0&&(d.O=new dn(m(d.Y,d,d.g),d.P)),v=d.V,x=d.g,A=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(gl[0]=H.toString()),H=gl);for(let Q=0;Q<H.length;Q++){const ot=fe(x,H[Q],A||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=d.J?z(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Ti(),Rd(d.i,d.v,d.B,d.l,d.S,d.u)}si.prototype.ba=function(d){d=d.target;const v=this.O;v&&li(d)==3?v.j():this.Y(d)},si.prototype.Y=function(d){try{if(d==this.g)t:{const Ct=li(this.g),be=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||Ct!=4||be==7||(be==8||Kt<=0?Ti(3):Ti(2)),Ri(this);var v=this.g.ca();this.X=v;var x=Id(this);if(this.o=v==200,vu(this.i,this.v,this.B,this.l,this.S,Ct,v),this.o){if(this.U&&!this.L){e:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(A)){var Q=A;break e}}Q=null}if(d=Q)wi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,d);else{this.o=!1,this.m=3,Ae(12),An(this),Pn(this);break t}}if(this.R){d=!0;let de;for(;!this.K&&this.C<x.length;)if(de=xu(this,x),de==qe){Ct==4&&(this.m=4,Ae(14),d=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Re){this.m=4,Ae(15),wi(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else wi(this.i,this.l,de,null),Ci(this,de);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||x.length!=0||this.h.h||(this.m=1,Ae(16),d=!1),this.o=this.o&&d,!d)wi(this.i,this.l,x,"[Invalid Chunked Response]"),An(this),Pn(this);else if(x.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Ol(ot),ot.P=!0,Ae(11))}}else wi(this.i,this.l,x,null),Ci(this,x);Ct==4&&An(this),this.o&&!this.K&&(Ct==4?Du(this.j,this):(this.o=!1,Ai(this)))}else os(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),An(this),Pn(this)}}}catch{}finally{}};function Id(d){if(!Tu(d))return d.g.la();const v=$e(d.g);if(v==="")return"";let x="";const A=v.length,H=li(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return An(d),Pn(d),"";d.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)d.h.h=!0,x+=d.h.i.decode(v[Q],{stream:!(H&&Q==A-1)});return v.length=0,d.h.g+=x,d.C=0,d.h.g}function Tu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function xu(d,v){var x=d.C,A=v.indexOf(`
`,x);return A==-1?qe:(x=Number(v.substring(x,A)),isNaN(x)?Re:(A+=1,A+x>v.length?qe:(v=v.slice(A,A+x),d.C=A+x,v)))}si.prototype.cancel=function(){this.K=!0,An(this)};function Ai(d){d.T=Date.now()+d.H,Qa(d,d.H)}function Qa(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ei(m(d.aa,d),v)}function Ri(d){d.D&&(c.clearTimeout(d.D),d.D=null)}si.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Gr(this.i,this.B),this.M!=2&&(Ti(),Ae(17)),An(this),this.m=2,Pn(this)):Qa(this,this.T-d)};function Pn(d){d.j.I==0||d.K||Du(d.j,d)}function An(d){Ri(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,pl(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ci(d,v){try{var x=d.j;if(x.I!=0&&(x.g==d||Mi(x.h,d))){if(!d.L&&Mi(x.h,d)&&x.I==3){try{var A=x.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)so(x),$s(x);else break t;ea(x),Ae(18)}}else x.xa=H[1],0<x.xa-x.K&&H[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Ei(m(x.Va,x),6e3));Ii(x.h)<=1&&x.ta&&(x.ta=void 0)}else Pi(x,11)}else if((d.L||x.g==d)&&so(x),!O(v))for(H=x.Ba.g.parse(v),v=0;v<H.length;v++){let Kt=H[v];const de=Kt[0];if(!(de<=x.K))if(x.K=de,Kt=Kt[1],x.I==2)if(Kt[0]=="c"){x.M=Kt[1],x.ba=Kt[2];const zn=Kt[3];zn!=null&&(x.ka=zn,x.j.info("VER="+x.ka));const Li=Kt[4];Li!=null&&(x.za=Li,x.j.info("SVER="+x.za));const ci=Kt[5];ci!=null&&typeof ci=="number"&&ci>0&&(A=1.5*ci,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const ui=d.g;if(ui){const na=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var Q=A.h;Q.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Tl(Q,Q.h),Q.h=null))}if(A.G){const ro=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(A.wa=ro,Wt(A.J,A.G,ro))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var ot=d;if(A.na=ku(A,A.L?A.ba:null,A.W),ot.L){xl(A.h,ot);var Ct=ot,be=A.O;be&&(Ct.H=be),Ct.D&&(Ri(Ct),Ai(Ct)),A.g=ot}else Iu(A);x.i.length>0&&Vi(x)}else Kt[0]!="stop"&&Kt[0]!="close"||Pi(x,7);else x.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Pi(x,7):Dl(x):Kt[0]!="noop"&&x.l&&x.l.qa(Kt),x.A=0)}}Ti(4)}catch{}}var Ce=class{constructor(d,v){this.g=d,this.map=v}};function vl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ii(d){return d.h?1:d.g?d.g.size:0}function Mi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Tl(d,v){d.g?d.g.add(v):d.h=v}function xl(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}vl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function El(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const x of d.g.values())v=v.concat(x.G);return v}return E(d.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(d,v){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const A=d[x].indexOf("=");let H,Q=null;A>=0?(H=d[x].substring(0,A),Q=d[x].substring(A+1)):H=d[x],v(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Rn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Rn?(this.l=d.l,Ge(this,d.j),this.o=d.o,this.g=d.g,Fs(this,d.u),this.h=d.h,wl(this,Ru(d.i)),this.m=d.m):d&&(v=String(d).match(Eu))?(this.l=!1,Ge(this,v[1]||"",!0),this.o=Di(v[2]||""),this.g=Di(v[3]||"",!0),Fs(this,v[4]),this.h=Di(v[5]||"",!0),wl(this,v[6]||"",!0),this.m=Di(v[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}Rn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push($r(v,Za,!0),":");var x=this.g;return(x||v=="file")&&(d.push("//"),(v=this.o)&&d.push($r(v,Za,!0),"@"),d.push(rs(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push($r(x,x.charAt(0)=="/"?Sl:wu,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",$r(x,Su)),d.join("")},Rn.prototype.resolve=function(d){const v=Ie(this);let x=!!d.j;x?Ge(v,d.j):x=!!d.o,x?v.o=d.o:x=!!d.g,x?v.g=d.g:x=d.u!=null;var A=d.h;if(x)Fs(v,d.u);else if(x=!!d.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=v.h.lastIndexOf("/");H!=-1&&(A=v.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let ot=0;ot<H.length;){const Ct=H[ot++];Ct=="."?A&&ot==H.length&&Q.push(""):Ct==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ot==H.length&&Q.push("")):(Q.push(Ct),A=!0)}A=Q.join("/")}else A=H}return x?v.h=A:x=d.i.toString()!=="",x?wl(v,Ru(d.i)):x=!!d.m,x&&(v.m=d.m),v};function Ie(d){return new Rn(d)}function Ge(d,v,x){d.j=x?Di(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Fs(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function wl(d,v,x){v instanceof qs?(d.i=v,to(d.i,d.l)):(x||(v=$r(v,Hs)),d.i=new qs(v,d.l))}function Wt(d,v,x){d.i.set(v,x)}function Xr(d){return Wt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Di(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $r(d,v,x){return typeof d=="string"?(d=encodeURI(d).replace(v,pn),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function pn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Za=/[#\/\?@]/g,wu=/[#\?:]/g,Sl=/[#\?]/g,Hs=/[#\?@]/g,Su=/#/g;function qs(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function _n(d){d.g||(d.g=new Map,d.h=0,d.i&&Wa(d.i,function(v,x){d.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}n=qs.prototype,n.add=function(d,v){_n(this),this.i=null,d=Gs(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(v),this.h+=1,this};function Au(d,v){_n(d),v=Gs(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Al(d,v){return _n(d),v=Gs(d,v),d.g.has(v)}n.forEach=function(d,v){_n(this),this.g.forEach(function(x,A){x.forEach(function(H){d.call(v,H,A,this)},this)},this)};function Rl(d,v){_n(d);let x=[];if(typeof v=="string")Al(d,v)&&(x=x.concat(d.g.get(Gs(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)x=x.concat(d[v]);return x}n.set=function(d,v){return _n(this),this.i=null,d=Gs(this,d),Al(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=Rl(this,d),d.length>0?String(d[0]):v):v};function Ja(d,v,x){Au(d,v),x.length>0&&(d.i=null,d.g.set(Gs(d,v),E(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var x=v[A];const H=rs(x);x=Rl(this,x);for(let Q=0;Q<x.length;Q++){let ot=H;x[Q]!==""&&(ot+="="+rs(x[Q])),d.push(ot)}}return this.i=d.join("&")};function Ru(d){const v=new qs;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Gs(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function to(d,v){v&&!d.j&&(_n(d),d.i=null,d.g.forEach(function(x,A){const H=A.toLowerCase();A!=H&&(Au(this,A),Ja(this,H,x))},d)),d.j=v}function ai(d,v){const x=new ii;if(c.Image){const A=new Image;A.onload=_(Ln,x,"TestLoadImage: loaded",!0,v,A),A.onerror=_(Ln,x,"TestLoadImage: error",!1,v,A),A.onabort=_(Ln,x,"TestLoadImage: abort",!1,v,A),A.ontimeout=_(Ln,x,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else v(!1)}function Cl(d,v){const x=new ii,A=new AbortController,H=setTimeout(()=>{A.abort(),Ln(x,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:A.signal}).then(Q=>{clearTimeout(H),Q.ok?Ln(x,"TestPingServer: ok",!0,v):Ln(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Ln(x,"TestPingServer: error",!1,v)})}function Ln(d,v,x,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(x)}catch{}}function Ys(){this.g=new mu}function Ni(d){this.i=d.Sb||null,this.h=d.ab||!1}y(Ni,gu),Ni.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(d,v){Se.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Qr,Se),n=Qr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,oi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function eo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ks(this):oi(this),this.readyState==3&&eo(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Ks(this))},n.Na=function(d){this.g&&(this.response=d,Ks(this))},n.ga=function(){this.g&&Ks(this)};function Ks(d){d.readyState=4,d.l=null,d.j=null,d.B=null,oi(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=v.next();return d.join(`\r
`)};function oi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function jn(d){let v="";return bt(d,function(x,A){v+=A,v+=":",v+=x,v+=`\r
`}),v}function Wr(d,v,x){t:{for(A in x){var A=!1;break t}A=!0}A||(x=jn(x),typeof d=="string"?x!=null&&rs(x):Wt(d,v,x))}function ne(d){Se.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(ne,Se);var Oi=/^https?$/i,Il=["POST","PUT"];n=ne.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){Zr(this,Q);return}if(d=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)x.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())x.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Il,v,void 0)>=0)||A||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of x)this.g.setRequestHeader(Q,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){Zr(this,Q)}};function Zr(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Ml(d),as(d)}function Ml(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Le(this,"complete"),Le(this,"abort"),as(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Jr(this):this.Xa())},n.Xa=function(){Jr(this)};function Jr(d){if(d.h&&typeof o<"u"){if(d.v&&li(d)==4)setTimeout(d.Ca.bind(d),0);else if(Le(d,"readystatechange"),li(d)==4){d.h=!1;try{const Q=d.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var x;if(!(x=v)){var A;if(A=Q===0){let ot=String(d.D).match(Eu)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),A=!Oi.test(ot?ot.toLowerCase():"")}x=A}if(x)Le(d,"complete"),Le(d,"success");else{d.o=6;try{var H=li(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",Ml(d)}}finally{as(d)}}}}function as(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,v||Le(d,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function li(d){return d.g?d.g.readyState:0}n.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ad(v)}};function $e(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function os(d){const v={};d=(d.g&&li(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(O(d[A]))continue;var x=bu(d[A]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Q=v[H]||[];v[H]=Q,Q.push(x)}Vt(v,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(d,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||v}function Xs(d){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,d),this.Za=ki("retryDelaySeedMs",1e4,d),this.Ta=ki("forwardChannelMaxRetries",2,d),this.va=ki("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(d&&d.concurrentRequestLimit),this.Ba=new Ys,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Xs.prototype,n.ka=8,n.I=1,n.connect=function(d,v,x,A){Ae(0),this.W=d,this.H=v||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=ku(this,null,this.W),Vi(this)};function Dl(d){if(no(d),d.I==3){var v=d.V++,x=Ie(d.J);if(Wt(x,"SID",d.M),Wt(x,"RID",v),Wt(x,"TYPE","terminate"),ta(d,x),v=new si(d,d.j,v),v.M=2,v.A=Xr(Ie(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&c.Image&&(new Image().src=v.A,x=!0),x||(v.g=Vu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}Ou(d)}function $s(d){d.g&&(Ol(d),d.g.cancel(),d.g=null)}function no(d){$s(d),d.v&&(c.clearTimeout(d.v),d.v=null),so(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Vi(d){if(!bl(d.h)&&!d.m){d.m=!0;var v=d.Ea;Y||S(),tt||(Y(),tt=!0),R.add(v,d),d.D=0}}function io(d,v){return Ii(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ei(m(d.Ea,d,v),Nu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new si(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=z(Q),lt(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)t:{for(var v=0,x=0;x<this.i.length;x++){e:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=x;break t}if(v===4096||x===this.i.length-1){v=x+1;break t}}v=1e3}else v=1e3;v=Cu(this,H,v),x=Ie(this.J),Wt(x,"RID",d),Wt(x,"CVER",22),this.G&&Wt(x,"X-HTTP-Session-Id",this.G),ta(this,x),Q&&(this.R?v="headers="+rs(jn(Q))+"&"+v:this.u&&Wr(x,this.u,Q)),Tl(this.h,H),this.Ra&&Wt(x,"TYPE","init"),this.S?(Wt(x,"$req",v),Wt(x,"SID","null"),H.U=!0,Si(H,x,null)):Si(H,x,v),this.I=2}}else this.I==3&&(d?Nl(this,d):this.i.length==0||bl(this.h)||Nl(this))};function Nl(d,v){var x;v?x=v.l:x=d.V++;const A=Ie(d.J);Wt(A,"SID",d.M),Wt(A,"RID",x),Wt(A,"AID",d.K),ta(d,A),d.u&&d.o&&Wr(A,d.u,d.o),x=new si(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Cu(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Tl(d.h,x),Si(x,A,v)}function ta(d,v){d.H&&bt(d.H,function(x,A){Wt(v,A,x)}),d.l&&bt({},function(x,A){Wt(v,A,x)})}function Cu(d,v,x){x=Math.min(d.i.length,x);const A=d.l?m(d.l.Ka,d.l,d):null;t:{var H=d.i;let Ct=-1;for(;;){const be=["count="+x];Ct==-1?x>0?(Ct=H[0].g,be.push("ofs="+Ct)):Ct=0:be.push("ofs="+Ct);let Kt=!0;for(let de=0;de<x;de++){var Q=H[de].g;const zn=H[de].map;if(Q-=Ct,Q<0)Ct=Math.max(0,H[de].g-100),Kt=!1;else try{Q="req"+Q+"_"||"";try{var ot=zn instanceof Map?zn:Object.entries(zn);for(const[Li,ci]of ot){let ui=ci;h(ci)&&(ui=Bs(ci)),be.push(Q+Li+"="+encodeURIComponent(ui))}}catch(Li){throw be.push(Q+"type="+encodeURIComponent("_badmap")),Li}}catch{A&&A(zn)}}if(Kt){ot=be.join("&");break t}}ot=void 0}return d=d.i.splice(0,x),v.G=d,ot}function Iu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;Y||S(),tt||(Y(),tt=!0),R.add(v,d),d.A=0}}function ea(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ei(m(d.Da,d),Nu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ei(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),$s(this),Mu(this))};function Ol(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Mu(d){d.g=new si(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Ie(d.na);Wt(v,"RID","rpc"),Wt(v,"SID",d.M),Wt(v,"AID",d.K),Wt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Wt(v,"TO",d.ia),Wt(v,"TYPE","xmlhttp"),ta(d,v),d.u&&d.o&&Wr(v,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=Xr(Ie(v)),x.u=null,x.R=!0,$a(x,d)}n.Va=function(){this.C!=null&&(this.C=null,$s(this),ea(this),Ae(19))};function so(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Du(d,v){var x=null;if(d.g==v){so(d),Ol(d),d.g=null;var A=2}else if(Mi(d.h,v))x=v.G,xl(d.h,v),A=1;else return;if(d.I!=0){if(v.o)if(A==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var H=d.D;A=Xa(),Le(A,new xi(A,x)),Vi(d)}else Iu(d);else if(H=v.m,H==3||H==0&&v.X>0||!(A==1&&io(d,v)||A==2&&ea(d)))switch(x&&x.length>0&&(v=d.h,v.i=v.i.concat(x)),H){case 1:Pi(d,5);break;case 4:Pi(d,10);break;case 3:Pi(d,6);break;default:Pi(d,2)}}}function Nu(d,v){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*v}function Pi(d,v){if(d.j.info("Error code "+v),v==2){var x=m(d.bb,d),A=d.Ua;const H=!A;A=new Rn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ge(A,"https"),Xr(A),H?ai(A.toString(),x):Cl(A.toString(),x)}else Ae(2);d.I=0,d.l&&d.l.pa(v),Ou(d),no(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Ou(d){if(d.I=0,d.ja=[],d.l){const v=El(d.h);(v.length!=0||d.i.length!=0)&&(C(d.ja,v),C(d.ja,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.oa()}}function ku(d,v,x){var A=x instanceof Rn?Ie(x):new Rn(x);if(A.g!="")v&&(A.g=v+"."+A.g),Fs(A,A.u);else{var H=c.location;A=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const Q=new Rn(null);A&&Ge(Q,A),v&&(Q.g=v),H&&Fs(Q,H),x&&(Q.h=x),A=Q}return x=d.G,v=d.wa,x&&v&&Wt(A,x,v),Wt(A,"VER",d.ka),ta(d,A),A}function Vu(d,v,x){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ne(new Ni({ab:x})):new ne(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}n=Pu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Qs(){}Qs.prototype.g=function(d,v){return new mn(d,v)};function mn(d,v){Se.call(this),this.g=new Xs(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!O(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new ls(this)}y(mn,Se),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Dl(this.g)},mn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=Bs(d),d=x);v.i.push(new Ce(v.Ya++,d)),v.I==3&&Vi(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,mn.Z.N.call(this)};function Lu(d){Xe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const x in v){d=x;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}y(Lu,Xe);function ju(){Vn.call(this),this.status=1}y(ju,Vn);function ls(d){this.g=d}y(ls,Pu),ls.prototype.ra=function(){Le(this.g,"a")},ls.prototype.qa=function(d){Le(this.g,new Lu(d))},ls.prototype.pa=function(d){Le(this.g,new ju)},ls.prototype.oa=function(){Le(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,fw=function(){return new Qs},hw=function(){return Xa()},uw=ve,lp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yr.NO_ERROR=0,Yr.TIMEOUT=8,Yr.HTTP_ERROR=6,gf=Yr,_l.COMPLETE="complete",cw=_l,pu.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Ec=pu,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,lw=ne}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const tT="@firebase/firestore",eT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Vp("@firebase/firestore");function jo(){return Oa.logLevel}function ut(n,...t){if(Oa.logLevel<=jt.DEBUG){const e=t.map(Xp);Oa.debug(`Firestore (${rl}): ${n}`,...e)}}function Vs(n,...t){if(Oa.logLevel<=jt.ERROR){const e=t.map(Xp);Oa.error(`Firestore (${rl}): ${n}`,...e)}}function Qo(n,...t){if(Oa.logLevel<=jt.WARN){const e=t.map(Xp);Oa.warn(`Firestore (${rl}): ${n}`,...e)}}function Xp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,dw(n,i,e)}function dw(n,t,e){let i=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Vs(i),new Error(i)}function Qt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||dw(t,r,i)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends is{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ln.UNAUTHENTICATED)))}shutdown(){}}class lM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class cM{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ns,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ns)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new mw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class uM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new uM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new nT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=dM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function cp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Pg(r)===Pg(o)?zt(r,o):Pg(r)?1:-1}return zt(n.length,t.length)}const mM=55296,gM=57343;function Pg(n){const t=n.charCodeAt(0);return t>=mM&&t<=gM}function Wo(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__name__";class Gi{constructor(t,e,i){e===void 0?e=0:e>t.length&&xt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Gi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Gi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return zt(t.length,e.length)}static compareSegments(t,e){const i=Gi.isNumericId(t),r=Gi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Gi.extractNumericId(t).compare(Gi.extractNumericId(e)):cp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mr.fromString(t.substring(4,t.length-2))}}class ue extends Gi{construct(t,e,i){return new ue(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const pM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Gi{construct(t,e,i){return new en(t,e,i)}static isValidIdentifier(t){return pM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iT}static keyField(){return new en([iT])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new mt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new mt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new mt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new mt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ue.fromString(t))}static fromName(t){return new _t(ue.fromString(t).popFirst(5))}static empty(){return new _t(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n,t,e){if(!e)throw new mt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function _M(n,t,e,i){if(t===!0&&i===!0)throw new mt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function sT(n){if(!_t.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rT(n){if(_t.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xt(12329,{type:typeof n})}function Ps(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qp(n);throw new mt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,t){const e={typeString:n};return t&&(e.value=t),e}function ou(n,t){if(!pw(n))throw new mt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new mt(rt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=-62135596800,oT=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*oT);return new he(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<aT)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oT}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ou(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-aT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ve("string",he._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new he(0,0))}static max(){return new St(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function yM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new he(e+1,0):new he(e,i));return new kr(r,_t.empty(),t)}function vM(n){return new kr(n.readTime,n.key,Fc)}class kr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new kr(St.min(),_t.empty(),Fc)}static max(){return new kr(St.max(),_t.empty(),Fc)}}function bM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==TM)throw n;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,i)=>{e(t)}))}static reject(t){return new st(((e,i)=>{i(t)}))}static waitFor(t){return new st(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next((r=>r?st.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new st(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((_=>{c[m]=_,++h,h===o&&i(c)}),(_=>r(_)))}}))}static doWhile(t,e){return new st(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function EM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ol(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-1;function rd(n){return n==null}function Nf(n){return n===0&&1/n==-1/0}function wM(n){return typeof n=="number"&&Number.isInteger(n)&&!Nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="";function SM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=lT(t)),t=AM(n.get(e),t);return lT(t)}function AM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case _w:e+="";break;default:e+=o}}return e}function lT(n){return n+_w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function za(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qh(this.root,t,this.comparator,!0)}}class qh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=r??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new tn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new uT(this.data.getIterator())}getIteratorFrom(t){return new uT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class uT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new pi([])}unionWith(t){let e=new He(en.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new pi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wo(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vw("Invalid base64 string: "+o):o}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const RM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=RM.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pr(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="server_timestamp",Tw="__type__",xw="__previous_value__",Ew="__local_write_time__";function Zp(n){return(n?.mapValue?.fields||{})[Tw]?.stringValue===bw}function ad(n){const t=n.mapValue.fields[xw];return Zp(t)?ad(t):t}function Hc(n){const t=Vr(n.mapValue.fields[Ew].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t,e,i,r,o,c,h,f,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=_}}const Of="(default)";class qc{constructor(t,e){this.projectId=t,this.database=e||Of}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Of}isEqual(t){return t instanceof qc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="__type__",IM="__max__",Gh={mapValue:{}},Sw="__vector__",kf="value";function Lr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zp(n)?4:DM(n)?9007199254740991:MM(n)?10:11:xt(28295,{value:n})}function ts(n,t){if(n===t)return!0;const e=Lr(n);if(e!==Lr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Hc(n).isEqual(Hc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Vr(r.timestampValue),h=Vr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Pr(r.bytesValue).isEqual(Pr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Ee(r.geoPointValue.latitude)===Ee(o.geoPointValue.latitude)&&Ee(r.geoPointValue.longitude)===Ee(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Ee(r.integerValue)===Ee(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Ee(r.doubleValue),h=Ee(o.doubleValue);return c===h?Nf(c)===Nf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Wo(n.arrayValue.values||[],t.arrayValue.values||[],ts);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(cT(c)!==cT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ts(c[f],h[f])))return!1;return!0})(n,t);default:return xt(52216,{left:n})}}function Gc(n,t){return(n.values||[]).find((e=>ts(e,t)))!==void 0}function Zo(n,t){if(n===t)return 0;const e=Lr(n),i=Lr(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Ee(o.integerValue||o.doubleValue),f=Ee(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return hT(n.timestampValue,t.timestampValue);case 4:return hT(Hc(n),Hc(t));case 5:return cp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Pr(o),f=Pr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const _=zt(h[m],f[m]);if(_!==0)return _}return zt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=zt(Ee(o.latitude),Ee(c.latitude));return h!==0?h:zt(Ee(o.longitude),Ee(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return fT(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[kf]?.arrayValue,_=f[kf]?.arrayValue,y=zt(m?.values?.length||0,_?.values?.length||0);return y!==0?y:fT(m,_)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Gh.mapValue&&c===Gh.mapValue)return 0;if(o===Gh.mapValue)return 1;if(c===Gh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let y=0;y<f.length&&y<_.length;++y){const b=cp(f[y],_[y]);if(b!==0)return b;const E=Zo(h[f[y]],m[_[y]]);if(E!==0)return E}return zt(f.length,_.length)})(n.mapValue,t.mapValue);default:throw xt(23264,{he:e})}}function hT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=Vr(n),i=Vr(t),r=zt(e.seconds,i.seconds);return r!==0?r:zt(e.nanos,i.nanos)}function fT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Zo(e[r],i[r]);if(o)return o}return zt(e.length,i.length)}function Jo(n){return up(n)}function up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Vr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Pr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return _t.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=up(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${up(e.fields[c])}`;return r+"}"})(n.mapValue):xt(61005,{value:n})}function pf(n){switch(Lr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ad(n);return t?16+pf(t):16;case 5:return 2*n.stringValue.length;case 6:return Pr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+pf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return za(i.fields,((o,c)=>{r+=o.length+pf(c)})),r})(n.mapValue);default:throw xt(13486,{value:n})}}function hp(n){return!!n&&"integerValue"in n}function Jp(n){return!!n&&"arrayValue"in n}function dT(n){return!!n&&"nullValue"in n}function mT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function MM(n){return(n?.mapValue?.fields||{})[ww]?.stringValue===Sw}function Nc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return za(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Nc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Nc(n.arrayValue.values[e]);return t}return{...n}}function DM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===IM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!_f(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nc(e)}setAll(t){let e=en.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Nc(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());_f(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ts(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];_f(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){za(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Qn(Nc(this.value))}}function Aw(n){const t=[];return za(n.fields,((e,i)=>{const r=new en([e]);if(_f(i)){const o=Aw(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new pi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new cn(t,0,St.min(),St.min(),St.min(),Qn.empty(),0)}static newFoundDocument(t,e,i,r){return new cn(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new cn(t,2,e,St.min(),St.min(),Qn.empty(),0)}static newUnknownDocument(t,e){return new cn(t,3,e,St.min(),St.min(),Qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e){this.position=t,this.inclusive=e}}function gT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=_t.comparator(_t.fromName(c.referenceValue),e.key):i=Zo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function pT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ts(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,e="asc"){this.field=t,this.dir=e}}function NM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{}class ze extends Rw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new kM(t,e,i):e==="array-contains"?new LM(t,i):e==="in"?new jM(t,i):e==="not-in"?new zM(t,i):e==="array-contains-any"?new UM(t,i):new ze(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new VM(t,i):new PM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Zo(e,this.value)):e!==null&&Lr(this.value)===Lr(e)&&this.matchesComparison(Zo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends Rw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new es(t,e)}matches(t){return Cw(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cw(n){return n.op==="and"}function Iw(n){return OM(n)&&Cw(n)}function OM(n){for(const t of n.filters)if(t instanceof es)return!1;return!0}function fp(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+Jo(n.value);if(Iw(n))return n.filters.map((t=>fp(t))).join(",");{const t=n.filters.map((e=>fp(e))).join(",");return`${n.op}(${t})`}}function Mw(n,t){return n instanceof ze?(function(i,r){return r instanceof ze&&i.op===r.op&&i.field.isEqual(r.field)&&ts(i.value,r.value)})(n,t):n instanceof es?(function(i,r){return r instanceof es&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&Mw(c,r.filters[h])),!0):!1})(n,t):void xt(19439)}function Dw(n){return n instanceof ze?(function(e){return`${e.field.canonicalString()} ${e.op} ${Jo(e.value)}`})(n):n instanceof es?(function(e){return e.op.toString()+" {"+e.getFilters().map(Dw).join(" ,")+"}"})(n):"Filter"}class kM extends ze{constructor(t,e,i){super(t,e,i),this.key=_t.fromName(i.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class VM extends ze{constructor(t,e){super(t,"in",e),this.keys=Nw("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class PM extends ze{constructor(t,e){super(t,"not-in",e),this.keys=Nw("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Nw(n,t){return(t.arrayValue?.values||[]).map((e=>_t.fromName(e.referenceValue)))}class LM extends ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Jp(e)&&Gc(e.arrayValue,this.value)}}class jM extends ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Gc(this.value.arrayValue,e)}}class zM extends ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Gc(this.value.arrayValue,e)}}class UM extends ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Jp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Gc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function _T(n,t=null,e=[],i=[],r=null,o=null,c=null){return new BM(n,t,e,i,r,o,c)}function t_(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>fp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),rd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Jo(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Jo(i))).join(",")),t.Te=e}return t.Te}function e_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!NM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Mw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!pT(n.startAt,t.startAt)&&pT(n.endAt,t.endAt)}function dp(n){return _t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FM(n,t,e,i,r,o,c,h){return new od(n,t,e,i,r,o,c,h)}function n_(n){return new od(n)}function yT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HM(n){return n.collectionGroup!==null}function Oc(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new He(en.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Pf(o,i))})),e.has(en.keyField().canonicalString())||t.Ie.push(new Pf(en.keyField(),i))}return t.Ie}function Xi(n){const t=Rt(n);return t.Ee||(t.Ee=qM(t,Oc(n))),t.Ee}function qM(n,t){if(n.limitType==="F")return _T(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Pf(r.field,o)}));const e=n.endAt?new Vf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vf(n.startAt.position,n.startAt.inclusive):null;return _T(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function mp(n,t,e){return new od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ld(n,t){return e_(Xi(n),Xi(t))&&n.limitType===t.limitType}function Ow(n){return`${t_(Xi(n))}|lt:${n.limitType}`}function zo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>Dw(r))).join(", ")}]`),rd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Jo(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Jo(r))).join(",")),`Target(${i})`})(Xi(n))}; limitType=${n.limitType})`}function cd(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_t.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Oc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const m=gT(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,Oc(i),r)||i.endAt&&!(function(c,h,f){const m=gT(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,Oc(i),r))})(n,t)}function GM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kw(n){return(t,e)=>{let i=!1;for(const r of Oc(n)){const o=YM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function YM(n,t,e){const i=n.field.isKeyField()?_t.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Zo(f,m):xt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){za(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return yw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new ge(_t.comparator);function Ls(){return KM}const Vw=new ge(_t.comparator);function wc(...n){let t=Vw;for(const e of n)t=t.insert(e.key,e);return t}function Pw(n){let t=Vw;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Sa(){return kc()}function Lw(){return kc()}function kc(){return new Ua((n=>n.toString()),((n,t)=>n.isEqual(t)))}const XM=new ge(_t.comparator),$M=new He(_t.comparator);function Ut(...n){let t=$M;for(const e of n)t=t.add(e);return t}const QM=new He(zt);function WM(){return QM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(t)?"-0":t}}function jw(n){return{integerValue:""+n}}function ZM(n,t){return wM(t)?jw(t):i_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this._=void 0}}function JM(n,t,e){return n instanceof Lf?(function(r,o){const c={fields:{[Tw]:{stringValue:bw},[Ew]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Zp(o)&&(o=ad(o)),o&&(c.fields[xw]=o),{mapValue:c}})(e,t):n instanceof Yc?Uw(n,t):n instanceof Kc?Bw(n,t):(function(r,o){const c=zw(r,o),h=vT(c)+vT(r.Ae);return hp(c)&&hp(r.Ae)?jw(h):i_(r.serializer,h)})(n,t)}function tD(n,t,e){return n instanceof Yc?Uw(n,t):n instanceof Kc?Bw(n,t):e}function zw(n,t){return n instanceof jf?(function(i){return hp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Lf extends ud{}class Yc extends ud{constructor(t){super(),this.elements=t}}function Uw(n,t){const e=Fw(t);for(const i of n.elements)e.some((r=>ts(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Kc extends ud{constructor(t){super(),this.elements=t}}function Bw(n,t){let e=Fw(t);for(const i of n.elements)e=e.filter((r=>!ts(r,i)));return{arrayValue:{values:e}}}class jf extends ud{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function vT(n){return Ee(n.integerValue||n.doubleValue)}function Fw(n){return Jp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function eD(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Yc&&r instanceof Yc||i instanceof Kc&&r instanceof Kc?Wo(i.elements,r.elements,ts):i instanceof jf&&r instanceof jf?ts(i.Ae,r.Ae):i instanceof Lf&&r instanceof Lf})(n.transform,t.transform)}class nD{constructor(t,e){this.version=t,this.transformResults=e}}class vi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class hd{}function Hw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new s_(n.key,vi.none()):new lu(n.key,n.data,vi.none());{const e=n.data,i=Qn.empty();let r=new He(en.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Ba(n.key,i,new pi(r.toArray()),vi.none())}}function iD(n,t,e){n instanceof lu?(function(r,o,c){const h=r.value.clone(),f=TT(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Ba?(function(r,o,c){if(!yf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=TT(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(qw(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Vc(n,t,e,i){return n instanceof lu?(function(o,c,h,f){if(!yf(o.precondition,c))return h;const m=o.value.clone(),_=xT(o.fieldTransforms,f,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof Ba?(function(o,c,h,f){if(!yf(o.precondition,c))return h;const m=xT(o.fieldTransforms,f,c),_=c.data;return _.setAll(qw(o)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,t,e,i):(function(o,c,h){return yf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function sD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=zw(i.transform,r||null);o!=null&&(e===null&&(e=Qn.empty()),e.set(i.field,o))}return e||null}function bT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Wo(i,r,((o,c)=>eD(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class lu extends hd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ba extends hd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qw(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function TT(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,tD(c,h,e[r]))}return i}function xT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,JM(o,c,t))}return i}class s_ extends hd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rD extends hd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&iD(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Vc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Vc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Lw();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=Hw(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(St.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Wo(this.mutations,t.mutations,((e,i)=>bT(e,i)))&&Wo(this.baseMutations,t.baseMutations,((e,i)=>bT(e,i)))}}class r_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return XM})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new r_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,Ht;function cD(n){switch(n){case rt.OK:return xt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return xt(15467,{code:n})}}function Gw(n){if(n===void 0)return Vs("GRPC error has no .code"),rt.UNKNOWN;switch(n){case ke.OK:return rt.OK;case ke.CANCELLED:return rt.CANCELLED;case ke.UNKNOWN:return rt.UNKNOWN;case ke.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case ke.INTERNAL:return rt.INTERNAL;case ke.UNAVAILABLE:return rt.UNAVAILABLE;case ke.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case ke.NOT_FOUND:return rt.NOT_FOUND;case ke.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case ke.ABORTED:return rt.ABORTED;case ke.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case ke.DATA_LOSS:return rt.DATA_LOSS;default:return xt(39323,{code:n})}}(Ht=ke||(ke={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new Mr([4294967295,4294967295],0);function ET(n){const t=uD().encode(n),e=new ow;return e.update(t),new Uint8Array(e.digest())}function wT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Mr([e,i],0),new Mr([r,o],0)]}class a_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Sc(`Invalid padding: ${e}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Mr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Mr.fromNumber(i)));return r.compare(hD)===1&&(r=new Mr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ET(t),[i,r]=wT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new a_(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=ET(t),[i,r]=wT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,cu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new fd(St.min(),r,new ge(zt),Ls(),Ut())}}class cu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new cu(i,e,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class Yw{constructor(t,e){this.targetId=t,this.Ce=e}}class Kw{constructor(t,e,i=nn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class ST{constructor(){this.ve=0,this.Fe=AT(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),i=Ut();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:xt(38017,{changeType:o})}})),new cu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=AT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fD{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ls(),this.Je=Yh(),this.He=Yh(),this.Ye=new ge(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(dp(o))if(i===0){const c=new _t(o.path);this.et(e,c,cn.newNoDocument(c,St.min()))}else Qt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=Pr(i).toUint8Array()}catch(f){if(f instanceof vw)return Qo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new a_(c,r,o)}catch(f){return Qo(f instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&dp(h.target)){const f=new _t(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,cn.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ut();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new fd(t,e,this.Ye,this.je,i);return this.je=Ls(),this.Je=Yh(),this.He=Yh(),this.Ye=new ge(zt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new ST,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new He(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new He(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ut("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ST),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Yh(){return new ge(_t.comparator)}function AT(){return new ge(_t.comparator)}const dD={asc:"ASCENDING",desc:"DESCENDING"},mD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gD={and:"AND",or:"OR"};class pD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function gp(n,t){return n.useProto3Json||rd(t)?t:{value:t}}function zf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function _D(n,t){return zf(n,t.toTimestamp())}function $i(n){return Qt(!!n,49232),St.fromTimestamp((function(e){const i=Vr(e);return new he(i.seconds,i.nanos)})(n))}function o_(n,t){return pp(n,t).canonicalString()}function pp(n,t){const e=(function(r){return new ue(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function $w(n){const t=ue.fromString(n);return Qt(tS(t),10190,{key:t.toString()}),t}function _p(n,t){return o_(n.databaseId,t.path)}function Lg(n,t){const e=$w(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new _t(Ww(e))}function Qw(n,t){return o_(n.databaseId,t)}function yD(n){const t=$w(n);return t.length===4?ue.emptyPath():Ww(t)}function yp(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ww(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function RT(n,t,e){return{name:_p(n,t),fields:e.value.mapValue.fields}}function vD(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(m,_){return m.useProto3Json?(Qt(_===void 0||typeof _=="string",58123),nn.fromBase64String(_||"")):(Qt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),nn.fromUint8Array(_||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const _=m.code===void 0?rt.UNKNOWN:Gw(m.code);return new mt(_,m.message||"")})(c);e=new Kw(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Lg(n,i.document.name),o=$i(i.document.updateTime),c=i.document.createTime?$i(i.document.createTime):St.min(),h=new Qn({mapValue:{fields:i.document.fields}}),f=cn.newFoundDocument(r,o,c,h),m=i.targetIds||[],_=i.removedTargetIds||[];e=new vf(m,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Lg(n,i.document),o=i.readTime?$i(i.readTime):St.min(),c=cn.newNoDocument(r,o),h=i.removedTargetIds||[];e=new vf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Lg(n,i.document),o=i.removedTargetIds||[];e=new vf([],o,r,null)}else{if(!("filter"in t))return xt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new lD(r,o),h=i.targetId;e=new Yw(h,c)}}return e}function bD(n,t){let e;if(t instanceof lu)e={update:RT(n,t.key,t.value)};else if(t instanceof s_)e={delete:_p(n,t.key)};else if(t instanceof Ba)e={update:RT(n,t.key,t.data),updateMask:ID(t.fieldMask)};else{if(!(t instanceof rD))return xt(16599,{Vt:t.type});e={verify:_p(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Yc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Kc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof jf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw xt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:_D(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xt(27497)})(n,t.precondition)),e}function TD(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?$i(r.updateTime):$i(o);return c.isEqual(St.min())&&(c=$i(o)),new nD(c,r.transformResults||[])})(e,t)))):[]}function xD(n,t){return{documents:[Qw(n,t.path)]}}function ED(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Qw(n,r);const o=(function(m){if(m.length!==0)return Jw(es.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((_=>(function(b){return{field:Uo(b.field),direction:AD(b.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=gp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:r}}function wD(n){let t=yD(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=(function(y){const b=Zw(y);return b instanceof es&&Iw(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(y){return y.map((b=>(function(C){return new Pf(Bo(C.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(e.orderBy));let h=null;e.limit&&(h=(function(y){let b;return b=typeof y=="object"?y.value:y,rd(b)?null:b})(e.limit));let f=null;e.startAt&&(f=(function(y){const b=!!y.before,E=y.values||[];return new Vf(E,b)})(e.startAt));let m=null;return e.endAt&&(m=(function(y){const b=!y.before,E=y.values||[];return new Vf(E,b)})(e.endAt)),FM(t,r,c,o,h,"F",f,m)}function SD(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Zw(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Bo(e.unaryFilter.field);return ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Bo(e.unaryFilter.field);return ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bo(e.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(e.unaryFilter.field);return ze.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ze.create(Bo(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return es.create(e.compositeFilter.filters.map((i=>Zw(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(e.compositeFilter.op))})(n):xt(30097,{filter:n})}function AD(n){return dD[n]}function RD(n){return mD[n]}function CD(n){return gD[n]}function Uo(n){return{fieldPath:n.canonicalString()}}function Bo(n){return en.fromServerFormat(n.fieldPath)}function Jw(n){return n instanceof ze?(function(e){if(e.op==="=="){if(mT(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NAN"}};if(dT(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(mT(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NAN"}};if(dT(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(e.field),op:RD(e.op),value:e.value}}})(n):n instanceof es?(function(e){const i=e.getFilters().map((r=>Jw(r)));return i.length===1?i[0]:{compositeFilter:{op:CD(e.op),filters:i}}})(n):xt(54877,{filter:n})}function ID(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function tS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,e,i,r,o=St.min(),c=St.min(),h=nn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t){this.yt=t}}function DD(n){const t=wD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Cn=new OD}addToCollectionParentIndex(t,e){return this.Cn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(kr.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class OD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new He(ue.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new He(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eS=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(eS,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="LruGarbageCollector",kD=1048576;function MT([n,t],[e,i]){const r=zt(n,e);return r===0?zt(t,i):r}class VD{constructor(t){this.Ir=t,this.buffer=new He(MT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();MT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class PD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(IT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ol(e)?ut(IT,"Ignoring IndexedDB error during garbage collection: ",e):await al(e)}await this.Vr(3e5)}))}}class LD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(sd.ce);const i=new VD(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(CT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,c=Date.now(),this.nthSequenceNumber(t,r)))).next((y=>(i=y,h=Date.now(),this.removeTargets(t,i,e)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((y=>(m=Date.now(),jo()<=jt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${y} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y}))))}}function jD(n,t){return new LD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.changes=new Ua((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&Vc(i.mutation,r,pi.empty(),he.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ut()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ut()){const r=Sa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=wc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Sa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ut())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=Ls();const c=kc(),h=(function(){return kc()})();return e.forEach(((f,m)=>{const _=i.get(m.key);r.has(m.key)&&(_===void 0||_.mutation instanceof Ba)?o=o.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),Vc(_.mutation,m,_.mutation.getFieldMask(),he.now())):c.set(m.key,pi.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,_)=>c.set(m,_))),e.forEach(((m,_)=>h.set(m,new UD(_,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=kc();let r=new ge(((c,h)=>c-h)),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let _=i.get(f)||pi.empty();_=h.applyToLocalView(m,_),i.set(f,_);const y=(r.get(h.batchId)||Ut()).add(f);r=r.insert(h.batchId,y)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,_=f.value,y=Lw();_.forEach((b=>{if(!o.has(b)){const E=Hw(e.get(b),i.get(b));E!==null&&y.set(b,E),o=o.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,y))}return st.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return _t.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):HM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(Sa());let h=Fc,f=o;return c.next((m=>st.forEach(m,((_,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(_)?st.resolve():this.remoteDocumentCache.getEntry(t,_).next((b=>{f=f.insert(_,b)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,Ut()))).next((_=>({batchId:h,changes:Pw(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next((i=>{let r=wc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=wc();return this.indexManager.getCollectionParents(t,o).next((h=>st.forEach(h,(f=>{const m=(function(y,b){return new od(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next((_=>{_.forEach(((y,b)=>{c=c.insert(y,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,cn.newInvalidDocument(_)))}));let h=wc();return c.forEach(((f,m)=>{const _=o.get(f);_!==void 0&&Vc(_.mutation,m,pi.empty(),he.now()),cd(e,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return st.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:$i(r.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:DD(r.bundledQuery),readTime:$i(r.readTime)}})(e)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.overlays=new ge(_t.comparator),this.qr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Sa();return st.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=Sa(),o=e.length+1,c=new _t(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ge(((m,_)=>m-_));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let _=o.get(m.largestBatchId);_===null&&(_=Sa(),o=o.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=Sa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,_)=>h.set(m,_))),!(h.size()>=r)););return st.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new oD(e,i));let o=this.qr.get(e);o===void 0&&(o=Ut(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.Qr=new He(Ke.$r),this.Ur=new He(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Ke(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Ke(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new _t(new ue([])),i=new Ke(e,t),r=new Ke(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new _t(new ue([])),i=new Ke(e,t),r=new Ke(e,t+1);let o=Ut();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Ke(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ke{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return _t.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||_t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ke.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new aD(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Ke(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Wp:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ke(e,0),r=new Ke(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(zt);return e.forEach((r=>{const o=new Ke(r,0),c=new Ke(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),st.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;_t.isDocumentKey(o)||(o=o.child(""));const c=new Ke(new _t(o),0);let h=new He(zt);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(f.Yr)),!0)}),c),st.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return st.forEach(e.mutations,(r=>{const o=new Ke(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Ke(e,0),r=this.Zr.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t){this.ri=t,this.docs=(function(){return new ge(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():cn.newInvalidDocument(e))}getEntries(t,e){let i=Ls();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():cn.newInvalidDocument(r))})),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ls();const c=e.path,h=new _t(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||bM(vM(_),i)<=0||(r.has(_.key)||cd(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){xt(9500)}ii(t,e){return st.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new KD(this)}getSize(t){return st.resolve(this.size)}}class KD extends zD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),st.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.persistence=t,this.si=new Ua((e=>t_(e)),e_),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new l_,this.targetCount=0,this.ai=tl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),st.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new tl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Pr(e),st.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),st.waitFor(o).next((()=>r))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),st.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,e){this.ui={},this.overlays={},this.ci=new sd(0),this.li=!1,this.li=!0,this.hi=new qD,this.referenceDelegate=t(this),this.Pi=new XD(this),this.indexManager=new ND,this.remoteDocumentCache=(function(r){return new YD(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new MD(e),this.Ii=new FD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new HD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new GD(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ut("MemoryPersistence","Starting transaction:",t);const r=new $D(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return st.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class $D extends xM{constructor(t){super(),this.currentSequenceNumber=t}}class c_{constructor(t){this.persistence=t,this.Ri=new l_,this.Vi=null}static mi(t){return new c_(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(i=>{const r=_t.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,St.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Uf{constructor(t,e){this.persistence=t,this.pi=new Ua((i=>SM(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=jD(this,e)}static mi(t,e){return new Uf(t,e)}Ei(){}di(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return st.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?st.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,St.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=pf(t.data.value)),e}br(t,e,i){return st.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return st.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Ut(),r=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new u_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FR()?8:EM(fn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new QD;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(jo()<=jt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",zo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(jo()<=jt.DEBUG&&ut("QueryEngine","Query:",zo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(jo()<=jt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",zo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xi(e))):st.resolve())}ys(t,e){if(yT(e))return st.resolve(null);let i=Xi(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=mp(e,null,"F"),i=Xi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ut(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,mp(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,i,r){return yT(e)||r.isEqual(St.min())?st.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?st.resolve(null):(jo()<=jt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zo(e)),this.vs(t,c,e,yM(r,Fc)).next((h=>h)))}))}Ds(t,e){let i=new He(kw(t));return e.forEach(((r,o)=>{cd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return jo()<=jt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",zo(e)),this.ps.getDocumentsMatchingQuery(t,e,kr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LocalStore",ZD=3e8;class JD{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new ge(zt),this.xs=new Ua((o=>t_(o)),e_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function tN(n,t,e,i){return new JD(n,t,e,i)}async function iS(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Ut();for(const m of r){c.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of o){h.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function eN(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,_){const y=m.batch,b=y.keys();let E=st.resolve();return b.forEach((C=>{E=E.next((()=>_.getEntry(f,C))).next((M=>{const N=m.docVersions.get(C);Qt(N!==null,48541),M.version.compareTo(N)<0&&(y.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),_.addEntry(M)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,y)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ut();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function sS(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function nN(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((_,y)=>{const b=r.get(y);if(!b)return;h.push(e.Pi.removeMatchingKeys(o,_.removedDocuments,y).next((()=>e.Pi.addMatchingKeys(o,_.addedDocuments,y))));let E=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?E=E.withResumeToken(nn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):_.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(_.resumeToken,i)),r=r.insert(y,E),(function(M,N,L){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=ZD?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(b,E,_)&&h.push(e.Pi.updateTargetData(o,E))}));let f=Ls(),m=Ut();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))})),h.push(iN(o,c,t.documentUpdates).next((_=>{f=_.ks,m=_.qs}))),!i.isEqual(St.min())){const _=e.Pi.getLastRemoteSnapshotVersion(o).next((y=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(_)}return st.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function iN(n,t,e){let i=Ut(),r=Ut();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Ls();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(St.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ut(h_,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function sN(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Wp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function rN(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,st.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new wr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function vp(n,t,e){const i=Rt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ol(c))throw c;ut(h_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function DT(n,t,e){const i=Rt(n);let r=St.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,_){const y=Rt(f),b=y.xs.get(_);return b!==void 0?st.resolve(y.Ms.get(b)):y.Pi.getTargetData(m,_)})(i,c,Xi(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:St.min(),e?o:Ut()))).next((h=>(aN(i,GM(t),h),{documents:h,Qs:o})))))}function aN(n,t,e){let i=n.Os.get(t)||St.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class NT{constructor(){this.activeTargetIds=WM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oN{constructor(){this.Mo=new NT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new NT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="ConnectivityMonitor";class kT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(OT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(OT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function bp(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="RestConnection",cN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Of?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=bp(),h=this.zo(t,e.toUriEncodedString());ut(jg,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:m}=new URL(h),_=La(m);return this.Jo(t,h,f,i,_).then((y=>(ut(jg,`Received RPC '${t}' ${c}: `,y),y)),(y=>{throw Qo(jg,`RPC '${t}' ${c} failed with error: `,y,"url: ",h,"request:",i),y}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=cN[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class fN extends uN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=bp();return new Promise(((h,f)=>{const m=new lw;m.setWithCredentials(!0),m.listenOnce(cw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case gf.NO_ERROR:const y=m.getResponseJson();ut(an,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(y)),h(y);break;case gf.TIMEOUT:ut(an,`RPC '${t}' ${c} timed out`),f(new mt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const b=m.getStatus();if(ut(an,`RPC '${t}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E?.error;if(C&&C.status&&C.message){const M=(function(L){const F=L.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(F)>=0?F:rt.UNKNOWN})(C.status);f(new mt(M,C.message))}else f(new mt(rt.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new mt(rt.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ut(an,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(r);ut(an,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",_,i,15)}))}T_(t,e,i){const r=bp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=fw(),h=hw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=o.join("");ut(an,`Creating RPC '${t}' stream ${r}: ${_}`,f);const y=c.createWebChannel(_,f);this.I_(y);let b=!1,E=!1;const C=new hN({Yo:N=>{E?ut(an,`Not sending because RPC '${t}' stream ${r} is closed:`,N):(b||(ut(an,`Opening RPC '${t}' stream ${r} transport.`),y.open(),b=!0),ut(an,`RPC '${t}' stream ${r} sending:`,N),y.send(N))},Zo:()=>y.close()}),M=(N,L,F)=>{N.listen(L,($=>{try{F($)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return M(y,Ec.EventType.OPEN,(()=>{E||(ut(an,`RPC '${t}' stream ${r} transport opened.`),C.o_())})),M(y,Ec.EventType.CLOSE,(()=>{E||(E=!0,ut(an,`RPC '${t}' stream ${r} transport closed`),C.a_(),this.E_(y))})),M(y,Ec.EventType.ERROR,(N=>{E||(E=!0,Qo(an,`RPC '${t}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),C.a_(new mt(rt.UNAVAILABLE,"The operation could not be completed")))})),M(y,Ec.EventType.MESSAGE,(N=>{if(!E){const L=N.data[0];Qt(!!L,16349);const F=L,$=F?.error||F[0]?.error;if($){ut(an,`RPC '${t}' stream ${r} received error:`,$);const Z=$.status;let Y=(function(S){const I=ke[S];if(I!==void 0)return Gw(I)})(Z),tt=$.message;Y===void 0&&(Y=rt.INTERNAL,tt="Unknown error status: "+Z+" with message "+$.message),E=!0,C.a_(new mt(Y,tt)),y.close()}else ut(an,`RPC '${t}' stream ${r} received:`,L),C.u_(L)}})),M(h,uw.STAT_EVENT,(N=>{N.stat===lp.PROXY?ut(an,`RPC '${t}' stream ${r} detected buffering proxy`):N.stat===lp.NOPROXY&&ut(an,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){return new pD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ut("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="PersistentStream";class aS{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Vs(e.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new mt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(VT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ut(VT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dN extends aS{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=vD(this.serializer,t),i=(function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?$i(c.readTime):St.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=yp(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=dp(f)?{documents:xD(o,f)}:{query:ED(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Xw(o,c.resumeToken);const m=gp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(St.min())>0){h.readTime=zf(o,c.snapshotVersion.toTimestamp());const m=gp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=SD(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=yp(this.serializer),e.removeTarget=t,this.q_(e)}}class mN extends aS{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=TD(t.writeResults,t.commitTime),i=$i(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=yp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>bD(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{}class pN extends gN{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,pp(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(rt.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,pp(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _N{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(e),this.aa=!1):ut("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="RemoteStore";class yN{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Fa(this)&&(ut(ka,"Restarting streams for network reachability change."),await(async function(f){const m=Rt(f);m.Ea.add(4),await uu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await md(m)})(this))}))})),this.Ra=new _N(i,r)}}async function md(n){if(Fa(n))for(const t of n.da)await t(!0)}async function uu(n){for(const t of n.da)await t(!1)}function oS(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),g_(e)?m_(e):ll(e).O_()&&d_(e,t))}function f_(n,t){const e=Rt(n),i=ll(e);e.Ia.delete(t),i.O_()&&lS(e,t),e.Ia.size===0&&(i.O_()?i.L_():Fa(e)&&e.Ra.set("Unknown"))}function d_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ll(n).Y_(t)}function lS(n,t){n.Va.Ue(t),ll(n).Z_(t)}function m_(n){n.Va=new fD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ll(n).start(),n.Ra.ua()}function g_(n){return Fa(n)&&!ll(n).x_()&&n.Ia.size>0}function Fa(n){return Rt(n).Ea.size===0}function cS(n){n.Va=void 0}async function vN(n){n.Ra.set("Online")}async function bN(n){n.Ia.forEach(((t,e)=>{d_(n,t)}))}async function TN(n,t){cS(n),g_(n)?(n.Ra.ha(t),m_(n)):n.Ra.set("Unknown")}async function xN(n,t,e){if(n.Ra.set("Online"),t instanceof Kw&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ut(ka,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Bf(n,i)}else if(t instanceof vf?n.Va.Ze(t):t instanceof Yw?n.Va.st(t):n.Va.tt(t),!e.isEqual(St.min()))try{const i=await sS(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.Ia.get(m);_&&o.Ia.set(m,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const _=o.Ia.get(f);if(!_)return;o.Ia.set(f,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),lS(o,f);const y=new wr(_.target,f,m,_.sequenceNumber);d_(o,y)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ut(ka,"Failed to raise snapshot:",i),await Bf(n,i)}}async function Bf(n,t,e){if(!ol(t))throw t;n.Ea.add(1),await uu(n),n.Ra.set("Offline"),e||(e=()=>sS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ut(ka,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await md(n)}))}function uS(n,t){return t().catch((e=>Bf(n,e,t)))}async function gd(n){const t=Rt(n),e=jr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wp;for(;EN(t);)try{const r=await sN(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,wN(t,r)}catch(r){await Bf(t,r)}hS(t)&&fS(t)}function EN(n){return Fa(n)&&n.Ta.length<10}function wN(n,t){n.Ta.push(t);const e=jr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function hS(n){return Fa(n)&&!jr(n).x_()&&n.Ta.length>0}function fS(n){jr(n).start()}async function SN(n){jr(n).ra()}async function AN(n){const t=jr(n);for(const e of n.Ta)t.ea(e.mutations)}async function RN(n,t,e){const i=n.Ta.shift(),r=r_.from(i,t,e);await uS(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await gd(n)}async function CN(n,t){t&&jr(n).X_&&await(async function(i,r){if((function(c){return cD(c)&&c!==rt.ABORTED})(r.code)){const o=i.Ta.shift();jr(i).B_(),await uS(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await gd(i)}})(n,t),hS(n)&&fS(n)}async function PT(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ut(ka,"RemoteStore received new credentials");const i=Fa(e);e.Ea.add(3),await uu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await md(e)}async function IN(n,t){const e=Rt(n);t?(e.Ea.delete(2),await md(e)):t||(e.Ea.add(2),await uu(e),e.Ra.set("Unknown"))}function ll(n){return n.ma||(n.ma=(function(e,i,r){const o=Rt(e);return o.sa(),new dN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:vN.bind(null,n),t_:bN.bind(null,n),r_:TN.bind(null,n),H_:xN.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),g_(n)?m_(n):n.Ra.set("Unknown")):(await n.ma.stop(),cS(n))}))),n.ma}function jr(n){return n.fa||(n.fa=(function(e,i,r){const o=Rt(e);return o.sa(),new mN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:SN.bind(null,n),r_:CN.bind(null,n),ta:AN.bind(null,n),na:RN.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await gd(n)):(await n.fa.stop(),n.Ta.length>0&&(ut(ka,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new p_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __(n,t){if(Vs("AsyncQueue",`${t}: ${n}`),ol(n))return new mt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(t){return new Go(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||_t.comparator(e.key,i.key):(e,i)=>_t.comparator(e.key,i.key),this.keyedMap=wc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Go)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Go;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.ga=new ge(_t.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):xt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class el{constructor(t,e,i,r,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new el(t,e,Go.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ld(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class DN{constructor(){this.queries=jT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=jT(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new mt(rt.ABORTED,"Firestore shutting down"))}}function jT(){return new Ua((n=>Ow(n)),ld)}async function dS(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new MN,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=__(c,`Initialization of query '${zo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&y_(e)}async function mS(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function NN(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&y_(e)}function ON(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function y_(n){n.Ca.forEach((t=>{t.next()}))}var Tp,zT;(zT=Tp||(Tp={})).Ma="default",zT.Cache="cache";class gS{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new el(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.key=t}}class _S{constructor(t){this.key=t}}class kN{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=kw(t),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new LT,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((_,y)=>{const b=r.get(_),E=cd(this.query,y)?y:null,C=!!b&&this.mutatedKeys.has(b.key),M=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;b&&E?b.data.isEqual(E.data)?C!==M&&(i.track({type:3,doc:E}),N=!0):this.su(b,E)||(i.track({type:2,doc:E}),N=!0,(f&&this.eu(E,f)>0||m&&this.eu(E,m)<0)&&(h=!0)):!b&&E?(i.track({type:0,doc:E}),N=!0):b&&!E&&(i.track({type:1,doc:b}),N=!0,(f||m)&&(h=!0)),N&&(E?(c=c.add(E),o=M?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,y)=>(function(E,C){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:N})}};return M(E)-M(C)})(_.type,y.type)||this.eu(_.doc,y.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new el(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new _S(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new pS(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const v_="SyncEngine";class VN{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class PN{constructor(t){this.key=t,this.hu=!1}}class LN{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ua((h=>Ow(h)),ld),this.Iu=new Map,this.Eu=new Set,this.du=new ge(_t.comparator),this.Au=new Map,this.Ru=new l_,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jN(n,t,e=!0){const i=ES(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await yS(i,t,e,!0),r}async function zN(n,t){const e=ES(n);await yS(e,t,!0,!1)}async function yS(n,t,e,i){const r=await rN(n.localStore,Xi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await UN(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&oS(n.remoteStore,r),h}async function UN(n,t,e,i,r){n.pu=(y,b,E)=>(async function(M,N,L,F){let $=N.view.ru(L);$.Cs&&($=await DT(M.localStore,N.query,!1).then((({documents:R})=>N.view.ru(R,$))));const Z=F&&F.targetChanges.get(N.targetId),Y=F&&F.targetMismatches.get(N.targetId)!=null,tt=N.view.applyChanges($,M.isPrimaryClient,Z,Y);return BT(M,N.targetId,tt.au),tt.snapshot})(n,y,b,E);const o=await DT(n.localStore,t,!0),c=new kN(t,o.Qs),h=c.ru(o.documents),f=cu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,f);BT(n,e,m.au);const _=new VN(t,e,c);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function BN(n,t,e){const i=Rt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!ld(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await vp(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&f_(i.remoteStore,r.targetId),xp(i,r.targetId)})).catch(al)):(xp(i,r.targetId),await vp(i.localStore,r.targetId,!0))}async function FN(n,t){const e=Rt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),f_(e.remoteStore,i.targetId))}async function HN(n,t,e){const i=QN(n);try{const r=await(function(c,h){const f=Rt(c),m=he.now(),_=h.reduce(((E,C)=>E.add(C.key)),Ut());let y,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let C=Ls(),M=Ut();return f.Ns.getEntries(E,_).next((N=>{C=N,C.forEach(((L,F)=>{F.isValidDocument()||(M=M.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,C))).next((N=>{y=N;const L=[];for(const F of h){const $=sD(F,y.get(F.key).overlayedDocument);$!=null&&L.push(new Ba(F.key,$,Aw($.value.mapValue),vi.exists(!0)))}return f.mutationQueue.addMutationBatch(E,m,L,h)})).next((N=>{b=N;const L=N.applyToLocalDocumentSet(y,M);return f.documentOverlayCache.saveOverlays(E,N.batchId,L)}))})).then((()=>({batchId:b.batchId,changes:Pw(y)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new ge(zt)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(i,r.batchId,e),await hu(i,r.changes),await gd(i.remoteStore)}catch(r){const o=__(r,"Failed to persist write");e.reject(o)}}async function vS(n,t){const e=Rt(n);try{const i=await nN(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Qt(c.hu,14607):r.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await hu(e,i,t)}catch(i){await al(i)}}function UT(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Rt(c);f.onlineState=h;let m=!1;f.queries.forEach(((_,y)=>{for(const b of y.Sa)b.va(h)&&(m=!0)})),m&&y_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function qN(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new ge(_t.comparator);c=c.insert(o,cn.newNoDocument(o,St.min()));const h=Ut().add(o),f=new fd(St.min(),new Map,new ge(zt),c,h);await vS(i,f),i.du=i.du.remove(o),i.Au.delete(t),b_(i)}else await vp(i.localStore,t,!1).then((()=>xp(i,t,e))).catch(al)}async function GN(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await eN(e.localStore,t);TS(e,i,null),bS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await hu(e,r)}catch(r){await al(r)}}async function YN(n,t,e){const i=Rt(n);try{const r=await(function(c,h){const f=Rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return f.mutationQueue.lookupMutationBatch(m,h).next((y=>(Qt(y!==null,37113),_=y.keys(),f.mutationQueue.removeMutationBatch(m,y)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>f.localDocuments.getDocuments(m,_)))}))})(i.localStore,t);TS(i,t,e),bS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await hu(i,r)}catch(r){await al(r)}}function bS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function TS(n,t,e){const i=Rt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function xp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||xS(n,i)}))}function xS(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(f_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),b_(n))}function BT(n,t,e){for(const i of e)i instanceof pS?(n.Ru.addReference(i.key,t),KN(n,i)):i instanceof _S?(ut(v_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||xS(n,i.key)):xt(19791,{wu:i})}function KN(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ut(v_,"New document in limbo: "+e),n.Eu.add(i),b_(n))}function b_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new _t(ue.fromString(t)),i=n.fu.next();n.Au.set(i,new PN(e)),n.du=n.du.insert(e,i),oS(n.remoteStore,new wr(Xi(n_(e.path)),i,"TargetPurposeLimboResolution",sd.ce))}}async function hu(n,t,e){const i=Rt(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const _=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){r.push(m);const _=u_.As(f.targetId,m);o.push(_)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,m){const _=Rt(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>st.forEach(m,(b=>st.forEach(b.Es,(E=>_.persistence.referenceDelegate.addReference(y,b.targetId,E))).next((()=>st.forEach(b.ds,(E=>_.persistence.referenceDelegate.removeReference(y,b.targetId,E)))))))))}catch(y){if(!ol(y))throw y;ut(h_,"Failed to update sequence numbers: "+y)}for(const y of m){const b=y.targetId;if(!y.fromCache){const E=_.Ms.get(b),C=E.snapshotVersion,M=E.withLastLimboFreeSnapshotVersion(C);_.Ms=_.Ms.insert(b,M)}}})(i.localStore,o))}async function XN(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ut(v_,"User change. New user:",t.toKey());const i=await iS(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new mt(rt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await hu(e,i.Ls)}}function $N(n,t){const e=Rt(n),i=e.Au.get(t);if(i&&i.hu)return Ut().add(i.key);{let r=Ut();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function ES(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$N.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qN.bind(null,t),t.Pu.H_=NN.bind(null,t.eventManager),t.Pu.yu=ON.bind(null,t.eventManager),t}function QN(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YN.bind(null,t),t}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return tN(this.persistence,new WD,t.initialUser,this.serializer)}Cu(t){return new nS(c_.mi,this.serializer)}Du(t){return new oN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class WN extends Ff{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof Uf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new PD(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new nS((i=>Uf.mi(i,e)),this.serializer)}}class Ep{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>UT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XN.bind(null,this.syncEngine),await IN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new DN})()}createDatastore(t){const e=dd(t.databaseInfo.databaseId),i=(function(o){return new fN(o)})(t.databaseInfo);return(function(o,c,h,f){return new pN(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new yN(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>UT(this.syncEngine,e,0)),(function(){return kT.v()?new kT:new lN})())}createSyncEngine(t,e){return(function(r,o,c,h,f,m,_){const y=new LN(r,o,c,h,f,m);return _&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Rt(e);ut(ka,"RemoteStore shutting down."),i.Ea.add(5),await uu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class ZN{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ln.UNAUTHENTICATED,this.clientId=$p.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ut(zr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ut(zr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=__(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Ug(n,t){n.asyncQueue.verifyOperationInProgress(),ut(zr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await iS(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function FT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await JN(n);ut(zr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>PT(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>PT(t.remoteStore,r))),n._onlineComponents=t}async function JN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ut(zr,"Using user provided OfflineComponentProvider");try{await Ug(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Qo("Error using user provided cache. Falling back to memory cache: "+e),await Ug(n,new Ff)}}else ut(zr,"Using default OfflineComponentProvider"),await Ug(n,new WN(void 0));return n._offlineComponents}async function SS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ut(zr,"Using user provided OnlineComponentProvider"),await FT(n,n._uninitializedComponentsProvider._online)):(ut(zr,"Using default OnlineComponentProvider"),await FT(n,new Ep))),n._onlineComponents}function tO(n){return SS(n).then((t=>t.syncEngine))}async function AS(n){const t=await SS(n),e=t.eventManager;return e.onListen=jN.bind(null,t.syncEngine),e.onUnlisten=BN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=zN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=FN.bind(null,t.syncEngine),e}function eO(n,t,e={}){const i=new Ns;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const _=new wS({next:b=>{_.Nu(),c.enqueueAndForget((()=>mS(o,y)));const E=b.docs.has(h);!E&&b.fromCache?m.reject(new mt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&f&&f.source==="server"?m.reject(new mt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),y=new gS(n_(h.path),_,{includeMetadataChanges:!0,qa:!0});return dS(o,y)})(await AS(n),n.asyncQueue,t,e,i))),i.promise}function nO(n,t,e={}){const i=new Ns;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const _=new wS({next:b=>{_.Nu(),c.enqueueAndForget((()=>mS(o,y))),b.fromCache&&f.source==="server"?m.reject(new mt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),y=new gS(h,_,{includeMetadataChanges:!0,qa:!0});return dS(o,y)})(await AS(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firestore.googleapis.com",qT=!0;class GT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CS,this.ssl=qT}else this.host=t.host,this.ssl=t.ssl??qT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kD)throw new mt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_M("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RS(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pd{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new oM;switch(i.type){case"firstParty":return new hM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=HT.get(e);i&&(ut("ComponentProvider","Removing Datastore"),HT.delete(e),i.terminate())})(this),Promise.resolve()}}function iO(n,t,e,i={}){n=Ps(n,pd);const r=La(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Op(`https://${h}`),kp("Firestore",!0)),o.host!==CS&&o.host!==h&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!Ma(f,c)&&(n._setSettings(f),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=ln.MOCK_USER;else{m=SE(i.mockUserToken,n._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new mt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new ln(y)}n._authCredentials=new lM(new mw(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _d(this.firestore,t,this._query)}}class Be{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(ou(e,Be._jsonSchema))return new Be(t,i||null,new _t(ue.fromString(e.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Ve("string",Be._jsonSchemaVersion),referencePath:Ve("string")};class Dr extends _d{constructor(t,e,i){super(t,e,n_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new _t(t))}withConverter(t){return new Dr(this.firestore,t,this._path)}}function yd(n,t,...e){if(n=Jn(n),gw("collection","path",t),n instanceof pd){const i=ue.fromString(t,...e);return rT(i),new Dr(n,null,i)}{if(!(n instanceof Be||n instanceof Dr))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return rT(i),new Dr(n.firestore,null,i)}}function cl(n,t,...e){if(n=Jn(n),arguments.length===1&&(t=$p.newId()),gw("doc","path",t),n instanceof pd){const i=ue.fromString(t,...e);return sT(i),new Be(n,null,new _t(i))}{if(!(n instanceof Be||n instanceof Dr))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return sT(i),new Be(n.firestore,n instanceof Dr?n.converter:null,new _t(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="AsyncQueue";class KT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rS(this,"async_queue_retry"),this._c=()=>{const i=zg();i&&ut(YT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=zg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=zg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;ut(YT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",XT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=p_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&xt(47125,{Pc:XT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function XT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class ul extends pd{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new KT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new KT(t),this._firestoreClient=void 0,await t}}}function sO(n,t){const e=typeof n=="object"?n:Lp(),i=typeof n=="string"?n:Of,r=td(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=xE("firestore");o&&iO(r,...o)}return r}function T_(n){if(n._terminated)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rO(n),n._firestoreClient}function rO(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new CM(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new ZN(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wn(nn.fromBase64String(t))}catch(e){throw new mt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ou(t,Wn._jsonSchema))return Wn.fromBase64String(t.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Ve("string",Wn._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(ou(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Ve("string",Qi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ou(t,Wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Wi(t.vectorValues);throw new mt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Ve("string",Wi._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^__.*__$/;class oO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ba(t,this.data,this.fieldMask,e,this.fieldTransforms):new lu(t,this.data,e,this.fieldTransforms)}}function MS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:n})}}class E_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new E_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Hf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(MS(this.Ac)&&aO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class lO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||dd(t)}Cc(t,e,i,r=!1){return new E_({Ac:t,methodName:e,Dc:i,path:en.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DS(n){const t=n._freezeSettings(),e=dd(n._databaseId);return new lO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function NS(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);PS("Data must be an object, but it was:",c,i);const h=kS(i,c);let f,m;if(o.merge)f=new pi(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const y of o.mergeFields){const b=cO(t,y,e);if(!c.contains(b))throw new mt(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);hO(_,b)||_.push(b)}f=new pi(_),m=c.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,m=c.fieldTransforms;return new oO(new Qn(h),f,m)}function OS(n,t){if(VS(n=Jn(n)))return PS("Unsupported field value:",t,n),kS(n,t);if(n instanceof IS)return(function(i,r){if(!MS(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=OS(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=he.fromDate(i);return{timestampValue:zf(r.serializer,o)}}if(i instanceof he){const o=new he(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zf(r.serializer,o)}}if(i instanceof Qi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wn)return{bytesValue:Xw(r.serializer,i._byteString)};if(i instanceof Be){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:o_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Wi)return(function(c,h){return{mapValue:{fields:{[ww]:{stringValue:Sw},[kf]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return i_(h.serializer,m)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Qp(i)}`)})(n,t)}function kS(n,t){const e={};return yw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):za(n,((i,r)=>{const o=OS(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function VS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof he||n instanceof Qi||n instanceof Wn||n instanceof Be||n instanceof IS||n instanceof Wi)}function PS(n,t,e){if(!VS(e)||!pw(e)){const i=Qp(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function cO(n,t,e){if((t=Jn(t))instanceof x_)return t._internalPath;if(typeof t=="string")return LS(n,t);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,e)}const uO=new RegExp("[~\\*/\\[\\]]");function LS(n,t,e){if(t.search(uO)>=0)throw Hf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new x_(...t.split("."))._internalPath}catch{throw Hf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Hf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new mt(rt.INVALID_ARGUMENT,h+n+f)}function hO(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(zS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class fO extends jS{data(){return super.data()}}function zS(n,t){return typeof t=="string"?LS(n,t):t instanceof x_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mO{convertValue(t,e="none"){switch(Lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Pr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return za(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[kf].arrayValue?.values?.map((i=>Ee(i.doubleValue)));return new Wi(e)}convertGeoPoint(t){return new Qi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ad(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Hc(t));default:return null}}convertTimestamp(t){const e=Vr(t);return new he(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ue.fromString(t);Qt(tS(i),9688,{name:t});const r=new qc(i.get(1),i.get(3)),o=new _t(i.popFirst(5));return r.isEqual(e)||Vs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Ac{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ca extends jS{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(zS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ca._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Ve("string",Ca._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class bf extends Ca{data(t={}){return super.data(t)}}class Yo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ac(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new bf(this._firestore,this._userDataWriter,i.key,i,new Ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new bf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ac(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new bf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ac(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,_=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:gO(h.type),doc:f,oldIndex:m,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Yo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$p.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function gO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n){n=Ps(n,Be);const t=Ps(n.firestore,ul);return eO(T_(t),n._key).then((e=>yO(t,n,e)))}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:Ve("string",Yo._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class BS extends mO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}function S_(n){n=Ps(n,_d);const t=Ps(n.firestore,ul),e=T_(t),i=new BS(t);return dO(n._query),nO(e,n._query).then((r=>new Yo(t,i,n,r)))}function FS(n,t,e){n=Ps(n,Be);const i=Ps(n.firestore,ul),r=US(n.converter,t);return A_(i,[NS(DS(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,vi.none())])}function pO(n){return A_(Ps(n.firestore,ul),[new s_(n._key,vi.none())])}function _O(n,t){const e=Ps(n.firestore,ul),i=cl(n),r=US(n.converter,t);return A_(e,[NS(DS(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,vi.exists(!1))]).then((()=>i))}function A_(n,t){return(function(i,r){const o=new Ns;return i.asyncQueue.enqueueAndForget((async()=>HN(await tO(i),r,o))),o.promise})(T_(n),t)}function yO(n,t,e){const i=e.docs.get(t._key),r=new BS(n);return new Ca(n,r,t._key,i,new Ac(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){rl=r})(ja),Da(new Or("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new ul(new cM(i.getProvider("auth-internal")),new fM(c,i.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new mt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(m.options.projectId,_)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Yi(tT,eT,t),Yi(tT,eT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firebasestorage.googleapis.com",vO="storageBucket",bO=120*1e3,TO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends is{constructor(t,e,i=0){super(Bg(t),`Firebase Storage: ${e} (${Bg(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ss.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Bg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ns;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ns||(ns={}));function Bg(n){return"storage/"+n}function xO(){const n="An unknown error occurred, please check the error payload for server response.";return new ss(ns.UNKNOWN,n)}function EO(){return new ss(ns.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wO(){return new ss(ns.CANCELED,"User canceled the upload/download.")}function SO(n){return new ss(ns.INVALID_URL,"Invalid URL '"+n+"'.")}function AO(n){return new ss(ns.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $T(n){return new ss(ns.INVALID_ARGUMENT,n)}function qS(){return new ss(ns.APP_DELETED,"The Firebase app was deleted.")}function RO(n){return new ss(ns.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=_i.makeFromUrl(t,e)}catch{return new _i(t,"")}if(i.path==="")return i;throw AO(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}const _="v[A-Za-z0-9_]+",y=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${_}/b/${r}/o${b}`,"i"),C={bucket:1,path:3},M=e===HS?"(?:storage.googleapis.com|storage.cloud.google.com)":e,N="([^?#]*)",L=new RegExp(`^https?://${M}/${r}/${N}`,"i"),$=[{regex:h,indices:f,postModify:o},{regex:E,indices:C,postModify:m},{regex:L,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<$.length;Z++){const Y=$[Z],tt=Y.regex.exec(t);if(tt){const R=tt[Y.indices.bucket];let S=tt[Y.indices.path];S||(S=""),i=new _i(R,S),Y.postModify(i);break}}if(i==null)throw SO(t);return i}}class CO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let m=!1;function _(...N){m||(m=!0,t.apply(null,N))}function y(N){r=setTimeout(()=>{r=null,n(E,f())},N)}function b(){o&&clearTimeout(o)}function E(N,...L){if(m){b();return}if(N){b(),_.call(null,N,...L);return}if(f()||c){b(),_.call(null,N,...L);return}i<64&&(i*=2);let $;h===1?(h=2,$=0):$=(i+Math.random())*1e3,y($)}let C=!1;function M(N){C||(C=!0,b(),!m&&(r!==null?(N||(h=2),clearTimeout(r),y(0)):N||(h=1)))}return y(0),o=setTimeout(()=>{c=!0,M(!0)},e),M}function MO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(n){return n!==void 0}function QT(n,t,e,i){if(i<t)throw $T(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw $T(`Invalid value for '${n}'. Expected ${e} or less.`)}function NO(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var qf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(qf||(qf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t,e,i,r,o,c,h,f,m,_,y,b=!0,E=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=y,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Xh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===qf.NO_ERROR,f=o.getStatus();if(!h||OO(f,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===qf.ABORT;i(!1,new Xh(!1,null,_));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Xh(m,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());DO(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=xO();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?qS():wO();c(f)}else{const f=EO();c(f)}};this.canceled_?e(!1,new Xh(!1,null,!0)):this.backoffId_=IO(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&MO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xh{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function VO(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function PO(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function LO(n,t){t&&(n["X-Firebase-GMPID"]=t)}function jO(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function zO(n,t,e,i,r,o,c=!0,h=!1){const f=NO(n.urlParams),m=n.url+f,_=Object.assign({},n.headers);return LO(_,t),VO(_,e),PO(_,o),jO(_,i),new kO(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function BO(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,e){this._service=t,e instanceof _i?this._location=e:this._location=_i.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Gf(t,e)}get root(){const t=new _i(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BO(this._location.path)}get storage(){return this._service}get parent(){const t=UO(this._location.path);if(t===null)return null;const e=new _i(this._location.bucket,t);return new Gf(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw RO(t)}}function WT(n,t){const e=t?.[vO];return e==null?null:_i.makeFromBucketSpec(e,n)}function FO(n,t,e,i={}){n.host=`${t}:${e}`;const r=La(t);r&&(Op(`https://${n.host}/b`),kp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:SE(o,n.app.options.projectId))}class HO{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=HS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bO,this._maxUploadRetryTime=TO,this._requests=new Set,r!=null?this._bucket=_i.makeFromBucketSpec(r,this._host):this._bucket=WT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,t):this._bucket=WT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){QT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){QT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gf(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new CO(qS());{const c=zO(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const ZT="@firebase/storage",JT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="storage";function qO(n=Lp(),t){n=Jn(n);const i=td(n,GS).getImmediate({identifier:t}),r=xE("storage");return r&&GO(i,...r),i}function GO(n,t,e,i={}){FO(n,t,e,i)}function YO(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new HO(e,i,r,t,ja)}function KO(){Da(new Or(GS,YO,"PUBLIC").setMultipleInstances(!0)),Yi(ZT,JT,""),Yi(ZT,JT,"esm2020")}KO();const XO={apiKey:"AIzaSyBpLnEBDMz-FXoSYWN9EWsUuMAIu-Dpt9M",authDomain:"drivesense-7cac6.firebaseapp.com",projectId:"drivesense-7cac6",storageBucket:"drivesense-7cac6.firebasestorage.app",messagingSenderId:"751400174977",appId:"1:751400174977:web:c1d4109794ca4d41bb5480"},R_=CE(XO),$O=rM(R_),js=sO(R_);qO(R_);const QO=({isLoggedIn:n,setIsLoggedIn:t,setUser:e})=>{const i=async()=>{const r=new Cs;try{const c=(await mI($O,r)).user;e({displayName:c.displayName,email:c.email,photoURL:c.photoURL,uid:c.uid});const h=cl(js,"users",c.uid);(await w_(h)).exists()||await FS(h,{uid:c.uid,name:c.displayName,email:c.email,photoURL:c.photoURL,createdAt:new Date().toISOString()}),t(m=>!m),n&&console.log("Google Sign-In successful:",c)}catch(o){console.error("Google Sign-In error:",o)}};return D.jsxs("div",{className:`flex flex-row items-center justify-center px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)]  \r
            bg-[var(--blue-color)] text-[var(--light-color)] cursor-pointer rounded-full gap-[calc(0.2vw+0.3rem)] \r
            hover:bg-[var(--purple-color)] hover:text-[var(--dark-color)] transition duration-300 ease-in-out`,children:[D.jsx("i",{className:"bxl bx-google bx-tada-hover text-[calc(0.4vw+0.8rem)]"}),D.jsx("span",{onClick:i,className:"text-[calc(0.4vw+0.5rem)]",children:"Sign in with Google"})]})};function WO({isDark:n,setIsDark:t,isLoggedIn:e,setIsLoggedIn:i,setUser:r}){const o=sn(),[c,h]=gt.useState(!1),[f,m]=gt.useState(!1),_=()=>{m(y=>!y)};return D.jsxs("div",{className:`
            ${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[D.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&D.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(y=>!y)}),D.jsx("img",{src:n?Np:Ef,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),D.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),!o&&D.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Home"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Features"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]}),D.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"}),D.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)] text-[calc(0.4vw+0.5rem)]":"text-[var(--light-color)] bg-[var(--dark-color)] text-[calc(0.4vw+0.5rem)]"}
                    px-[calc(0.4vw+0.6rem)] py-[calc(0.2vw+0.3rem)] rounded-md cursor-pointer
                    hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)] font-semibold`,onClick:()=>_(),children:"Sign In"}),f&&D.jsx("div",{className:"fade-in absolute top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:D.jsxs("div",{className:"h-[420px] w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-start relative rounded-xl rounded-tr-none",children:[D.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                            flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>m(y=>!y)}),D.jsxs("div",{className:"w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[D.jsx("img",{src:Ef,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer",alt:""}),D.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Sign in to your account"}),D.jsx(QO,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),D.jsx("span",{className:"text-[calc(0.4vw+0.5rem)]",children:"Or continue with"}),D.jsx("input",{type:"email",placeholder:"Email",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),D.jsx("input",{type:"password",placeholder:"Password",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),D.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,children:"Continue"}),D.jsxs("span",{className:"text-[calc(0.4vw+0.5rem)]",children:["Don't have an account?",D.jsx("span",{className:"text-[calc(0.4vw+0.5rem)] text-[var(--blue-color)] hovered cursor-pointer",children:" Sign Up"})]})]})]})}),D.jsx(_E,{isDark:n,setIsDark:t})]}),o&&c&&D.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:D.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[D.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(y=>!y)}),D.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Home"}),D.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Features"}),D.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Github"})]})})]})}const ZO="/DriveSense/assets/car-img-DqpG-dY6.png",$h=({icon:n,title:t,info:e,isDark:i})=>{const r=sn();return D.jsxs("div",{className:`
            ${r?"w-[152px] h-[240px]":"flex-1"}
            flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)] 
            p-[calc(0.4vw+0.6rem)] rounded-lg border border-[var(--border-color)]`,children:[n,D.jsx("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} font-semibold text-center`,children:t}),D.jsxs("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} text-center`,children:[e,"."]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fu(n){return n+.5|0}const Sr=(n,t,e)=>Math.max(Math.min(n,e),t);function Rc(n){return Sr(fu(n*2.55),0,255)}function Nr(n){return Sr(fu(n*255),0,255)}function Rs(n){return Sr(fu(n/2.55)/100,0,1)}function tx(n){return Sr(fu(n*100),0,100)}const Xn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wp=[..."0123456789ABCDEF"],JO=n=>wp[n&15],tk=n=>wp[(n&240)>>4]+wp[n&15],Qh=n=>(n&240)>>4===(n&15),ek=n=>Qh(n.r)&&Qh(n.g)&&Qh(n.b)&&Qh(n.a);function nk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Xn[n[1]]*17,g:255&Xn[n[2]]*17,b:255&Xn[n[3]]*17,a:t===5?Xn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Xn[n[1]]<<4|Xn[n[2]],g:Xn[n[3]]<<4|Xn[n[4]],b:Xn[n[5]]<<4|Xn[n[6]],a:t===9?Xn[n[7]]<<4|Xn[n[8]]:255})),e}const ik=(n,t)=>n<255?t(n):"";function sk(n){var t=ek(n)?JO:tk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+ik(n.a,t):void 0}const rk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YS(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function ak(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function ok(n,t,e){const i=YS(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function lk(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function C_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,m,_;return o!==c&&(_=o-c,m=h>.5?_/(2-o-c):_/(o+c),f=lk(e,i,r,_,o),f=f*60+.5),[f|0,m||0,h]}function I_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Nr)}function M_(n,t,e){return I_(YS,n,t,e)}function ck(n,t,e){return I_(ok,n,t,e)}function uk(n,t,e){return I_(ak,n,t,e)}function KS(n){return(n%360+360)%360}function hk(n){const t=rk.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Rc(+t[5]):Nr(+t[5]));const r=KS(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=ck(r,o,c):t[1]==="hsv"?i=uk(r,o,c):i=M_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function fk(n,t){var e=C_(n);e[0]=KS(e[0]+t),e=M_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function dk(n){if(!n)return;const t=C_(n),e=t[0],i=tx(t[1]),r=tx(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Rs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const ex={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mk(){const n={},t=Object.keys(nx),e=Object.keys(ex);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,ex[o]);o=parseInt(nx[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Wh;function gk(n){Wh||(Wh=mk(),Wh.transparent=[0,0,0,0]);const t=Wh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const pk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _k(n){const t=pk.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Rc(c):Sr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Rc(i):Sr(i,0,255)),r=255&(t[4]?Rc(r):Sr(r,0,255)),o=255&(t[6]?Rc(o):Sr(o,0,255)),{r:i,g:r,b:o,a:e}}}function yk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Rs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Fg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Po=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function vk(n,t,e){const i=Po(Rs(n.r)),r=Po(Rs(n.g)),o=Po(Rs(n.b));return{r:Nr(Fg(i+e*(Po(Rs(t.r))-i))),g:Nr(Fg(r+e*(Po(Rs(t.g))-r))),b:Nr(Fg(o+e*(Po(Rs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Zh(n,t,e){if(n){let i=C_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=M_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function XS(n,t){return n&&Object.assign(t||{},n)}function ix(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Nr(n[3]))):(t=XS(n,{r:0,g:0,b:0,a:1}),t.a=Nr(t.a)),t}function bk(n){return n.charAt(0)==="r"?_k(n):hk(n)}class Xc{constructor(t){if(t instanceof Xc)return t;const e=typeof t;let i;e==="object"?i=ix(t):e==="string"&&(i=nk(t)||gk(t)||bk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=XS(this._rgb);return t&&(t.a=Rs(t.a)),t}set rgb(t){this._rgb=ix(t)}rgbString(){return this._valid?yk(this._rgb):void 0}hexString(){return this._valid?sk(this._rgb):void 0}hslString(){return this._valid?dk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=vk(this._rgb,t._rgb,e)),this}clone(){return new Xc(this.rgb)}alpha(t){return this._rgb.a=Nr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=fu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zh(this._rgb,2,t),this}darken(t){return Zh(this._rgb,2,-t),this}saturate(t){return Zh(this._rgb,1,t),this}desaturate(t){return Zh(this._rgb,1,-t),this}rotate(t){return fk(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ws(){}const Tk=(()=>{let n=0;return()=>n++})();function $t(n){return n==null}function Ue(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ti(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Fi(n,t){return ti(n)?n:t}function Nt(n,t){return typeof n>"u"?t:n}const xk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,$S=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ce(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,c;if(Ue(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Yf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Kf(n){if(Ue(n))return n.map(Kf);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Kf(n[e[r]]);return t}return n}function QS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Ek(n,t,e,i){if(!QS(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?$c(r,o,i):t[n]=Kf(o)}function $c(n,t,e){const i=Ue(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||Ek;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let m=0,_=f.length;m<_;++m)o(f[m],n,c,e)}return n}function Pc(n,t){return $c(n,t,{merger:wk})}function wk(n,t,e){if(!QS(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?Pc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Kf(r))}const sx={"":n=>n,x:n=>n.x,y:n=>n.y};function Sk(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Ak(n){const t=Sk(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Va(n,t){return(sx[t]||(sx[t]=Ak(t)))(n)}function D_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Qc=n=>typeof n<"u",Ur=n=>typeof n=="function",rx=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Rk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ee=Math.PI,ye=2*ee,Ck=ye+ee,Xf=Number.POSITIVE_INFINITY,Ik=ee/180,Fe=ee/2,ya=ee/4,ax=ee*2/3,WS=Math.log10,Zi=Math.sign;function Lc(n,t,e){return Math.abs(n-t)<e}function ox(n){const t=Math.round(n);n=Lc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(WS(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Mk(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function Dk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Wc(n){return!Dk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Nk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Ok(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ds(n){return n*(ee/180)}function kk(n){return n*(180/ee)}function lx(n){if(!ti(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function ZS(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ee&&(o+=ye),{angle:o,distance:r}}function Sp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Vk(n,t){return(n-t+Ck)%ye-ee}function mi(n){return(n%ye+ye)%ye}function Zc(n,t,e,i){const r=mi(n),o=mi(t),c=mi(e),h=mi(o-r),f=mi(c-r),m=mi(r-o),_=mi(r-c);return r===o||r===c||i&&o===c||h>f&&m<_}function un(n,t,e){return Math.max(t,Math.min(e,n))}function Pk(n){return un(n,-32768,32767)}function Ar(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function N_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Aa=(n,t,e,i)=>N_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),Lk=(n,t,e)=>N_(n,e,i=>n[i][t]>=e);function jk(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const JS=["push","pop","shift","splice","unshift"];function zk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),JS.forEach(e=>{const i="_onData"+D_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function cx(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(JS.forEach(o=>{delete n[o]}),delete n._chartjs)}function t1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const e1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function n1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,e1.call(window,()=>{i=!1,n.apply(t,e)}))}}function Uk(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const O_=n=>n==="start"?"left":n==="end"?"right":"center",on=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Bk=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Fk(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,_=c.axis,{min:y,max:b,minDefined:E,maxDefined:C}=c.getUserBounds();if(E){if(r=Math.min(Aa(f,_,y).lo,e?i:Aa(t,_,c.getPixelForValue(y)).lo),m){const M=f.slice(0,r+1).reverse().findIndex(N=>!$t(N[h.axis]));r-=Math.max(0,M)}r=un(r,0,i-1)}if(C){let M=Math.max(Aa(f,c.axis,b,!0).hi+1,e?0:Aa(t,_,c.getPixelForValue(b),!0).hi+1);if(m){const N=f.slice(M-1).findIndex(L=>!$t(L[h.axis]));M+=Math.max(0,N)}o=un(M,r,i)-r}else o=i-r}return{start:r,count:o}}function Hk(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Jh=n=>n===0||n===1,ux=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ye/e)),hx=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ye/e)+1,jc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Fe)+1,easeOutSine:n=>Math.sin(n*Fe),easeInOutSine:n=>-.5*(Math.cos(ee*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Jh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Jh(n)?n:ux(n,.075,.3),easeOutElastic:n=>Jh(n)?n:hx(n,.075,.3),easeInOutElastic(n){return Jh(n)?n:n<.5?.5*ux(n*2,.1125,.45):.5+.5*hx(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-jc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?jc.easeInBounce(n*2)*.5:jc.easeOutBounce(n*2-1)*.5+.5};function k_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fx(n){return k_(n)?n:new Xc(n)}function Hg(n){return k_(n)?n:new Xc(n).saturate(.5).darken(.1).hexString()}const qk=["x","y","borderWidth","radius","tension"],Gk=["color","borderColor","backgroundColor"];function Yk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Gk},numbers:{type:"number",properties:qk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Kk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dx=new Map;function Xk(n,t){t=t||{};const e=n+JSON.stringify(t);let i=dx.get(e);return i||(i=new Intl.NumberFormat(n,t),dx.set(e,i)),i}function V_(n,t,e){return Xk(t,e).format(n)}const $k={values(n){return Ue(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=Qk(n,e)}const c=WS(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),V_(n,i,f)}};function Qk(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var i1={formatters:$k};function Wk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:i1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Pa=Object.create(null),Ap=Object.create(null);function zc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function qg(n,t,e){return typeof t=="string"?$c(zc(n,t),e):$c(zc(n,""),t)}class Zk{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Hg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Hg(r.borderColor),this.hoverColor=(i,r)=>Hg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return qg(this,t,e)}get(t){return zc(this,t)}describe(t,e){return qg(Ap,t,e)}override(t,e){return qg(Pa,t,e)}route(t,e,i,r){const o=zc(this,t),c=zc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[r];return qt(f)?Object.assign({},m,f):Nt(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var we=new Zk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Yk,Kk,Wk]);function Jk(n){return!n||$t(n.size)||$t(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function mx(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function va(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function gx(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Rp(n,t,e,i){s1(n,t,e,i,null)}function s1(n,t,e,i,r){let o,c,h,f,m,_,y,b;const E=t.pointStyle,C=t.rotation,M=t.radius;let N=(C||0)*Ik;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(N),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(M)||M<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,M,0,0,ye):n.arc(e,i,M,0,ye),n.closePath();break;case"triangle":_=r?r/2:M,n.moveTo(e+Math.sin(N)*_,i-Math.cos(N)*M),N+=ax,n.lineTo(e+Math.sin(N)*_,i-Math.cos(N)*M),N+=ax,n.lineTo(e+Math.sin(N)*_,i-Math.cos(N)*M),n.closePath();break;case"rectRounded":m=M*.516,f=M-m,c=Math.cos(N+ya)*f,y=Math.cos(N+ya)*(r?r/2-m:f),h=Math.sin(N+ya)*f,b=Math.sin(N+ya)*(r?r/2-m:f),n.arc(e-y,i-h,m,N-ee,N-Fe),n.arc(e+b,i-c,m,N-Fe,N),n.arc(e+y,i+h,m,N,N+Fe),n.arc(e-b,i+c,m,N+Fe,N+ee),n.closePath();break;case"rect":if(!C){f=Math.SQRT1_2*M,_=r?r/2:f,n.rect(e-_,i-f,2*_,2*f);break}N+=ya;case"rectRot":y=Math.cos(N)*(r?r/2:M),c=Math.cos(N)*M,h=Math.sin(N)*M,b=Math.sin(N)*(r?r/2:M),n.moveTo(e-y,i-h),n.lineTo(e+b,i-c),n.lineTo(e+y,i+h),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":N+=ya;case"cross":y=Math.cos(N)*(r?r/2:M),c=Math.cos(N)*M,h=Math.sin(N)*M,b=Math.sin(N)*(r?r/2:M),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":y=Math.cos(N)*(r?r/2:M),c=Math.cos(N)*M,h=Math.sin(N)*M,b=Math.sin(N)*(r?r/2:M),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),N+=ya,y=Math.cos(N)*(r?r/2:M),c=Math.cos(N)*M,h=Math.sin(N)*M,b=Math.sin(N)*(r?r/2:M),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(N)*M,h=Math.sin(N)*M,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(N)*(r?r/2:M),i+Math.sin(N)*M);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Jc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function P_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function L_(n){n.restore()}function t4(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function e4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function n4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),$t(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function i4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function s4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function tu(n,t,e,i,r,o={}){const c=Ue(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=r.string,n4(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&s4(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),$t(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),i4(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function $f(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ee,ee,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ee,Fe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Fe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Fe,!0),n.lineTo(e+c.topLeft,i)}const r4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,a4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function o4(n,t){const e=(""+n).match(r4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const l4=n=>+n||0;function j_(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>Nt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=l4(o(c));return e}function r1(n){return j_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ko(n){return j_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ei(n){const t=r1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hn(n,t){n=n||{},t=t||we.font;let e=Nt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Nt(n.style,t.style);i&&!(""+i).match(a4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Nt(n.family,t.family),lineHeight:o4(Nt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Nt(n.weight,t.weight),string:""};return r.string=Jk(r),r}function tf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function c4(n,t,e){const{min:i,max:r}=n,o=$S(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Ha(n,t){return Object.assign(Object.create(n),t)}function z_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=c1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>z_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return o1(h,f,()=>_4(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return _x(h).includes(f)},ownKeys(h){return _x(h)},set(h,f,m){const _=h._storage||(h._storage=r());return h[f]=_[f]=m,delete h._keys,!0}})}function nl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:a1(n,i),setContext:o=>nl(n,o,e,i),override:o=>nl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return o1(o,c,()=>h4(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function a1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ur(e)?e:()=>e,isIndexable:Ur(i)?i:()=>i}}const u4=(n,t)=>n?n+D_(t):t,U_=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function o1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function h4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Ur(h)&&c.isScriptable(t)&&(h=f4(t,h,n,e)),Ue(h)&&h.length&&(h=d4(t,h,n,c.isIndexable)),U_(t,h)&&(h=nl(h,r,o&&o[t],c)),h}function f4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),U_(n,f)&&(f=B_(r._scopes,r,n,f)),f}function d4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,m=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const y=B_(m,r,n,_);t.push(nl(y,o,c&&c[n],h))}}return t}function l1(n,t,e){return Ur(n)?n(t,e):n}const m4=(n,t)=>n===!0?t:typeof n=="string"?Va(t,n):void 0;function g4(n,t,e,i,r){for(const o of t){const c=m4(e,o);if(c){n.add(c);const h=l1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function B_(n,t,e,i){const r=t._rootScopes,o=l1(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=px(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=px(h,c,o,f,i),f===null)?!1:z_(Array.from(h),[""],r,o,()=>p4(t,e,i))}function px(n,t,e,i,r){for(;e;)e=g4(n,t,e,i,r);return e}function p4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Ue(r)&&qt(e)?e:r||{}}function _4(n,t,e,i){let r;for(const o of t)if(r=c1(u4(o,n),e),typeof r<"u")return U_(n,r)?B_(e,i,n,r):r}function c1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function _x(n){let t=n._keys;return t||(t=n._keys=y4(n._scopes)),t}function y4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const v4=Number.EPSILON||1e-14,il=(n,t)=>t<n.length&&!n[t].skip&&n[t],u1=n=>n==="x"?"y":"x";function b4(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=Sp(o,r),f=Sp(c,o);let m=h/(h+f),_=f/(h+f);m=isNaN(m)?0:m,_=isNaN(_)?0:_;const y=i*m,b=i*_;return{previous:{x:o.x-y*(c.x-r.x),y:o.y-y*(c.y-r.y)},next:{x:o.x+b*(c.x-r.x),y:o.y+b*(c.y-r.y)}}}function T4(n,t,e){const i=n.length;let r,o,c,h,f,m=il(n,0);for(let _=0;_<i-1;++_)if(f=m,m=il(n,_+1),!(!f||!m)){if(Lc(t[_],0,v4)){e[_]=e[_+1]=0;continue}r=e[_]/t[_],o=e[_+1]/t[_],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[_]=r*c*t[_],e[_+1]=o*c*t[_])}}function x4(n,t,e="x"){const i=u1(e),r=n.length;let o,c,h,f=il(n,0);for(let m=0;m<r;++m){if(c=h,h=f,f=il(n,m+1),!h)continue;const _=h[e],y=h[i];c&&(o=(_-c[e])/3,h[`cp1${e}`]=_-o,h[`cp1${i}`]=y-o*t[m]),f&&(o=(f[e]-_)/3,h[`cp2${e}`]=_+o,h[`cp2${i}`]=y+o*t[m])}}function E4(n,t="x"){const e=u1(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,m=il(n,0);for(c=0;c<i;++c)if(h=f,f=m,m=il(n,c+1),!!f){if(m){const _=m[t]-f[t];r[c]=_!==0?(m[e]-f[e])/_:0}o[c]=h?m?Zi(r[c-1])!==Zi(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}T4(n,r,o),x4(n,o,t)}function ef(n,t,e){return Math.max(Math.min(n,e),t)}function w4(n,t){let e,i,r,o,c,h=Jc(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&Jc(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=ef(r.cp1x,t.left,t.right),r.cp1y=ef(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=ef(r.cp2x,t.left,t.right),r.cp2y=ef(r.cp2y,t.top,t.bottom)))}function S4(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")E4(n,r);else{let m=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=b4(m,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,m=h}t.capBezierPoints&&w4(n,e)}function F_(){return typeof window<"u"&&typeof document<"u"}function H_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Qf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const vd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function A4(n,t){return vd(n).getPropertyValue(t)}const R4=["top","right","bottom","left"];function Ia(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=R4[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const C4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function I4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(C4(r,o,n.target))h=r,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function xa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=vd(e),o=r.boxSizing==="border-box",c=Ia(r,"padding"),h=Ia(r,"border","width"),{x:f,y:m,box:_}=I4(n,e),y=c.left+(_&&h.left),b=c.top+(_&&h.top);let{width:E,height:C}=t;return o&&(E-=c.width+h.width,C-=c.height+h.height),{x:Math.round((f-y)/E*e.width/i),y:Math.round((m-b)/C*e.height/i)}}function M4(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&H_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=vd(o),f=Ia(h,"border","width"),m=Ia(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=Qf(h.maxWidth,o,"clientWidth"),r=Qf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Xf,maxHeight:r||Xf}}const nf=n=>Math.round(n*10)/10;function D4(n,t,e,i){const r=vd(n),o=Ia(r,"margin"),c=Qf(r.maxWidth,n,"clientWidth")||Xf,h=Qf(r.maxHeight,n,"clientHeight")||Xf,f=M4(n,t,e);let{width:m,height:_}=f;if(r.boxSizing==="content-box"){const b=Ia(r,"border","width"),E=Ia(r,"padding");m-=E.width+b.width,_-=E.height+b.height}return m=Math.max(0,m-o.width),_=Math.max(0,i?m/i:_-o.height),m=nf(Math.min(m,c,f.maxWidth)),_=nf(Math.min(_,h,f.maxHeight)),m&&!_&&(_=nf(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,m=nf(Math.floor(_*i))),{width:m,height:_}}function yx(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const N4=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};F_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function vx(n,t){const e=A4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ea(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function O4(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function k4(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Ea(n,r,e),h=Ea(r,o,e),f=Ea(o,t,e),m=Ea(c,h,e),_=Ea(h,f,e);return Ea(m,_,e)}const V4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},P4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Xo(n,t,e){return n?V4(t,e):P4()}function h1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function f1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function d1(n){return n==="angle"?{between:Zc,compare:Vk,normalize:mi}:{between:Ar,compare:(t,e)=>t-e,normalize:t=>t}}function bx({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function L4(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=d1(i),f=t.length;let{start:m,end:_,loop:y}=n,b,E;if(y){for(m+=f,_+=f,b=0,E=f;b<E&&c(h(t[m%f][i]),r,o);++b)m--,_--;m%=f,_%=f}return _<m&&(_+=f),{start:m,end:_,loop:y,style:n.style}}function j4(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:m}=d1(i),{start:_,end:y,loop:b,style:E}=L4(n,t,e),C=[];let M=!1,N=null,L,F,$;const Z=()=>f(r,$,L)&&h(r,$)!==0,Y=()=>h(o,L)===0||f(o,$,L),tt=()=>M||Z(),R=()=>!M||Y();for(let S=_,I=_;S<=y;++S)F=t[S%c],!F.skip&&(L=m(F[i]),L!==$&&(M=f(L,r,o),N===null&&tt()&&(N=h(L,r)===0?S:I),N!==null&&R()&&(C.push(bx({start:N,end:S,loop:b,count:c,style:E})),N=null),I=S,$=L));return N!==null&&C.push(bx({start:N,end:y,loop:b,count:c,style:E})),C}function z4(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=j4(i[r],n.points,t);o.length&&e.push(...o)}return e}function U4(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function B4(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const m=n[f%r];m.skip||m.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=m.stop?f:null):(c=f,h.skip&&(t=f)),h=m}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function F4(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=U4(e,r,o,i);if(i===!0)return Tx(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,m=!!n._fullLoop&&c===0&&h===r-1;return Tx(n,B4(e,c,f,m),e,t)}function Tx(n,t,e,i){return!i||!i.setContext||!e?t:H4(n,t,e,i)}function H4(n,t,e,i){const r=n._chart.getContext(),o=xx(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,m=[];let _=o,y=t[0].start,b=y;function E(C,M,N,L){const F=h?-1:1;if(C!==M){for(C+=f;e[C%f].skip;)C-=F;for(;e[M%f].skip;)M+=F;C%f!==M%f&&(m.push({start:C%f,end:M%f,loop:N,style:L}),_=L,y=M%f)}}for(const C of t){y=h?y:C.start;let M=e[y%f],N;for(b=y+1;b<=C.end;b++){const L=e[b%f];N=xx(i.setContext(Ha(r,{type:"segment",p0:M,p1:L,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),q4(N,_)&&E(y,b-1,C.loop,_),M=L,_=N}y<b-1&&E(y,b-1,C.loop,_)}return m}function xx(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function q4(n,t){if(!t)return!1;const e=[],i=function(r,o){return k_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function sf(n,t,e){return n.options.clip?n[e]:t[e]}function G4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:sf(e,t,"left"),right:sf(e,t,"right"),top:sf(i,t,"top"),bottom:sf(i,t,"bottom")}:t}function Y4(n,t){const e=t._clip;if(e.disabled)return!1;const i=G4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class K4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=e1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ss=new K4;const Ex="transparent",X4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=fx(n||Ex),r=i.valid&&fx(t||Ex);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class $4{constructor(t,e,i,r){const o=e[i];r=tf([t.to,r,o,t.from]);const c=tf([t.from,o,r]);this._active=!0,this._fn=t.fn||X4[t.type||typeof c],this._easing=jc[t.easing]||jc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=tf([t.to,e,r,t.from]),this._from=tf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class m1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(we.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(Ue(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=W4(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&Q4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[m];let y=o[m];const b=i.get(m);if(y)if(b&&y.active()){y.update(b,_,h);continue}else y.cancel();if(!b||!b.duration){t[m]=_;continue}o[m]=y=new $4(b,t,m,_),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ss.add(this._chart,i),!0}}function Q4(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function W4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function wx(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function Z4(n,t,e){if(e===!1)return!1;const i=wx(n,e),r=wx(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function J4(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function g1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function Sx(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(_=!0,i.all)continue;break}m=n.values[f],ti(m)&&(o||t===0||Zi(t)===Zi(m))&&(t+=m)}return!_&&!i.all?0:t}function tV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,_;for(f=0,m=c.length;f<m;++f)_=c[f],h[f]={[r]:_,[o]:n[_]};return h}function Gg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function eV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function nV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function iV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Ax(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function Rx(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,_=eV(o,c,i),y=t.length;let b;for(let E=0;E<y;++E){const C=t[E],{[f]:M,[m]:N}=C,L=C._stacks||(C._stacks={});b=L[m]=iV(r,_,M),b[h]=N,b._top=Ax(b,c,!0,i.type),b._bottom=Ax(b,c,!1,i.type);const F=b._visualValues||(b._visualValues={});F[h]=N}}function Yg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function sV(n,t){return Ha(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function rV(n,t,e){return Ha(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function yc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Kg=n=>n==="reset"||n==="none",Cx=(n,t)=>t?n:Object.assign({},n),aV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:g1(e,!0),values:null};class bd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Gg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&yc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,b,E,C)=>y==="x"?b:y==="r"?C:E,o=e.xAxisID=Nt(i.xAxisID,Yg(t,"x")),c=e.yAxisID=Nt(i.yAxisID,Yg(t,"y")),h=e.rAxisID=Nt(i.rAxisID,Yg(t,"r")),f=e.indexAxis,m=e.iAxisID=r(f,o,c,h),_=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cx(this._data,this),t._stacked&&yc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=tV(e,r)}else if(i!==e){if(i){cx(i,this);const r=this._cachedMeta;yc(r),r._parsed=[]}e&&Object.isExtensible(e)&&zk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Gg(e.vScale,e),e.stack!==i.stack&&(r=!0,yc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(Rx(this,e._parsed),e._stacked=Gg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],_,y,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Ue(r[t])?b=this.parseArrayData(i,r,t,e):qt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const E=()=>y[h]===null||m&&y[h]<m[h];for(_=0;_<e;++_)i._parsed[_+t]=y=b[_],f&&(E()&&(f=!1),m=y);i._sorted=f}c&&Rx(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),_=o===c,y=new Array(r);let b,E,C;for(b=0,E=r;b<E;++b)C=b+i,y[b]={[h]:_||o.parse(m[C],C),[f]:c.parse(e[C],C)};return y}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,m,_,y;for(f=0,m=r;f<m;++f)_=f+i,y=e[_],h[f]={x:o.parse(y[0],_),y:c.parse(y[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(r);let _,y,b,E;for(_=0,y=r;_<y;++_)b=_+i,E=e[b],m[_]={x:o.parse(Va(E,h),b),y:c.parse(Va(E,f),b)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:g1(r,!0),values:e._stacks[t.axis]._visualValues};return Sx(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=Sx(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=aV(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:y}=nV(h);let b,E;function C(){E=r[b];const M=E[h.axis];return!ti(E[t.axis])||_>M||y<M}for(b=0;b<c&&!(!C()&&(this.updateRangeFromParsed(m,t,E,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!C()){this.updateRangeFromParsed(m,t,E,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ti(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=J4(Nt(this.options.clip,Z4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const y=r[_];y.hidden||(y.active&&m?c.push(y):y.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=rV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=sV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Qc(i);if(h)return Cx(h,f);const m=this.chart.config,_=m.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],b=m.getOptionScopes(this.getDataset(),_),E=Object.keys(we.elements[t]),C=()=>this.getContext(i,r,e),M=m.resolveNamedOptions(b,E,C,y);return M.$shared&&(M.$shared=f,o[c]=Object.freeze(Cx(M,f))),M}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,y=_.datasetAnimationScopeKeys(this._type,e),b=_.getOptionScopes(this.getDataset(),y);f=_.createResolver(b,this.getContext(t,i,e))}const m=new m1(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Kg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Kg(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Kg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&yc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function oV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=t1(i.sort((r,o)=>r-o))}return n._cache.$bar}function lV(n){const t=n.iScale,e=oV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Qc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function cV(n,t,e,i){const r=e.barThickness;let o,c;return $t(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function uV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:m}}function hV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:r,end:o,min:c,max:h}}function p1(n,t,e,i){return Ue(n)?hV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Ix(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let m,_,y,b;for(m=e,_=e+i;m<_;++m)b=t[m],y={},y[r.axis]=h||r.parse(c[m],m),f.push(p1(b,y,o,m));return f}function Xg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function fV(n,t,e){return n!==0?Zi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function dV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function mV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:_}=dV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=_:(o[Mx(_,c,h,f)]=!0,r=m)),o[Mx(r,c,h,f)]=!0,n.borderSkipped=o}function Mx(n,t,e,i){return i?(n=gV(n,t,e),n=Dx(n,e,t)):n=Dx(n,t,e),n}function gV(n,t,e){return n===t?e:n===e?t:n}function Dx(n,t,e){return n==="start"?t:n==="end"?e:n}function pV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class _V extends bd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return Ix(t,e,i,r)}parseArrayData(t,e,i,r){return Ix(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?h:f,_=c.axis==="x"?h:f,y=[];let b,E,C,M;for(b=i,E=i+r;b<E;++b)M=e[b],C={},C[o.axis]=o.parse(Va(M,m),b),y.push(p1(Va(M,_),C,c,b));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Xg(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),_=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(e,r);for(let E=e;E<e+i;E++){const C=this.getParsed(E),M=o||$t(C[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(E),N=this._calculateBarIndexPixels(E,_),L=(C._stacks||{})[h.axis],F={horizontal:m,base:M.base,enableBorderRadius:!L||Xg(C._custom)||c===L._top||c===L._bottom,x:m?M.head:N.center,y:m?N.center:M.head,height:m?N.size:Math.abs(M.size),width:m?Math.abs(M.size):N.size};b&&(F.options=y||this.resolveDataElementOptions(E,t[E].active?"active":r));const $=F.options||t[E].options;mV(F,$,L,c),pV(F,$,_.ratio),this.updateElement(t[E],E,F,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],m=_=>{const y=_._parsed.find(E=>E[i.axis]===f),b=y&&y[_.vScale.axis];if($t(b)||isNaN(b))return!0};for(const _ of r)if(!(e!==void 0&&m(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Nt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||lV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),m=f._custom,_=Xg(m);let y=f[e.axis],b=0,E=i?this.applyStack(e,f,i):y,C,M;E!==y&&(b=E-y,E=y),_&&(y=m.barStart,E=m.barEnd-m.barStart,y!==0&&Zi(y)!==Zi(m.barEnd)&&(b=0),b+=y);const N=!$t(o)&&!_?o:b;let L=e.getPixelForValue(N);if(this.chart.getDataVisibility(t)?C=e.getPixelForValue(b+E):C=L,M=C-L,Math.abs(M)<c){M=fV(M,e,h)*c,y===h&&(L-=M/2);const F=e.getPixelForDecimal(0),$=e.getPixelForDecimal(1),Z=Math.min(F,$),Y=Math.max(F,$);L=Math.max(Math.min(L,Y),Z),C=L+M,i&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(C)-e.getValueForPixel(L))}if(L===e.getPixelForValue(h)){const F=Zi(M)*e.getLineWidthForValue(h)/2;L+=F,M-=F}return{size:M,base:L,head:C,center:C+M/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Nt(r.maxBarThickness,1/0);let h,f;const m=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?uV(t,e,r,_*m):cV(t,e,r,_*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Nt(b,this.getFirstScaleIdForIndexAxis())),C=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+E;h=y.start+y.chunk*C+y.chunk/2,f=Math.min(c,y.chunk*y.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function yV(n,t,e){let i=1,r=1,o=0,c=0;if(t<ye){const h=n,f=h+t,m=Math.cos(h),_=Math.sin(h),y=Math.cos(f),b=Math.sin(f),E=($,Z,Y)=>Zc($,h,f,!0)?1:Math.max(Z,Z*e,Y,Y*e),C=($,Z,Y)=>Zc($,h,f,!0)?-1:Math.min(Z,Z*e,Y,Y*e),M=E(0,m,y),N=E(Fe,_,b),L=C(ee,m,y),F=C(ee+Fe,_,b);i=(M-L)/2,r=(N-F)/2,o=-(M+L)/2,c=-(N+F)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class vV extends bd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(qt(i[t])){const{key:f="value"}=this._parsing;o=m=>+Va(i[m],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Ds(this.options.rotation-90)}_getCircumference(){return Ds(this.options.circumference)}_getRotationExtents(){let t=ye,e=-ye;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(xk(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:_,rotation:y}=this._getRotationExtents(),{ratioX:b,ratioY:E,offsetX:C,offsetY:M}=yV(y,_,f),N=(i.width-c)/b,L=(i.height-c)/E,F=Math.max(Math.min(N,L)/2,0),$=$S(this.options.radius,F),Z=Math.max($*f,0),Y=($-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=C*$,this.offsetY=M*$,r.total=this.calculateTotal(),this.outerRadius=$-Y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Y*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ye)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,_=(h.left+h.right)/2,y=(h.top+h.bottom)/2,b=o&&m.animateScale,E=b?0:this.innerRadius,C=b?0:this.outerRadius,{sharedOptions:M,includeOptions:N}=this._getSharedOptions(e,r);let L=this._getRotation(),F;for(F=0;F<e;++F)L+=this._circumference(F,o);for(F=e;F<e+i;++F){const $=this._circumference(F,o),Z=t[F],Y={x:_+this.offsetX,y:y+this.offsetY,startAngle:L,endAngle:L+$,circumference:$,outerRadius:C,innerRadius:E};N&&(Y.options=M||this.resolveDataElementOptions(F,Z.active?"active":r)),L+=$,this.updateElement(Z,F,Y,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ye*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=V_(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class bV extends bd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=Fk(e,r,c);this._drawStart=h,this._drawCount=f,Hk(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:_,includeOptions:y}=this._getSharedOptions(e,r),b=c.axis,E=h.axis,{spanGaps:C,segment:M}=this.options,N=Wc(C)?C:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none",F=e+i,$=t.length;let Z=e>0&&this.getParsed(e-1);for(let Y=0;Y<$;++Y){const tt=t[Y],R=L?tt:{};if(Y<e||Y>=F){R.skip=!0;continue}const S=this.getParsed(Y),I=$t(S[E]),V=R[b]=c.getPixelForValue(S[b],Y),k=R[E]=o||I?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,S,f):S[E],Y);R.skip=isNaN(V)||isNaN(k)||I,R.stop=Y>0&&Math.abs(S[b]-Z[b])>N,M&&(R.parsed=S,R.raw=m.data[Y]),y&&(R.options=_||this.resolveDataElementOptions(Y,tt.active?"active":r)),L||this.updateElement(tt,Y,R,r),Z=S}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function ba(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class q_{static override(t){Object.assign(q_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ba()}parse(){return ba()}format(){return ba()}add(){return ba()}diff(){return ba()}startOf(){return ba()}endOf(){return ba()}}var TV={_date:q_};function xV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?Lk:Aa;if(i){if(r._sharedOptions){const _=o[0],y=typeof _.getRange=="function"&&_.getRange(t);if(y){const b=m(o,t,e-y),E=m(o,t,e+y);return{lo:b.lo,hi:E.hi}}}}else{const _=m(o,t,e);if(f){const{vScale:y}=r._cachedMeta,{_parsed:b}=n,E=b.slice(0,_.lo+1).reverse().findIndex(M=>!$t(M[y.axis]));_.lo-=Math.max(0,E);const C=b.slice(_.hi).findIndex(M=>!$t(M[y.axis]));_.hi+=Math.max(0,C)}return _}}return{lo:0,hi:o.length-1}}function Td(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:_}=o[h],{lo:y,hi:b}=xV(o[h],t,c,r);for(let E=y;E<=b;++E){const C=_[E];C.skip||i(C,m,E)}}}function EV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function $g(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Td(n,e,t,function(h,f,m){!r&&!Jc(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function wV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:m,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:y}=ZS(c,{x:t.x,y:t.y});Zc(y,m,_)&&r.push({element:c,datasetIndex:h,index:f})}return Td(n,e,t,o),r}function SV(n,t,e,i,r,o){let c=[];const h=EV(e);let f=Number.POSITIVE_INFINITY;function m(_,y,b){const E=_.inRange(t.x,t.y,r);if(i&&!E)return;const C=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(C))&&!E)return;const N=h(t,C);N<f?(c=[{element:_,datasetIndex:y,index:b}],f=N):N===f&&c.push({element:_,datasetIndex:y,index:b})}return Td(n,e,t,m),c}function Qg(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?wV(n,t,e,r):SV(n,t,e,i,r,o)}function Nx(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Td(n,e,t,(f,m,_)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:m,index:_}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var AV={modes:{index(n,t,e,i){const r=xa(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?$g(n,r,o,i,c):Qg(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const _=h[0].index,y=m.data[_];y&&!y.skip&&f.push({element:y,datasetIndex:m.index,index:_})}),f):[]},dataset(n,t,e,i){const r=xa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?$g(n,r,o,i,c):Qg(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let _=0;_<m.length;++_)h.push({element:m[_],datasetIndex:f,index:_})}return h},point(n,t,e,i){const r=xa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return $g(n,r,o,i,c)},nearest(n,t,e,i){const r=xa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Qg(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=xa(t,n);return Nx(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=xa(t,n);return Nx(n,r,"y",e.intersect,i)}}};const _1=["left","top","right","bottom"];function vc(n,t){return n.filter(e=>e.pos===t)}function Ox(n,t){return n.filter(e=>_1.indexOf(e.pos)===-1&&e.box.axis===t)}function bc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function RV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function CV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!_1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function IV(n,t){const e=CV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],_=m&&h.stackWeight/m.weight;h.horizontal?(h.width=_?_*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:f&&t.availableHeight)}return e}function MV(n){const t=RV(n),e=bc(t.filter(m=>m.box.fullSize),!0),i=bc(vc(t,"left"),!0),r=bc(vc(t,"right")),o=bc(vc(t,"top"),!0),c=bc(vc(t,"bottom")),h=Ox(t,"x"),f=Ox(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:vc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function kx(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function y1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function DV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[r]+=e.size}o.getPadding&&y1(c,o.getPadding());const h=Math.max(0,t.outerWidth-kx(c,n,"left","right")),f=Math.max(0,t.outerHeight-kx(c,n,"top","bottom")),m=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:_}:{same:_,other:m}}function NV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function OV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Cc(n,t,e,i){const r=[];let o,c,h,f,m,_;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,OV(h.horizontal,t));const{same:y,other:b}=DV(t,e,h,i);m|=y&&r.length,_=_||b,f.fullSize||r.push(h)}return m&&Cc(r,t,e,i)||_}function rf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Vx(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/m.weight||1;if(h.horizontal){const y=t.w*_,b=m.size||f.height;Qc(m.start)&&(c=m.start),f.fullSize?rf(f,r.left,c,e.outerWidth-r.right-r.left,b):rf(f,t.left+m.placed,c,y,b),m.start=c,m.placed+=y,c=f.bottom}else{const y=t.h*_,b=m.size||f.width;Qc(m.start)&&(o=m.start),f.fullSize?rf(f,o,r.top,b,e.outerHeight-r.bottom-r.top):rf(f,o,t.top+m.placed,b,y),m.start=o,m.placed+=y,o=f.right}}t.x=o,t.y=c}var Zn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ei(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=MV(n.boxes),f=h.vertical,m=h.horizontal;te(n.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const _=f.reduce((M,N)=>N.box.options&&N.box.options.display===!1?M:M+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),b=Object.assign({},r);y1(b,ei(i));const E=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),C=IV(f.concat(m),y);Cc(h.fullSize,E,y,C),Cc(f,E,y,C),Cc(m,E,y,C)&&Cc(f,E,y,C),NV(E),Vx(h.leftAndTop,E,y,C),E.x+=E.w,E.y+=E.h,Vx(h.rightAndBottom,E,y,C),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},te(h.chartArea,M=>{const N=M.box;Object.assign(N,n.chartArea),N.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class v1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class kV extends v1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Tf="$chartjs",VV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Px=n=>n===null||n==="";function PV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Tf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Px(r)){const o=vx(n,"width");o!==void 0&&(n.width=o)}if(Px(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=vx(n,"height");o!==void 0&&(n.height=o)}return n}const b1=N4?{passive:!0}:!1;function LV(n,t,e){n&&n.addEventListener(t,e,b1)}function jV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,b1)}function zV(n,t){const e=VV[n.type]||n.type,{x:i,y:r}=xa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Wf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function UV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Wf(h.addedNodes,i),c=c&&!Wf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function BV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Wf(h.removedNodes,i),c=c&&!Wf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const eu=new Map;let Lx=0;function T1(){const n=window.devicePixelRatio;n!==Lx&&(Lx=n,eu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function FV(n,t){eu.size||window.addEventListener("resize",T1),eu.set(n,t)}function HV(n){eu.delete(n),eu.size||window.removeEventListener("resize",T1)}function qV(n,t,e){const i=n.canvas,r=i&&H_(i);if(!r)return;const o=n1((h,f)=>{const m=r.clientWidth;e(h,f),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,_=f.contentRect.height;m===0&&_===0||o(m,_)});return c.observe(r),FV(n,o),c}function Wg(n,t,e){e&&e.disconnect(),t==="resize"&&HV(n)}function GV(n,t,e){const i=n.canvas,r=n1(o=>{n.ctx!==null&&e(zV(o,n))},n);return LV(i,t,r),r}class YV extends v1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(PV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Tf])return!1;const i=e[Tf].initial;["height","width"].forEach(o=>{const c=i[o];$t(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Tf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:UV,detach:BV,resize:qV}[e]||GV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Wg,detach:Wg,resize:Wg}[e]||jV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return D4(t,e,i,r)}isAttached(t){const e=t&&H_(t);return!!(e&&e.isConnected)}}function KV(n){return!F_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?kV:YV}class zs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Wc(this.x)&&Wc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function XV(n,t){const e=n.options.ticks,i=$V(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?WV(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>r)return ZV(t,m,o,c/r),m;const _=QV(o,t,r);if(c>0){let y,b;const E=c>1?Math.round((f-h)/(c-1)):null;for(af(t,m,_,$t(E)?0:h-E,h),y=0,b=c-1;y<b;y++)af(t,m,_,o[y],o[y+1]);return af(t,m,_,f,$t(E)?t.length:f+E),m}return af(t,m,_),m}function $V(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function QV(n,t,e){const i=JV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=Mk(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function WV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function ZV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function af(n,t,e,i,r){const o=Nt(i,0),c=Math.min(Nt(r,n.length),n.length);let h=0,f,m,_;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===_&&(t.push(n[m]),h++,_=Math.round(o+h*e))}function JV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const t6=n=>n==="left"?"right":n==="right"?"left":n,jx=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,zx=(n,t)=>Math.min(t||n,n);function Ux(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function e6(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(r-1))/2,f+=r<t?m:-m,f<o-h||f>c+h)))return f}function n6(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Tc(n){return n.drawTicks?n.tickLength:0}function Bx(n,t){if(!n.display)return 0;const e=hn(n.font,t),i=ei(n.padding);return(Ue(n.text)?n.text.length:1)*e.lineHeight+i.height}function i6(n,t){return Ha(n,{scale:t,type:"scale"})}function s6(n,t,e){return Ha(n,{tick:e,index:t,type:"tick"})}function r6(n,t,e){let i=O_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=t6(i)),i}function a6(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:_}=f;let y=0,b,E,C;const M=c-r,N=h-o;if(n.isHorizontal()){if(E=on(i,o,h),qt(e)){const L=Object.keys(e)[0],F=e[L];C=_[L].getPixelForValue(F)+M-t}else e==="center"?C=(m.bottom+m.top)/2+M-t:C=jx(n,e,t);b=h-o}else{if(qt(e)){const L=Object.keys(e)[0],F=e[L];E=_[L].getPixelForValue(F)-N+t}else e==="center"?E=(m.left+m.right)/2-N+t:E=jx(n,e,t);C=on(i,c,r),y=e==="left"?-Fe:Fe}return{titleX:E,titleY:C,maxWidth:b,rotation:y}}class hl extends zs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Fi(t,Number.POSITIVE_INFINITY),e=Fi(e,Number.NEGATIVE_INFINITY),i=Fi(i,Number.POSITIVE_INFINITY),r=Fi(r,Number.NEGATIVE_INFINITY),{min:Fi(t,i),max:Fi(e,r),minDefined:ti(t),maxDefined:ti(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Fi(e,Fi(i,e)),max:Fi(i,Fi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=c4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Ux(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=XV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ce(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=zx(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),y=_.widest.width,b=_.highest.height,E=un(this.chart.width-y,0,this.maxWidth);h=t.offset?this.maxWidth/i:E/(i-1),y+6>h&&(h=E/(i-(t.offset?.5:1)),f=this.maxHeight-Tc(t.grid)-e.padding-Bx(t.title,this.chart.options.font),m=Math.sqrt(y*y+b*b),c=kk(Math.min(Math.asin(un((_.highest.height+6)/h,-1,1)),Math.asin(un(f/m,-1,1))-Math.asin(un(b/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=Bx(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Tc(o)+f):(t.height=this.maxHeight,t.width=Tc(o)+f),i.display&&this.ticks.length){const{first:m,last:_,widest:y,highest:b}=this._getLabelSizes(),E=i.padding*2,C=Ds(this.labelRotation),M=Math.cos(C),N=Math.sin(C);if(h){const L=i.mirror?0:N*y.width+M*b.height;t.height=Math.min(this.maxHeight,t.height+L+E)}else{const L=i.mirror?0:M*y.width+N*b.height;t.width=Math.min(this.maxWidth,t.width+L+E)}this._calculatePadding(m,_,N,M)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,E=0;f?m?(b=r*t.width,E=i*e.height):(b=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,E=e.width/2),this.paddingLeft=Math.max((b-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((E-y+c)*this.width/(this.width-y),0)}else{let _=e.height/2,y=t.height/2;o==="start"?(_=0,y=t.height):o==="end"&&(_=e.height,y=0),this.paddingTop=_+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)$t(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Ux(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/zx(e,i));let m=0,_=0,y,b,E,C,M,N,L,F,$,Z,Y;for(y=0;y<e;y+=f){if(C=t[y].label,M=this._resolveTickFontOptions(y),r.font=N=M.string,L=o[N]=o[N]||{data:{},gc:[]},F=M.lineHeight,$=Z=0,!$t(C)&&!Ue(C))$=mx(r,L.data,L.gc,$,C),Z=F;else if(Ue(C))for(b=0,E=C.length;b<E;++b)Y=C[b],!$t(Y)&&!Ue(Y)&&($=mx(r,L.data,L.gc,$,Y),Z+=F);c.push($),h.push(Z),m=Math.max($,m),_=Math.max(Z,_)}n6(o,e);const tt=c.indexOf(m),R=h.indexOf(_),S=I=>({width:c[I]||0,height:h[I]||0});return{first:S(0),last:S(e-1),widest:S(tt),highest:S(R),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Pk(this._alignToPixels?va(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=s6(this.getContext(),t,i))}return this.$context||(this.$context=i6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ds(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,m=this.isHorizontal(),y=this.ticks.length+(f?1:0),b=Tc(o),E=[],C=h.setContext(this.getContext()),M=C.display?C.width:0,N=M/2,L=function(X){return va(i,X,M)};let F,$,Z,Y,tt,R,S,I,V,k,j,O;if(c==="top")F=L(this.bottom),R=this.bottom-b,I=F-N,k=L(t.top)+N,O=t.bottom;else if(c==="bottom")F=L(this.top),k=t.top,O=L(t.bottom)-N,R=F+N,I=this.top+b;else if(c==="left")F=L(this.right),tt=this.right-b,S=F-N,V=L(t.left)+N,j=t.right;else if(c==="right")F=L(this.left),V=t.left,j=L(t.right)-N,tt=F+N,S=this.left+b;else if(e==="x"){if(c==="center")F=L((t.top+t.bottom)/2+.5);else if(qt(c)){const X=Object.keys(c)[0],at=c[X];F=L(this.chart.scales[X].getPixelForValue(at))}k=t.top,O=t.bottom,R=F+N,I=R+b}else if(e==="y"){if(c==="center")F=L((t.left+t.right)/2);else if(qt(c)){const X=Object.keys(c)[0],at=c[X];F=L(this.chart.scales[X].getPixelForValue(at))}tt=F-N,S=tt-b,V=t.left,j=t.right}const Dt=Nt(r.ticks.maxTicksLimit,y),Et=Math.max(1,Math.ceil(y/Dt));for($=0;$<y;$+=Et){const X=this.getContext($),at=o.setContext(X),ht=h.setContext(X),bt=at.lineWidth,Vt=at.color,z=ht.dash||[],et=ht.dashOffset,lt=at.tickWidth,ct=at.tickColor,yt=at.tickBorderDash||[],Tt=at.tickBorderDashOffset;Z=e6(this,$,f),Z!==void 0&&(Y=va(i,Z,bt),m?tt=S=V=j=Y:R=I=k=O=Y,E.push({tx1:tt,ty1:R,tx2:S,ty2:I,x1:V,y1:k,x2:j,y2:O,width:bt,color:Vt,borderDash:z,borderDashOffset:et,tickWidth:lt,tickColor:ct,tickBorderDash:yt,tickBorderDashOffset:Tt}))}return this._ticksLength=y,this._borderValue=F,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:_,mirror:y}=o,b=Tc(i.grid),E=b+_,C=y?-_:E,M=-Ds(this.labelRotation),N=[];let L,F,$,Z,Y,tt,R,S,I,V,k,j,O="middle";if(r==="top")tt=this.bottom-C,R=this._getXAxisLabelAlignment();else if(r==="bottom")tt=this.top+C,R=this._getXAxisLabelAlignment();else if(r==="left"){const Et=this._getYAxisLabelAlignment(b);R=Et.textAlign,Y=Et.x}else if(r==="right"){const Et=this._getYAxisLabelAlignment(b);R=Et.textAlign,Y=Et.x}else if(e==="x"){if(r==="center")tt=(t.top+t.bottom)/2+E;else if(qt(r)){const Et=Object.keys(r)[0],X=r[Et];tt=this.chart.scales[Et].getPixelForValue(X)+E}R=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Y=(t.left+t.right)/2-E;else if(qt(r)){const Et=Object.keys(r)[0],X=r[Et];Y=this.chart.scales[Et].getPixelForValue(X)}R=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const Dt=this._getLabelSizes();for(L=0,F=h.length;L<F;++L){$=h[L],Z=$.label;const Et=o.setContext(this.getContext(L));S=this.getPixelForTick(L)+o.labelOffset,I=this._resolveTickFontOptions(L),V=I.lineHeight,k=Ue(Z)?Z.length:1;const X=k/2,at=Et.color,ht=Et.textStrokeColor,bt=Et.textStrokeWidth;let Vt=R;c?(Y=S,R==="inner"&&(L===F-1?Vt=this.options.reverse?"left":"right":L===0?Vt=this.options.reverse?"right":"left":Vt="center"),r==="top"?m==="near"||M!==0?j=-k*V+V/2:m==="center"?j=-Dt.highest.height/2-X*V+V:j=-Dt.highest.height+V/2:m==="near"||M!==0?j=V/2:m==="center"?j=Dt.highest.height/2-X*V:j=Dt.highest.height-k*V,y&&(j*=-1),M!==0&&!Et.showLabelBackdrop&&(Y+=V/2*Math.sin(M))):(tt=S,j=(1-k)*V/2);let z;if(Et.showLabelBackdrop){const et=ei(Et.backdropPadding),lt=Dt.heights[L],ct=Dt.widths[L];let yt=j-et.top,Tt=0-et.left;switch(O){case"middle":yt-=lt/2;break;case"bottom":yt-=lt;break}switch(R){case"center":Tt-=ct/2;break;case"right":Tt-=ct;break;case"inner":L===F-1?Tt-=ct:L>0&&(Tt-=ct/2);break}z={left:Tt,top:yt,width:ct+et.width,height:lt+et.height,color:Et.backdropColor}}N.push({label:Z,font:I,textOffset:j,options:{rotation:M,color:at,strokeColor:ht,strokeWidth:bt,textAlign:Vt,textBaseline:O,translation:[Y,tt],backdrop:z}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ds(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,_;return e==="left"?r?(_=this.right+o,i==="near"?m="left":i==="center"?(m="center",_+=f/2):(m="right",_+=f)):(_=this.right-h,i==="near"?m="right":i==="center"?(m="center",_-=f/2):(m="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?m="right":i==="center"?(m="center",_-=f/2):(m="left",_-=f)):(_=this.left+h,i==="near"?m="left":i==="center"?(m="center",_+=f/2):(m="right",_=this.right)):m="right",{textAlign:m,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,_,y,b;this.isHorizontal()?(m=va(t,this.left,c)-c/2,_=va(t,this.right,h)+h/2,y=b=f):(y=va(t,this.top,c)-c/2,b=va(t,this.bottom,h)+h/2,m=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,y),e.lineTo(_,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&P_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,_=c.textOffset;tu(i,m,0,_,f,h)}r&&L_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=hn(i.font),c=ei(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,Ue(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:_,maxWidth:y,rotation:b}=a6(this,f,e,h);tu(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:b,textAlign:r6(h,e,r),textBaseline:"middle",translation:[m,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Nt(t.grid&&t.grid.z,-1),r=Nt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==hl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return hn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class of{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;c6(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,o6(t,c,i),this.override&&we.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in we[r]&&(delete we[r][i],this.override&&delete Pa[i])}}function o6(n,t,e){const i=$c(Object.create(null),[e?we.get(e):{},we.get(t),n.defaults]);we.set(t,i),n.defaultRoutes&&l6(t,n.defaultRoutes),n.descriptors&&we.describe(t,n.descriptors)}function l6(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");we.route(o,r,f,h)})}function c6(n){return"id"in n&&"defaults"in n}class u6{constructor(){this.controllers=new of(bd,"datasets",!0),this.elements=new of(zs,"elements"),this.plugins=new of(Object,"plugins"),this.scales=new of(hl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=D_(t);ce(i["before"+r],[],i),e[t](i),ce(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var qi=new u6;class h6{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(ce(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Nt(i.options&&i.options.plugins,{}),o=f6(i);return r===!1&&!e?[]:m6(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function f6(n){const t={},e=[],i=Object.keys(qi.plugins.items);for(let o=0;o<i.length;o++)e.push(qi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function d6(n,t){return!t&&n===!1?null:n===!0?{}:n}function m6(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=d6(i[f],r);m!==null&&o.push({plugin:h,options:g6(n.config,{plugin:h,local:e[f]},m,c)})}return o}function g6(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cp(n,t){const e=we.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function p6(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function _6(n,t){return n===t?"_index_":"_value_"}function Fx(n){if(n==="x"||n==="y"||n==="r")return n}function y6(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ip(n,...t){if(Fx(n))return n;for(const e of t){const i=e.axis||y6(e.position)||n.length>1&&Fx(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Hx(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function v6(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Hx(n,"x",e[0])||Hx(n,"y",e[0])}return{}}function b6(n,t){const e=Pa[n.type]||{scales:{}},i=t.scales||{},r=Cp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Ip(c,h,v6(c,n),we.scales[h.type]),m=_6(f,r),_=e.scales||{};o[c]=Pc(Object.create(null),[{axis:f},h,_[f],_[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Cp(h,t),_=(Pa[h]||{}).scales||{};Object.keys(_).forEach(y=>{const b=p6(y,f),E=c[b+"AxisID"]||b;o[E]=o[E]||Object.create(null),Pc(o[E],[{axis:b},i[E],_[y]])})}),Object.keys(o).forEach(c=>{const h=o[c];Pc(h,[we.scales[h.type],we.scale])}),o}function x1(n){const t=n.options||(n.options={});t.plugins=Nt(t.plugins,{}),t.scales=b6(n,t)}function E1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function T6(n){return n=n||{},n.data=E1(n.data),x1(n),n}const qx=new Map,w1=new Set;function lf(n,t){let e=qx.get(n);return e||(e=t(),qx.set(n,e),w1.add(e)),e}const xc=(n,t,e)=>{const i=Va(t,e);i!==void 0&&n.add(i)};class x6{constructor(t){this._config=T6(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=E1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),x1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return lf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return lf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return lf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(y=>xc(f,t,y))),_.forEach(y=>xc(f,r,y)),_.forEach(y=>xc(f,Pa[o]||{},y)),_.forEach(y=>xc(f,we,y)),_.forEach(y=>xc(f,Ap,y))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),w1.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Pa[e]||{},we.datasets[e]||{},{type:e},we,Ap]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Gx(this._resolverCache,t,r);let f=c;if(w6(c,e)){o.$shared=!1,i=Ur(i)?i():i;const m=this.createResolver(t,i,h);f=nl(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=Gx(this._resolverCache,t,i);return qt(e)?nl(o,e,void 0,r):o}}function Gx(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:z_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const E6=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>Ur(n[t]));function w6(n,t){const{isScriptable:e,isIndexable:i}=a1(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Ur(h)||E6(h))||c&&Ue(h))return!0}return!1}var S6="4.5.0";const A6=["top","bottom","left","right","chartArea"];function Yx(n,t){return n==="top"||n==="bottom"||A6.indexOf(n)===-1&&t==="x"}function Kx(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Xx(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ce(e&&e.onComplete,[n],t)}function R6(n){const t=n.chart,e=t.options.animation;ce(e&&e.onProgress,[n],t)}function S1(n){return F_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const xf={},$x=n=>{const t=S1(n);return Object.values(xf).filter(e=>e.canvas===t).pop()};function C6(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function I6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let qa=class{static defaults=we;static instances=xf;static overrides=Pa;static registry=qi;static version=S6;static getChart=$x;static register(...t){qi.add(...t),Qx()}static unregister(...t){qi.remove(...t),Qx()}constructor(t,e){const i=this.config=new x6(e),r=S1(t),o=$x(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||KV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,_=f&&f.width;if(this.id=Tk(),this.ctx=h,this.canvas=f,this.width=_,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new h6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Uk(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],xf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ss.listen(this,"complete",Xx),Ss.listen(this,"progress",R6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return $t(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return qi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gx(this.canvas,this.ctx),this}stop(){return Ss.stop(this),this}resize(t,e){Ss.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,yx(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ce(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Ip(c,h),m=f==="r",_=f==="x";return{options:h,dposition:m?"chartArea":_?"bottom":"left",dtype:m?"radialLinear":_?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,m=Ip(f,h),_=Nt(h.type,c.dtype);(h.position===void 0||Yx(h.position,m)!==Yx(c.dposition))&&(h.position=c.dposition),r[f]=!0;let y=null;if(f in i&&i[f].type===_)y=i[f];else{const b=qi.getScale(_);y=new b({id:f,type:_,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(h,t)}),te(r,(c,h)=>{c||delete i[h]}),te(i,c=>{Zn.configure(this,c,c.options),Zn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Kx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Cp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=qi.getController(h),{datasetElementType:m,dataElementType:_}=we.datasets[h];Object.assign(f,{dataElementType:qi.getElement(_),datasetElementType:m&&qi.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,_=this.data.datasets.length;m<_;m++){const{controller:y}=this.getDatasetMeta(m),b=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(b),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Kx("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{Zn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!rx(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;C6(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!rx(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ur(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ss.has(this)?this.attached&&!Ss.running(this)&&Ss.start(this):(this.draw(),Xx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=Y4(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&P_(e,r),t.controller.draw(),r&&L_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Jc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=AV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ha(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Qc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ss.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gx(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete xf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},r=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Yf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,m)=>f.filter(_=>!m.some(y=>_.datasetIndex===y.datasetIndex&&_.index===y.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=Rk(t),m=I6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ce(o.onHover,[t,h,this],this),f&&ce(o.onClick,[t,h,this],this));const _=!Yf(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function Qx(){return te(qa.instances,n=>n._plugins.invalidate())}function M6(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:m,borderJoinStyle:_}=f,y=Math.min(m/c,mi(i-e));if(n.beginPath(),n.arc(r,o,c-m/2,i+y/2,e-y/2),h>0){const b=Math.min(m/h,mi(i-e));n.arc(r,o,h+m/2,e-b/2,i+b/2,!0)}else{const b=Math.min(m/2,c*mi(i-e));if(_==="round")n.arc(r,o,b,e-ee/2,i+ee/2,!0);else if(_==="bevel"){const E=2*b*b,C=-E*Math.cos(e+ee/2)+r,M=-E*Math.sin(e+ee/2)+o,N=E*Math.cos(i+ee/2)+r,L=E*Math.sin(i+ee/2)+o;n.lineTo(C,M),n.lineTo(N,L)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function D6(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let m=r/h;n.beginPath(),n.arc(o,c,h,i-m,e+m),f>r?(m=r/f,n.arc(o,c,f,e+m,i-m,!0)):n.arc(o,c,r,e+Fe,i-Fe),n.closePath(),n.clip()}function N6(n){return j_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function O6(n,t,e,i){const r=N6(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const m=(e-Math.min(o,f))*i/2;return un(f,0,Math.min(o,m))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:un(r.innerStart,0,c),innerEnd:un(r.innerEnd,0,c)}}function Lo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Zf(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:m,innerRadius:_}=t,y=Math.max(t.outerRadius+i+e-m,0),b=_>0?_+i+e+m:0;let E=0;const C=r-f;if(i){const Et=_>0?_-i:0,X=y>0?y-i:0,at=(Et+X)/2,ht=at!==0?C*at/(at+i):C;E=(C-ht)/2}const M=Math.max(.001,C*y-e/ee)/y,N=(C-M)/2,L=f+N+E,F=r-N-E,{outerStart:$,outerEnd:Z,innerStart:Y,innerEnd:tt}=O6(t,b,y,F-L),R=y-$,S=y-Z,I=L+$/R,V=F-Z/S,k=b+Y,j=b+tt,O=L+Y/k,Dt=F-tt/j;if(n.beginPath(),o){const Et=(I+V)/2;if(n.arc(c,h,y,I,Et),n.arc(c,h,y,Et,V),Z>0){const bt=Lo(S,V,c,h);n.arc(bt.x,bt.y,Z,V,F+Fe)}const X=Lo(j,F,c,h);if(n.lineTo(X.x,X.y),tt>0){const bt=Lo(j,Dt,c,h);n.arc(bt.x,bt.y,tt,F+Fe,Dt+Math.PI)}const at=(F-tt/b+(L+Y/b))/2;if(n.arc(c,h,b,F-tt/b,at,!0),n.arc(c,h,b,at,L+Y/b,!0),Y>0){const bt=Lo(k,O,c,h);n.arc(bt.x,bt.y,Y,O+Math.PI,L-Fe)}const ht=Lo(R,L,c,h);if(n.lineTo(ht.x,ht.y),$>0){const bt=Lo(R,I,c,h);n.arc(bt.x,bt.y,$,L-Fe,I)}}else{n.moveTo(c,h);const Et=Math.cos(I)*y+c,X=Math.sin(I)*y+h;n.lineTo(Et,X);const at=Math.cos(V)*y+c,ht=Math.sin(V)*y+h;n.lineTo(at,ht)}n.closePath()}function k6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Zf(n,t,e,i,f,r);for(let m=0;m<o;++m)n.fill();isNaN(h)||(f=c+(h%ye||ye))}return Zf(n,t,e,i,f,r),n.fill(),f}function V6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:m,borderJoinStyle:_,borderDash:y,borderDashOffset:b,borderRadius:E}=f,C=f.borderAlign==="inner";if(!m)return;n.setLineDash(y||[]),n.lineDashOffset=b,C?(n.lineWidth=m*2,n.lineJoin=_||"round"):(n.lineWidth=m,n.lineJoin=_||"bevel");let M=t.endAngle;if(o){Zf(n,t,e,i,M,r);for(let N=0;N<o;++N)n.stroke();isNaN(h)||(M=c+(h%ye||ye))}C&&D6(n,t,M),f.selfJoin&&M-c>=ee&&E===0&&_!=="miter"&&M6(n,t,M),o||(Zf(n,t,e,i,M,r),n.stroke())}class P6 extends zs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=ZS(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:_,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,E=Nt(y,f-h),C=Zc(o,h,f)&&h!==f,M=E>=ye||C,N=Ar(c,m+b,_+b);return M&&N}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,_=(r+o)/2,y=(c+h+m+f)/2;return{x:e+Math.cos(_)*y,y:i+Math.sin(_)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ye?Math.floor(i/ye):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ee,i||0)),m=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,k6(t,this,m,o,c),V6(t,this,m,o,c),t.restore()}}function A1(n,t,e=t){n.lineCap=Nt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Nt(e.borderDash,t.borderDash)),n.lineDashOffset=Nt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Nt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Nt(e.borderWidth,t.borderWidth),n.strokeStyle=Nt(e.borderColor,t.borderColor)}function L6(n,t,e){n.lineTo(e.x,e.y)}function j6(n){return n.stepped?t4:n.tension||n.cubicInterpolationMode==="monotone"?e4:L6}function R1(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),m=Math.min(o,h),_=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:m<f&&!_?i+m-f:m-f}}function z6(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:m}=R1(r,e,i),_=j6(o);let{move:y=!0,reverse:b}=i||{},E,C,M;for(E=0;E<=m;++E)C=r[(h+(b?m-E:E))%c],!C.skip&&(y?(n.moveTo(C.x,C.y),y=!1):_(n,M,C,b,o.stepped),M=C);return f&&(C=r[(h+(b?m:0))%c],_(n,M,C,b,o.stepped)),!!f}function U6(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=R1(r,e,i),{move:f=!0,reverse:m}=i||{};let _=0,y=0,b,E,C,M,N,L;const F=Z=>(c+(m?h-Z:Z))%o,$=()=>{M!==N&&(n.lineTo(_,N),n.lineTo(_,M),n.lineTo(_,L))};for(f&&(E=r[F(0)],n.moveTo(E.x,E.y)),b=0;b<=h;++b){if(E=r[F(b)],E.skip)continue;const Z=E.x,Y=E.y,tt=Z|0;tt===C?(Y<M?M=Y:Y>N&&(N=Y),_=(y*_+Z)/++y):($(),n.lineTo(Z,Y),C=tt,y=0,M=N=Y),L=Y}$()}function Mp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?U6:z6}function B6(n){return n.stepped?O4:n.tension||n.cubicInterpolationMode==="monotone"?k4:Ea}function F6(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),A1(n,t.options),n.stroke(r)}function H6(n,t,e,i){const{segments:r,options:o}=t,c=Mp(t);for(const h of r)A1(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const q6=typeof Path2D=="function";function G6(n,t,e,i){q6&&!t.options.segment?F6(n,t,e,i):H6(n,t,e,i)}class Y6 extends zs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;S4(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=F4(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=z4(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=B6(i);let m,_;for(m=0,_=c.length;m<_;++m){const{start:y,end:b}=c[m],E=o[y],C=o[b];if(E===C){h.push(E);continue}const M=Math.abs((r-E[e])/(C[e]-E[e])),N=f(E,C,M,i.stepped);N[e]=t[e],h.push(N)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Mp(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Mp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),G6(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Wx(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class K6 extends zs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Wx(this,t,"x",e)}inYRange(t,e){return Wx(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Jc(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Rp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function C1(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,m,_,y;return n.horizontal?(y=c/2,h=Math.min(e,r),f=Math.max(e,r),m=i-y,_=i+y):(y=o/2,h=e-y,f=e+y,m=Math.min(i,r),_=Math.max(i,r)),{left:h,top:m,right:f,bottom:_}}function Rr(n,t,e,i){return n?0:un(t,e,i)}function X6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=r1(i);return{t:Rr(r.top,o.top,0,e),r:Rr(r.right,o.right,0,t),b:Rr(r.bottom,o.bottom,0,e),l:Rr(r.left,o.left,0,t)}}function $6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Ko(r),c=Math.min(t,e),h=n.borderSkipped,f=i||qt(r);return{topLeft:Rr(!f||h.top||h.left,o.topLeft,0,c),topRight:Rr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Rr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Rr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function Q6(n){const t=C1(n),e=t.right-t.left,i=t.bottom-t.top,r=X6(n,e/2,i/2),o=$6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Zg(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&C1(n,i);return h&&(r||Ar(t,h.left,h.right))&&(o||Ar(e,h.top,h.bottom))}function W6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Z6(n,t){n.rect(t.x,t.y,t.w,t.h)}function Jg(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class I1 extends zs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=Q6(this),h=W6(c.radius)?$f:Z6;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Jg(c,e,o)),t.clip(),h(t,Jg(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Jg(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Zg(this,t,e,i)}inXRange(t,e){return Zg(this,t,null,e)}inYRange(t,e){return Zg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const Zx=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},J6=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Jx extends zs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=hn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=Zx(i,o);let m,_;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,m=this._fitCols(c,r,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],_=r+h;let y=t;o.textAlign="left",o.textBaseline="middle";let b=-1,E=-_;return this.legendItems.forEach((C,M)=>{const N=i+e/2+o.measureText(C.text).width;(M===0||m[m.length-1]+N+2*h>c)&&(y+=_,m[m.length-(M>0?0:1)]=0,E+=_,b++),f[M]={left:0,top:E,row:b,width:N,height:r},m[m.length-1]+=N+h}),y}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],_=c-t;let y=h,b=0,E=0,C=0,M=0;return this.legendItems.forEach((N,L)=>{const{itemWidth:F,itemHeight:$}=tP(i,e,o,N,r);L>0&&E+$+2*h>_&&(y+=b+h,m.push({width:b,height:E}),C+=b+h,M++,b=E=0),f[L]={left:C,top:E,col:M,width:F,height:$},b=Math.max(b,F),E+=$+h}),y+=b,m.push({width:b,height:E}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Xo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=on(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=on(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+r}else{let h=0,f=on(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=on(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;P_(t,this),this._draw(),L_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=we.color,f=Xo(t.rtl,this.left,this.width),m=hn(c.font),{padding:_}=c,y=m.size,b=y/2;let E;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:C,boxHeight:M,itemHeight:N}=Zx(c,y),L=function(tt,R,S){if(isNaN(C)||C<=0||isNaN(M)||M<0)return;r.save();const I=Nt(S.lineWidth,1);if(r.fillStyle=Nt(S.fillStyle,h),r.lineCap=Nt(S.lineCap,"butt"),r.lineDashOffset=Nt(S.lineDashOffset,0),r.lineJoin=Nt(S.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=Nt(S.strokeStyle,h),r.setLineDash(Nt(S.lineDash,[])),c.usePointStyle){const V={radius:M*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:I},k=f.xPlus(tt,C/2),j=R+b;s1(r,V,k,j,c.pointStyleWidth&&C)}else{const V=R+Math.max((y-M)/2,0),k=f.leftForLtr(tt,C),j=Ko(S.borderRadius);r.beginPath(),Object.values(j).some(O=>O!==0)?$f(r,{x:k,y:V,w:C,h:M,radius:j}):r.rect(k,V,C,M),r.fill(),I!==0&&r.stroke()}r.restore()},F=function(tt,R,S){tu(r,S.text,tt,R+N/2,m,{strikethrough:S.hidden,textAlign:f.textAlign(S.textAlign)})},$=this.isHorizontal(),Z=this._computeTitleHeight();$?E={x:on(o,this.left+_,this.right-i[0]),y:this.top+_+Z,line:0}:E={x:this.left+_,y:on(o,this.top+Z+_,this.bottom-e[0].height),line:0},h1(this.ctx,t.textDirection);const Y=N+_;this.legendItems.forEach((tt,R)=>{r.strokeStyle=tt.fontColor,r.fillStyle=tt.fontColor;const S=r.measureText(tt.text).width,I=f.textAlign(tt.textAlign||(tt.textAlign=c.textAlign)),V=C+b+S;let k=E.x,j=E.y;f.setWidth(this.width),$?R>0&&k+V+_>this.right&&(j=E.y+=Y,E.line++,k=E.x=on(o,this.left+_,this.right-i[E.line])):R>0&&j+Y>this.bottom&&(k=E.x=k+e[E.line].width+_,E.line++,j=E.y=on(o,this.top+Z+_,this.bottom-e[E.line].height));const O=f.x(k);if(L(O,j,tt),k=Bk(I,k+C+b,$?k+V:this.right,t.rtl),F(f.x(k),j,tt),$)E.x+=V+_;else if(typeof tt.text!="string"){const Dt=m.lineHeight;E.y+=M1(tt,Dt)+_}else E.y+=Y}),f1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=hn(e.font),r=ei(e.padding);if(!e.display)return;const o=Xo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=r.top+f;let _,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),_=this.top+m,y=on(t.align,y,this.right-b);else{const C=this.columnSizes.reduce((M,N)=>Math.max(M,N.height),0);_=m+on(t.align,this.top,this.bottom-C-t.labels.padding-this._computeTitleHeight())}const E=on(h,y,y+b);c.textAlign=o.textAlign(O_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,tu(c,e.text,E,_,i)}_computeTitleHeight(){const t=this.options.title,e=hn(t.font),i=ei(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Ar(t,this.left,this.right)&&Ar(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Ar(t,r.left,r.left+r.width)&&Ar(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!iP(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=J6(r,i);r&&!o&&ce(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ce(e.onHover,[t,i,this],this)}else i&&ce(e.onClick,[t,i,this],this)}}function tP(n,t,e,i,r){const o=eP(i,n,t,e),c=nP(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function eP(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function nP(n,t,e){let i=n;return typeof t.text!="string"&&(i=M1(t,e)),i}function M1(n,t){const e=n.text?n.text.length:0;return t*e}function iP(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var xd={id:"legend",_element:Jx,start(n,t,e){const i=n.legend=new Jx({ctx:n.ctx,options:e,chart:n});Zn.configure(n,i,e),Zn.addBox(n,i)},stop(n){Zn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Zn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),_=ei(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class D1 extends zs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Ue(i.text)?i.text.length:1;this._padding=ei(i.padding);const o=r*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,m,_,y;return this.isHorizontal()?(_=on(h,i,o),y=e+t,m=o-i):(c.position==="left"?(_=i+t,y=on(h,r,e),f=ee*-.5):(_=o-t,y=on(h,e,r),f=ee*.5),m=r-e),{titleX:_,titleY:y,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=hn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);tu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:O_(e.align),textBaseline:"middle",translation:[c,h]})}}function sP(n,t){const e=new D1({ctx:n.ctx,options:t,chart:n});Zn.configure(n,e,t),Zn.addBox(n,e),n.titleBlock=e}var G_={id:"title",_element:D1,start(n,t,e){sP(n,e)},stop(n){const t=n.titleBlock;Zn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Zn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ic={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),_=Sp(t,m);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Hi(n,t){return t&&(Ue(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function As(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function rP(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function tE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=hn(t.bodyFont),m=hn(t.titleFont),_=hn(t.footerFont),y=o.length,b=r.length,E=i.length,C=ei(t.padding);let M=C.height,N=0,L=i.reduce((Z,Y)=>Z+Y.before.length+Y.lines.length+Y.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,y&&(M+=y*m.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),L){const Z=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;M+=E*Z+(L-E)*f.lineHeight+(L-1)*t.bodySpacing}b&&(M+=t.footerMarginTop+b*_.lineHeight+(b-1)*t.footerSpacing);let F=0;const $=function(Z){N=Math.max(N,e.measureText(Z).width+F)};return e.save(),e.font=m.string,te(n.title,$),e.font=f.string,te(n.beforeBody.concat(n.afterBody),$),F=t.displayColors?c+2+t.boxPadding:0,te(i,Z=>{te(Z.before,$),te(Z.lines,$),te(Z.after,$)}),F=0,e.font=_.string,te(n.footer,$),e.restore(),N+=C.width,{width:N,height:M}}function aP(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function oP(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function lP(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=r<=(h+f)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),oP(m,n,t,e)&&(m="center"),m}function eE(n,t,e){const i=e.yAlign||t.yAlign||aP(n,e);return{xAlign:e.xAlign||t.xAlign||lP(n,t,e,i),yAlign:i}}function cP(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function uP(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function nE(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=r+o,{topLeft:_,topRight:y,bottomLeft:b,bottomRight:E}=Ko(c);let C=cP(t,h);const M=uP(t,f,m);return f==="center"?h==="left"?C+=m:h==="right"&&(C-=m):h==="left"?C-=Math.max(_,b)+r:h==="right"&&(C+=Math.max(y,E)+r),{x:un(C,0,i.width-t.width),y:un(M,0,i.height-t.height)}}function cf(n,t,e){const i=ei(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function iE(n){return Hi([],As(n))}function hP(n,t,e){return Ha(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function sE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const N1={beforeTitle:ws,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ws,beforeBody:ws,beforeLabel:ws,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return $t(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ws,afterBody:ws,beforeFooter:ws,footer:ws,afterFooter:ws};function En(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?N1[t].call(e,i):r}class rE extends zs{static positioners=Ic;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new m1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=hP(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=En(i,"beforeTitle",this,t),o=En(i,"title",this,t),c=En(i,"afterTitle",this,t);let h=[];return h=Hi(h,As(r)),h=Hi(h,As(o)),h=Hi(h,As(c)),h}getBeforeBody(t,e){return iE(En(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=sE(i,o);Hi(c.before,As(En(h,"beforeLabel",this,o))),Hi(c.lines,En(h,"label",this,o)),Hi(c.after,As(En(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return iE(En(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=En(i,"beforeFooter",this,t),o=En(i,"footer",this,t),c=En(i,"afterFooter",this,t);let h=[];return h=Hi(h,As(r)),h=Hi(h,As(o)),h=Hi(h,As(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(rP(this.chart,e[f]));return t.filter&&(h=h.filter((_,y,b)=>t.filter(_,y,b,i))),t.itemSort&&(h=h.sort((_,y)=>t.itemSort(_,y,i))),te(h,_=>{const y=sE(t.callbacks,_);r.push(En(y,"labelColor",this,_)),o.push(En(y,"labelPointStyle",this,_)),c.push(En(y,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Ic[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=tE(this,i),m=Object.assign({},h,f),_=eE(this.chart,i,m),y=nE(i,m,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:_,bottomRight:y}=Ko(h),{x:b,y:E}=t,{width:C,height:M}=e;let N,L,F,$,Z,Y;return o==="center"?(Z=E+M/2,r==="left"?(N=b,L=N-c,$=Z+c,Y=Z-c):(N=b+C,L=N+c,$=Z-c,Y=Z+c),F=N):(r==="left"?L=b+Math.max(f,_)+c:r==="right"?L=b+C-Math.max(m,y)-c:L=this.caretX,o==="top"?($=E,Z=$-c,N=L-c,F=L+c):($=E+M,Z=$+c,N=L+c,F=L-c),Y=$),{x1:N,x2:L,x3:F,y1:$,y2:Z,y3:Y}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const m=Xo(i.rtl,this.x,this.width);for(t.x=cf(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=hn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,_=hn(o.bodyFont),y=cf(this,"left",o),b=r.x(y),E=f<_.lineHeight?(_.lineHeight-f)/2:0,C=e.y+E;if(o.usePointStyle){const M={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},N=r.leftForLtr(b,m)+m/2,L=C+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Rp(t,M,N,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Rp(t,M,N,L)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const M=r.leftForLtr(b,m),N=r.leftForLtr(r.xPlus(b,1),m-2),L=Ko(c.borderRadius);Object.values(L).some(F=>F!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,$f(t,{x:M,y:C,w:m,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),$f(t,{x:N,y:C+1,w:m-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(M,C,m,f),t.strokeRect(M,C,m,f),t.fillStyle=c.backgroundColor,t.fillRect(N,C+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:_}=i,y=hn(i.bodyFont);let b=y.lineHeight,E=0;const C=Xo(i.rtl,this.x,this.width),M=function(S){e.fillText(S,C.x(t.x+E),t.y+b/2),t.y+=b+o},N=C.textAlign(c);let L,F,$,Z,Y,tt,R;for(e.textAlign=c,e.textBaseline="middle",e.font=y.string,t.x=cf(this,N,i),e.fillStyle=i.bodyColor,te(this.beforeBody,M),E=h&&N!=="right"?c==="center"?m/2+_:m+2+_:0,Z=0,tt=r.length;Z<tt;++Z){for(L=r[Z],F=this.labelTextColors[Z],e.fillStyle=F,te(L.before,M),$=L.lines,h&&$.length&&(this._drawColorBox(e,t,Z,C,i),b=Math.max(y.lineHeight,f)),Y=0,R=$.length;Y<R;++Y)M($[Y]),b=y.lineHeight;te(L.after,M)}E=0,b=y.lineHeight,te(this.afterBody,M),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=Xo(i.rtl,this.x,this.width);for(t.x=cf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=hn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:_}=i,{topLeft:y,topRight:b,bottomLeft:E,bottomRight:C}=Ko(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+y,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-b,f),e.quadraticCurveTo(h+m,f,h+m,f+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,f+_-C),e.quadraticCurveTo(h+m,f+_,h+m-C,f+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+E,f+_),e.quadraticCurveTo(h,f+_,h,f+_-E),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+y),e.quadraticCurveTo(h,f,h+y,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Ic[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=tE(this,t),f=Object.assign({},c,this._size),m=eE(e,t,f),_=nE(t,f,m,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ei(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),h1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),f1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!Yf(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Yf(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Ic[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Ed={id:"tooltip",_element:rE,positioners:Ic,afterInit(n,t,e){e&&(n.tooltip=new rE({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:N1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const fP=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function dP(n,t,e,i){const r=n.indexOf(t);if(r===-1)return fP(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const mP=(n,t)=>n===null?null:un(Math.round(n),0,t);function aE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Y_ extends hl{static id="category";static defaults={ticks:{callback:aE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if($t(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:dP(i,t,Nt(e,t),this._addedLabels),mP(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return aE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function gP(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:m,maxTicks:_,maxDigits:y,includeBounds:b}=n,E=o||1,C=_-1,{min:M,max:N}=t,L=!$t(c),F=!$t(h),$=!$t(m),Z=(N-M)/(y+1);let Y=ox((N-M)/C/E)*E,tt,R,S,I;if(Y<1e-14&&!L&&!F)return[{value:M},{value:N}];I=Math.ceil(N/Y)-Math.floor(M/Y),I>C&&(Y=ox(I*Y/C/E)*E),$t(f)||(tt=Math.pow(10,f),Y=Math.ceil(Y*tt)/tt),r==="ticks"?(R=Math.floor(M/Y)*Y,S=Math.ceil(N/Y)*Y):(R=M,S=N),L&&F&&o&&Nk((h-c)/o,Y/1e3)?(I=Math.round(Math.min((h-c)/Y,_)),Y=(h-c)/I,R=c,S=h):$?(R=L?c:R,S=F?h:S,I=m-1,Y=(S-R)/I):(I=(S-R)/Y,Lc(I,Math.round(I),Y/1e3)?I=Math.round(I):I=Math.ceil(I));const V=Math.max(lx(Y),lx(R));tt=Math.pow(10,$t(f)?V:f),R=Math.round(R*tt)/tt,S=Math.round(S*tt)/tt;let k=0;for(L&&(b&&R!==c?(e.push({value:c}),R<c&&k++,Lc(Math.round((R+k*Y)*tt)/tt,c,oE(c,Z,n))&&k++):R<c&&k++);k<I;++k){const j=Math.round((R+k*Y)*tt)/tt;if(F&&j>h)break;e.push({value:j})}return F&&b&&S!==h?e.length&&Lc(e[e.length-1].value,h,oE(h,Z,n))?e[e.length-1].value=h:e.push({value:h}):(!F||S===h)&&e.push({value:S}),e}function oE(n,t,{horizontal:e,minRotation:i}){const r=Ds(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class pP extends hl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return $t(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=Zi(r),m=Zi(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=gP(r,o);return t.bounds==="ticks"&&Ok(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return V_(t,this.chart.options.locale,this.options.ticks.format)}}class K_ extends pP{static id="linear";static defaults={ticks:{callback:i1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ti(t)?t:0,this.max=ti(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ds(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const wd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Sn=Object.keys(wd);function lE(n,t){return n-t}function cE(n,t){if($t(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ti(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Wc(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function uE(n,t,e,i){const r=Sn.length;for(let o=Sn.indexOf(n);o<r-1;++o){const c=wd[Sn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Sn[o]}return Sn[r-1]}function _P(n,t,e,i,r){for(let o=Sn.length-1;o>=Sn.indexOf(e);o--){const c=Sn[o];if(wd[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Sn[e?Sn.indexOf(e):0]}function yP(n){for(let t=Sn.indexOf(n)+1,e=Sn.length;t<e;++t)if(wd[Sn[t]].common)return Sn[t]}function hE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=N_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function vP(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function fE(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:vP(n,i,r,e)}class dE extends hl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new TV._date(t.adapters.date);r.init(e),Pc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:cE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=ti(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ti(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=jk(r,o,c);return this._unit=e.unit||(i.autoSkip?uE(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):_P(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:yP(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),fE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=un(e,0,c),i=un(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||uE(o.minUnit,e,i,this._getLabelCapacity(e)),h=Nt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Wc(f)||f===!0,_={};let y=e,b,E;if(m&&(y=+t.startOf(y,"isoWeek",f)),y=+t.startOf(y,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const C=r.ticks.source==="data"&&this.getDataTimestamps();for(b=y,E=0;b<i;b=+t.add(b,h,c),E++)hE(_,b,C);return(b===i||r.bounds==="ticks"||E===1)&&hE(_,b,C),Object.keys(_).sort(lE).map(M=>+M)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return ce(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,_=f&&h[f],y=m&&h[m],b=i[e],E=m&&y&&b&&b.major;return this._adapter.format(t,r||(E?y:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ds(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,fE(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(cE(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return t1(t.sort(lE))}}function uf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Aa(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Aa(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class $P extends dE{static id="timeseries";static defaults=dE.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=uf(e,this.min),this._tableRange=uf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,m,_;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],f=r[c-1],m=r[c],Math.round((_+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(uf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return uf(this._table,i*this._tableRange+this._minPos,!0)}}const O1="label";function mE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function bP(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function k1(n,t){n.labels=t}function V1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O1;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function TP(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O1;const e={labels:[],datasets:[]};return k1(e,n.labels),V1(e,n.datasets,t),e}function xP(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:_,updateMode:y,...b}=n,E=gt.useRef(null),C=gt.useRef(null),M=()=>{E.current&&(C.current=new qa(E.current,{type:c,data:TP(h,o),options:f&&{...f},plugins:m}),mE(t,C.current))},N=()=>{mE(t,null),C.current&&(C.current.destroy(),C.current=null)};return gt.useEffect(()=>{!r&&C.current&&f&&bP(C.current,f)},[r,f]),gt.useEffect(()=>{!r&&C.current&&k1(C.current.config.data,h.labels)},[r,h.labels]),gt.useEffect(()=>{!r&&C.current&&h.datasets&&V1(C.current.config.data,h.datasets,o)},[r,h.datasets]),gt.useEffect(()=>{C.current&&(r?(N(),setTimeout(M)):C.current.update(y))},[r,f,h.labels,h.datasets,y]),gt.useEffect(()=>{C.current&&(N(),setTimeout(M))},[c]),gt.useEffect(()=>(M(),()=>N()),[]),pE.createElement("canvas",{ref:E,role:"img",height:e,width:i,...b},_)}const EP=gt.forwardRef(xP);function X_(n,t){return qa.register(t),gt.forwardRef((e,i)=>pE.createElement(EP,{...e,ref:i,type:n}))}const wP=X_("line",bV),P1=X_("bar",_V),SP=X_("doughnut",vV);qa.register(Y_,K_,I1,G_,Ed,xd);const AP=({isDark:n})=>{const t={labels:["January","February","March"],datasets:[{label:"Fuel Consumption",data:[20,42,88],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption Overview",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return D.jsx(P1,{data:t,options:e})};qa.register(Y_,K_,K6,Y6,G_,Ed,xd);const RP=({isDark:n})=>{const t={labels:["January","February","March","April"],datasets:[{label:"Mileage",data:[40,52,70,88],fill:!1,borderColor:"rgba(101, 119, 255, 1)",tension:.1}]},e={responsive:!0,plugins:{legend:{position:"top",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Mileage Efficiency",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return D.jsx(wP,{data:t,options:e})};qa.register(P6,Ed,xd);const CP=({isDark:n})=>{const t={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Total Expenses",color:n?"#FFFCE1":"#0E100F"},tooltip:{backgroundColor:n?"#0E100F":"#FFFCE1",titleColor:n?"#FFFCE1":"#0E100F",bodyColor:n?"#FFFCE1":"#0E100F",borderColor:n?"#555":"#ccc",borderWidth:1}}},e={labels:["January","February","March"],datasets:[{label:"Expenses",data:[300,50,100],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderColor:n?"#0E100F":"#FFFCE1",borderWidth:2}]};return D.jsx(SP,{data:e,options:t})};function IP({isDark:n}){const t=sn();return D.jsxs("div",{className:`flex-col
            fade-in flex items-center justify-center h-screen w-full p-[calc(0.4vw+0.6rem)]`,children:[D.jsx("section",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)]",children:D.jsxs("div",{className:`${t?"flex-col items-center gap-[calc(0.4vw+0.6rem)]":"flex-row items-center"}
                    h-auto w-full flex justify-center p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]`,children:[D.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("img",{src:n?Np:Ef,className:`h-[calc(6vw+6.4rem)] w-[calc(6vw+6.4rem)] cursor-pointer\r
                            filter hover:brightness-60 transition duration-300`,alt:""}),D.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),D.jsxs("div",{className:"flex-3 h-full flex flex-col items-start justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[D.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"Subscribe to our newsletter"}),D.jsxs("div",{className:"w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] pl-0",children:[D.jsx("input",{type:"email",placeholder:"Enter your email",className:`${n?"border-[var(--light-color)]":"border-[var(--dark-color)]"}
                                    w-full outline-none px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] border-b`}),D.jsx("i",{className:"bx bx-arrow-right-stroke-circle bx-spin-hover hovered text-[calc(1vw+1.4rem)] cursor-pointer"})]})]}),D.jsxs("div",{className:`${t?"pb-[calc(0.4vw+0.6rem)]":"p-[calc(0.4vw+0.6rem)]"}
                            flex-3 w-full flex items-center justify-center gap-[calc(1.4vw+1.6rem)]`,children:[D.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"About Us"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Mission"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Team"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"})]}),D.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Support"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Contact"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Support"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"FAQ's"})]}),D.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Social"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Facebook"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Instagram"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]})]})]})]})}),D.jsxs("section",{className:"w-full flex flex-row items-center justify-between flex-wrap",children:[D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Copyright  DriveSense 2025"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Terms of Service"}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"A100 Group 6 BSIT Mini-Capstone Project"}),D.jsxs("div",{className:"flex flex-row items-center justify-center",children:[D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Back to top"}),D.jsx("i",{className:"bx bx-arrow-up-square bx-tada-hover text-[calc(1vw+1.4rem)] cursor-pointer hovered",onClick:()=>{const e=document.getElementById("landing-section");e&&e.scrollIntoView({behavior:"smooth"})}})]})]})]})}function MP({isDark:n}){const t=sn();return D.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in h-screen w-full flex flex-col items-center justify-start overflow-y-scroll snap-y snap-mandatory scroll-smooth no-scrollbar`,children:[D.jsxs("section",{id:"landing-section",className:`${t?"flex-col min-h-screen w-full justify-center":"w-[90%] flex-row min-h-screen justify-around snap-start"}
                flex items-center border-b border-[var(--border-color)]`,children:[D.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:D.jsxs("div",{className:"flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(1.6vw+1.4rem)] font-bold cursor-pointer hovered",children:"Fuel Consumption and Vehicle Usage Monitoring System"}),!t&&D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),!t&&D.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--dark-color)] font-semibold`,children:"Get Started"}),D.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer font-semibold
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)]`,children:"Sign In"})]})]})}),D.jsx("div",{className:"relative h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:D.jsx("img",{src:ZO,className:`${t?"h-[calc(18vw+16rem)] min-w-[calc(18vw+16rem)]":"h-[calc(18vw+16rem)] w-[calc(24vw+18rem)] mb-[48px]"}`,alt:""})}),t&&D.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:D.jsxs("div",{className:"w-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),D.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer`,children:"Get Started"}),D.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer font-semibold`,children:"Sign In"})]})]})})]}),D.jsxs("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)] border-b border-[var(--border-color)]`,children:[D.jsx("span",{className:"text-[calc(0.8vw+1rem)] cursor-pointer font-semibold hovered",children:"Why Use DriveSense?"}),D.jsxs("div",{className:`${n?"text-[var(--light-color)]":"text-[var(--dark-color)]"}
                        ${t?"flex-row items-center flex-wrap":"flex-row items-start"}
                        w-full flex justify-center gap-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)]`,children:[D.jsx($h,{icon:D.jsx("i",{className:"bx bx-petrol-pump bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Monitor Fuel Consumption",info:"Track fuel volume, cost and refusing data.",isDark:n}),D.jsx($h,{icon:D.jsx("i",{className:"bx bx-chart-bar-columns bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Analyze Efficiency",info:"Generate reports on vehicle mileage and performance.",isDark:n}),D.jsx($h,{icon:D.jsx("i",{className:"bx bx-car bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Manage Vehicles",info:"Register and update vehicle details with ease.",isDark:n}),D.jsx($h,{icon:D.jsx("i",{className:"bx bx-lock-keyhole bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Secure Access",info:"Role: based login for admin, driver and owner.",isDark:n})]}),D.jsxs("div",{className:`${t?"flex-col justify-start w-full":"flex-row justify-center h-[320px] w-full"}
                    h-auto flex items-center p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[D.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:D.jsx(AP,{isDark:n})}),D.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:D.jsx(RP,{isDark:n})}),D.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:D.jsx(CP,{isDark:n})})]})]}),D.jsx("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)]`,children:D.jsx(IP,{isDark:n})})]})}function DP({isLoggedIn:n,setIsLoggedIn:t,setUser:e}){const[i,r]=gt.useState(!0);return D.jsxs("div",{className:`${i?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            h-screen w-screen overflow-hidden flex flex-col items-center justify-start`,children:[D.jsx(WO,{isDark:i,setIsDark:r,isLoggedIn:n,setIsLoggedIn:t,setUser:e}),D.jsx(MP,{isDark:i})]})}const L1=({icon:n,title:t})=>D.jsxs(D.Fragment,{children:[D.jsx("i",{className:`${n} text-[calc(0.6vw+1rem)]`}),D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] hovered",children:t})]});function NP({isDark:n,setIsDark:t,activeIndex:e,setActiveIndex:i,user:r,isLoggedIn:o,setIsLoggedIn:c}){const h=sn(),[f,m]=gt.useState(!1),_=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicle"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],y=r?.displayName?.split(" ")[0]??"Guest";return D.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[D.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[h&&D.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>m(b=>!b)}),D.jsx("img",{src:n?Np:Ef,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),D.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),D.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[r&&D.jsx("img",{src:r?.photoURL??"",className:"rounded-full h-[calc(0.8vw+1.4rem)]  w-[calc(0.8vw+1.4rem)] cursor-pointer",alt:""}),!r&&D.jsx("i",{className:"bx bx-user-circle bx-tada-hover hovered text-[calc(1vw+1.2rem)] cursor-pointer"}),D.jsx("span",{className:`${h?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} 
                    cursor-pointer hovered`,children:h?y:r?.displayName??"Guest"}),D.jsx(_E,{isDark:n,setIsDark:t}),o&&D.jsx("i",{className:"bx bx-arrow-out-right-square-half bx-tada-hover text-[calc(0.4vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out cursor-pointer",onClick:()=>c(b=>!b)})]}),h&&f&&D.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:D.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[D.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>m(b=>!b)}),_.map((b,E)=>D.jsx("div",{className:`${e===E?"bg-[var(--border-color)]":""} flex flex-row items-center justify-start gap-[calc(0.4vw+0.6rem)] 
                            cursor-pointer transition duration-300 ease-in-out`,onClick:()=>i(E),children:D.jsx(L1,{icon:b.icon,title:b.title})},E))]})})]})}function br({title:n,descrip:t,isDark:e}){return D.jsxs("div",{className:`
            text-[var(--light-color)] bg-[var(--purple-color)]
            h-auto w-full flex flex-col items-start justify-center rounded-lg
            p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer text-center",children:n}),D.jsx("span",{className:"text-[calc(0.6vw+1.2rem)] cursor-pointer",children:t})]})}qa.register(Y_,K_,I1,G_,Ed,xd);const OP=({isDark:n})=>{const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],datasets:[{label:"Fuel Consumption",data:[20,42,98,66,32,52,44,80,74],backgroundColor:["rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption",color:n?"#FFFCE1":"#0E100F",align:"start",font:{size:16}}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return D.jsx(P1,{data:t,options:e})};function gE({isDark:n,user:t}){const e=sn(),[i,r]=gt.useState("0"),[o,c]=gt.useState("0"),[h,f]=gt.useState("0"),[m,_]=gt.useState("0"),y=async()=>{try{if(!t||!t.uid){console.warn("User not available.");return}const b=yd(js,"users",t?.uid,"vehicles"),C=(await S_(b)).size;return console.log(`Total documents in dashboard-data: ${C}`),r(String(C)??"0"),c("0"),f("0"),_("0"),C}catch(b){console.error("Error fetching dashboard data:",b)}};return gt.useEffect(()=>{y()},[y]),D.jsxs("section",{id:"main",className:`${e?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
        flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:[D.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Dashboard"}),D.jsxs("span",{className:"text-[calc(0.4vw+0.8rem)] cursor-pointer hovered",children:["Welcome back, ",t?.displayName]}),!e&&D.jsxs("div",{className:"h-auto w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx(br,{title:"Total Vehicles",descrip:i,isDark:n}),D.jsx(br,{title:"Monthly Fuel Cost",descrip:o,isDark:n}),D.jsx(br,{title:"Mileage Efficiency",descrip:h,isDark:n}),D.jsx(br,{title:"Total Trips",descrip:m,isDark:n})]}),e&&D.jsxs("div",{className:"h-auto w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[D.jsx(br,{title:"Total Vehicles",descrip:i,isDark:n}),D.jsx(br,{title:"Monthly Fuel Cost",descrip:o,isDark:n})]}),D.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[D.jsx(br,{title:"Mileage Efficiency",descrip:h,isDark:n}),D.jsx(br,{title:"Total Trips",descrip:m,isDark:n})]})]})]}),D.jsxs("div",{className:`${e?"flex-col items-center mt-[calc(0.4vw+0.6rem)]":"flex-row items-start"}
                h-full w-full flex justify-start gap-[calc(0.4vw+0.6rem)]`,children:[D.jsx("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:D.jsx(OP,{isDark:n})}),D.jsxs("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:[D.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] p-[calc(0.4vw+0.6rem)] pl-0 cursor-pointer",children:"Recent Activity"}),D.jsx("div",{className:"h-full w-full flex flex-row items-start justify-around py-[calc(0.4vw+0.6rem)]",children:D.jsxs("div",{className:"w-full flex flex-row items-center justify-start",children:[D.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Activity"}),D.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Date"}),D.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Time"})]})})]})]})]})}function kP({user:n,driverInfo:t,isDark:e,vehicleInfo:i,setVehicleInfo:r}){const[o,c]=gt.useState(!1),h=sn(),[f,m]=gt.useState(null);gt.useEffect(()=>{if(console.log("driverInfo prop:",t),t&&Array.isArray(t)){const L=t.map(F=>F.name??"null");m(L)}},[t]),gt.useEffect(()=>{console.log("Driver Names: ",f)},[f]);const[_,y]=gt.useState(null),[b,E]=gt.useState(null),[C,M]=gt.useState(null),N=async()=>{if(!n?.uid)return;const L=new Date,F=`${L.toLocaleDateString()} ${L.toLocaleTimeString()}`,$=i.length+1,Z=yd(js,"users",n?.uid,"vehicles"),Y=await _O(Z,{id:$,plateNumber:_,model:b,driver:C,createdAt:F}),tt={id:$,plateNumber:_,model:b,driver:C,createdAt:F};r(R=>[...R,tt]),console.log(i),console.log("Added the vehicle successfully: ",Y),c(R=>!R)};return D.jsx(D.Fragment,{children:!o&&D.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:D.jsxs("div",{className:`${e?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[D.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>c(L=>!L)}),D.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[D.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:D.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),D.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("input",{type:"text",placeholder:"Plate Number",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:L=>y(L.target.value),required:!0}),D.jsx("input",{type:"text",placeholder:"Model",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:L=>E(L.target.value),required:!0}),D.jsxs("select",{id:"driver-names",value:C??"",className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",onChange:L=>M(L.target.value),children:[D.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),f?.map((L,F)=>D.jsx("option",{value:L,className:"text-[var(--dark-color)] cursor-pointer",children:L},F))]}),D.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>N(),children:"Continue"})]})]})]})})})}function VP({isDark:n,user:t,driverInfo:e,vehicleInfo:i,setVehicleInfo:r}){const o=sn(),[c,h]=gt.useState(!1),[f,m]=gt.useState([]),[_,y]=gt.useState([]),[b,E]=gt.useState([]),[C,M]=gt.useState([]),[N,L]=gt.useState([]),[F,$]=gt.useState([]),Z=async()=>{if(t?.uid)try{const Y=yd(js,"users",t?.uid,"vehicles"),tt=await S_(Y),R=[];tt.forEach(I=>{R.push(I.id)}),m(R),console.log("Fetched vehicles Id: ",f);const S=[];try{if(f.length>0){for(const I of R){const V=cl(js,"users",t?.uid,"vehicles",I),k=await w_(V);if(k.exists()&&I){const j=k.data(),O={id:j.id??null,plateNumber:j.plateNumber??null,model:j.model??null,driver:j.driver??null,createdAt:j.createdAt??null};S.push(O),console.log("id: ",j.id),console.log("platenumber: ",j.plateNumber),console.log("model: ",j.model),console.log("driver: ",j.driver),console.log("createdAt: ",j.createdAt)}}r(S)}}catch(I){console.error("Cant fetch vehicle fields",I)}}catch(Y){console.error("Can't fetech the vehicles :(",Y)}};return gt.useEffect(()=>{Z()},[Z]),gt.useEffect(()=>{const Y=i.map(V=>String(V.id??"null"));y(Y),console.log("List of driver names: ",Y);const tt=i.map(V=>V.plateNumber??"null");E(tt),console.log("List of driver names: ",b);const R=i.map(V=>V.model??"null");M(R),console.log("List of driver names: ",C);const S=i.map(V=>V.driver??"null");L(S),console.log("List of driver names: ",N);const I=i.map(V=>V.createdAt??"null");$(I),console.log("List of driver names: ",F)},[i]),D.jsxs("section",{id:"main",className:`${o?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
        
        flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[D.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Vehicle Information"}),D.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>h(Y=>!Y),children:[D.jsx("i",{className:"bx bx-plus bx-tada-hover"}),D.jsx("span",{className:"",children:"Add Vehicle"})]})]}),c&&D.jsx(kP,{user:t,driverInfo:e,isDark:n,vehicleInfo:i,setVehicleInfo:r}),D.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:D.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[D.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Id"}),D.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Driver"}),D.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Plate no."}),D.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Model"}),D.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Created At"}),D.jsx("div",{className:"flex-1 flex flex-row itens-center justify-end cursor-pointer text-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:D.jsx("i",{title:"Refresh",className:"bxr bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] text-[calc(0.6vw+1rem)] transition duration-300 ease-in-out cursor-pointer",onClick:()=>Z()})})]})}),f?.map((Y,tt)=>D.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]",children:D.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start ",children:[D.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:_[tt]??"null"}),D.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:N[tt]??"null"}),D.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:b[tt]??"null"}),D.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:C[tt]??"null"}),D.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:F[tt]??"null"}),D.jsxs("div",{className:"flex-1 flex flex-row itens-center justify-end cursor-pointer text-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("i",{className:"bx bx-edit bx-tada-hover hovered text-[calc(0.8vw+1rem)] cursor-pointer"}),D.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out gap-[calc(0.4vw+0.6rem)] cursor-pointer"})]})]})},Y))]})]})}function PP({user:n,driverInfo:t,setDriverInfo:e}){const[i,r]=gt.useState(!1),o=sn(),[c,h]=gt.useState(null),[f,m]=gt.useState(null),[_,y]=gt.useState(null),b=async()=>{try{if(!n?.uid)return;const E=(t.length+1).toString(),C=c,M=f,N=_,L=cl(js,"users",n?.uid,"drivers",E),F=await FS(L,{customId:E,name:C,contact:M,license:N});console.log("Added the driver successfully: ",F);const Z={id:t.length+1,name:C,contact:M,license:N};e(Y=>[...Y,Z]),console.log(t),r(Y=>!Y)}catch(E){console.error("Can't add the driver.",E)}};return D.jsx(D.Fragment,{children:!i&&D.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:D.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[D.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>r(E=>!E)}),D.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]`,children:[D.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:D.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new driver"})}),D.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("input",{type:"text",placeholder:"Name",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>h(E.target.value),required:!0}),D.jsx("input",{type:"text",placeholder:"Contact",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>m(E.target.value),required:!0}),D.jsx("input",{type:"text",placeholder:"License",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>y(E.target.value),required:!0}),D.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>b(),children:"Continue"})]})]})]})})})}function LP({user:n,driverId:t,driverIndex:e,driverInfo:i,setDriverInfo:r}){const[o,c]=gt.useState(!1),h=sn(),f=async()=>{try{if(!n?.uid||!t)return;const m=cl(js,"users",n?.uid,"drivers",t);await pO(m),r(_=>_.filter((y,b)=>b!==e))}catch(m){console.error("Cant delete the driver.",m)}c(m=>!m),console.log("Updated driver info: ",i)};return D.jsx(D.Fragment,{children:!o&&D.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:D.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[D.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>c(m=>!m)}),D.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[D.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:D.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this driver?"})}),D.jsxs("div",{className:`
                            flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]`,children:[D.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>c(!1),children:"No"}),D.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>f(),children:"Yes"})]})]})]})})})}function jP({isDark:n,user:t,driverInfo:e,setDriverInfo:i}){const r=sn(),[o,c]=gt.useState(!1),[h,f]=gt.useState(!1),[m,_]=gt.useState([]),[y,b]=gt.useState(null),[E,C]=gt.useState(null),[M,N]=gt.useState([]),[L,F]=gt.useState([]),[$,Z]=gt.useState([]),Y=async()=>{try{if(!t?.uid)return;const tt=yd(js,"users",t?.uid,"drivers"),R=await S_(tt),S=[];R.forEach(V=>{S.push(V.id),console.log("Driver name: ",V.id),console.log(Y)}),_(S);const I=[];try{if(S.length>0){for(const V of S){const k=cl(js,"users",t?.uid,"drivers",V),j=await w_(k);if(j.exists()&&V){const O=j.data(),Dt={id:O.id??null,name:O.name??null,contact:O.contact??null,license:O.license??null};I.push(Dt),console.log(I)}}i(I)}}catch(V){console.error("Bruh can't fetch the names :D",V)}}catch(tt){console.error("Can't fetch drivers :D",tt)}};return gt.useEffect(()=>{Y()},[Y]),gt.useEffect(()=>{const tt=e.map(I=>I.name??"null");N(tt),console.log("List of driver names: ",M);const R=e.map(I=>I.contact??"null");F(R),console.log("List of driver contacts: ",L);const S=e.map(I=>I.license??"null");Z(S),console.log("List of driver licenses: ",$)},[e]),console.log(e),D.jsxs("section",{id:"main",className:`${r?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[D.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Driver Information"}),D.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-lg cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>c(tt=>!tt),children:[D.jsx("i",{className:"bx bx-plus bx-tada-hover"}),D.jsx("span",{className:"",children:"Add Driver"})]})]}),o&&D.jsx(PP,{user:t,driverInfo:e,setDriverInfo:i}),D.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:D.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start gap-[calc(0.6vw+1rem)]",children:[D.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Id"}),D.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Name"}),D.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Contact"}),D.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"License"}),D.jsx("div",{className:"flex-1 flex flex-row itens-center justify-end cursor-pointer text-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:D.jsx("i",{title:"Refresh",className:"bxr bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] text-[calc(0.6vw+1rem)] transition duration-300 ease-in-out cursor-pointer",onClick:()=>Y()})})]})}),m.map((tt,R)=>D.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]",children:D.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start gap-[calc(0.6vw+1rem)]",children:[D.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:m[R]??"null"}),D.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:M[R]??"null"}),D.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:L[R]??"null"}),D.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:$[R]??"null"}),D.jsxs("div",{className:"flex-1 flex flex-row itens-center justify-end cursor-pointer text-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:[D.jsx("i",{className:"bx bx-edit bx-tada-hover hovered text-[calc(0.8vw+1rem)] cursor-pointer"}),D.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out gap-[calc(0.4vw+0.6rem)] cursor-pointer",onClick:()=>{f(S=>!S),b(m[R]),C(R)}})]})]})},tt)),h&&y&&D.jsx(LP,{user:t,driverInfo:e,setDriverInfo:i,driverId:y,driverIndex:E})]})]})}function zP({isDark:n}){const t=sn();return D.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Fuel Tab"})}function UP({isDark:n}){const t=sn();return D.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Maintenance Tab"})}function BP({isDark:n}){const t=sn();return D.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Reports Tab"})}function FP({isDark:n}){const t=sn();return D.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Users Tab"})}function HP({isDark:n}){const t=sn();return D.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Settings Tab"})}function qP({isDark:n,activeIndex:t,setActiveIndex:e,user:i,driverInfo:r,setDriverInfo:o,vehicleInfo:c,setVehicleInfo:h}){const f=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-user bx-tada-hover hovered",title:"Drivers"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicles"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],m=[D.jsx(gE,{isDark:n,user:i,vehicleInfo:c}),D.jsx(jP,{isDark:n,user:i,driverInfo:r,setDriverInfo:o}),D.jsx(VP,{isDark:n,user:i,driverInfo:r,vehicleInfo:c,setVehicleInfo:h}),D.jsx(zP,{isDark:n}),D.jsx(UP,{isDark:n}),D.jsx(BP,{isDark:n}),D.jsx(FP,{isDark:n}),D.jsx(HP,{isDark:n})],_=sn();return D.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            ${_?"h-auto":"h-screen"}
            fade-in w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]`,children:[!_&&D.jsx("section",{id:"side-nav",className:"h-full w-full flex-1",children:f.map((y,b)=>D.jsx("div",{className:`${t===b?"text-[var(--dark-color)] bg-[var(--border-color)]":""} flex flex-row items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] 
                        cursor-pointer transition duration-300 ease-in-out`,onClick:()=>e(b),children:D.jsx(L1,{icon:y.icon,title:y.title})},b))}),m[t]??D.jsx(gE,{isDark:n,user:i,vehicleInfo:c})]})}function GP({user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,isLoggedIn:o,setIsLoggedIn:c}){const[h,f]=gt.useState(!0),[m,_]=gt.useState(0);return D.jsxs("div",{children:[D.jsx(NP,{isDark:h,setIsDark:f,activeIndex:m,setActiveIndex:_,user:n,isLoggedIn:o,setIsLoggedIn:c}),D.jsx(qP,{isDark:h,activeIndex:m,setActiveIndex:_,user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r})]})}function YP(){const[n,t]=gt.useState(!1),[e,i]=gt.useState(null),[r,o]=gt.useState([]),[c,h]=gt.useState([]);return D.jsxs("div",{children:[!n&&D.jsx(DP,{isLoggedIn:n,setIsLoggedIn:t,setUser:i}),n&&D.jsx(GP,{user:e,isLoggedIn:n,setIsLoggedIn:t,driverInfo:r,setDriverInfo:o,vehicleInfo:c,setVehicleInfo:h})]})}wR.createRoot(document.getElementById("root")).render(D.jsx(gt.StrictMode,{children:D.jsx(YP,{})}));
