(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function NR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vg={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function MR(){if(Sb)return bc;Sb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return bc.Fragment=t,bc.jsx=e,bc.jsxs=e,bc}var Ab;function DR(){return Ab||(Ab=1,Vg.exports=MR()),Vg.exports}var T=DR(),Pg={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function OR(){if(Rb)return At;Rb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function L(U,tt,ct){this.props=U,this.context=tt,this.refs=N,this.updater=ct||A}L.prototype.isReactComponent={},L.prototype.setState=function(U,tt){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,tt,"setState")},L.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=L.prototype;function H(U,tt,ct){this.props=U,this.context=tt,this.refs=N,this.updater=ct||A}var Z=H.prototype=new F;Z.constructor=H,C(Z,L.prototype),Z.isPureReactComponent=!0;var Q=Array.isArray;function rt(){}var M={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(U,tt,ct){var ut=ct.ref;return{$$typeof:n,type:U,key:tt,ref:ut!==void 0?ut:null,props:ct}}function P(U,tt){return D(U.type,tt,U.props)}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function j(U){var tt={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ct){return tt[ct]})}var k=/\/+/g;function Dt(U,tt){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):tt.toString(36)}function Tt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(rt,rt):(U.status="pending",U.then(function(tt){U.status==="pending"&&(U.status="fulfilled",U.value=tt)},function(tt){U.status==="pending"&&(U.status="rejected",U.reason=tt)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function K(U,tt,ct,ut,_t){var xt=typeof U;(xt==="undefined"||xt==="boolean")&&(U=null);var Ft=!1;if(U===null)Ft=!0;else switch(xt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(U.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=U._init,K(Ft(U._payload),tt,ct,ut,_t)}}if(Ft)return _t=_t(U),Ft=ut===""?"."+Dt(U,0):ut,Q(_t)?(ct="",Ft!=null&&(ct=Ft.replace(k,"$&/")+"/"),K(_t,tt,ct,"",function($r){return $r})):_t!=null&&(O(_t)&&(_t=P(_t,ct+(_t.key==null||U&&U.key===_t.key?"":(""+_t.key).replace(k,"$&/")+"/")+Ft)),tt.push(_t)),1;Ft=0;var Le=ut===""?".":ut+":";if(Q(U))for(var fe=0;fe<U.length;fe++)ut=U[fe],xt=Le+Dt(ut,fe),Ft+=K(ut,tt,ct,xt,_t);else if(fe=E(U),typeof fe=="function")for(U=fe.call(U),fe=0;!(ut=U.next()).done;)ut=ut.value,xt=Le+Dt(ut,fe++),Ft+=K(ut,tt,ct,xt,_t);else if(xt==="object"){if(typeof U.then=="function")return K(Tt(U),tt,ct,ut,_t);throw tt=String(U),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function ot(U,tt,ct){if(U==null)return U;var ut=[],_t=0;return K(U,ut,"","",function(xt){return tt.call(ct,xt,_t++)}),ut}function ft(U){if(U._status===-1){var tt=U._result;tt=tt(),tt.then(function(ct){(U._status===0||U._status===-1)&&(U._status=1,U._result=ct)},function(ct){(U._status===0||U._status===-1)&&(U._status=2,U._result=ct)}),U._status===-1&&(U._status=0,U._result=tt)}if(U._status===1)return U._result.default;throw U._result}var bt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Vt={map:ot,forEach:function(U,tt,ct){ot(U,function(){tt.apply(this,arguments)},ct)},count:function(U){var tt=0;return ot(U,function(){tt++}),tt},toArray:function(U){return ot(U,function(tt){return tt})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return At.Activity=_,At.Children=Vt,At.Component=L,At.Fragment=e,At.Profiler=r,At.PureComponent=H,At.StrictMode=i,At.Suspense=f,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,At.__COMPILER_RUNTIME={__proto__:null,c:function(U){return M.H.useMemoCache(U)}},At.cache=function(U){return function(){return U.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(U,tt,ct){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ut=C({},U.props),_t=U.key;if(tt!=null)for(xt in tt.key!==void 0&&(_t=""+tt.key),tt)!R.call(tt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&tt.ref===void 0||(ut[xt]=tt[xt]);var xt=arguments.length-2;if(xt===1)ut.children=ct;else if(1<xt){for(var Ft=Array(xt),Le=0;Le<xt;Le++)Ft[Le]=arguments[Le+2];ut.children=Ft}return D(U.type,_t,ut)},At.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},At.createElement=function(U,tt,ct){var ut,_t={},xt=null;if(tt!=null)for(ut in tt.key!==void 0&&(xt=""+tt.key),tt)R.call(tt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=tt[ut]);var Ft=arguments.length-2;if(Ft===1)_t.children=ct;else if(1<Ft){for(var Le=Array(Ft),fe=0;fe<Ft;fe++)Le[fe]=arguments[fe+2];_t.children=Le}if(U&&U.defaultProps)for(ut in Ft=U.defaultProps,Ft)_t[ut]===void 0&&(_t[ut]=Ft[ut]);return D(U,xt,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(U){return{$$typeof:h,render:U}},At.isValidElement=O,At.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ft}},At.memo=function(U,tt){return{$$typeof:d,type:U,compare:tt===void 0?null:tt}},At.startTransition=function(U){var tt=M.T,ct={};M.T=ct;try{var ut=U(),_t=M.S;_t!==null&&_t(ct,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(rt,bt)}catch(xt){bt(xt)}finally{tt!==null&&ct.types!==null&&(tt.types=ct.types),M.T=tt}},At.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},At.use=function(U){return M.H.use(U)},At.useActionState=function(U,tt,ct){return M.H.useActionState(U,tt,ct)},At.useCallback=function(U,tt){return M.H.useCallback(U,tt)},At.useContext=function(U){return M.H.useContext(U)},At.useDebugValue=function(){},At.useDeferredValue=function(U,tt){return M.H.useDeferredValue(U,tt)},At.useEffect=function(U,tt){return M.H.useEffect(U,tt)},At.useEffectEvent=function(U){return M.H.useEffectEvent(U)},At.useId=function(){return M.H.useId()},At.useImperativeHandle=function(U,tt,ct){return M.H.useImperativeHandle(U,tt,ct)},At.useInsertionEffect=function(U,tt){return M.H.useInsertionEffect(U,tt)},At.useLayoutEffect=function(U,tt){return M.H.useLayoutEffect(U,tt)},At.useMemo=function(U,tt){return M.H.useMemo(U,tt)},At.useOptimistic=function(U,tt){return M.H.useOptimistic(U,tt)},At.useReducer=function(U,tt,ct){return M.H.useReducer(U,tt,ct)},At.useRef=function(U){return M.H.useRef(U)},At.useState=function(U){return M.H.useState(U)},At.useSyncExternalStore=function(U,tt,ct){return M.H.useSyncExternalStore(U,tt,ct)},At.useTransition=function(){return M.H.useTransition()},At.version="19.2.0",At}var Cb;function qp(){return Cb||(Cb=1,Pg.exports=OR()),Pg.exports}var st=qp();const IE=NR(st);var Lg={exports:{}},xc={},jg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function kR(){return Ib||(Ib=1,(function(n){function t(K,ot){var ft=K.length;K.push(ot);t:for(;0<ft;){var bt=ft-1>>>1,Vt=K[bt];if(0<r(Vt,ot))K[bt]=ot,K[ft]=Vt,ft=bt;else break t}}function e(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ot=K[0],ft=K.pop();if(ft!==ot){K[0]=ft;t:for(var bt=0,Vt=K.length,U=Vt>>>1;bt<U;){var tt=2*(bt+1)-1,ct=K[tt],ut=tt+1,_t=K[ut];if(0>r(ct,ft))ut<Vt&&0>r(_t,ct)?(K[bt]=_t,K[ut]=ft,bt=ut):(K[bt]=ct,K[tt]=ft,bt=tt);else if(ut<Vt&&0>r(_t,ft))K[bt]=_t,K[ut]=ft,bt=ut;else break t}}return ot}function r(K,ot){var ft=K.sortIndex-ot.sortIndex;return ft!==0?ft:K.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],y=1,_=null,b=3,E=!1,A=!1,C=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Z(K){for(var ot=e(d);ot!==null;){if(ot.callback===null)i(d);else if(ot.startTime<=K)i(d),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=e(d)}}function Q(K){if(C=!1,Z(K),!A)if(e(f)!==null)A=!0,rt||(rt=!0,j());else{var ot=e(d);ot!==null&&Tt(Q,ot.startTime-K)}}var rt=!1,M=-1,R=5,D=-1;function P(){return N?!0:!(n.unstable_now()-D<R)}function O(){if(N=!1,rt){var K=n.unstable_now();D=K;var ot=!0;try{t:{A=!1,C&&(C=!1,F(M),M=-1),E=!0;var ft=b;try{e:{for(Z(K),_=e(f);_!==null&&!(_.expirationTime>K&&P());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,b=_.priorityLevel;var Vt=bt(_.expirationTime<=K);if(K=n.unstable_now(),typeof Vt=="function"){_.callback=Vt,Z(K),ot=!0;break e}_===e(f)&&i(f),Z(K)}else i(f);_=e(f)}if(_!==null)ot=!0;else{var U=e(d);U!==null&&Tt(Q,U.startTime-K),ot=!1}}break t}finally{_=null,b=ft,E=!1}ot=void 0}}finally{ot?j():rt=!1}}}var j;if(typeof H=="function")j=function(){H(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Dt=k.port2;k.port1.onmessage=O,j=function(){Dt.postMessage(null)}}else j=function(){L(O,0)};function Tt(K,ot){M=L(function(){K(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var ft=b;b=ot;try{return K()}finally{b=ft}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(K,ot){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=b;b=K;try{return ot()}finally{b=ft}},n.unstable_scheduleCallback=function(K,ot,ft){var bt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?bt+ft:bt):ft=bt,K){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ft+Vt,K={id:y++,callback:ot,priorityLevel:K,startTime:ft,expirationTime:Vt,sortIndex:-1},ft>bt?(K.sortIndex=ft,t(d,K),e(f)===null&&K===e(d)&&(C?(F(M),M=-1):C=!0,Tt(Q,ft-bt))):(K.sortIndex=Vt,t(f,K),A||E||(A=!0,rt||(rt=!0,j()))),K},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(K){var ot=b;return function(){var ft=b;b=ot;try{return K.apply(this,arguments)}finally{b=ft}}}})(Ug)),Ug}var Nb;function VR(){return Nb||(Nb=1,jg.exports=kR()),jg.exports}var zg={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function PR(){if(Mb)return rn;Mb=1;var n=qp();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:d,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rn.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,y)},rn.flushSync=function(f){var d=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=y,i.d.f()}},rn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},rn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},rn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,_=h(y,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:E}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},rn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},rn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,_=h(y,d.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},rn.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},rn.requestFormReset=function(f){i.d.r(f)},rn.unstable_batchedUpdates=function(f,d){return f(d)},rn.useFormState=function(f,d,y){return c.H.useFormState(f,d,y)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var Db;function LR(){if(Db)return zg.exports;Db=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),zg.exports=PR(),zg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function jR(){if(Ob)return xc;Ob=1;var n=VR(),t=qp(),e=LR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var x=!1,S=g.child;S;){if(S===l){x=!0,l=g,u=p;break}if(S===u){x=!0,u=g,l=p;break}S=S.sibling}if(!x){for(S=p.child;S;){if(S===l){x=!0,l=p,u=g;break}if(S===u){x=!0,u=p,l=g;break}S=S.sibling}if(!x)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case L:return"Profiler";case N:return"StrictMode";case Q:return"Suspense";case rt:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case H:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case Z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var Tt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},bt=[],Vt=-1;function U(s){return{current:s}}function tt(s){0>Vt||(s.current=bt[Vt],bt[Vt]=null,Vt--)}function ct(s,a){Vt++,bt[Vt]=s.current,s.current=a}var ut=U(null),_t=U(null),xt=U(null),Ft=U(null);function Le(s,a){switch(ct(xt,a),ct(_t,s),ct(ut,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?K0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=K0(a),s=X0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}tt(ut),ct(ut,s)}function fe(){tt(ut),tt(_t),tt(xt)}function $r(s){s.memoizedState!==null&&ct(Ft,s);var a=ut.current,l=X0(a,s.type);a!==l&&(ct(_t,s),ct(ut,l))}function Wa(s){_t.current===s&&(tt(ut),tt(_t)),Ft.current===s&&(tt(Ft),pc._currentValue=ft)}var Za,Ja;function xi(s){if(Za===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Za=a&&a[1]||"",Ja=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+s+Ja}var pl=!1;function Kr(s,a){if(!s||pl)return"";pl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(W){var $=W}Reflect.construct(s,[],nt)}else{try{nt.call()}catch(W){$=W}s.call(nt.prototype)}}else{try{throw Error()}catch(W){$=W}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),x=p[0],S=p[1];if(x&&S){var V=x.split(`
`),Y=S.split(`
`);for(g=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(u===V.length||g===Y.length)for(u=V.length-1,g=Y.length-1;1<=u&&0<=g&&V[u]!==Y[g];)g--;for(;1<=u&&0<=g;u--,g--)if(V[u]!==Y[g]){if(u!==1||g!==1)do if(u--,g--,0>g||V[u]!==Y[g]){var J=`
`+V[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=g);break}}}finally{pl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?xi(l):""}function yl(s,a){switch(s.tag){case 26:case 27:case 5:return xi(s.type);case 16:return xi("Lazy");case 13:return s.child!==a&&a!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Kr(s.type,!1);case 11:return Kr(s.type.render,!1);case 1:return Kr(s.type,!0);case 31:return xi("Activity");default:return""}}function _l(s){try{var a="",l=null;do a+=yl(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,zs=n.unstable_cancelCallback,Ld=n.unstable_shouldYield,Eu=n.unstable_requestPaint,dn=n.unstable_now,Xr=n.unstable_getCurrentPriorityLevel,vl=n.unstable_ImmediatePriority,bl=n.unstable_UserBlockingPriority,Bs=n.unstable_NormalPriority,jd=n.unstable_LowPriority,Tu=n.unstable_IdlePriority,Su=n.log,Au=n.unstable_setDisableYieldValue,si=null,Xe=null;function Ln(s){if(typeof Su=="function"&&Au(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(si,s)}catch{}}var ve=Math.clz32?Math.clz32:Cu,Ru=Math.log,to=Math.LN2;function Cu(s){return s>>>=0,s===0?32:31-(Ru(s)/to|0)|0}var wi=256,Qr=262144,Ae=4194304;function Ei(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ti(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=Ei(u):(x&=S,x!==0?g=Ei(x):l||(l=S&~s,l!==0&&(g=Ei(l))))):(S=u&~p,S!==0?g=Ei(S):x!==0?g=Ei(x):l||(l=u&~s,l!==0&&(g=Ei(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function ri(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ud(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Si(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Wr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function zd(s,a,l,u,g,p){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,V=s.expirationTimes,Y=s.hiddenUpdates;for(l=x&~l;0<l;){var J=31-ve(l),nt=1<<J;S[J]=0,V[J]=-1;var $=Y[J];if($!==null)for(Y[J]=null,J=0;J<$.length;J++){var W=$[J];W!==null&&(W.lane&=-536870913)}l&=~nt}u!==0&&Zr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(x&~a))}function Zr(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-ve(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function xl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-ve(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function wl(s,a){var l=a&-a;return l=(l&42)!==0?1:Jr(l),(l&(s.suspendedLanes|a))!==0?0:l}function Jr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function as(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Nu(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:_b(s.type))}function ai(s,a){var l=ot.p;try{return ot.p=s,a()}finally{ot.p=l}}var oi=Math.random().toString(36).slice(2),Re="__reactFiber$"+oi,Ge="__reactProps$"+oi,Ai="__reactContainer$"+oi,eo="__reactEvents$"+oi,Bd="__reactListeners$"+oi,Mu="__reactHandles$"+oi,Du="__reactResources$"+oi,Ri="__reactMarker$"+oi;function no(s){delete s[Re],delete s[Ge],delete s[eo],delete s[Bd],delete s[Mu]}function Ci(s){var a=s[Re];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Ai]||l[Re]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=nb(s);s!==null;){if(l=s[Re])return l;s=nb(s)}return a}s=l,l=s.parentNode}return null}function jn(s){if(s=s[Re]||s[Ai]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Cn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ii(s){var a=s[Du];return a||(a=s[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ce(s){s[Ri]=!0}var El=new Set,Tl={};function Ni(s,a){Mi(s,a),Mi(s+"Capture",a)}function Mi(s,a){for(Tl[s]=a,s=0;s<a.length;s++)El.add(a[s])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},Rl={};function Ou(s){return Se.call(Rl,s)?!0:Se.call(Al,s)?!1:Sl.test(s)?Rl[s]=!0:(Al[s]=!0,!1)}function io(s,a,l){if(Ou(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function In(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ie(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Ye(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Cl(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){l=""+x,p.call(this,x)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Wt(s){if(!s._valueTracker){var a=Fs(s)?"checked":"value";s._valueTracker=Cl(s,a,""+s[a])}}function ta(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Fs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Di(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ea=/[\n"\\]/g;function yn(s){return s.replace(ea,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function so(s,a,l,u,g,p,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ye(a)):s.value!==""+Ye(a)&&(s.value=""+Ye(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?Il(s,x,Ye(a)):l!=null?Il(s,x,Ye(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Ye(S):s.removeAttribute("name")}function ku(s,a,l,u,g,p,x,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Wt(s);return}l=l!=null?""+Ye(l):"",a=a!=null?""+Ye(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),Wt(s)}function Il(s,a,l){a==="number"&&Di(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Hs(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ye(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Vu(s,a,l){if(a!=null&&(a=""+Ye(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Ye(l):""}function qs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Tt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ye(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Wt(s)}function _n(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Pu.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Ml(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Nl(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Nl(s,p,a[p])}function ro(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(s){return Gs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function li(){}var Dl=null;function Un(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ys=null,Oi=null;function na(s){var a=jn(s);if(a&&(s=a.stateNode)){var l=s[Ge]||null;t:switch(s=a.stateNode,a.type){case"input":if(so(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+yn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[Ge]||null;if(!g)throw Error(i(90));so(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&ta(u)}break t;case"textarea":Vu(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Hs(s,!!l.multiple,a,!1)}}}var oo=!1;function $s(s,a,l){if(oo)return s(a,l);oo=!0;try{var u=s(a);return u}finally{if(oo=!1,(Ys!==null||Oi!==null)&&(Nh(),Ys&&(a=Ys,s=Oi,Oi=Ys=null,na(a),s)))for(a=0;a<s.length;a++)na(s[a])}}function ci(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Ge]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=!1;if(zn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ia=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ia=!1}var ki=null,Ol=null,sa=null;function kl(){if(sa)return sa;var s,a=Ol,l=a.length,u,g="value"in ki?ki.value:ki.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var x=l-s;for(u=1;u<=x&&a[l-u]===g[p-u];u++);return sa=g.slice(s,1<u?1-u:void 0)}function ra(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function os(){return!0}function ui(){return!1}function Qe(s){function a(l,u,g,p,x){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?os:ui,this.isPropagationStopped=ui,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),a}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Qe(ls),Ks=_({},ls,{view:0,detail:0}),Vl=Qe(Ks),Xs,lo,Pi,co=_({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Pi&&(Pi&&s.type==="mousemove"?(Xs=s.screenX-Pi.screenX,lo=s.screenY-Pi.screenY):lo=Xs=0,Pi=s),Xs)},movementY:function(s){return"movementY"in s?s.movementY:lo}}),Pl=Qe(co),aa=_({},co,{dataTransfer:0}),ju=Qe(aa),Uu=_({},Ks,{relatedTarget:0}),oa=Qe(Uu),Ll=_({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=Qe(Ll),uo=_({},ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bu=Qe(uo),Fu=_({},ls,{data:0}),Li=Qe(Fu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Gu[s])?!!a[s]:!1}function Qs(){return Yu}var mn=_({},Ks,{key:function(s){if(s.key){var a=Hu[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ra(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?qu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(s){return s.type==="keypress"?ra(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ra(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),$u=Qe(mn),Ku=_({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=Qe(Ku),m=_({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),v=Qe(m),w=_({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=Qe(w),q=_({},co,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Qe(q),lt=_({},ls,{newState:0,oldState:0}),Ct=Qe(lt),be=[9,13,27,32],$t=zn&&"CompositionEvent"in window,de=null;zn&&"documentMode"in document&&(de=document.documentMode);var Bn=zn&&"TextEvent"in window&&!de,ji=zn&&(!$t||de&&8<de&&11>=de),hi=" ",fi=!1;function la(s,a){switch(s){case"keyup":return be.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fo=!1;function tA(s,a){switch(s){case"compositionend":return ho(a);case"keypress":return a.which!==32?null:(fi=!0,hi);case"textInput":return s=a.data,s===hi&&fi?null:s;default:return null}}function eA(s,a){if(fo)return s==="compositionend"||!$t&&la(s,a)?(s=kl(),sa=Ol=ki=null,fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ji&&a.locale!=="ko"?null:a.data;default:return null}}var nA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!nA[s.type]:a==="textarea"}function a_(s,a,l,u){Ys?Oi?Oi.push(u):Oi=[u]:Ys=u,a=Lh(a,"onChange"),0<a.length&&(l=new Vi("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var jl=null,Ul=null;function iA(s){F0(s,0)}function Xu(s){var a=Cn(s);if(ta(a))return s}function o_(s,a){if(s==="change")return a}var l_=!1;if(zn){var Fd;if(zn){var Hd="oninput"in document;if(!Hd){var c_=document.createElement("div");c_.setAttribute("oninput","return;"),Hd=typeof c_.oninput=="function"}Fd=Hd}else Fd=!1;l_=Fd&&(!document.documentMode||9<document.documentMode)}function u_(){jl&&(jl.detachEvent("onpropertychange",h_),Ul=jl=null)}function h_(s){if(s.propertyName==="value"&&Xu(Ul)){var a=[];a_(a,Ul,s,Un(s)),$s(iA,a)}}function sA(s,a,l){s==="focusin"?(u_(),jl=a,Ul=l,jl.attachEvent("onpropertychange",h_)):s==="focusout"&&u_()}function rA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xu(Ul)}function aA(s,a){if(s==="click")return Xu(a)}function oA(s,a){if(s==="input"||s==="change")return Xu(a)}function lA(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Nn=typeof Object.is=="function"?Object.is:lA;function zl(s,a){if(Nn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Se.call(a,g)||!Nn(s[g],a[g]))return!1}return!0}function f_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function d_(s,a){var l=f_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=f_(l)}}function m_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?m_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function g_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Di(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Di(s.document)}return a}function qd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var cA=zn&&"documentMode"in document&&11>=document.documentMode,mo=null,Gd=null,Bl=null,Yd=!1;function p_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yd||mo==null||mo!==Di(u)||(u=mo,"selectionStart"in u&&qd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bl&&zl(Bl,u)||(Bl=u,u=Lh(Gd,"onSelect"),0<u.length&&(a=new Vi("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=mo)))}function ca(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var go={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},$d={},y_={};zn&&(y_=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function ua(s){if($d[s])return $d[s];if(!go[s])return s;var a=go[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in y_)return $d[s]=a[l];return s}var __=ua("animationend"),v_=ua("animationiteration"),b_=ua("animationstart"),uA=ua("transitionrun"),hA=ua("transitionstart"),fA=ua("transitioncancel"),x_=ua("transitionend"),w_=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function di(s,a){w_.set(s,a),Ni(a,[s])}var Qu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Fn=[],po=0,Xd=0;function Wu(){for(var s=po,a=Xd=po=0;a<s;){var l=Fn[a];Fn[a++]=null;var u=Fn[a];Fn[a++]=null;var g=Fn[a];Fn[a++]=null;var p=Fn[a];if(Fn[a++]=null,u!==null&&g!==null){var x=u.pending;x===null?g.next=g:(g.next=x.next,x.next=g),u.pending=g}p!==0&&E_(l,g,p)}}function Zu(s,a,l,u){Fn[po++]=s,Fn[po++]=a,Fn[po++]=l,Fn[po++]=u,Xd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Qd(s,a,l,u){return Zu(s,a,l,u),Ju(s)}function ha(s,a){return Zu(s,null,null,a),Ju(s)}function E_(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-ve(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Ju(s){if(50<cc)throw cc=0,rg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var yo={};function dA(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,a,l,u){return new dA(s,a,l,u)}function Wd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function us(s,a){var l=s.alternate;return l===null?(l=Mn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function T_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function th(s,a,l,u,g,p){var x=0;if(u=s,typeof s=="function")Wd(s)&&(x=1);else if(typeof s=="string")x=_R(s,l,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=Mn(31,l,a,g),s.elementType=D,s.lanes=p,s;case C:return fa(l.children,g,p,a);case N:x=8,g|=24;break;case L:return s=Mn(12,l,a,g|2),s.elementType=L,s.lanes=p,s;case Q:return s=Mn(13,l,a,g),s.elementType=Q,s.lanes=p,s;case rt:return s=Mn(19,l,a,g),s.elementType=rt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:x=10;break t;case F:x=9;break t;case Z:x=11;break t;case M:x=14;break t;case R:x=16,u=null;break t}x=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Mn(x,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function fa(s,a,l,u){return s=Mn(7,s,u,a),s.lanes=l,s}function Zd(s,a,l){return s=Mn(6,s,null,a),s.lanes=l,s}function S_(s){var a=Mn(18,null,null,0);return a.stateNode=s,a}function Jd(s,a,l){return a=Mn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var A_=new WeakMap;function Hn(s,a){if(typeof s=="object"&&s!==null){var l=A_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:_l(a)},A_.set(s,a),a)}return{value:s,source:a,stack:_l(a)}}var _o=[],vo=0,eh=null,Fl=0,qn=[],Gn=0,Ws=null,Ui=1,zi="";function hs(s,a){_o[vo++]=Fl,_o[vo++]=eh,eh=s,Fl=a}function R_(s,a,l){qn[Gn++]=Ui,qn[Gn++]=zi,qn[Gn++]=Ws,Ws=s;var u=Ui;s=zi;var g=32-ve(u)-1;u&=~(1<<g),l+=1;var p=32-ve(a)+g;if(30<p){var x=g-g%5;p=(u&(1<<x)-1).toString(32),u>>=x,g-=x,Ui=1<<32-ve(a)+g|l<<g|u,zi=p+s}else Ui=1<<p|l<<g|u,zi=s}function tm(s){s.return!==null&&(hs(s,1),R_(s,1,0))}function em(s){for(;s===eh;)eh=_o[--vo],_o[vo]=null,Fl=_o[--vo],_o[vo]=null;for(;s===Ws;)Ws=qn[--Gn],qn[Gn]=null,zi=qn[--Gn],qn[Gn]=null,Ui=qn[--Gn],qn[Gn]=null}function C_(s,a){qn[Gn++]=Ui,qn[Gn++]=zi,qn[Gn++]=Ws,Ui=a.id,zi=a.overflow,Ws=s}var We=null,oe=null,Bt=!1,Zs=null,Yn=!1,nm=Error(i(519));function Js(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Hn(a,s)),nm}function I_(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Re]=s,a[Ge]=u,l){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(l=0;l<hc.length;l++)kt(hc[l],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),ku(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),qs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Y0(a.textContent,l)?(u.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),u.onScroll!=null&&kt("scroll",a),u.onScrollEnd!=null&&kt("scrollend",a),u.onClick!=null&&(a.onclick=li),a=!0):a=!1,a||Js(s,!0)}function N_(s){for(We=s.return;We;)switch(We.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:We=We.return}}function bo(s){if(s!==We)return!1;if(!Bt)return N_(s),Bt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||bg(s.type,s.memoizedProps)),l=!l),l&&oe&&Js(s),N_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=eb(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=eb(s)}else a===27?(a=oe,dr(s.type)?(s=Sg,Sg=null,oe=s):oe=a):oe=We?Kn(s.stateNode.nextSibling):null;return!0}function da(){oe=We=null,Bt=!1}function im(){var s=Zs;return s!==null&&(wn===null?wn=s:wn.push.apply(wn,s),Zs=null),s}function Hl(s){Zs===null?Zs=[s]:Zs.push(s)}var sm=U(null),ma=null,fs=null;function tr(s,a,l){ct(sm,a._currentValue),a._currentValue=l}function ds(s){s._currentValue=sm.current,tt(sm)}function rm(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function am(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var x=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var V=0;V<a.length;V++)if(S.context===a[V]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),rm(p.return,l,s),u||(x=null);break t}p=S.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(i(341));x.lanes|=l,p=x.alternate,p!==null&&(p.lanes|=l),rm(x,l,s),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function xo(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var S=g.type;Nn(g.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(g===Ft.current){if(x=g.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(pc):s=[pc])}g=g.return}s!==null&&am(a,s,l,u),a.flags|=262144}function nh(s){for(s=s.firstContext;s!==null;){if(!Nn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ga(s){ma=s,fs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ze(s){return M_(ma,s)}function ih(s,a){return ma===null&&ga(s),M_(s,a)}function M_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},fs===null){if(s===null)throw Error(i(308));fs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else fs=fs.next=a;return l}var mA=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},gA=n.unstable_scheduleCallback,pA=n.unstable_NormalPriority,Ne={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new mA,data:new Map,refCount:0}}function ql(s){s.refCount--,s.refCount===0&&gA(pA,function(){s.controller.abort()})}var Gl=null,lm=0,wo=0,Eo=null;function yA(s,a){if(Gl===null){var l=Gl=[];lm=0,wo=hg(),Eo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return lm++,a.then(D_,D_),a}function D_(){if(--lm===0&&Gl!==null){Eo!==null&&(Eo.status="fulfilled");var s=Gl;Gl=null,wo=0,Eo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function _A(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var O_=K.S;K.S=function(s,a){p0=dn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&yA(s,a),O_!==null&&O_(s,a)};var pa=U(null);function cm(){var s=pa.current;return s!==null?s:ae.pooledCache}function sh(s,a){a===null?ct(pa,pa.current):ct(pa,a.pool)}function k_(){var s=cm();return s===null?null:{parent:Ne._currentValue,pool:s}}var To=Error(i(460)),um=Error(i(474)),rh=Error(i(542)),ah={then:function(){}};function V_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function P_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(li,li),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,j_(s),s;default:if(typeof a.status=="string")a.then(li,li);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,j_(s),s}throw _a=a,To}}function ya(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(_a=l,To):l}}var _a=null;function L_(){if(_a===null)throw Error(i(459));var s=_a;return _a=null,s}function j_(s){if(s===To||s===rh)throw Error(i(483))}var So=null,Yl=0;function oh(s){var a=Yl;return Yl+=1,So===null&&(So=[]),P_(So,s,a)}function $l(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function lh(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function U_(s){function a(B,z){if(s){var G=B.deletions;G===null?(B.deletions=[z],B.flags|=16):G.push(z)}}function l(B,z){if(!s)return null;for(;z!==null;)a(B,z),z=z.sibling;return null}function u(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function g(B,z){return B=us(B,z),B.index=0,B.sibling=null,B}function p(B,z,G){return B.index=G,s?(G=B.alternate,G!==null?(G=G.index,G<z?(B.flags|=67108866,z):G):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function x(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function S(B,z,G,et){return z===null||z.tag!==6?(z=Zd(G,B.mode,et),z.return=B,z):(z=g(z,G),z.return=B,z)}function V(B,z,G,et){var pt=G.type;return pt===C?J(B,z,G.props.children,et,G.key):z!==null&&(z.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===R&&ya(pt)===z.type)?(z=g(z,G.props),$l(z,G),z.return=B,z):(z=th(G.type,G.key,G.props,null,B.mode,et),$l(z,G),z.return=B,z)}function Y(B,z,G,et){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Jd(G,B.mode,et),z.return=B,z):(z=g(z,G.children||[]),z.return=B,z)}function J(B,z,G,et,pt){return z===null||z.tag!==7?(z=fa(G,B.mode,et,pt),z.return=B,z):(z=g(z,G),z.return=B,z)}function nt(B,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Zd(""+z,B.mode,G),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return G=th(z.type,z.key,z.props,null,B.mode,G),$l(G,z),G.return=B,G;case A:return z=Jd(z,B.mode,G),z.return=B,z;case R:return z=ya(z),nt(B,z,G)}if(Tt(z)||j(z))return z=fa(z,B.mode,G,null),z.return=B,z;if(typeof z.then=="function")return nt(B,oh(z),G);if(z.$$typeof===H)return nt(B,ih(B,z),G);lh(B,z)}return null}function $(B,z,G,et){var pt=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pt!==null?null:S(B,z,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===pt?V(B,z,G,et):null;case A:return G.key===pt?Y(B,z,G,et):null;case R:return G=ya(G),$(B,z,G,et)}if(Tt(G)||j(G))return pt!==null?null:J(B,z,G,et,null);if(typeof G.then=="function")return $(B,z,oh(G),et);if(G.$$typeof===H)return $(B,z,ih(B,G),et);lh(B,G)}return null}function W(B,z,G,et,pt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(G)||null,S(z,B,""+et,pt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case E:return B=B.get(et.key===null?G:et.key)||null,V(z,B,et,pt);case A:return B=B.get(et.key===null?G:et.key)||null,Y(z,B,et,pt);case R:return et=ya(et),W(B,z,G,et,pt)}if(Tt(et)||j(et))return B=B.get(G)||null,J(z,B,et,pt,null);if(typeof et.then=="function")return W(B,z,G,oh(et),pt);if(et.$$typeof===H)return W(B,z,G,ih(z,et),pt);lh(z,et)}return null}function dt(B,z,G,et){for(var pt=null,Gt=null,mt=z,Nt=z=0,Lt=null;mt!==null&&Nt<G.length;Nt++){mt.index>Nt?(Lt=mt,mt=null):Lt=mt.sibling;var Yt=$(B,mt,G[Nt],et);if(Yt===null){mt===null&&(mt=Lt);break}s&&mt&&Yt.alternate===null&&a(B,mt),z=p(Yt,z,Nt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt,mt=Lt}if(Nt===G.length)return l(B,mt),Bt&&hs(B,Nt),pt;if(mt===null){for(;Nt<G.length;Nt++)mt=nt(B,G[Nt],et),mt!==null&&(z=p(mt,z,Nt),Gt===null?pt=mt:Gt.sibling=mt,Gt=mt);return Bt&&hs(B,Nt),pt}for(mt=u(mt);Nt<G.length;Nt++)Lt=W(mt,B,Nt,G[Nt],et),Lt!==null&&(s&&Lt.alternate!==null&&mt.delete(Lt.key===null?Nt:Lt.key),z=p(Lt,z,Nt),Gt===null?pt=Lt:Gt.sibling=Lt,Gt=Lt);return s&&mt.forEach(function(_r){return a(B,_r)}),Bt&&hs(B,Nt),pt}function vt(B,z,G,et){if(G==null)throw Error(i(151));for(var pt=null,Gt=null,mt=z,Nt=z=0,Lt=null,Yt=G.next();mt!==null&&!Yt.done;Nt++,Yt=G.next()){mt.index>Nt?(Lt=mt,mt=null):Lt=mt.sibling;var _r=$(B,mt,Yt.value,et);if(_r===null){mt===null&&(mt=Lt);break}s&&mt&&_r.alternate===null&&a(B,mt),z=p(_r,z,Nt),Gt===null?pt=_r:Gt.sibling=_r,Gt=_r,mt=Lt}if(Yt.done)return l(B,mt),Bt&&hs(B,Nt),pt;if(mt===null){for(;!Yt.done;Nt++,Yt=G.next())Yt=nt(B,Yt.value,et),Yt!==null&&(z=p(Yt,z,Nt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return Bt&&hs(B,Nt),pt}for(mt=u(mt);!Yt.done;Nt++,Yt=G.next())Yt=W(mt,B,Nt,Yt.value,et),Yt!==null&&(s&&Yt.alternate!==null&&mt.delete(Yt.key===null?Nt:Yt.key),z=p(Yt,z,Nt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return s&&mt.forEach(function(IR){return a(B,IR)}),Bt&&hs(B,Nt),pt}function re(B,z,G,et){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:t:{for(var pt=G.key;z!==null;){if(z.key===pt){if(pt=G.type,pt===C){if(z.tag===7){l(B,z.sibling),et=g(z,G.props.children),et.return=B,B=et;break t}}else if(z.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===R&&ya(pt)===z.type){l(B,z.sibling),et=g(z,G.props),$l(et,G),et.return=B,B=et;break t}l(B,z);break}else a(B,z);z=z.sibling}G.type===C?(et=fa(G.props.children,B.mode,et,G.key),et.return=B,B=et):(et=th(G.type,G.key,G.props,null,B.mode,et),$l(et,G),et.return=B,B=et)}return x(B);case A:t:{for(pt=G.key;z!==null;){if(z.key===pt)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){l(B,z.sibling),et=g(z,G.children||[]),et.return=B,B=et;break t}else{l(B,z);break}else a(B,z);z=z.sibling}et=Jd(G,B.mode,et),et.return=B,B=et}return x(B);case R:return G=ya(G),re(B,z,G,et)}if(Tt(G))return dt(B,z,G,et);if(j(G)){if(pt=j(G),typeof pt!="function")throw Error(i(150));return G=pt.call(G),vt(B,z,G,et)}if(typeof G.then=="function")return re(B,z,oh(G),et);if(G.$$typeof===H)return re(B,z,ih(B,G),et);lh(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(l(B,z.sibling),et=g(z,G),et.return=B,B=et):(l(B,z),et=Zd(G,B.mode,et),et.return=B,B=et),x(B)):l(B,z)}return function(B,z,G,et){try{Yl=0;var pt=re(B,z,G,et);return So=null,pt}catch(mt){if(mt===To||mt===rh)throw mt;var Gt=Mn(29,mt,null,B.mode);return Gt.lanes=et,Gt.return=B,Gt}finally{}}}var va=U_(!0),z_=U_(!1),er=!1;function hm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function nr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ir(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Ju(s),E_(s,null,l),a}return Zu(s,u,a,l),Ju(s)}function Kl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,xl(s,l)}}function dm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=x:p=p.next=x,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var mm=!1;function Xl(){if(mm){var s=Eo;if(s!==null)throw s}}function Ql(s,a,l,u){mm=!1;var g=s.updateQueue;er=!1;var p=g.firstBaseUpdate,x=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var V=S,Y=V.next;V.next=null,x===null?p=Y:x.next=Y,x=V;var J=s.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==x&&(S===null?J.firstBaseUpdate=Y:S.next=Y,J.lastBaseUpdate=V))}if(p!==null){var nt=g.baseState;x=0,J=Y=V=null,S=p;do{var $=S.lane&-536870913,W=$!==S.lane;if(W?(Pt&$)===$:(u&$)===$){$!==0&&$===wo&&(mm=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=s,vt=S;$=a;var re=l;switch(vt.tag){case 1:if(dt=vt.payload,typeof dt=="function"){nt=dt.call(re,nt,$);break t}nt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=vt.payload,$=typeof dt=="function"?dt.call(re,nt,$):dt,$==null)break t;nt=_({},nt,$);break t;case 2:er=!0}}$=S.callback,$!==null&&(s.flags|=64,W&&(s.flags|=8192),W=g.callbacks,W===null?g.callbacks=[$]:W.push($))}else W={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(Y=J=W,V=nt):J=J.next=W,x|=$;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;W=S,S=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);J===null&&(V=nt),g.baseState=V,g.firstBaseUpdate=Y,g.lastBaseUpdate=J,p===null&&(g.shared.lanes=0),lr|=x,s.lanes=x,s.memoizedState=nt}}function B_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function F_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)B_(l[s],a)}var Ao=U(null),ch=U(0);function H_(s,a){s=ws,ct(ch,s),ct(Ao,a),ws=s|a.baseLanes}function gm(){ct(ch,ws),ct(Ao,Ao.current)}function pm(){ws=ch.current,tt(Ao),tt(ch)}var Dn=U(null),$n=null;function sr(s){var a=s.alternate;ct(xe,xe.current&1),ct(Dn,s),$n===null&&(a===null||Ao.current!==null||a.memoizedState!==null)&&($n=s)}function ym(s){ct(xe,xe.current),ct(Dn,s),$n===null&&($n=s)}function q_(s){s.tag===22?(ct(xe,xe.current),ct(Dn,s),$n===null&&($n=s)):rr()}function rr(){ct(xe,xe.current),ct(Dn,Dn.current)}function On(s){tt(Dn),$n===s&&($n=null),tt(xe)}var xe=U(0);function uh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Eg(l)||Tg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ms=0,It=null,ie=null,Me=null,hh=!1,Ro=!1,ba=!1,fh=0,Wl=0,Co=null,vA=0;function pe(){throw Error(i(321))}function _m(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Nn(s[l],a[l]))return!1;return!0}function vm(s,a,l,u,g,p){return ms=p,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=s===null||s.memoizedState===null?Rv:km,ba=!1,p=l(u,g),ba=!1,Ro&&(p=Y_(a,l,u,g)),G_(s),p}function G_(s){K.H=tc;var a=ie!==null&&ie.next!==null;if(ms=0,Me=ie=It=null,hh=!1,Wl=0,Co=null,a)throw Error(i(300));s===null||De||(s=s.dependencies,s!==null&&nh(s)&&(De=!0))}function Y_(s,a,l,u){It=s;var g=0;do{if(Ro&&(Co=null),Wl=0,Ro=!1,25<=g)throw Error(i(301));if(g+=1,Me=ie=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=Cv,p=a(l,u)}while(Ro);return p}function bA(){var s=K.H,a=s.useState()[0];return a=typeof a.then=="function"?Zl(a):a,s=s.useState()[0],(ie!==null?ie.memoizedState:null)!==s&&(It.flags|=1024),a}function bm(){var s=fh!==0;return fh=0,s}function xm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function wm(s){if(hh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}hh=!1}ms=0,Me=ie=It=null,Ro=!1,Wl=fh=0,Co=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?It.memoizedState=Me=s:Me=Me.next=s,Me}function we(){if(ie===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=ie.next;var a=Me===null?It.memoizedState:Me.next;if(a!==null)Me=a,ie=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));ie=s,s={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Me===null?It.memoizedState=Me=s:Me=Me.next=s}return Me}function dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(s){var a=Wl;return Wl+=1,Co===null&&(Co=[]),s=P_(Co,s,a),a=It,(Me===null?a.memoizedState:Me.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?Rv:km),s}function mh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Zl(s);if(s.$$typeof===H)return Ze(s)}throw Error(i(438,String(s)))}function Em(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=dh(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function gs(s,a){return typeof a=="function"?a(s):a}function gh(s){var a=we();return Tm(a,ie,s)}function Tm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var x=g.next;g.next=p.next,p.next=x}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var S=x=null,V=null,Y=a,J=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(Pt&nt)===nt:(ms&nt)===nt){var $=Y.revertLane;if($===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===wo&&(J=!0);else if((ms&$)===$){Y=Y.next,$===wo&&(J=!0);continue}else nt={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(S=V=nt,x=p):V=V.next=nt,It.lanes|=$,lr|=$;nt=Y.action,ba&&l(p,nt),p=Y.hasEagerState?Y.eagerState:l(p,nt)}else $={lane:nt,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(S=V=$,x=p):V=V.next=$,It.lanes|=nt,lr|=nt;Y=Y.next}while(Y!==null&&Y!==a);if(V===null?x=p:V.next=S,!Nn(p,s.memoizedState)&&(De=!0,J&&(l=Eo,l!==null)))throw l;s.memoizedState=p,s.baseState=x,s.baseQueue=V,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Sm(s){var a=we(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var x=g=g.next;do p=s(p,x.action),x=x.next;while(x!==g);Nn(p,a.memoizedState)||(De=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function $_(s,a,l){var u=It,g=we(),p=Bt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var x=!Nn((ie||g).memoizedState,l);if(x&&(g.memoizedState=l,De=!0),g=g.queue,Cm(Q_.bind(null,u,g,s),[s]),g.getSnapshot!==a||x||Me!==null&&Me.memoizedState.tag&1){if(u.flags|=2048,Io(9,{destroy:void 0},X_.bind(null,u,g,l,a),null),ae===null)throw Error(i(349));p||(ms&127)!==0||K_(u,a,l)}return l}function K_(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=dh(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function X_(s,a,l,u){a.value=l,a.getSnapshot=u,W_(a)&&Z_(s)}function Q_(s,a,l){return l(function(){W_(a)&&Z_(s)})}function W_(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Nn(s,l)}catch{return!0}}function Z_(s){var a=ha(s,2);a!==null&&En(a,s,2)}function Am(s){var a=gn();if(typeof s=="function"){var l=s;if(s=l(),ba){Ln(!0);try{l()}finally{Ln(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},a}function J_(s,a,l,u){return s.baseState=l,Tm(s,ie,typeof u=="function"?u:gs)}function xA(s,a,l,u,g){if(_h(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};K.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,tv(a,p)):(p.next=l.next,a.pending=l.next=p)}}function tv(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=K.T,x={};K.T=x;try{var S=l(g,u),V=K.S;V!==null&&V(x,S),ev(s,a,S)}catch(Y){Rm(s,a,Y)}finally{p!==null&&x.types!==null&&(p.types=x.types),K.T=p}}else try{p=l(g,u),ev(s,a,p)}catch(Y){Rm(s,a,Y)}}function ev(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){nv(s,a,u)},function(u){return Rm(s,a,u)}):nv(s,a,l)}function nv(s,a,l){a.status="fulfilled",a.value=l,iv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,tv(s,l)))}function Rm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,iv(a),a=a.next;while(a!==u)}s.action=null}function iv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function sv(s,a){return a}function rv(s,a){if(Bt){var l=ae.formState;if(l!==null){t:{var u=It;if(Bt){if(oe){e:{for(var g=oe,p=Yn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Kn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){oe=Kn(g.nextSibling),u=g.data==="F!";break t}}Js(u)}u=!1}u&&(a=l[0])}}return l=gn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sv,lastRenderedState:a},l.queue=u,l=Tv.bind(null,It,u),u.dispatch=l,u=Am(!1),p=Om.bind(null,It,!1,u.queue),u=gn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=xA.bind(null,It,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function av(s){var a=we();return ov(a,ie,s)}function ov(s,a,l){if(a=Tm(s,a,sv)[0],s=gh(gs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Zl(a)}catch(x){throw x===To?rh:x}else u=a;a=we();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(It.flags|=2048,Io(9,{destroy:void 0},wA.bind(null,g,l),null)),[u,p,s]}function wA(s,a){s.action=a}function lv(s){var a=we(),l=ie;if(l!==null)return ov(a,l,s);we(),a=a.memoizedState,l=we();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Io(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=dh(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function cv(){return we().memoizedState}function ph(s,a,l,u){var g=gn();It.flags|=s,g.memoizedState=Io(1|a,{destroy:void 0},l,u===void 0?null:u)}function yh(s,a,l,u){var g=we();u=u===void 0?null:u;var p=g.memoizedState.inst;ie!==null&&u!==null&&_m(u,ie.memoizedState.deps)?g.memoizedState=Io(a,p,l,u):(It.flags|=s,g.memoizedState=Io(1|a,p,l,u))}function uv(s,a){ph(8390656,8,s,a)}function Cm(s,a){yh(2048,8,s,a)}function EA(s){It.flags|=4;var a=It.updateQueue;if(a===null)a=dh(),It.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function hv(s){var a=we().memoizedState;return EA({ref:a,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function fv(s,a){return yh(4,2,s,a)}function dv(s,a){return yh(4,4,s,a)}function mv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function gv(s,a,l){l=l!=null?l.concat([s]):null,yh(4,4,mv.bind(null,a,s),l)}function Im(){}function pv(s,a){var l=we();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&_m(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function yv(s,a){var l=we();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&_m(a,u[1]))return u[0];if(u=s(),ba){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[u,a],u}function Nm(s,a,l){return l===void 0||(ms&1073741824)!==0&&(Pt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=_0(),It.lanes|=s,lr|=s,l)}function _v(s,a,l,u){return Nn(l,a)?l:Ao.current!==null?(s=Nm(s,l,u),Nn(s,a)||(De=!0),s):(ms&42)===0||(ms&1073741824)!==0&&(Pt&261930)===0?(De=!0,s.memoizedState=l):(s=_0(),It.lanes|=s,lr|=s,a)}function vv(s,a,l,u,g){var p=ot.p;ot.p=p!==0&&8>p?p:8;var x=K.T,S={};K.T=S,Om(s,!1,a,l);try{var V=g(),Y=K.S;if(Y!==null&&Y(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=_A(V,u);Jl(s,a,J,Pn(s))}else Jl(s,a,u,Pn(s))}catch(nt){Jl(s,a,{then:function(){},status:"rejected",reason:nt},Pn())}finally{ot.p=p,x!==null&&S.types!==null&&(x.types=S.types),K.T=x}}function TA(){}function Mm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=bv(s).queue;vv(s,g,a,ft,l===null?TA:function(){return xv(s),l(u)})}function bv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:ft},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function xv(s){var a=bv(s);a.next===null&&(a=s.alternate.memoizedState),Jl(s,a.next.queue,{},Pn())}function Dm(){return Ze(pc)}function wv(){return we().memoizedState}function Ev(){return we().memoizedState}function SA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Pn();s=nr(l);var u=ir(a,s,l);u!==null&&(En(u,a,l),Kl(u,a,l)),a={cache:om()},s.payload=a;return}a=a.return}}function AA(s,a,l){var u=Pn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_h(s)?Sv(a,l):(l=Qd(s,a,l,u),l!==null&&(En(l,s,u),Av(l,a,u)))}function Tv(s,a,l){var u=Pn();Jl(s,a,l,u)}function Jl(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(_h(s))Sv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var x=a.lastRenderedState,S=p(x,l);if(g.hasEagerState=!0,g.eagerState=S,Nn(S,x))return Zu(s,a,g,0),ae===null&&Wu(),!1}catch{}finally{}if(l=Qd(s,a,g,u),l!==null)return En(l,s,u),Av(l,a,u),!0}return!1}function Om(s,a,l,u){if(u={lane:2,revertLane:hg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},_h(s)){if(a)throw Error(i(479))}else a=Qd(s,l,u,2),a!==null&&En(a,s,2)}function _h(s){var a=s.alternate;return s===It||a!==null&&a===It}function Sv(s,a){Ro=hh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Av(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,xl(s,l)}}var tc={readContext:Ze,use:mh,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};tc.useEffectEvent=pe;var Rv={readContext:Ze,use:mh,useCallback:function(s,a){return gn().memoizedState=[s,a===void 0?null:a],s},useContext:Ze,useEffect:uv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,ph(4194308,4,mv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return ph(4194308,4,s,a)},useInsertionEffect:function(s,a){ph(4,2,s,a)},useMemo:function(s,a){var l=gn();a=a===void 0?null:a;var u=s();if(ba){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=gn();if(l!==void 0){var g=l(a);if(ba){Ln(!0);try{l(a)}finally{Ln(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=AA.bind(null,It,s),[u.memoizedState,s]},useRef:function(s){var a=gn();return s={current:s},a.memoizedState=s},useState:function(s){s=Am(s);var a=s.queue,l=Tv.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Im,useDeferredValue:function(s,a){var l=gn();return Nm(l,s,a)},useTransition:function(){var s=Am(!1);return s=vv.bind(null,It,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=It,g=gn();if(Bt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ae===null)throw Error(i(349));(Pt&127)!==0||K_(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,uv(Q_.bind(null,u,p,s),[s]),u.flags|=2048,Io(9,{destroy:void 0},X_.bind(null,u,p,l,a),null),l},useId:function(){var s=gn(),a=ae.identifierPrefix;if(Bt){var l=zi,u=Ui;l=(u&~(1<<32-ve(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=fh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=vA++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Dm,useFormState:rv,useActionState:rv,useOptimistic:function(s){var a=gn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Om.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:Em,useCacheRefresh:function(){return gn().memoizedState=SA.bind(null,It)},useEffectEvent:function(s){var a=gn(),l={impl:s};return a.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},km={readContext:Ze,use:mh,useCallback:pv,useContext:Ze,useEffect:Cm,useImperativeHandle:gv,useInsertionEffect:fv,useLayoutEffect:dv,useMemo:yv,useReducer:gh,useRef:cv,useState:function(){return gh(gs)},useDebugValue:Im,useDeferredValue:function(s,a){var l=we();return _v(l,ie.memoizedState,s,a)},useTransition:function(){var s=gh(gs)[0],a=we().memoizedState;return[typeof s=="boolean"?s:Zl(s),a]},useSyncExternalStore:$_,useId:wv,useHostTransitionStatus:Dm,useFormState:av,useActionState:av,useOptimistic:function(s,a){var l=we();return J_(l,ie,s,a)},useMemoCache:Em,useCacheRefresh:Ev};km.useEffectEvent=hv;var Cv={readContext:Ze,use:mh,useCallback:pv,useContext:Ze,useEffect:Cm,useImperativeHandle:gv,useInsertionEffect:fv,useLayoutEffect:dv,useMemo:yv,useReducer:Sm,useRef:cv,useState:function(){return Sm(gs)},useDebugValue:Im,useDeferredValue:function(s,a){var l=we();return ie===null?Nm(l,s,a):_v(l,ie.memoizedState,s,a)},useTransition:function(){var s=Sm(gs)[0],a=we().memoizedState;return[typeof s=="boolean"?s:Zl(s),a]},useSyncExternalStore:$_,useId:wv,useHostTransitionStatus:Dm,useFormState:lv,useActionState:lv,useOptimistic:function(s,a){var l=we();return ie!==null?J_(l,ie,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Em,useCacheRefresh:Ev};Cv.useEffectEvent=hv;function Vm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Pm={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Pn(),g=nr(u);g.payload=a,l!=null&&(g.callback=l),a=ir(s,g,u),a!==null&&(En(a,s,u),Kl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Pn(),g=nr(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=ir(s,g,u),a!==null&&(En(a,s,u),Kl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Pn(),u=nr(l);u.tag=2,a!=null&&(u.callback=a),a=ir(s,u,l),a!==null&&(En(a,s,l),Kl(a,s,l))}};function Iv(s,a,l,u,g,p,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,x):a.prototype&&a.prototype.isPureReactComponent?!zl(l,u)||!zl(g,p):!0}function Nv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Pm.enqueueReplaceState(a,a.state,null)}function xa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function Mv(s){Qu(s)}function Dv(s){console.error(s)}function Ov(s){Qu(s)}function vh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function kv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Lm(s,a,l){return l=nr(l),l.tag=3,l.payload={element:null},l.callback=function(){vh(s,a)},l}function Vv(s){return s=nr(s),s.tag=3,s}function Pv(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){kv(a,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){kv(a,l,u),typeof g!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function RA(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&xo(a,l,g,!0),l=Dn.current,l!==null){switch(l.tag){case 31:case 13:return $n===null?Mh():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===ah?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),lg(s,u,g)),!1;case 22:return l.flags|=65536,u===ah?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),lg(s,u,g)),!1}throw Error(i(435,l.tag))}return lg(s,u,g),Mh(),!1}if(Bt)return a=Dn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==nm&&(s=Error(i(422),{cause:u}),Hl(Hn(s,l)))):(u!==nm&&(a=Error(i(423),{cause:u}),Hl(Hn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Hn(u,l),g=Lm(s.stateNode,u,g),dm(s,g),ye!==4&&(ye=2)),!1;var p=Error(i(520),{cause:u});if(p=Hn(p,l),lc===null?lc=[p]:lc.push(p),ye!==4&&(ye=2),a===null)return!0;u=Hn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Lm(l.stateNode,u,s),dm(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(cr===null||!cr.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Vv(g),Pv(g,s,l,u),dm(l,g),!1}l=l.return}while(l!==null);return!1}var jm=Error(i(461)),De=!1;function Je(s,a,l,u){a.child=s===null?z_(a,null,l,u):va(a,s.child,l,u)}function Lv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return ga(a),u=vm(s,a,l,x,p,g),S=bm(),s!==null&&!De?(xm(s,a,g),ps(s,a,g)):(Bt&&S&&tm(a),a.flags|=1,Je(s,a,u,g),a.child)}function jv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Wd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Uv(s,a,p,u,g)):(s=th(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Ym(s,g)){var x=p.memoizedProps;if(l=l.compare,l=l!==null?l:zl,l(x,u)&&s.ref===a.ref)return ps(s,a,g)}return a.flags|=1,s=us(p,u),s.ref=a.ref,s.return=a,a.child=s}function Uv(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(zl(p,u)&&s.ref===a.ref)if(De=!1,a.pendingProps=u=p,Ym(s,g))(s.flags&131072)!==0&&(De=!0);else return a.lanes=s.lanes,ps(s,a,g)}return Um(s,a,l,u,g)}function zv(s,a,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Bv(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&sh(a,p!==null?p.cachePool:null),p!==null?H_(a,p):gm(),q_(a);else return u=a.lanes=536870912,Bv(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(sh(a,p.cachePool),H_(a,p),rr(),a.memoizedState=null):(s!==null&&sh(a,null),gm(),rr());return Je(s,a,g,l),a.child}function ec(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Bv(s,a,l,u,g){var p=cm();return p=p===null?null:{parent:Ne._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&sh(a,null),gm(),q_(a),s!==null&&xo(s,a,u,!0),a.childLanes=g,null}function bh(s,a){return a=wh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Fv(s,a,l){return va(a,s.child,null,l),s=bh(a,a.pendingProps),s.flags|=2,On(a),a.memoizedState=null,s}function CA(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Bt){if(u.mode==="hidden")return s=bh(a,u),a.lanes=536870912,ec(null,s);if(ym(a),(s=oe)?(s=tb(s,Yn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ws!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=S_(s),l.return=a,a.child=l,We=a,oe=null)):s=null,s===null)throw Js(a);return a.lanes=536870912,null}return bh(a,u)}var p=s.memoizedState;if(p!==null){var x=p.dehydrated;if(ym(a),g)if(a.flags&256)a.flags&=-257,a=Fv(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(De||xo(s,a,l,!1),g=(l&s.childLanes)!==0,De||g){if(u=ae,u!==null&&(x=wl(u,l),x!==0&&x!==p.retryLane))throw p.retryLane=x,ha(s,x),En(u,s,x),jm;Mh(),a=Fv(s,a,l)}else s=p.treeContext,oe=Kn(x.nextSibling),We=a,Bt=!0,Zs=null,Yn=!1,s!==null&&C_(a,s),a=bh(a,u),a.flags|=4096;return a}return s=us(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function xh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Um(s,a,l,u,g){return ga(a),l=vm(s,a,l,u,void 0,g),u=bm(),s!==null&&!De?(xm(s,a,g),ps(s,a,g)):(Bt&&u&&tm(a),a.flags|=1,Je(s,a,l,g),a.child)}function Hv(s,a,l,u,g,p){return ga(a),a.updateQueue=null,l=Y_(a,u,l,g),G_(s),u=bm(),s!==null&&!De?(xm(s,a,p),ps(s,a,p)):(Bt&&u&&tm(a),a.flags|=1,Je(s,a,l,p),a.child)}function qv(s,a,l,u,g){if(ga(a),a.stateNode===null){var p=yo,x=l.contextType;typeof x=="object"&&x!==null&&(p=Ze(x)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Pm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},hm(a),x=l.contextType,p.context=typeof x=="object"&&x!==null?Ze(x):yo,p.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Vm(a,l,x,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Pm.enqueueReplaceState(p,p.state,null),Ql(a,u,p,g),Xl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var S=a.memoizedProps,V=xa(l,S);p.props=V;var Y=p.context,J=l.contextType;x=yo,typeof J=="object"&&J!==null&&(x=Ze(J));var nt=l.getDerivedStateFromProps;J=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==x)&&Nv(a,p,u,x),er=!1;var $=a.memoizedState;p.state=$,Ql(a,u,p,g),Xl(),Y=a.memoizedState,S||$!==Y||er?(typeof nt=="function"&&(Vm(a,l,nt,u),Y=a.memoizedState),(V=er||Iv(a,l,V,u,$,Y,x))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=x,u=V):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,fm(s,a),x=a.memoizedProps,J=xa(l,x),p.props=J,nt=a.pendingProps,$=p.context,Y=l.contextType,V=yo,typeof Y=="object"&&Y!==null&&(V=Ze(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==nt||$!==V)&&Nv(a,p,u,V),er=!1,$=a.memoizedState,p.state=$,Ql(a,u,p,g),Xl();var W=a.memoizedState;x!==nt||$!==W||er||s!==null&&s.dependencies!==null&&nh(s.dependencies)?(typeof S=="function"&&(Vm(a,l,S,u),W=a.memoizedState),(J=er||Iv(a,l,J,u,$,W,V)||s!==null&&s.dependencies!==null&&nh(s.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,V)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=V,u=J):(typeof p.componentDidUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,xh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=va(a,s.child,null,g),a.child=va(a,null,l,g)):Je(s,a,l,g),a.memoizedState=p.state,s=a.child):s=ps(s,a,g),s}function Gv(s,a,l,u){return da(),a.flags|=256,Je(s,a,l,u),a.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bm(s){return{baseLanes:s,cachePool:k_()}}function Fm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Vn),s}function Yv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,x;if((x=p)||(x=s!==null&&s.memoizedState===null?!1:(xe.current&2)!==0),x&&(g=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if(Bt){if(g?sr(a):rr(),(s=oe)?(s=tb(s,Yn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ws!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=S_(s),l.return=a,a.child=l,We=a,oe=null)):s=null,s===null)throw Js(a);return Tg(s)?a.lanes=32:a.lanes=536870912,null}var S=u.children;return u=u.fallback,g?(rr(),g=a.mode,S=wh({mode:"hidden",children:S},g),u=fa(u,g,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,u=a.child,u.memoizedState=Bm(l),u.childLanes=Fm(s,x,l),a.memoizedState=zm,ec(null,u)):(sr(a),Hm(a,S))}var V=s.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(p)a.flags&256?(sr(a),a.flags&=-257,a=qm(s,a,l)):a.memoizedState!==null?(rr(),a.child=s.child,a.flags|=128,a=null):(rr(),S=u.fallback,g=a.mode,u=wh({mode:"visible",children:u.children},g),S=fa(S,g,l,null),S.flags|=2,u.return=a,S.return=a,u.sibling=S,a.child=u,va(a,s.child,null,l),u=a.child,u.memoizedState=Bm(l),u.childLanes=Fm(s,x,l),a.memoizedState=zm,a=ec(null,u));else if(sr(a),Tg(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var Y=x.dgst;x=Y,u=Error(i(419)),u.stack="",u.digest=x,Hl({value:u,source:null,stack:null}),a=qm(s,a,l)}else if(De||xo(s,a,l,!1),x=(l&s.childLanes)!==0,De||x){if(x=ae,x!==null&&(u=wl(x,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,ha(s,u),En(x,s,u),jm;Eg(S)||Mh(),a=qm(s,a,l)}else Eg(S)?(a.flags|=192,a.child=s.child,a=null):(s=V.treeContext,oe=Kn(S.nextSibling),We=a,Bt=!0,Zs=null,Yn=!1,s!==null&&C_(a,s),a=Hm(a,u.children),a.flags|=4096);return a}return g?(rr(),S=u.fallback,g=a.mode,V=s.child,Y=V.sibling,u=us(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Y!==null?S=us(Y,S):(S=fa(S,g,l,null),S.flags|=2),S.return=a,u.return=a,u.sibling=S,a.child=u,ec(null,u),u=a.child,S=s.child.memoizedState,S===null?S=Bm(l):(g=S.cachePool,g!==null?(V=Ne._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=k_(),S={baseLanes:S.baseLanes|l,cachePool:g}),u.memoizedState=S,u.childLanes=Fm(s,x,l),a.memoizedState=zm,ec(s.child,u)):(sr(a),l=s.child,s=l.sibling,l=us(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=l,a.memoizedState=null,l)}function Hm(s,a){return a=wh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function wh(s,a){return s=Mn(22,s,null,a),s.lanes=0,s}function qm(s,a,l){return va(a,s.child,null,l),s=Hm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function $v(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),rm(s.return,a,l)}function Gm(s,a,l,u,g,p){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=g,x.treeForkCount=p)}function Kv(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var x=xe.current,S=(x&2)!==0;if(S?(x=x&1|2,a.flags|=128):x&=1,ct(xe,x),Je(s,a,u,l),u=Bt?Fl:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$v(s,l,a);else if(s.tag===19)$v(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&uh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Gm(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&uh(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Gm(a,!0,l,null,p,u);break;case"together":Gm(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ps(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),lr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(xo(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=us(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=us(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Ym(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&nh(s)))}function IA(s,a,l){switch(a.tag){case 3:Le(a,a.stateNode.containerInfo),tr(a,Ne,s.memoizedState.cache),da();break;case 27:case 5:$r(a);break;case 4:Le(a,a.stateNode.containerInfo);break;case 10:tr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ym(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(sr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Yv(s,a,l):(sr(a),s=ps(s,a,l),s!==null?s.sibling:null);sr(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(xo(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return Kv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ct(xe,xe.current),u)break;return null;case 22:return a.lanes=0,zv(s,a,l,a.pendingProps);case 24:tr(a,Ne,s.memoizedState.cache)}return ps(s,a,l)}function Xv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)De=!0;else{if(!Ym(s,l)&&(a.flags&128)===0)return De=!1,IA(s,a,l);De=(s.flags&131072)!==0}else De=!1,Bt&&(a.flags&1048576)!==0&&R_(a,Fl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=ya(a.elementType),a.type=s,typeof s=="function")Wd(s)?(u=xa(s,u),a.tag=1,a=qv(null,a,s,u,l)):(a.tag=0,a=Um(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===Z){a.tag=11,a=Lv(null,a,s,u,l);break t}else if(g===M){a.tag=14,a=jv(null,a,s,u,l);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return Um(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=xa(u,a.pendingProps),qv(s,a,u,g,l);case 3:t:{if(Le(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,fm(s,a),Ql(a,u,null,l);var x=a.memoizedState;if(u=x.cache,tr(a,Ne,u),u!==p.cache&&am(a,[Ne],l,!0),Xl(),u=x.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Gv(s,a,u,l);break t}else if(u!==g){g=Hn(Error(i(424)),a),Hl(g),a=Gv(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(oe=Kn(s.firstChild),We=a,Bt=!0,Zs=null,Yn=!0,l=z_(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(da(),u===g){a=ps(s,a,l);break t}Je(s,a,u,l)}a=a.child}return a;case 26:return xh(s,a),s===null?(l=ab(a.type,null,a.pendingProps,null))?a.memoizedState=l:Bt||(l=a.type,s=a.pendingProps,u=jh(xt.current).createElement(l),u[Re]=a,u[Ge]=s,tn(u,l,s),Ce(u),a.stateNode=u):a.memoizedState=ab(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return $r(a),s===null&&Bt&&(u=a.stateNode=ib(a.type,a.pendingProps,xt.current),We=a,Yn=!0,g=oe,dr(a.type)?(Sg=g,oe=Kn(u.firstChild)):oe=g),Je(s,a,a.pendingProps.children,l),xh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Bt&&((g=u=oe)&&(u=rR(u,a.type,a.pendingProps,Yn),u!==null?(a.stateNode=u,We=a,oe=Kn(u.firstChild),Yn=!1,g=!0):g=!1),g||Js(a)),$r(a),g=a.type,p=a.pendingProps,x=s!==null?s.memoizedProps:null,u=p.children,bg(g,p)?u=null:x!==null&&bg(g,x)&&(a.flags|=32),a.memoizedState!==null&&(g=vm(s,a,bA,null,null,l),pc._currentValue=g),xh(s,a),Je(s,a,u,l),a.child;case 6:return s===null&&Bt&&((s=l=oe)&&(l=aR(l,a.pendingProps,Yn),l!==null?(a.stateNode=l,We=a,oe=null,s=!0):s=!1),s||Js(a)),null;case 13:return Yv(s,a,l);case 4:return Le(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=va(a,null,u,l):Je(s,a,u,l),a.child;case 11:return Lv(s,a,a.type,a.pendingProps,l);case 7:return Je(s,a,a.pendingProps,l),a.child;case 8:return Je(s,a,a.pendingProps.children,l),a.child;case 12:return Je(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,tr(a,a.type,u.value),Je(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,ga(a),g=Ze(g),u=u(g),a.flags|=1,Je(s,a,u,l),a.child;case 14:return jv(s,a,a.type,a.pendingProps,l);case 15:return Uv(s,a,a.type,a.pendingProps,l);case 19:return Kv(s,a,l);case 31:return CA(s,a,l);case 22:return zv(s,a,l,a.pendingProps);case 24:return ga(a),u=Ze(Ne),s===null?(g=cm(),g===null&&(g=ae,p=om(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},hm(a),tr(a,Ne,g)):((s.lanes&l)!==0&&(fm(s,a),Ql(a,null,null,l),Xl()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),tr(a,Ne,u)):(u=p.cache,tr(a,Ne,u),u!==g.cache&&am(a,[Ne],l,!0))),Je(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ys(s){s.flags|=4}function $m(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(w0())s.flags|=8192;else throw _a=ah,um}else s.flags&=-16777217}function Qv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!hb(a))if(w0())s.flags|=8192;else throw _a=ah,um}function Eh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Iu():536870912,s.lanes|=a,Oo|=a)}function nc(s,a){if(!Bt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function le(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function NA(s,a,l){var u=a.pendingProps;switch(em(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(a),null;case 1:return le(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ds(Ne),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(bo(a)?ys(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,im())),le(a),null;case 26:var g=a.type,p=a.memoizedState;return s===null?(ys(a),p!==null?(le(a),Qv(a,p)):(le(a),$m(a,g,null,u,l))):p?p!==s.memoizedState?(ys(a),le(a),Qv(a,p)):(le(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&ys(a),le(a),$m(a,g,s,u,l)),null;case 27:if(Wa(a),l=xt.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}s=ut.current,bo(a)?I_(a):(s=ib(g,u,l),a.stateNode=s,ys(a))}return le(a),null;case 5:if(Wa(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}if(p=ut.current,bo(a))I_(a);else{var x=jh(xt.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?x.createElement(g,{is:u.is}):x.createElement(g)}}p[Re]=a,p[Ge]=u;t:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break t;for(;x.sibling===null;){if(x.return===null||x.return===a)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=p;t:switch(tn(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ys(a)}}return le(a),$m(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=xt.current,bo(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=We,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Re]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Y0(s.nodeValue,l)),s||Js(a,!0)}else s=jh(s).createTextNode(u),s[Re]=a,a.stateNode=s}return le(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=bo(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Re]=a}else da(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),s=!1}else l=im(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(On(a),a):(On(a),null);if((a.flags&128)!==0)throw Error(i(558))}return le(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=bo(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Re]=a}else da(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),g=!1}else g=im(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(On(a),a):(On(a),null)}return On(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),Eh(a,a.updateQueue),le(a),null);case 4:return fe(),s===null&&gg(a.stateNode.containerInfo),le(a),null;case 10:return ds(a.type),le(a),null;case 19:if(tt(xe),u=a.memoizedState,u===null)return le(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)nc(u,!1);else{if(ye!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=uh(s),p!==null){for(a.flags|=128,nc(u,!1),s=p.updateQueue,a.updateQueue=s,Eh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)T_(l,s),l=l.sibling;return ct(xe,xe.current&1|2),Bt&&hs(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&dn()>Ch&&(a.flags|=128,g=!0,nc(u,!1),a.lanes=4194304)}else{if(!g)if(s=uh(p),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,Eh(a,s),nc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Bt)return le(a),null}else 2*dn()-u.renderingStartTime>Ch&&l!==536870912&&(a.flags|=128,g=!0,nc(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=dn(),s.sibling=null,l=xe.current,ct(xe,g?l&1|2:l&1),Bt&&hs(a,u.treeForkCount),s):(le(a),null);case 22:case 23:return On(a),pm(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(le(a),a.subtreeFlags&6&&(a.flags|=8192)):le(a),l=a.updateQueue,l!==null&&Eh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&tt(pa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ds(Ne),le(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function MA(s,a){switch(em(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ds(Ne),fe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Wa(a),null;case 31:if(a.memoizedState!==null){if(On(a),a.alternate===null)throw Error(i(340));da()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(On(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));da()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return tt(xe),null;case 4:return fe(),null;case 10:return ds(a.type),null;case 22:case 23:return On(a),pm(),s!==null&&tt(pa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ds(Ne),null;case 25:return null;default:return null}}function Wv(s,a){switch(em(a),a.tag){case 3:ds(Ne),fe();break;case 26:case 27:case 5:Wa(a);break;case 4:fe();break;case 31:a.memoizedState!==null&&On(a);break;case 13:On(a);break;case 19:tt(xe);break;case 10:ds(a.type);break;case 22:case 23:On(a),pm(),s!==null&&tt(pa);break;case 24:ds(Ne)}}function ic(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,x=l.inst;u=p(),x.destroy=u}l=l.next}while(l!==g)}}catch(S){Jt(a,a.return,S)}}function ar(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,g=a;var V=l,Y=S;try{Y()}catch(J){Jt(g,V,J)}}}u=u.next}while(u!==p)}}catch(J){Jt(a,a.return,J)}}function Zv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{F_(a,l)}catch(u){Jt(s,s.return,u)}}}function Jv(s,a,l){l.props=xa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,a,u)}}function sc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,a,g)}}function Bi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,a,g)}else l.current=null}function t0(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function Km(s,a,l){try{var u=s.stateNode;JA(u,s.type,l,a),u[Ge]=a}catch(g){Jt(s,s.return,g)}}function e0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&dr(s.type)||s.tag===4}function Xm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||e0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&dr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Qm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=li));else if(u!==4&&(u===27&&dr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Qm(s,a,l),s=s.sibling;s!==null;)Qm(s,a,l),s=s.sibling}function Th(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&dr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Th(s,a,l),s=s.sibling;s!==null;)Th(s,a,l),s=s.sibling}function n0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);tn(a,u,l),a[Re]=s,a[Ge]=l}catch(p){Jt(s,s.return,p)}}var _s=!1,Oe=!1,Wm=!1,i0=typeof WeakSet=="function"?WeakSet:Set,$e=null;function DA(s,a){if(s=s.containerInfo,_g=Gh,s=g_(s),qd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var x=0,S=-1,V=-1,Y=0,J=0,nt=s,$=null;e:for(;;){for(var W;nt!==l||g!==0&&nt.nodeType!==3||(S=x+g),nt!==p||u!==0&&nt.nodeType!==3||(V=x+u),nt.nodeType===3&&(x+=nt.nodeValue.length),(W=nt.firstChild)!==null;)$=nt,nt=W;for(;;){if(nt===s)break e;if($===l&&++Y===g&&(S=x),$===p&&++J===u&&(V=x),(W=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=W}l=S===-1||V===-1?null:{start:S,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(vg={focusedElem:s,selectionRange:l},Gh=!1,$e=a;$e!==null;)if(a=$e,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,$e=s;else for(;$e!==null;){switch(a=$e,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var dt=xa(l.type,g);s=u.getSnapshotBeforeUpdate(dt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(vt){Jt(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)wg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":wg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,$e=s;break}$e=a.return}}function s0(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:bs(s,l),u&4&&ic(5,l);break;case 1:if(bs(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(x){Jt(l,l.return,x)}else{var g=xa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){Jt(l,l.return,x)}}u&64&&Zv(l),u&512&&sc(l,l.return);break;case 3:if(bs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{F_(s,a)}catch(x){Jt(l,l.return,x)}}break;case 27:a===null&&u&4&&n0(l);case 26:case 5:bs(s,l),a===null&&u&4&&t0(l),u&512&&sc(l,l.return);break;case 12:bs(s,l);break;case 31:bs(s,l),u&4&&o0(s,l);break;case 13:bs(s,l),u&4&&l0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=BA.bind(null,l),oR(s,l))));break;case 22:if(u=l.memoizedState!==null||_s,!u){a=a!==null&&a.memoizedState!==null||Oe,g=_s;var p=Oe;_s=u,(Oe=a)&&!p?xs(s,l,(l.subtreeFlags&8772)!==0):bs(s,l),_s=g,Oe=p}break;case 30:break;default:bs(s,l)}}function r0(s){var a=s.alternate;a!==null&&(s.alternate=null,r0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&no(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var me=null,vn=!1;function vs(s,a,l){for(l=l.child;l!==null;)a0(s,a,l),l=l.sibling}function a0(s,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(si,l)}catch{}switch(l.tag){case 26:Oe||Bi(l,a),vs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||Bi(l,a);var u=me,g=vn;dr(l.type)&&(me=l.stateNode,vn=!1),vs(s,a,l),dc(l.stateNode),me=u,vn=g;break;case 5:Oe||Bi(l,a);case 6:if(u=me,g=vn,me=null,vs(s,a,l),me=u,vn=g,me!==null)if(vn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(l.stateNode)}catch(p){Jt(l,a,p)}else try{me.removeChild(l.stateNode)}catch(p){Jt(l,a,p)}break;case 18:me!==null&&(vn?(s=me,Z0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Bo(s)):Z0(me,l.stateNode));break;case 4:u=me,g=vn,me=l.stateNode.containerInfo,vn=!0,vs(s,a,l),me=u,vn=g;break;case 0:case 11:case 14:case 15:ar(2,l,a),Oe||ar(4,l,a),vs(s,a,l);break;case 1:Oe||(Bi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Jv(l,a,u)),vs(s,a,l);break;case 21:vs(s,a,l);break;case 22:Oe=(u=Oe)||l.memoizedState!==null,vs(s,a,l),Oe=u;break;default:vs(s,a,l)}}function o0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Bo(s)}catch(l){Jt(a,a.return,l)}}}function l0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Bo(s)}catch(l){Jt(a,a.return,l)}}function OA(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new i0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new i0),a;default:throw Error(i(435,s.tag))}}function Sh(s,a){var l=OA(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=FA.bind(null,s,u);u.then(g,g)}})}function bn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,x=a,S=x;t:for(;S!==null;){switch(S.tag){case 27:if(dr(S.type)){me=S.stateNode,vn=!1;break t}break;case 5:me=S.stateNode,vn=!1;break t;case 3:case 4:me=S.stateNode.containerInfo,vn=!0;break t}S=S.return}if(me===null)throw Error(i(160));a0(p,x,g),me=null,vn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)c0(a,s),a=a.sibling}var mi=null;function c0(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:bn(a,s),xn(s),u&4&&(ar(3,s,s.return),ic(3,s),ar(5,s,s.return));break;case 1:bn(a,s),xn(s),u&512&&(Oe||l===null||Bi(l,l.return)),u&64&&_s&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=mi;if(bn(a,s),xn(s),u&512&&(Oe||l===null||Bi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Ri]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),tn(p,u,l),p[Re]=s,Ce(p),u=p;break t;case"link":var x=cb("link","href",g).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(p=x[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break e}}p=g.createElement(u),tn(p,u,l),g.head.appendChild(p);break;case"meta":if(x=cb("meta","content",g).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(p=x[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break e}}p=g.createElement(u),tn(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Re]=s,Ce(p),u=p}s.stateNode=u}else ub(g,s.type,s.stateNode);else s.stateNode=lb(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?ub(g,s.type,s.stateNode):lb(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Km(s,s.memoizedProps,l.memoizedProps)}break;case 27:bn(a,s),xn(s),u&512&&(Oe||l===null||Bi(l,l.return)),l!==null&&u&4&&Km(s,s.memoizedProps,l.memoizedProps);break;case 5:if(bn(a,s),xn(s),u&512&&(Oe||l===null||Bi(l,l.return)),s.flags&32){g=s.stateNode;try{_n(g,"")}catch(dt){Jt(s,s.return,dt)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Km(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Wm=!0);break;case 6:if(bn(a,s),xn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(dt){Jt(s,s.return,dt)}}break;case 3:if(Bh=null,g=mi,mi=Uh(a.containerInfo),bn(a,s),mi=g,xn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Bo(a.containerInfo)}catch(dt){Jt(s,s.return,dt)}Wm&&(Wm=!1,u0(s));break;case 4:u=mi,mi=Uh(s.stateNode.containerInfo),bn(a,s),xn(s),mi=u;break;case 12:bn(a,s),xn(s);break;case 31:bn(a,s),xn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sh(s,u)));break;case 13:bn(a,s),xn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Rh=dn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sh(s,u)));break;case 22:g=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,Y=_s,J=Oe;if(_s=Y||g,Oe=J||V,bn(a,s),Oe=J,_s=Y,xn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||V||_s||Oe||wa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){V=l=a;try{if(p=V.stateNode,g)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=V.stateNode;var nt=V.memoizedProps.style,$=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(dt){Jt(V,V.return,dt)}}}else if(a.tag===6){if(l===null){V=a;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(dt){Jt(V,V.return,dt)}}}else if(a.tag===18){if(l===null){V=a;try{var W=V.stateNode;g?J0(W,!0):J0(V.stateNode,!1)}catch(dt){Jt(V,V.return,dt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Sh(s,l))));break;case 19:bn(a,s),xn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sh(s,u)));break;case 30:break;case 21:break;default:bn(a,s),xn(s)}}function xn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(e0(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=Xm(s);Th(s,p,g);break;case 5:var x=l.stateNode;l.flags&32&&(_n(x,""),l.flags&=-33);var S=Xm(s);Th(s,S,x);break;case 3:case 4:var V=l.stateNode.containerInfo,Y=Xm(s);Qm(s,Y,V);break;default:throw Error(i(161))}}catch(J){Jt(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function u0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;u0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function bs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)s0(s,a.alternate,a),a=a.sibling}function wa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ar(4,a,a.return),wa(a);break;case 1:Bi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Jv(a,a.return,l),wa(a);break;case 27:dc(a.stateNode);case 26:case 5:Bi(a,a.return),wa(a);break;case 22:a.memoizedState===null&&wa(a);break;case 30:wa(a);break;default:wa(a)}s=s.sibling}}function xs(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,x=p.flags;switch(p.tag){case 0:case 11:case 15:xs(g,p,l),ic(4,p);break;case 1:if(xs(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){Jt(u,u.return,Y)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)B_(V[g],S)}catch(Y){Jt(u,u.return,Y)}}l&&x&64&&Zv(p),sc(p,p.return);break;case 27:n0(p);case 26:case 5:xs(g,p,l),l&&u===null&&x&4&&t0(p),sc(p,p.return);break;case 12:xs(g,p,l);break;case 31:xs(g,p,l),l&&x&4&&o0(g,p);break;case 13:xs(g,p,l),l&&x&4&&l0(g,p);break;case 22:p.memoizedState===null&&xs(g,p,l),sc(p,p.return);break;case 30:break;default:xs(g,p,l)}a=a.sibling}}function Zm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ql(l))}function Jm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ql(s))}function gi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)h0(s,a,l,u),a=a.sibling}function h0(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:gi(s,a,l,u),g&2048&&ic(9,a);break;case 1:gi(s,a,l,u);break;case 3:gi(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ql(s)));break;case 12:if(g&2048){gi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,x=p.id,S=p.onPostCommit;typeof S=="function"&&S(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){Jt(a,a.return,V)}}else gi(s,a,l,u);break;case 31:gi(s,a,l,u);break;case 13:gi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,x=a.alternate,a.memoizedState!==null?p._visibility&2?gi(s,a,l,u):rc(s,a):p._visibility&2?gi(s,a,l,u):(p._visibility|=2,No(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Zm(x,a);break;case 24:gi(s,a,l,u),g&2048&&Jm(a.alternate,a);break;default:gi(s,a,l,u)}}function No(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,x=a,S=l,V=u,Y=x.flags;switch(x.tag){case 0:case 11:case 15:No(p,x,S,V,g),ic(8,x);break;case 23:break;case 22:var J=x.stateNode;x.memoizedState!==null?J._visibility&2?No(p,x,S,V,g):rc(p,x):(J._visibility|=2,No(p,x,S,V,g)),g&&Y&2048&&Zm(x.alternate,x);break;case 24:No(p,x,S,V,g),g&&Y&2048&&Jm(x.alternate,x);break;default:No(p,x,S,V,g)}a=a.sibling}}function rc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:rc(l,u),g&2048&&Zm(u.alternate,u);break;case 24:rc(l,u),g&2048&&Jm(u.alternate,u);break;default:rc(l,u)}a=a.sibling}}var ac=8192;function Mo(s,a,l){if(s.subtreeFlags&ac)for(s=s.child;s!==null;)f0(s,a,l),s=s.sibling}function f0(s,a,l){switch(s.tag){case 26:Mo(s,a,l),s.flags&ac&&s.memoizedState!==null&&vR(l,mi,s.memoizedState,s.memoizedProps);break;case 5:Mo(s,a,l);break;case 3:case 4:var u=mi;mi=Uh(s.stateNode.containerInfo),Mo(s,a,l),mi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=ac,ac=16777216,Mo(s,a,l),ac=u):Mo(s,a,l));break;default:Mo(s,a,l)}}function d0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function oc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];$e=u,g0(u,s)}d0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m0(s),s=s.sibling}function m0(s){switch(s.tag){case 0:case 11:case 15:oc(s),s.flags&2048&&ar(9,s,s.return);break;case 3:oc(s);break;case 12:oc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Ah(s)):oc(s);break;default:oc(s)}}function Ah(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];$e=u,g0(u,s)}d0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ar(8,a,a.return),Ah(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Ah(a));break;default:Ah(a)}s=s.sibling}}function g0(s,a){for(;$e!==null;){var l=$e;switch(l.tag){case 0:case 11:case 15:ar(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ql(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,$e=u;else t:for(l=s;$e!==null;){u=$e;var g=u.sibling,p=u.return;if(r0(u),u===l){$e=null;break t}if(g!==null){g.return=p,$e=g;break t}$e=p}}}var kA={getCacheForType:function(s){var a=Ze(Ne),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return Ze(Ne).controller.signal}},VA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Ot=null,Pt=0,Zt=0,kn=null,or=!1,Do=!1,tg=!1,ws=0,ye=0,lr=0,Ea=0,eg=0,Vn=0,Oo=0,lc=null,wn=null,ng=!1,Rh=0,p0=0,Ch=1/0,Ih=null,cr=null,Ue=0,ur=null,ko=null,Es=0,ig=0,sg=null,y0=null,cc=0,rg=null;function Pn(){return(Kt&2)!==0&&Pt!==0?Pt&-Pt:K.T!==null?hg():Nu()}function _0(){if(Vn===0)if((Pt&536870912)===0||Bt){var s=Qr;Qr<<=1,(Qr&3932160)===0&&(Qr=262144),Vn=s}else Vn=536870912;return s=Dn.current,s!==null&&(s.flags|=32),Vn}function En(s,a,l){(s===ae&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Vo(s,0),hr(s,Pt,Vn,!1)),Wr(s,l),((Kt&2)===0||s!==ae)&&(s===ae&&((Kt&2)===0&&(Ea|=l),ye===4&&hr(s,Pt,Vn,!1)),Fi(s))}function v0(s,a,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||ri(s,a),g=u?jA(s,a):og(s,a,!0),p=u;do{if(g===0){Do&&!u&&hr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!PA(l)){g=og(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var S=s;g=lc;var V=S.current.memoizedState.isDehydrated;if(V&&(Vo(S,x).flags|=256),x=og(S,x,!1),x!==2){if(tg&&!V){S.errorRecoveryDisabledLanes|=p,Ea|=p,g=4;break t}p=wn,wn=g,p!==null&&(wn===null?wn=p:wn.push.apply(wn,p))}g=x}if(p=!1,g!==2)continue}}if(g===1){Vo(s,0),hr(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:hr(u,a,Vn,!or);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Rh+300-dn(),10<g)){if(hr(u,a,Vn,!or),Ti(u,0,!0)!==0)break t;Es=a,u.timeoutHandle=Q0(b0.bind(null,u,l,wn,Ih,ng,a,Vn,Ea,Oo,or,p,"Throttled",-0,0),g);break t}b0(u,l,wn,Ih,ng,a,Vn,Ea,Oo,or,p,null,-0,0)}}break}while(!0);Fi(s)}function b0(s,a,l,u,g,p,x,S,V,Y,J,nt,$,W){if(s.timeoutHandle=-1,nt=a.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},f0(a,p,nt);var dt=(p&62914560)===p?Rh-dn():(p&4194048)===p?p0-dn():0;if(dt=bR(nt,dt),dt!==null){Es=p,s.cancelPendingCommit=dt(C0.bind(null,s,a,p,l,u,g,x,S,V,J,nt,null,$,W)),hr(s,p,x,!Y);return}}C0(s,a,p,l,u,g,x,S,V)}function PA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Nn(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function hr(s,a,l,u){a&=~eg,a&=~Ea,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-ve(g),x=1<<p;u[p]=-1,g&=~x}l!==0&&Zr(s,l,a)}function Nh(){return(Kt&6)===0?(uc(0),!1):!0}function ag(){if(Ot!==null){if(Zt===0)var s=Ot.return;else s=Ot,fs=ma=null,wm(s),So=null,Yl=0,s=Ot;for(;s!==null;)Wv(s.alternate,s),s=s.return;Ot=null}}function Vo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,nR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Es=0,ag(),ae=s,Ot=l=us(s.current,null),Pt=a,Zt=0,kn=null,or=!1,Do=ri(s,a),tg=!1,Oo=Vn=eg=Ea=lr=ye=0,wn=lc=null,ng=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-ve(u),p=1<<g;a|=s[g],u&=~p}return ws=a,Wu(),l}function x0(s,a){It=null,K.H=tc,a===To||a===rh?(a=L_(),Zt=3):a===um?(a=L_(),Zt=4):Zt=a===jm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,kn=a,Ot===null&&(ye=1,vh(s,Hn(a,s.current)))}function w0(){var s=Dn.current;return s===null?!0:(Pt&4194048)===Pt?$n===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?s===$n:!1}function E0(){var s=K.H;return K.H=tc,s===null?tc:s}function T0(){var s=K.A;return K.A=kA,s}function Mh(){ye=4,or||(Pt&4194048)!==Pt&&Dn.current!==null||(Do=!0),(lr&134217727)===0&&(Ea&134217727)===0||ae===null||hr(ae,Pt,Vn,!1)}function og(s,a,l){var u=Kt;Kt|=2;var g=E0(),p=T0();(ae!==s||Pt!==a)&&(Ih=null,Vo(s,a)),a=!1;var x=ye;t:do try{if(Zt!==0&&Ot!==null){var S=Ot,V=kn;switch(Zt){case 8:ag(),x=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(a=!0);var Y=Zt;if(Zt=0,kn=null,Po(s,S,V,Y),l&&Do){x=0;break t}break;default:Y=Zt,Zt=0,kn=null,Po(s,S,V,Y)}}LA(),x=ye;break}catch(J){x0(s,J)}while(!0);return a&&s.shellSuspendCounter++,fs=ma=null,Kt=u,K.H=g,K.A=p,Ot===null&&(ae=null,Pt=0,Wu()),x}function LA(){for(;Ot!==null;)S0(Ot)}function jA(s,a){var l=Kt;Kt|=2;var u=E0(),g=T0();ae!==s||Pt!==a?(Ih=null,Ch=dn()+500,Vo(s,a)):Do=ri(s,a);t:do try{if(Zt!==0&&Ot!==null){a=Ot;var p=kn;e:switch(Zt){case 1:Zt=0,kn=null,Po(s,a,p,1);break;case 2:case 9:if(V_(p)){Zt=0,kn=null,A0(a);break}a=function(){Zt!==2&&Zt!==9||ae!==s||(Zt=7),Fi(s)},p.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:V_(p)?(Zt=0,kn=null,A0(a)):(Zt=0,kn=null,Po(s,a,p,7));break;case 5:var x=null;switch(Ot.tag){case 26:x=Ot.memoizedState;case 5:case 27:var S=Ot;if(x?hb(x):S.stateNode.complete){Zt=0,kn=null;var V=S.sibling;if(V!==null)Ot=V;else{var Y=S.return;Y!==null?(Ot=Y,Dh(Y)):Ot=null}break e}}Zt=0,kn=null,Po(s,a,p,5);break;case 6:Zt=0,kn=null,Po(s,a,p,6);break;case 8:ag(),ye=6;break t;default:throw Error(i(462))}}UA();break}catch(J){x0(s,J)}while(!0);return fs=ma=null,K.H=u,K.A=g,Kt=l,Ot!==null?0:(ae=null,Pt=0,Wu(),ye)}function UA(){for(;Ot!==null&&!Ld();)S0(Ot)}function S0(s){var a=Xv(s.alternate,s,ws);s.memoizedProps=s.pendingProps,a===null?Dh(s):Ot=a}function A0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Hv(l,a,a.pendingProps,a.type,void 0,Pt);break;case 11:a=Hv(l,a,a.pendingProps,a.type.render,a.ref,Pt);break;case 5:wm(a);default:Wv(l,a),a=Ot=T_(a,ws),a=Xv(l,a,ws)}s.memoizedProps=s.pendingProps,a===null?Dh(s):Ot=a}function Po(s,a,l,u){fs=ma=null,wm(a),So=null,Yl=0;var g=a.return;try{if(RA(s,g,a,l,Pt)){ye=1,vh(s,Hn(l,s.current)),Ot=null;return}}catch(p){if(g!==null)throw Ot=g,p;ye=1,vh(s,Hn(l,s.current)),Ot=null;return}a.flags&32768?(Bt||u===1?s=!0:Do||(Pt&536870912)!==0?s=!1:(or=s=!0,(u===2||u===9||u===3||u===6)&&(u=Dn.current,u!==null&&u.tag===13&&(u.flags|=16384))),R0(a,s)):Dh(a)}function Dh(s){var a=s;do{if((a.flags&32768)!==0){R0(a,or);return}s=a.return;var l=NA(a.alternate,a,ws);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);ye===0&&(ye=5)}function R0(s,a){do{var l=MA(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);ye=6,Ot=null}function C0(s,a,l,u,g,p,x,S,V){s.cancelPendingCommit=null;do Oh();while(Ue!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Xd,zd(s,l,p,x,S,V),s===ae&&(Ot=ae=null,Pt=0),ko=a,ur=s,Es=l,ig=p,sg=g,y0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,HA(Bs,function(){return O0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,g=ot.p,ot.p=2,x=Kt,Kt|=4;try{DA(s,a,l)}finally{Kt=x,ot.p=g,K.T=u}}Ue=1,I0(),N0(),M0()}}function I0(){if(Ue===1){Ue=0;var s=ur,a=ko,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=ot.p;ot.p=2;var g=Kt;Kt|=4;try{c0(a,s);var p=vg,x=g_(s.containerInfo),S=p.focusedElem,V=p.selectionRange;if(x!==S&&S&&S.ownerDocument&&m_(S.ownerDocument.documentElement,S)){if(V!==null&&qd(S)){var Y=V.start,J=V.end;if(J===void 0&&(J=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(J,S.value.length);else{var nt=S.ownerDocument||document,$=nt&&nt.defaultView||window;if($.getSelection){var W=$.getSelection(),dt=S.textContent.length,vt=Math.min(V.start,dt),re=V.end===void 0?vt:Math.min(V.end,dt);!W.extend&&vt>re&&(x=re,re=vt,vt=x);var B=d_(S,vt),z=d_(S,re);if(B&&z&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var G=nt.createRange();G.setStart(B.node,B.offset),W.removeAllRanges(),vt>re?(W.addRange(G),W.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),W.addRange(G))}}}}for(nt=[],W=S;W=W.parentNode;)W.nodeType===1&&nt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var et=nt[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Gh=!!_g,vg=_g=null}finally{Kt=g,ot.p=u,K.T=l}}s.current=a,Ue=2}}function N0(){if(Ue===2){Ue=0;var s=ur,a=ko,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=ot.p;ot.p=2;var g=Kt;Kt|=4;try{s0(s,a.alternate,a)}finally{Kt=g,ot.p=u,K.T=l}}Ue=3}}function M0(){if(Ue===4||Ue===3){Ue=0,Eu();var s=ur,a=ko,l=Es,u=y0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ue=5:(Ue=0,ko=ur=null,D0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(cr=null),as(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(si,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=K.T,g=ot.p,ot.p=2,K.T=null;try{for(var p=s.onRecoverableError,x=0;x<u.length;x++){var S=u[x];p(S.value,{componentStack:S.stack})}}finally{K.T=a,ot.p=g}}(Es&3)!==0&&Oh(),Fi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===rg?cc++:(cc=0,rg=s):cc=0,uc(0)}}function D0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ql(a)))}function Oh(){return I0(),N0(),M0(),O0()}function O0(){if(Ue!==5)return!1;var s=ur,a=ig;ig=0;var l=as(Es),u=K.T,g=ot.p;try{ot.p=32>l?32:l,K.T=null,l=sg,sg=null;var p=ur,x=Es;if(Ue=0,ko=ur=null,Es=0,(Kt&6)!==0)throw Error(i(331));var S=Kt;if(Kt|=4,m0(p.current),h0(p,p.current,x,l),Kt=S,uc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(si,p)}catch{}return!0}finally{ot.p=g,K.T=u,D0(s,a)}}function k0(s,a,l){a=Hn(l,a),a=Lm(s.stateNode,a,2),s=ir(s,a,2),s!==null&&(Wr(s,2),Fi(s))}function Jt(s,a,l){if(s.tag===3)k0(s,s,l);else for(;a!==null;){if(a.tag===3){k0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cr===null||!cr.has(u))){s=Hn(l,s),l=Vv(2),u=ir(a,l,2),u!==null&&(Pv(l,u,a,s),Wr(u,2),Fi(u));break}}a=a.return}}function lg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new VA;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(tg=!0,g.add(l),s=zA.bind(null,s,a,l),a.then(s,s))}function zA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Pt&l)===l&&(ye===4||ye===3&&(Pt&62914560)===Pt&&300>dn()-Rh?(Kt&2)===0&&Vo(s,0):eg|=l,Oo===Pt&&(Oo=0)),Fi(s)}function V0(s,a){a===0&&(a=Iu()),s=ha(s,a),s!==null&&(Wr(s,a),Fi(s))}function BA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),V0(s,l)}function FA(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),V0(s,l)}function HA(s,a){return je(s,a)}var kh=null,Lo=null,cg=!1,Vh=!1,ug=!1,fr=0;function Fi(s){s!==Lo&&s.next===null&&(Lo===null?kh=Lo=s:Lo=Lo.next=s),Vh=!0,cg||(cg=!0,GA())}function uc(s,a){if(!ug&&Vh){ug=!0;do for(var l=!1,u=kh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var x=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-ve(42|s)+1)-1,p&=g&~(x&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,U0(u,p))}else p=Pt,p=Ti(u,u===ae?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ri(u,p)||(l=!0,U0(u,p));u=u.next}while(l);ug=!1}}function qA(){P0()}function P0(){Vh=cg=!1;var s=0;fr!==0&&eR()&&(s=fr);for(var a=dn(),l=null,u=kh;u!==null;){var g=u.next,p=L0(u,a);p===0?(u.next=null,l===null?kh=g:l.next=g,g===null&&(Lo=l)):(l=u,(s!==0||(p&3)!==0)&&(Vh=!0)),u=g}Ue!==0&&Ue!==5||uc(s),fr!==0&&(fr=0)}function L0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var x=31-ve(p),S=1<<x,V=g[x];V===-1?((S&l)===0||(S&u)!==0)&&(g[x]=Ud(S,a)):V<=a&&(s.expiredLanes|=S),p&=~S}if(a=ae,l=Pt,l=Ti(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&zs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ri(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&zs(u),as(l)){case 2:case 8:l=bl;break;case 32:l=Bs;break;case 268435456:l=Tu;break;default:l=Bs}return u=j0.bind(null,s),l=je(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&zs(u),s.callbackPriority=2,s.callbackNode=null,2}function j0(s,a){if(Ue!==0&&Ue!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Oh()&&s.callbackNode!==l)return null;var u=Pt;return u=Ti(s,s===ae?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(v0(s,u,a),L0(s,dn()),s.callbackNode!=null&&s.callbackNode===l?j0.bind(null,s):null)}function U0(s,a){if(Oh())return null;v0(s,a,!0)}function GA(){iR(function(){(Kt&6)!==0?je(vl,qA):P0()})}function hg(){if(fr===0){var s=wo;s===0&&(s=wi,wi<<=1,(wi&261888)===0&&(wi=256)),fr=s}return fr}function z0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ao(""+s)}function B0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function YA(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=z0((g[Ge]||null).action),x=u.submitter;x&&(a=(a=x[Ge]||null)?z0(a.formAction):x.getAttribute("formAction"),a!==null&&(p=a,x=null));var S=new Vi("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fr!==0){var V=x?B0(g,x):new FormData(g);Mm(l,{pending:!0,data:V,method:g.method,action:p},null,V)}}else typeof p=="function"&&(S.preventDefault(),V=x?B0(g,x):new FormData(g),Mm(l,{pending:!0,data:V,method:g.method,action:p},p,V))},currentTarget:g}]})}}for(var fg=0;fg<Kd.length;fg++){var dg=Kd[fg],$A=dg.toLowerCase(),KA=dg[0].toUpperCase()+dg.slice(1);di($A,"on"+KA)}di(__,"onAnimationEnd"),di(v_,"onAnimationIteration"),di(b_,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(uA,"onTransitionRun"),di(hA,"onTransitionStart"),di(fA,"onTransitionCancel"),di(x_,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function F0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var x=u.length-1;0<=x;x--){var S=u[x],V=S.instance,Y=S.currentTarget;if(S=S.listener,V!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=Y;try{p(g)}catch(J){Qu(J)}g.currentTarget=null,p=V}else for(x=0;x<u.length;x++){if(S=u[x],V=S.instance,Y=S.currentTarget,S=S.listener,V!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=Y;try{p(g)}catch(J){Qu(J)}g.currentTarget=null,p=V}}}}function kt(s,a){var l=a[eo];l===void 0&&(l=a[eo]=new Set);var u=s+"__bubble";l.has(u)||(H0(a,s,2,!1),l.add(u))}function mg(s,a,l){var u=0;a&&(u|=4),H0(l,s,u,a)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function gg(s){if(!s[Ph]){s[Ph]=!0,El.forEach(function(l){l!=="selectionchange"&&(XA.has(l)||mg(l,!1,s),mg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ph]||(a[Ph]=!0,mg("selectionchange",!1,a))}}function H0(s,a,l,u){switch(_b(a)){case 2:var g=ER;break;case 8:g=TR;break;default:g=Ng}l=g.bind(null,a,l,s),g=void 0,!ia||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function pg(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===g)break;if(x===4)for(x=u.return;x!==null;){var V=x.tag;if((V===3||V===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;S!==null;){if(x=Ci(S),x===null)return;if(V=x.tag,V===5||V===6||V===26||V===27){u=p=x;continue t}S=S.parentNode}}u=u.return}$s(function(){var Y=p,J=Un(l),nt=[];t:{var $=w_.get(s);if($!==void 0){var W=Vi,dt=s;switch(s){case"keypress":if(ra(l)===0)break t;case"keydown":case"keyup":W=$u;break;case"focusin":dt="focus",W=oa;break;case"focusout":dt="blur",W=oa;break;case"beforeblur":case"afterblur":W=oa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case __:case v_:case b_:W=zu;break;case x_:W=I;break;case"scroll":case"scrollend":W=Vl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=cs;break;case"toggle":case"beforetoggle":W=Ct}var vt=(a&4)!==0,re=!vt&&(s==="scroll"||s==="scrollend"),B=vt?$!==null?$+"Capture":null:$;vt=[];for(var z=Y,G;z!==null;){var et=z;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||B===null||(et=ci(z,B),et!=null&&vt.push(fc(z,et,G))),re)break;z=z.return}0<vt.length&&($=new W($,dt,null,l,J),nt.push({event:$,listeners:vt}))}}if((a&7)===0){t:{if($=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",$&&l!==Dl&&(dt=l.relatedTarget||l.fromElement)&&(Ci(dt)||dt[Ai]))break t;if((W||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,W?(dt=l.relatedTarget||l.toElement,W=Y,dt=dt?Ci(dt):null,dt!==null&&(re=o(dt),vt=dt.tag,dt!==re||vt!==5&&vt!==27&&vt!==6)&&(dt=null)):(W=null,dt=Y),W!==dt)){if(vt=Pl,et="onMouseLeave",B="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(vt=cs,et="onPointerLeave",B="onPointerEnter",z="pointer"),re=W==null?$:Cn(W),G=dt==null?$:Cn(dt),$=new vt(et,z+"leave",W,l,J),$.target=re,$.relatedTarget=G,et=null,Ci(J)===Y&&(vt=new vt(B,z+"enter",dt,l,J),vt.target=G,vt.relatedTarget=re,et=vt),re=et,W&&dt)e:{for(vt=QA,B=W,z=dt,G=0,et=B;et;et=vt(et))G++;et=0;for(var pt=z;pt;pt=vt(pt))et++;for(;0<G-et;)B=vt(B),G--;for(;0<et-G;)z=vt(z),et--;for(;G--;){if(B===z||z!==null&&B===z.alternate){vt=B;break e}B=vt(B),z=vt(z)}vt=null}else vt=null;W!==null&&q0(nt,$,W,vt,!1),dt!==null&&re!==null&&q0(nt,re,dt,vt,!0)}}t:{if($=Y?Cn(Y):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var Gt=o_;else if(r_($))if(l_)Gt=oA;else{Gt=rA;var mt=sA}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&ro(Y.elementType)&&(Gt=o_):Gt=aA;if(Gt&&(Gt=Gt(s,Y))){a_(nt,Gt,l,J);break t}mt&&mt(s,$,Y),s==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Il($,"number",$.value)}switch(mt=Y?Cn(Y):window,s){case"focusin":(r_(mt)||mt.contentEditable==="true")&&(mo=mt,Gd=Y,Bl=null);break;case"focusout":Bl=Gd=mo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,p_(nt,l,J);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":p_(nt,l,J)}var Nt;if($t)t:{switch(s){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else fo?la(s,l)&&(Lt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(ji&&l.locale!=="ko"&&(fo||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&fo&&(Nt=kl()):(ki=J,Ol="value"in ki?ki.value:ki.textContent,fo=!0)),mt=Lh(Y,Lt),0<mt.length&&(Lt=new Li(Lt,s,null,l,J),nt.push({event:Lt,listeners:mt}),Nt?Lt.data=Nt:(Nt=ho(l),Nt!==null&&(Lt.data=Nt)))),(Nt=Bn?tA(s,l):eA(s,l))&&(Lt=Lh(Y,"onBeforeInput"),0<Lt.length&&(mt=new Li("onBeforeInput","beforeinput",null,l,J),nt.push({event:mt,listeners:Lt}),mt.data=Nt)),YA(nt,s,Y,l,J)}F0(nt,a)})}function fc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Lh(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=ci(s,l),g!=null&&u.unshift(fc(s,g,p)),g=ci(s,a),g!=null&&u.push(fc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function QA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function q0(s,a,l,u,g){for(var p=a._reactName,x=[];l!==null&&l!==u;){var S=l,V=S.alternate,Y=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||Y===null||(V=Y,g?(Y=ci(l,p),Y!=null&&x.unshift(fc(l,Y,V))):g||(Y=ci(l,p),Y!=null&&x.push(fc(l,Y,V)))),l=l.return}x.length!==0&&s.push({event:a,listeners:x})}var WA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function G0(s){return(typeof s=="string"?s:""+s).replace(WA,`
`).replace(ZA,"")}function Y0(s,a){return a=G0(a),G0(s)===a}function se(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||_n(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&_n(s,""+u);break;case"className":In(s,"class",u);break;case"tabIndex":In(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":In(s,l,u);break;case"style":Ml(s,u,p);break;case"data":if(a!=="object"){In(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ao(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&se(s,a,"name",g.name,g,null),se(s,a,"formEncType",g.formEncType,g,null),se(s,a,"formMethod",g.formMethod,g,null),se(s,a,"formTarget",g.formTarget,g,null)):(se(s,a,"encType",g.encType,g,null),se(s,a,"method",g.method,g,null),se(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ao(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=li);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=ao(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":kt("beforetoggle",s),kt("toggle",s),io(s,"popover",u);break;case"xlinkActuate":Ie(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Lu.get(l)||l,io(s,l,u))}}function yg(s,a,l,u,g,p){switch(l){case"style":Ml(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?_n(s,u):(typeof u=="number"||typeof u=="bigint")&&_n(s,""+u);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[Ge]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):io(s,l,u)}}}function tn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var x=l[p];if(x!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,p,x,l,null)}}g&&se(s,a,"srcSet",l.srcSet,l,null),u&&se(s,a,"src",l.src,l,null);return;case"input":kt("invalid",s);var S=p=x=g=null,V=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":g=J;break;case"type":x=J;break;case"checked":V=J;break;case"defaultChecked":Y=J;break;case"value":p=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:se(s,a,u,J,l,null)}}ku(s,p,S,V,Y,x,g,!1);return;case"select":kt("invalid",s),u=x=p=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:se(s,a,g,S,l,null)}a=p,l=x,s.multiple=!!u,a!=null?Hs(s,!!u,a,!1):l!=null&&Hs(s,!!u,l,!0);return;case"textarea":kt("invalid",s),p=g=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:se(s,a,x,S,l,null)}qs(s,u,g,p);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:se(s,a,V,u,l,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(u=0;u<hc.length;u++)kt(hc[u],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,Y,u,l,null)}return;default:if(ro(a)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&yg(s,a,J,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&se(s,a,S,u,l,null))}function JA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,x=null,S=null,V=null,Y=null,J=null;for(W in l){var nt=l[W];if(l.hasOwnProperty(W)&&nt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=nt;default:u.hasOwnProperty(W)||se(s,a,W,null,u,nt)}}for(var $ in u){var W=u[$];if(nt=l[$],u.hasOwnProperty($)&&(W!=null||nt!=null))switch($){case"type":p=W;break;case"name":g=W;break;case"checked":Y=W;break;case"defaultChecked":J=W;break;case"value":x=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==nt&&se(s,a,$,W,u,nt)}}so(s,x,S,V,Y,J,p,g);return;case"select":W=x=S=$=null;for(p in l)if(V=l[p],l.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":W=V;default:u.hasOwnProperty(p)||se(s,a,p,null,u,V)}for(g in u)if(p=u[g],V=l[g],u.hasOwnProperty(g)&&(p!=null||V!=null))switch(g){case"value":$=p;break;case"defaultValue":S=p;break;case"multiple":x=p;default:p!==V&&se(s,a,g,p,u,V)}a=S,l=x,u=W,$!=null?Hs(s,!!l,$,!1):!!u!=!!l&&(a!=null?Hs(s,!!l,a,!0):Hs(s,!!l,l?[]:"",!1));return;case"textarea":W=$=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(s,a,S,null,u,g)}for(x in u)if(g=u[x],p=l[x],u.hasOwnProperty(x)&&(g!=null||p!=null))switch(x){case"value":$=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&se(s,a,x,g,u,p)}Vu(s,$,W);return;case"option":for(var dt in l)if($=l[dt],l.hasOwnProperty(dt)&&$!=null&&!u.hasOwnProperty(dt))switch(dt){case"selected":s.selected=!1;break;default:se(s,a,dt,null,u,$)}for(V in u)if($=u[V],W=l[V],u.hasOwnProperty(V)&&$!==W&&($!=null||W!=null))switch(V){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:se(s,a,V,$,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)$=l[vt],l.hasOwnProperty(vt)&&$!=null&&!u.hasOwnProperty(vt)&&se(s,a,vt,null,u,$);for(Y in u)if($=u[Y],W=l[Y],u.hasOwnProperty(Y)&&$!==W&&($!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:se(s,a,Y,$,u,W)}return;default:if(ro(a)){for(var re in l)$=l[re],l.hasOwnProperty(re)&&$!==void 0&&!u.hasOwnProperty(re)&&yg(s,a,re,void 0,u,$);for(J in u)$=u[J],W=l[J],!u.hasOwnProperty(J)||$===W||$===void 0&&W===void 0||yg(s,a,J,$,u,W);return}}for(var B in l)$=l[B],l.hasOwnProperty(B)&&$!=null&&!u.hasOwnProperty(B)&&se(s,a,B,null,u,$);for(nt in u)$=u[nt],W=l[nt],!u.hasOwnProperty(nt)||$===W||$==null&&W==null||se(s,a,nt,$,u,W)}function $0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,x=g.initiatorType,S=g.duration;if(p&&S&&$0(x)){for(x=0,S=g.responseEnd,u+=1;u<l.length;u++){var V=l[u],Y=V.startTime;if(Y>S)break;var J=V.transferSize,nt=V.initiatorType;J&&$0(nt)&&(V=V.responseEnd,x+=J*(V<S?1:(S-Y)/(V-Y)))}if(--u,a+=8*(p+x)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var _g=null,vg=null;function jh(s){return s.nodeType===9?s:s.ownerDocument}function K0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function bg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var xg=null;function eR(){var s=window.event;return s&&s.type==="popstate"?s===xg?!1:(xg=s,!0):(xg=null,!1)}var Q0=typeof setTimeout=="function"?setTimeout:void 0,nR=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,iR=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(s){return W0.resolve(null).then(s).catch(sR)}:Q0;function sR(s){setTimeout(function(){throw s})}function dr(s){return s==="head"}function Z0(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),Bo(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")dc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,dc(l);for(var p=l.firstChild;p;){var x=p.nextSibling,S=p.nodeName;p[Ri]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=x}}else l==="body"&&dc(s.ownerDocument.body);l=g}while(l);Bo(a)}function J0(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function wg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":wg(l),no(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function rR(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ri])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Kn(s.nextSibling),s===null)break}return null}function aR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Kn(s.nextSibling),s===null))return null;return s}function tb(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Kn(s.nextSibling),s===null))return null;return s}function Eg(s){return s.data==="$?"||s.data==="$~"}function Tg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function oR(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Kn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Sg=null;function eb(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Kn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function nb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function ib(s,a,l){switch(a=jh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function dc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);no(s)}var Xn=new Map,sb=new Set;function Uh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ts=ot.d;ot.d={f:lR,r:cR,D:uR,C:hR,L:fR,m:dR,X:gR,S:mR,M:pR};function lR(){var s=Ts.f(),a=Nh();return s||a}function cR(s){var a=jn(s);a!==null&&a.tag===5&&a.type==="form"?xv(a):Ts.r(s)}var jo=typeof document>"u"?null:document;function rb(s,a,l){var u=jo;if(u&&typeof a=="string"&&a){var g=yn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),sb.has(g)||(sb.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),tn(a,"link",s),Ce(a),u.head.appendChild(a)))}}function uR(s){Ts.D(s),rb("dns-prefetch",s,null)}function hR(s,a){Ts.C(s,a),rb("preconnect",s,a)}function fR(s,a,l){Ts.L(s,a,l);var u=jo;if(u&&s&&a){var g='link[rel="preload"][as="'+yn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+yn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+yn(l.imageSizes)+'"]')):g+='[href="'+yn(s)+'"]';var p=g;switch(a){case"style":p=Uo(s);break;case"script":p=zo(s)}Xn.has(p)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Xn.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(mc(p))||a==="script"&&u.querySelector(gc(p))||(a=u.createElement("link"),tn(a,"link",s),Ce(a),u.head.appendChild(a)))}}function dR(s,a){Ts.m(s,a);var l=jo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=zo(s)}if(!Xn.has(p)&&(s=_({rel:"modulepreload",href:s},a),Xn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gc(p)))return}u=l.createElement("link"),tn(u,"link",s),Ce(u),l.head.appendChild(u)}}}function mR(s,a,l){Ts.S(s,a,l);var u=jo;if(u&&s){var g=Ii(u).hoistableStyles,p=Uo(s);a=a||"default";var x=g.get(p);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(mc(p)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Xn.get(p))&&Ag(s,l);var V=x=u.createElement("link");Ce(V),tn(V,"link",s),V._p=new Promise(function(Y,J){V.onload=Y,V.onerror=J}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zh(x,a,u)}x={type:"stylesheet",instance:x,count:1,state:S},g.set(p,x)}}}function gR(s,a){Ts.X(s,a);var l=jo;if(l&&s){var u=Ii(l).hoistableScripts,g=zo(s),p=u.get(g);p||(p=l.querySelector(gc(g)),p||(s=_({src:s,async:!0},a),(a=Xn.get(g))&&Rg(s,a),p=l.createElement("script"),Ce(p),tn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function pR(s,a){Ts.M(s,a);var l=jo;if(l&&s){var u=Ii(l).hoistableScripts,g=zo(s),p=u.get(g);p||(p=l.querySelector(gc(g)),p||(s=_({src:s,async:!0,type:"module"},a),(a=Xn.get(g))&&Rg(s,a),p=l.createElement("script"),Ce(p),tn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function ab(s,a,l,u){var g=(g=xt.current)?Uh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Uo(l.href),l=Ii(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Uo(l.href);var p=Ii(g).hoistableStyles,x=p.get(s);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,x),(p=g.querySelector(mc(s)))&&!p._p&&(x.instance=p,x.state.loading=5),Xn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xn.set(s,l),p||yR(g,s,l,x.state))),a&&u===null)throw Error(i(528,""));return x}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=zo(l),l=Ii(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Uo(s){return'href="'+yn(s)+'"'}function mc(s){return'link[rel="stylesheet"]['+s+"]"}function ob(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function yR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),tn(a,"link",l),Ce(a),s.head.appendChild(a))}function zo(s){return'[src="'+yn(s)+'"]'}function gc(s){return"script[async]"+s}function lb(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+yn(l.href)+'"]');if(u)return a.instance=u,Ce(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ce(u),tn(u,"style",g),zh(u,l.precedence,s),a.instance=u;case"stylesheet":g=Uo(l.href);var p=s.querySelector(mc(g));if(p)return a.state.loading|=4,a.instance=p,Ce(p),p;u=ob(l),(g=Xn.get(g))&&Ag(u,g),p=(s.ownerDocument||s).createElement("link"),Ce(p);var x=p;return x._p=new Promise(function(S,V){x.onload=S,x.onerror=V}),tn(p,"link",u),a.state.loading|=4,zh(p,l.precedence,s),a.instance=p;case"script":return p=zo(l.src),(g=s.querySelector(gc(p)))?(a.instance=g,Ce(g),g):(u=l,(g=Xn.get(p))&&(u=_({},l),Rg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ce(g),tn(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,zh(u,l.precedence,s));return a.instance}function zh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===a)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Ag(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Rg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Bh=null;function cb(s,a,l){if(Bh===null){var u=new Map,g=Bh=new Map;g.set(l,u)}else g=Bh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Ri]||p[Re]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(a)||"";x=s+x;var S=u.get(x);S?S.push(p):u.set(x,[p])}}return u}function ub(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function _R(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function hb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function vR(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Uo(u.href),p=a.querySelector(mc(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Fh.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ce(p);return}p=a.ownerDocument||a,u=ob(u),(g=Xn.get(g))&&Ag(u,g),p=p.createElement("link"),Ce(p);var x=p;x._p=new Promise(function(S,V){x.onload=S,x.onerror=V}),tn(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Fh.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var Cg=0;function bR(s,a){return s.stylesheets&&s.count===0&&qh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&qh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&Cg===0&&(Cg=62500*tR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&qh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Cg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Hh=null;function qh(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Hh=new Map,a.forEach(xR,s),Hh=null,Fh.call(s))}function xR(s,a){if(!(a.state.loading&4)){var l=Hh.get(s);if(l)var u=l.get(null);else{l=new Map,Hh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var x=g[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}g=a.instance,x=g.getAttribute("data-precedence"),p=l.get(x)||u,p===u&&l.set(null,g),l.set(x,g),this.count++,u=Fh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var pc={$$typeof:H,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function wR(s,a,l,u,g,p,x,S,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function fb(s,a,l,u,g,p,x,S,V,Y,J,nt){return s=new wR(s,a,l,x,V,Y,J,nt,S),a=1,p===!0&&(a|=24),p=Mn(3,null,null,a),s.current=p,p.stateNode=s,a=om(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},hm(p),s}function db(s){return s?(s=yo,s):yo}function mb(s,a,l,u,g,p){g=db(g),u.context===null?u.context=g:u.pendingContext=g,u=nr(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=ir(s,u,a),l!==null&&(En(l,s,a),Kl(l,s,a))}function gb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Ig(s,a){gb(s,a),(s=s.alternate)&&gb(s,a)}function pb(s){if(s.tag===13||s.tag===31){var a=ha(s,67108864);a!==null&&En(a,s,67108864),Ig(s,67108864)}}function yb(s){if(s.tag===13||s.tag===31){var a=Pn();a=Jr(a);var l=ha(s,a);l!==null&&En(l,s,a),Ig(s,a)}}var Gh=!0;function ER(s,a,l,u){var g=K.T;K.T=null;var p=ot.p;try{ot.p=2,Ng(s,a,l,u)}finally{ot.p=p,K.T=g}}function TR(s,a,l,u){var g=K.T;K.T=null;var p=ot.p;try{ot.p=8,Ng(s,a,l,u)}finally{ot.p=p,K.T=g}}function Ng(s,a,l,u){if(Gh){var g=Mg(u);if(g===null)pg(s,a,u,Yh,l),vb(s,u);else if(AR(g,s,a,l,u))u.stopPropagation();else if(vb(s,u),a&4&&-1<SR.indexOf(s)){for(;g!==null;){var p=jn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=Ei(p.pendingLanes);if(x!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var V=1<<31-ve(x);S.entanglements[1]|=V,x&=~V}Fi(p),(Kt&6)===0&&(Ch=dn()+500,uc(0))}}break;case 31:case 13:S=ha(p,2),S!==null&&En(S,p,2),Nh(),Ig(p,2)}if(p=Mg(u),p===null&&pg(s,a,u,Yh,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else pg(s,a,u,null,l)}}function Mg(s){return s=Un(s),Dg(s)}var Yh=null;function Dg(s){if(Yh=null,s=Ci(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Yh=s,null}function _b(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case vl:return 2;case bl:return 8;case Bs:case jd:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var Og=!1,mr=null,gr=null,pr=null,yc=new Map,_c=new Map,yr=[],SR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vb(s,a){switch(s){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":yc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(a.pointerId)}}function vc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=jn(a),a!==null&&pb(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function AR(s,a,l,u,g){switch(a){case"focusin":return mr=vc(mr,s,a,l,u,g),!0;case"dragenter":return gr=vc(gr,s,a,l,u,g),!0;case"mouseover":return pr=vc(pr,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return yc.set(p,vc(yc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,_c.set(p,vc(_c.get(p)||null,s,a,l,u,g)),!0}return!1}function bb(s){var a=Ci(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,ai(s.priority,function(){yb(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,ai(s.priority,function(){yb(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $h(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Mg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Dl=u,l.target.dispatchEvent(u),Dl=null}else return a=jn(l),a!==null&&pb(a),s.blockedOn=l,!1;a.shift()}return!0}function xb(s,a,l){$h(s)&&l.delete(a)}function RR(){Og=!1,mr!==null&&$h(mr)&&(mr=null),gr!==null&&$h(gr)&&(gr=null),pr!==null&&$h(pr)&&(pr=null),yc.forEach(xb),_c.forEach(xb)}function Kh(s,a){s.blockedOn===a&&(s.blockedOn=null,Og||(Og=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RR)))}var Xh=null;function wb(s){Xh!==s&&(Xh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Xh===s&&(Xh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(Dg(u||l)===null)continue;break}var p=jn(l);p!==null&&(s.splice(a,3),a-=3,Mm(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Bo(s){function a(V){return Kh(V,s)}mr!==null&&Kh(mr,s),gr!==null&&Kh(gr,s),pr!==null&&Kh(pr,s),yc.forEach(a),_c.forEach(a);for(var l=0;l<yr.length;l++){var u=yr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<yr.length&&(l=yr[0],l.blockedOn===null);)bb(l),l.blockedOn===null&&yr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],x=g[Ge]||null;if(typeof p=="function")x||wb(l);else if(x){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,x=p[Ge]||null)S=x.formAction;else if(Dg(g)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),wb(l)}}}function Eb(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return g=x})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function kg(s){this._internalRoot=s}Qh.prototype.render=kg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Pn();mb(l,u,s,a,null,null)},Qh.prototype.unmount=kg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;mb(s.current,2,null,s,null,null),Nh(),a[Ai]=null}};function Qh(s){this._internalRoot=s}Qh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Nu();s={blockedOn:null,target:s,priority:a};for(var l=0;l<yr.length&&a!==0&&a<yr[l].priority;l++);yr.splice(l,0,s),l===0&&bb(s)}};var Tb=t.version;if(Tb!=="19.2.0")throw Error(i(527,Tb,"19.2.0"));ot.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var CR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{si=Wh.inject(CR),Xe=Wh}catch{}}return xc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=Mv,p=Dv,x=Ov;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=fb(s,1,!1,null,null,l,u,null,g,p,x,Eb),s[Ai]=a.current,gg(s),new kg(a)},xc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=Mv,x=Dv,S=Ov,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),a=fb(s,1,!0,a,l??null,u,g,V,p,x,S,Eb),a.context=db(null),l=a.current,u=Pn(),u=Jr(u),g=nr(u),g.callback=null,ir(l,g,u),l=u,a.current.lanes=l,Wr(a,l),Fi(a),s[Ai]=a.current,gg(s),new Qh(a)},xc.version="19.2.0",xc}var kb;function UR(){if(kb)return Lg.exports;kb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Lg.exports=jR(),Lg.exports}var zR=UR();const BR=()=>{};var Vb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},FR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let b=(h&15)<<2|d>>6,E=d&63;f||(E=64,c||(b=64)),i.push(e[y],e[_],e[b],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(NE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):FR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||d==null||_==null)throw new HR;const b=o<<2|h>>4;if(i.push(b),d!==64){const E=h<<4&240|d>>2;if(i.push(E),_!==64){const A=d<<6&192|_;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qR=function(n){const t=NE(n);return ME.encodeByteArray(t,!0)},Of=function(n){return qR(n).replace(/\./g,"")},DE=function(n){try{return ME.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=()=>GR().__FIREBASE_DEFAULTS__,$R=()=>{if(typeof process>"u"||typeof Vb>"u")return;const n=Vb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&DE(n[1]);return t&&JSON.parse(t)},ld=()=>{try{return BR()||YR()||$R()||KR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},OE=n=>ld()?.emulatorHosts?.[n],kE=n=>{const t=OE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},VE=()=>ld()?.config,PE=n=>ld()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Of(JSON.stringify(e)),Of(JSON.stringify(c)),""].join(".")}const Pc={};function QR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Pc))Pc[t]?n.emulator.push(t):n.prod.push(t);return n}function WR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Pb=!1;function Yp(n,t){if(typeof window>"u"||typeof document>"u"||!Ha(window.location.host)||Pc[n]===t||Pc[n]||Pb)return;Pc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=QR().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Pb=!0,c()},b}function y(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=WR(i),E=e("text"),A=document.getElementById(E)||document.createElement("span"),C=e("learnmore"),N=document.getElementById(C)||document.createElement("a"),L=e("preprendIcon"),F=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;h(H),y(N,C);const Z=d();f(F,L),H.append(F,A,N,Z),document.body.appendChild(H)}o?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function JR(){const n=ld()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iC(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sC(){return!JR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rC(){try{return typeof indexedDB=="object"}catch{return!1}}function aC(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="FirebaseError";class ss extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=oC,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?lC(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new ss(r,h,i)}}function lC(n,t){return n.replace(cC,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const cC=/\{\$([^}]+)}/g;function uC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Va(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(Lb(o)&&Lb(c)){if(!Va(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Lb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Rc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Cc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function hC(n,t){const e=new fC(n,t);return e.subscribe.bind(e)}class fC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");dC(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Bg),r.error===void 0&&(r.error=Bg),r.complete===void 0&&(r.complete=Bg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n){return n&&n._delegate?n._delegate:n}class kr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new XR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pC(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gC(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gC(n){return n===Ra?void 0:n}function pC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new mC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const _C={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},vC=jt.INFO,bC={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},xC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=bC[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $p{constructor(t){this.name=t,this._logLevel=vC,this._logHandler=xC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_C[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const wC=(n,t)=>t.some(e=>n instanceof e);let jb,Ub;function EC(){return jb||(jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TC(){return Ub||(Ub=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,fp=new WeakMap,UE=new WeakMap,Fg=new WeakMap,Kp=new WeakMap;function SC(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Cr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&jE.set(e,n)}).catch(()=>{}),Kp.set(t,n),t}function AC(n){if(fp.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});fp.set(n,t)}let dp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return fp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||UE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Cr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function RC(n){dp=n(dp)}function CC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Hg(this),t,...e);return UE.set(i,t.sort?t.sort():[t]),Cr(i)}:TC().includes(n)?function(...t){return n.apply(Hg(this),t),Cr(jE.get(this))}:function(...t){return Cr(n.apply(Hg(this),t))}}function IC(n){return typeof n=="function"?CC(n):(n instanceof IDBTransaction&&AC(n),wC(n,EC())?new Proxy(n,dp):n)}function Cr(n){if(n instanceof IDBRequest)return SC(n);if(Fg.has(n))return Fg.get(n);const t=IC(n);return t!==n&&(Fg.set(n,t),Kp.set(t,n)),t}const Hg=n=>Kp.get(n);function NC(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Cr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Cr(c.result),f.oldVersion,f.newVersion,Cr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const MC=["get","getKey","getAll","getAllKeys","count"],DC=["put","add","delete","clear"],qg=new Map;function zb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(qg.get(t))return qg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=DC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||MC.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),r&&f.done]))[0]};return qg.set(t,o),o}RC(n=>({...n,get:(t,e,i)=>zb(t,e)||n.get(t,e,i),has:(t,e)=>!!zb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(kC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function kC(n){return n.getComponent()?.type==="VERSION"}const mp="@firebase/app",Bb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new $p("@firebase/app"),VC="@firebase/app-compat",PC="@firebase/analytics-compat",LC="@firebase/analytics",jC="@firebase/app-check-compat",UC="@firebase/app-check",zC="@firebase/auth",BC="@firebase/auth-compat",FC="@firebase/database",HC="@firebase/data-connect",qC="@firebase/database-compat",GC="@firebase/functions",YC="@firebase/functions-compat",$C="@firebase/installations",KC="@firebase/installations-compat",XC="@firebase/messaging",QC="@firebase/messaging-compat",WC="@firebase/performance",ZC="@firebase/performance-compat",JC="@firebase/remote-config",tI="@firebase/remote-config-compat",eI="@firebase/storage",nI="@firebase/storage-compat",iI="@firebase/firestore",sI="@firebase/ai",rI="@firebase/firestore-compat",aI="firebase",oI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",lI={[mp]:"fire-core",[VC]:"fire-core-compat",[LC]:"fire-analytics",[PC]:"fire-analytics-compat",[UC]:"fire-app-check",[jC]:"fire-app-check-compat",[zC]:"fire-auth",[BC]:"fire-auth-compat",[FC]:"fire-rtdb",[HC]:"fire-data-connect",[qC]:"fire-rtdb-compat",[GC]:"fire-fn",[YC]:"fire-fn-compat",[$C]:"fire-iid",[KC]:"fire-iid-compat",[XC]:"fire-fcm",[QC]:"fire-fcm-compat",[WC]:"fire-perf",[ZC]:"fire-perf-compat",[JC]:"fire-rc",[tI]:"fire-rc-compat",[eI]:"fire-gcs",[nI]:"fire-gcs-compat",[iI]:"fire-fst",[rI]:"fire-fst-compat",[sI]:"fire-vertex","fire-js":"fire-js",[aI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=new Map,cI=new Map,pp=new Map;function Fb(n,t){try{n.container.addComponent(t)}catch(e){Vs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Pa(n){const t=n.name;if(pp.has(t))return Vs.debug(`There were multiple attempts to register component ${t}.`),!1;pp.set(t,n);for(const e of kf.values())Fb(e,n);for(const e of cI.values())Fb(e,n);return!0}function cd(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function An(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new cu("app","Firebase",uI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=oI;function zE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:gp,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Ir.create("bad-app-name",{appName:String(r)});if(e||(e=VE()),!e)throw Ir.create("no-options");const o=kf.get(r);if(o){if(Va(e,o.options)&&Va(i,o.config))return o;throw Ir.create("duplicate-app",{appName:r})}const c=new yC(r);for(const f of pp.values())c.addComponent(f);const h=new hI(e,i,c);return kf.set(r,h),h}function Xp(n=gp){const t=kf.get(n);if(!t&&n===gp&&VE())return zE();if(!t)throw Ir.create("no-app",{appName:n});return t}function $i(n,t,e){let i=lI[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vs.warn(c.join(" "));return}Pa(new kr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebase-heartbeat-database",dI=1,Yc="firebase-heartbeat-store";let Gg=null;function BE(){return Gg||(Gg=NC(fI,dI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Yc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ir.create("idb-open",{originalErrorMessage:n.message})})),Gg}async function mI(n){try{const e=(await BE()).transaction(Yc),i=await e.objectStore(Yc).get(FE(n));return await e.done,i}catch(t){if(t instanceof ss)Vs.warn(t.message);else{const e=Ir.create("idb-get",{originalErrorMessage:t?.message});Vs.warn(e.message)}}}async function Hb(n,t){try{const i=(await BE()).transaction(Yc,"readwrite");await i.objectStore(Yc).put(t,FE(n)),await i.done}catch(e){if(e instanceof ss)Vs.warn(e.message);else{const i=Ir.create("idb-set",{originalErrorMessage:e?.message});Vs.warn(i.message)}}}function FE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,pI=30;class yI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new vI(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>pI){const r=bI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Vs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qb(),{heartbeatsToSend:e,unsentEntries:i}=_I(this._heartbeatsCache.heartbeats),r=Of(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Vs.warn(t),""}}}function qb(){return new Date().toISOString().substring(0,10)}function _I(n,t=gI){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Gb(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Gb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class vI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rC()?aC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await mI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Gb(n){return Of(JSON.stringify({version:2,heartbeats:n})).length}function bI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n){Pa(new kr("platform-logger",t=>new OC(t),"PRIVATE")),Pa(new kr("heartbeat",t=>new yI(t),"PRIVATE")),$i(mp,Bb,n),$i(mp,Bb,"esm2020"),$i("fire-js","")}xI("");function HE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wI=HE,qE=new cu("auth","Firebase",HE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new $p("@firebase/auth");function EI(n,...t){Vf.logLevel<=jt.WARN&&Vf.warn(`Auth (${qa}): ${n}`,...t)}function xf(n,...t){Vf.logLevel<=jt.ERROR&&Vf.error(`Auth (${qa}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n,...t){throw Wp(n,...t)}function bi(n,...t){return Wp(n,...t)}function Qp(n,t,e){const i={...wI(),[t]:e};return new cu("auth","Firebase",i).create(t,{appName:n.name})}function Os(n){return Qp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TI(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&ti(n,"argument-error"),Qp(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return qE.create(n,...t)}function wt(n,t,...e){if(!n)throw Wp(t,...e)}function Ns(n){const t="INTERNAL ASSERTION FAILED: "+n;throw xf(t),new Error(t)}function Ps(n,t){n||Ns(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){return typeof self<"u"&&self.location?.href||""}function SI(){return Yb()==="http:"||Yb()==="https:"}function Yb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SI()||eC()||"connection"in navigator)?navigator.onLine:!0}function RI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ps(e>t,"Short delay should be less than long delay!"),this.isMobile=ZR()||nC()}get(){return AI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(n,t){Ps(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NI=new hu(3e4,6e4);function Hr(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function qr(n,t,e,i,r={}){return YE(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=uu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return tC()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Ha(n.emulatorConfig.host)&&(d.credentials="include"),GE.fetch()(await $E(n,n.config.apiHost,e,h),d)})}async function YE(n,t,e){n._canInitEmulator=!1;const i={...CI,...t};try{const r=new DI(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Zh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Zh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Zh(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Qp(n,y,d);ti(n,y)}}catch(r){if(r instanceof ss)throw r;ti(n,"network-request-failed",{message:String(r)})}}async function fu(n,t,e,i,r={}){const o=await qr(n,t,e,i,r);return"mfaPendingCredential"in o&&ti(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function $E(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Zp(n.config,r):`${n.config.apiScheme}://${r}`;return II.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function MI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(bi(this.auth,"network-request-failed")),NI.get())})}}function Zh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=bi(n,t,i);return r.customData._tokenResponse=e,r}function $b(n){return n!==void 0&&n.enterprise!==void 0}class OI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return MI(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kI(n,t){return qr(n,"GET","/v2/recaptchaConfig",Hr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(n,t){return qr(n,"POST","/v1/accounts:delete",t)}async function Pf(n,t){return qr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PI(n,t=!1){const e=pn(n),i=await e.getIdToken(t),r=Jp(i);wt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Lc(Yg(r.auth_time)),issuedAtTime:Lc(Yg(r.iat)),expirationTime:Lc(Yg(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Yg(n){return Number(n)*1e3}function Jp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return xf("JWT malformed, contained fewer than 3 sections"),null;try{const r=DE(e);return r?JSON.parse(r):(xf("Failed to decode base64 JWT payload"),null)}catch(r){return xf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Kb(n){const t=Jp(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ss&&LI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function LI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(n){const t=n.auth,e=await n.getIdToken(),i=await $c(n,Pf(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?KE(r.providerUserInfo):[],c=zI(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,d=h?f:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new _p(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function UI(n){const t=pn(n);await Lf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zI(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function KE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(n,t){const e=await YE(n,{},async()=>{const i=uu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await $E(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Ha(n.emulatorConfig.host)&&(f.credentials="include"),GE.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function FI(n,t){return qr(n,"POST","/v2/accounts:revokeToken",Hr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Kb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=Kb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await BI(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Ko;return i&&(wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(wt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(wt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class yi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new jI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new _p(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await $c(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return PI(this,t)}reload(){return UI(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new yi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Lf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Os(this.auth));const t=await this.getIdToken();return await $c(this,VI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:E,providerData:A,stsTokenManager:C}=e;wt(_&&C,t,"internal-error");const N=Ko.fromJSON(this.name,C);wt(typeof _=="string",t,"internal-error"),vr(i,t.name),vr(r,t.name),wt(typeof b=="boolean",t,"internal-error"),wt(typeof E=="boolean",t,"internal-error"),vr(o,t.name),vr(c,t.name),vr(h,t.name),vr(f,t.name),vr(d,t.name),vr(y,t.name);const L=new yi({uid:_,auth:t,email:r,emailVerified:b,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:d,lastLoginAt:y});return A&&Array.isArray(A)&&(L.providerData=A.map(F=>({...F}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(t,e,i=!1){const r=new Ko;r.updateFromServerResponse(e);const o=new yi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Lf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];wt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?KE(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Ko;h.updateFromIdToken(i);const f=new yi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new _p(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;function Ms(n){Ps(n instanceof Function,"Expected a class definition");let t=Xb.get(n);return t?(Ps(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Xb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}XE.type="NONE";const Qb=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n,t,e){return`firebase:${n}:${t}:${e}`}class Xo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=wf(this.userKey,r.apiKey,o),this.fullPersistenceKey=wf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Pf(this.auth,{idToken:t}).catch(()=>{});return e?yi._fromGetAccountInfoResponse(this.auth,e,t):null}return yi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Xo(Ms(Qb),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Ms(Qb);const c=wf(i,t.config.apiKey,t.name);let h=null;for(const d of e)try{const y=await d._get(c);if(y){let _;if(typeof y=="string"){const b=await Pf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await yi._fromGetAccountInfoResponse(t,b,y)}else _=yi._fromJSON(t,y);d!==o&&(h=_),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Xo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new Xo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(JE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eT(t))return"Blackberry";if(nT(t))return"Webos";if(WE(t))return"Safari";if((t.includes("chrome/")||ZE(t))&&!t.includes("edge/"))return"Chrome";if(tT(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function QE(n=fn()){return/firefox\//i.test(n)}function WE(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ZE(n=fn()){return/crios\//i.test(n)}function JE(n=fn()){return/iemobile/i.test(n)}function tT(n=fn()){return/android/i.test(n)}function eT(n=fn()){return/blackberry/i.test(n)}function nT(n=fn()){return/webos/i.test(n)}function ty(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HI(n=fn()){return ty(n)&&!!window.navigator?.standalone}function qI(){return iC()&&document.documentMode===10}function iT(n=fn()){return ty(n)||tT(n)||nT(n)||eT(n)||/windows phone/i.test(n)||JE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n,t=[]){let e;switch(n){case"Browser":e=Wb(fn());break;case"Worker":e=`${Wb(fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${qa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,t={}){return qr(n,"GET","/v2/passwordPolicy",Hr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=6;class KI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??$I,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zb(this),this.idTokenSubscription=new Zb(this),this.beforeStateQueue=new GI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ms(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Pf(this,{idToken:t}),i=await yi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(An(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Lf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=RI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(An(this.app))return Promise.reject(Os(this));const e=t?pn(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return An(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YI(this),e=new KI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new cu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await FI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ms(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Ms(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&EI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gr(n){return pn(n)}class Zb{constructor(t){this.auth=t,this.observer=null,this.addObserver=hC(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QI(n){ud=n}function rT(n){return ud.loadJS(n)}function WI(){return ud.recaptchaEnterpriseScript}function ZI(){return ud.gapiScript}function JI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class t2{constructor(){this.enterprise=new e2}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class e2{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const n2="recaptcha-enterprise",aT="NO_RECAPTCHA";class i2{constructor(t){this.type=n2,this.auth=Gr(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{kI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new OI(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,c(d.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;$b(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{c(d)}).catch(()=>{c(aT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t2().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&$b(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=WI();f.length!==0&&(f+=h),rT(f).then(()=>{r(h,o,c)}).catch(d=>{c(d)})}}).catch(h=>{c(h)})})}}async function Jb(n,t,e,i=!1,r=!1){const o=new i2(n);let c;if(r)c=aT;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function vp(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Jb(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Jb(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n,t){const e=cd(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Va(o,t??{}))return r;ti(r,"already-initialized")}return e.initialize({options:t})}function r2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ms);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function a2(n,t,e){const i=Gr(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=oT(t),{host:c,port:h}=o2(t),f=h===null?"":`:${h}`,d={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Va(d,i.config.emulator)&&Va(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Ha(c)?(Gp(`${o}//${c}${f}`),Yp("Auth",!0)):l2()}function oT(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function o2(n){const t=oT(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:tx(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:tx(c)}}}function tx(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function l2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ns("not implemented")}_getIdTokenResponse(t){return Ns("not implemented")}_linkToIdToken(t,e){return Ns("not implemented")}_getReauthenticationResolver(t){return Ns("not implemented")}}async function c2(n,t){return qr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(n,t){return fu(n,"POST","/v1/accounts:signInWithPassword",Hr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(n,t){return fu(n,"POST","/v1/accounts:signInWithEmailLink",Hr(n,t))}async function f2(n,t){return fu(n,"POST","/v1/accounts:signInWithEmailLink",Hr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends ey{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Kc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Kc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vp(t,e,"signInWithPassword",u2);case"emailLink":return h2(t,{email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vp(t,i,"signUpPassword",c2);case"emailLink":return f2(t,{idToken:e,email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,t){return fu(n,"POST","/v1/accounts:signInWithIdp",Hr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="http://localhost";class La extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new La(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ti("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new La(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Qo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Qo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Qo(t,e)}buildRequest(){const t={requestUri:d2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=uu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g2(n){const t=Rc(Cc(n)).link,e=t?Rc(Cc(t)).deep_link_id:null,i=Rc(Cc(n)).deep_link_id;return(i?Rc(Cc(i)).link:null)||i||e||t||n}class ny{constructor(t){const e=Rc(Cc(t)),i=e.apiKey??null,r=e.oobCode??null,o=m2(e.mode??null);wt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=g2(t);try{return new ny(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(t,e){return Kc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=ny.parseLink(e);return wt(i,"argument-error"),Kc._fromEmailAndCode(t,i.code,i.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends iy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends du{constructor(){super("facebook.com")}static credential(t){return La._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return La._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Is.credentialFromTaggedObject(t)}static credentialFromError(t){return Is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Is.credential(e,i)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends du{constructor(){super("github.com")}static credential(t){return La._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends du{constructor(){super("twitter.com")}static credential(t,e){return La._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Er.credential(e,i)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(n,t){return fu(n,"POST","/v1/accounts:signUp",Hr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await yi._fromIdTokenResponse(t,i,r),c=ex(i);return new ja({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=ex(i);return new ja({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function ex(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends ss{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,jf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new jf(t,e,i,r)}}function lT(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jf._fromErrorAndOperation(n,o,t,i):o})}async function y2(n,t,e=!1){const i=await $c(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return ja._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(n,t,e=!1){const{auth:i}=n;if(An(i.app))return Promise.reject(Os(i));const r="reauthenticate";try{const o=await $c(n,lT(i,r,t,n),e);wt(o.idToken,i,"internal-error");const c=Jp(o.idToken);wt(c,i,"internal-error");const{sub:h}=c;return wt(n.uid===h,i,"user-mismatch"),ja._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ti(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(n,t,e=!1){if(An(n.app))return Promise.reject(Os(n));const i="signIn",r=await lT(n,i,t),o=await ja._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function v2(n,t){return cT(Gr(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(n){const t=Gr(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function b2(n,t,e){if(An(n.app))return Promise.reject(Os(n));const i=Gr(n),c=await vp(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p2).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&uT(n),f}),h=await ja._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function x2(n,t,e){return An(n.app)?Promise.reject(Os(n)):v2(pn(n),cl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&uT(n),i})}function w2(n,t,e,i){return pn(n).onIdTokenChanged(t,e,i)}function E2(n,t,e){return pn(n).beforeAuthStateChanged(t,e)}function T2(n,t,e,i){return pn(n).onAuthStateChanged(t,e,i)}function S2(n){return pn(n).signOut()}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=1e3,R2=10;class fT extends hT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);qI()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,R2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}fT.type="LOCAL";const C2=fT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends hT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}dT.type="SESSION";const mT=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new hd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async d=>d(e.origin,o)),f=await I2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const d=sy("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const b=_;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function M2(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function D2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O2(){return navigator?.serviceWorker?.controller||null}function k2(){return gT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firebaseLocalStorageDb",V2=1,zf="firebaseLocalStorage",yT="fbase_key";class mu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function fd(n,t){return n.transaction([zf],t?"readwrite":"readonly").objectStore(zf)}function P2(){const n=indexedDB.deleteDatabase(pT);return new mu(n).toPromise()}function bp(){const n=indexedDB.open(pT,V2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(zf,{keyPath:yT})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(zf)?t(i):(i.close(),await P2(),t(await bp()))})})}async function nx(n,t,e){const i=fd(n,!0).put({[yT]:t,value:e});return new mu(i).toPromise()}async function L2(n,t){const e=fd(n,!1).get(t),i=await new mu(e).toPromise();return i===void 0?null:i.value}function ix(n,t){const e=fd(n,!0).delete(t);return new mu(e).toPromise()}const j2=800,U2=3;class _T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>U2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(k2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D2(),!this.activeServiceWorker)return;this.sender=new N2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||O2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bp();return await nx(t,Uf,"1"),await ix(t,Uf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>nx(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>L2(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>ix(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=fd(r,!1).getAll();return new mu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_T.type="LOCAL";const z2=_T;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n,t){return t?Ms(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends ey{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Qo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Qo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function B2(n){return cT(n.auth,new ry(n),n.bypassAuthState)}function F2(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),_2(e,new ry(n),n.bypassAuthState)}async function H2(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),y2(e,new ry(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return B2;case"linkViaPopup":case"linkViaRedirect":return H2;case"reauthViaPopup":case"reauthViaRedirect":return F2;default:ti(this.auth,"internal-error")}}resolve(t){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new hu(2e3,1e4);async function G2(n,t,e){if(An(n.app))return Promise.reject(bi(n,"operation-not-supported-in-this-environment"));const i=Gr(n);TI(n,t,iy);const r=vT(i,e);return new Na(i,"signInViaPopup",t,r).executeNotNull()}class Na extends bT{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Na.currentPopupAction&&Na.currentPopupAction.cancel(),Na.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const t=sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Na.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,q2.get())};t()}}Na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="pendingRedirect",Ef=new Map;class $2 extends bT{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Ef.get(this.auth._key());if(!t){try{const i=await K2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Ef.set(this.auth._key(),t)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K2(n,t){const e=W2(t),i=Q2(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function X2(n,t){Ef.set(n._key(),t)}function Q2(n){return Ms(n._redirectPersistence)}function W2(n){return wf(Y2,n.config.apiKey,n.name)}async function Z2(n,t,e=!1){if(An(n.app))return Promise.reject(Os(n));const i=Gr(n),r=vT(i,t),c=await new $2(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=600*1e3;class tN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!eN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!xT(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(bi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=J2&&this.cachedEventUids.clear(),this.cachedEventUids.has(sx(t))}saveEventToCache(t){this.cachedEventUids.add(sx(t)),this.lastProcessedEventTime=Date.now()}}function sx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function xT({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function eN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(n,t={}){return qr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sN=/^https?/;async function rN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await nN(n);for(const e of t)try{if(aN(e))return}catch{}ti(n,"unauthorized-domain")}function aN(n){const t=yp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!sN.test(e))return!1;if(iN.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new hu(3e4,6e4);function rx(){const n=Ki().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function lN(n){return new Promise((t,e)=>{function i(){rx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rx(),e(bi(n,"network-request-failed"))},timeout:oN.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)i();else{const r=JI("iframefcb");return Ki()[r]=()=>{gapi.load?i():e(bi(n,"network-request-failed"))},rT(`${ZI()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw Tf=null,t})}let Tf=null;function cN(n){return Tf=Tf||lN(n),Tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new hu(5e3,15e3),hN="__/auth/iframe",fN="emulator/auth/iframe",dN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gN(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Zp(t,fN):`https://${n.config.authDomain}/${hN}`,i={apiKey:t.apiKey,appName:n.name,v:qa},r=mN.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${uu(i).slice(1)}`}async function pN(n){const t=await cN(n),e=Ki().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:gN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=bi(n,"network-request-failed"),h=Ki().setTimeout(()=>{o(c)},uN.get());function f(){Ki().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,vN=600,bN="_blank",xN="http://localhost";class ax{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wN(n,t,e,i=_N,r=vN){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...yN,width:i.toString(),height:r.toString(),top:o,left:c},d=fn().toLowerCase();e&&(h=ZE(d)?bN:e),QE(d)&&(t=t||xN,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[E,A])=>`${b}${E}=${A},`,"");if(HI(d)&&h!=="_self")return EN(t||"",h),new ax(null);const _=window.open(t||"",h,y);wt(_,n,"popup-blocked");try{_.focus()}catch{}return new ax(_)}function EN(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="__/auth/handler",SN="emulator/auth/handler",AN=encodeURIComponent("fac");async function ox(n,t,e,i,r,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:qa,eventId:r};if(t instanceof iy){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",uC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof du){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),d=f?`#${AN}=${encodeURIComponent(f)}`:"";return`${RN(n)}?${uu(h).slice(1)}${d}`}function RN({config:n}){return n.emulator?Zp(n,SN):`https://${n.authDomain}/${TN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class CN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=Z2,this._overrideRedirectResult=X2}async _openPopup(t,e,i,r){Ps(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await ox(t,e,i,yp(),r);return wN(t,o,sy())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await ox(t,e,i,yp(),r);return M2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Ps(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await pN(t),i=new tN(t);return e.register("authEvent",r=>(wt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send($g,{type:$g},r=>{const o=r?.[0]?.[$g];o!==void 0&&e(!!o),ti(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=rN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return iT()||WE()||ty()}}const IN=CN;var lx="@firebase/auth",cx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DN(n){Pa(new kr("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(n)},d=new XI(i,r,o,f);return r2(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Pa(new kr("auth-internal",t=>{const e=Gr(t.getProvider("auth").getImmediate());return(i=>new NN(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(lx,cx,MN(n)),$i(lx,cx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=300,kN=PE("authIdTokenMaxAge")||ON;let ux=null;const VN=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>kN)return;const r=e?.token;ux!==r&&(ux=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function gu(n=Xp()){const t=cd(n,"auth");if(t.isInitialized())return t.getImmediate();const e=s2(n,{popupRedirectResolver:IN,persistence:[z2,C2,mT]}),i=PE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=VN(o.toString());E2(e,c,()=>c(e.currentUser)),w2(e,h=>c(h))}}const r=OE("auth");return r&&a2(e,`http://${r}`),e}function PN(){return document.getElementsByTagName("head")?.[0]??document}QI({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=bi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",PN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DN("Browser");function wT({isDark:n,setIsDark:t}){return T.jsx("div",{className:`flex flex-row items-center justify-center
        `,title:"Switch Theme",onClick:()=>t(e=>!e),children:T.jsx("i",{className:n?"bx bx-sun bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--light-color)] hovered":"bx bx-moon bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--dark-color)] hovered"})})}const Nr="/DriveSense/assets/app-icon-B1NYOGE_.png";function Pe(n=768){const[t,e]=st.useState(typeof window<"u"?window.innerWidth<n:!1);return st.useEffect(()=>{const i=()=>{e(window.innerWidth<n)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),t}var LN="firebase",jN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(LN,jN,"app");var hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,ET;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,R){function D(){}D.prototype=R.prototype,M.F=R.prototype,M.prototype=new D,M.prototype.constructor=M,M.D=function(P,O,j){for(var k=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)k[Dt-2]=arguments[Dt];return R.prototype[O].apply(P,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,R,D){D||(D=0);const P=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)P[O]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(O=0;O<16;++O)P[O]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=M.g[0],D=M.g[1],O=M.g[2];let j=M.g[3],k;k=R+(j^D&(O^j))+P[0]+3614090360&4294967295,R=D+(k<<7&4294967295|k>>>25),k=j+(O^R&(D^O))+P[1]+3905402710&4294967295,j=R+(k<<12&4294967295|k>>>20),k=O+(D^j&(R^D))+P[2]+606105819&4294967295,O=j+(k<<17&4294967295|k>>>15),k=D+(R^O&(j^R))+P[3]+3250441966&4294967295,D=O+(k<<22&4294967295|k>>>10),k=R+(j^D&(O^j))+P[4]+4118548399&4294967295,R=D+(k<<7&4294967295|k>>>25),k=j+(O^R&(D^O))+P[5]+1200080426&4294967295,j=R+(k<<12&4294967295|k>>>20),k=O+(D^j&(R^D))+P[6]+2821735955&4294967295,O=j+(k<<17&4294967295|k>>>15),k=D+(R^O&(j^R))+P[7]+4249261313&4294967295,D=O+(k<<22&4294967295|k>>>10),k=R+(j^D&(O^j))+P[8]+1770035416&4294967295,R=D+(k<<7&4294967295|k>>>25),k=j+(O^R&(D^O))+P[9]+2336552879&4294967295,j=R+(k<<12&4294967295|k>>>20),k=O+(D^j&(R^D))+P[10]+4294925233&4294967295,O=j+(k<<17&4294967295|k>>>15),k=D+(R^O&(j^R))+P[11]+2304563134&4294967295,D=O+(k<<22&4294967295|k>>>10),k=R+(j^D&(O^j))+P[12]+1804603682&4294967295,R=D+(k<<7&4294967295|k>>>25),k=j+(O^R&(D^O))+P[13]+4254626195&4294967295,j=R+(k<<12&4294967295|k>>>20),k=O+(D^j&(R^D))+P[14]+2792965006&4294967295,O=j+(k<<17&4294967295|k>>>15),k=D+(R^O&(j^R))+P[15]+1236535329&4294967295,D=O+(k<<22&4294967295|k>>>10),k=R+(O^j&(D^O))+P[1]+4129170786&4294967295,R=D+(k<<5&4294967295|k>>>27),k=j+(D^O&(R^D))+P[6]+3225465664&4294967295,j=R+(k<<9&4294967295|k>>>23),k=O+(R^D&(j^R))+P[11]+643717713&4294967295,O=j+(k<<14&4294967295|k>>>18),k=D+(j^R&(O^j))+P[0]+3921069994&4294967295,D=O+(k<<20&4294967295|k>>>12),k=R+(O^j&(D^O))+P[5]+3593408605&4294967295,R=D+(k<<5&4294967295|k>>>27),k=j+(D^O&(R^D))+P[10]+38016083&4294967295,j=R+(k<<9&4294967295|k>>>23),k=O+(R^D&(j^R))+P[15]+3634488961&4294967295,O=j+(k<<14&4294967295|k>>>18),k=D+(j^R&(O^j))+P[4]+3889429448&4294967295,D=O+(k<<20&4294967295|k>>>12),k=R+(O^j&(D^O))+P[9]+568446438&4294967295,R=D+(k<<5&4294967295|k>>>27),k=j+(D^O&(R^D))+P[14]+3275163606&4294967295,j=R+(k<<9&4294967295|k>>>23),k=O+(R^D&(j^R))+P[3]+4107603335&4294967295,O=j+(k<<14&4294967295|k>>>18),k=D+(j^R&(O^j))+P[8]+1163531501&4294967295,D=O+(k<<20&4294967295|k>>>12),k=R+(O^j&(D^O))+P[13]+2850285829&4294967295,R=D+(k<<5&4294967295|k>>>27),k=j+(D^O&(R^D))+P[2]+4243563512&4294967295,j=R+(k<<9&4294967295|k>>>23),k=O+(R^D&(j^R))+P[7]+1735328473&4294967295,O=j+(k<<14&4294967295|k>>>18),k=D+(j^R&(O^j))+P[12]+2368359562&4294967295,D=O+(k<<20&4294967295|k>>>12),k=R+(D^O^j)+P[5]+4294588738&4294967295,R=D+(k<<4&4294967295|k>>>28),k=j+(R^D^O)+P[8]+2272392833&4294967295,j=R+(k<<11&4294967295|k>>>21),k=O+(j^R^D)+P[11]+1839030562&4294967295,O=j+(k<<16&4294967295|k>>>16),k=D+(O^j^R)+P[14]+4259657740&4294967295,D=O+(k<<23&4294967295|k>>>9),k=R+(D^O^j)+P[1]+2763975236&4294967295,R=D+(k<<4&4294967295|k>>>28),k=j+(R^D^O)+P[4]+1272893353&4294967295,j=R+(k<<11&4294967295|k>>>21),k=O+(j^R^D)+P[7]+4139469664&4294967295,O=j+(k<<16&4294967295|k>>>16),k=D+(O^j^R)+P[10]+3200236656&4294967295,D=O+(k<<23&4294967295|k>>>9),k=R+(D^O^j)+P[13]+681279174&4294967295,R=D+(k<<4&4294967295|k>>>28),k=j+(R^D^O)+P[0]+3936430074&4294967295,j=R+(k<<11&4294967295|k>>>21),k=O+(j^R^D)+P[3]+3572445317&4294967295,O=j+(k<<16&4294967295|k>>>16),k=D+(O^j^R)+P[6]+76029189&4294967295,D=O+(k<<23&4294967295|k>>>9),k=R+(D^O^j)+P[9]+3654602809&4294967295,R=D+(k<<4&4294967295|k>>>28),k=j+(R^D^O)+P[12]+3873151461&4294967295,j=R+(k<<11&4294967295|k>>>21),k=O+(j^R^D)+P[15]+530742520&4294967295,O=j+(k<<16&4294967295|k>>>16),k=D+(O^j^R)+P[2]+3299628645&4294967295,D=O+(k<<23&4294967295|k>>>9),k=R+(O^(D|~j))+P[0]+4096336452&4294967295,R=D+(k<<6&4294967295|k>>>26),k=j+(D^(R|~O))+P[7]+1126891415&4294967295,j=R+(k<<10&4294967295|k>>>22),k=O+(R^(j|~D))+P[14]+2878612391&4294967295,O=j+(k<<15&4294967295|k>>>17),k=D+(j^(O|~R))+P[5]+4237533241&4294967295,D=O+(k<<21&4294967295|k>>>11),k=R+(O^(D|~j))+P[12]+1700485571&4294967295,R=D+(k<<6&4294967295|k>>>26),k=j+(D^(R|~O))+P[3]+2399980690&4294967295,j=R+(k<<10&4294967295|k>>>22),k=O+(R^(j|~D))+P[10]+4293915773&4294967295,O=j+(k<<15&4294967295|k>>>17),k=D+(j^(O|~R))+P[1]+2240044497&4294967295,D=O+(k<<21&4294967295|k>>>11),k=R+(O^(D|~j))+P[8]+1873313359&4294967295,R=D+(k<<6&4294967295|k>>>26),k=j+(D^(R|~O))+P[15]+4264355552&4294967295,j=R+(k<<10&4294967295|k>>>22),k=O+(R^(j|~D))+P[6]+2734768916&4294967295,O=j+(k<<15&4294967295|k>>>17),k=D+(j^(O|~R))+P[13]+1309151649&4294967295,D=O+(k<<21&4294967295|k>>>11),k=R+(O^(D|~j))+P[4]+4149444226&4294967295,R=D+(k<<6&4294967295|k>>>26),k=j+(D^(R|~O))+P[11]+3174756917&4294967295,j=R+(k<<10&4294967295|k>>>22),k=O+(R^(j|~D))+P[2]+718787259&4294967295,O=j+(k<<15&4294967295|k>>>17),k=D+(j^(O|~R))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+j&4294967295}i.prototype.v=function(M,R){R===void 0&&(R=M.length);const D=R-this.blockSize,P=this.C;let O=this.h,j=0;for(;j<R;){if(O==0)for(;j<=D;)r(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<R;)if(P[O++]=M.charCodeAt(j++),O==this.blockSize){r(this,P),O=0;break}}else for(;j<R;)if(P[O++]=M[j++],O==this.blockSize){r(this,P),O=0;break}}this.h=O,this.o+=R},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;R=this.o*8;for(var D=M.length-8;D<M.length;++D)M[D]=R&255,R/=256;for(this.v(M),M=Array(16),R=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)M[R++]=this.g[D]>>>P&255;return M};function o(M,R){var D=h;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=R(M)}function c(M,R){this.h=R;const D=[];let P=!0;for(let O=M.length-1;O>=0;O--){const j=M[O]|0;P&&j==R||(D[O]=j,P=!1)}this.g=D}var h={};function f(M){return-128<=M&&M<128?o(M,function(R){return new c([R|0],R<0?-1:0)}):new c([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(M<0)return N(d(-M));const R=[];let D=1;for(let P=0;M>=D;P++)R[P]=M/D|0,D*=4294967296;return new c(R,0)}function y(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return N(y(M.substring(1),R));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(R,8));let P=_;for(let j=0;j<M.length;j+=8){var O=Math.min(8,M.length-j);const k=parseInt(M.substring(j,j+O),R);O<8?(O=d(Math.pow(R,O)),P=P.j(O).add(d(k))):(P=P.j(D),P=P.add(d(k)))}return P}var _=f(0),b=f(1),E=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-N(this).m();let M=0,R=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);M+=(P>=0?P:4294967296+P)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(C(this))return"-"+N(this).toString(M);const R=d(Math.pow(M,6));var D=this;let P="";for(;;){const O=Z(D,R).g;D=L(D,O.j(R));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(M);if(D=O,A(D))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(let R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function C(M){return M.h==-1}n.l=function(M){return M=L(this,M),C(M)?-1:A(M)?0:1};function N(M){const R=M.g.length,D=[];for(let P=0;P<R;P++)D[P]=~M.g[P];return new c(D,~M.h).add(b)}n.abs=function(){return C(this)?N(this):this},n.add=function(M){const R=Math.max(this.g.length,M.g.length),D=[];let P=0;for(let O=0;O<=R;O++){let j=P+(this.i(O)&65535)+(M.i(O)&65535),k=(j>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);P=k>>>16,j&=65535,k&=65535,D[O]=k<<16|j}return new c(D,D[D.length-1]&-2147483648?-1:0)};function L(M,R){return M.add(N(R))}n.j=function(M){if(A(this)||A(M))return _;if(C(this))return C(M)?N(this).j(N(M)):N(N(this).j(M));if(C(M))return N(this.j(N(M)));if(this.l(E)<0&&M.l(E)<0)return d(this.m()*M.m());const R=this.g.length+M.g.length,D=[];for(var P=0;P<2*R;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<M.g.length;O++){const j=this.i(P)>>>16,k=this.i(P)&65535,Dt=M.i(O)>>>16,Tt=M.i(O)&65535;D[2*P+2*O]+=k*Tt,F(D,2*P+2*O),D[2*P+2*O+1]+=j*Tt,F(D,2*P+2*O+1),D[2*P+2*O+1]+=k*Dt,F(D,2*P+2*O+1),D[2*P+2*O+2]+=j*Dt,F(D,2*P+2*O+2)}for(M=0;M<R;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=R;M<2*R;M++)D[M]=0;return new c(D,0)};function F(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function H(M,R){this.g=M,this.h=R}function Z(M,R){if(A(R))throw Error("division by zero");if(A(M))return new H(_,_);if(C(M))return R=Z(N(M),R),new H(N(R.g),N(R.h));if(C(R))return R=Z(M,N(R)),new H(N(R.g),R.h);if(M.g.length>30){if(C(M)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var D=b,P=R;P.l(M)<=0;)D=Q(D),P=Q(P);var O=rt(D,1),j=rt(P,1);for(P=rt(P,2),D=rt(D,2);!A(P);){var k=j.add(P);k.l(M)<=0&&(O=O.add(D),j=k),P=rt(P,1),D=rt(D,1)}return R=L(M,O.j(R)),new H(O,R)}for(O=_;M.l(R)>=0;){for(D=Math.max(1,Math.floor(M.m()/R.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=d(D),k=j.j(R);C(k)||k.l(M)>0;)D-=P,j=d(D),k=j.j(R);A(j)&&(j=b),O=O.add(j),M=L(M,k)}return new H(O,M)}n.B=function(M){return Z(this,M).h},n.and=function(M){const R=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<R;P++)D[P]=this.i(P)&M.i(P);return new c(D,this.h&M.h)},n.or=function(M){const R=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<R;P++)D[P]=this.i(P)|M.i(P);return new c(D,this.h|M.h)},n.xor=function(M){const R=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<R;P++)D[P]=this.i(P)^M.i(P);return new c(D,this.h^M.h)};function Q(M){const R=M.g.length+1,D=[];for(let P=0;P<R;P++)D[P]=M.i(P)<<1|M.i(P-1)>>>31;return new c(D,M.h)}function rt(M,R){const D=R>>5;R%=32;const P=M.g.length-D,O=[];for(let j=0;j<P;j++)O[j]=R>0?M.i(j+D)>>>R|M.i(j+D+1)<<32-R:M.i(j+D);return new c(O,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ET=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=y,Mr=c}).apply(typeof hx<"u"?hx:typeof self<"u"?self:typeof window<"u"?window:{});var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TT,Ic,ST,Sf,xp,AT,RT,CT;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jh=="object"&&Jh];for(var v=0;v<m.length;++v){var w=m[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=e(this);function r(m,v){if(v)t:{var w=i;m=m.split(".");for(var I=0;I<m.length-1;I++){var q=m[I];if(!(q in w))break t;w=w[q]}m=m[m.length-1],I=w[m],v=v(I),v!=I&&v!=null&&t(w,m,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(v){var w=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&w.push([I,v[I]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(m){var v=typeof m;return v=="object"&&m!=null||v=="function"}function f(m,v,w){return m.call.apply(m.bind,arguments)}function d(m,v,w){return d=f,d.apply(null,arguments)}function y(m,v){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),m.apply(this,I)}}function _(m,v){function w(){}w.prototype=v.prototype,m.Z=v.prototype,m.prototype=new w,m.prototype.constructor=m,m.Ob=function(I,q,X){for(var lt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)lt[Ct-2]=arguments[Ct];return v.prototype[q].apply(I,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const v=m.length;if(v>0){const w=Array(v);for(let I=0;I<v;I++)w[I]=m[I];return w}return[]}function A(m,v){for(let I=1;I<arguments.length;I++){const q=arguments[I];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=m.length||0;const X=q.length||0;m.length=w+X;for(let lt=0;lt<X;lt++)m[w+lt]=q[lt]}else m.push(q)}}class C{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(m){c.setTimeout(()=>{throw m},0)}function L(){var m=M;let v=null;return m.g&&(v=m.g,m.g=m.g.next,m.g||(m.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,w){const I=H.get();I.set(v,w),this.h?this.h.next=I:this.g=I,this.h=I}}var H=new C(()=>new Z,m=>m.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,rt=!1,M=new F,R=()=>{const m=Promise.resolve(void 0);Q=()=>{m.then(D)}};function D(){for(var m;m=L();){try{m.h.call(m.g)}catch(w){N(w)}var v=H;v.j(m),v.h<100&&(v.h++,m.next=v.g,v.g=m)}rt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(m,v){this.type=m,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,v=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const w=()=>{};c.addEventListener("test",w,v),c.removeEventListener("test",w,v)}catch{}return m})();function k(m){return/^[\s\xa0]*$/.test(m)}function Dt(m,v){O.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,v)}_(Dt,O),Dt.prototype.init=function(m,v){const w=this.type=m.type,I=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=v,v=m.relatedTarget,v||(w=="mouseover"?v=m.fromElement:w=="mouseout"&&(v=m.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),K=0;function ot(m,v,w,I,q){this.listener=m,this.proxy=null,this.src=v,this.type=w,this.capture=!!I,this.ha=q,this.key=++K,this.da=this.fa=!1}function ft(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function bt(m,v,w){for(const I in m)v.call(w,m[I],I,m)}function Vt(m,v){for(const w in m)v.call(void 0,m[w],w,m)}function U(m){const v={};for(const w in m)v[w]=m[w];return v}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(m,v){let w,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(w in I)m[w]=I[w];for(let X=0;X<tt.length;X++)w=tt[X],Object.prototype.hasOwnProperty.call(I,w)&&(m[w]=I[w])}}function ut(m){this.src=m,this.g={},this.h=0}ut.prototype.add=function(m,v,w,I,q){const X=m.toString();m=this.g[X],m||(m=this.g[X]=[],this.h++);const lt=xt(m,v,I,q);return lt>-1?(v=m[lt],w||(v.fa=!1)):(v=new ot(v,this.src,X,!!I,q),v.fa=w,m.push(v)),v};function _t(m,v){const w=v.type;if(w in m.g){var I=m.g[w],q=Array.prototype.indexOf.call(I,v,void 0),X;(X=q>=0)&&Array.prototype.splice.call(I,q,1),X&&(ft(v),m.g[w].length==0&&(delete m.g[w],m.h--))}}function xt(m,v,w,I){for(let q=0;q<m.length;++q){const X=m[q];if(!X.da&&X.listener==v&&X.capture==!!w&&X.ha==I)return q}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Le={};function fe(m,v,w,I,q){if(Array.isArray(v)){for(let X=0;X<v.length;X++)fe(m,v[X],w,I,q);return null}return w=_l(w),m&&m[Tt]?m.J(v,w,h(I)?!!I.capture:!1,q):$r(m,v,w,!1,I,q)}function $r(m,v,w,I,q,X){if(!v)throw Error("Invalid event type");const lt=h(q)?!!q.capture:!!q;let Ct=Kr(m);if(Ct||(m[Ft]=Ct=new ut(m)),w=Ct.add(v,w,I,lt,X),w.proxy)return w;if(I=Wa(),w.proxy=I,I.src=m,I.listener=w,m.addEventListener)j||(q=lt),q===void 0&&(q=!1),m.addEventListener(v.toString(),I,q);else if(m.attachEvent)m.attachEvent(xi(v.toString()),I);else if(m.addListener&&m.removeListener)m.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Wa(){function m(w){return v.call(m.src,m.listener,w)}const v=pl;return m}function Za(m,v,w,I,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)Za(m,v[X],w,I,q);else I=h(I)?!!I.capture:!!I,w=_l(w),m&&m[Tt]?(m=m.i,X=String(v).toString(),X in m.g&&(v=m.g[X],w=xt(v,w,I,q),w>-1&&(ft(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete m.g[X],m.h--)))):m&&(m=Kr(m))&&(v=m.g[v.toString()],m=-1,v&&(m=xt(v,w,I,q)),(w=m>-1?v[m]:null)&&Ja(w))}function Ja(m){if(typeof m!="number"&&m&&!m.da){var v=m.src;if(v&&v[Tt])_t(v.i,m);else{var w=m.type,I=m.proxy;v.removeEventListener?v.removeEventListener(w,I,m.capture):v.detachEvent?v.detachEvent(xi(w),I):v.addListener&&v.removeListener&&v.removeListener(I),(w=Kr(v))?(_t(w,m),w.h==0&&(w.src=null,v[Ft]=null)):ft(m)}}}function xi(m){return m in Le?Le[m]:Le[m]="on"+m}function pl(m,v){if(m.da)m=!0;else{v=new Dt(v,this);const w=m.listener,I=m.ha||m.src;m.fa&&Ja(m),m=w.call(I,v)}return m}function Kr(m){return m=m[Ft],m instanceof ut?m:null}var yl="__closure_events_fn_"+(Math.random()*1e9>>>0);function _l(m){return typeof m=="function"?m:(m[yl]||(m[yl]=function(v){return m.handleEvent(v)}),m[yl])}function Se(){P.call(this),this.i=new ut(this),this.M=this,this.G=null}_(Se,P),Se.prototype[Tt]=!0,Se.prototype.removeEventListener=function(m,v,w,I){Za(this,m,v,w,I)};function je(m,v){var w,I=m.G;if(I)for(w=[];I;I=I.G)w.push(I);if(m=m.M,I=v.type||v,typeof v=="string")v=new O(v,m);else if(v instanceof O)v.target=v.target||m;else{var q=v;v=new O(I,m),ct(v,q)}q=!0;let X,lt;if(w)for(lt=w.length-1;lt>=0;lt--)X=v.g=w[lt],q=zs(X,I,!0,v)&&q;if(X=v.g=m,q=zs(X,I,!0,v)&&q,q=zs(X,I,!1,v)&&q,w)for(lt=0;lt<w.length;lt++)X=v.g=w[lt],q=zs(X,I,!1,v)&&q}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var m=this.i;for(const v in m.g){const w=m.g[v];for(let I=0;I<w.length;I++)ft(w[I]);delete m.g[v],m.h--}}this.G=null},Se.prototype.J=function(m,v,w,I){return this.i.add(String(m),v,!1,w,I)},Se.prototype.K=function(m,v,w,I){return this.i.add(String(m),v,!0,w,I)};function zs(m,v,w,I){if(v=m.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let X=0;X<v.length;++X){const lt=v[X];if(lt&&!lt.da&&lt.capture==w){const Ct=lt.listener,be=lt.ha||lt.src;lt.fa&&_t(m.i,lt),q=Ct.call(be,I)!==!1&&q}}return q&&!I.defaultPrevented}function Ld(m,v){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(m,v||0)}function Eu(m){m.g=Ld(()=>{m.g=null,m.i&&(m.i=!1,Eu(m))},m.l);const v=m.h;m.h=null,m.m.apply(null,v)}class dn extends P{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(m){P.call(this),this.h=m,this.g={}}_(Xr,P);var vl=[];function bl(m){bt(m.g,function(v,w){this.g.hasOwnProperty(w)&&Ja(v)},m),m.g={}}Xr.prototype.N=function(){Xr.Z.N.call(this),bl(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bs=c.JSON.stringify,jd=c.JSON.parse,Tu=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Su(){}function Au(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){O.call(this,"d")}_(Xe,O);function Ln(){O.call(this,"c")}_(Ln,O);var ve={},Ru=null;function to(){return Ru=Ru||new Se}ve.Ia="serverreachability";function Cu(m){O.call(this,ve.Ia,m)}_(Cu,O);function wi(m){const v=to();je(v,new Cu(v))}ve.STAT_EVENT="statevent";function Qr(m,v){O.call(this,ve.STAT_EVENT,m),this.stat=v}_(Qr,O);function Ae(m){const v=to();je(v,new Qr(v,m))}ve.Ja="timingevent";function Ei(m,v){O.call(this,ve.Ja,m),this.size=v}_(Ei,O);function Ti(m,v){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},v)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Ud(m,v,w,I,q,X){m.info(function(){if(m.g)if(X){var lt="",Ct=X.split("&");for(let $t=0;$t<Ct.length;$t++){var be=Ct[$t].split("=");if(be.length>1){const de=be[0];be=be[1];const Bn=de.split("_");lt=Bn.length>=2&&Bn[1]=="type"?lt+(de+"="+be+"&"):lt+(de+"=redacted&")}}}else lt=null;else lt=X;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+v+`
`+w+`
`+lt})}function Iu(m,v,w,I,q,X,lt){m.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+v+`
`+w+`
`+X+" "+lt})}function Si(m,v,w,I){m.info(function(){return"XMLHTTP TEXT ("+v+"): "+zd(m,w)+(I?" "+I:"")})}function Wr(m,v){m.info(function(){return"TIMEOUT: "+v})}ri.prototype.info=function(){};function zd(m,v){if(!m.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(m=0;m<X.length;m++)if(Array.isArray(X[m])){var w=X[m];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var q=I[0];if(q!="noop"&&q!="stop"&&q!="close")for(let lt=1;lt<I.length;lt++)I[lt]=""}}}}return Bs(X)}catch{return v}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wl;function Jr(){}_(Jr,Su),Jr.prototype.g=function(){return new XMLHttpRequest},wl=new Jr;function as(m){return encodeURIComponent(String(m))}function Nu(m){var v=1;m=m.split(":");const w=[];for(;v>0&&m.length;)w.push(m.shift()),v--;return m.length&&w.push(m.join(":")),w}function ai(m,v,w,I){this.j=m,this.i=v,this.l=w,this.S=I||1,this.V=new Xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Re={},Ge={};function Ai(m,v,w){m.M=1,m.A=ta(Ie(v)),m.u=w,m.R=!0,eo(m,null)}function eo(m,v){m.F=Date.now(),Ri(m),m.B=Ie(m.A);var w=m.B,I=m.S;Array.isArray(I)||(I=[String(I)]),ro(w.i,"t",I),m.C=0,w=m.j.L,m.h=new oi,m.g=Gu(m.j,w?v:null,!m.u),m.P>0&&(m.O=new dn(d(m.Y,m,m.g),m.P)),v=m.V,w=m.g,I=m.ba;var q="readystatechange";Array.isArray(q)||(q&&(vl[0]=q.toString()),q=vl);for(let X=0;X<q.length;X++){const lt=fe(w,q[X],I||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=m.J?U(m.J):{},m.u?(m.v||(m.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,v)):(m.v="GET",m.g.ea(m.B,m.v,null,v)),wi(),Ud(m.i,m.v,m.B,m.l,m.S,m.u)}ai.prototype.ba=function(m){m=m.target;const v=this.O;v&&ui(m)==3?v.j():this.Y(m)},ai.prototype.Y=function(m){try{if(m==this.g)t:{const Ct=ui(this.g),be=this.g.ya(),$t=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Ct!=4||be==7||(be==8||$t<=0?wi(3):wi(2)),Ci(this);var v=this.g.ca();this.X=v;var w=Bd(this);if(this.o=v==200,Iu(this.i,this.v,this.B,this.l,this.S,Ct,v),this.o){if(this.U&&!this.L){e:{if(this.g){var I,q=this.g;if((I=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var X=I;break e}}X=null}if(m=X)Si(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,m);else{this.o=!1,this.m=3,Ae(12),Cn(this),jn(this);break t}}if(this.R){m=!0;let de;for(;!this.K&&this.C<w.length;)if(de=Du(this,w),de==Ge){Ct==4&&(this.m=4,Ae(14),m=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Re){this.m=4,Ae(15),Si(this.i,this.l,w,"[Invalid Chunk]"),m=!1;break}else Si(this.i,this.l,de,null),Ii(this,de);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||w.length!=0||this.h.h||(this.m=1,Ae(16),m=!1),this.o=this.o&&m,!m)Si(this.i,this.l,w,"[Invalid Chunked Response]"),Cn(this),jn(this);else if(w.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Ll(lt),lt.P=!0,Ae(11))}}else Si(this.i,this.l,w,null),Ii(this,w);Ct==4&&Cn(this),this.o&&!this.K&&(Ct==4?Bu(this.j,this):(this.o=!1,Ri(this)))}else ls(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Cn(this),jn(this)}}}catch{}finally{}};function Bd(m){if(!Mu(m))return m.g.la();const v=Qe(m.g);if(v==="")return"";let w="";const I=v.length,q=ui(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Cn(m),jn(m),"";m.h.i=new c.TextDecoder}for(let X=0;X<I;X++)m.h.h=!0,w+=m.h.i.decode(v[X],{stream:!(q&&X==I-1)});return v.length=0,m.h.g+=w,m.C=0,m.h.g}function Mu(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Du(m,v){var w=m.C,I=v.indexOf(`
`,w);return I==-1?Ge:(w=Number(v.substring(w,I)),isNaN(w)?Re:(I+=1,I+w>v.length?Ge:(v=v.slice(I,I+w),m.C=I+w,v)))}ai.prototype.cancel=function(){this.K=!0,Cn(this)};function Ri(m){m.T=Date.now()+m.H,no(m,m.H)}function no(m,v){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ti(d(m.aa,m),v)}function Ci(m){m.D&&(c.clearTimeout(m.D),m.D=null)}ai.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(wi(),Ae(17)),Cn(this),this.m=2,jn(this)):no(this,this.T-m)};function jn(m){m.j.I==0||m.K||Bu(m.j,m)}function Cn(m){Ci(m);var v=m.O;v&&typeof v.dispose=="function"&&v.dispose(),m.O=null,bl(m.V),m.g&&(v=m.g,m.g=null,v.abort(),v.dispose())}function Ii(m,v){try{var w=m.j;if(w.I!=0&&(w.g==m||Mi(w.h,m))){if(!m.L&&Mi(w.h,m)&&w.I==3){try{var I=w.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){t:if(!w.v){if(w.g)if(w.g.F+3e3<m.F)uo(w),Xs(w);else break t;oa(w),Ae(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Ti(d(w.Va,w),6e3));Ni(w.h)<=1&&w.ta&&(w.ta=void 0)}else Li(w,11)}else if((m.L||w.g==m)&&uo(w),!k(v))for(q=w.Ba.g.parse(v),v=0;v<q.length;v++){let $t=q[v];const de=$t[0];if(!(de<=w.K))if(w.K=de,$t=$t[1],w.I==2)if($t[0]=="c"){w.M=$t[1],w.ba=$t[2];const Bn=$t[3];Bn!=null&&(w.ka=Bn,w.j.info("VER="+w.ka));const ji=$t[4];ji!=null&&(w.za=ji,w.j.info("SVER="+w.za));const hi=$t[5];hi!=null&&typeof hi=="number"&&hi>0&&(I=1.5*hi,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const fi=m.g;if(fi){const la=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var X=I.h;X.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Sl(X,X.h),X.h=null))}if(I.G){const ho=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(I.wa=ho,Wt(I.J,I.G,ho))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-m.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var lt=m;if(I.na=qu(I,I.L?I.ba:null,I.W),lt.L){Al(I.h,lt);var Ct=lt,be=I.O;be&&(Ct.H=be),Ct.D&&(Ci(Ct),Ri(Ct)),I.g=lt}else Uu(I);w.i.length>0&&Pi(w)}else $t[0]!="stop"&&$t[0]!="close"||Li(w,7);else w.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Li(w,7):Vl(w):$t[0]!="noop"&&w.l&&w.l.qa($t),w.A=0)}}wi(4)}catch{}}var Ce=class{constructor(m,v){this.g=m,this.map=v}};function El(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ni(m){return m.h?1:m.g?m.g.size:0}function Mi(m,v){return m.h?m.h==v:m.g?m.g.has(v):!1}function Sl(m,v){m.g?m.g.add(v):m.h=v}function Al(m,v){m.h&&m.h==v?m.h=null:m.g&&m.g.has(v)&&m.g.delete(v)}El.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Rl(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let v=m.i;for(const w of m.g.values())v=v.concat(w.G);return v}return E(m.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(m,v){if(m){m=m.split("&");for(let w=0;w<m.length;w++){const I=m[w].indexOf("=");let q,X=null;I>=0?(q=m[w].substring(0,I),X=m[w].substring(I+1)):q=m[w],v(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function In(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;m instanceof In?(this.l=m.l,Ye(this,m.j),this.o=m.o,this.g=m.g,Fs(this,m.u),this.h=m.h,Cl(this,Lu(m.i)),this.m=m.m):m&&(v=String(m).match(Ou))?(this.l=!1,Ye(this,v[1]||"",!0),this.o=Di(v[2]||""),this.g=Di(v[3]||"",!0),Fs(this,v[4]),this.h=Di(v[5]||"",!0),Cl(this,v[6]||"",!0),this.m=Di(v[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}In.prototype.toString=function(){const m=[];var v=this.j;v&&m.push(ea(v,so,!0),":");var w=this.g;return(w||v=="file")&&(m.push("//"),(v=this.o)&&m.push(ea(v,so,!0),"@"),m.push(as(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&m.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&m.push("/"),m.push(ea(w,w.charAt(0)=="/"?Il:ku,!0))),(w=this.i.toString())&&m.push("?",w),(w=this.m)&&m.push("#",ea(w,Vu)),m.join("")},In.prototype.resolve=function(m){const v=Ie(this);let w=!!m.j;w?Ye(v,m.j):w=!!m.o,w?v.o=m.o:w=!!m.g,w?v.g=m.g:w=m.u!=null;var I=m.h;if(w)Fs(v,m.u);else if(w=!!m.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var q=v.h.lastIndexOf("/");q!=-1&&(I=v.h.slice(0,q+1)+I)}if(q=I,q==".."||q==".")I="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){I=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let lt=0;lt<q.length;){const Ct=q[lt++];Ct=="."?I&&lt==q.length&&X.push(""):Ct==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),I&&lt==q.length&&X.push("")):(X.push(Ct),I=!0)}I=X.join("/")}else I=q}return w?v.h=I:w=m.i.toString()!=="",w?Cl(v,Lu(m.i)):w=!!m.m,w&&(v.m=m.m),v};function Ie(m){return new In(m)}function Ye(m,v,w){m.j=w?Di(v,!0):v,m.j&&(m.j=m.j.replace(/:$/,""))}function Fs(m,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);m.u=v}else m.u=null}function Cl(m,v,w){v instanceof qs?(m.i=v,ao(m.i,m.l)):(w||(v=ea(v,Hs)),m.i=new qs(v,m.l))}function Wt(m,v,w){m.i.set(v,w)}function ta(m){return Wt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Di(m,v){return m?v?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ea(m,v,w){return typeof m=="string"?(m=encodeURI(m).replace(v,yn),w&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function yn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var so=/[#\/\?@]/g,ku=/[#\?:]/g,Il=/[#\?]/g,Hs=/[#\?@]/g,Vu=/#/g;function qs(m,v){this.h=this.g=null,this.i=m||null,this.j=!!v}function _n(m){m.g||(m.g=new Map,m.h=0,m.i&&io(m.i,function(v,w){m.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=qs.prototype,n.add=function(m,v){_n(this),this.i=null,m=Gs(this,m);let w=this.g.get(m);return w||this.g.set(m,w=[]),w.push(v),this.h+=1,this};function Pu(m,v){_n(m),v=Gs(m,v),m.g.has(v)&&(m.i=null,m.h-=m.g.get(v).length,m.g.delete(v))}function Nl(m,v){return _n(m),v=Gs(m,v),m.g.has(v)}n.forEach=function(m,v){_n(this),this.g.forEach(function(w,I){w.forEach(function(q){m.call(v,q,I,this)},this)},this)};function Ml(m,v){_n(m);let w=[];if(typeof v=="string")Nl(m,v)&&(w=w.concat(m.g.get(Gs(m,v))));else for(m=Array.from(m.g.values()),v=0;v<m.length;v++)w=w.concat(m[v]);return w}n.set=function(m,v){return _n(this),this.i=null,m=Gs(this,m),Nl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[v]),this.h+=1,this},n.get=function(m,v){return m?(m=Ml(this,m),m.length>0?String(m[0]):v):v};function ro(m,v,w){Pu(m,v),w.length>0&&(m.i=null,m.g.set(Gs(m,v),E(w)),m.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var w=v[I];const q=as(w);w=Ml(this,w);for(let X=0;X<w.length;X++){let lt=q;w[X]!==""&&(lt+="="+as(w[X])),m.push(lt)}}return this.i=m.join("&")};function Lu(m){const v=new qs;return v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),v}function Gs(m,v){return v=String(v),m.j&&(v=v.toLowerCase()),v}function ao(m,v){v&&!m.j&&(_n(m),m.i=null,m.g.forEach(function(w,I){const q=I.toLowerCase();I!=q&&(Pu(this,I),ro(this,q,w))},m)),m.j=v}function li(m,v){const w=new ri;if(c.Image){const I=new Image;I.onload=y(Un,w,"TestLoadImage: loaded",!0,v,I),I.onerror=y(Un,w,"TestLoadImage: error",!1,v,I),I.onabort=y(Un,w,"TestLoadImage: abort",!1,v,I),I.ontimeout=y(Un,w,"TestLoadImage: timeout",!1,v,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=m}else v(!1)}function Dl(m,v){const w=new ri,I=new AbortController,q=setTimeout(()=>{I.abort(),Un(w,"TestPingServer: timeout",!1,v)},1e4);fetch(m,{signal:I.signal}).then(X=>{clearTimeout(q),X.ok?Un(w,"TestPingServer: ok",!0,v):Un(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Un(w,"TestPingServer: error",!1,v)})}function Un(m,v,w,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(w)}catch{}}function Ys(){this.g=new Tu}function Oi(m){this.i=m.Sb||null,this.h=m.ab||!1}_(Oi,Su),Oi.prototype.g=function(){return new na(this.i,this.h)};function na(m,v){Se.call(this),this.H=m,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(na,Se),n=na.prototype,n.open=function(m,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=v,this.readyState=1,ci(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(v.body=m),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function oo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var v=m.value?m.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!m.done}))&&(this.response=this.responseText+=v)}m.done?$s(this):ci(this),this.readyState==3&&oo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,$s(this))},n.Na=function(m){this.g&&(this.response=m,$s(this))},n.ga=function(){this.g&&$s(this)};function $s(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ci(m)}n.setRequestHeader=function(m,v){this.A.append(m,v)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,m.push(w[0]+": "+w[1]),w=v.next();return m.join(`\r
`)};function ci(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function zn(m){let v="";return bt(m,function(w,I){v+=I,v+=":",v+=w,v+=`\r
`}),v}function ia(m,v,w){t:{for(I in w){var I=!1;break t}I=!0}I||(w=zn(w),typeof m=="string"?w!=null&&as(w):Wt(m,v,w))}function ne(m){Se.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ne,Se);var ki=/^https?$/i,Ol=["POST","PUT"];n=ne.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,v,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);v=v?v.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wl.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(v,String(m),!0),this.B=!1}catch(X){sa(this,X);return}if(m=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)w.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())w.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Ol,v,void 0)>=0)||I||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,lt]of w)this.g.setRequestHeader(X,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(X){sa(this,X)}};function sa(m,v){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=v,m.o=5,kl(m),os(m)}function kl(m){m.A||(m.A=!0,je(m,"complete"),je(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,je(this,"complete"),je(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ra(this):this.Xa())},n.Xa=function(){ra(this)};function ra(m){if(m.h&&typeof o<"u"){if(m.v&&ui(m)==4)setTimeout(m.Ca.bind(m),0);else if(je(m,"readystatechange"),ui(m)==4){m.h=!1;try{const X=m.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var I;if(I=X===0){let lt=String(m.D).match(Ou)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),I=!ki.test(lt?lt.toLowerCase():"")}w=I}if(w)je(m,"complete"),je(m,"success");else{m.o=6;try{var q=ui(m)>2?m.g.statusText:""}catch{q=""}m.l=q+" ["+m.ca()+"]",kl(m)}}finally{os(m)}}}}function os(m,v){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const w=m.g;m.g=null,v||je(m,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ui(m){return m.g?m.g.readyState:0}n.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var v=this.g.responseText;return m&&v.indexOf(m)==0&&(v=v.substring(m.length)),jd(v)}};function Qe(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(m){const v={};m=(m.g&&ui(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<m.length;I++){if(k(m[I]))continue;var w=Nu(m[I]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=v[q]||[];v[q]=X,X.push(w)}Vt(v,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(m,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[m]||v}function Ks(m){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,m),this.Za=Vi("retryDelaySeedMs",1e4,m),this.Ta=Vi("forwardChannelMaxRetries",2,m),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new El(m&&m.concurrentRequestLimit),this.Ba=new Ys,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ks.prototype,n.ka=8,n.I=1,n.connect=function(m,v,w,I){Ae(0),this.W=m,this.H=v||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=qu(this,null,this.W),Pi(this)};function Vl(m){if(lo(m),m.I==3){var v=m.V++,w=Ie(m.J);if(Wt(w,"SID",m.M),Wt(w,"RID",v),Wt(w,"TYPE","terminate"),aa(m,w),v=new ai(m,m.j,v),v.M=2,v.A=ta(Ie(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=v.A,w=!0),w||(v.g=Gu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ri(v)}Hu(m)}function Xs(m){m.g&&(Ll(m),m.g.cancel(),m.g=null)}function lo(m){Xs(m),m.v&&(c.clearTimeout(m.v),m.v=null),uo(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Pi(m){if(!Tl(m.h)&&!m.m){m.m=!0;var v=m.Ea;Q||R(),rt||(Q(),rt=!0),M.add(v,m),m.D=0}}function co(m,v){return Ni(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=v.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ti(d(m.Ea,m,v),Fu(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const q=new ai(this,this.j,m);let X=this.o;if(this.U&&(X?(X=U(X),ct(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=ju(this,q,v),w=Ie(this.J),Wt(w,"RID",m),Wt(w,"CVER",22),this.G&&Wt(w,"X-HTTP-Session-Id",this.G),aa(this,w),X&&(this.R?v="headers="+as(zn(X))+"&"+v:this.u&&ia(w,this.u,X)),Sl(this.h,q),this.Ra&&Wt(w,"TYPE","init"),this.S?(Wt(w,"$req",v),Wt(w,"SID","null"),q.U=!0,Ai(q,w,null)):Ai(q,w,v),this.I=2}}else this.I==3&&(m?Pl(this,m):this.i.length==0||Tl(this.h)||Pl(this))};function Pl(m,v){var w;v?w=v.l:w=m.V++;const I=Ie(m.J);Wt(I,"SID",m.M),Wt(I,"RID",w),Wt(I,"AID",m.K),aa(m,I),m.u&&m.o&&ia(I,m.u,m.o),w=new ai(m,m.j,w,m.D+1),m.u===null&&(w.J=m.o),v&&(m.i=v.G.concat(m.i)),v=ju(m,w,1e3),w.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Sl(m.h,w),Ai(w,I,v)}function aa(m,v){m.H&&bt(m.H,function(w,I){Wt(v,I,w)}),m.l&&bt({},function(w,I){Wt(v,I,w)})}function ju(m,v,w){w=Math.min(m.i.length,w);const I=m.l?d(m.l.Ka,m.l,m):null;t:{var q=m.i;let Ct=-1;for(;;){const be=["count="+w];Ct==-1?w>0?(Ct=q[0].g,be.push("ofs="+Ct)):Ct=0:be.push("ofs="+Ct);let $t=!0;for(let de=0;de<w;de++){var X=q[de].g;const Bn=q[de].map;if(X-=Ct,X<0)Ct=Math.max(0,q[de].g-100),$t=!1;else try{X="req"+X+"_"||"";try{var lt=Bn instanceof Map?Bn:Object.entries(Bn);for(const[ji,hi]of lt){let fi=hi;h(hi)&&(fi=Bs(hi)),be.push(X+ji+"="+encodeURIComponent(fi))}}catch(ji){throw be.push(X+"type="+encodeURIComponent("_badmap")),ji}}catch{I&&I(Bn)}}if($t){lt=be.join("&");break t}}lt=void 0}return m=m.i.splice(0,w),v.G=m,lt}function Uu(m){if(!m.g&&!m.v){m.Y=1;var v=m.Da;Q||R(),rt||(Q(),rt=!0),M.add(v,m),m.A=0}}function oa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ti(d(m.Da,m),Fu(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ti(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Xs(this),zu(this))};function Ll(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function zu(m){m.g=new ai(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var v=Ie(m.na);Wt(v,"RID","rpc"),Wt(v,"SID",m.M),Wt(v,"AID",m.K),Wt(v,"CI",m.F?"0":"1"),!m.F&&m.ia&&Wt(v,"TO",m.ia),Wt(v,"TYPE","xmlhttp"),aa(m,v),m.u&&m.o&&ia(v,m.u,m.o),m.O&&(m.g.H=m.O);var w=m.g;m=m.ba,w.M=1,w.A=ta(Ie(v)),w.u=null,w.R=!0,eo(w,m)}n.Va=function(){this.C!=null&&(this.C=null,Xs(this),oa(this),Ae(19))};function uo(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Bu(m,v){var w=null;if(m.g==v){uo(m),Ll(m),m.g=null;var I=2}else if(Mi(m.h,v))w=v.G,Al(m.h,v),I=1;else return;if(m.I!=0){if(v.o)if(I==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var q=m.D;I=to(),je(I,new Ei(I,w)),Pi(m)}else Uu(m);else if(q=v.m,q==3||q==0&&v.X>0||!(I==1&&co(m,v)||I==2&&oa(m)))switch(w&&w.length>0&&(v=m.h,v.i=v.i.concat(w)),q){case 1:Li(m,5);break;case 4:Li(m,10);break;case 3:Li(m,6);break;default:Li(m,2)}}}function Fu(m,v){let w=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(w*=2),w*v}function Li(m,v){if(m.j.info("Error code "+v),v==2){var w=d(m.bb,m),I=m.Ua;const q=!I;I=new In(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ye(I,"https"),ta(I),q?li(I.toString(),w):Dl(I.toString(),w)}else Ae(2);m.I=0,m.l&&m.l.pa(v),Hu(m),lo(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Hu(m){if(m.I=0,m.ja=[],m.l){const v=Rl(m.h);(v.length!=0||m.i.length!=0)&&(A(m.ja,v),A(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function qu(m,v,w){var I=w instanceof In?Ie(w):new In(w);if(I.g!="")v&&(I.g=v+"."+I.g),Fs(I,I.u);else{var q=c.location;I=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const X=new In(null);I&&Ye(X,I),v&&(X.g=v),q&&Fs(X,q),w&&(X.h=w),I=X}return w=m.G,v=m.wa,w&&v&&Wt(I,w,v),Wt(I,"VER",m.ka),aa(m,I),I}function Gu(m,v,w){if(v&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=m.Aa&&!m.ma?new ne(new Oi({ab:w})):new ne(m.ma),v.Fa(m.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}n=Yu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Qs(){}Qs.prototype.g=function(m,v){return new mn(m,v)};function mn(m,v){Se.call(this),this.g=new Ks(v),this.l=m,this.h=v&&v.messageUrlParams||null,m=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(m?m["X-WebChannel-Content-Type"]=v.messageContentType:m={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(m?m["X-WebChannel-Client-Profile"]=v.sa:m={"X-WebChannel-Client-Profile":v.sa}),this.g.U=m,(m=v&&v.Qb)&&!k(m)&&(this.g.u=m),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,m=this.h,m!==null&&v in m&&(m=this.h,v in m&&delete m[v])),this.j=new cs(this)}_(mn,Se),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Vl(this.g)},mn.prototype.o=function(m){var v=this.g;if(typeof m=="string"){var w={};w.__data__=m,m=w}else this.v&&(w={},w.__data__=Bs(m),m=w);v.i.push(new Ce(v.Ya++,m)),v.I==3&&Pi(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,mn.Z.N.call(this)};function $u(m){Xe.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var v=m.__sm__;if(v){t:{for(const w in v){m=w;break t}m=void 0}(this.i=m)&&(m=this.i,v=v!==null&&m in v?v[m]:void 0),this.data=v}else this.data=m}_($u,Xe);function Ku(){Ln.call(this),this.status=1}_(Ku,Ln);function cs(m){this.g=m}_(cs,Yu),cs.prototype.ra=function(){je(this.g,"a")},cs.prototype.qa=function(m){je(this.g,new $u(m))},cs.prototype.pa=function(m){je(this.g,new Ku)},cs.prototype.oa=function(){je(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,CT=function(){return new Qs},RT=function(){return to()},AT=ve,xp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,Sf=Zr,xl.COMPLETE="complete",ST=xl,Au.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Ic=Au,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,TT=ne}).apply(typeof Jh<"u"?Jh:typeof self<"u"?self:typeof window<"u"?window:{});const fx="@firebase/firestore",dx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new $p("@firebase/firestore");function qo(){return Ua.logLevel}function ht(n,...t){if(Ua.logLevel<=jt.DEBUG){const e=t.map(ay);Ua.debug(`Firestore (${ul}): ${n}`,...e)}}function Ls(n,...t){if(Ua.logLevel<=jt.ERROR){const e=t.map(ay);Ua.error(`Firestore (${ul}): ${n}`,...e)}}function el(n,...t){if(Ua.logLevel<=jt.WARN){const e=t.map(ay);Ua.warn(`Firestore (${ul}): ${n}`,...e)}}function ay(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,IT(n,i,e)}function IT(n,t,e){let i=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ls(i),new Error(i)}function Qt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||IT(t,r,i)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends ss{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ln.UNAUTHENTICATED)))}shutdown(){}}class zN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class BN{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ks,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ks)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new NT(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class FN{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HN{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new FN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new mx(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=GN(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ut(n,t){return n<t?-1:n>t?1:0}function wp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Kg(r)===Kg(o)?Ut(r,o):Kg(r)?1:-1}return Ut(n.length,t.length)}const YN=55296,$N=57343;function Kg(n){const t=n.charCodeAt(0);return t>=YN&&t<=$N}function nl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="__name__";class Yi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Et(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Yi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Yi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Yi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ut(t.length,e.length)}static compareSegments(t,e){const i=Yi.isNumericId(t),r=Yi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Yi.extractNumericId(t).compare(Yi.extractNumericId(e)):wp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mr.fromString(t.substring(4,t.length-2))}}class ue extends Yi{construct(t,e,i){return new ue(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const KN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Yi{construct(t,e,i){return new nn(t,e,i)}static isValidIdentifier(t){return KN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gx}static keyField(){return new nn([gx])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new gt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new gt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new gt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(e)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ue.fromString(t))}static fromName(t){return new yt(ue.fromString(t).popFirst(5))}static empty(){return new yt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(n,t,e){if(!e)throw new gt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function XN(n,t,e,i){if(t===!0&&i===!0)throw new gt(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function px(n){if(!yt.isDocumentKey(n))throw new gt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yx(n){if(yt.isDocumentKey(n))throw new gt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ly(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function Vr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ly(n);throw new gt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,t){const e={typeString:n};return t&&(e.value=t),e}function pu(n,t){if(!DT(n))throw new gt(at.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new gt(at.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=-62135596800,vx=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*vx);return new he(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<_x)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vx}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(pu(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_x;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ve("string",he._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new he(0,0))}static max(){return new St(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function QN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new he(e+1,0):new he(e,i));return new Pr(r,yt.empty(),t)}function WN(n){return new Pr(n.readTime,n.key,Xc)}class Pr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Pr(St.min(),yt.empty(),Xc)}static max(){return new Pr(St.max(),yt.empty(),Xc)}}function ZN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Ut(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==JN)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,i)=>{e(t)}))}static reject(t){return new it(((e,i)=>{i(t)}))}static waitFor(t){return new it(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=it.resolve(!1);for(const i of t)e=e.next((r=>r?it.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new it(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((y=>{c[d]=y,++h,h===o&&i(c)}),(y=>r(y)))}}))}static doWhile(t,e){return new it(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function eM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function fl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-1;function md(n){return n==null}function Bf(n){return n===0&&1/n==-1/0}function nM(n){return typeof n=="number"&&Number.isInteger(n)&&!Bf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="";function iM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=bx(t)),t=sM(n.get(e),t);return bx(t)}function sM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case OT:e+="";break;default:e+=o}}return e}function bx(n){return n+OT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ga(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function kT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.comparator=t,this.root=e||en.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tf(this.root,t,this.comparator,!1)}getReverseIterator(){return new tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tf(this.root,t,this.comparator,!0)}}class tf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??en.RED,this.left=r??en.EMPTY,this.right=o??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new en(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return en.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new en(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new wx(this.data.getIterator())}getIteratorFrom(t){return new wx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new qe(this.comparator);return e.data=t,e}}class wx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new _i([])}unionWith(t){let e=new qe(nn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new _i(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return nl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VT("Invalid base64 string: "+o):o}})(t);return new sn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new sn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const rM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=rM.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function jr(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="server_timestamp",LT="__type__",jT="__previous_value__",UT="__local_write_time__";function uy(n){return(n?.mapValue?.fields||{})[LT]?.stringValue===PT}function gd(n){const t=n.mapValue.fields[jT];return uy(t)?gd(t):t}function Qc(n){const t=Lr(n.mapValue.fields[UT].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t,e,i,r,o,c,h,f,d,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y}}const Ff="(default)";class Wc{constructor(t,e){this.projectId=t,this.database=e||Ff}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(t){return t instanceof Wc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__type__",oM="__max__",ef={mapValue:{}},BT="__vector__",Hf="value";function Ur(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uy(n)?4:cM(n)?9007199254740991:lM(n)?10:11:Et(28295,{value:n})}function es(n,t){if(n===t)return!0;const e=Ur(n);if(e!==Ur(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Qc(n).isEqual(Qc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Lr(r.timestampValue),h=Lr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return jr(r.bytesValue).isEqual(jr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Ee(r.geoPointValue.latitude)===Ee(o.geoPointValue.latitude)&&Ee(r.geoPointValue.longitude)===Ee(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Ee(r.integerValue)===Ee(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Ee(r.doubleValue),h=Ee(o.doubleValue);return c===h?Bf(c)===Bf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return nl(n.arrayValue.values||[],t.arrayValue.values||[],es);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(xx(c)!==xx(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!es(c[f],h[f])))return!1;return!0})(n,t);default:return Et(52216,{left:n})}}function Zc(n,t){return(n.values||[]).find((e=>es(e,t)))!==void 0}function il(n,t){if(n===t)return 0;const e=Ur(n),i=Ur(t);if(e!==i)return Ut(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Ee(o.integerValue||o.doubleValue),f=Ee(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return Ex(n.timestampValue,t.timestampValue);case 4:return Ex(Qc(n),Qc(t));case 5:return wp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=jr(o),f=jr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let d=0;d<h.length&&d<f.length;d++){const y=Ut(h[d],f[d]);if(y!==0)return y}return Ut(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Ut(Ee(o.latitude),Ee(c.latitude));return h!==0?h:Ut(Ee(o.longitude),Ee(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Tx(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},d=h[Hf]?.arrayValue,y=f[Hf]?.arrayValue,_=Ut(d?.values?.length||0,y?.values?.length||0);return _!==0?_:Tx(d,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===ef.mapValue&&c===ef.mapValue)return 0;if(o===ef.mapValue)return 1;if(c===ef.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=c.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const b=wp(f[_],y[_]);if(b!==0)return b;const E=il(h[f[_]],d[y[_]]);if(E!==0)return E}return Ut(f.length,y.length)})(n.mapValue,t.mapValue);default:throw Et(23264,{he:e})}}function Ex(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const e=Lr(n),i=Lr(t),r=Ut(e.seconds,i.seconds);return r!==0?r:Ut(e.nanos,i.nanos)}function Tx(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=il(e[r],i[r]);if(o)return o}return Ut(e.length,i.length)}function sl(n){return Ep(n)}function Ep(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Lr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return jr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Ep(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${Ep(e.fields[c])}`;return r+"}"})(n.mapValue):Et(61005,{value:n})}function Af(n){switch(Ur(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gd(n);return t?16+Af(t):16;case 5:return 2*n.stringValue.length;case 6:return jr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+Af(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Ga(i.fields,((o,c)=>{r+=o.length+Af(c)})),r})(n.mapValue);default:throw Et(13486,{value:n})}}function Tp(n){return!!n&&"integerValue"in n}function hy(n){return!!n&&"arrayValue"in n}function Sx(n){return!!n&&"nullValue"in n}function Ax(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rf(n){return!!n&&"mapValue"in n}function lM(n){return(n?.mapValue?.fields||{})[zT]?.stringValue===BT}function jc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ga(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=jc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=jc(n.arrayValue.values[e]);return t}return{...n}}function cM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.value=t}static empty(){return new Wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Rf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=jc(e)}setAll(t){let e=nn.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=jc(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Rf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return es(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Rf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ga(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Wn(jc(this.value))}}function FT(n){const t=[];return Ga(n.fields,((e,i)=>{const r=new nn([e]);if(Rf(i)){const o=FT(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new _i(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new cn(t,0,St.min(),St.min(),St.min(),Wn.empty(),0)}static newFoundDocument(t,e,i,r){return new cn(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new cn(t,2,e,St.min(),St.min(),Wn.empty(),0)}static newUnknownDocument(t,e){return new cn(t,3,e,St.min(),St.min(),Wn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,e){this.position=t,this.inclusive=e}}function Rx(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(c.referenceValue),e.key):i=il(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Cx(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!es(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,e="asc"){this.field=t,this.dir=e}}function uM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{}class ze extends HT{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new fM(t,e,i):e==="array-contains"?new gM(t,i):e==="in"?new pM(t,i):e==="not-in"?new yM(t,i):e==="array-contains-any"?new _M(t,i):new ze(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new dM(t,i):new mM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(il(e,this.value)):e!==null&&Ur(this.value)===Ur(e)&&this.matchesComparison(il(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends HT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ns(t,e)}matches(t){return qT(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qT(n){return n.op==="and"}function GT(n){return hM(n)&&qT(n)}function hM(n){for(const t of n.filters)if(t instanceof ns)return!1;return!0}function Sp(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+sl(n.value);if(GT(n))return n.filters.map((t=>Sp(t))).join(",");{const t=n.filters.map((e=>Sp(e))).join(",");return`${n.op}(${t})`}}function YT(n,t){return n instanceof ze?(function(i,r){return r instanceof ze&&i.op===r.op&&i.field.isEqual(r.field)&&es(i.value,r.value)})(n,t):n instanceof ns?(function(i,r){return r instanceof ns&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&YT(c,r.filters[h])),!0):!1})(n,t):void Et(19439)}function $T(n){return n instanceof ze?(function(e){return`${e.field.canonicalString()} ${e.op} ${sl(e.value)}`})(n):n instanceof ns?(function(e){return e.op.toString()+" {"+e.getFilters().map($T).join(" ,")+"}"})(n):"Filter"}class fM extends ze{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class dM extends ze{constructor(t,e){super(t,"in",e),this.keys=KT("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class mM extends ze{constructor(t,e){super(t,"not-in",e),this.keys=KT("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function KT(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class gM extends ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return hy(e)&&Zc(e.arrayValue,this.value)}}class pM extends ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Zc(this.value.arrayValue,e)}}class yM extends ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Zc(this.value.arrayValue,e)}}class _M extends ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!hy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Zc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Ix(n,t=null,e=[],i=[],r=null,o=null,c=null){return new vM(n,t,e,i,r,o,c)}function fy(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Sp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),md(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>sl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>sl(i))).join(",")),t.Te=e}return t.Te}function dy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!uM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!YT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Cx(n.startAt,t.startAt)&&Cx(n.endAt,t.endAt)}function Ap(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bM(n,t,e,i,r,o,c,h){return new pd(n,t,e,i,r,o,c,h)}function my(n){return new pd(n)}function Nx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xM(n){return n.collectionGroup!==null}function Uc(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new qe(nn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Gf(o,i))})),e.has(nn.keyField().canonicalString())||t.Ie.push(new Gf(nn.keyField(),i))}return t.Ie}function Xi(n){const t=Rt(n);return t.Ee||(t.Ee=wM(t,Uc(n))),t.Ee}function wM(n,t){if(n.limitType==="F")return Ix(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Gf(r.field,o)}));const e=n.endAt?new qf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new qf(n.startAt.position,n.startAt.inclusive):null;return Ix(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Rp(n,t,e){return new pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function yd(n,t){return dy(Xi(n),Xi(t))&&n.limitType===t.limitType}function XT(n){return`${fy(Xi(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>$T(r))).join(", ")}]`),md(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>sl(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>sl(r))).join(",")),`Target(${i})`})(Xi(n))}; limitType=${n.limitType})`}function _d(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Uc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const d=Rx(c,h,f);return c.inclusive?d<=0:d<0})(i.startAt,Uc(i),r)||i.endAt&&!(function(c,h,f){const d=Rx(c,h,f);return c.inclusive?d>=0:d>0})(i.endAt,Uc(i),r))})(n,t)}function EM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QT(n){return(t,e)=>{let i=!1;for(const r of Uc(n)){const o=TM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function TM(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),d=h.data.field(o);return f!==null&&d!==null?il(f,d):Et(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ga(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return kT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new ge(yt.comparator);function js(){return SM}const WT=new ge(yt.comparator);function Nc(...n){let t=WT;for(const e of n)t=t.insert(e.key,e);return t}function ZT(n){let t=WT;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ma(){return zc()}function JT(){return zc()}function zc(){return new Ya((n=>n.toString()),((n,t)=>n.isEqual(t)))}const AM=new ge(yt.comparator),RM=new qe(yt.comparator);function zt(...n){let t=RM;for(const e of n)t=t.add(e);return t}const CM=new qe(Ut);function IM(){return CM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(t)?"-0":t}}function tS(n){return{integerValue:""+n}}function NM(n,t){return nM(t)?tS(t):gy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this._=void 0}}function MM(n,t,e){return n instanceof Yf?(function(r,o){const c={fields:{[LT]:{stringValue:PT},[UT]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&uy(o)&&(o=gd(o)),o&&(c.fields[jT]=o),{mapValue:c}})(e,t):n instanceof Jc?nS(n,t):n instanceof tu?iS(n,t):(function(r,o){const c=eS(r,o),h=Mx(c)+Mx(r.Ae);return Tp(c)&&Tp(r.Ae)?tS(h):gy(r.serializer,h)})(n,t)}function DM(n,t,e){return n instanceof Jc?nS(n,t):n instanceof tu?iS(n,t):e}function eS(n,t){return n instanceof $f?(function(i){return Tp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Yf extends vd{}class Jc extends vd{constructor(t){super(),this.elements=t}}function nS(n,t){const e=sS(t);for(const i of n.elements)e.some((r=>es(r,i)))||e.push(i);return{arrayValue:{values:e}}}class tu extends vd{constructor(t){super(),this.elements=t}}function iS(n,t){let e=sS(t);for(const i of n.elements)e=e.filter((r=>!es(r,i)));return{arrayValue:{values:e}}}class $f extends vd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Mx(n){return Ee(n.integerValue||n.doubleValue)}function sS(n){return hy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function OM(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Jc&&r instanceof Jc||i instanceof tu&&r instanceof tu?nl(i.elements,r.elements,es):i instanceof $f&&r instanceof $f?es(i.Ae,r.Ae):i instanceof Yf&&r instanceof Yf})(n.transform,t.transform)}class kM{constructor(t,e){this.version=t,this.transformResults=e}}class Qi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Qi}static exists(t){return new Qi(void 0,t)}static updateTime(t){return new Qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class bd{}function rS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new py(n.key,Qi.none()):new yu(n.key,n.data,Qi.none());{const e=n.data,i=Wn.empty();let r=new qe(nn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new $a(n.key,i,new _i(r.toArray()),Qi.none())}}function VM(n,t,e){n instanceof yu?(function(r,o,c){const h=r.value.clone(),f=Ox(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof $a?(function(r,o,c){if(!Cf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Ox(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(aS(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Bc(n,t,e,i){return n instanceof yu?(function(o,c,h,f){if(!Cf(o.precondition,c))return h;const d=o.value.clone(),y=kx(o.fieldTransforms,f,c);return d.setAll(y),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof $a?(function(o,c,h,f){if(!Cf(o.precondition,c))return h;const d=kx(o.fieldTransforms,f,c),y=c.data;return y.setAll(aS(o)),y.setAll(d),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,h){return Cf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function PM(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=eS(i.transform,r||null);o!=null&&(e===null&&(e=Wn.empty()),e.set(i.field,o))}return e||null}function Dx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&nl(i,r,((o,c)=>OM(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class yu extends bd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $a extends bd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function Ox(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,DM(c,h,e[r]))}return i}function kx(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,MM(o,c,t))}return i}class py extends bd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LM extends bd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&VM(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Bc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Bc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=JT();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=rS(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(St.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),zt())}isEqual(t){return this.batchId===t.batchId&&nl(this.mutations,t.mutations,((e,i)=>Dx(e,i)))&&nl(this.baseMutations,t.baseMutations,((e,i)=>Dx(e,i)))}}class yy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return AM})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new yy(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,Ht;function BM(n){switch(n){case at.OK:return Et(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function oS(n){if(n===void 0)return Ls("GRPC error has no .code"),at.UNKNOWN;switch(n){case ke.OK:return at.OK;case ke.CANCELLED:return at.CANCELLED;case ke.UNKNOWN:return at.UNKNOWN;case ke.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case ke.INTERNAL:return at.INTERNAL;case ke.UNAVAILABLE:return at.UNAVAILABLE;case ke.UNAUTHENTICATED:return at.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case ke.NOT_FOUND:return at.NOT_FOUND;case ke.ALREADY_EXISTS:return at.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return at.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case ke.ABORTED:return at.ABORTED;case ke.OUT_OF_RANGE:return at.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return at.UNIMPLEMENTED;case ke.DATA_LOSS:return at.DATA_LOSS;default:return Et(39323,{code:n})}}(Ht=ke||(ke={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new Mr([4294967295,4294967295],0);function Vx(n){const t=FM().encode(n),e=new ET;return e.update(t),new Uint8Array(e.digest())}function Px(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Mr([e,i],0),new Mr([r,o],0)]}class _y{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Mc(`Invalid padding: ${e}`);if(i<0)throw new Mc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Mr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Mr.fromNumber(i)));return r.compare(HM)===1&&(r=new Mr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Vx(t),[i,r]=Px(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new _y(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=Vx(t),[i,r]=Px(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,_u.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new xd(St.min(),r,new ge(Ut),js(),zt())}}class _u{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new _u(i,e,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class lS{constructor(t,e){this.targetId=t,this.Ce=e}}class cS{constructor(t,e,i=sn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Lx{constructor(){this.ve=0,this.Fe=jx(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),e=zt(),i=zt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Et(38017,{changeType:o})}})),new _u(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=jx()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qM{constructor(t){this.Ge=t,this.ze=new Map,this.je=js(),this.Je=nf(),this.He=nf(),this.Ye=new ge(Ut)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(Ap(o))if(i===0){const c=new yt(o.path);this.et(e,c,cn.newNoDocument(c,St.min()))}else Qt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=jr(i).toUint8Array()}catch(f){if(f instanceof VT)return el("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new _y(c,r,o)}catch(f){return el(f instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Ap(h.target)){const f=new yt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,cn.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=zt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new xd(t,e,this.Ye,this.je,i);return this.je=js(),this.Je=nf(),this.He=nf(),this.Ye=new ge(Ut),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Lx,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new qe(Ut),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new qe(Ut),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Lx),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function nf(){return new ge(yt.comparator)}function jx(){return new ge(yt.comparator)}const GM={asc:"ASCENDING",desc:"DESCENDING"},YM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$M={and:"AND",or:"OR"};class KM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Cp(n,t){return n.useProto3Json||md(t)?t:{value:t}}function Kf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function XM(n,t){return Kf(n,t.toTimestamp())}function Wi(n){return Qt(!!n,49232),St.fromTimestamp((function(e){const i=Lr(e);return new he(i.seconds,i.nanos)})(n))}function vy(n,t){return Ip(n,t).canonicalString()}function Ip(n,t){const e=(function(r){return new ue(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function hS(n){const t=ue.fromString(n);return Qt(pS(t),10190,{key:t.toString()}),t}function Np(n,t){return vy(n.databaseId,t.path)}function Xg(n,t){const e=hS(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(dS(e))}function fS(n,t){return vy(n.databaseId,t)}function QM(n){const t=hS(n);return t.length===4?ue.emptyPath():dS(t)}function Mp(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dS(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ux(n,t,e){return{name:Np(n,t),fields:e.value.mapValue.fields}}function WM(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Et(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),sn.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),sn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(d){const y=d.code===void 0?at.UNKNOWN:oS(d.code);return new gt(y,d.message||"")})(c);e=new cS(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Xg(n,i.document.name),o=Wi(i.document.updateTime),c=i.document.createTime?Wi(i.document.createTime):St.min(),h=new Wn({mapValue:{fields:i.document.fields}}),f=cn.newFoundDocument(r,o,c,h),d=i.targetIds||[],y=i.removedTargetIds||[];e=new If(d,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Xg(n,i.document),o=i.readTime?Wi(i.readTime):St.min(),c=cn.newNoDocument(r,o),h=i.removedTargetIds||[];e=new If([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Xg(n,i.document),o=i.removedTargetIds||[];e=new If([],o,r,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new zM(r,o),h=i.targetId;e=new lS(h,c)}}return e}function ZM(n,t){let e;if(t instanceof yu)e={update:Ux(n,t.key,t.value)};else if(t instanceof py)e={delete:Np(n,t.key)};else if(t instanceof $a)e={update:Ux(n,t.key,t.data),updateMask:oD(t.fieldMask)};else{if(!(t instanceof LM))return Et(16599,{Vt:t.type});e={verify:Np(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Yf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Jc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof tu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof $f)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Et(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:XM(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Et(27497)})(n,t.precondition)),e}function JM(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?Wi(r.updateTime):Wi(o);return c.isEqual(St.min())&&(c=Wi(o)),new kM(c,r.transformResults||[])})(e,t)))):[]}function tD(n,t){return{documents:[fS(n,t.path)]}}function eD(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=fS(n,r);const o=(function(d){if(d.length!==0)return gS(ns.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((y=>(function(b){return{field:Yo(b.field),direction:sD(b.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Cp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function nD(n){let t=QM(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(_){const b=mS(_);return b instanceof ns&&GT(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((b=>(function(A){return new Gf($o(A.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(e.orderBy));let h=null;e.limit&&(h=(function(_){let b;return b=typeof _=="object"?_.value:_,md(b)?null:b})(e.limit));let f=null;e.startAt&&(f=(function(_){const b=!!_.before,E=_.values||[];return new qf(E,b)})(e.startAt));let d=null;return e.endAt&&(d=(function(_){const b=!_.before,E=_.values||[];return new qf(E,b)})(e.endAt)),bM(t,r,c,o,h,"F",f,d)}function iD(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function mS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=$o(e.unaryFilter.field);return ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=$o(e.unaryFilter.field);return ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$o(e.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(e.unaryFilter.field);return ze.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ze.create($o(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ns.create(e.compositeFilter.filters.map((i=>mS(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(e.compositeFilter.op))})(n):Et(30097,{filter:n})}function sD(n){return GM[n]}function rD(n){return YM[n]}function aD(n){return $M[n]}function Yo(n){return{fieldPath:n.canonicalString()}}function $o(n){return nn.fromServerFormat(n.fieldPath)}function gS(n){return n instanceof ze?(function(e){if(e.op==="=="){if(Ax(e.value))return{unaryFilter:{field:Yo(e.field),op:"IS_NAN"}};if(Sx(e.value))return{unaryFilter:{field:Yo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Ax(e.value))return{unaryFilter:{field:Yo(e.field),op:"IS_NOT_NAN"}};if(Sx(e.value))return{unaryFilter:{field:Yo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(e.field),op:rD(e.op),value:e.value}}})(n):n instanceof ns?(function(e){const i=e.getFilters().map((r=>gS(r)));return i.length===1?i[0]:{compositeFilter:{op:aD(e.op),filters:i}}})(n):Et(54877,{filter:n})}function oD(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function pS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t,e,i,r,o=St.min(),c=St.min(),h=sn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t){this.yt=t}}function cD(n){const t=nD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.Cn=new hD}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(Pr.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(Pr.min())}updateCollectionGroup(t,e,i){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class hD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new qe(ue.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new qe(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yS=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(yS,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="LruGarbageCollector",fD=1048576;function Fx([n,t],[e,i]){const r=Ut(n,e);return r===0?Ut(t,i):r}class dD{constructor(t){this.Ir=t,this.buffer=new qe(Fx),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Fx(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class mD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(Bx,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){fl(e)?ht(Bx,"Ignoring IndexedDB error during garbage collection: ",e):await hl(e)}await this.Vr(3e5)}))}}class gD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(dd.ce);const i=new dD(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(zx)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zx):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,d;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,c=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(d=Date.now(),qo()<=jt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function pD(n,t){return new gD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.changes=new Ya((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?it.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&Bc(i.mutation,r,_i.empty(),he.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,zt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=zt()){const r=Ma();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=Nc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Ma();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,zt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=js();const c=zc(),h=(function(){return zc()})();return e.forEach(((f,d)=>{const y=i.get(d.key);r.has(d.key)&&(y===void 0||y.mutation instanceof $a)?o=o.insert(d.key,d):y!==void 0?(c.set(d.key,y.mutation.getFieldMask()),Bc(y.mutation,d,y.mutation.getFieldMask(),he.now())):c.set(d.key,_i.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,y)=>c.set(d,y))),e.forEach(((d,y)=>h.set(d,new _D(y,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=zc();let r=new ge(((c,h)=>c-h)),o=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let y=i.get(f)||_i.empty();y=h.applyToLocalView(d,y),i.set(f,y);const _=(r.get(h.batchId)||zt()).add(f);r=r.insert(h.batchId,_)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,y=f.value,_=JT();y.forEach((b=>{if(!o.has(b)){const E=rS(e.get(b),i.get(b));E!==null&&_.set(b,E),o=o.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,d,_))}return it.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):xM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):it.resolve(Ma());let h=Xc,f=o;return c.next((d=>it.forEach(d,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{f=f.insert(y,b)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,zt()))).next((y=>({batchId:h,changes:ZT(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((i=>{let r=Nc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Nc();return this.indexManager.getCollectionParents(t,o).next((h=>it.forEach(h,(f=>{const d=(function(_,b){return new pd(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,d)=>{const y=d.getKey();c.get(y)===null&&(c=c.insert(y,cn.newInvalidDocument(y)))}));let h=Nc();return c.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&Bc(y.mutation,d,_i.empty(),he.now()),_d(e,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return it.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Wi(r.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:cD(r.bundledQuery),readTime:Wi(r.readTime)}})(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.overlays=new ge(yt.comparator),this.qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ma();return it.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),it.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),it.resolve()}getOverlaysForCollection(t,e,i){const r=Ma(),o=e.length+1,c=new yt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return it.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ge(((d,y)=>d-y));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let y=o.get(d.largestBatchId);y===null&&(y=Ma(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const h=Ma(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>h.set(d,y))),!(h.size()>=r)););return it.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new UM(e,i));let o=this.qr.get(e);o===void 0&&(o=zt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.Qr=new qe(Ke.$r),this.Ur=new qe(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Ke(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Ke(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new yt(new ue([])),i=new Ke(e,t),r=new Ke(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new ue([])),i=new Ke(e,t),r=new Ke(e,t+1);let o=zt();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Ke(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ke{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||Ut(t.Yr,e.Yr)}static Kr(t,e){return Ut(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ke.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new jM(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Ke(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,e){return it.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return it.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?cy:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ke(e,0),r=new Ke(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),it.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new qe(Ut);return e.forEach((r=>{const o=new Ke(r,0),c=new Ke(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),it.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const c=new Ke(new yt(o),0);let h=new qe(Ut);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(h=h.add(f.Yr)),!0)}),c),it.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return it.forEach(e.mutations,(r=>{const o=new Ke(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Ke(e,0),r=this.Zr.firstAfterOrEqual(i);return it.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t){this.ri=t,this.docs=(function(){return new ge(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return it.resolve(i?i.document.mutableCopy():cn.newInvalidDocument(e))}getEntries(t,e){let i=js();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():cn.newInvalidDocument(r))})),it.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=js();const c=e.path,h=new yt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||ZN(WN(y),i)<=0||(r.has(y.key)||_d(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return it.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Et(9500)}ii(t,e){return it.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new SD(this)}getSize(t){return it.resolve(this.size)}}class SD extends yD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),it.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t){this.persistence=t,this.si=new Ya((e=>fy(e)),dy),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new by,this.targetCount=0,this.ai=rl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),it.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new rl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Pr(e),it.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),it.waitFor(o).next((()=>r))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return it.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),it.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),it.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return it.resolve(i)}containsKey(t,e){return it.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t,e){this.ui={},this.overlays={},this.ci=new dd(0),this.li=!1,this.li=!0,this.hi=new wD,this.referenceDelegate=t(this),this.Pi=new AD(this),this.indexManager=new uD,this.remoteDocumentCache=(function(r){return new TD(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new lD(e),this.Ii=new bD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new xD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new ED(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new RD(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return it.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class RD extends tM{constructor(t){super(),this.currentSequenceNumber=t}}class xy{constructor(t){this.persistence=t,this.Ri=new by,this.Vi=null}static mi(t){return new xy(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),it.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(i=>{const r=yt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,St.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Xf{constructor(t,e){this.persistence=t,this.pi=new Ya((i=>iM(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=pD(this,e)}static mi(t,e){return new Xf(t,e)}Ei(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return it.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?it.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,St.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Af(t.data.value)),e}br(t,e,i){return it.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return it.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=zt(),r=zt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new wy(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sC()?8:eM(fn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new CD;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(qo()<=jt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Go(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(qo()<=jt.DEBUG&&ht("QueryEngine","Query:",Go(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(qo()<=jt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Go(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xi(e))):it.resolve())}ys(t,e){if(Nx(e))return it.resolve(null);let i=Xi(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Rp(e,null,"F"),i=Xi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=zt(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,h);return this.Cs(e,d,c,f.readTime)?this.ys(t,Rp(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,r){return Nx(e)||r.isEqual(St.min())?it.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?it.resolve(null):(qo()<=jt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Go(e)),this.vs(t,c,e,QN(r,Xc)).next((h=>h)))}))}Ds(t,e){let i=new qe(QT(t));return e.forEach(((r,o)=>{_d(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return qo()<=jt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Go(e)),this.ps.getDocumentsMatchingQuery(t,e,Pr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="LocalStore",ND=3e8;class MD{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new ge(Ut),this.xs=new Ya((o=>fy(o)),dy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function DD(n,t,e,i){return new MD(n,t,e,i)}async function vS(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=zt();for(const d of r){c.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){h.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function OD(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,y){const _=d.batch,b=_.keys();let E=it.resolve();return b.forEach((A=>{E=E.next((()=>y.getEntry(f,A))).next((C=>{const N=d.docVersions.get(A);Qt(N!==null,48541),C.version.compareTo(N)<0&&(_.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),y.addEntry(C)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=zt();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function bS(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function kD(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((y,_)=>{const b=r.get(_);if(!b)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,_))));let E=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?E=E.withResumeToken(sn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,i)),r=r.insert(_,E),(function(C,N,L){return C.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=ND?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(b,E,y)&&h.push(e.Pi.updateTargetData(o,E))}));let f=js(),d=zt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(VD(o,c,t.documentUpdates).next((y=>{f=y.ks,d=y.qs}))),!i.isEqual(St.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return it.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function VD(n,t,e){let i=zt(),r=zt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=js();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(St.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ht(Ey,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function PD(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=cy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function LD(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,it.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new Tr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Dp(n,t,e){const i=Rt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!fl(c))throw c;ht(Ey,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function Hx(n,t,e){const i=Rt(n);let r=St.min(),o=zt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,y){const _=Rt(f),b=_.xs.get(y);return b!==void 0?it.resolve(_.Ms.get(b)):_.Pi.getTargetData(d,y)})(i,c,Xi(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:St.min(),e?o:zt()))).next((h=>(jD(i,EM(t),h),{documents:h,Qs:o})))))}function jD(n,t,e){let i=n.Os.get(t)||St.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class qx{constructor(){this.activeTargetIds=IM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class UD{constructor(){this.Mo=new qx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new qx,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="ConnectivityMonitor";class Yx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(Gx,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(Gx,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function Op(){return sf===null?sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="RestConnection",BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Ff?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=Op(),h=this.zo(t,e.toUriEncodedString());ht(Qg,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:d}=new URL(h),y=Ha(d);return this.Jo(t,h,f,i,y).then((_=>(ht(Qg,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw el(Qg,`RPC '${t}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=BD[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class qD extends FD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=Op();return new Promise(((h,f)=>{const d=new TT;d.setWithCredentials(!0),d.listenOnce(ST.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Sf.NO_ERROR:const _=d.getResponseJson();ht(an,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),h(_);break;case Sf.TIMEOUT:ht(an,`RPC '${t}' ${c} timed out`),f(new gt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const b=d.getStatus();if(ht(an,`RPC '${t}' ${c} failed with status:`,b,"response text:",d.getResponseText()),b>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E?.error;if(A&&A.status&&A.message){const C=(function(L){const F=L.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(F)>=0?F:at.UNKNOWN})(A.status);f(new gt(C,A.message))}else f(new gt(at.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new gt(at.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ht(an,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(r);ht(an,`RPC '${t}' ${c} sending request:`,r),d.send(e,"POST",y,i,15)}))}T_(t,e,i){const r=Op(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=CT(),h=RT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ht(an,`Creating RPC '${t}' stream ${r}: ${y}`,f);const _=c.createWebChannel(y,f);this.I_(_);let b=!1,E=!1;const A=new HD({Yo:N=>{E?ht(an,`Not sending because RPC '${t}' stream ${r} is closed:`,N):(b||(ht(an,`Opening RPC '${t}' stream ${r} transport.`),_.open(),b=!0),ht(an,`RPC '${t}' stream ${r} sending:`,N),_.send(N))},Zo:()=>_.close()}),C=(N,L,F)=>{N.listen(L,(H=>{try{F(H)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return C(_,Ic.EventType.OPEN,(()=>{E||(ht(an,`RPC '${t}' stream ${r} transport opened.`),A.o_())})),C(_,Ic.EventType.CLOSE,(()=>{E||(E=!0,ht(an,`RPC '${t}' stream ${r} transport closed`),A.a_(),this.E_(_))})),C(_,Ic.EventType.ERROR,(N=>{E||(E=!0,el(an,`RPC '${t}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),A.a_(new gt(at.UNAVAILABLE,"The operation could not be completed")))})),C(_,Ic.EventType.MESSAGE,(N=>{if(!E){const L=N.data[0];Qt(!!L,16349);const F=L,H=F?.error||F[0]?.error;if(H){ht(an,`RPC '${t}' stream ${r} received error:`,H);const Z=H.status;let Q=(function(R){const D=ke[R];if(D!==void 0)return oS(D)})(Z),rt=H.message;Q===void 0&&(Q=at.INTERNAL,rt="Unknown error status: "+Z+" with message "+H.message),E=!0,A.a_(new gt(Q,rt)),_.close()}else ht(an,`RPC '${t}' stream ${r} received:`,L),A.u_(L)}})),C(h,AT.STAT_EVENT,(N=>{N.stat===xp.PROXY?ht(an,`RPC '${t}' stream ${r} detected buffering proxy`):N.stat===xp.NOPROXY&&ht(an,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Wg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(n){return new KM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="PersistentStream";class wS{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?(Ls(e.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new gt(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht($x,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ht($x,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GD extends wS{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=WM(this.serializer,t),i=(function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Wi(c.readTime):St.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Mp(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=Ap(f)?{documents:tD(o,f)}:{query:eD(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=uS(o,c.resumeToken);const d=Cp(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(St.min())>0){h.readTime=Kf(o,c.snapshotVersion.toTimestamp());const d=Cp(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const i=iD(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Mp(this.serializer),e.removeTarget=t,this.q_(e)}}class YD extends wS{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=JM(t.writeResults,t.commitTime),i=Wi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Mp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>ZM(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{}class KD extends $D{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,Ip(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(at.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,Ip(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(at.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class QD{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ka(this)&&(ht(za,"Restarting streams for network reachability change."),await(async function(f){const d=Rt(f);d.Ea.add(4),await vu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ed(d)})(this))}))})),this.Ra=new XD(i,r)}}async function Ed(n){if(Ka(n))for(const t of n.da)await t(!0)}async function vu(n){for(const t of n.da)await t(!1)}function ES(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ry(e)?Ay(e):dl(e).O_()&&Sy(e,t))}function Ty(n,t){const e=Rt(n),i=dl(e);e.Ia.delete(t),i.O_()&&TS(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ka(e)&&e.Ra.set("Unknown"))}function Sy(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}dl(n).Y_(t)}function TS(n,t){n.Va.Ue(t),dl(n).Z_(t)}function Ay(n){n.Va=new qM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),dl(n).start(),n.Ra.ua()}function Ry(n){return Ka(n)&&!dl(n).x_()&&n.Ia.size>0}function Ka(n){return Rt(n).Ea.size===0}function SS(n){n.Va=void 0}async function WD(n){n.Ra.set("Online")}async function ZD(n){n.Ia.forEach(((t,e)=>{Sy(n,t)}))}async function JD(n,t){SS(n),Ry(n)?(n.Ra.ha(t),Ay(n)):n.Ra.set("Unknown")}async function tO(n,t,e){if(n.Ra.set("Online"),t instanceof cS&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ht(za,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Qf(n,i)}else if(t instanceof If?n.Va.Ze(t):t instanceof lS?n.Va.st(t):n.Va.tt(t),!e.isEqual(St.min()))try{const i=await bS(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),TS(o,f);const _=new Tr(y.target,f,d,y.sequenceNumber);Sy(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ht(za,"Failed to raise snapshot:",i),await Qf(n,i)}}async function Qf(n,t,e){if(!fl(t))throw t;n.Ea.add(1),await vu(n),n.Ra.set("Offline"),e||(e=()=>bS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(za,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Ed(n)}))}function AS(n,t){return t().catch((e=>Qf(n,e,t)))}async function Td(n){const t=Rt(n),e=zr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:cy;for(;eO(t);)try{const r=await PD(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,nO(t,r)}catch(r){await Qf(t,r)}RS(t)&&CS(t)}function eO(n){return Ka(n)&&n.Ta.length<10}function nO(n,t){n.Ta.push(t);const e=zr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function RS(n){return Ka(n)&&!zr(n).x_()&&n.Ta.length>0}function CS(n){zr(n).start()}async function iO(n){zr(n).ra()}async function sO(n){const t=zr(n);for(const e of n.Ta)t.ea(e.mutations)}async function rO(n,t,e){const i=n.Ta.shift(),r=yy.from(i,t,e);await AS(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Td(n)}async function aO(n,t){t&&zr(n).X_&&await(async function(i,r){if((function(c){return BM(c)&&c!==at.ABORTED})(r.code)){const o=i.Ta.shift();zr(i).B_(),await AS(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Td(i)}})(n,t),RS(n)&&CS(n)}async function Kx(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ht(za,"RemoteStore received new credentials");const i=Ka(e);e.Ea.add(3),await vu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Ed(e)}async function oO(n,t){const e=Rt(n);t?(e.Ea.delete(2),await Ed(e)):t||(e.Ea.add(2),await vu(e),e.Ra.set("Unknown"))}function dl(n){return n.ma||(n.ma=(function(e,i,r){const o=Rt(e);return o.sa(),new GD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:WD.bind(null,n),t_:ZD.bind(null,n),r_:JD.bind(null,n),H_:tO.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Ry(n)?Ay(n):n.Ra.set("Unknown")):(await n.ma.stop(),SS(n))}))),n.ma}function zr(n){return n.fa||(n.fa=(function(e,i,r){const o=Rt(e);return o.sa(),new YD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:iO.bind(null,n),r_:aO.bind(null,n),ta:sO.bind(null,n),na:rO.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Td(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(za,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new Cy(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(n,t){if(Ls("AsyncQueue",`${t}: ${n}`),fl(n))return new gt(at.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(t){return new Wo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=Nc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Wo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.ga=new ge(yt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class al{constructor(t,e,i,r,o,c,h,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new al(t,e,Wo.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class cO{constructor(){this.queries=Qx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=Qx(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new gt(at.ABORTED,"Firestore shutting down"))}}function Qx(){return new Ya((n=>XT(n)),yd)}async function IS(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new lO,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=Iy(c,`Initialization of query '${Go(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Ny(e)}async function NS(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function uO(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&Ny(e)}function hO(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function Ny(n){n.Ca.forEach((t=>{t.next()}))}var kp,Wx;(Wx=kp||(kp={})).Ma="default",Wx.Cache="cache";class MS{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new al(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=al.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t){this.key=t}}class OS{constructor(t){this.key=t}}class fO{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=QT(t),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new Xx,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((y,_)=>{const b=r.get(y),E=_d(this.query,_)?_:null,A=!!b&&this.mutatedKeys.has(b.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;b&&E?b.data.isEqual(E.data)?A!==C&&(i.track({type:3,doc:E}),N=!0):this.su(b,E)||(i.track({type:2,doc:E}),N=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(h=!0)):!b&&E?(i.track({type:0,doc:E}),N=!0):b&&!E&&(i.track({type:1,doc:b}),N=!0,(f||d)&&(h=!0)),N&&(E?(c=c.add(E),o=C?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(E,A){const C=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:N})}};return C(E)-C(A)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,c.length!==0||d?{snapshot:new al(this.query,t.tu,o,c,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new OS(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new DS(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=zt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const My="SyncEngine";class dO{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class mO{constructor(t){this.key=t,this.hu=!1}}class gO{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ya((h=>XT(h)),yd),this.Iu=new Map,this.Eu=new Set,this.du=new ge(yt.comparator),this.Au=new Map,this.Ru=new by,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pO(n,t,e=!0){const i=US(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await kS(i,t,e,!0),r}async function yO(n,t){const e=US(n);await kS(e,t,!0,!1)}async function kS(n,t,e,i){const r=await LD(n.localStore,Xi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await _O(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&ES(n.remoteStore,r),h}async function _O(n,t,e,i,r){n.pu=(_,b,E)=>(async function(C,N,L,F){let H=N.view.ru(L);H.Cs&&(H=await Hx(C.localStore,N.query,!1).then((({documents:M})=>N.view.ru(M,H))));const Z=F&&F.targetChanges.get(N.targetId),Q=F&&F.targetMismatches.get(N.targetId)!=null,rt=N.view.applyChanges(H,C.isPrimaryClient,Z,Q);return Jx(C,N.targetId,rt.au),rt.snapshot})(n,_,b,E);const o=await Hx(n.localStore,t,!0),c=new fO(t,o.Qs),h=c.ru(o.documents),f=_u.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=c.applyChanges(h,n.isPrimaryClient,f);Jx(n,e,d.au);const y=new dO(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function vO(n,t,e){const i=Rt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!yd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Dp(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&Ty(i.remoteStore,r.targetId),Vp(i,r.targetId)})).catch(hl)):(Vp(i,r.targetId),await Dp(i.localStore,r.targetId,!0))}async function bO(n,t){const e=Rt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Ty(e.remoteStore,i.targetId))}async function xO(n,t,e){const i=CO(n);try{const r=await(function(c,h){const f=Rt(c),d=he.now(),y=h.reduce(((E,A)=>E.add(A.key)),zt());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let A=js(),C=zt();return f.Ns.getEntries(E,y).next((N=>{A=N,A.forEach(((L,F)=>{F.isValidDocument()||(C=C.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,A))).next((N=>{_=N;const L=[];for(const F of h){const H=PM(F,_.get(F.key).overlayedDocument);H!=null&&L.push(new $a(F.key,H,FT(H.value.mapValue),Qi.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,L,h)})).next((N=>{b=N;const L=N.applyToLocalDocumentSet(_,C);return f.documentOverlayCache.saveOverlays(E,N.batchId,L)}))})).then((()=>({batchId:b.batchId,changes:ZT(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let d=c.Vu[c.currentUser.toKey()];d||(d=new ge(Ut)),d=d.insert(h,f),c.Vu[c.currentUser.toKey()]=d})(i,r.batchId,e),await bu(i,r.changes),await Td(i.remoteStore)}catch(r){const o=Iy(r,"Failed to persist write");e.reject(o)}}async function VS(n,t){const e=Rt(n);try{const i=await kD(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Qt(c.hu,14607):r.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await bu(e,i,t)}catch(i){await hl(i)}}function Zx(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Rt(c);f.onlineState=h;let d=!1;f.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(h)&&(d=!0)})),d&&Ny(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function wO(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new ge(yt.comparator);c=c.insert(o,cn.newNoDocument(o,St.min()));const h=zt().add(o),f=new xd(St.min(),new Map,new ge(Ut),c,h);await VS(i,f),i.du=i.du.remove(o),i.Au.delete(t),Dy(i)}else await Dp(i.localStore,t,!1).then((()=>Vp(i,t,e))).catch(hl)}async function EO(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await OD(e.localStore,t);LS(e,i,null),PS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await bu(e,r)}catch(r){await hl(r)}}async function TO(n,t,e){const i=Rt(n);try{const r=await(function(c,h){const f=Rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,h).next((_=>(Qt(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(i.localStore,t);LS(i,t,e),PS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await bu(i,r)}catch(r){await hl(r)}}function PS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function LS(n,t,e){const i=Rt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Vp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||jS(n,i)}))}function jS(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Ty(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Dy(n))}function Jx(n,t,e){for(const i of e)i instanceof DS?(n.Ru.addReference(i.key,t),SO(n,i)):i instanceof OS?(ht(My,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||jS(n,i.key)):Et(19791,{wu:i})}function SO(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ht(My,"New document in limbo: "+e),n.Eu.add(i),Dy(n))}function Dy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(ue.fromString(t)),i=n.fu.next();n.Au.set(i,new mO(e)),n.du=n.du.insert(e,i),ES(n.remoteStore,new Tr(Xi(my(e.path)),i,"TargetPurposeLimboResolution",dd.ce))}}async function bu(n,t,e){const i=Rt(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const y=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){r.push(d);const y=wy.As(f.targetId,d);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,d){const y=Rt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>it.forEach(d,(b=>it.forEach(b.Es,(E=>y.persistence.referenceDelegate.addReference(_,b.targetId,E))).next((()=>it.forEach(b.ds,(E=>y.persistence.referenceDelegate.removeReference(_,b.targetId,E)))))))))}catch(_){if(!fl(_))throw _;ht(Ey,"Failed to update sequence numbers: "+_)}for(const _ of d){const b=_.targetId;if(!_.fromCache){const E=y.Ms.get(b),A=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(A);y.Ms=y.Ms.insert(b,C)}}})(i.localStore,o))}async function AO(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ht(My,"User change. New user:",t.toKey());const i=await vS(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new gt(at.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await bu(e,i.Ls)}}function RO(n,t){const e=Rt(n),i=e.Au.get(t);if(i&&i.hu)return zt().add(i.key);{let r=zt();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function US(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wO.bind(null,t),t.Pu.H_=uO.bind(null,t.eventManager),t.Pu.yu=hO.bind(null,t.eventManager),t}function CO(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TO.bind(null,t),t}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return DD(this.persistence,new ID,t.initialUser,this.serializer)}Cu(t){return new _S(xy.mi,this.serializer)}Du(t){return new UD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class IO extends Wf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof Xf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new mD(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new _S((i=>Xf.mi(i,e)),this.serializer)}}class Pp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Zx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AO.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cO})()}createDatastore(t){const e=wd(t.databaseInfo.databaseId),i=(function(o){return new qD(o)})(t.databaseInfo);return(function(o,c,h,f){return new KD(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new QD(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>Zx(this.syncEngine,e,0)),(function(){return Yx.v()?new Yx:new zD})())}createSyncEngine(t,e){return(function(r,o,c,h,f,d,y){const _=new gO(r,o,c,h,f,d);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Rt(e);ht(za,"RemoteStore shutting down."),i.Ea.add(5),await vu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class NO{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ln.UNAUTHENTICATED,this.clientId=oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ht(Br,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ht(Br,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Iy(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Zg(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Br,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await vS(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function tw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await MO(n);ht(Br,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Kx(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>Kx(t.remoteStore,r))),n._onlineComponents=t}async function MO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Br,"Using user provided OfflineComponentProvider");try{await Zg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===at.FAILED_PRECONDITION||r.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;el("Error using user provided cache. Falling back to memory cache: "+e),await Zg(n,new Wf)}}else ht(Br,"Using default OfflineComponentProvider"),await Zg(n,new IO(void 0));return n._offlineComponents}async function BS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Br,"Using user provided OnlineComponentProvider"),await tw(n,n._uninitializedComponentsProvider._online)):(ht(Br,"Using default OnlineComponentProvider"),await tw(n,new Pp))),n._onlineComponents}function DO(n){return BS(n).then((t=>t.syncEngine))}async function FS(n){const t=await BS(n),e=t.eventManager;return e.onListen=pO.bind(null,t.syncEngine),e.onUnlisten=vO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=yO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=bO.bind(null,t.syncEngine),e}function OO(n,t,e={}){const i=new ks;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,d){const y=new zS({next:b=>{y.Nu(),c.enqueueAndForget((()=>NS(o,_)));const E=b.docs.has(h);!E&&b.fromCache?d.reject(new gt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&f&&f.source==="server"?d.reject(new gt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new MS(my(h.path),y,{includeMetadataChanges:!0,qa:!0});return IS(o,_)})(await FS(n),n.asyncQueue,t,e,i))),i.promise}function kO(n,t,e={}){const i=new ks;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,d){const y=new zS({next:b=>{y.Nu(),c.enqueueAndForget((()=>NS(o,_))),b.fromCache&&f.source==="server"?d.reject(new gt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new MS(h,y,{includeMetadataChanges:!0,qa:!0});return IS(o,_)})(await FS(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firestore.googleapis.com",nw=!0;class iw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=nw}else this.host=t.host,this.ssl=t.ssl??nw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fD)throw new gt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sd{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new UN;switch(i.type){case"firstParty":return new HN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=ew.get(e);i&&(ht("ComponentProvider","Removing Datastore"),ew.delete(e),i.terminate())})(this),Promise.resolve()}}function VO(n,t,e,i={}){n=Vr(n,Sd);const r=Ha(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Gp(`https://${h}`),Yp("Firestore",!0)),o.host!==qS&&o.host!==h&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!Va(f,c)&&(n._setSettings(f),i.mockUserToken)){let d,y;if(typeof i.mockUserToken=="string")d=i.mockUserToken,y=ln.MOCK_USER;else{d=LE(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new gt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(_)}n._authCredentials=new zN(new NT(d,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ad(this.firestore,t,this._query)}}class Fe{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(pu(e,Fe._jsonSchema))return new Fe(t,i||null,new yt(ue.fromString(e.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:Ve("string",Fe._jsonSchemaVersion),referencePath:Ve("string")};class Dr extends Ad{constructor(t,e,i){super(t,e,my(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new yt(t))}withConverter(t){return new Dr(this.firestore,t,this._path)}}function Rd(n,t,...e){if(n=pn(n),MT("collection","path",t),n instanceof Sd){const i=ue.fromString(t,...e);return yx(i),new Dr(n,null,i)}{if(!(n instanceof Fe||n instanceof Dr))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return yx(i),new Dr(n.firestore,null,i)}}function Yr(n,t,...e){if(n=pn(n),arguments.length===1&&(t=oy.newId()),MT("doc","path",t),n instanceof Sd){const i=ue.fromString(t,...e);return px(i),new Fe(n,null,new yt(i))}{if(!(n instanceof Fe||n instanceof Dr))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return px(i),new Fe(n.firestore,n instanceof Dr?n.converter:null,new yt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="AsyncQueue";class rw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xS(this,"async_queue_retry"),this._c=()=>{const i=Wg();i&&ht(sw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Wg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Wg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fl(t))throw t;ht(sw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",aw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=Cy.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Et(47125,{Pc:aw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function aw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class xu extends Sd{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new rw,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new rw(t),this._firestoreClient=void 0,await t}}}function PO(n,t){const e=typeof n=="object"?n:Xp(),i=typeof n=="string"?n:Ff,r=cd(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=kE("firestore");o&&VO(r,...o)}return r}function Oy(n){if(n._terminated)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LO(n),n._firestoreClient}function LO(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new aM(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new NO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(sn.fromBase64String(t))}catch(e){throw new gt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Zn(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(pu(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ve("string",Zn._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(t){if(pu(t,Zi._jsonSchema))return new Zi(t.latitude,t.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:Ve("string",Zi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(pu(t,Ji._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ji(t.vectorValues);throw new gt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:Ve("string",Ji._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class UO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new $a(t,this.data,this.fieldMask,e,this.fieldTransforms):new yu(t,this.data,e,this.fieldTransforms)}}function YS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:n})}}class Vy{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Vy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Zf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(YS(this.Ac)&&jO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class zO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||wd(t)}Cc(t,e,i,r=!1){return new Vy({Ac:t,methodName:e,Dc:i,path:nn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BO(n){const t=n._freezeSettings(),e=wd(n._databaseId);return new zO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function FO(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);QS("Data must be an object, but it was:",c,i);const h=KS(i,c);let f,d;if(o.merge)f=new _i(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const b=HO(t,_,e);if(!c.contains(b))throw new gt(at.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);GO(y,b)||y.push(b)}f=new _i(y),d=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=c.fieldTransforms;return new UO(new Wn(h),f,d)}function $S(n,t){if(XS(n=pn(n)))return QS("Unsupported field value:",t,n),KS(n,t);if(n instanceof GS)return(function(i,r){if(!YS(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=$S(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=pn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return NM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=he.fromDate(i);return{timestampValue:Kf(r.serializer,o)}}if(i instanceof he){const o=new he(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kf(r.serializer,o)}}if(i instanceof Zi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zn)return{bytesValue:uS(r.serializer,i._byteString)};if(i instanceof Fe){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ji)return(function(c,h){return{mapValue:{fields:{[zT]:{stringValue:BT},[Hf]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return gy(h.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${ly(i)}`)})(n,t)}function KS(n,t){const e={};return kT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ga(n,((i,r)=>{const o=$S(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function XS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof he||n instanceof Zi||n instanceof Zn||n instanceof Fe||n instanceof GS||n instanceof Ji)}function QS(n,t,e){if(!XS(e)||!DT(e)){const i=ly(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function HO(n,t,e){if((t=pn(t))instanceof ky)return t._internalPath;if(typeof t=="string")return WS(n,t);throw Zf("Field path arguments must be of type string or ",n,!1,void 0,e)}const qO=new RegExp("[~\\*/\\[\\]]");function WS(n,t,e){if(t.search(qO)>=0)throw Zf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ky(...t.split("."))._internalPath}catch{throw Zf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Zf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new gt(at.INVALID_ARGUMENT,h+n+f)}function GO(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(JS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class YO extends ZS{data(){return super.data()}}function JS(n,t){return typeof t=="string"?WS(n,t):t instanceof ky?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KO{convertValue(t,e="none"){switch(Ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ga(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Hf].arrayValue?.values?.map((i=>Ee(i.doubleValue)));return new Ji(e)}convertGeoPoint(t){return new Zi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=gd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Qc(t));default:return null}}convertTimestamp(t){const e=Lr(t);return new he(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ue.fromString(t);Qt(pS(i),9688,{name:t});const r=new Wc(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return r.isEqual(e)||Ls(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Dc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Oa extends ZS{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(JS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Oa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:Ve("string",Oa._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Nf extends Oa{data(t={}){return super.data(t)}}class Zo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Dc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Nf(this._firestore,this._userDataWriter,i.key,i,new Dc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new Nf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Dc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Nf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Dc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,y=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:QO(h.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Zo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function QO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(n){n=Vr(n,Fe);const t=Vr(n.firestore,xu);return OO(Oy(t),n._key).then((e=>ZO(t,n,e)))}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:Ve("string",Zo._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class t1 extends KO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,e)}}function Cd(n){n=Vr(n,Ad);const t=Vr(n.firestore,xu),e=Oy(t),i=new t1(t);return $O(n._query),kO(e,n._query).then((r=>new Zo(t,i,n,r)))}function ml(n,t,e){n=Vr(n,Fe);const i=Vr(n.firestore,xu),r=XO(n.converter,t);return n1(i,[FO(BO(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Qi.none())])}function e1(n){return n1(Vr(n.firestore,xu),[new py(n._key,Qi.none())])}function n1(n,t){return(function(i,r){const o=new ks;return i.asyncQueue.enqueueAndForget((async()=>xO(await DO(i),r,o))),o.promise})(Oy(n),t)}function ZO(n,t,e){const i=e.docs.get(t._key),r=new t1(n);return new Oa(n,r,t._key,i,new Dc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){ul=r})(qa),Pa(new kr("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new xu(new BN(i.getProvider("auth-internal")),new qN(c,i.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new gt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(d.options.projectId,y)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),$i(fx,dx,t),$i(fx,dx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firebasestorage.googleapis.com",JO="storageBucket",t4=120*1e3,e4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ss{constructor(t,e,i=0){super(Jg(t),`Firebase Storage: ${e} (${Jg(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rs.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Jg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var is;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(is||(is={}));function Jg(n){return"storage/"+n}function n4(){const n="An unknown error occurred, please check the error payload for server response.";return new rs(is.UNKNOWN,n)}function i4(){return new rs(is.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s4(){return new rs(is.CANCELED,"User canceled the upload/download.")}function r4(n){return new rs(is.INVALID_URL,"Invalid URL '"+n+"'.")}function a4(n){return new rs(is.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ow(n){return new rs(is.INVALID_ARGUMENT,n)}function s1(){return new rs(is.APP_DELETED,"The Firebase app was deleted.")}function o4(n){return new rs(is.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=vi.makeFromUrl(t,e)}catch{return new vi(t,"")}if(i.path==="")return i;throw a4(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function d(Z){Z.path_=decodeURIComponent(Z.path)}const y="v[A-Za-z0-9_]+",_=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${y}/b/${r}/o${b}`,"i"),A={bucket:1,path:3},C=e===i1?"(?:storage.googleapis.com|storage.cloud.google.com)":e,N="([^?#]*)",L=new RegExp(`^https?://${C}/${r}/${N}`,"i"),H=[{regex:h,indices:f,postModify:o},{regex:E,indices:A,postModify:d},{regex:L,indices:{bucket:1,path:2},postModify:d}];for(let Z=0;Z<H.length;Z++){const Q=H[Z],rt=Q.regex.exec(t);if(rt){const M=rt[Q.indices.bucket];let R=rt[Q.indices.path];R||(R=""),i=new vi(M,R),Q.postModify(i);break}}if(i==null)throw r4(t);return i}}class l4{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let d=!1;function y(...N){d||(d=!0,t.apply(null,N))}function _(N){r=setTimeout(()=>{r=null,n(E,f())},N)}function b(){o&&clearTimeout(o)}function E(N,...L){if(d){b();return}if(N){b(),y.call(null,N,...L);return}if(f()||c){b(),y.call(null,N,...L);return}i<64&&(i*=2);let H;h===1?(h=2,H=0):H=(i+Math.random())*1e3,_(H)}let A=!1;function C(N){A||(A=!0,b(),!d&&(r!==null?(N||(h=2),clearTimeout(r),_(0)):N||(h=1)))}return _(0),o=setTimeout(()=>{c=!0,C(!0)},e),C}function u4(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n){return n!==void 0}function lw(n,t,e,i){if(i<t)throw ow(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw ow(`Invalid value for '${n}'. Expected ${e} or less.`)}function f4(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Jf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Jf||(Jf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t,e,i,r,o,c,h,f,d,y,_,b=!0,E=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,C)=>{this.resolve_=A,this.reject_=C,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new rf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Jf.NO_ERROR,f=o.getStatus();if(!h||d4(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Jf.ABORT;i(!1,new rf(!1,null,y));return}const d=this.successCodes_.indexOf(f)!==-1;i(!0,new rf(d,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());h4(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=n4();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?s1():s4();c(f)}else{const f=i4();c(f)}};this.canceled_?e(!1,new rf(!1,null,!0)):this.backoffId_=c4(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&u4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rf{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function g4(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function p4(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function y4(n,t){t&&(n["X-Firebase-GMPID"]=t)}function _4(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function v4(n,t,e,i,r,o,c=!0,h=!1){const f=f4(n.urlParams),d=n.url+f,y=Object.assign({},n.headers);return y4(y,t),g4(y,e),p4(y,o),_4(y,i),new m4(d,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function x4(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,e){this._service=t,e instanceof vi?this._location=e:this._location=vi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new td(t,e)}get root(){const t=new vi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x4(this._location.path)}get storage(){return this._service}get parent(){const t=b4(this._location.path);if(t===null)return null;const e=new vi(this._location.bucket,t);return new td(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw o4(t)}}function cw(n,t){const e=t?.[JO];return e==null?null:vi.makeFromBucketSpec(e,n)}function w4(n,t,e,i={}){n.host=`${t}:${e}`;const r=Ha(t);r&&(Gp(`https://${n.host}/b`),Yp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:LE(o,n.app.options.projectId))}class E4{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=i1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=t4,this._maxUploadRetryTime=e4,this._requests=new Set,r!=null?this._bucket=vi.makeFromBucketSpec(r,this._host):this._bucket=cw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=vi.makeFromBucketSpec(this._url,t):this._bucket=cw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){lw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){lw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new td(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new l4(s1());{const c=v4(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const uw="@firebase/storage",hw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="storage";function T4(n=Xp(),t){n=pn(n);const i=cd(n,r1).getImmediate({identifier:t}),r=kE("storage");return r&&S4(i,...r),i}function S4(n,t,e,i={}){w4(n,t,e,i)}function A4(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new E4(e,i,r,t,qa)}function R4(){Pa(new kr(r1,A4,"PUBLIC").setMultipleInstances(!0)),$i(uw,hw,""),$i(uw,hw,"esm2020")}R4();const C4={apiKey:"AIzaSyBpLnEBDMz-FXoSYWN9EWsUuMAIu-Dpt9M",authDomain:"drivesense-7cac6.firebaseapp.com",projectId:"drivesense-7cac6",storageBucket:"drivesense-7cac6.firebasestorage.app",messagingSenderId:"751400174977",appId:"1:751400174977:web:c1d4109794ca4d41bb5480"},Py=zE(C4),I4=gu(Py),ii=PO(Py);T4(Py);const fw=({isLoggedIn:n,setIsLoggedIn:t,setUser:e})=>{const i=Pe(),r=async()=>{const o=new Is;try{const h=(await G2(I4,o)).user;e({displayName:h.displayName,email:h.email,photoURL:h.photoURL,uid:h.uid});const f=Yr(ii,"users",h.uid);(await WO(f)).exists()||await ml(f,{uid:h.uid,name:h.displayName,email:h.email,photoURL:h.photoURL,createdAt:new Date().toISOString()}),t(y=>!y),n&&console.log("Google Sign-In successful:",h)}catch(c){console.error("Google Sign-In error:",c)}};return T.jsxs("div",{className:`flex flex-row items-center justify-center px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)]  \r
            bg-[var(--blue-color)] text-[var(--light-color)] cursor-pointer rounded-full gap-[calc(0.2vw+0.3rem)] \r
            hover:bg-[var(--purple-color)] hover:text-[var(--dark-color)] transition duration-300 ease-in-out`,children:[T.jsx("i",{className:"bxl bx-google bx-tada-hover text-[calc(0.4vw+0.8rem)]"}),T.jsx("span",{onClick:r,className:`${i?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}`,children:"Sign in with Google"})]})},a1=({closePopup:n,children:t})=>T.jsx("div",{className:"fixed top-0 left-0 w-screen h-screen flex items-center justify-center bg-[rgba(0,0,0,0.5)] z-4",children:T.jsxs("div",{className:"relative bg-[var(--light-color)] p-6 rounded-xl rounded-tr-none flex flex-col items-center justify-center",children:[T.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                    flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:n}),t]})});function N4({isLoggedIn:n,setIsLoggedIn:t,setUser:e,setIsFormVisible:i}){const r=Pe();console.log("Sign up form is visible");const[o,c]=st.useState(!1),[h,f]=st.useState(""),[d,y]=st.useState(""),_=gu(),b=async()=>{try{const A=(await b2(_,h,d)).user;e({displayName:null,email:A.email,photoURL:null,uid:A.uid});const C=Yr(ii,"users",A.uid);await ml(C,{uid:A.uid,email:A.email,name:null,photoURL:null,createdAt:new Date().toISOString()}),console.log("User document created"),console.log("Signed up successfully!",A),console.log("Uid: ",A.uid),i(!1),t(!0)}catch(E){c(!0),console.error("Error signing up:",E.message)}};return T.jsx(T.Fragment,{children:!n&&T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"email",placeholder:"Email",className:`${r?"placeholder:text-[calc(0.4vw+0.6rem)] text-[calc(0.4vw+0.6rem)]":"placeholder:text-[calc(0.4vw+0.5rem)] text-[calc(0.4vw+0.5rem)]"} 
                    cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]
                    placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] w-full`,required:!0,onChange:E=>f(E.target.value)}),T.jsx("input",{type:"password",placeholder:"Password",className:`${r?"placeholder:text-[calc(0.4vw+0.6rem)] text-[calc(0.4vw+0.6rem)]":"placeholder:text-[calc(0.4vw+0.5rem)] text-[calc(0.4vw+0.5rem)]"} 
                    cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]
                    placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] w-full`,required:!0,onChange:E=>y(E.target.value)}),T.jsx("span",{className:`${r?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}
                    text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer 
                    bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>b(),children:"Continue"}),o&&T.jsx(a1,{closePopup:()=>c(!1),children:T.jsx("p",{className:"text-[calc(0.4vw+0.5rem)]",children:"Email is invalid or already in used."})})]})})}function M4({isLoggedIn:n,setIsLoggedIn:t,setIsFormVisible:e,setUser:i}){const r=Pe();console.log("Sign in form is visible");const[o,c]=st.useState(!1),[h,f]=st.useState(""),[d,y]=st.useState(""),_=gu(),b=async()=>{try{await x2(_,h,d).then(E=>{const A=E.user;console.log("Signed in sukses!",A),console.log("Uid: ",A.uid),i({displayName:null,email:A.email,photoURL:null,uid:A.uid}),e(!1),setTimeout(()=>{t(!0)},3e3)}).catch(E=>{const A=E.code,C=E.message;c(!0),console.log(A,C)})}catch(E){c(!0),console.log("Can't sign in!",E)}};return T.jsx(T.Fragment,{children:!n&&T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"email",placeholder:"Email",className:`${r?"placeholder:text-[calc(0.4vw+0.6rem)] text-[calc(0.4vw+0.6rem)]":"placeholder:text-[calc(0.4vw+0.5rem)] text-[calc(0.4vw+0.5rem)]"} 
                    cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]
                    placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] w-full`,required:!0,onChange:E=>f(E.target.value)}),T.jsx("input",{type:"password",placeholder:"Password",className:`${r?"placeholder:text-[calc(0.4vw+0.6rem)] text-[calc(0.4vw+0.6rem)]":"placeholder:text-[calc(0.4vw+0.5rem)] text-[calc(0.4vw+0.5rem)]"}
                    cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]
                    placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] w-full`,required:!0,onChange:E=>y(E.target.value)}),T.jsx("span",{className:`${r?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}
                    text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer 
                    bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>b(),children:"Continue"}),o&&T.jsx(a1,{closePopup:()=>c(!1),children:T.jsx("p",{className:"text-[calc(0.4vw+0.5rem)]",children:"The email address you've entered doesn't match any account."})})]})})}function D4({isDark:n,setIsDark:t,isLoggedIn:e,setIsLoggedIn:i,setUser:r}){const o=Pe(),[c,h]=st.useState(!1),[f,d]=st.useState(!1),[y,_]=st.useState(!1),b=()=>{d(E=>!E)};return T.jsxs("div",{className:`
            ${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[T.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&T.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(E=>!E)}),T.jsx("img",{src:Nr,className:"h-[calc(1.2vw+1.8rem)] w-[calc(1.2vw+1.8rem)] cursor-pointer hovered"}),T.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),!o&&T.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",onClick:()=>{location.reload()},children:"Home"}),T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Features"}),T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",onClick:()=>{window.open("https://github.com/Yureusu/DriveSense/actions")},children:"Github"})]}),T.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"}),T.jsx("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}
                    ${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                    px-[calc(0.4vw+0.6rem)] py-[calc(0.2vw+0.3rem)] rounded-md cursor-pointer
                    hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)] font-semibold`,onClick:()=>b(),children:"Sign In"}),f&&T.jsx("div",{className:"fade-in absolute top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:T.jsxs("div",{className:`${o?"h-auto w-[264px]":"h-[420px] w-[420px]"}
                        bg-[var(--light-color)] flex flex-col items-center justify-start relative rounded-xl rounded-tr-none`,children:[T.jsx("i",{className:`${o?"text-[calc(1vw+1.6rem)] top-[-8px] right-[-12px]":"text-[calc(1vw+1.2rem)] top-[-10px] right-[-14px]"}
                            fa-solid fa-circle-xmark text-[var(--blue-color)] hovered
                            flex flex-row items-center justify-center absolute cursor-pointer`,onClick:()=>d(E=>!E)}),T.jsxs("div",{className:`${o?"py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)]":"py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)]"}
                            w-full flex flex-col items-center justify-start gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]`,children:[T.jsx("img",{src:Nr,className:"h-[calc(1.2vw+1.8rem)] w-[calc(1.2vw+1.8rem)] cursor-pointer",alt:""}),!y&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold text-center",children:"Sign in to your account"}),T.jsx(fw,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),T.jsx("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}`,children:"Or continue with"}),T.jsx(M4,{isLoggedIn:e,setIsLoggedIn:i,setUser:r,setIsFormVisible:d}),T.jsxs("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}`,children:["Don't have an account?",T.jsx("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"} text-[var(--blue-color)] hovered cursor-pointer`,onClick:()=>_(E=>!E),children:" Sign Up"})]})]}),y&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Sign up an account"}),T.jsx(N4,{isLoggedIn:e,setIsLoggedIn:i,setUser:r,setIsFormVisible:d}),T.jsx("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}`,children:"Or continue with"}),T.jsx(fw,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),T.jsxs("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}`,children:["Already have an account?",T.jsx("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"} text-[var(--blue-color)] hovered cursor-pointer`,onClick:()=>_(E=>!E),children:" Sign In"})]})]})]})]})}),T.jsx(wT,{isDark:n,setIsDark:t})]}),o&&c&&T.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:T.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[T.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(E=>!E)}),T.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] w-full cursor-pointer hovered font-semibold",onClick:()=>{location.reload()},children:"Home"}),T.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] w-full cursor-pointer hovered font-semibold",children:"Features"}),T.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] w-full cursor-pointer hovered font-semibold",children:"Github"})]})})]})}const O4="/DriveSense/assets/car-img-DqpG-dY6.png",af=({icon:n,title:t,info:e,isDark:i})=>{const r=Pe();return T.jsxs("div",{className:`
            ${r?"w-[152px] h-[240px]":"flex-1"}
            flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)] 
            p-[calc(0.4vw+0.6rem)] rounded-lg border border-[var(--border-color)]`,children:[n,T.jsx("span",{className:`${r?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} font-semibold text-center`,children:t}),T.jsx("span",{className:`${r?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} text-center`,children:e})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wu(n){return n+.5|0}const Sr=(n,t,e)=>Math.max(Math.min(n,e),t);function Oc(n){return Sr(wu(n*2.55),0,255)}function Or(n){return Sr(wu(n*255),0,255)}function Cs(n){return Sr(wu(n/2.55)/100,0,1)}function dw(n){return Sr(wu(n*100),0,100)}const Qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Lp=[..."0123456789ABCDEF"],k4=n=>Lp[n&15],V4=n=>Lp[(n&240)>>4]+Lp[n&15],of=n=>(n&240)>>4===(n&15),P4=n=>of(n.r)&&of(n.g)&&of(n.b)&&of(n.a);function L4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Qn[n[1]]*17,g:255&Qn[n[2]]*17,b:255&Qn[n[3]]*17,a:t===5?Qn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Qn[n[1]]<<4|Qn[n[2]],g:Qn[n[3]]<<4|Qn[n[4]],b:Qn[n[5]]<<4|Qn[n[6]],a:t===9?Qn[n[7]]<<4|Qn[n[8]]:255})),e}const j4=(n,t)=>n<255?t(n):"";function U4(n){var t=P4(n)?k4:V4;return n?"#"+t(n.r)+t(n.g)+t(n.b)+j4(n.a,t):void 0}const z4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function o1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function B4(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function F4(n,t,e){const i=o1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function H4(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Ly(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,d,y;return o!==c&&(y=o-c,d=h>.5?y/(2-o-c):y/(o+c),f=H4(e,i,r,y,o),f=f*60+.5),[f|0,d||0,h]}function jy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Or)}function Uy(n,t,e){return jy(o1,n,t,e)}function q4(n,t,e){return jy(F4,n,t,e)}function G4(n,t,e){return jy(B4,n,t,e)}function l1(n){return(n%360+360)%360}function Y4(n){const t=z4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Oc(+t[5]):Or(+t[5]));const r=l1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=q4(r,o,c):t[1]==="hsv"?i=G4(r,o,c):i=Uy(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function $4(n,t){var e=Ly(n);e[0]=l1(e[0]+t),e=Uy(e),n.r=e[0],n.g=e[1],n.b=e[2]}function K4(n){if(!n)return;const t=Ly(n),e=t[0],i=dw(t[1]),r=dw(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Cs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const mw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function X4(){const n={},t=Object.keys(gw),e=Object.keys(mw);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,mw[o]);o=parseInt(gw[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let lf;function Q4(n){lf||(lf=X4(),lf.transparent=[0,0,0,0]);const t=lf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const W4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Z4(n){const t=W4.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Oc(c):Sr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Oc(i):Sr(i,0,255)),r=255&(t[4]?Oc(r):Sr(r,0,255)),o=255&(t[6]?Oc(o):Sr(o,0,255)),{r:i,g:r,b:o,a:e}}}function J4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Cs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const tp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Fo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function tk(n,t,e){const i=Fo(Cs(n.r)),r=Fo(Cs(n.g)),o=Fo(Cs(n.b));return{r:Or(tp(i+e*(Fo(Cs(t.r))-i))),g:Or(tp(r+e*(Fo(Cs(t.g))-r))),b:Or(tp(o+e*(Fo(Cs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function cf(n,t,e){if(n){let i=Ly(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Uy(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function c1(n,t){return n&&Object.assign(t||{},n)}function pw(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Or(n[3]))):(t=c1(n,{r:0,g:0,b:0,a:1}),t.a=Or(t.a)),t}function ek(n){return n.charAt(0)==="r"?Z4(n):Y4(n)}class eu{constructor(t){if(t instanceof eu)return t;const e=typeof t;let i;e==="object"?i=pw(t):e==="string"&&(i=L4(t)||Q4(t)||ek(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=c1(this._rgb);return t&&(t.a=Cs(t.a)),t}set rgb(t){this._rgb=pw(t)}rgbString(){return this._valid?J4(this._rgb):void 0}hexString(){return this._valid?U4(this._rgb):void 0}hslString(){return this._valid?K4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,d=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=tk(this._rgb,t._rgb,e)),this}clone(){return new eu(this.rgb)}alpha(t){return this._rgb.a=Or(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=wu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return cf(this._rgb,2,t),this}darken(t){return cf(this._rgb,2,-t),this}saturate(t){return cf(this._rgb,1,t),this}desaturate(t){return cf(this._rgb,1,-t),this}rotate(t){return $4(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ss(){}const nk=(()=>{let n=0;return()=>n++})();function Xt(n){return n==null}function Be(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ei(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Hi(n,t){return ei(n)?n:t}function Mt(n,t){return typeof n>"u"?t:n}const ik=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,u1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ce(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,c;if(Be(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function ed(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function nd(n){if(Be(n))return n.map(nd);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=nd(n[e[r]]);return t}return n}function h1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function sk(n,t,e,i){if(!h1(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?nu(r,o,i):t[n]=nd(o)}function nu(n,t,e){const i=Be(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||sk;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let d=0,y=f.length;d<y;++d)o(f[d],n,c,e)}return n}function Fc(n,t){return nu(n,t,{merger:rk})}function rk(n,t,e){if(!h1(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?Fc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=nd(r))}const yw={"":n=>n,x:n=>n.x,y:n=>n.y};function ak(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function ok(n){const t=ak(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ba(n,t){return(yw[t]||(yw[t]=ok(t)))(n)}function zy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const iu=n=>typeof n<"u",Fr=n=>typeof n=="function",_w=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function lk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ee=Math.PI,_e=2*ee,ck=_e+ee,id=Number.POSITIVE_INFINITY,uk=ee/180,He=ee/2,Ta=ee/4,vw=ee*2/3,f1=Math.log10,ts=Math.sign;function Hc(n,t,e){return Math.abs(n-t)<e}function bw(n){const t=Math.round(n);n=Hc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(f1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function hk(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function fk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function su(n){return!fk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function dk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function mk(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ds(n){return n*(ee/180)}function gk(n){return n*(180/ee)}function xw(n){if(!ei(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function d1(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ee&&(o+=_e),{angle:o,distance:r}}function jp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function pk(n,t){return(n-t+ck)%_e-ee}function pi(n){return(n%_e+_e)%_e}function ru(n,t,e,i){const r=pi(n),o=pi(t),c=pi(e),h=pi(o-r),f=pi(c-r),d=pi(r-o),y=pi(r-c);return r===o||r===c||i&&o===c||h>f&&d<y}function un(n,t,e){return Math.max(t,Math.min(e,n))}function yk(n){return un(n,-32768,32767)}function Ar(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function By(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Da=(n,t,e,i)=>By(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),_k=(n,t,e)=>By(n,e,i=>n[i][t]>=e);function vk(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const m1=["push","pop","shift","splice","unshift"];function bk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),m1.forEach(e=>{const i="_onData"+zy(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function ww(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(m1.forEach(o=>{delete n[o]}),delete n._chartjs)}function g1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const p1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function y1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,p1.call(window,()=>{i=!1,n.apply(t,e)}))}}function xk(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Fy=n=>n==="start"?"left":n==="end"?"right":"center",on=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,wk=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Ek(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:_,max:b,minDefined:E,maxDefined:A}=c.getUserBounds();if(E){if(r=Math.min(Da(f,y,_).lo,e?i:Da(t,y,c.getPixelForValue(_)).lo),d){const C=f.slice(0,r+1).reverse().findIndex(N=>!Xt(N[h.axis]));r-=Math.max(0,C)}r=un(r,0,i-1)}if(A){let C=Math.max(Da(f,c.axis,b,!0).hi+1,e?0:Da(t,y,c.getPixelForValue(b),!0).hi+1);if(d){const N=f.slice(C-1).findIndex(L=>!Xt(L[h.axis]));C+=Math.max(0,N)}o=un(C,r,i)-r}else o=i-r}return{start:r,count:o}}function Tk(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const uf=n=>n===0||n===1,Ew=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*_e/e)),Tw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*_e/e)+1,qc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*He)+1,easeOutSine:n=>Math.sin(n*He),easeInOutSine:n=>-.5*(Math.cos(ee*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>uf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>uf(n)?n:Ew(n,.075,.3),easeOutElastic:n=>uf(n)?n:Tw(n,.075,.3),easeInOutElastic(n){return uf(n)?n:n<.5?.5*Ew(n*2,.1125,.45):.5+.5*Tw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-qc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?qc.easeInBounce(n*2)*.5:qc.easeOutBounce(n*2-1)*.5+.5};function Hy(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Sw(n){return Hy(n)?n:new eu(n)}function ep(n){return Hy(n)?n:new eu(n).saturate(.5).darken(.1).hexString()}const Sk=["x","y","borderWidth","radius","tension"],Ak=["color","borderColor","backgroundColor"];function Rk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Ak},numbers:{type:"number",properties:Sk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Ck(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Aw=new Map;function Ik(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Aw.get(e);return i||(i=new Intl.NumberFormat(n,t),Aw.set(e,i)),i}function qy(n,t,e){return Ik(t,e).format(n)}const Nk={values(n){return Be(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=Mk(n,e)}const c=f1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),qy(n,i,f)}};function Mk(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var _1={formatters:Nk};function Dk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Fa=Object.create(null),Up=Object.create(null);function Gc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function np(n,t,e){return typeof t=="string"?nu(Gc(n,t),e):nu(Gc(n,""),t)}class Ok{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>ep(r.backgroundColor),this.hoverBorderColor=(i,r)=>ep(r.borderColor),this.hoverColor=(i,r)=>ep(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return np(this,t,e)}get(t){return Gc(this,t)}describe(t,e){return np(Up,t,e)}override(t,e){return np(Fa,t,e)}route(t,e,i,r){const o=Gc(this,t),c=Gc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],d=c[r];return qt(f)?Object.assign({},d,f):Mt(f,d)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Te=new Ok({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Rk,Ck,Dk]);function kk(n){return!n||Xt(n.size)||Xt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Rw(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Sa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function Cw(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function zp(n,t,e,i){v1(n,t,e,i,null)}function v1(n,t,e,i,r){let o,c,h,f,d,y,_,b;const E=t.pointStyle,A=t.rotation,C=t.radius;let N=(A||0)*uk;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(N),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,C,0,0,_e):n.arc(e,i,C,0,_e),n.closePath();break;case"triangle":y=r?r/2:C,n.moveTo(e+Math.sin(N)*y,i-Math.cos(N)*C),N+=vw,n.lineTo(e+Math.sin(N)*y,i-Math.cos(N)*C),N+=vw,n.lineTo(e+Math.sin(N)*y,i-Math.cos(N)*C),n.closePath();break;case"rectRounded":d=C*.516,f=C-d,c=Math.cos(N+Ta)*f,_=Math.cos(N+Ta)*(r?r/2-d:f),h=Math.sin(N+Ta)*f,b=Math.sin(N+Ta)*(r?r/2-d:f),n.arc(e-_,i-h,d,N-ee,N-He),n.arc(e+b,i-c,d,N-He,N),n.arc(e+_,i+h,d,N,N+He),n.arc(e-b,i+c,d,N+He,N+ee),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*C,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}N+=Ta;case"rectRot":_=Math.cos(N)*(r?r/2:C),c=Math.cos(N)*C,h=Math.sin(N)*C,b=Math.sin(N)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+b,i-c),n.lineTo(e+_,i+h),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":N+=Ta;case"cross":_=Math.cos(N)*(r?r/2:C),c=Math.cos(N)*C,h=Math.sin(N)*C,b=Math.sin(N)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":_=Math.cos(N)*(r?r/2:C),c=Math.cos(N)*C,h=Math.sin(N)*C,b=Math.sin(N)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),N+=Ta,_=Math.cos(N)*(r?r/2:C),c=Math.cos(N)*C,h=Math.sin(N)*C,b=Math.sin(N)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(N)*C,h=Math.sin(N)*C,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(N)*(r?r/2:C),i+Math.sin(N)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function au(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Gy(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Yy(n){n.restore()}function Vk(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Pk(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Lk(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Xt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function jk(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function Uk(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function ou(n,t,e,i,r,o={}){const c=Be(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,Lk(n,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&Uk(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Xt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),jk(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function sd(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ee,ee,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ee,He,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,He,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-He,!0),n.lineTo(e+c.topLeft,i)}const zk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Bk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Fk(n,t){const e=(""+n).match(zk);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const Hk=n=>+n||0;function $y(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>Mt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=Hk(o(c));return e}function b1(n){return $y(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Jo(n){return $y(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ni(n){const t=b1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hn(n,t){n=n||{},t=t||Te.font;let e=Mt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Mt(n.style,t.style);i&&!(""+i).match(Bk)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Mt(n.family,t.family),lineHeight:Fk(Mt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Mt(n.weight,t.weight),string:""};return r.string=kk(r),r}function hf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function qk(n,t,e){const{min:i,max:r}=n,o=u1(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Xa(n,t){return Object.assign(Object.create(n),t)}function Ky(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=T1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>Ky([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return w1(h,f,()=>Zk(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return Nw(h).includes(f)},ownKeys(h){return Nw(h)},set(h,f,d){const y=h._storage||(h._storage=r());return h[f]=y[f]=d,delete h._keys,!0}})}function ol(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:x1(n,i),setContext:o=>ol(n,o,e,i),override:o=>ol(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return w1(o,c,()=>Yk(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function x1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Fr(e)?e:()=>e,isIndexable:Fr(i)?i:()=>i}}const Gk=(n,t)=>n?n+zy(t):t,Xy=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function w1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function Yk(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Fr(h)&&c.isScriptable(t)&&(h=$k(t,h,n,e)),Be(h)&&h.length&&(h=Kk(t,h,n,c.isIndexable)),Xy(t,h)&&(h=ol(h,r,o&&o[t],c)),h}function $k(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),Xy(n,f)&&(f=Qy(r._scopes,r,n,f)),f}function Kk(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,d=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const _=Qy(d,r,n,y);t.push(ol(_,o,c&&c[n],h))}}return t}function E1(n,t,e){return Fr(n)?n(t,e):n}const Xk=(n,t)=>n===!0?t:typeof n=="string"?Ba(t,n):void 0;function Qk(n,t,e,i,r){for(const o of t){const c=Xk(e,o);if(c){n.add(c);const h=E1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Qy(n,t,e,i){const r=t._rootScopes,o=E1(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=Iw(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=Iw(h,c,o,f,i),f===null)?!1:Ky(Array.from(h),[""],r,o,()=>Wk(t,e,i))}function Iw(n,t,e,i,r){for(;e;)e=Qk(n,t,e,i,r);return e}function Wk(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Be(r)&&qt(e)?e:r||{}}function Zk(n,t,e,i){let r;for(const o of t)if(r=T1(Gk(o,n),e),typeof r<"u")return Xy(n,r)?Qy(e,i,n,r):r}function T1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Nw(n){let t=n._keys;return t||(t=n._keys=Jk(n._scopes)),t}function Jk(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const tV=Number.EPSILON||1e-14,ll=(n,t)=>t<n.length&&!n[t].skip&&n[t],S1=n=>n==="x"?"y":"x";function eV(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=jp(o,r),f=jp(c,o);let d=h/(h+f),y=f/(h+f);d=isNaN(d)?0:d,y=isNaN(y)?0:y;const _=i*d,b=i*y;return{previous:{x:o.x-_*(c.x-r.x),y:o.y-_*(c.y-r.y)},next:{x:o.x+b*(c.x-r.x),y:o.y+b*(c.y-r.y)}}}function nV(n,t,e){const i=n.length;let r,o,c,h,f,d=ll(n,0);for(let y=0;y<i-1;++y)if(f=d,d=ll(n,y+1),!(!f||!d)){if(Hc(t[y],0,tV)){e[y]=e[y+1]=0;continue}r=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=r*c*t[y],e[y+1]=o*c*t[y])}}function iV(n,t,e="x"){const i=S1(e),r=n.length;let o,c,h,f=ll(n,0);for(let d=0;d<r;++d){if(c=h,h=f,f=ll(n,d+1),!h)continue;const y=h[e],_=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=_-o*t[d]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=_+o*t[d])}}function sV(n,t="x"){const e=S1(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,d=ll(n,0);for(c=0;c<i;++c)if(h=f,f=d,d=ll(n,c+1),!!f){if(d){const y=d[t]-f[t];r[c]=y!==0?(d[e]-f[e])/y:0}o[c]=h?d?ts(r[c-1])!==ts(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}nV(n,r,o),iV(n,o,t)}function ff(n,t,e){return Math.max(Math.min(n,e),t)}function rV(n,t){let e,i,r,o,c,h=au(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&au(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=ff(r.cp1x,t.left,t.right),r.cp1y=ff(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=ff(r.cp2x,t.left,t.right),r.cp2y=ff(r.cp2y,t.top,t.bottom)))}function aV(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")sV(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=eV(d,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,d=h}t.capBezierPoints&&rV(n,e)}function Wy(){return typeof window<"u"&&typeof document<"u"}function Zy(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function rd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Id=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function oV(n,t){return Id(n).getPropertyValue(t)}const lV=["top","right","bottom","left"];function ka(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=lV[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const cV=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function uV(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(cV(r,o,n.target))h=r,f=o;else{const d=t.getBoundingClientRect();h=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:h,y:f,box:c}}function Ca(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Id(e),o=r.boxSizing==="border-box",c=ka(r,"padding"),h=ka(r,"border","width"),{x:f,y:d,box:y}=uV(n,e),_=c.left+(y&&h.left),b=c.top+(y&&h.top);let{width:E,height:A}=t;return o&&(E-=c.width+h.width,A-=c.height+h.height),{x:Math.round((f-_)/E*e.width/i),y:Math.round((d-b)/A*e.height/i)}}function hV(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&Zy(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Id(o),f=ka(h,"border","width"),d=ka(h,"padding");t=c.width-d.width-f.width,e=c.height-d.height-f.height,i=rd(h.maxWidth,o,"clientWidth"),r=rd(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||id,maxHeight:r||id}}const df=n=>Math.round(n*10)/10;function fV(n,t,e,i){const r=Id(n),o=ka(r,"margin"),c=rd(r.maxWidth,n,"clientWidth")||id,h=rd(r.maxHeight,n,"clientHeight")||id,f=hV(n,t,e);let{width:d,height:y}=f;if(r.boxSizing==="content-box"){const b=ka(r,"border","width"),E=ka(r,"padding");d-=E.width+b.width,y-=E.height+b.height}return d=Math.max(0,d-o.width),y=Math.max(0,i?d/i:y-o.height),d=df(Math.min(d,c,f.maxWidth)),y=df(Math.min(y,h,f.maxHeight)),d&&!y&&(y=df(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,d=df(Math.floor(y*i))),{width:d,height:y}}function Mw(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const dV=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Wy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Dw(n,t){const e=oV(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ia(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function mV(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function gV(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Ia(n,r,e),h=Ia(r,o,e),f=Ia(o,t,e),d=Ia(c,h,e),y=Ia(h,f,e);return Ia(d,y,e)}const pV=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},yV=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function tl(n,t,e){return n?pV(t,e):yV()}function A1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function R1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function C1(n){return n==="angle"?{between:ru,compare:pk,normalize:pi}:{between:Ar,compare:(t,e)=>t-e,normalize:t=>t}}function Ow({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function _V(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=C1(i),f=t.length;let{start:d,end:y,loop:_}=n,b,E;if(_){for(d+=f,y+=f,b=0,E=f;b<E&&c(h(t[d%f][i]),r,o);++b)d--,y--;d%=f,y%=f}return y<d&&(y+=f),{start:d,end:y,loop:_,style:n.style}}function vV(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:d}=C1(i),{start:y,end:_,loop:b,style:E}=_V(n,t,e),A=[];let C=!1,N=null,L,F,H;const Z=()=>f(r,H,L)&&h(r,H)!==0,Q=()=>h(o,L)===0||f(o,H,L),rt=()=>C||Z(),M=()=>!C||Q();for(let R=y,D=y;R<=_;++R)F=t[R%c],!F.skip&&(L=d(F[i]),L!==H&&(C=f(L,r,o),N===null&&rt()&&(N=h(L,r)===0?R:D),N!==null&&M()&&(A.push(Ow({start:N,end:R,loop:b,count:c,style:E})),N=null),D=R,H=L));return N!==null&&A.push(Ow({start:N,end:_,loop:b,count:c,style:E})),A}function bV(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=vV(i[r],n.points,t);o.length&&e.push(...o)}return e}function xV(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function wV(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%r];d.skip||d.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=d.stop?f:null):(c=f,h.skip&&(t=f)),h=d}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function EV(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=xV(e,r,o,i);if(i===!0)return kw(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,d=!!n._fullLoop&&c===0&&h===r-1;return kw(n,wV(e,c,f,d),e,t)}function kw(n,t,e,i){return!i||!i.setContext||!e?t:TV(n,t,e,i)}function TV(n,t,e,i){const r=n._chart.getContext(),o=Vw(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,d=[];let y=o,_=t[0].start,b=_;function E(A,C,N,L){const F=h?-1:1;if(A!==C){for(A+=f;e[A%f].skip;)A-=F;for(;e[C%f].skip;)C+=F;A%f!==C%f&&(d.push({start:A%f,end:C%f,loop:N,style:L}),y=L,_=C%f)}}for(const A of t){_=h?_:A.start;let C=e[_%f],N;for(b=_+1;b<=A.end;b++){const L=e[b%f];N=Vw(i.setContext(Xa(r,{type:"segment",p0:C,p1:L,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),SV(N,y)&&E(_,b-1,A.loop,y),C=L,y=N}_<b-1&&E(_,b-1,A.loop,y)}return d}function Vw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function SV(n,t){if(!t)return!1;const e=[],i=function(r,o){return Hy(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function mf(n,t,e){return n.options.clip?n[e]:t[e]}function AV(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:mf(e,t,"left"),right:mf(e,t,"right"),top:mf(i,t,"top"),bottom:mf(i,t,"bottom")}:t}function RV(n,t){const e=t._clip;if(e.disabled)return!1;const i=AV(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class CV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=p1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var As=new CV;const Pw="transparent",IV={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Sw(n||Pw),r=i.valid&&Sw(t||Pw);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class NV{constructor(t,e,i,r){const o=e[i];r=hf([t.to,r,o,t.from]);const c=hf([t.from,o,r]);this._active=!0,this._fn=t.fn||IV[t.type||typeof c],this._easing=qc[t.easing]||qc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=hf([t.to,e,r,t.from]),this._from=hf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class I1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Te.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(Be(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=DV(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&MV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[d];let _=o[d];const b=i.get(d);if(_)if(b&&_.active()){_.update(b,y,h);continue}else _.cancel();if(!b||!b.duration){t[d]=y;continue}o[d]=_=new NV(b,t,d,y),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return As.add(this._chart,i),!0}}function MV(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function DV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Lw(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function OV(n,t,e){if(e===!1)return!1;const i=Lw(n,e),r=Lw(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function kV(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function N1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function jw(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,d;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(y=!0,i.all)continue;break}d=n.values[f],ei(d)&&(o||t===0||ts(t)===ts(d))&&(t+=d)}return!y&&!i.all?0:t}function VV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,d,y;for(f=0,d=c.length;f<d;++f)y=c[f],h[f]={[r]:y,[o]:n[y]};return h}function ip(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function PV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function LV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function jV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Uw(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function zw(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,d=c.axis,y=PV(o,c,i),_=t.length;let b;for(let E=0;E<_;++E){const A=t[E],{[f]:C,[d]:N}=A,L=A._stacks||(A._stacks={});b=L[d]=jV(r,y,C),b[h]=N,b._top=Uw(b,c,!0,i.type),b._bottom=Uw(b,c,!1,i.type);const F=b._visualValues||(b._visualValues={});F[h]=N}}function sp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function UV(n,t){return Xa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function zV(n,t,e){return Xa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function wc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const rp=n=>n==="reset"||n==="none",Bw=(n,t)=>t?n:Object.assign({},n),BV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:N1(e,!0),values:null};class Nd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ip(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&wc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,b,E,A)=>_==="x"?b:_==="r"?A:E,o=e.xAxisID=Mt(i.xAxisID,sp(t,"x")),c=e.yAxisID=Mt(i.yAxisID,sp(t,"y")),h=e.rAxisID=Mt(i.rAxisID,sp(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,c,h),y=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ww(this._data,this),t._stacked&&wc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=VV(e,r)}else if(i!==e){if(i){ww(i,this);const r=this._cachedMeta;wc(r),r._parsed=[]}e&&Object.isExtensible(e)&&bk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=ip(e.vScale,e),e.stack!==i.stack&&(r=!0,wc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(zw(this,e._parsed),e._stacked=ip(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],y,_,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Be(r[t])?b=this.parseArrayData(i,r,t,e):qt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const E=()=>_[h]===null||d&&_[h]<d[h];for(y=0;y<e;++y)i._parsed[y+t]=_=b[y],f&&(E()&&(f=!1),d=_);i._sorted=f}c&&zw(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,d=o.getLabels(),y=o===c,_=new Array(r);let b,E,A;for(b=0,E=r;b<E;++b)A=b+i,_[b]={[h]:y||o.parse(d[A],A),[f]:c.parse(e[A],A)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,d,y,_;for(f=0,d=r;f<d;++f)y=f+i,_=e[y],h[f]={x:o.parse(_[0],y),y:c.parse(_[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let y,_,b,E;for(y=0,_=r;y<_;++y)b=y+i,E=e[b],d[y]={x:o.parse(Ba(E,h),b),y:c.parse(Ba(E,f),b)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:N1(r,!0),values:e._stacks[t.axis]._visualValues};return jw(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=jw(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=BV(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:_}=LV(h);let b,E;function A(){E=r[b];const C=E[h.axis];return!ei(E[t.axis])||y>C||_<C}for(b=0;b<c&&!(!A()&&(this.updateRangeFromParsed(d,t,E,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(d,t,E,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ei(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=kV(Mt(this.options.clip,OV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,d=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const _=r[y];_.hidden||(_.active&&d?c.push(_):_.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=zV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=UV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&iu(i);if(h)return Bw(h,f);const d=this.chart.config,y=d.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],b=d.getOptionScopes(this.getDataset(),y),E=Object.keys(Te.elements[t]),A=()=>this.getContext(i,r,e),C=d.resolveNamedOptions(b,E,A,_);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(Bw(C,f))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,_=y.datasetAnimationScopeKeys(this._type,e),b=y.getOptionScopes(this.getDataset(),_);f=y.createResolver(b,this.getContext(t,i,e))}const d=new I1(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||rp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){rp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!rp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,d]of this._syncList)this[h](f,d);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=d=>{for(d.length+=e,h=d.length-1;h>=c;h--)d[h]=d[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&wc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function FV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=g1(i.sort((r,o)=>r-o))}return n._cache.$bar}function HV(n){const t=n.iScale,e=FV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(iu(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function qV(n,t,e,i){const r=e.barThickness;let o,c;return Xt(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function GV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const d=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:d}}function YV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,d=h;Math.abs(c)>Math.abs(h)&&(f=h,d=c),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:c,max:h}}function M1(n,t,e,i){return Be(n)?YV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Fw(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let d,y,_,b;for(d=e,y=e+i;d<y;++d)b=t[d],_={},_[r.axis]=h||r.parse(c[d],d),f.push(M1(b,_,o,d));return f}function ap(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function $V(n,t,e){return n!==0?ts(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function KV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function XV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:d,bottom:y}=KV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=y:(o[Hw(y,c,h,f)]=!0,r=d)),o[Hw(r,c,h,f)]=!0,n.borderSkipped=o}function Hw(n,t,e,i){return i?(n=QV(n,t,e),n=qw(n,e,t)):n=qw(n,t,e),n}function QV(n,t,e){return n===t?e:n===e?t:n}function qw(n,t,e){return n==="start"?t:n==="end"?e:n}function WV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class ZV extends Nd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return Fw(t,e,i,r)}parseArrayData(t,e,i,r){return Fw(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?h:f,y=c.axis==="x"?h:f,_=[];let b,E,A,C;for(b=i,E=i+r;b<E;++b)C=e[b],A={},A[o.axis]=o.parse(Ba(C,d),b),_.push(M1(Ba(C,y),A,c,b));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=ap(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),d=h.isHorizontal(),y=this._getRuler(),{sharedOptions:_,includeOptions:b}=this._getSharedOptions(e,r);for(let E=e;E<e+i;E++){const A=this.getParsed(E),C=o||Xt(A[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(E),N=this._calculateBarIndexPixels(E,y),L=(A._stacks||{})[h.axis],F={horizontal:d,base:C.base,enableBorderRadius:!L||ap(A._custom)||c===L._top||c===L._bottom,x:d?C.head:N.center,y:d?N.center:C.head,height:d?N.size:Math.abs(C.size),width:d?Math.abs(C.size):N.size};b&&(F.options=_||this.resolveDataElementOptions(E,t[E].active?"active":r));const H=F.options||t[E].options;XV(F,H,L,c),WV(F,H,y.ratio),this.updateElement(t[E],E,F,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],d=y=>{const _=y._parsed.find(E=>E[i.axis]===f),b=_&&_[y.vScale.axis];if(Xt(b)||isNaN(b))return!0};for(const y of r)if(!(e!==void 0&&d(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Mt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||HV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),d=f._custom,y=ap(d);let _=f[e.axis],b=0,E=i?this.applyStack(e,f,i):_,A,C;E!==_&&(b=E-_,E=_),y&&(_=d.barStart,E=d.barEnd-d.barStart,_!==0&&ts(_)!==ts(d.barEnd)&&(b=0),b+=_);const N=!Xt(o)&&!y?o:b;let L=e.getPixelForValue(N);if(this.chart.getDataVisibility(t)?A=e.getPixelForValue(b+E):A=L,C=A-L,Math.abs(C)<c){C=$V(C,e,h)*c,_===h&&(L-=C/2);const F=e.getPixelForDecimal(0),H=e.getPixelForDecimal(1),Z=Math.min(F,H),Q=Math.max(F,H);L=Math.max(Math.min(L,Q),Z),A=L+C,i&&!y&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(A)-e.getValueForPixel(L))}if(L===e.getPixelForValue(h)){const F=ts(C)*e.getLineWidthForValue(h)/2;L+=F,C-=F}return{size:C,base:L,head:A,center:A+C/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Mt(r.maxBarThickness,1/0);let h,f;const d=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?GV(t,e,r,y*d):qV(t,e,r,y*d),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Mt(b,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+E;h=_.start+_.chunk*A+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function JV(n,t,e){let i=1,r=1,o=0,c=0;if(t<_e){const h=n,f=h+t,d=Math.cos(h),y=Math.sin(h),_=Math.cos(f),b=Math.sin(f),E=(H,Z,Q)=>ru(H,h,f,!0)?1:Math.max(Z,Z*e,Q,Q*e),A=(H,Z,Q)=>ru(H,h,f,!0)?-1:Math.min(Z,Z*e,Q,Q*e),C=E(0,d,_),N=E(He,y,b),L=A(ee,d,_),F=A(ee+He,y,b);i=(C-L)/2,r=(N-F)/2,o=-(C+L)/2,c=-(N+F)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class t6 extends Nd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(qt(i[t])){const{key:f="value"}=this._parsing;o=d=>+Ba(i[d],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Ds(this.options.rotation-90)}_getCircumference(){return Ds(this.options.circumference)}_getRotationExtents(){let t=_e,e=-_e;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(ik(this.options.cutout,h),1),d=this._getRingWeight(this.index),{circumference:y,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:E,offsetX:A,offsetY:C}=JV(_,y,f),N=(i.width-c)/b,L=(i.height-c)/E,F=Math.max(Math.min(N,L)/2,0),H=u1(this.options.radius,F),Z=Math.max(H*f,0),Q=(H-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=A*H,this.offsetY=C*H,r.total=this.calculateTotal(),this.outerRadius=H-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/_e)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,d=c.options.animation,y=(h.left+h.right)/2,_=(h.top+h.bottom)/2,b=o&&d.animateScale,E=b?0:this.innerRadius,A=b?0:this.outerRadius,{sharedOptions:C,includeOptions:N}=this._getSharedOptions(e,r);let L=this._getRotation(),F;for(F=0;F<e;++F)L+=this._circumference(F,o);for(F=e;F<e+i;++F){const H=this._circumference(F,o),Z=t[F],Q={x:y+this.offsetX,y:_+this.offsetY,startAngle:L,endAngle:L+H,circumference:H,outerRadius:A,innerRadius:E};N&&(Q.options=C||this.resolveDataElementOptions(F,Z.active?"active":r)),L+=H,this.updateElement(Z,F,Q,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?_e*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=qy(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Mt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class e6 extends Nd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=Ek(e,r,c);this._drawStart=h,this._drawCount=f,Tk(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:d},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(e,r),b=c.axis,E=h.axis,{spanGaps:A,segment:C}=this.options,N=su(A)?A:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none",F=e+i,H=t.length;let Z=e>0&&this.getParsed(e-1);for(let Q=0;Q<H;++Q){const rt=t[Q],M=L?rt:{};if(Q<e||Q>=F){M.skip=!0;continue}const R=this.getParsed(Q),D=Xt(R[E]),P=M[b]=c.getPixelForValue(R[b],Q),O=M[E]=o||D?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,R,f):R[E],Q);M.skip=isNaN(P)||isNaN(O)||D,M.stop=Q>0&&Math.abs(R[b]-Z[b])>N,C&&(M.parsed=R,M.raw=d.data[Q]),_&&(M.options=y||this.resolveDataElementOptions(Q,rt.active?"active":r)),L||this.updateElement(rt,Q,M,r),Z=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Aa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jy{static override(t){Object.assign(Jy.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Aa()}parse(){return Aa()}format(){return Aa()}add(){return Aa()}diff(){return Aa()}startOf(){return Aa()}endOf(){return Aa()}}var n6={_date:Jy};function i6(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const d=h._reversePixels?_k:Da;if(i){if(r._sharedOptions){const y=o[0],_=typeof y.getRange=="function"&&y.getRange(t);if(_){const b=d(o,t,e-_),E=d(o,t,e+_);return{lo:b.lo,hi:E.hi}}}}else{const y=d(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:b}=n,E=b.slice(0,y.lo+1).reverse().findIndex(C=>!Xt(C[_.axis]));y.lo-=Math.max(0,E);const A=b.slice(y.hi).findIndex(C=>!Xt(C[_.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function Md(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:d,data:y}=o[h],{lo:_,hi:b}=i6(o[h],t,c,r);for(let E=_;E<=b;++E){const A=y[E];A.skip||i(A,d,E)}}}function s6(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function op(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Md(n,e,t,function(h,f,d){!r&&!au(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:d})},!0),o}function r6(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:d,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:_}=d1(c,{x:t.x,y:t.y});ru(_,d,y)&&r.push({element:c,datasetIndex:h,index:f})}return Md(n,e,t,o),r}function a6(n,t,e,i,r,o){let c=[];const h=s6(e);let f=Number.POSITIVE_INFINITY;function d(y,_,b){const E=y.inRange(t.x,t.y,r);if(i&&!E)return;const A=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!E)return;const N=h(t,A);N<f?(c=[{element:y,datasetIndex:_,index:b}],f=N):N===f&&c.push({element:y,datasetIndex:_,index:b})}return Md(n,e,t,d),c}function lp(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?r6(n,t,e,r):a6(n,t,e,i,r,o)}function Gw(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Md(n,e,t,(f,d,y)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:d,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var o6={modes:{index(n,t,e,i){const r=Ca(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?op(n,r,o,i,c):lp(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const y=h[0].index,_=d.data[y];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:y})}),f):[]},dataset(n,t,e,i){const r=Ca(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?op(n,r,o,i,c):lp(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,d=n.getDatasetMeta(f).data;h=[];for(let y=0;y<d.length;++y)h.push({element:d[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=Ca(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return op(n,r,o,i,c)},nearest(n,t,e,i){const r=Ca(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return lp(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ca(t,n);return Gw(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ca(t,n);return Gw(n,r,"y",e.intersect,i)}}};const D1=["left","top","right","bottom"];function Ec(n,t){return n.filter(e=>e.pos===t)}function Yw(n,t){return n.filter(e=>D1.indexOf(e.pos)===-1&&e.box.axis===t)}function Tc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function l6(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function c6(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!D1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function u6(n,t){const e=c6(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,d=e[h.stack],y=d&&h.stackWeight/d.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function h6(n){const t=l6(n),e=Tc(t.filter(d=>d.box.fullSize),!0),i=Tc(Ec(t,"left"),!0),r=Tc(Ec(t,"right")),o=Tc(Ec(t,"top"),!0),c=Tc(Ec(t,"bottom")),h=Yw(t,"x"),f=Yw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Ec(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function $w(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function O1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function f6(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&O1(c,o.getPadding());const h=Math.max(0,t.outerWidth-$w(c,n,"left","right")),f=Math.max(0,t.outerHeight-$w(c,n,"top","bottom")),d=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:d,other:y}:{same:y,other:d}}function d6(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function m6(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function kc(n,t,e,i){const r=[];let o,c,h,f,d,y;for(o=0,c=n.length,d=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,m6(h.horizontal,t));const{same:_,other:b}=f6(t,e,h,i);d|=_&&r.length,y=y||b,f.fullSize||r.push(h)}return d&&kc(r,t,e,i)||y}function gf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Kw(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,d=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/d.weight||1;if(h.horizontal){const _=t.w*y,b=d.size||f.height;iu(d.start)&&(c=d.start),f.fullSize?gf(f,r.left,c,e.outerWidth-r.right-r.left,b):gf(f,t.left+d.placed,c,_,b),d.start=c,d.placed+=_,c=f.bottom}else{const _=t.h*y,b=d.size||f.width;iu(d.start)&&(o=d.start),f.fullSize?gf(f,o,r.top,b,e.outerHeight-r.bottom-r.top):gf(f,o,t.top+d.placed,b,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=c}var Jn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ni(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=h6(n.boxes),f=h.vertical,d=h.horizontal;te(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const y=f.reduce((C,N)=>N.box.options&&N.box.options.display===!1?C:C+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),b=Object.assign({},r);O1(b,ni(i));const E=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),A=u6(f.concat(d),_);kc(h.fullSize,E,_,A),kc(f,E,_,A),kc(d,E,_,A)&&kc(f,E,_,A),d6(E),Kw(h.leftAndTop,E,_,A),E.x+=E.w,E.y+=E.h,Kw(h.rightAndBottom,E,_,A),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},te(h.chartArea,C=>{const N=C.box;Object.assign(N,n.chartArea),N.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class k1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class g6 extends k1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Mf="$chartjs",p6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Xw=n=>n===null||n==="";function y6(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Mf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Xw(r)){const o=Dw(n,"width");o!==void 0&&(n.width=o)}if(Xw(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=Dw(n,"height");o!==void 0&&(n.height=o)}return n}const V1=dV?{passive:!0}:!1;function _6(n,t,e){n&&n.addEventListener(t,e,V1)}function v6(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,V1)}function b6(n,t){const e=p6[n.type]||n.type,{x:i,y:r}=Ca(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function ad(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function x6(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||ad(h.addedNodes,i),c=c&&!ad(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function w6(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||ad(h.removedNodes,i),c=c&&!ad(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const lu=new Map;let Qw=0;function P1(){const n=window.devicePixelRatio;n!==Qw&&(Qw=n,lu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function E6(n,t){lu.size||window.addEventListener("resize",P1),lu.set(n,t)}function T6(n){lu.delete(n),lu.size||window.removeEventListener("resize",P1)}function S6(n,t,e){const i=n.canvas,r=i&&Zy(i);if(!r)return;const o=y1((h,f)=>{const d=r.clientWidth;e(h,f),d<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],d=f.contentRect.width,y=f.contentRect.height;d===0&&y===0||o(d,y)});return c.observe(r),E6(n,o),c}function cp(n,t,e){e&&e.disconnect(),t==="resize"&&T6(n)}function A6(n,t,e){const i=n.canvas,r=y1(o=>{n.ctx!==null&&e(b6(o,n))},n);return _6(i,t,r),r}class R6 extends k1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(y6(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Mf])return!1;const i=e[Mf].initial;["height","width"].forEach(o=>{const c=i[o];Xt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Mf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:x6,detach:w6,resize:S6}[e]||A6;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:cp,detach:cp,resize:cp}[e]||v6)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return fV(t,e,i,r)}isAttached(t){const e=t&&Zy(t);return!!(e&&e.isConnected)}}function C6(n){return!Wy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?g6:R6}class Us{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return su(this.x)&&su(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function I6(n,t){const e=n.options.ticks,i=N6(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?D6(t):[],c=o.length,h=o[0],f=o[c-1],d=[];if(c>r)return O6(t,d,o,c/r),d;const y=M6(o,t,r);if(c>0){let _,b;const E=c>1?Math.round((f-h)/(c-1)):null;for(pf(t,d,y,Xt(E)?0:h-E,h),_=0,b=c-1;_<b;_++)pf(t,d,y,o[_],o[_+1]);return pf(t,d,y,f,Xt(E)?t.length:f+E),d}return pf(t,d,y),d}function N6(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function M6(n,t,e){const i=k6(n),r=t.length/e;if(!i)return Math.max(r,1);const o=hk(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function D6(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function O6(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function pf(n,t,e,i,r){const o=Mt(i,0),c=Math.min(Mt(r,n.length),n.length);let h=0,f,d,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(d=Math.max(o,0);d<c;d++)d===y&&(t.push(n[d]),h++,y=Math.round(o+h*e))}function k6(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const V6=n=>n==="left"?"right":n==="right"?"left":n,Ww=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Zw=(n,t)=>Math.min(t||n,n);function Jw(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function P6(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,c-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-h||f>c+h)))return f}function L6(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Sc(n){return n.drawTicks?n.tickLength:0}function tE(n,t){if(!n.display)return 0;const e=hn(n.font,t),i=ni(n.padding);return(Be(n.text)?n.text.length:1)*e.lineHeight+i.height}function j6(n,t){return Xa(n,{scale:t,type:"scale"})}function U6(n,t,e){return Xa(n,{tick:e,index:t,type:"tick"})}function z6(n,t,e){let i=Fy(n);return(e&&t!=="right"||!e&&t==="right")&&(i=V6(i)),i}function B6(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:d,scales:y}=f;let _=0,b,E,A;const C=c-r,N=h-o;if(n.isHorizontal()){if(E=on(i,o,h),qt(e)){const L=Object.keys(e)[0],F=e[L];A=y[L].getPixelForValue(F)+C-t}else e==="center"?A=(d.bottom+d.top)/2+C-t:A=Ww(n,e,t);b=h-o}else{if(qt(e)){const L=Object.keys(e)[0],F=e[L];E=y[L].getPixelForValue(F)-N+t}else e==="center"?E=(d.left+d.right)/2-N+t:E=Ww(n,e,t);A=on(i,c,r),_=e==="left"?-He:He}return{titleX:E,titleY:A,maxWidth:b,rotation:_}}class gl extends Us{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Hi(t,Number.POSITIVE_INFINITY),e=Hi(e,Number.NEGATIVE_INFINITY),i=Hi(i,Number.POSITIVE_INFINITY),r=Hi(r,Number.NEGATIVE_INFINITY),{min:Hi(t,i),max:Hi(e,r),minDefined:ei(t),maxDefined:ei(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,d=h.length;f<d;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Hi(e,Hi(i,e)),max:Hi(i,Hi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qk(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Jw(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=I6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ce(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Zw(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),_=y.widest.width,b=y.highest.height,E=un(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:E/(i-1),_+6>h&&(h=E/(i-(t.offset?.5:1)),f=this.maxHeight-Sc(t.grid)-e.padding-tE(t.title,this.chart.options.font),d=Math.sqrt(_*_+b*b),c=gk(Math.min(Math.asin(un((y.highest.height+6)/h,-1,1)),Math.asin(un(f/d,-1,1))-Math.asin(un(b/d,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=tE(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Sc(o)+f):(t.height=this.maxHeight,t.width=Sc(o)+f),i.display&&this.ticks.length){const{first:d,last:y,widest:_,highest:b}=this._getLabelSizes(),E=i.padding*2,A=Ds(this.labelRotation),C=Math.cos(A),N=Math.sin(A);if(h){const L=i.mirror?0:N*_.width+C*b.height;t.height=Math.min(this.maxHeight,t.height+L+E)}else{const L=i.mirror?0:C*_.width+N*b.height;t.width=Math.min(this.maxWidth,t.width+L+E)}this._calculatePadding(d,y,N,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,d=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,E=0;f?d?(b=r*t.width,E=i*e.height):(b=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,E=e.width/2),this.paddingLeft=Math.max((b-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((E-_+c)*this.width/(this.width-_),0)}else{let y=e.height/2,_=t.height/2;o==="start"?(y=0,_=t.height):o==="end"&&(y=e.height,_=0),this.paddingTop=y+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Xt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Jw(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/Zw(e,i));let d=0,y=0,_,b,E,A,C,N,L,F,H,Z,Q;for(_=0;_<e;_+=f){if(A=t[_].label,C=this._resolveTickFontOptions(_),r.font=N=C.string,L=o[N]=o[N]||{data:{},gc:[]},F=C.lineHeight,H=Z=0,!Xt(A)&&!Be(A))H=Rw(r,L.data,L.gc,H,A),Z=F;else if(Be(A))for(b=0,E=A.length;b<E;++b)Q=A[b],!Xt(Q)&&!Be(Q)&&(H=Rw(r,L.data,L.gc,H,Q),Z+=F);c.push(H),h.push(Z),d=Math.max(H,d),y=Math.max(Z,y)}L6(o,e);const rt=c.indexOf(d),M=h.indexOf(y),R=D=>({width:c[D]||0,height:h[D]||0});return{first:R(0),last:R(e-1),widest:R(rt),highest:R(M),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return yk(this._alignToPixels?Sa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=U6(this.getContext(),t,i))}return this.$context||(this.$context=j6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ds(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),b=Sc(o),E=[],A=h.setContext(this.getContext()),C=A.display?A.width:0,N=C/2,L=function(K){return Sa(i,K,C)};let F,H,Z,Q,rt,M,R,D,P,O,j,k;if(c==="top")F=L(this.bottom),M=this.bottom-b,D=F-N,O=L(t.top)+N,k=t.bottom;else if(c==="bottom")F=L(this.top),O=t.top,k=L(t.bottom)-N,M=F+N,D=this.top+b;else if(c==="left")F=L(this.right),rt=this.right-b,R=F-N,P=L(t.left)+N,j=t.right;else if(c==="right")F=L(this.left),P=t.left,j=L(t.right)-N,rt=F+N,R=this.left+b;else if(e==="x"){if(c==="center")F=L((t.top+t.bottom)/2+.5);else if(qt(c)){const K=Object.keys(c)[0],ot=c[K];F=L(this.chart.scales[K].getPixelForValue(ot))}O=t.top,k=t.bottom,M=F+N,D=M+b}else if(e==="y"){if(c==="center")F=L((t.left+t.right)/2);else if(qt(c)){const K=Object.keys(c)[0],ot=c[K];F=L(this.chart.scales[K].getPixelForValue(ot))}rt=F-N,R=rt-b,P=t.left,j=t.right}const Dt=Mt(r.ticks.maxTicksLimit,_),Tt=Math.max(1,Math.ceil(_/Dt));for(H=0;H<_;H+=Tt){const K=this.getContext(H),ot=o.setContext(K),ft=h.setContext(K),bt=ot.lineWidth,Vt=ot.color,U=ft.dash||[],tt=ft.dashOffset,ct=ot.tickWidth,ut=ot.tickColor,_t=ot.tickBorderDash||[],xt=ot.tickBorderDashOffset;Z=P6(this,H,f),Z!==void 0&&(Q=Sa(i,Z,bt),d?rt=R=P=j=Q:M=D=O=k=Q,E.push({tx1:rt,ty1:M,tx2:R,ty2:D,x1:P,y1:O,x2:j,y2:k,width:bt,color:Vt,borderDash:U,borderDashOffset:tt,tickWidth:ct,tickColor:ut,tickBorderDash:_t,tickBorderDashOffset:xt}))}return this._ticksLength=_,this._borderValue=F,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:d,padding:y,mirror:_}=o,b=Sc(i.grid),E=b+y,A=_?-y:E,C=-Ds(this.labelRotation),N=[];let L,F,H,Z,Q,rt,M,R,D,P,O,j,k="middle";if(r==="top")rt=this.bottom-A,M=this._getXAxisLabelAlignment();else if(r==="bottom")rt=this.top+A,M=this._getXAxisLabelAlignment();else if(r==="left"){const Tt=this._getYAxisLabelAlignment(b);M=Tt.textAlign,Q=Tt.x}else if(r==="right"){const Tt=this._getYAxisLabelAlignment(b);M=Tt.textAlign,Q=Tt.x}else if(e==="x"){if(r==="center")rt=(t.top+t.bottom)/2+E;else if(qt(r)){const Tt=Object.keys(r)[0],K=r[Tt];rt=this.chart.scales[Tt].getPixelForValue(K)+E}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Q=(t.left+t.right)/2-E;else if(qt(r)){const Tt=Object.keys(r)[0],K=r[Tt];Q=this.chart.scales[Tt].getPixelForValue(K)}M=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?k="top":f==="end"&&(k="bottom"));const Dt=this._getLabelSizes();for(L=0,F=h.length;L<F;++L){H=h[L],Z=H.label;const Tt=o.setContext(this.getContext(L));R=this.getPixelForTick(L)+o.labelOffset,D=this._resolveTickFontOptions(L),P=D.lineHeight,O=Be(Z)?Z.length:1;const K=O/2,ot=Tt.color,ft=Tt.textStrokeColor,bt=Tt.textStrokeWidth;let Vt=M;c?(Q=R,M==="inner"&&(L===F-1?Vt=this.options.reverse?"left":"right":L===0?Vt=this.options.reverse?"right":"left":Vt="center"),r==="top"?d==="near"||C!==0?j=-O*P+P/2:d==="center"?j=-Dt.highest.height/2-K*P+P:j=-Dt.highest.height+P/2:d==="near"||C!==0?j=P/2:d==="center"?j=Dt.highest.height/2-K*P:j=Dt.highest.height-O*P,_&&(j*=-1),C!==0&&!Tt.showLabelBackdrop&&(Q+=P/2*Math.sin(C))):(rt=R,j=(1-O)*P/2);let U;if(Tt.showLabelBackdrop){const tt=ni(Tt.backdropPadding),ct=Dt.heights[L],ut=Dt.widths[L];let _t=j-tt.top,xt=0-tt.left;switch(k){case"middle":_t-=ct/2;break;case"bottom":_t-=ct;break}switch(M){case"center":xt-=ut/2;break;case"right":xt-=ut;break;case"inner":L===F-1?xt-=ut:L>0&&(xt-=ut/2);break}U={left:xt,top:_t,width:ut+tt.width,height:ct+tt.height,color:Tt.backdropColor}}N.push({label:Z,font:D,textOffset:j,options:{rotation:C,color:ot,strokeColor:ft,strokeWidth:bt,textAlign:Vt,textBaseline:k,translation:[Q,rt],backdrop:U}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ds(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let d,y;return e==="left"?r?(y=this.right+o,i==="near"?d="left":i==="center"?(d="center",y+=f/2):(d="right",y+=f)):(y=this.right-h,i==="near"?d="right":i==="center"?(d="center",y-=f/2):(d="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?d="right":i==="center"?(d="center",y-=f/2):(d="left",y-=f)):(y=this.left+h,i==="near"?d="left":i==="center"?(d="center",y+=f/2):(d="right",y=this.right)):d="right",{textAlign:d,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,d,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,y,_,b;this.isHorizontal()?(d=Sa(t,this.left,c)-c/2,y=Sa(t,this.right,h)+h/2,_=b=f):(_=Sa(t,this.top,c)-c/2,b=Sa(t,this.bottom,h)+h/2,d=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(y,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Gy(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,d=c.label,y=c.textOffset;ou(i,d,0,y,f,h)}r&&Yy(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=hn(i.font),c=ni(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,Be(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:y,maxWidth:_,rotation:b}=B6(this,f,e,h);ou(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:b,textAlign:z6(h,e,r),textBaseline:"middle",translation:[d,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Mt(t.grid&&t.grid.z,-1),r=Mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==gl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return hn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class yf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;q6(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,F6(t,c,i),this.override&&Te.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Te[r]&&(delete Te[r][i],this.override&&delete Fa[i])}}function F6(n,t,e){const i=nu(Object.create(null),[e?Te.get(e):{},Te.get(t),n.defaults]);Te.set(t,i),n.defaultRoutes&&H6(t,n.defaultRoutes),n.descriptors&&Te.describe(t,n.descriptors)}function H6(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Te.route(o,r,f,h)})}function q6(n){return"id"in n&&"defaults"in n}class G6{constructor(){this.controllers=new yf(Nd,"datasets",!0),this.elements=new yf(Us,"elements"),this.plugins=new yf(Object,"plugins"),this.scales=new yf(gl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=zy(t);ce(i["before"+r],[],i),e[t](i),ce(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Gi=new G6;class Y6{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(ce(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Mt(i.options&&i.options.plugins,{}),o=$6(i);return r===!1&&!e?[]:X6(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function $6(n){const t={},e=[],i=Object.keys(Gi.plugins.items);for(let o=0;o<i.length;o++)e.push(Gi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function K6(n,t){return!t&&n===!1?null:n===!0?{}:n}function X6(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,d=K6(i[f],r);d!==null&&o.push({plugin:h,options:Q6(n.config,{plugin:h,local:e[f]},d,c)})}return o}function Q6(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Bp(n,t){const e=Te.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function W6(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Z6(n,t){return n===t?"_index_":"_value_"}function eE(n){if(n==="x"||n==="y"||n==="r")return n}function J6(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Fp(n,...t){if(eE(n))return n;for(const e of t){const i=e.axis||J6(e.position)||n.length>1&&eE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function nE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function tP(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return nE(n,"x",e[0])||nE(n,"y",e[0])}return{}}function eP(n,t){const e=Fa[n.type]||{scales:{}},i=t.scales||{},r=Bp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Fp(c,h,tP(c,n),Te.scales[h.type]),d=Z6(f,r),y=e.scales||{};o[c]=Fc(Object.create(null),[{axis:f},h,y[f],y[d]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Bp(h,t),y=(Fa[h]||{}).scales||{};Object.keys(y).forEach(_=>{const b=W6(_,f),E=c[b+"AxisID"]||b;o[E]=o[E]||Object.create(null),Fc(o[E],[{axis:b},i[E],y[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];Fc(h,[Te.scales[h.type],Te.scale])}),o}function L1(n){const t=n.options||(n.options={});t.plugins=Mt(t.plugins,{}),t.scales=eP(n,t)}function j1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function nP(n){return n=n||{},n.data=j1(n.data),L1(n),n}const iE=new Map,U1=new Set;function _f(n,t){let e=iE.get(n);return e||(e=t(),iE.set(n,e),U1.add(e)),e}const Ac=(n,t,e)=>{const i=Ba(t,e);i!==void 0&&n.add(i)};class iP{constructor(t){this._config=nP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=j1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),L1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _f(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return _f(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return _f(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return _f(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(_=>Ac(f,t,_))),y.forEach(_=>Ac(f,r,_)),y.forEach(_=>Ac(f,Fa[o]||{},_)),y.forEach(_=>Ac(f,Te,_)),y.forEach(_=>Ac(f,Up,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),U1.has(e)&&c.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Fa[e]||{},Te.datasets[e]||{},{type:e},Te,Up]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=sE(this._resolverCache,t,r);let f=c;if(rP(c,e)){o.$shared=!1,i=Fr(i)?i():i;const d=this.createResolver(t,i,h);f=ol(c,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=sE(this._resolverCache,t,i);return qt(e)?ol(o,e,void 0,r):o}}function sE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:Ky(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const sP=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>Fr(n[t]));function rP(n,t){const{isScriptable:e,isIndexable:i}=x1(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Fr(h)||sP(h))||c&&Be(h))return!0}return!1}var aP="4.5.0";const oP=["top","bottom","left","right","chartArea"];function rE(n,t){return n==="top"||n==="bottom"||oP.indexOf(n)===-1&&t==="x"}function aE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function oE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ce(e&&e.onComplete,[n],t)}function lP(n){const t=n.chart,e=t.options.animation;ce(e&&e.onProgress,[n],t)}function z1(n){return Wy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Df={},lE=n=>{const t=z1(n);return Object.values(Df).filter(e=>e.canvas===t).pop()};function cP(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function uP(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Qa=class{static defaults=Te;static instances=Df;static overrides=Fa;static registry=Gi;static version=aP;static getChart=lE;static register(...t){Gi.add(...t),cE()}static unregister(...t){Gi.remove(...t),cE()}constructor(t,e){const i=this.config=new iP(e),r=z1(t),o=lE(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||C6(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,d=f&&f.height,y=f&&f.width;if(this.id=nk(),this.ctx=h,this.canvas=f,this.width=y,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Y6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xk(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],Df[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}As.listen(this,"complete",oE),As.listen(this,"progress",lP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Xt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Mw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Cw(this.canvas,this.ctx),this}stop(){return As.stop(this),this}resize(t,e){As.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Mw(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ce(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Fp(c,h),d=f==="r",y=f==="x";return{options:h,dposition:d?"chartArea":y?"bottom":"left",dtype:d?"radialLinear":y?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,d=Fp(f,h),y=Mt(h.type,c.dtype);(h.position===void 0||rE(h.position,d)!==rE(c.dposition))&&(h.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===y)_=i[f];else{const b=Gi.getScale(y);_=new b({id:f,type:y,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),te(r,(c,h)=>{c||delete i[h]}),te(i,c=>{Jn.configure(this,c,c.options),Jn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(aE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Bp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Gi.getController(h),{datasetElementType:d,dataElementType:y}=Te.datasets[h];Object.assign(f,{dataElementType:Gi.getElement(y),datasetElementType:d&&Gi.getElement(d)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,y=this.data.datasets.length;d<y;d++){const{controller:_}=this.getDatasetMeta(d),b=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(b),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(aE("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{Jn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!_w(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;cP(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!_w(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Fr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(As.has(this)?this.attached&&!As.running(this)&&As.start(this):(this.draw(),oE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=RV(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Gy(e,r),t.controller.draw(),r&&Yy(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return au(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=o6.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Xa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);iu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),As.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Cw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Df[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!ed(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(y=>!d.some(_=>y.datasetIndex===_.datasetIndex&&y.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=lk(t),d=uP(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ce(o.onHover,[t,h,this],this),f&&ce(o.onClick,[t,h,this],this));const y=!ed(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=d,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function cE(){return te(Qa.instances,n=>n._plugins.invalidate())}function hP(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:d,borderJoinStyle:y}=f,_=Math.min(d/c,pi(i-e));if(n.beginPath(),n.arc(r,o,c-d/2,i+_/2,e-_/2),h>0){const b=Math.min(d/h,pi(i-e));n.arc(r,o,h+d/2,e-b/2,i+b/2,!0)}else{const b=Math.min(d/2,c*pi(i-e));if(y==="round")n.arc(r,o,b,e-ee/2,i+ee/2,!0);else if(y==="bevel"){const E=2*b*b,A=-E*Math.cos(e+ee/2)+r,C=-E*Math.sin(e+ee/2)+o,N=E*Math.cos(i+ee/2)+r,L=E*Math.sin(i+ee/2)+o;n.lineTo(A,C),n.lineTo(N,L)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function fP(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let d=r/h;n.beginPath(),n.arc(o,c,h,i-d,e+d),f>r?(d=r/f,n.arc(o,c,f,e+d,i-d,!0)):n.arc(o,c,r,e+He,i-He),n.closePath(),n.clip()}function dP(n){return $y(n,["outerStart","outerEnd","innerStart","innerEnd"])}function mP(n,t,e,i){const r=dP(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const d=(e-Math.min(o,f))*i/2;return un(f,0,Math.min(o,d))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:un(r.innerStart,0,c),innerEnd:un(r.innerEnd,0,c)}}function Ho(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function od(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:d,innerRadius:y}=t,_=Math.max(t.outerRadius+i+e-d,0),b=y>0?y+i+e+d:0;let E=0;const A=r-f;if(i){const Tt=y>0?y-i:0,K=_>0?_-i:0,ot=(Tt+K)/2,ft=ot!==0?A*ot/(ot+i):A;E=(A-ft)/2}const C=Math.max(.001,A*_-e/ee)/_,N=(A-C)/2,L=f+N+E,F=r-N-E,{outerStart:H,outerEnd:Z,innerStart:Q,innerEnd:rt}=mP(t,b,_,F-L),M=_-H,R=_-Z,D=L+H/M,P=F-Z/R,O=b+Q,j=b+rt,k=L+Q/O,Dt=F-rt/j;if(n.beginPath(),o){const Tt=(D+P)/2;if(n.arc(c,h,_,D,Tt),n.arc(c,h,_,Tt,P),Z>0){const bt=Ho(R,P,c,h);n.arc(bt.x,bt.y,Z,P,F+He)}const K=Ho(j,F,c,h);if(n.lineTo(K.x,K.y),rt>0){const bt=Ho(j,Dt,c,h);n.arc(bt.x,bt.y,rt,F+He,Dt+Math.PI)}const ot=(F-rt/b+(L+Q/b))/2;if(n.arc(c,h,b,F-rt/b,ot,!0),n.arc(c,h,b,ot,L+Q/b,!0),Q>0){const bt=Ho(O,k,c,h);n.arc(bt.x,bt.y,Q,k+Math.PI,L-He)}const ft=Ho(M,L,c,h);if(n.lineTo(ft.x,ft.y),H>0){const bt=Ho(M,D,c,h);n.arc(bt.x,bt.y,H,L-He,D)}}else{n.moveTo(c,h);const Tt=Math.cos(D)*_+c,K=Math.sin(D)*_+h;n.lineTo(Tt,K);const ot=Math.cos(P)*_+c,ft=Math.sin(P)*_+h;n.lineTo(ot,ft)}n.closePath()}function gP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){od(n,t,e,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(h)||(f=c+(h%_e||_e))}return od(n,t,e,i,f,r),n.fill(),f}function pP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:d,borderJoinStyle:y,borderDash:_,borderDashOffset:b,borderRadius:E}=f,A=f.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=b,A?(n.lineWidth=d*2,n.lineJoin=y||"round"):(n.lineWidth=d,n.lineJoin=y||"bevel");let C=t.endAngle;if(o){od(n,t,e,i,C,r);for(let N=0;N<o;++N)n.stroke();isNaN(h)||(C=c+(h%_e||_e))}A&&fP(n,t,C),f.selfJoin&&C-c>=ee&&E===0&&y!=="miter"&&hP(n,t,C),o||(od(n,t,e,i,C,r),n.stroke())}class yP extends Us{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=d1(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:d,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,E=Mt(_,f-h),A=ru(o,h,f)&&h!==f,C=E>=_e||A,N=Ar(c,d+b,y+b);return C&&N}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:d}=this.options,y=(r+o)/2,_=(c+h+d+f)/2;return{x:e+Math.cos(y)*_,y:i+Math.sin(y)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>_e?Math.floor(i/_e):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ee,i||0)),d=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,gP(t,this,d,o,c),pP(t,this,d,o,c),t.restore()}}function B1(n,t,e=t){n.lineCap=Mt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Mt(e.borderDash,t.borderDash)),n.lineDashOffset=Mt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Mt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Mt(e.borderWidth,t.borderWidth),n.strokeStyle=Mt(e.borderColor,t.borderColor)}function _P(n,t,e){n.lineTo(e.x,e.y)}function vP(n){return n.stepped?Vk:n.tension||n.cubicInterpolationMode==="monotone"?Pk:_P}function F1(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),d=Math.min(o,h),y=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:d<f&&!y?i+d-f:d-f}}function bP(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:d}=F1(r,e,i),y=vP(o);let{move:_=!0,reverse:b}=i||{},E,A,C;for(E=0;E<=d;++E)A=r[(h+(b?d-E:E))%c],!A.skip&&(_?(n.moveTo(A.x,A.y),_=!1):y(n,C,A,b,o.stepped),C=A);return f&&(A=r[(h+(b?d:0))%c],y(n,C,A,b,o.stepped)),!!f}function xP(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=F1(r,e,i),{move:f=!0,reverse:d}=i||{};let y=0,_=0,b,E,A,C,N,L;const F=Z=>(c+(d?h-Z:Z))%o,H=()=>{C!==N&&(n.lineTo(y,N),n.lineTo(y,C),n.lineTo(y,L))};for(f&&(E=r[F(0)],n.moveTo(E.x,E.y)),b=0;b<=h;++b){if(E=r[F(b)],E.skip)continue;const Z=E.x,Q=E.y,rt=Z|0;rt===A?(Q<C?C=Q:Q>N&&(N=Q),y=(_*y+Z)/++_):(H(),n.lineTo(Z,Q),A=rt,_=0,C=N=Q),L=Q}H()}function Hp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?xP:bP}function wP(n){return n.stepped?mV:n.tension||n.cubicInterpolationMode==="monotone"?gV:Ia}function EP(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),B1(n,t.options),n.stroke(r)}function TP(n,t,e,i){const{segments:r,options:o}=t,c=Hp(t);for(const h of r)B1(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const SP=typeof Path2D=="function";function AP(n,t,e,i){SP&&!t.options.segment?EP(n,t,e,i):TP(n,t,e,i)}class RP extends Us{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;aV(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=EV(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=bV(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=wP(i);let d,y;for(d=0,y=c.length;d<y;++d){const{start:_,end:b}=c[d],E=o[_],A=o[b];if(E===A){h.push(E);continue}const C=Math.abs((r-E[e])/(A[e]-E[e])),N=f(E,A,C,i.stepped);N[e]=t[e],h.push(N)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Hp(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Hp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),AP(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function uE(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class CP extends Us{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return uE(this,t,"x",e)}inYRange(t,e){return uE(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!au(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,zp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function H1(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,d,y,_;return n.horizontal?(_=c/2,h=Math.min(e,r),f=Math.max(e,r),d=i-_,y=i+_):(_=o/2,h=e-_,f=e+_,d=Math.min(i,r),y=Math.max(i,r)),{left:h,top:d,right:f,bottom:y}}function Rr(n,t,e,i){return n?0:un(t,e,i)}function IP(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=b1(i);return{t:Rr(r.top,o.top,0,e),r:Rr(r.right,o.right,0,t),b:Rr(r.bottom,o.bottom,0,e),l:Rr(r.left,o.left,0,t)}}function NP(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Jo(r),c=Math.min(t,e),h=n.borderSkipped,f=i||qt(r);return{topLeft:Rr(!f||h.top||h.left,o.topLeft,0,c),topRight:Rr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Rr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Rr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function MP(n){const t=H1(n),e=t.right-t.left,i=t.bottom-t.top,r=IP(n,e/2,i/2),o=NP(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function up(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&H1(n,i);return h&&(r||Ar(t,h.left,h.right))&&(o||Ar(e,h.top,h.bottom))}function DP(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function OP(n,t){n.rect(t.x,t.y,t.w,t.h)}function hp(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class q1 extends Us{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=MP(this),h=DP(c.radius)?sd:OP;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,hp(c,e,o)),t.clip(),h(t,hp(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,hp(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return up(this,t,e,i)}inXRange(t,e){return up(this,t,null,e)}inYRange(t,e){return up(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const hE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},kP=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class fE extends Us{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=hn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=hE(i,o);let d,y;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,d=this._fitCols(c,r,h,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],y=r+h;let _=t;o.textAlign="left",o.textBaseline="middle";let b=-1,E=-y;return this.legendItems.forEach((A,C)=>{const N=i+e/2+o.measureText(A.text).width;(C===0||d[d.length-1]+N+2*h>c)&&(_+=y,d[d.length-(C>0?0:1)]=0,E+=y,b++),f[C]={left:0,top:E,row:b,width:N,height:r},d[d.length-1]+=N+h}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],y=c-t;let _=h,b=0,E=0,A=0,C=0;return this.legendItems.forEach((N,L)=>{const{itemWidth:F,itemHeight:H}=VP(i,e,o,N,r);L>0&&E+H+2*h>y&&(_+=b+h,d.push({width:b,height:E}),A+=b+h,C++,b=E=0),f[L]={left:A,top:E,col:C,width:F,height:H},b=Math.max(b,F),E+=H+h}),_+=b,d.push({width:b,height:E}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=tl(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=on(i,this.left+r,this.right-this.lineWidths[h]);for(const d of e)h!==d.row&&(h=d.row,f=on(i,this.left+r,this.right-this.lineWidths[h])),d.top+=this.top+t+r,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+r}else{let h=0,f=on(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const d of e)d.col!==h&&(h=d.col,f=on(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),d.top=f,d.left+=this.left+r,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Gy(t,this),this._draw(),Yy(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Te.color,f=tl(t.rtl,this.left,this.width),d=hn(c.font),{padding:y}=c,_=d.size,b=_/2;let E;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:A,boxHeight:C,itemHeight:N}=hE(c,_),L=function(rt,M,R){if(isNaN(A)||A<=0||isNaN(C)||C<0)return;r.save();const D=Mt(R.lineWidth,1);if(r.fillStyle=Mt(R.fillStyle,h),r.lineCap=Mt(R.lineCap,"butt"),r.lineDashOffset=Mt(R.lineDashOffset,0),r.lineJoin=Mt(R.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Mt(R.strokeStyle,h),r.setLineDash(Mt(R.lineDash,[])),c.usePointStyle){const P={radius:C*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:D},O=f.xPlus(rt,A/2),j=M+b;v1(r,P,O,j,c.pointStyleWidth&&A)}else{const P=M+Math.max((_-C)/2,0),O=f.leftForLtr(rt,A),j=Jo(R.borderRadius);r.beginPath(),Object.values(j).some(k=>k!==0)?sd(r,{x:O,y:P,w:A,h:C,radius:j}):r.rect(O,P,A,C),r.fill(),D!==0&&r.stroke()}r.restore()},F=function(rt,M,R){ou(r,R.text,rt,M+N/2,d,{strikethrough:R.hidden,textAlign:f.textAlign(R.textAlign)})},H=this.isHorizontal(),Z=this._computeTitleHeight();H?E={x:on(o,this.left+y,this.right-i[0]),y:this.top+y+Z,line:0}:E={x:this.left+y,y:on(o,this.top+Z+y,this.bottom-e[0].height),line:0},A1(this.ctx,t.textDirection);const Q=N+y;this.legendItems.forEach((rt,M)=>{r.strokeStyle=rt.fontColor,r.fillStyle=rt.fontColor;const R=r.measureText(rt.text).width,D=f.textAlign(rt.textAlign||(rt.textAlign=c.textAlign)),P=A+b+R;let O=E.x,j=E.y;f.setWidth(this.width),H?M>0&&O+P+y>this.right&&(j=E.y+=Q,E.line++,O=E.x=on(o,this.left+y,this.right-i[E.line])):M>0&&j+Q>this.bottom&&(O=E.x=O+e[E.line].width+y,E.line++,j=E.y=on(o,this.top+Z+y,this.bottom-e[E.line].height));const k=f.x(O);if(L(k,j,rt),O=wk(D,O+A+b,H?O+P:this.right,t.rtl),F(f.x(O),j,rt),H)E.x+=P+y;else if(typeof rt.text!="string"){const Dt=d.lineHeight;E.y+=G1(rt,Dt)+y}else E.y+=Q}),R1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=hn(e.font),r=ni(e.padding);if(!e.display)return;const o=tl(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,d=r.top+f;let y,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+d,_=on(t.align,_,this.right-b);else{const A=this.columnSizes.reduce((C,N)=>Math.max(C,N.height),0);y=d+on(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const E=on(h,_,_+b);c.textAlign=o.textAlign(Fy(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,ou(c,e.text,E,y,i)}_computeTitleHeight(){const t=this.options.title,e=hn(t.font),i=ni(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Ar(t,this.left,this.right)&&Ar(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Ar(t,r.left,r.left+r.width)&&Ar(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!jP(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=kP(r,i);r&&!o&&ce(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ce(e.onHover,[t,i,this],this)}else i&&ce(e.onClick,[t,i,this],this)}}function VP(n,t,e,i,r){const o=PP(i,n,t,e),c=LP(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function PP(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function LP(n,t,e){let i=n;return typeof t.text!="string"&&(i=G1(t,e)),i}function G1(n,t){const e=n.text?n.text.length:0;return t*e}function jP(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Dd={id:"legend",_element:fE,start(n,t,e){const i=n.legend=new fE({ctx:n.ctx,options:e,chart:n});Jn.configure(n,i,e),Jn.addBox(n,i)},stop(n){Jn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Jn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),y=ni(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:c&&(h||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Y1 extends Us{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Be(i.text)?i.text.length:1;this._padding=ni(i.padding);const o=r*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,d,y,_;return this.isHorizontal()?(y=on(h,i,o),_=e+t,d=o-i):(c.position==="left"?(y=i+t,_=on(h,r,e),f=ee*-.5):(y=o-t,_=on(h,e,r),f=ee*.5),d=r-e),{titleX:y,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=hn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:d}=this._drawArgs(o);ou(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:Fy(e.align),textBaseline:"middle",translation:[c,h]})}}function UP(n,t){const e=new Y1({ctx:n.ctx,options:t,chart:n});Jn.configure(n,e,t),Jn.addBox(n,e),n.titleBlock=e}var t_={id:"title",_element:Y1,start(n,t,e){UP(n,e)},stop(n){const t=n.titleBlock;Jn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Jn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),y=jp(t,d);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function qi(n,t){return t&&(Be(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Rs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function zP(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function dE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=hn(t.bodyFont),d=hn(t.titleFont),y=hn(t.footerFont),_=o.length,b=r.length,E=i.length,A=ni(t.padding);let C=A.height,N=0,L=i.reduce((Z,Q)=>Z+Q.before.length+Q.lines.length+Q.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,_&&(C+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),L){const Z=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;C+=E*Z+(L-E)*f.lineHeight+(L-1)*t.bodySpacing}b&&(C+=t.footerMarginTop+b*y.lineHeight+(b-1)*t.footerSpacing);let F=0;const H=function(Z){N=Math.max(N,e.measureText(Z).width+F)};return e.save(),e.font=d.string,te(n.title,H),e.font=f.string,te(n.beforeBody.concat(n.afterBody),H),F=t.displayColors?c+2+t.boxPadding:0,te(i,Z=>{te(Z.before,H),te(Z.lines,H),te(Z.after,H)}),F=0,e.font=y.string,te(n.footer,H),e.restore(),N+=A.width,{width:N,height:C}}function BP(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function FP(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function HP(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let d="center";return i==="center"?d=r<=(h+f)/2?"left":"right":r<=o/2?d="left":r>=c-o/2&&(d="right"),FP(d,n,t,e)&&(d="center"),d}function mE(n,t,e){const i=e.yAlign||t.yAlign||BP(n,e);return{xAlign:e.xAlign||t.xAlign||HP(n,t,e,i),yAlign:i}}function qP(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function GP(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function gE(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,d=r+o,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:E}=Jo(c);let A=qP(t,h);const C=GP(t,f,d);return f==="center"?h==="left"?A+=d:h==="right"&&(A-=d):h==="left"?A-=Math.max(y,b)+r:h==="right"&&(A+=Math.max(_,E)+r),{x:un(A,0,i.width-t.width),y:un(C,0,i.height-t.height)}}function vf(n,t,e){const i=ni(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function pE(n){return qi([],Rs(n))}function YP(n,t,e){return Xa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function yE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const $1={beforeTitle:Ss,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ss,beforeBody:Ss,beforeLabel:Ss,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Xt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ss,afterBody:Ss,beforeFooter:Ss,footer:Ss,afterFooter:Ss};function Tn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?$1[t].call(e,i):r}class _E extends Us{static positioners=Vc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new I1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=YP(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Tn(i,"beforeTitle",this,t),o=Tn(i,"title",this,t),c=Tn(i,"afterTitle",this,t);let h=[];return h=qi(h,Rs(r)),h=qi(h,Rs(o)),h=qi(h,Rs(c)),h}getBeforeBody(t,e){return pE(Tn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=yE(i,o);qi(c.before,Rs(Tn(h,"beforeLabel",this,o))),qi(c.lines,Tn(h,"label",this,o)),qi(c.after,Rs(Tn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return pE(Tn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Tn(i,"beforeFooter",this,t),o=Tn(i,"footer",this,t),c=Tn(i,"afterFooter",this,t);let h=[];return h=qi(h,Rs(r)),h=qi(h,Rs(o)),h=qi(h,Rs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,d;for(f=0,d=e.length;f<d;++f)h.push(zP(this.chart,e[f]));return t.filter&&(h=h.filter((y,_,b)=>t.filter(y,_,b,i))),t.itemSort&&(h=h.sort((y,_)=>t.itemSort(y,_,i))),te(h,y=>{const _=yE(t.callbacks,y);r.push(Tn(_,"labelColor",this,y)),o.push(Tn(_,"labelPointStyle",this,y)),c.push(Tn(_,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Vc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=dE(this,i),d=Object.assign({},h,f),y=mE(this.chart,i,d),_=gE(i,d,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:d,bottomLeft:y,bottomRight:_}=Jo(h),{x:b,y:E}=t,{width:A,height:C}=e;let N,L,F,H,Z,Q;return o==="center"?(Z=E+C/2,r==="left"?(N=b,L=N-c,H=Z+c,Q=Z-c):(N=b+A,L=N+c,H=Z-c,Q=Z+c),F=N):(r==="left"?L=b+Math.max(f,y)+c:r==="right"?L=b+A-Math.max(d,_)-c:L=this.caretX,o==="top"?(H=E,Z=H-c,N=L-c,F=L+c):(H=E+C,Z=H+c,N=L+c,F=L-c),Q=H),{x1:N,x2:L,x3:F,y1:H,y2:Z,y3:Q}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const d=tl(i.rtl,this.x,this.width);for(t.x=vf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",c=hn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,y=hn(o.bodyFont),_=vf(this,"left",o),b=r.x(_),E=f<y.lineHeight?(y.lineHeight-f)/2:0,A=e.y+E;if(o.usePointStyle){const C={radius:Math.min(d,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},N=r.leftForLtr(b,d)+d/2,L=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,zp(t,C,N,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,zp(t,C,N,L)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=r.leftForLtr(b,d),N=r.leftForLtr(r.xPlus(b,1),d-2),L=Jo(c.borderRadius);Object.values(L).some(F=>F!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,sd(t,{x:C,y:A,w:d,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),sd(t,{x:N,y:A+1,w:d-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,A,d,f),t.strokeRect(C,A,d,f),t.fillStyle=c.backgroundColor,t.fillRect(N,A+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:d,boxPadding:y}=i,_=hn(i.bodyFont);let b=_.lineHeight,E=0;const A=tl(i.rtl,this.x,this.width),C=function(R){e.fillText(R,A.x(t.x+E),t.y+b/2),t.y+=b+o},N=A.textAlign(c);let L,F,H,Z,Q,rt,M;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=vf(this,N,i),e.fillStyle=i.bodyColor,te(this.beforeBody,C),E=h&&N!=="right"?c==="center"?d/2+y:d+2+y:0,Z=0,rt=r.length;Z<rt;++Z){for(L=r[Z],F=this.labelTextColors[Z],e.fillStyle=F,te(L.before,C),H=L.lines,h&&H.length&&(this._drawColorBox(e,t,Z,A,i),b=Math.max(_.lineHeight,f)),Q=0,M=H.length;Q<M;++Q)C(H[Q]),b=_.lineHeight;te(L.after,C)}E=0,b=_.lineHeight,te(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=tl(i.rtl,this.x,this.width);for(t.x=vf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=hn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:d,height:y}=i,{topLeft:_,topRight:b,bottomLeft:E,bottomRight:A}=Jo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+d-b,f),e.quadraticCurveTo(h+d,f,h+d,f+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+d,f+y-A),e.quadraticCurveTo(h+d,f+y,h+d-A,f+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+E,f+y),e.quadraticCurveTo(h,f+y,h,f+y-E),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Vc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=dE(this,t),f=Object.assign({},c,this._size),d=mE(e,t,f),y=gE(t,f,d,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ni(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),A1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),R1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const d=this.chart.getDatasetMeta(h);if(!d)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:d.data[f],index:f}}),o=!ed(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!ed(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Vc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Od={id:"tooltip",_element:_E,positioners:Vc,afterInit(n,t,e){e&&(n.tooltip=new _E({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const $P=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function KP(n,t,e,i){const r=n.indexOf(t);if(r===-1)return $P(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const XP=(n,t)=>n===null?null:un(Math.round(n),0,t);function vE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class e_ extends gl{static id="category";static defaults={ticks:{callback:vE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Xt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:KP(i,t,Mt(e,t),this._addedLabels),XP(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return vE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function QP(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:d,maxTicks:y,maxDigits:_,includeBounds:b}=n,E=o||1,A=y-1,{min:C,max:N}=t,L=!Xt(c),F=!Xt(h),H=!Xt(d),Z=(N-C)/(_+1);let Q=bw((N-C)/A/E)*E,rt,M,R,D;if(Q<1e-14&&!L&&!F)return[{value:C},{value:N}];D=Math.ceil(N/Q)-Math.floor(C/Q),D>A&&(Q=bw(D*Q/A/E)*E),Xt(f)||(rt=Math.pow(10,f),Q=Math.ceil(Q*rt)/rt),r==="ticks"?(M=Math.floor(C/Q)*Q,R=Math.ceil(N/Q)*Q):(M=C,R=N),L&&F&&o&&dk((h-c)/o,Q/1e3)?(D=Math.round(Math.min((h-c)/Q,y)),Q=(h-c)/D,M=c,R=h):H?(M=L?c:M,R=F?h:R,D=d-1,Q=(R-M)/D):(D=(R-M)/Q,Hc(D,Math.round(D),Q/1e3)?D=Math.round(D):D=Math.ceil(D));const P=Math.max(xw(Q),xw(M));rt=Math.pow(10,Xt(f)?P:f),M=Math.round(M*rt)/rt,R=Math.round(R*rt)/rt;let O=0;for(L&&(b&&M!==c?(e.push({value:c}),M<c&&O++,Hc(Math.round((M+O*Q)*rt)/rt,c,bE(c,Z,n))&&O++):M<c&&O++);O<D;++O){const j=Math.round((M+O*Q)*rt)/rt;if(F&&j>h)break;e.push({value:j})}return F&&b&&R!==h?e.length&&Hc(e[e.length-1].value,h,bE(h,Z,n))?e[e.length-1].value=h:e.push({value:h}):(!F||R===h)&&e.push({value:R}),e}function bE(n,t,{horizontal:e,minRotation:i}){const r=Ds(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class WP extends gl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Xt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=ts(r),d=ts(o);f<0&&d<0?h(0):f>0&&d>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=QP(r,o);return t.bounds==="ticks"&&mk(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return qy(t,this.chart.options.locale,this.options.ticks.format)}}class n_ extends WP{static id="linear";static defaults={ticks:{callback:_1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ei(t)?t:0,this.max=ei(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ds(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const kd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rn=Object.keys(kd);function xE(n,t){return n-t}function wE(n,t){if(Xt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ei(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(su(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function EE(n,t,e,i){const r=Rn.length;for(let o=Rn.indexOf(n);o<r-1;++o){const c=kd[Rn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Rn[o]}return Rn[r-1]}function ZP(n,t,e,i,r){for(let o=Rn.length-1;o>=Rn.indexOf(e);o--){const c=Rn[o];if(kd[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Rn[e?Rn.indexOf(e):0]}function JP(n){for(let t=Rn.indexOf(n)+1,e=Rn.length;t<e;++t)if(kd[Rn[t]].common)return Rn[t]}function TE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=By(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function tL(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function SE(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:tL(n,i,r,e)}class AE extends gl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new n6._date(t.adapters.date);r.init(e),Fc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:wE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!h&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=ei(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ei(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=vk(r,o,c);return this._unit=e.unit||(i.autoSkip?EE(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):ZP(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:JP(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),SE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=un(e,0,c),i=un(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||EE(o.minUnit,e,i,this._getLabelCapacity(e)),h=Mt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=su(f)||f===!0,y={};let _=e,b,E;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(b=_,E=0;b<i;b=+t.add(b,h,c),E++)TE(y,b,A);return(b===i||r.bounds==="ticks"||E===1)&&TE(y,b,A),Object.keys(y).sort(xE).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return ce(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,d=this._majorUnit,y=f&&h[f],_=d&&h[d],b=i[e],E=d&&_&&b&&b.major;return this._adapter.format(t,r||(E?_:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ds(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,SE(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(wE(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return g1(t.sort(xE))}}function bf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Da(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Da(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const d=c-o;return d?h+(f-h)*(t-o)/d:h}class OL extends AE{static id="timeseries";static defaults=AE.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=bf(e,this.min),this._tableRange=bf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,d,y;for(c=0,h=t.length;c<h;++c)d=t[c],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],f=r[c-1],d=r[c],Math.round((y+f)/2)!==d&&o.push({time:d,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(bf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return bf(this._table,i*this._tableRange+this._minPos,!0)}}const K1="label";function RE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function eL(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function X1(n,t){n.labels=t}function Q1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:K1;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function nL(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K1;const e={labels:[],datasets:[]};return X1(e,n.labels),Q1(e,n.datasets,t),e}function iL(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:d=[],fallbackContent:y,updateMode:_,...b}=n,E=st.useRef(null),A=st.useRef(null),C=()=>{E.current&&(A.current=new Qa(E.current,{type:c,data:nL(h,o),options:f&&{...f},plugins:d}),RE(t,A.current))},N=()=>{RE(t,null),A.current&&(A.current.destroy(),A.current=null)};return st.useEffect(()=>{!r&&A.current&&f&&eL(A.current,f)},[r,f]),st.useEffect(()=>{!r&&A.current&&X1(A.current.config.data,h.labels)},[r,h.labels]),st.useEffect(()=>{!r&&A.current&&h.datasets&&Q1(A.current.config.data,h.datasets,o)},[r,h.datasets]),st.useEffect(()=>{A.current&&(r?(N(),setTimeout(C)):A.current.update(_))},[r,f,h.labels,h.datasets,_]),st.useEffect(()=>{A.current&&(N(),setTimeout(C))},[c]),st.useEffect(()=>(C(),()=>N()),[]),IE.createElement("canvas",{ref:E,role:"img",height:e,width:i,...b},y)}const sL=st.forwardRef(iL);function i_(n,t){return Qa.register(t),st.forwardRef((e,i)=>IE.createElement(sL,{...e,ref:i,type:n}))}const rL=i_("line",e6),W1=i_("bar",ZV),aL=i_("doughnut",t6);Qa.register(e_,n_,q1,t_,Od,Dd);const oL=({isDark:n})=>{const t={labels:["January","February","March"],datasets:[{label:"Fuel Consumption",data:[20,42,88],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption Overview",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return T.jsx(W1,{data:t,options:e})};Qa.register(e_,n_,CP,RP,t_,Od,Dd);const lL=({isDark:n})=>{const t={labels:["January","February","March","April"],datasets:[{label:"Mileage",data:[40,52,70,88],fill:!1,borderColor:"rgba(101, 119, 255, 1)",tension:.1}]},e={responsive:!0,plugins:{legend:{position:"top",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Mileage Efficiency",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return T.jsx(rL,{data:t,options:e})};Qa.register(yP,Od,Dd);const cL=({isDark:n})=>{const t={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Total Expenses",color:n?"#FFFCE1":"#0E100F"},tooltip:{backgroundColor:n?"#0E100F":"#FFFCE1",titleColor:n?"#FFFCE1":"#0E100F",bodyColor:n?"#FFFCE1":"#0E100F",borderColor:n?"#555":"#ccc",borderWidth:1}}},e={labels:["January","February","March"],datasets:[{label:"Expenses",data:[300,50,100],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderColor:n?"#0E100F":"#FFFCE1",borderWidth:2}]};return T.jsx(aL,{data:e,options:t})};function uL({isDark:n}){const t=Pe();return T.jsxs("div",{className:`flex-col
            fade-in flex items-center justify-center h-screen w-full p-[calc(0.4vw+0.6rem)]`,children:[T.jsx("section",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:`${t?"flex-col items-center gap-[calc(0.4vw+0.6rem)]":"flex-row items-center"}
                    h-auto w-full flex justify-center py-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]`,children:[T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("img",{src:Nr,className:`h-[calc(6vw+6.4rem)] w-[calc(6vw+6.4rem)] cursor-pointer\r
                            filter hover:brightness-60 transition duration-300`,alt:""}),T.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),T.jsxs("div",{className:`${t?"w-full":""}
                        flex-3 h-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]`,children:[T.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-center py-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:"w-full text-[calc(0.4vw+1rem)] text-center cursor-pointer font-semibold hovered",children:"Subscribe to our newsletter"}),T.jsxs("div",{className:"w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] pl-0",children:[T.jsx("input",{type:"email",placeholder:"Enter your email",className:`${t?"text-[calc(0.4vw+0.7rem)] placeholder:text-[calc(0.4vw+0.7rem)]":""}
                                    ${n?"border-[var(--light-color)]":"border-[var(--dark-color)]"}
                                    w-full outline-none px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] border-b`}),T.jsx("i",{className:"bx bx-arrow-right-stroke-circle bx-spin-hover hovered text-[calc(1vw+1.4rem)] cursor-pointer"})]})]}),T.jsxs("div",{className:`${t?"pb-[calc(0.4vw+0.6rem)]":"p-[calc(0.4vw+0.6rem)]"}
                            flex-3 w-full flex items-center justify-center gap-[calc(1.4vw+1.6rem)]`,children:[T.jsxs("div",{className:`${t?"items-center":"items-start"}
                                h-auto flex-1 flex flex-col justify-center gap-[calc(0.4vw+0.6rem)]`,children:[T.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"About Us"}),T.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Mission"}),T.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Team"}),T.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Docs"})]}),T.jsxs("div",{className:`${t?"items-center":"items-start"}
                                h-auto flex-1 flex flex-col justify-center gap-[calc(0.4vw+0.6rem)]`,children:[T.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Support"}),T.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Contact"}),T.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Support"}),T.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"FAQ's"})]}),T.jsxs("div",{className:`${t?"items-center":"items-start"}
                                h-auto flex-1 flex flex-col justify-center gap-[calc(0.4vw+0.6rem)]`,children:[T.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Social"}),T.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Facebook"}),T.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Instagram"}),T.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,onClick:()=>{window.open("https://github.com/Yureusu/DriveSense/actions")},children:"Github"})]})]})]})]})}),T.jsxs("section",{className:"w-full flex flex-row items-center justify-between flex-wrap",children:[T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Copyright  DriveSense 2025"}),T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Terms of Service"}),T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"A100 Group 6 BSIT Mini-Capstone Project"}),T.jsxs("div",{className:"flex flex-row items-center justify-center",children:[T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Back to top"}),T.jsx("i",{className:"bx bx-arrow-up-square bx-tada-hover text-[calc(1vw+1.4rem)] cursor-pointer hovered",onClick:()=>{const e=document.getElementById("landing-section");e&&e.scrollIntoView({behavior:"smooth"})}})]})]})]})}function hL({isDark:n}){const t=Pe();return T.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in h-screen w-full flex flex-col items-center justify-start overflow-y-scroll snap-y snap-mandatory scroll-smooth no-scrollbar`,children:[T.jsxs("section",{id:"landing-section",className:`${t?"flex-col min-h-screen w-full justify-center":"w-[90%] flex-row min-h-screen justify-around snap-start"}
                flex items-center border-b border-[var(--border-color)]`,children:[T.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:`${t?"text-center":""} text-[calc(1.6vw+1.4rem)] font-bold cursor-pointer hovered`,children:"Fuel Consumption and Vehicle Usage Monitoring System"}),!t&&T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),!t&&T.jsx("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:T.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--dark-color)] font-semibold`,children:"Get Started"})})]})}),T.jsx("div",{className:"relative h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:T.jsx("img",{src:O4,className:`${t?"h-[calc(18vw+16rem)] min-w-[calc(18vw+16rem)]":"h-[calc(18vw+16rem)] w-[calc(24vw+18rem)] mb-[48px]"}`,alt:""})}),t&&T.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"w-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] text-center font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),T.jsx("div",{className:"w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:T.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.8rem)] rounded-md hovered cursor-pointer font-semibold`,children:"Get Started"})})]})})]}),T.jsxs("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)] border-b border-[var(--border-color)]`,children:[T.jsx("span",{className:"text-[calc(0.8vw+1rem)] cursor-pointer font-semibold hovered",children:"Why Use DriveSense?"}),T.jsxs("div",{className:`${n?"text-[var(--light-color)]":"text-[var(--dark-color)]"}
                        ${t?"flex-row items-center flex-wrap":"flex-row items-start"}
                        w-full flex justify-center gap-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)]`,children:[T.jsx(af,{icon:T.jsx("i",{className:"bx bx-petrol-pump bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Monitor Fuel Consumption",info:"Track fuel volume, cost and refusing data.",isDark:n}),T.jsx(af,{icon:T.jsx("i",{className:"bx bx-chart-bar-columns bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Analyze Efficiency",info:"Generate reports on vehicle mileage and performance.",isDark:n}),T.jsx(af,{icon:T.jsx("i",{className:"bx bx-car bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Manage Vehicles",info:"Register and update vehicle details with ease.",isDark:n}),T.jsx(af,{icon:T.jsx("i",{className:"bx bx-lock-keyhole bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Secure Access",info:"Role: based login for drivers and owners.",isDark:n})]}),T.jsxs("div",{className:`${t?"flex-col justify-start w-full":"flex-row justify-center h-[320px] w-full"}
                    h-auto flex items-center p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[T.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:T.jsx(oL,{isDark:n})}),T.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:T.jsx(lL,{isDark:n})}),T.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+1rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:T.jsx(cL,{isDark:n})})]})]}),T.jsx("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)]`,children:T.jsx(uL,{isDark:n})})]})}function fL({isLoggedIn:n,setIsLoggedIn:t,setUser:e}){const[i,r]=st.useState(!1);return T.jsxs("div",{className:`${i?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            h-screen w-screen overflow-hidden flex flex-col items-center justify-start`,children:[T.jsx(D4,{isDark:i,setIsDark:r,isLoggedIn:n,setIsLoggedIn:t,setUser:e}),T.jsx(hL,{isDark:i})]})}const Z1=({icon:n,title:t})=>{const e=Pe();return T.jsxs("div",{className:`${e?"p-[calc(0.4vw+0.6rem)]":""} flex flex-row items-center justify-start gap-[calc(0.3vw+0.4rem)] w-full`,children:[T.jsx("i",{className:`${n} text-[calc(0.6vw+1rem)]`}),T.jsx("span",{className:`${e?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} hovered`,children:t})]})};function dL({isDark:n,setIsDark:t,activeIndex:e,setActiveIndex:i,user:r,isLoggedIn:o,setIsLoggedIn:c}){const h=Pe(),[f,d]=st.useState(!1),y=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-user bx-tada-hover hovered",title:"Drivers"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicle"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],_=r?.displayName?.split(" ")[0]??"Guest",b=()=>{const E=gu();S2(E).then(()=>{console.log("Signed out successfully!"),c(!1)}).catch(A=>{console.error(A)})};return T.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[T.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[h&&T.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>d(E=>!E)}),T.jsx("img",{src:Nr,className:"h-[calc(1.2vw+1.8rem)] w-[calc(1.2vw+1.8rem)] cursor-pointer hovered"}),T.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),T.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[r&&T.jsx("img",{src:r?.photoURL??Nr,className:"rounded-full h-[calc(0.8vw+1.4rem)]  w-[calc(0.8vw+1.4rem)] cursor-pointer",alt:""}),!r&&T.jsx("i",{className:"bx bx-user-circle bx-tada-hover hovered text-[calc(1vw+1.2rem)] cursor-pointer"}),T.jsx("span",{className:`${h?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} 
                    cursor-pointer hovered`,children:h?_:r?.displayName??"Guest"}),T.jsx(wT,{isDark:n,setIsDark:t}),o&&T.jsx("i",{className:"bx bx-arrow-out-right-square-half bx-tada-hover text-[calc(0.4vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out cursor-pointer",onClick:()=>b()})]}),h&&f&&T.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:T.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start p-[calc(0.4vw+0.7rem)]`,children:[T.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)] mb-[calc(0.4vw+0.6rem)]",onClick:()=>d(E=>!E)}),y.map((E,A)=>T.jsx("div",{className:`${e===A?"bg-[var(--border-color)] text-[var(--dark-color)]":""} flex flex-row items-center justify-start
                            cursor-pointer w-full transition duration-300 ease-in-out`,onClick:()=>i(A),children:T.jsx(Z1,{icon:E.icon,title:E.title})},A))]})})]})}function br({title:n,descrip:t,isDark:e}){return T.jsxs("div",{className:`
            text-[var(--light-color)] bg-[var(--purple-color)]
            h-auto w-full flex flex-col items-start justify-center rounded-lg
            p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer text-center",children:n}),T.jsx("span",{className:"text-[calc(0.6vw+1.2rem)] cursor-pointer",children:t})]})}function s_(n){const[t,e]=st.useState([]),[i,r]=st.useState(!0),[o,c]=st.useState(null),h=st.useCallback(async()=>{if(n?.uid)try{r(!0);const f=Rd(ii,"users",n.uid,"fuels"),d=await Cd(f),y=[];d.forEach(_=>{const b=_.data();y.push({id:_.id||null,vehicle:b.vehicle??"null",volume:b.volume??"null",cost:b.cost??"null",addedBy:b.addedBy??"null",logDate:b.logDate??"null"})}),e(y)}catch(f){console.error("Failed to fetch fuel logs:",f),c(f)}finally{r(!1)}},[n]);return st.useEffect(()=>{h()},[h]),{fuelInfo:t,loading:i,error:o,refetch:h}}Qa.register(e_,n_,q1,t_,Od,Dd);const mL=({isDark:n,user:t})=>{const{fuelInfo:e}=s_(t),[i,r]=st.useState([]),[o,c]=st.useState([]);st.useEffect(()=>{if(!e||e.length===0){r([]),c([]);return}const d=e.map(_=>Number(_.cost)||0);r(d);const y=e.map(_=>{if(!_.logDate)return null;const b=new Date(_.logDate);return isNaN(b.getTime())?null:b.toISOString().split("T")[0]}).filter(_=>!!_);c(y)},[e]),console.log(o);const h={labels:o,datasets:[{label:"Fuel Consumption",data:i,backgroundColor:["rgba(101, 119, 255, 1)"],borderWidth:1}]},f={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption",color:n?"#FFFCE1":"#0E100F",align:"start",font:{size:16}}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return T.jsx(W1,{data:h,options:f})};function Vd(n){const[t,e]=st.useState([]),[i,r]=st.useState(!0),[o,c]=st.useState(null),h=st.useCallback(async()=>{if(n?.uid)try{r(!0);const f=Rd(ii,"users",n.uid,"vehicles"),d=await Cd(f),y=[];d.forEach(_=>{const b=_.data();y.push({id:_.id,plateNumber:b.plateNumber??"null",model:b.model??"null",driver:b.driver??"null",createdAt:b.createdAt??"null"})}),e(y)}catch(f){console.error("Failed to fetch vehicle logs:",f),c(f)}finally{r(!1)}},[n]);return st.useEffect(()=>{h()},[h]),{vehicleInfo:t,loading:i,error:o,refetch:h}}function Pd(n){const[t,e]=st.useState([]),[i,r]=st.useState(!0),[o,c]=st.useState(null),h=st.useCallback(async()=>{if(n?.uid)try{r(!0);const f=Rd(ii,"users",n.uid,"drivers"),d=await Cd(f),y=[];d.forEach(_=>{const b=_.data();y.push({id:_.id,name:b.name??"null",contact:b.contact??"null",license:b.license??"null"})}),e(y)}catch(f){console.error("Failed to fetch vehicle logs:",f),c(f)}finally{r(!1)}},[n]);return st.useEffect(()=>{n?.uid&&h()},[h]),{driverInfo:t,loading:i,error:o,refetch:h}}function J1(n){const[t,e]=st.useState([]),[i,r]=st.useState(!0),[o,c]=st.useState(null),h=st.useCallback(async()=>{if(n?.uid)try{r(!0);const f=Rd(ii,"users",n.uid,"maintenance"),d=await Cd(f),y=[];d.forEach(_=>{const b=_.data();y.push({id:_.id||null,vehicle:b.vehicle??"null",desrcription:b.description??"null",cost:b.cost??"null",createdAt:b.createdAt??"null"})}),e(y)}catch(f){console.error("Failed to fetch fuel logs:",f),c(f)}finally{r(!1)}},[n]);return st.useEffect(()=>{h()},[h]),{maintenanceInfo:t,loading:i,error:o,refetch:h}}function CE({isDark:n,user:t}){console.log(t);const{fuelInfo:e}=s_(t),{vehicleInfo:i}=Vd(t),{driverInfo:r}=Pd(t),{maintenanceInfo:o}=J1(t);console.log("vehicleInfo",i),console.log("fuelInfo",e),console.log("driverInfo",r),console.log("maintenanceInfo",o);const c=Pe(),[h,f]=st.useState(0),[d,y]=st.useState("0"),[_,b]=st.useState("0"),[E,A]=st.useState(0);return st.useEffect(()=>{if(!e||!i||!r||!o)return;const C=e.reduce((N,L)=>N+Number(L.cost||0),0);f(i.length),y(r.length.toString()),b(o.length.toString()),A(C),console.log({totalFuel:C,vehicleCount:i.length,driverCount:r.length,maintenanceCount:o.length})},[e,i,r,o]),T.jsxs("section",{id:"main",className:`${c?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
        flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:[T.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Dashboard"}),T.jsxs("span",{className:"text-[calc(0.4vw+0.8rem)] cursor-pointer hovered",children:["Welcome back, ",t?.displayName?.split(" ")[0]]}),!c&&T.jsxs("div",{className:"h-auto w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsx(br,{title:"Total Vehicles",descrip:h.toString()??"0",isDark:n}),T.jsx(br,{title:"Monthly Fuel Cost",descrip:E?.toString()??"0",isDark:n}),T.jsx(br,{title:"Total Drivers",descrip:d,isDark:n}),T.jsx(br,{title:"Maintenance Logs",descrip:_,isDark:n})]}),c&&T.jsxs("div",{className:"h-auto w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[T.jsx(br,{title:"Total Vehicles",descrip:h.toString()??"0",isDark:n}),T.jsx(br,{title:"Monthly Fuel Cost",descrip:E?.toString()??"0",isDark:n})]}),T.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[T.jsx(br,{title:"Mileage Efficiency",descrip:d,isDark:n}),T.jsx(br,{title:"Total Trips",descrip:_,isDark:n})]})]})]}),T.jsxs("div",{className:`${c?"flex-col items-center mt-[calc(0.4vw+0.6rem)]":"flex-row items-start"}
                h-full w-full flex justify-start gap-[calc(0.4vw+0.6rem)]`,children:[T.jsx("div",{className:`${c?"w-full":"flex-1"}
                    h-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:T.jsx(mL,{isDark:n,user:t})}),T.jsxs("div",{className:`${c?"w-full":"flex-1"}
                    h-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:[T.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] p-[calc(0.4vw+0.6rem)] pl-0 cursor-pointer",children:"Recent Activity"}),T.jsx("div",{className:"h-full w-full flex flex-row items-start justify-around py-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"w-full flex flex-row items-center justify-start",children:[T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Activity"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Date"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Time"})]})})]})]})]})}function gL({user:n,isDark:t,vehicleInfo:e,setVehicleInfo:i,setIsVisible:r}){const{driverInfo:o}=Pd(n),[c,h]=st.useState(!1),f=Pe(),[d,y]=st.useState(null);st.useEffect(()=>{if(console.log("driverInfo prop:",o),o&&Array.isArray(o)){const F=o.map(H=>H.name??"null");y(F)}},[o]),st.useEffect(()=>{console.log("Driver Names: ",d)},[d]);const[_,b]=st.useState(null),[E,A]=st.useState(null),[C,N]=st.useState(null),L=async()=>{if(!n?.uid)return;const F=new Date,H=`${F.toLocaleDateString()} ${F.toLocaleTimeString()}`,Z=(e.length+1).toString(),Q=Yr(ii,"users",n?.uid,"vehicles",Z),rt=await ml(Q,{id:Z,plateNumber:_,model:E,driver:C,createdAt:H}),M={id:Z,plateNumber:_,model:E,driver:C,createdAt:H};i(R=>[...R,M]),console.log(e),console.log("Added the vehicle successfully: ",rt),h(R=>!R),r(!1)};return T.jsx(T.Fragment,{children:!c&&T.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:T.jsxs("div",{className:`${t?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[T.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>h(F=>!F)}),T.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[T.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:T.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),T.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("input",{type:"text",placeholder:"Plate Number",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:F=>b(F.target.value),required:!0}),T.jsx("input",{type:"text",placeholder:"Model",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:F=>A(F.target.value),required:!0}),T.jsxs("select",{id:"driver-names",value:C??"",className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",onChange:F=>N(F.target.value),children:[T.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),d?.map((F,H)=>T.jsx("option",{value:F,className:"text-[var(--dark-color)] cursor-pointer",children:F},H))]}),T.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>L(),children:"Continue"})]})]})]})})})}function pL({selectedDriverIndex:n,user:t,refetch:e,setIsDelete:i}){st.useEffect(()=>{console.log("SelectedDriverIndex: ",n)},[]);const[r,o]=st.useState(!0),c=async()=>{try{if(!t?.uid||n===null)return;const h=Yr(ii,"users",t?.uid,"vehicles",n.toString());await e1(h),e()}catch(h){console.error(h)}o(!1),i(!1),console.log("Deleted vehicle successfully!")};return T.jsx(T.Fragment,{children:r&&T.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:T.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[T.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>o(!1)}),T.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[T.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this vehicle?"})}),T.jsxs("div",{className:"flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>o(!1),children:"No"}),T.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>c(),children:"Yes"})]})]})]})})})}function yL({isDark:n,user:t,driverInfo:e}){const i=Pe(),[r,o]=st.useState(!1),[c,h]=st.useState(!1),[f,d]=st.useState(null),{vehicleInfo:y,loading:_,error:b,refetch:E}=Vd(t);return _?T.jsx("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-gray-500`,children:"Loading vehicles..."}):b?T.jsxs("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-red-500`,children:["Error: ",b.message]}):T.jsxs("section",{id:"main",className:`${i?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[T.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Vehicle Information"}),T.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>o(A=>!A),children:[T.jsx("i",{className:"bx bx-plus bx-tada-hover"}),T.jsx("span",{children:"Add Vehicle"})]})]}),r&&T.jsx(gL,{user:t,driverInfo:e,isDark:n,vehicleInfo:y,setVehicleInfo:()=>E(),setIsVisible:o}),T.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Driver"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Plate no."}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Model"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Created At"}),T.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:T.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover text-[calc(0.6vw+1rem)] cursor-pointer hover:text-[var(--dark-color)] transition duration-300 ease-in-out",onClick:E})})]})}),y.map(A=>T.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"flex flex-row items-start justify-start",children:[T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.id??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.driver??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.plateNumber??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.model??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.createdAt??"null"}),T.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),T.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer",onClick:()=>{h(C=>!C),d(Number(A.id))}})]})]})},A.id)),c&&T.jsx(pL,{selectedDriverIndex:f,user:t,refetch:E,setIsDelete:h})]})]})}function _L({user:n,refetch:t,driverInfo:e,setIsAddDriverVisible:i}){const[r,o]=st.useState(!0),[c,h]=st.useState(""),[f,d]=st.useState(""),[y,_]=st.useState(""),b=async()=>{try{if(!n?.uid)return;const E=(e.length+1).toString(),A=Yr(ii,"users",n.uid,"drivers",E);await ml(A,{name:c,contact:f,license:y}),console.log("Added the driver successfully"),t(),o(C=>!C),i(!1)}catch(E){console.error("Can't add the driver.",E)}};return T.jsx(T.Fragment,{children:r&&T.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:T.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[T.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>o(E=>!E)}),T.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[T.jsx("div",{className:"w-full flex flex-col items-center justify-end",children:T.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new driver"})}),T.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("input",{type:"text",placeholder:"Name",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>h(E.target.value),required:!0}),T.jsx("input",{type:"text",placeholder:"Contact",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>d(E.target.value),required:!0}),T.jsx("input",{type:"text",placeholder:"License",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>_(E.target.value),required:!0}),T.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                    bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:b,children:"Continue"})]})]})]})})})}function vL({user:n,driverId:t,driverIndex:e,driverInfo:i,setDriverInfo:r,refetch:o,setIsDelete:c}){const[h,f]=st.useState(!0),d=Pe(),y=async()=>{try{if(!n?.uid||!t)return;const _=Yr(ii,"users",n?.uid,"drivers",t);await e1(_),r(b=>b.filter((E,A)=>A!==e)),o(),f(b=>!b),c(!1)}catch(_){console.error("Cant delete the driver.",_)}};return console.log("Updated driver info: ",i),T.jsx(T.Fragment,{children:h&&T.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:T.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[T.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>f(_=>!_)}),T.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[T.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:T.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this driver?"})}),T.jsxs("div",{className:`
                            flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]`,children:[T.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>f(_=>!_),children:"No"}),T.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>y(),children:"Yes"})]})]})]})})})}function bL({isDark:n,user:t}){const[e,i]=st.useState([]),r=Pe(),[o,c]=st.useState(!1),[h,f]=st.useState(!1),[d,y]=st.useState(null),[_,b]=st.useState(null),{driverInfo:E,loading:A,error:C,refetch:N}=Pd(t);return A?T.jsx("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-gray-500`,children:"Loading drivers..."}):C?T.jsxs("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-red-500`,children:["Error: ",C.message]}):T.jsxs("section",{id:"main",className:`${r?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-auto"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[T.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Driver Information"}),T.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-lg cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>c(L=>!L),children:[T.jsx("i",{className:"bx bx-plus bx-tada-hover"}),T.jsx("span",{children:"Add Driver"})]})]}),o&&T.jsx(_L,{user:t,refetch:N,driverInfo:E,setIsAddDriverVisible:c}),T.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start gap-[calc(0.6vw+1rem)]",children:[T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Name"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Contact"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"License"}),T.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:T.jsx("i",{title:"Refresh",className:"bx bx-refresh bx-spin-hover text-[calc(0.6vw+1rem)] cursor-pointer hover:text-[var(--dark-color)] transition duration-300 ease-in-out",onClick:N})})]})}),E.map((L,F)=>T.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"flex flex-row items-start justify-start gap-[calc(0.6vw+1rem)]",children:[T.jsx("span",{className:"flex-1",children:L.id??"null"}),T.jsx("span",{className:"flex-1",children:L.name??"null"}),T.jsx("span",{className:"flex-1",children:L.contact??"null"}),T.jsx("span",{className:"flex-1",children:L.license??"null"}),T.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),T.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer",onClick:()=>{f(!0),y(L.id??"null"),b(F)}})]})]})},L.id??F)),h&&d&&T.jsx(vL,{user:t,driverId:d,driverIndex:_,driverInfo:e,setDriverInfo:i,refetch:N,setIsDelete:f})]})]})}function xL({isDark:n,user:t,fuelInfo:e,refetch:i,setIsAddFuel:r}){const{vehicleInfo:o}=Vd(t),{driverInfo:c}=Pd(t),[h,f]=st.useState([]),[d,y]=st.useState([]),[_,b]=st.useState([]);st.useEffect(()=>{if(!o||!c||!e)return;const R=o.map(O=>O.model??"null");f(R);const D=c.map(O=>O.name??"null");y(D);const P=e.map(O=>O.id??"null");b(P)},[o,c,e]),st.useEffect(()=>{console.log("Updated vehicleModel:",h)},[h]);const[E,A]=st.useState(!0),[C,N]=st.useState(null),[L,F]=st.useState(null),[H,Z]=st.useState(null),[Q,rt]=st.useState(null),M=async()=>{try{if(!t?.uid)return;const R=(_.length+1).toString(),D=new Date,P=`${D.toLocaleDateString()} ${D.toLocaleTimeString()}`,O=Yr(ii,"users",t?.uid,"fuels",R);await ml(O,{id:R,vehicle:C,volume:L,cost:H,addedBy:Q,logDate:P}),A(j=>!j),r(j=>!j),i()}catch(R){console.error("Cant add fuel log.",R)}};return T.jsx(T.Fragment,{children:E&&T.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:T.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[T.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>A(R=>!R)}),T.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[T.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:T.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),T.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",value:C??"",onChange:R=>N(R.target.value),children:[T.jsx("option",{value:"",disabled:!0,children:"Select a vehicle"}),h?.map((R,D)=>T.jsx("option",{value:R,className:"text-[var(--dark-color)] cursor-pointer",children:R},D))]}),T.jsx("input",{type:"text",placeholder:"Volume",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:R=>F(R.target.value),required:!0}),T.jsx("input",{type:"text",placeholder:"Cost",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:R=>Z(R.target.value),required:!0}),T.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",value:Q??"",onChange:R=>rt(R.target.value),children:[T.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),d?.map((R,D)=>T.jsx("option",{value:R,className:"text-[var(--dark-color)] cursor-pointer",children:R},D))]}),T.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>M(),children:"Continue"})]})]})]})})})}function wL({isDark:n,user:t,driverInfo:e,vehicleInfo:i}){const r=Pe(),{fuelInfo:o,loading:c,error:h,refetch:f}=s_(t),[d,y]=st.useState(null),[_,b]=st.useState(null),[E,A]=st.useState(!1);return st.useEffect(()=>{if(e){const C=e.map(N=>N.name??"null");y(C)}},[e]),st.useEffect(()=>{if(i){const C=i.map(N=>N.model??"null");b(C)}},[i]),c?T.jsx("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-gray-500`,children:"Loading fuel logs..."}):h?T.jsxs("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-red-500`,children:["Error: ",h.message]}):T.jsxs("section",{id:"main",className:`${r?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[T.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Fuel Logs"}),T.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>A(C=>!C),children:[T.jsx("i",{className:"bx bx-plus bx-tada-hover"}),T.jsx("span",{children:"Add Fuel Log"})]})]}),E&&T.jsx(xL,{isDark:n,user:t,fuelInfo:o,refetch:f,setIsAddFuel:A}),T.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Vehicle"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Volume(L)"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Cost"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Added By"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Log Date"}),T.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:T.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>f()})})]})}),o.map((C,N)=>T.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"flex flex-row items-start justify-start",children:[T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.id??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.vehicle??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.volume??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.cost??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.addedBy??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.logDate??"null"}),T.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),T.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer"})]})]})},C.id??N))]})]})}function EL({isDark:n,user:t,maintenanceInfo:e,refetch:i,setIsAddMaintenance:r}){const{vehicleInfo:o}=Vd(t),[c,h]=st.useState(!0),[f,d]=st.useState([]),[y,_]=st.useState([]);st.useEffect(()=>{const H=o.map(Q=>Q.model??"null");d(H);const Z=e.map(Q=>Q.id??"null");_(Z)},[o]);const[b,E]=st.useState(null),[A,C]=st.useState(null),[N,L]=st.useState(null),F=async()=>{try{if(!t?.uid)return;const H=(y.length+1).toString(),Z=new Date,Q=`${Z.toLocaleDateString()} ${Z.toLocaleTimeString()}`,rt=Yr(ii,"users",t?.uid,"maintenance",H);await ml(rt,{id:H,vehicle:b,description:A,cost:N,createdAt:Q}),i(),h(M=>!M),r(M=>!M)}catch(H){console.log(H)}};return T.jsx(T.Fragment,{children:c&&T.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:T.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[T.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>h(H=>!H)}),T.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[T.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:T.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new record"})}),T.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[T.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",value:b??"",onChange:H=>E(H.target.value),children:[T.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select a vehicle"}),f?.map((H,Z)=>T.jsx("option",{value:H,className:"text-[var(--dark-color)] cursor-pointer",children:H},Z))]}),T.jsx("input",{maxLength:20,type:"text",placeholder:"Description",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:H=>C(H.target.value),required:!0}),T.jsx("input",{type:"text",placeholder:"Cost",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:H=>L(H.target.value),required:!0}),T.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>F(),children:"Continue"})]})]})]})})})}function TL({user:n,isDark:t,vehicleInfo:e}){const{maintenanceInfo:i,loading:r,error:o,refetch:c}=J1(n),h=Pe(),[f,d]=st.useState(!1),[y,_]=st.useState(null);return st.useEffect(()=>{if(e){const b=e.map(E=>E.model??"null");_(b)}},[e]),r?T.jsx("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-gray-500`,children:"Loading maintenance records..."}):o?T.jsxs("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-red-500`,children:["Error: ",o.message]}):T.jsxs("section",{id:"main",className:`${h?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[T.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Maintenance Records"}),T.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>d(b=>!b),children:[T.jsx("i",{className:"bx bx-plus bx-tada-hover"}),T.jsx("span",{children:"Add Maintenance"})]})]}),f&&T.jsx(EL,{isDark:t,user:n,maintenanceInfo:i,vehicleInfo:e,refetch:c,setIsAddMaintenance:d}),T.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Vehicle"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] flex-wrap",children:"Description"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Cost"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Created At"}),T.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:T.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>c()})})]})}),i.map((b,E)=>T.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:T.jsxs("div",{className:"flex flex-row items-start justify-start",children:[T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.id??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.vehicle??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.desrcription??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.cost??"null"}),T.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.createdAt??"null"}),T.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[T.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),T.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer"})]})]})},b.id??E))]})]})}function SL({isDark:n}){const t=Pe();return T.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Reports Tab"})}function AL({isDark:n}){const t=Pe();return T.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Users Tab"})}function RL({isDark:n}){const t=Pe();return T.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Settings Tab"})}function CL({isDark:n,activeIndex:t,setActiveIndex:e,user:i,driverInfo:r,vehicleInfo:o}){const c=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-user bx-tada-hover hovered",title:"Drivers"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicles"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],h=[T.jsx(CE,{isDark:n,user:i}),T.jsx(bL,{isDark:n,user:i}),T.jsx(yL,{isDark:n,user:i,driverInfo:r}),T.jsx(wL,{isDark:n,user:i,driverInfo:r,vehicleInfo:o}),T.jsx(TL,{isDark:n,user:i,vehicleInfo:o}),T.jsx(SL,{isDark:n}),T.jsx(AL,{isDark:n}),T.jsx(RL,{isDark:n})],f=Pe();return T.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            ${f?"h-auto":"h-screen"}
            fade-in w-full flex flex-row items-start justify-center p-[calc(0.4vw+0.6rem)]`,children:[!f&&T.jsx("section",{id:"side-nav",className:"h-full w-full flex-1",children:c.map((d,y)=>T.jsx("div",{className:`${t===y?"text-[var(--dark-color)] bg-[var(--border-color)]":""} flex flex-row items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] 
                        cursor-pointer transition duration-300 ease-in-out`,onClick:()=>e(y),children:T.jsx(Z1,{icon:d.icon,title:d.title})},y))}),h[t]??T.jsx(CE,{isDark:n,user:i})]})}function IL({user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,maintenanceInfo:o,isLoggedIn:c,setIsLoggedIn:h,fuelInfo:f}){const[d,y]=st.useState(!1),[_,b]=st.useState(0);return T.jsxs("div",{children:[T.jsx(dL,{isDark:d,setIsDark:y,activeIndex:_,setActiveIndex:b,user:n,isLoggedIn:c,setIsLoggedIn:h}),T.jsx(CL,{isDark:d,activeIndex:_,setActiveIndex:b,user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,maintenanceInfo:o,fuelInfo:f})]})}function NL(){const[n,t]=st.useState(!1),[e,i]=st.useState(null),[r,o]=st.useState([]),[c,h]=st.useState([]),[f,d]=st.useState([]),[y,_]=st.useState([]);return st.useEffect(()=>{const b=gu(),E=T2(b,A=>{if(A){const C={displayName:A.displayName,email:A.email,photoURL:A.photoURL,uid:A.uid};console.log("Logged in user:",C),i(C),t(!0)}else console.log("No user signed in bruh"),i(null),t(!1)});return()=>E()},[]),n?n&&!e?.uid?T.jsx("div",{className:"h-screen w-screen flex flex-col items-center justify-center",children:"Fetching user..."}):T.jsx(IL,{user:e,isLoggedIn:n,setIsLoggedIn:t,driverInfo:r,setDriverInfo:o,vehicleInfo:c,setVehicleInfo:h,fuelInfo:f,setFuelInfo:d,maintenanceInfo:y,setMaintenanceInfo:_}):T.jsx(fL,{isLoggedIn:n,setIsLoggedIn:t,setUser:i})}zR.createRoot(document.getElementById("root")).render(T.jsx(st.StrictMode,{children:T.jsx(NL,{})}));
