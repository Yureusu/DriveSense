(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function gR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rg={exports:{}},pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function pR(){if(pb)return pc;pb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return pc.Fragment=t,pc.jsx=e,pc.jsxs=e,pc}var yb;function yR(){return yb||(yb=1,Rg.exports=pR()),Rg.exports}var E=yR(),Cg={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function _R(){if(_b)return At;_b=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function L(z,tt,ct){this.props=z,this.context=tt,this.refs=M,this.updater=ct||R}L.prototype.isReactComponent={},L.prototype.setState=function(z,tt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,tt,"setState")},L.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function B(){}B.prototype=L.prototype;function H(z,tt,ct){this.props=z,this.context=tt,this.refs=M,this.updater=ct||R}var Z=H.prototype=new B;Z.constructor=H,C(Z,L.prototype),Z.isPureReactComponent=!0;var $=Array.isArray;function st(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(z,tt,ct){var ut=ct.ref;return{$$typeof:n,type:z,key:tt,ref:ut!==void 0?ut:null,props:ct}}function P(z,tt){return D(z.type,tt,z.props)}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function j(z){var tt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ct){return tt[ct]})}var k=/\/+/g;function Dt(z,tt){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):tt.toString(36)}function wt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(st,st):(z.status="pending",z.then(function(tt){z.status==="pending"&&(z.status="fulfilled",z.value=tt)},function(tt){z.status==="pending"&&(z.status="rejected",z.reason=tt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function X(z,tt,ct,ut,_t){var xt=typeof z;(xt==="undefined"||xt==="boolean")&&(z=null);var Ft=!1;if(z===null)Ft=!0;else switch(xt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(z.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=z._init,X(Ft(z._payload),tt,ct,ut,_t)}}if(Ft)return _t=_t(z),Ft=ut===""?"."+Dt(z,0):ut,$(_t)?(ct="",Ft!=null&&(ct=Ft.replace(k,"$&/")+"/"),X(_t,tt,ct,"",function(Br){return Br})):_t!=null&&(O(_t)&&(_t=P(_t,ct+(_t.key==null||z&&z.key===_t.key?"":(""+_t.key).replace(k,"$&/")+"/")+Ft)),tt.push(_t)),1;Ft=0;var Pe=ut===""?".":ut+":";if($(z))for(var fe=0;fe<z.length;fe++)ut=z[fe],xt=Pe+Dt(ut,fe),Ft+=X(ut,tt,ct,xt,_t);else if(fe=w(z),typeof fe=="function")for(z=fe.call(z),fe=0;!(ut=z.next()).done;)ut=ut.value,xt=Pe+Dt(ut,fe++),Ft+=X(ut,tt,ct,xt,_t);else if(xt==="object"){if(typeof z.then=="function")return X(wt(z),tt,ct,ut,_t);throw tt=String(z),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function ot(z,tt,ct){if(z==null)return z;var ut=[],_t=0;return X(z,ut,"","",function(xt){return tt.call(ct,xt,_t++)}),ut}function ft(z){if(z._status===-1){var tt=z._result;tt=tt(),tt.then(function(ct){(z._status===0||z._status===-1)&&(z._status=1,z._result=ct)},function(ct){(z._status===0||z._status===-1)&&(z._status=2,z._result=ct)}),z._status===-1&&(z._status=0,z._result=tt)}if(z._status===1)return z._result.default;throw z._result}var bt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Vt={map:ot,forEach:function(z,tt,ct){ot(z,function(){tt.apply(this,arguments)},ct)},count:function(z){var tt=0;return ot(z,function(){tt++}),tt},toArray:function(z){return ot(z,function(tt){return tt})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return At.Activity=_,At.Children=Vt,At.Component=L,At.Fragment=e,At.Profiler=r,At.PureComponent=H,At.StrictMode=i,At.Suspense=f,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,At.__COMPILER_RUNTIME={__proto__:null,c:function(z){return N.H.useMemoCache(z)}},At.cache=function(z){return function(){return z.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(z,tt,ct){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ut=C({},z.props),_t=z.key;if(tt!=null)for(xt in tt.key!==void 0&&(_t=""+tt.key),tt)!A.call(tt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&tt.ref===void 0||(ut[xt]=tt[xt]);var xt=arguments.length-2;if(xt===1)ut.children=ct;else if(1<xt){for(var Ft=Array(xt),Pe=0;Pe<xt;Pe++)Ft[Pe]=arguments[Pe+2];ut.children=Ft}return D(z.type,_t,ut)},At.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},At.createElement=function(z,tt,ct){var ut,_t={},xt=null;if(tt!=null)for(ut in tt.key!==void 0&&(xt=""+tt.key),tt)A.call(tt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=tt[ut]);var Ft=arguments.length-2;if(Ft===1)_t.children=ct;else if(1<Ft){for(var Pe=Array(Ft),fe=0;fe<Ft;fe++)Pe[fe]=arguments[fe+2];_t.children=Pe}if(z&&z.defaultProps)for(ut in Ft=z.defaultProps,Ft)_t[ut]===void 0&&(_t[ut]=Ft[ut]);return D(z,xt,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(z){return{$$typeof:h,render:z}},At.isValidElement=O,At.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:ft}},At.memo=function(z,tt){return{$$typeof:m,type:z,compare:tt===void 0?null:tt}},At.startTransition=function(z){var tt=N.T,ct={};N.T=ct;try{var ut=z(),_t=N.S;_t!==null&&_t(ct,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(st,bt)}catch(xt){bt(xt)}finally{tt!==null&&ct.types!==null&&(tt.types=ct.types),N.T=tt}},At.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},At.use=function(z){return N.H.use(z)},At.useActionState=function(z,tt,ct){return N.H.useActionState(z,tt,ct)},At.useCallback=function(z,tt){return N.H.useCallback(z,tt)},At.useContext=function(z){return N.H.useContext(z)},At.useDebugValue=function(){},At.useDeferredValue=function(z,tt){return N.H.useDeferredValue(z,tt)},At.useEffect=function(z,tt){return N.H.useEffect(z,tt)},At.useEffectEvent=function(z){return N.H.useEffectEvent(z)},At.useId=function(){return N.H.useId()},At.useImperativeHandle=function(z,tt,ct){return N.H.useImperativeHandle(z,tt,ct)},At.useInsertionEffect=function(z,tt){return N.H.useInsertionEffect(z,tt)},At.useLayoutEffect=function(z,tt){return N.H.useLayoutEffect(z,tt)},At.useMemo=function(z,tt){return N.H.useMemo(z,tt)},At.useOptimistic=function(z,tt){return N.H.useOptimistic(z,tt)},At.useReducer=function(z,tt,ct){return N.H.useReducer(z,tt,ct)},At.useRef=function(z){return N.H.useRef(z)},At.useState=function(z){return N.H.useState(z)},At.useSyncExternalStore=function(z,tt,ct){return N.H.useSyncExternalStore(z,tt,ct)},At.useTransition=function(){return N.H.useTransition()},At.version="19.2.0",At}var vb;function Vp(){return vb||(vb=1,Cg.exports=_R()),Cg.exports}var at=Vp();const yw=gR(at);var Ig={exports:{}},yc={},Mg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function vR(){return bb||(bb=1,(function(n){function t(X,ot){var ft=X.length;X.push(ot);t:for(;0<ft;){var bt=ft-1>>>1,Vt=X[bt];if(0<r(Vt,ot))X[bt]=ot,X[ft]=Vt,ft=bt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ot=X[0],ft=X.pop();if(ft!==ot){X[0]=ft;t:for(var bt=0,Vt=X.length,z=Vt>>>1;bt<z;){var tt=2*(bt+1)-1,ct=X[tt],ut=tt+1,_t=X[ut];if(0>r(ct,ft))ut<Vt&&0>r(_t,ct)?(X[bt]=_t,X[ut]=ft,bt=ut):(X[bt]=ct,X[tt]=ft,bt=tt);else if(ut<Vt&&0>r(_t,ft))X[bt]=_t,X[ut]=ft,bt=ut;else break t}}return ot}function r(X,ot){var ft=X.sortIndex-ot.sortIndex;return ft!==0?ft:X.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,_=null,b=3,w=!1,R=!1,C=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Z(X){for(var ot=e(m);ot!==null;){if(ot.callback===null)i(m);else if(ot.startTime<=X)i(m),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=e(m)}}function $(X){if(C=!1,Z(X),!R)if(e(f)!==null)R=!0,st||(st=!0,j());else{var ot=e(m);ot!==null&&wt($,ot.startTime-X)}}var st=!1,N=-1,A=5,D=-1;function P(){return M?!0:!(n.unstable_now()-D<A)}function O(){if(M=!1,st){var X=n.unstable_now();D=X;var ot=!0;try{t:{R=!1,C&&(C=!1,B(N),N=-1),w=!0;var ft=b;try{e:{for(Z(X),_=e(f);_!==null&&!(_.expirationTime>X&&P());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,b=_.priorityLevel;var Vt=bt(_.expirationTime<=X);if(X=n.unstable_now(),typeof Vt=="function"){_.callback=Vt,Z(X),ot=!0;break e}_===e(f)&&i(f),Z(X)}else i(f);_=e(f)}if(_!==null)ot=!0;else{var z=e(m);z!==null&&wt($,z.startTime-X),ot=!1}}break t}finally{_=null,b=ft,w=!1}ot=void 0}}finally{ot?j():st=!1}}}var j;if(typeof H=="function")j=function(){H(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Dt=k.port2;k.port1.onmessage=O,j=function(){Dt.postMessage(null)}}else j=function(){L(O,0)};function wt(X,ot){N=L(function(){X(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var ft=b;b=ot;try{return X()}finally{b=ft}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ft=b;b=X;try{return ot()}finally{b=ft}},n.unstable_scheduleCallback=function(X,ot,ft){var bt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?bt+ft:bt):ft=bt,X){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ft+Vt,X={id:y++,callback:ot,priorityLevel:X,startTime:ft,expirationTime:Vt,sortIndex:-1},ft>bt?(X.sortIndex=ft,t(m,X),e(f)===null&&X===e(m)&&(C?(B(N),N=-1):C=!0,wt($,ft-bt))):(X.sortIndex=Vt,t(f,X),R||w||(R=!0,st||(st=!0,j()))),X},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(X){var ot=b;return function(){var ft=b;b=ot;try{return X.apply(this,arguments)}finally{b=ft}}}})(Ng)),Ng}var xb;function bR(){return xb||(xb=1,Mg.exports=vR()),Mg.exports}var Dg={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function xR(){if(Tb)return sn;Tb=1;var n=Vp();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,y)},sn.flushSync=function(f){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=y,i.d.f()}},sn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},sn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},sn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:w}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},sn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},sn.requestFormReset=function(f){i.d.r(f)},sn.unstable_batchedUpdates=function(f,m){return f(m)},sn.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var wb;function TR(){if(wb)return Dg.exports;wb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Dg.exports=xR(),Dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function wR(){if(Eb)return yc;Eb=1;var n=bR(),t=Vp(),e=TR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var x=!1,S=g.child;S;){if(S===l){x=!0,l=g,u=p;break}if(S===u){x=!0,u=g,l=p;break}S=S.sibling}if(!x){for(S=p.child;S;){if(S===l){x=!0,l=p,u=g;break}if(S===u){x=!0,u=p,l=g;break}S=S.sibling}if(!x)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case st:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case H:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case Z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case A:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var wt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},bt=[],Vt=-1;function z(s){return{current:s}}function tt(s){0>Vt||(s.current=bt[Vt],bt[Vt]=null,Vt--)}function ct(s,a){Vt++,bt[Vt]=s.current,s.current=a}var ut=z(null),_t=z(null),xt=z(null),Ft=z(null);function Pe(s,a){switch(ct(xt,a),ct(_t,s),ct(ut,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?z0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=z0(a),s=U0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}tt(ut),ct(ut,s)}function fe(){tt(ut),tt(_t),tt(xt)}function Br(s){s.memoizedState!==null&&ct(Ft,s);var a=ut.current,l=U0(a,s.type);a!==l&&(ct(_t,s),ct(ut,l))}function Ka(s){_t.current===s&&(tt(ut),tt(_t)),Ft.current===s&&(tt(Ft),fc._currentValue=ft)}var Xa,$a;function bi(s){if(Xa===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Xa=a&&a[1]||"",$a=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+s+$a}var fl=!1;function Fr(s,a){if(!s||fl)return"";fl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(W){var K=W}Reflect.construct(s,[],nt)}else{try{nt.call()}catch(W){K=W}s.call(nt.prototype)}}else{try{throw Error()}catch(W){K=W}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),x=p[0],S=p[1];if(x&&S){var V=x.split(`
`),Y=S.split(`
`);for(g=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(u===V.length||g===Y.length)for(u=V.length-1,g=Y.length-1;1<=u&&0<=g&&V[u]!==Y[g];)g--;for(;1<=u&&0<=g;u--,g--)if(V[u]!==Y[g]){if(u!==1||g!==1)do if(u--,g--,0>g||V[u]!==Y[g]){var J=`
`+V[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=g);break}}}finally{fl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?bi(l):""}function dl(s,a){switch(s.tag){case 26:case 27:case 5:return bi(s.type);case 16:return bi("Lazy");case 13:return s.child!==a&&a!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Fr(s.type,!1);case 11:return Fr(s.type.render,!1);case 1:return Fr(s.type,!0);case 31:return bi("Activity");default:return""}}function ml(s){try{var a="",l=null;do a+=dl(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,zs=n.unstable_cancelCallback,Id=n.unstable_shouldYield,gu=n.unstable_requestPaint,dn=n.unstable_now,Hr=n.unstable_getCurrentPriorityLevel,gl=n.unstable_ImmediatePriority,pl=n.unstable_UserBlockingPriority,Us=n.unstable_NormalPriority,Md=n.unstable_LowPriority,pu=n.unstable_IdlePriority,yu=n.log,_u=n.unstable_setDisableYieldValue,ni=null,Xe=null;function Pn(s){if(typeof yu=="function"&&_u(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ni,s)}catch{}}var ve=Math.clz32?Math.clz32:bu,vu=Math.log,Qa=Math.LN2;function bu(s){return s>>>=0,s===0?32:31-(vu(s)/Qa|0)|0}var xi=256,qr=262144,Ae=4194304;function Ti(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function wi(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=Ti(u):(x&=S,x!==0?g=Ti(x):l||(l=S&~s,l!==0&&(g=Ti(l))))):(S=u&~p,S!==0?g=Ti(S):x!==0?g=Ti(x):l||(l=u&~s,l!==0&&(g=Ti(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function ii(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Nd(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Ei(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Gr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Dd(s,a,l,u,g,p){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,V=s.expirationTimes,Y=s.hiddenUpdates;for(l=x&~l;0<l;){var J=31-ve(l),nt=1<<J;S[J]=0,V[J]=-1;var K=Y[J];if(K!==null)for(Y[J]=null,J=0;J<K.length;J++){var W=K[J];W!==null&&(W.lane&=-536870913)}l&=~nt}u!==0&&Yr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(x&~a))}function Yr(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-ve(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function yl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-ve(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function _l(s,a){var l=a&-a;return l=(l&42)!==0?1:Kr(l),(l&(s.suspendedLanes|a))!==0?0:l}function Kr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function as(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Tu(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:cb(s.type))}function si(s,a){var l=ot.p;try{return ot.p=s,a()}finally{ot.p=l}}var ri=Math.random().toString(36).slice(2),Re="__reactFiber$"+ri,qe="__reactProps$"+ri,Si="__reactContainer$"+ri,Wa="__reactEvents$"+ri,Od="__reactListeners$"+ri,wu="__reactHandles$"+ri,Eu="__reactResources$"+ri,Ai="__reactMarker$"+ri;function Za(s){delete s[Re],delete s[qe],delete s[Wa],delete s[Od],delete s[wu]}function Ri(s){var a=s[Re];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Si]||l[Re]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=K0(s);s!==null;){if(l=s[Re])return l;s=K0(s)}return a}s=l,l=s.parentNode}return null}function Ln(s){if(s=s[Re]||s[Si]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function An(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ci(s){var a=s[Eu];return a||(a=s[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ce(s){s[Ai]=!0}var vl=new Set,bl={};function Ii(s,a){Mi(s,a),Mi(s+"Capture",a)}function Mi(s,a){for(bl[s]=a,s=0;s<a.length;s++)vl.add(a[s])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},wl={};function Su(s){return Se.call(wl,s)?!0:Se.call(Tl,s)?!1:xl.test(s)?wl[s]=!0:(Tl[s]=!0,!1)}function Ja(s,a,l){if(Su(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Rn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ie(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Ge(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Bs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function El(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){l=""+x,p.call(this,x)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Wt(s){if(!s._valueTracker){var a=Bs(s)?"checked":"value";s._valueTracker=El(s,a,""+s[a])}}function Xr(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Bs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Ni(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var $r=/[\n"\\]/g;function pn(s){return s.replace($r,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function to(s,a,l,u,g,p,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ge(a)):s.value!==""+Ge(a)&&(s.value=""+Ge(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?Sl(s,x,Ge(a)):l!=null?Sl(s,x,Ge(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Ge(S):s.removeAttribute("name")}function Au(s,a,l,u,g,p,x,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Wt(s);return}l=l!=null?""+Ge(l):"",a=a!=null?""+Ge(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),Wt(s)}function Sl(s,a,l){a==="number"&&Ni(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Fs(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ge(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Ru(s,a,l){if(a!=null&&(a=""+Ge(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Ge(l):""}function Hs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(wt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ge(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Wt(s)}function yn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Cu.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Rl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Al(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Al(s,p,a[p])}function eo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(s){return qs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ai(){}var Cl=null;function jn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,Di=null;function Qr(s){var a=Ln(s);if(a&&(s=a.stateNode)){var l=s[qe]||null;t:switch(s=a.stateNode,a.type){case"input":if(to(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[qe]||null;if(!g)throw Error(i(90));to(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&Xr(u)}break t;case"textarea":Ru(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Fs(s,!!l.multiple,a,!1)}}}var io=!1;function Ys(s,a,l){if(io)return s(a,l);io=!0;try{var u=s(a);return u}finally{if(io=!1,(Gs!==null||Di!==null)&&(Th(),Gs&&(a=Gs,s=Di,Di=Gs=null,Qr(a),s)))for(a=0;a<s.length;a++)Qr(s[a])}}function oi(s,a){var l=s.stateNode;if(l===null)return null;var u=l[qe]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(zn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Wr=!1}var Oi=null,Il=null,Zr=null;function Ml(){if(Zr)return Zr;var s,a=Il,l=a.length,u,g="value"in Oi?Oi.value:Oi.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var x=l-s;for(u=1;u<=x&&a[l-u]===g[p-u];u++);return Zr=g.slice(s,1<u?1-u:void 0)}function Jr(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function os(){return!0}function li(){return!1}function $e(s){function a(l,u,g,p,x){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?os:li,this.isPropagationStopped=li,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),a}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=$e(ls),Ks=_({},ls,{view:0,detail:0}),Nl=$e(Ks),Xs,so,Vi,ro=_({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Vi&&(Vi&&s.type==="mousemove"?(Xs=s.screenX-Vi.screenX,so=s.screenY-Vi.screenY):so=Xs=0,Vi=s),Xs)},movementY:function(s){return"movementY"in s?s.movementY:so}}),Dl=$e(ro),ta=_({},ro,{dataTransfer:0}),Mu=$e(ta),Nu=_({},Ks,{relatedTarget:0}),ea=$e(Nu),Ol=_({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=$e(Ol),ao=_({},ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ou=$e(ao),ku=_({},ls,{data:0}),Pi=$e(ku),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Lu[s])?!!a[s]:!1}function $s(){return ju}var mn=_({},Ks,{key:function(s){if(s.key){var a=Vu[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Jr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Pu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(s){return s.type==="keypress"?Jr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Jr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),zu=$e(mn),Uu=_({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=$e(Uu),d=_({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),v=$e(d),T=_({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=$e(T),q=_({},ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=$e(q),lt=_({},ls,{newState:0,oldState:0}),Ct=$e(lt),be=[9,13,27,32],Kt=zn&&"CompositionEvent"in window,de=null;zn&&"documentMode"in document&&(de=document.documentMode);var Un=zn&&"TextEvent"in window&&!de,Li=zn&&(!Kt||de&&8<de&&11>=de),ci=" ",ui=!1;function na(s,a){switch(s){case"keyup":return be.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var lo=!1;function z1(s,a){switch(s){case"compositionend":return oo(a);case"keypress":return a.which!==32?null:(ui=!0,ci);case"textInput":return s=a.data,s===ci&&ui?null:s;default:return null}}function U1(s,a){if(lo)return s==="compositionend"||!Kt&&na(s,a)?(s=Ml(),Zr=Il=Oi=null,lo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Li&&a.locale!=="ko"?null:a.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!B1[s.type]:a==="textarea"}function Wy(s,a,l,u){Gs?Di?Di.push(u):Di=[u]:Gs=u,a=Ih(a,"onChange"),0<a.length&&(l=new ki("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var kl=null,Vl=null;function F1(s){O0(s,0)}function Bu(s){var a=An(s);if(Xr(a))return s}function Zy(s,a){if(s==="change")return a}var Jy=!1;if(zn){var kd;if(zn){var Vd="oninput"in document;if(!Vd){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),Vd=typeof t_.oninput=="function"}kd=Vd}else kd=!1;Jy=kd&&(!document.documentMode||9<document.documentMode)}function e_(){kl&&(kl.detachEvent("onpropertychange",n_),Vl=kl=null)}function n_(s){if(s.propertyName==="value"&&Bu(Vl)){var a=[];Wy(a,Vl,s,jn(s)),Ys(F1,a)}}function H1(s,a,l){s==="focusin"?(e_(),kl=a,Vl=l,kl.attachEvent("onpropertychange",n_)):s==="focusout"&&e_()}function q1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bu(Vl)}function G1(s,a){if(s==="click")return Bu(a)}function Y1(s,a){if(s==="input"||s==="change")return Bu(a)}function K1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Cn=typeof Object.is=="function"?Object.is:K1;function Pl(s,a){if(Cn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Se.call(a,g)||!Cn(s[g],a[g]))return!1}return!0}function i_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function s_(s,a){var l=i_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=i_(l)}}function r_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?r_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function a_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Ni(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Ni(s.document)}return a}function Pd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var X1=zn&&"documentMode"in document&&11>=document.documentMode,co=null,Ld=null,Ll=null,jd=!1;function o_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jd||co==null||co!==Ni(u)||(u=co,"selectionStart"in u&&Pd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ll&&Pl(Ll,u)||(Ll=u,u=Ih(Ld,"onSelect"),0<u.length&&(a=new ki("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=co)))}function ia(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var uo={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},zd={},l_={};zn&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function sa(s){if(zd[s])return zd[s];if(!uo[s])return s;var a=uo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in l_)return zd[s]=a[l];return s}var c_=sa("animationend"),u_=sa("animationiteration"),h_=sa("animationstart"),$1=sa("transitionrun"),Q1=sa("transitionstart"),W1=sa("transitioncancel"),f_=sa("transitionend"),d_=new Map,Ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ud.push("scrollEnd");function hi(s,a){d_.set(s,a),Ii(a,[s])}var Fu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Bn=[],ho=0,Bd=0;function Hu(){for(var s=ho,a=Bd=ho=0;a<s;){var l=Bn[a];Bn[a++]=null;var u=Bn[a];Bn[a++]=null;var g=Bn[a];Bn[a++]=null;var p=Bn[a];if(Bn[a++]=null,u!==null&&g!==null){var x=u.pending;x===null?g.next=g:(g.next=x.next,x.next=g),u.pending=g}p!==0&&m_(l,g,p)}}function qu(s,a,l,u){Bn[ho++]=s,Bn[ho++]=a,Bn[ho++]=l,Bn[ho++]=u,Bd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Fd(s,a,l,u){return qu(s,a,l,u),Gu(s)}function ra(s,a){return qu(s,null,null,a),Gu(s)}function m_(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-ve(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Gu(s){if(50<rc)throw rc=0,Wm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var fo={};function Z1(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(s,a,l,u){return new Z1(s,a,l,u)}function Hd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function us(s,a){var l=s.alternate;return l===null?(l=In(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function g_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Yu(s,a,l,u,g,p){var x=0;if(u=s,typeof s=="function")Hd(s)&&(x=1);else if(typeof s=="string")x=iR(s,l,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=In(31,l,a,g),s.elementType=D,s.lanes=p,s;case C:return aa(l.children,g,p,a);case M:x=8,g|=24;break;case L:return s=In(12,l,a,g|2),s.elementType=L,s.lanes=p,s;case $:return s=In(13,l,a,g),s.elementType=$,s.lanes=p,s;case st:return s=In(19,l,a,g),s.elementType=st,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:x=10;break t;case B:x=9;break t;case Z:x=11;break t;case N:x=14;break t;case A:x=16,u=null;break t}x=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=In(x,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function aa(s,a,l,u){return s=In(7,s,u,a),s.lanes=l,s}function qd(s,a,l){return s=In(6,s,null,a),s.lanes=l,s}function p_(s){var a=In(18,null,null,0);return a.stateNode=s,a}function Gd(s,a,l){return a=In(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var y_=new WeakMap;function Fn(s,a){if(typeof s=="object"&&s!==null){var l=y_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ml(a)},y_.set(s,a),a)}return{value:s,source:a,stack:ml(a)}}var mo=[],go=0,Ku=null,jl=0,Hn=[],qn=0,Qs=null,ji=1,zi="";function hs(s,a){mo[go++]=jl,mo[go++]=Ku,Ku=s,jl=a}function __(s,a,l){Hn[qn++]=ji,Hn[qn++]=zi,Hn[qn++]=Qs,Qs=s;var u=ji;s=zi;var g=32-ve(u)-1;u&=~(1<<g),l+=1;var p=32-ve(a)+g;if(30<p){var x=g-g%5;p=(u&(1<<x)-1).toString(32),u>>=x,g-=x,ji=1<<32-ve(a)+g|l<<g|u,zi=p+s}else ji=1<<p|l<<g|u,zi=s}function Yd(s){s.return!==null&&(hs(s,1),__(s,1,0))}function Kd(s){for(;s===Ku;)Ku=mo[--go],mo[go]=null,jl=mo[--go],mo[go]=null;for(;s===Qs;)Qs=Hn[--qn],Hn[qn]=null,zi=Hn[--qn],Hn[qn]=null,ji=Hn[--qn],Hn[qn]=null}function v_(s,a){Hn[qn++]=ji,Hn[qn++]=zi,Hn[qn++]=Qs,ji=a.id,zi=a.overflow,Qs=s}var Qe=null,oe=null,Bt=!1,Ws=null,Gn=!1,Xd=Error(i(519));function Zs(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(Fn(a,s)),Xd}function b_(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Re]=s,a[qe]=u,l){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(l=0;l<oc.length;l++)kt(oc[l],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),Au(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),Hs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||L0(a.textContent,l)?(u.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),u.onScroll!=null&&kt("scroll",a),u.onScrollEnd!=null&&kt("scrollend",a),u.onClick!=null&&(a.onclick=ai),a=!0):a=!1,a||Zs(s,!0)}function x_(s){for(Qe=s.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Qe=Qe.return}}function po(s){if(s!==Qe)return!1;if(!Bt)return x_(s),Bt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||fg(s.type,s.memoizedProps)),l=!l),l&&oe&&Zs(s),x_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=Y0(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=Y0(s)}else a===27?(a=oe,fr(s.type)?(s=yg,yg=null,oe=s):oe=a):oe=Qe?Kn(s.stateNode.nextSibling):null;return!0}function oa(){oe=Qe=null,Bt=!1}function $d(){var s=Ws;return s!==null&&(xn===null?xn=s:xn.push.apply(xn,s),Ws=null),s}function zl(s){Ws===null?Ws=[s]:Ws.push(s)}var Qd=z(null),la=null,fs=null;function Js(s,a,l){ct(Qd,a._currentValue),a._currentValue=l}function ds(s){s._currentValue=Qd.current,tt(Qd)}function Wd(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Zd(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var x=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var V=0;V<a.length;V++)if(S.context===a[V]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),Wd(p.return,l,s),u||(x=null);break t}p=S.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(i(341));x.lanes|=l,p=x.alternate,p!==null&&(p.lanes|=l),Wd(x,l,s),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function yo(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var S=g.type;Cn(g.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(g===Ft.current){if(x=g.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(fc):s=[fc])}g=g.return}s!==null&&Zd(a,s,l,u),a.flags|=262144}function Xu(s){for(s=s.firstContext;s!==null;){if(!Cn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ca(s){la=s,fs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function We(s){return T_(la,s)}function $u(s,a){return la===null&&ca(s),T_(s,a)}function T_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},fs===null){if(s===null)throw Error(i(308));fs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else fs=fs.next=a;return l}var J1=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},tA=n.unstable_scheduleCallback,eA=n.unstable_NormalPriority,Me={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jd(){return{controller:new J1,data:new Map,refCount:0}}function Ul(s){s.refCount--,s.refCount===0&&tA(eA,function(){s.controller.abort()})}var Bl=null,tm=0,_o=0,vo=null;function nA(s,a){if(Bl===null){var l=Bl=[];tm=0,_o=ig(),vo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return tm++,a.then(w_,w_),a}function w_(){if(--tm===0&&Bl!==null){vo!==null&&(vo.status="fulfilled");var s=Bl;Bl=null,_o=0,vo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function iA(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var E_=X.S;X.S=function(s,a){o0=dn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&nA(s,a),E_!==null&&E_(s,a)};var ua=z(null);function em(){var s=ua.current;return s!==null?s:ae.pooledCache}function Qu(s,a){a===null?ct(ua,ua.current):ct(ua,a.pool)}function S_(){var s=em();return s===null?null:{parent:Me._currentValue,pool:s}}var bo=Error(i(460)),nm=Error(i(474)),Wu=Error(i(542)),Zu={then:function(){}};function A_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function R_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(ai,ai),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,I_(s),s;default:if(typeof a.status=="string")a.then(ai,ai);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,I_(s),s}throw fa=a,bo}}function ha(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(fa=l,bo):l}}var fa=null;function C_(){if(fa===null)throw Error(i(459));var s=fa;return fa=null,s}function I_(s){if(s===bo||s===Wu)throw Error(i(483))}var xo=null,Fl=0;function Ju(s){var a=Fl;return Fl+=1,xo===null&&(xo=[]),R_(xo,s,a)}function Hl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function th(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function M_(s){function a(F,U){if(s){var G=F.deletions;G===null?(F.deletions=[U],F.flags|=16):G.push(U)}}function l(F,U){if(!s)return null;for(;U!==null;)a(F,U),U=U.sibling;return null}function u(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function g(F,U){return F=us(F,U),F.index=0,F.sibling=null,F}function p(F,U,G){return F.index=G,s?(G=F.alternate,G!==null?(G=G.index,G<U?(F.flags|=67108866,U):G):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function x(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function S(F,U,G,et){return U===null||U.tag!==6?(U=qd(G,F.mode,et),U.return=F,U):(U=g(U,G),U.return=F,U)}function V(F,U,G,et){var pt=G.type;return pt===C?J(F,U,G.props.children,et,G.key):U!==null&&(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&ha(pt)===U.type)?(U=g(U,G.props),Hl(U,G),U.return=F,U):(U=Yu(G.type,G.key,G.props,null,F.mode,et),Hl(U,G),U.return=F,U)}function Y(F,U,G,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Gd(G,F.mode,et),U.return=F,U):(U=g(U,G.children||[]),U.return=F,U)}function J(F,U,G,et,pt){return U===null||U.tag!==7?(U=aa(G,F.mode,et,pt),U.return=F,U):(U=g(U,G),U.return=F,U)}function nt(F,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=qd(""+U,F.mode,G),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return G=Yu(U.type,U.key,U.props,null,F.mode,G),Hl(G,U),G.return=F,G;case R:return U=Gd(U,F.mode,G),U.return=F,U;case A:return U=ha(U),nt(F,U,G)}if(wt(U)||j(U))return U=aa(U,F.mode,G,null),U.return=F,U;if(typeof U.then=="function")return nt(F,Ju(U),G);if(U.$$typeof===H)return nt(F,$u(F,U),G);th(F,U)}return null}function K(F,U,G,et){var pt=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pt!==null?null:S(F,U,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===pt?V(F,U,G,et):null;case R:return G.key===pt?Y(F,U,G,et):null;case A:return G=ha(G),K(F,U,G,et)}if(wt(G)||j(G))return pt!==null?null:J(F,U,G,et,null);if(typeof G.then=="function")return K(F,U,Ju(G),et);if(G.$$typeof===H)return K(F,U,$u(F,G),et);th(F,G)}return null}function W(F,U,G,et,pt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return F=F.get(G)||null,S(U,F,""+et,pt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case w:return F=F.get(et.key===null?G:et.key)||null,V(U,F,et,pt);case R:return F=F.get(et.key===null?G:et.key)||null,Y(U,F,et,pt);case A:return et=ha(et),W(F,U,G,et,pt)}if(wt(et)||j(et))return F=F.get(G)||null,J(U,F,et,pt,null);if(typeof et.then=="function")return W(F,U,G,Ju(et),pt);if(et.$$typeof===H)return W(F,U,G,$u(U,et),pt);th(U,et)}return null}function dt(F,U,G,et){for(var pt=null,Gt=null,mt=U,Mt=U=0,Lt=null;mt!==null&&Mt<G.length;Mt++){mt.index>Mt?(Lt=mt,mt=null):Lt=mt.sibling;var Yt=K(F,mt,G[Mt],et);if(Yt===null){mt===null&&(mt=Lt);break}s&&mt&&Yt.alternate===null&&a(F,mt),U=p(Yt,U,Mt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt,mt=Lt}if(Mt===G.length)return l(F,mt),Bt&&hs(F,Mt),pt;if(mt===null){for(;Mt<G.length;Mt++)mt=nt(F,G[Mt],et),mt!==null&&(U=p(mt,U,Mt),Gt===null?pt=mt:Gt.sibling=mt,Gt=mt);return Bt&&hs(F,Mt),pt}for(mt=u(mt);Mt<G.length;Mt++)Lt=W(mt,F,Mt,G[Mt],et),Lt!==null&&(s&&Lt.alternate!==null&&mt.delete(Lt.key===null?Mt:Lt.key),U=p(Lt,U,Mt),Gt===null?pt=Lt:Gt.sibling=Lt,Gt=Lt);return s&&mt.forEach(function(yr){return a(F,yr)}),Bt&&hs(F,Mt),pt}function vt(F,U,G,et){if(G==null)throw Error(i(151));for(var pt=null,Gt=null,mt=U,Mt=U=0,Lt=null,Yt=G.next();mt!==null&&!Yt.done;Mt++,Yt=G.next()){mt.index>Mt?(Lt=mt,mt=null):Lt=mt.sibling;var yr=K(F,mt,Yt.value,et);if(yr===null){mt===null&&(mt=Lt);break}s&&mt&&yr.alternate===null&&a(F,mt),U=p(yr,U,Mt),Gt===null?pt=yr:Gt.sibling=yr,Gt=yr,mt=Lt}if(Yt.done)return l(F,mt),Bt&&hs(F,Mt),pt;if(mt===null){for(;!Yt.done;Mt++,Yt=G.next())Yt=nt(F,Yt.value,et),Yt!==null&&(U=p(Yt,U,Mt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return Bt&&hs(F,Mt),pt}for(mt=u(mt);!Yt.done;Mt++,Yt=G.next())Yt=W(mt,F,Mt,Yt.value,et),Yt!==null&&(s&&Yt.alternate!==null&&mt.delete(Yt.key===null?Mt:Yt.key),U=p(Yt,U,Mt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return s&&mt.forEach(function(mR){return a(F,mR)}),Bt&&hs(F,Mt),pt}function re(F,U,G,et){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:t:{for(var pt=G.key;U!==null;){if(U.key===pt){if(pt=G.type,pt===C){if(U.tag===7){l(F,U.sibling),et=g(U,G.props.children),et.return=F,F=et;break t}}else if(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&ha(pt)===U.type){l(F,U.sibling),et=g(U,G.props),Hl(et,G),et.return=F,F=et;break t}l(F,U);break}else a(F,U);U=U.sibling}G.type===C?(et=aa(G.props.children,F.mode,et,G.key),et.return=F,F=et):(et=Yu(G.type,G.key,G.props,null,F.mode,et),Hl(et,G),et.return=F,F=et)}return x(F);case R:t:{for(pt=G.key;U!==null;){if(U.key===pt)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(F,U.sibling),et=g(U,G.children||[]),et.return=F,F=et;break t}else{l(F,U);break}else a(F,U);U=U.sibling}et=Gd(G,F.mode,et),et.return=F,F=et}return x(F);case A:return G=ha(G),re(F,U,G,et)}if(wt(G))return dt(F,U,G,et);if(j(G)){if(pt=j(G),typeof pt!="function")throw Error(i(150));return G=pt.call(G),vt(F,U,G,et)}if(typeof G.then=="function")return re(F,U,Ju(G),et);if(G.$$typeof===H)return re(F,U,$u(F,G),et);th(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(l(F,U.sibling),et=g(U,G),et.return=F,F=et):(l(F,U),et=qd(G,F.mode,et),et.return=F,F=et),x(F)):l(F,U)}return function(F,U,G,et){try{Fl=0;var pt=re(F,U,G,et);return xo=null,pt}catch(mt){if(mt===bo||mt===Wu)throw mt;var Gt=In(29,mt,null,F.mode);return Gt.lanes=et,Gt.return=F,Gt}finally{}}}var da=M_(!0),N_=M_(!1),tr=!1;function im(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function er(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function nr(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Gu(s),m_(s,null,l),a}return qu(s,u,a,l),Gu(s)}function ql(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,yl(s,l)}}function rm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=x:p=p.next=x,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var am=!1;function Gl(){if(am){var s=vo;if(s!==null)throw s}}function Yl(s,a,l,u){am=!1;var g=s.updateQueue;tr=!1;var p=g.firstBaseUpdate,x=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var V=S,Y=V.next;V.next=null,x===null?p=Y:x.next=Y,x=V;var J=s.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==x&&(S===null?J.firstBaseUpdate=Y:S.next=Y,J.lastBaseUpdate=V))}if(p!==null){var nt=g.baseState;x=0,J=Y=V=null,S=p;do{var K=S.lane&-536870913,W=K!==S.lane;if(W?(Pt&K)===K:(u&K)===K){K!==0&&K===_o&&(am=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=s,vt=S;K=a;var re=l;switch(vt.tag){case 1:if(dt=vt.payload,typeof dt=="function"){nt=dt.call(re,nt,K);break t}nt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=vt.payload,K=typeof dt=="function"?dt.call(re,nt,K):dt,K==null)break t;nt=_({},nt,K);break t;case 2:tr=!0}}K=S.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=g.callbacks,W===null?g.callbacks=[K]:W.push(K))}else W={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(Y=J=W,V=nt):J=J.next=W,x|=K;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;W=S,S=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);J===null&&(V=nt),g.baseState=V,g.firstBaseUpdate=Y,g.lastBaseUpdate=J,p===null&&(g.shared.lanes=0),or|=x,s.lanes=x,s.memoizedState=nt}}function D_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function O_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)D_(l[s],a)}var To=z(null),eh=z(0);function k_(s,a){s=Ts,ct(eh,s),ct(To,a),Ts=s|a.baseLanes}function om(){ct(eh,Ts),ct(To,To.current)}function lm(){Ts=eh.current,tt(To),tt(eh)}var Mn=z(null),Yn=null;function ir(s){var a=s.alternate;ct(xe,xe.current&1),ct(Mn,s),Yn===null&&(a===null||To.current!==null||a.memoizedState!==null)&&(Yn=s)}function cm(s){ct(xe,xe.current),ct(Mn,s),Yn===null&&(Yn=s)}function V_(s){s.tag===22?(ct(xe,xe.current),ct(Mn,s),Yn===null&&(Yn=s)):sr()}function sr(){ct(xe,xe.current),ct(Mn,Mn.current)}function Nn(s){tt(Mn),Yn===s&&(Yn=null),tt(xe)}var xe=z(0);function nh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||gg(l)||pg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ms=0,It=null,ie=null,Ne=null,ih=!1,wo=!1,ma=!1,sh=0,Kl=0,Eo=null,sA=0;function pe(){throw Error(i(321))}function um(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Cn(s[l],a[l]))return!1;return!0}function hm(s,a,l,u,g,p){return ms=p,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=s===null||s.memoizedState===null?_v:Am,ma=!1,p=l(u,g),ma=!1,wo&&(p=L_(a,l,u,g)),P_(s),p}function P_(s){X.H=Ql;var a=ie!==null&&ie.next!==null;if(ms=0,Ne=ie=It=null,ih=!1,Kl=0,Eo=null,a)throw Error(i(300));s===null||De||(s=s.dependencies,s!==null&&Xu(s)&&(De=!0))}function L_(s,a,l,u){It=s;var g=0;do{if(wo&&(Eo=null),Kl=0,wo=!1,25<=g)throw Error(i(301));if(g+=1,Ne=ie=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=vv,p=a(l,u)}while(wo);return p}function rA(){var s=X.H,a=s.useState()[0];return a=typeof a.then=="function"?Xl(a):a,s=s.useState()[0],(ie!==null?ie.memoizedState:null)!==s&&(It.flags|=1024),a}function fm(){var s=sh!==0;return sh=0,s}function dm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function mm(s){if(ih){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ih=!1}ms=0,Ne=ie=It=null,wo=!1,Kl=sh=0,Eo=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?It.memoizedState=Ne=s:Ne=Ne.next=s,Ne}function Te(){if(ie===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=ie.next;var a=Ne===null?It.memoizedState:Ne.next;if(a!==null)Ne=a,ie=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));ie=s,s={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ne===null?It.memoizedState=Ne=s:Ne=Ne.next=s}return Ne}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(s){var a=Kl;return Kl+=1,Eo===null&&(Eo=[]),s=R_(Eo,s,a),a=It,(Ne===null?a.memoizedState:Ne.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?_v:Am),s}function ah(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Xl(s);if(s.$$typeof===H)return We(s)}throw Error(i(438,String(s)))}function gm(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=rh(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function gs(s,a){return typeof a=="function"?a(s):a}function oh(s){var a=Te();return pm(a,ie,s)}function pm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var x=g.next;g.next=p.next,p.next=x}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var S=x=null,V=null,Y=a,J=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(Pt&nt)===nt:(ms&nt)===nt){var K=Y.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===_o&&(J=!0);else if((ms&K)===K){Y=Y.next,K===_o&&(J=!0);continue}else nt={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(S=V=nt,x=p):V=V.next=nt,It.lanes|=K,or|=K;nt=Y.action,ma&&l(p,nt),p=Y.hasEagerState?Y.eagerState:l(p,nt)}else K={lane:nt,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(S=V=K,x=p):V=V.next=K,It.lanes|=nt,or|=nt;Y=Y.next}while(Y!==null&&Y!==a);if(V===null?x=p:V.next=S,!Cn(p,s.memoizedState)&&(De=!0,J&&(l=vo,l!==null)))throw l;s.memoizedState=p,s.baseState=x,s.baseQueue=V,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function ym(s){var a=Te(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var x=g=g.next;do p=s(p,x.action),x=x.next;while(x!==g);Cn(p,a.memoizedState)||(De=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function j_(s,a,l){var u=It,g=Te(),p=Bt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var x=!Cn((ie||g).memoizedState,l);if(x&&(g.memoizedState=l,De=!0),g=g.queue,bm(B_.bind(null,u,g,s),[s]),g.getSnapshot!==a||x||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,So(9,{destroy:void 0},U_.bind(null,u,g,l,a),null),ae===null)throw Error(i(349));p||(ms&127)!==0||z_(u,a,l)}return l}function z_(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=rh(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function U_(s,a,l,u){a.value=l,a.getSnapshot=u,F_(a)&&H_(s)}function B_(s,a,l){return l(function(){F_(a)&&H_(s)})}function F_(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Cn(s,l)}catch{return!0}}function H_(s){var a=ra(s,2);a!==null&&Tn(a,s,2)}function _m(s){var a=gn();if(typeof s=="function"){var l=s;if(s=l(),ma){Pn(!0);try{l()}finally{Pn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},a}function q_(s,a,l,u){return s.baseState=l,pm(s,ie,typeof u=="function"?u:gs)}function aA(s,a,l,u,g){if(uh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};X.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,G_(a,p)):(p.next=l.next,a.pending=l.next=p)}}function G_(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=X.T,x={};X.T=x;try{var S=l(g,u),V=X.S;V!==null&&V(x,S),Y_(s,a,S)}catch(Y){vm(s,a,Y)}finally{p!==null&&x.types!==null&&(p.types=x.types),X.T=p}}else try{p=l(g,u),Y_(s,a,p)}catch(Y){vm(s,a,Y)}}function Y_(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){K_(s,a,u)},function(u){return vm(s,a,u)}):K_(s,a,l)}function K_(s,a,l){a.status="fulfilled",a.value=l,X_(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,G_(s,l)))}function vm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,X_(a),a=a.next;while(a!==u)}s.action=null}function X_(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function $_(s,a){return a}function Q_(s,a){if(Bt){var l=ae.formState;if(l!==null){t:{var u=It;if(Bt){if(oe){e:{for(var g=oe,p=Gn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Kn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){oe=Kn(g.nextSibling),u=g.data==="F!";break t}}Zs(u)}u=!1}u&&(a=l[0])}}return l=gn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:a},l.queue=u,l=gv.bind(null,It,u),u.dispatch=l,u=_m(!1),p=Sm.bind(null,It,!1,u.queue),u=gn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=aA.bind(null,It,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function W_(s){var a=Te();return Z_(a,ie,s)}function Z_(s,a,l){if(a=pm(s,a,$_)[0],s=oh(gs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Xl(a)}catch(x){throw x===bo?Wu:x}else u=a;a=Te();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(It.flags|=2048,So(9,{destroy:void 0},oA.bind(null,g,l),null)),[u,p,s]}function oA(s,a){s.action=a}function J_(s){var a=Te(),l=ie;if(l!==null)return Z_(a,l,s);Te(),a=a.memoizedState,l=Te();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function So(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=rh(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function tv(){return Te().memoizedState}function lh(s,a,l,u){var g=gn();It.flags|=s,g.memoizedState=So(1|a,{destroy:void 0},l,u===void 0?null:u)}function ch(s,a,l,u){var g=Te();u=u===void 0?null:u;var p=g.memoizedState.inst;ie!==null&&u!==null&&um(u,ie.memoizedState.deps)?g.memoizedState=So(a,p,l,u):(It.flags|=s,g.memoizedState=So(1|a,p,l,u))}function ev(s,a){lh(8390656,8,s,a)}function bm(s,a){ch(2048,8,s,a)}function lA(s){It.flags|=4;var a=It.updateQueue;if(a===null)a=rh(),It.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function nv(s){var a=Te().memoizedState;return lA({ref:a,nextImpl:s}),function(){if((Xt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function iv(s,a){return ch(4,2,s,a)}function sv(s,a){return ch(4,4,s,a)}function rv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function av(s,a,l){l=l!=null?l.concat([s]):null,ch(4,4,rv.bind(null,a,s),l)}function xm(){}function ov(s,a){var l=Te();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&um(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function lv(s,a){var l=Te();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&um(a,u[1]))return u[0];if(u=s(),ma){Pn(!0);try{s()}finally{Pn(!1)}}return l.memoizedState=[u,a],u}function Tm(s,a,l){return l===void 0||(ms&1073741824)!==0&&(Pt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=c0(),It.lanes|=s,or|=s,l)}function cv(s,a,l,u){return Cn(l,a)?l:To.current!==null?(s=Tm(s,l,u),Cn(s,a)||(De=!0),s):(ms&42)===0||(ms&1073741824)!==0&&(Pt&261930)===0?(De=!0,s.memoizedState=l):(s=c0(),It.lanes|=s,or|=s,a)}function uv(s,a,l,u,g){var p=ot.p;ot.p=p!==0&&8>p?p:8;var x=X.T,S={};X.T=S,Sm(s,!1,a,l);try{var V=g(),Y=X.S;if(Y!==null&&Y(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=iA(V,u);$l(s,a,J,kn(s))}else $l(s,a,u,kn(s))}catch(nt){$l(s,a,{then:function(){},status:"rejected",reason:nt},kn())}finally{ot.p=p,x!==null&&S.types!==null&&(x.types=S.types),X.T=x}}function cA(){}function wm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=hv(s).queue;uv(s,g,a,ft,l===null?cA:function(){return fv(s),l(u)})}function hv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:ft},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function fv(s){var a=hv(s);a.next===null&&(a=s.alternate.memoizedState),$l(s,a.next.queue,{},kn())}function Em(){return We(fc)}function dv(){return Te().memoizedState}function mv(){return Te().memoizedState}function uA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=kn();s=er(l);var u=nr(a,s,l);u!==null&&(Tn(u,a,l),ql(u,a,l)),a={cache:Jd()},s.payload=a;return}a=a.return}}function hA(s,a,l){var u=kn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uh(s)?pv(a,l):(l=Fd(s,a,l,u),l!==null&&(Tn(l,s,u),yv(l,a,u)))}function gv(s,a,l){var u=kn();$l(s,a,l,u)}function $l(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(uh(s))pv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var x=a.lastRenderedState,S=p(x,l);if(g.hasEagerState=!0,g.eagerState=S,Cn(S,x))return qu(s,a,g,0),ae===null&&Hu(),!1}catch{}finally{}if(l=Fd(s,a,g,u),l!==null)return Tn(l,s,u),yv(l,a,u),!0}return!1}function Sm(s,a,l,u){if(u={lane:2,revertLane:ig(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},uh(s)){if(a)throw Error(i(479))}else a=Fd(s,l,u,2),a!==null&&Tn(a,s,2)}function uh(s){var a=s.alternate;return s===It||a!==null&&a===It}function pv(s,a){wo=ih=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function yv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,yl(s,l)}}var Ql={readContext:We,use:ah,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Ql.useEffectEvent=pe;var _v={readContext:We,use:ah,useCallback:function(s,a){return gn().memoizedState=[s,a===void 0?null:a],s},useContext:We,useEffect:ev,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,lh(4194308,4,rv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return lh(4194308,4,s,a)},useInsertionEffect:function(s,a){lh(4,2,s,a)},useMemo:function(s,a){var l=gn();a=a===void 0?null:a;var u=s();if(ma){Pn(!0);try{s()}finally{Pn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=gn();if(l!==void 0){var g=l(a);if(ma){Pn(!0);try{l(a)}finally{Pn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=hA.bind(null,It,s),[u.memoizedState,s]},useRef:function(s){var a=gn();return s={current:s},a.memoizedState=s},useState:function(s){s=_m(s);var a=s.queue,l=gv.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:xm,useDeferredValue:function(s,a){var l=gn();return Tm(l,s,a)},useTransition:function(){var s=_m(!1);return s=uv.bind(null,It,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=It,g=gn();if(Bt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ae===null)throw Error(i(349));(Pt&127)!==0||z_(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,ev(B_.bind(null,u,p,s),[s]),u.flags|=2048,So(9,{destroy:void 0},U_.bind(null,u,p,l,a),null),l},useId:function(){var s=gn(),a=ae.identifierPrefix;if(Bt){var l=zi,u=ji;l=(u&~(1<<32-ve(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=sh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=sA++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Em,useFormState:Q_,useActionState:Q_,useOptimistic:function(s){var a=gn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Sm.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:gm,useCacheRefresh:function(){return gn().memoizedState=uA.bind(null,It)},useEffectEvent:function(s){var a=gn(),l={impl:s};return a.memoizedState=l,function(){if((Xt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Am={readContext:We,use:ah,useCallback:ov,useContext:We,useEffect:bm,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:sv,useMemo:lv,useReducer:oh,useRef:tv,useState:function(){return oh(gs)},useDebugValue:xm,useDeferredValue:function(s,a){var l=Te();return cv(l,ie.memoizedState,s,a)},useTransition:function(){var s=oh(gs)[0],a=Te().memoizedState;return[typeof s=="boolean"?s:Xl(s),a]},useSyncExternalStore:j_,useId:dv,useHostTransitionStatus:Em,useFormState:W_,useActionState:W_,useOptimistic:function(s,a){var l=Te();return q_(l,ie,s,a)},useMemoCache:gm,useCacheRefresh:mv};Am.useEffectEvent=nv;var vv={readContext:We,use:ah,useCallback:ov,useContext:We,useEffect:bm,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:sv,useMemo:lv,useReducer:ym,useRef:tv,useState:function(){return ym(gs)},useDebugValue:xm,useDeferredValue:function(s,a){var l=Te();return ie===null?Tm(l,s,a):cv(l,ie.memoizedState,s,a)},useTransition:function(){var s=ym(gs)[0],a=Te().memoizedState;return[typeof s=="boolean"?s:Xl(s),a]},useSyncExternalStore:j_,useId:dv,useHostTransitionStatus:Em,useFormState:J_,useActionState:J_,useOptimistic:function(s,a){var l=Te();return ie!==null?q_(l,ie,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:gm,useCacheRefresh:mv};vv.useEffectEvent=nv;function Rm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Cm={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=kn(),g=er(u);g.payload=a,l!=null&&(g.callback=l),a=nr(s,g,u),a!==null&&(Tn(a,s,u),ql(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=kn(),g=er(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=nr(s,g,u),a!==null&&(Tn(a,s,u),ql(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=kn(),u=er(l);u.tag=2,a!=null&&(u.callback=a),a=nr(s,u,l),a!==null&&(Tn(a,s,l),ql(a,s,l))}};function bv(s,a,l,u,g,p,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,x):a.prototype&&a.prototype.isPureReactComponent?!Pl(l,u)||!Pl(g,p):!0}function xv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Cm.enqueueReplaceState(a,a.state,null)}function ga(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function Tv(s){Fu(s)}function wv(s){console.error(s)}function Ev(s){Fu(s)}function hh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Sv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Im(s,a,l){return l=er(l),l.tag=3,l.payload={element:null},l.callback=function(){hh(s,a)},l}function Av(s){return s=er(s),s.tag=3,s}function Rv(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){Sv(a,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){Sv(a,l,u),typeof g!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function fA(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&yo(a,l,g,!0),l=Mn.current,l!==null){switch(l.tag){case 31:case 13:return Yn===null?wh():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Zu?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),tg(s,u,g)),!1;case 22:return l.flags|=65536,u===Zu?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),tg(s,u,g)),!1}throw Error(i(435,l.tag))}return tg(s,u,g),wh(),!1}if(Bt)return a=Mn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==Xd&&(s=Error(i(422),{cause:u}),zl(Fn(s,l)))):(u!==Xd&&(a=Error(i(423),{cause:u}),zl(Fn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Fn(u,l),g=Im(s.stateNode,u,g),rm(s,g),ye!==4&&(ye=2)),!1;var p=Error(i(520),{cause:u});if(p=Fn(p,l),sc===null?sc=[p]:sc.push(p),ye!==4&&(ye=2),a===null)return!0;u=Fn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Im(l.stateNode,u,s),rm(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(lr===null||!lr.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Av(g),Rv(g,s,l,u),rm(l,g),!1}l=l.return}while(l!==null);return!1}var Mm=Error(i(461)),De=!1;function Ze(s,a,l,u){a.child=s===null?N_(a,null,l,u):da(a,s.child,l,u)}function Cv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return ca(a),u=hm(s,a,l,x,p,g),S=fm(),s!==null&&!De?(dm(s,a,g),ps(s,a,g)):(Bt&&S&&Yd(a),a.flags|=1,Ze(s,a,u,g),a.child)}function Iv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Hd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Mv(s,a,p,u,g)):(s=Yu(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!jm(s,g)){var x=p.memoizedProps;if(l=l.compare,l=l!==null?l:Pl,l(x,u)&&s.ref===a.ref)return ps(s,a,g)}return a.flags|=1,s=us(p,u),s.ref=a.ref,s.return=a,a.child=s}function Mv(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(Pl(p,u)&&s.ref===a.ref)if(De=!1,a.pendingProps=u=p,jm(s,g))(s.flags&131072)!==0&&(De=!0);else return a.lanes=s.lanes,ps(s,a,g)}return Nm(s,a,l,u,g)}function Nv(s,a,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Dv(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Qu(a,p!==null?p.cachePool:null),p!==null?k_(a,p):om(),V_(a);else return u=a.lanes=536870912,Dv(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Qu(a,p.cachePool),k_(a,p),sr(),a.memoizedState=null):(s!==null&&Qu(a,null),om(),sr());return Ze(s,a,g,l),a.child}function Wl(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Dv(s,a,l,u,g){var p=em();return p=p===null?null:{parent:Me._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Qu(a,null),om(),V_(a),s!==null&&yo(s,a,u,!0),a.childLanes=g,null}function fh(s,a){return a=mh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Ov(s,a,l){return da(a,s.child,null,l),s=fh(a,a.pendingProps),s.flags|=2,Nn(a),a.memoizedState=null,s}function dA(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Bt){if(u.mode==="hidden")return s=fh(a,u),a.lanes=536870912,Wl(null,s);if(cm(a),(s=oe)?(s=G0(s,Gn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Qs!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=p_(s),l.return=a,a.child=l,Qe=a,oe=null)):s=null,s===null)throw Zs(a);return a.lanes=536870912,null}return fh(a,u)}var p=s.memoizedState;if(p!==null){var x=p.dehydrated;if(cm(a),g)if(a.flags&256)a.flags&=-257,a=Ov(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(De||yo(s,a,l,!1),g=(l&s.childLanes)!==0,De||g){if(u=ae,u!==null&&(x=_l(u,l),x!==0&&x!==p.retryLane))throw p.retryLane=x,ra(s,x),Tn(u,s,x),Mm;wh(),a=Ov(s,a,l)}else s=p.treeContext,oe=Kn(x.nextSibling),Qe=a,Bt=!0,Ws=null,Gn=!1,s!==null&&v_(a,s),a=fh(a,u),a.flags|=4096;return a}return s=us(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function dh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Nm(s,a,l,u,g){return ca(a),l=hm(s,a,l,u,void 0,g),u=fm(),s!==null&&!De?(dm(s,a,g),ps(s,a,g)):(Bt&&u&&Yd(a),a.flags|=1,Ze(s,a,l,g),a.child)}function kv(s,a,l,u,g,p){return ca(a),a.updateQueue=null,l=L_(a,u,l,g),P_(s),u=fm(),s!==null&&!De?(dm(s,a,p),ps(s,a,p)):(Bt&&u&&Yd(a),a.flags|=1,Ze(s,a,l,p),a.child)}function Vv(s,a,l,u,g){if(ca(a),a.stateNode===null){var p=fo,x=l.contextType;typeof x=="object"&&x!==null&&(p=We(x)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Cm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},im(a),x=l.contextType,p.context=typeof x=="object"&&x!==null?We(x):fo,p.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Rm(a,l,x,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Cm.enqueueReplaceState(p,p.state,null),Yl(a,u,p,g),Gl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var S=a.memoizedProps,V=ga(l,S);p.props=V;var Y=p.context,J=l.contextType;x=fo,typeof J=="object"&&J!==null&&(x=We(J));var nt=l.getDerivedStateFromProps;J=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==x)&&xv(a,p,u,x),tr=!1;var K=a.memoizedState;p.state=K,Yl(a,u,p,g),Gl(),Y=a.memoizedState,S||K!==Y||tr?(typeof nt=="function"&&(Rm(a,l,nt,u),Y=a.memoizedState),(V=tr||bv(a,l,V,u,K,Y,x))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=x,u=V):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,sm(s,a),x=a.memoizedProps,J=ga(l,x),p.props=J,nt=a.pendingProps,K=p.context,Y=l.contextType,V=fo,typeof Y=="object"&&Y!==null&&(V=We(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==nt||K!==V)&&xv(a,p,u,V),tr=!1,K=a.memoizedState,p.state=K,Yl(a,u,p,g),Gl();var W=a.memoizedState;x!==nt||K!==W||tr||s!==null&&s.dependencies!==null&&Xu(s.dependencies)?(typeof S=="function"&&(Rm(a,l,S,u),W=a.memoizedState),(J=tr||bv(a,l,J,u,K,W,V)||s!==null&&s.dependencies!==null&&Xu(s.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,V)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=V,u=J):(typeof p.componentDidUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,dh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=da(a,s.child,null,g),a.child=da(a,null,l,g)):Ze(s,a,l,g),a.memoizedState=p.state,s=a.child):s=ps(s,a,g),s}function Pv(s,a,l,u){return oa(),a.flags|=256,Ze(s,a,l,u),a.child}var Dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(s){return{baseLanes:s,cachePool:S_()}}function km(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=On),s}function Lv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,x;if((x=p)||(x=s!==null&&s.memoizedState===null?!1:(xe.current&2)!==0),x&&(g=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if(Bt){if(g?ir(a):sr(),(s=oe)?(s=G0(s,Gn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Qs!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=p_(s),l.return=a,a.child=l,Qe=a,oe=null)):s=null,s===null)throw Zs(a);return pg(s)?a.lanes=32:a.lanes=536870912,null}var S=u.children;return u=u.fallback,g?(sr(),g=a.mode,S=mh({mode:"hidden",children:S},g),u=aa(u,g,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,u=a.child,u.memoizedState=Om(l),u.childLanes=km(s,x,l),a.memoizedState=Dm,Wl(null,u)):(ir(a),Vm(a,S))}var V=s.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(p)a.flags&256?(ir(a),a.flags&=-257,a=Pm(s,a,l)):a.memoizedState!==null?(sr(),a.child=s.child,a.flags|=128,a=null):(sr(),S=u.fallback,g=a.mode,u=mh({mode:"visible",children:u.children},g),S=aa(S,g,l,null),S.flags|=2,u.return=a,S.return=a,u.sibling=S,a.child=u,da(a,s.child,null,l),u=a.child,u.memoizedState=Om(l),u.childLanes=km(s,x,l),a.memoizedState=Dm,a=Wl(null,u));else if(ir(a),pg(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var Y=x.dgst;x=Y,u=Error(i(419)),u.stack="",u.digest=x,zl({value:u,source:null,stack:null}),a=Pm(s,a,l)}else if(De||yo(s,a,l,!1),x=(l&s.childLanes)!==0,De||x){if(x=ae,x!==null&&(u=_l(x,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,ra(s,u),Tn(x,s,u),Mm;gg(S)||wh(),a=Pm(s,a,l)}else gg(S)?(a.flags|=192,a.child=s.child,a=null):(s=V.treeContext,oe=Kn(S.nextSibling),Qe=a,Bt=!0,Ws=null,Gn=!1,s!==null&&v_(a,s),a=Vm(a,u.children),a.flags|=4096);return a}return g?(sr(),S=u.fallback,g=a.mode,V=s.child,Y=V.sibling,u=us(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Y!==null?S=us(Y,S):(S=aa(S,g,l,null),S.flags|=2),S.return=a,u.return=a,u.sibling=S,a.child=u,Wl(null,u),u=a.child,S=s.child.memoizedState,S===null?S=Om(l):(g=S.cachePool,g!==null?(V=Me._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=S_(),S={baseLanes:S.baseLanes|l,cachePool:g}),u.memoizedState=S,u.childLanes=km(s,x,l),a.memoizedState=Dm,Wl(s.child,u)):(ir(a),l=s.child,s=l.sibling,l=us(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=l,a.memoizedState=null,l)}function Vm(s,a){return a=mh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function mh(s,a){return s=In(22,s,null,a),s.lanes=0,s}function Pm(s,a,l){return da(a,s.child,null,l),s=Vm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function jv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Wd(s.return,a,l)}function Lm(s,a,l,u,g,p){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=g,x.treeForkCount=p)}function zv(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var x=xe.current,S=(x&2)!==0;if(S?(x=x&1|2,a.flags|=128):x&=1,ct(xe,x),Ze(s,a,u,l),u=Bt?jl:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&jv(s,l,a);else if(s.tag===19)jv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&nh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Lm(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&nh(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Lm(a,!0,l,null,p,u);break;case"together":Lm(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ps(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),or|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(yo(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=us(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=us(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function jm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Xu(s)))}function mA(s,a,l){switch(a.tag){case 3:Pe(a,a.stateNode.containerInfo),Js(a,Me,s.memoizedState.cache),oa();break;case 27:case 5:Br(a);break;case 4:Pe(a,a.stateNode.containerInfo);break;case 10:Js(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,cm(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ir(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Lv(s,a,l):(ir(a),s=ps(s,a,l),s!==null?s.sibling:null);ir(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(yo(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return zv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ct(xe,xe.current),u)break;return null;case 22:return a.lanes=0,Nv(s,a,l,a.pendingProps);case 24:Js(a,Me,s.memoizedState.cache)}return ps(s,a,l)}function Uv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)De=!0;else{if(!jm(s,l)&&(a.flags&128)===0)return De=!1,mA(s,a,l);De=(s.flags&131072)!==0}else De=!1,Bt&&(a.flags&1048576)!==0&&__(a,jl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=ha(a.elementType),a.type=s,typeof s=="function")Hd(s)?(u=ga(s,u),a.tag=1,a=Vv(null,a,s,u,l)):(a.tag=0,a=Nm(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===Z){a.tag=11,a=Cv(null,a,s,u,l);break t}else if(g===N){a.tag=14,a=Iv(null,a,s,u,l);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return Nm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=ga(u,a.pendingProps),Vv(s,a,u,g,l);case 3:t:{if(Pe(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,sm(s,a),Yl(a,u,null,l);var x=a.memoizedState;if(u=x.cache,Js(a,Me,u),u!==p.cache&&Zd(a,[Me],l,!0),Gl(),u=x.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Pv(s,a,u,l);break t}else if(u!==g){g=Fn(Error(i(424)),a),zl(g),a=Pv(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(oe=Kn(s.firstChild),Qe=a,Bt=!0,Ws=null,Gn=!0,l=N_(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(oa(),u===g){a=ps(s,a,l);break t}Ze(s,a,u,l)}a=a.child}return a;case 26:return dh(s,a),s===null?(l=W0(a.type,null,a.pendingProps,null))?a.memoizedState=l:Bt||(l=a.type,s=a.pendingProps,u=Mh(xt.current).createElement(l),u[Re]=a,u[qe]=s,Je(u,l,s),Ce(u),a.stateNode=u):a.memoizedState=W0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Br(a),s===null&&Bt&&(u=a.stateNode=X0(a.type,a.pendingProps,xt.current),Qe=a,Gn=!0,g=oe,fr(a.type)?(yg=g,oe=Kn(u.firstChild)):oe=g),Ze(s,a,a.pendingProps.children,l),dh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Bt&&((g=u=oe)&&(u=qA(u,a.type,a.pendingProps,Gn),u!==null?(a.stateNode=u,Qe=a,oe=Kn(u.firstChild),Gn=!1,g=!0):g=!1),g||Zs(a)),Br(a),g=a.type,p=a.pendingProps,x=s!==null?s.memoizedProps:null,u=p.children,fg(g,p)?u=null:x!==null&&fg(g,x)&&(a.flags|=32),a.memoizedState!==null&&(g=hm(s,a,rA,null,null,l),fc._currentValue=g),dh(s,a),Ze(s,a,u,l),a.child;case 6:return s===null&&Bt&&((s=l=oe)&&(l=GA(l,a.pendingProps,Gn),l!==null?(a.stateNode=l,Qe=a,oe=null,s=!0):s=!1),s||Zs(a)),null;case 13:return Lv(s,a,l);case 4:return Pe(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=da(a,null,u,l):Ze(s,a,u,l),a.child;case 11:return Cv(s,a,a.type,a.pendingProps,l);case 7:return Ze(s,a,a.pendingProps,l),a.child;case 8:return Ze(s,a,a.pendingProps.children,l),a.child;case 12:return Ze(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Js(a,a.type,u.value),Ze(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,ca(a),g=We(g),u=u(g),a.flags|=1,Ze(s,a,u,l),a.child;case 14:return Iv(s,a,a.type,a.pendingProps,l);case 15:return Mv(s,a,a.type,a.pendingProps,l);case 19:return zv(s,a,l);case 31:return dA(s,a,l);case 22:return Nv(s,a,l,a.pendingProps);case 24:return ca(a),u=We(Me),s===null?(g=em(),g===null&&(g=ae,p=Jd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},im(a),Js(a,Me,g)):((s.lanes&l)!==0&&(sm(s,a),Yl(a,null,null,l),Gl()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Js(a,Me,u)):(u=p.cache,Js(a,Me,u),u!==g.cache&&Zd(a,[Me],l,!0))),Ze(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ys(s){s.flags|=4}function zm(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(d0())s.flags|=8192;else throw fa=Zu,nm}else s.flags&=-16777217}function Bv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!nb(a))if(d0())s.flags|=8192;else throw fa=Zu,nm}function gh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?xu():536870912,s.lanes|=a,Io|=a)}function Zl(s,a){if(!Bt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function le(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function gA(s,a,l){var u=a.pendingProps;switch(Kd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(a),null;case 1:return le(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ds(Me),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(po(a)?ys(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,$d())),le(a),null;case 26:var g=a.type,p=a.memoizedState;return s===null?(ys(a),p!==null?(le(a),Bv(a,p)):(le(a),zm(a,g,null,u,l))):p?p!==s.memoizedState?(ys(a),le(a),Bv(a,p)):(le(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&ys(a),le(a),zm(a,g,s,u,l)),null;case 27:if(Ka(a),l=xt.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}s=ut.current,po(a)?b_(a):(s=X0(g,u,l),a.stateNode=s,ys(a))}return le(a),null;case 5:if(Ka(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}if(p=ut.current,po(a))b_(a);else{var x=Mh(xt.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?x.createElement(g,{is:u.is}):x.createElement(g)}}p[Re]=a,p[qe]=u;t:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break t;for(;x.sibling===null;){if(x.return===null||x.return===a)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=p;t:switch(Je(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ys(a)}}return le(a),zm(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=xt.current,po(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=Qe,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Re]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||L0(s.nodeValue,l)),s||Zs(a,!0)}else s=Mh(s).createTextNode(u),s[Re]=a,a.stateNode=s}return le(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=po(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Re]=a}else oa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),s=!1}else l=$d(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Nn(a),a):(Nn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return le(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=po(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Re]=a}else oa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),g=!1}else g=$d(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Nn(a),a):(Nn(a),null)}return Nn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),gh(a,a.updateQueue),le(a),null);case 4:return fe(),s===null&&og(a.stateNode.containerInfo),le(a),null;case 10:return ds(a.type),le(a),null;case 19:if(tt(xe),u=a.memoizedState,u===null)return le(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)Zl(u,!1);else{if(ye!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=nh(s),p!==null){for(a.flags|=128,Zl(u,!1),s=p.updateQueue,a.updateQueue=s,gh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)g_(l,s),l=l.sibling;return ct(xe,xe.current&1|2),Bt&&hs(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&dn()>bh&&(a.flags|=128,g=!0,Zl(u,!1),a.lanes=4194304)}else{if(!g)if(s=nh(p),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,gh(a,s),Zl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Bt)return le(a),null}else 2*dn()-u.renderingStartTime>bh&&l!==536870912&&(a.flags|=128,g=!0,Zl(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=dn(),s.sibling=null,l=xe.current,ct(xe,g?l&1|2:l&1),Bt&&hs(a,u.treeForkCount),s):(le(a),null);case 22:case 23:return Nn(a),lm(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(le(a),a.subtreeFlags&6&&(a.flags|=8192)):le(a),l=a.updateQueue,l!==null&&gh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&tt(ua),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ds(Me),le(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function pA(s,a){switch(Kd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ds(Me),fe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ka(a),null;case 31:if(a.memoizedState!==null){if(Nn(a),a.alternate===null)throw Error(i(340));oa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Nn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));oa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return tt(xe),null;case 4:return fe(),null;case 10:return ds(a.type),null;case 22:case 23:return Nn(a),lm(),s!==null&&tt(ua),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ds(Me),null;case 25:return null;default:return null}}function Fv(s,a){switch(Kd(a),a.tag){case 3:ds(Me),fe();break;case 26:case 27:case 5:Ka(a);break;case 4:fe();break;case 31:a.memoizedState!==null&&Nn(a);break;case 13:Nn(a);break;case 19:tt(xe);break;case 10:ds(a.type);break;case 22:case 23:Nn(a),lm(),s!==null&&tt(ua);break;case 24:ds(Me)}}function Jl(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,x=l.inst;u=p(),x.destroy=u}l=l.next}while(l!==g)}}catch(S){Jt(a,a.return,S)}}function rr(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,g=a;var V=l,Y=S;try{Y()}catch(J){Jt(g,V,J)}}}u=u.next}while(u!==p)}}catch(J){Jt(a,a.return,J)}}function Hv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{O_(a,l)}catch(u){Jt(s,s.return,u)}}}function qv(s,a,l){l.props=ga(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,a,u)}}function tc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,a,g)}}function Ui(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,a,g)}else l.current=null}function Gv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function Um(s,a,l){try{var u=s.stateNode;jA(u,s.type,l,a),u[qe]=a}catch(g){Jt(s,s.return,g)}}function Yv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&fr(s.type)||s.tag===4}function Bm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Yv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&fr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ai));else if(u!==4&&(u===27&&fr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Fm(s,a,l),s=s.sibling;s!==null;)Fm(s,a,l),s=s.sibling}function ph(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&fr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(ph(s,a,l),s=s.sibling;s!==null;)ph(s,a,l),s=s.sibling}function Kv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Je(a,u,l),a[Re]=s,a[qe]=l}catch(p){Jt(s,s.return,p)}}var _s=!1,Oe=!1,Hm=!1,Xv=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function yA(s,a){if(s=s.containerInfo,ug=Lh,s=a_(s),Pd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var x=0,S=-1,V=-1,Y=0,J=0,nt=s,K=null;e:for(;;){for(var W;nt!==l||g!==0&&nt.nodeType!==3||(S=x+g),nt!==p||u!==0&&nt.nodeType!==3||(V=x+u),nt.nodeType===3&&(x+=nt.nodeValue.length),(W=nt.firstChild)!==null;)K=nt,nt=W;for(;;){if(nt===s)break e;if(K===l&&++Y===g&&(S=x),K===p&&++J===u&&(V=x),(W=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=W}l=S===-1||V===-1?null:{start:S,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(hg={focusedElem:s,selectionRange:l},Lh=!1,Ye=a;Ye!==null;)if(a=Ye,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ye=s;else for(;Ye!==null;){switch(a=Ye,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var dt=ga(l.type,g);s=u.getSnapshotBeforeUpdate(dt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(vt){Jt(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)mg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":mg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ye=s;break}Ye=a.return}}function $v(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:bs(s,l),u&4&&Jl(5,l);break;case 1:if(bs(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(x){Jt(l,l.return,x)}else{var g=ga(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){Jt(l,l.return,x)}}u&64&&Hv(l),u&512&&tc(l,l.return);break;case 3:if(bs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{O_(s,a)}catch(x){Jt(l,l.return,x)}}break;case 27:a===null&&u&4&&Kv(l);case 26:case 5:bs(s,l),a===null&&u&4&&Gv(l),u&512&&tc(l,l.return);break;case 12:bs(s,l);break;case 31:bs(s,l),u&4&&Zv(s,l);break;case 13:bs(s,l),u&4&&Jv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=AA.bind(null,l),YA(s,l))));break;case 22:if(u=l.memoizedState!==null||_s,!u){a=a!==null&&a.memoizedState!==null||Oe,g=_s;var p=Oe;_s=u,(Oe=a)&&!p?xs(s,l,(l.subtreeFlags&8772)!==0):bs(s,l),_s=g,Oe=p}break;case 30:break;default:bs(s,l)}}function Qv(s){var a=s.alternate;a!==null&&(s.alternate=null,Qv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Za(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var me=null,_n=!1;function vs(s,a,l){for(l=l.child;l!==null;)Wv(s,a,l),l=l.sibling}function Wv(s,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ni,l)}catch{}switch(l.tag){case 26:Oe||Ui(l,a),vs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||Ui(l,a);var u=me,g=_n;fr(l.type)&&(me=l.stateNode,_n=!1),vs(s,a,l),cc(l.stateNode),me=u,_n=g;break;case 5:Oe||Ui(l,a);case 6:if(u=me,g=_n,me=null,vs(s,a,l),me=u,_n=g,me!==null)if(_n)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(l.stateNode)}catch(p){Jt(l,a,p)}else try{me.removeChild(l.stateNode)}catch(p){Jt(l,a,p)}break;case 18:me!==null&&(_n?(s=me,H0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Lo(s)):H0(me,l.stateNode));break;case 4:u=me,g=_n,me=l.stateNode.containerInfo,_n=!0,vs(s,a,l),me=u,_n=g;break;case 0:case 11:case 14:case 15:rr(2,l,a),Oe||rr(4,l,a),vs(s,a,l);break;case 1:Oe||(Ui(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&qv(l,a,u)),vs(s,a,l);break;case 21:vs(s,a,l);break;case 22:Oe=(u=Oe)||l.memoizedState!==null,vs(s,a,l),Oe=u;break;default:vs(s,a,l)}}function Zv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Lo(s)}catch(l){Jt(a,a.return,l)}}}function Jv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Lo(s)}catch(l){Jt(a,a.return,l)}}function _A(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Xv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Xv),a;default:throw Error(i(435,s.tag))}}function yh(s,a){var l=_A(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=RA.bind(null,s,u);u.then(g,g)}})}function vn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,x=a,S=x;t:for(;S!==null;){switch(S.tag){case 27:if(fr(S.type)){me=S.stateNode,_n=!1;break t}break;case 5:me=S.stateNode,_n=!1;break t;case 3:case 4:me=S.stateNode.containerInfo,_n=!0;break t}S=S.return}if(me===null)throw Error(i(160));Wv(p,x,g),me=null,_n=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)t0(a,s),a=a.sibling}var fi=null;function t0(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vn(a,s),bn(s),u&4&&(rr(3,s,s.return),Jl(3,s),rr(5,s,s.return));break;case 1:vn(a,s),bn(s),u&512&&(Oe||l===null||Ui(l,l.return)),u&64&&_s&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=fi;if(vn(a,s),bn(s),u&512&&(Oe||l===null||Ui(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Ai]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Je(p,u,l),p[Re]=s,Ce(p),u=p;break t;case"link":var x=tb("link","href",g).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(p=x[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;case"meta":if(x=tb("meta","content",g).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(p=x[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Re]=s,Ce(p),u=p}s.stateNode=u}else eb(g,s.type,s.stateNode);else s.stateNode=J0(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?eb(g,s.type,s.stateNode):J0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Um(s,s.memoizedProps,l.memoizedProps)}break;case 27:vn(a,s),bn(s),u&512&&(Oe||l===null||Ui(l,l.return)),l!==null&&u&4&&Um(s,s.memoizedProps,l.memoizedProps);break;case 5:if(vn(a,s),bn(s),u&512&&(Oe||l===null||Ui(l,l.return)),s.flags&32){g=s.stateNode;try{yn(g,"")}catch(dt){Jt(s,s.return,dt)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Um(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Hm=!0);break;case 6:if(vn(a,s),bn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(dt){Jt(s,s.return,dt)}}break;case 3:if(Oh=null,g=fi,fi=Nh(a.containerInfo),vn(a,s),fi=g,bn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Lo(a.containerInfo)}catch(dt){Jt(s,s.return,dt)}Hm&&(Hm=!1,e0(s));break;case 4:u=fi,fi=Nh(s.stateNode.containerInfo),vn(a,s),bn(s),fi=u;break;case 12:vn(a,s),bn(s);break;case 31:vn(a,s),bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,yh(s,u)));break;case 13:vn(a,s),bn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vh=dn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,yh(s,u)));break;case 22:g=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,Y=_s,J=Oe;if(_s=Y||g,Oe=J||V,vn(a,s),Oe=J,_s=Y,bn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||V||_s||Oe||pa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){V=l=a;try{if(p=V.stateNode,g)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=V.stateNode;var nt=V.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(dt){Jt(V,V.return,dt)}}}else if(a.tag===6){if(l===null){V=a;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(dt){Jt(V,V.return,dt)}}}else if(a.tag===18){if(l===null){V=a;try{var W=V.stateNode;g?q0(W,!0):q0(V.stateNode,!1)}catch(dt){Jt(V,V.return,dt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,yh(s,l))));break;case 19:vn(a,s),bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,yh(s,u)));break;case 30:break;case 21:break;default:vn(a,s),bn(s)}}function bn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Yv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=Bm(s);ph(s,p,g);break;case 5:var x=l.stateNode;l.flags&32&&(yn(x,""),l.flags&=-33);var S=Bm(s);ph(s,S,x);break;case 3:case 4:var V=l.stateNode.containerInfo,Y=Bm(s);Fm(s,Y,V);break;default:throw Error(i(161))}}catch(J){Jt(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function e0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;e0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function bs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)$v(s,a.alternate,a),a=a.sibling}function pa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:rr(4,a,a.return),pa(a);break;case 1:Ui(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&qv(a,a.return,l),pa(a);break;case 27:cc(a.stateNode);case 26:case 5:Ui(a,a.return),pa(a);break;case 22:a.memoizedState===null&&pa(a);break;case 30:pa(a);break;default:pa(a)}s=s.sibling}}function xs(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,x=p.flags;switch(p.tag){case 0:case 11:case 15:xs(g,p,l),Jl(4,p);break;case 1:if(xs(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){Jt(u,u.return,Y)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)D_(V[g],S)}catch(Y){Jt(u,u.return,Y)}}l&&x&64&&Hv(p),tc(p,p.return);break;case 27:Kv(p);case 26:case 5:xs(g,p,l),l&&u===null&&x&4&&Gv(p),tc(p,p.return);break;case 12:xs(g,p,l);break;case 31:xs(g,p,l),l&&x&4&&Zv(g,p);break;case 13:xs(g,p,l),l&&x&4&&Jv(g,p);break;case 22:p.memoizedState===null&&xs(g,p,l),tc(p,p.return);break;case 30:break;default:xs(g,p,l)}a=a.sibling}}function qm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ul(l))}function Gm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ul(s))}function di(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)n0(s,a,l,u),a=a.sibling}function n0(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:di(s,a,l,u),g&2048&&Jl(9,a);break;case 1:di(s,a,l,u);break;case 3:di(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ul(s)));break;case 12:if(g&2048){di(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,x=p.id,S=p.onPostCommit;typeof S=="function"&&S(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){Jt(a,a.return,V)}}else di(s,a,l,u);break;case 31:di(s,a,l,u);break;case 13:di(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,x=a.alternate,a.memoizedState!==null?p._visibility&2?di(s,a,l,u):ec(s,a):p._visibility&2?di(s,a,l,u):(p._visibility|=2,Ao(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&qm(x,a);break;case 24:di(s,a,l,u),g&2048&&Gm(a.alternate,a);break;default:di(s,a,l,u)}}function Ao(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,x=a,S=l,V=u,Y=x.flags;switch(x.tag){case 0:case 11:case 15:Ao(p,x,S,V,g),Jl(8,x);break;case 23:break;case 22:var J=x.stateNode;x.memoizedState!==null?J._visibility&2?Ao(p,x,S,V,g):ec(p,x):(J._visibility|=2,Ao(p,x,S,V,g)),g&&Y&2048&&qm(x.alternate,x);break;case 24:Ao(p,x,S,V,g),g&&Y&2048&&Gm(x.alternate,x);break;default:Ao(p,x,S,V,g)}a=a.sibling}}function ec(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:ec(l,u),g&2048&&qm(u.alternate,u);break;case 24:ec(l,u),g&2048&&Gm(u.alternate,u);break;default:ec(l,u)}a=a.sibling}}var nc=8192;function Ro(s,a,l){if(s.subtreeFlags&nc)for(s=s.child;s!==null;)i0(s,a,l),s=s.sibling}function i0(s,a,l){switch(s.tag){case 26:Ro(s,a,l),s.flags&nc&&s.memoizedState!==null&&sR(l,fi,s.memoizedState,s.memoizedProps);break;case 5:Ro(s,a,l);break;case 3:case 4:var u=fi;fi=Nh(s.stateNode.containerInfo),Ro(s,a,l),fi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=nc,nc=16777216,Ro(s,a,l),nc=u):Ro(s,a,l));break;default:Ro(s,a,l)}}function s0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function ic(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,a0(u,s)}s0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r0(s),s=s.sibling}function r0(s){switch(s.tag){case 0:case 11:case 15:ic(s),s.flags&2048&&rr(9,s,s.return);break;case 3:ic(s);break;case 12:ic(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,_h(s)):ic(s);break;default:ic(s)}}function _h(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,a0(u,s)}s0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:rr(8,a,a.return),_h(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,_h(a));break;default:_h(a)}s=s.sibling}}function a0(s,a){for(;Ye!==null;){var l=Ye;switch(l.tag){case 0:case 11:case 15:rr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ye=u;else t:for(l=s;Ye!==null;){u=Ye;var g=u.sibling,p=u.return;if(Qv(u),u===l){Ye=null;break t}if(g!==null){g.return=p,Ye=g;break t}Ye=p}}}var vA={getCacheForType:function(s){var a=We(Me),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return We(Me).controller.signal}},bA=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,Ot=null,Pt=0,Zt=0,Dn=null,ar=!1,Co=!1,Ym=!1,Ts=0,ye=0,or=0,ya=0,Km=0,On=0,Io=0,sc=null,xn=null,Xm=!1,vh=0,o0=0,bh=1/0,xh=null,lr=null,je=0,cr=null,Mo=null,ws=0,$m=0,Qm=null,l0=null,rc=0,Wm=null;function kn(){return(Xt&2)!==0&&Pt!==0?Pt&-Pt:X.T!==null?ig():Tu()}function c0(){if(On===0)if((Pt&536870912)===0||Bt){var s=qr;qr<<=1,(qr&3932160)===0&&(qr=262144),On=s}else On=536870912;return s=Mn.current,s!==null&&(s.flags|=32),On}function Tn(s,a,l){(s===ae&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(No(s,0),ur(s,Pt,On,!1)),Gr(s,l),((Xt&2)===0||s!==ae)&&(s===ae&&((Xt&2)===0&&(ya|=l),ye===4&&ur(s,Pt,On,!1)),Bi(s))}function u0(s,a,l){if((Xt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||ii(s,a),g=u?wA(s,a):Jm(s,a,!0),p=u;do{if(g===0){Co&&!u&&ur(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!xA(l)){g=Jm(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var S=s;g=sc;var V=S.current.memoizedState.isDehydrated;if(V&&(No(S,x).flags|=256),x=Jm(S,x,!1),x!==2){if(Ym&&!V){S.errorRecoveryDisabledLanes|=p,ya|=p,g=4;break t}p=xn,xn=g,p!==null&&(xn===null?xn=p:xn.push.apply(xn,p))}g=x}if(p=!1,g!==2)continue}}if(g===1){No(s,0),ur(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ur(u,a,On,!ar);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=vh+300-dn(),10<g)){if(ur(u,a,On,!ar),wi(u,0,!0)!==0)break t;ws=a,u.timeoutHandle=B0(h0.bind(null,u,l,xn,xh,Xm,a,On,ya,Io,ar,p,"Throttled",-0,0),g);break t}h0(u,l,xn,xh,Xm,a,On,ya,Io,ar,p,null,-0,0)}}break}while(!0);Bi(s)}function h0(s,a,l,u,g,p,x,S,V,Y,J,nt,K,W){if(s.timeoutHandle=-1,nt=a.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},i0(a,p,nt);var dt=(p&62914560)===p?vh-dn():(p&4194048)===p?o0-dn():0;if(dt=rR(nt,dt),dt!==null){ws=p,s.cancelPendingCommit=dt(v0.bind(null,s,a,p,l,u,g,x,S,V,J,nt,null,K,W)),ur(s,p,x,!Y);return}}v0(s,a,p,l,u,g,x,S,V)}function xA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Cn(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ur(s,a,l,u){a&=~Km,a&=~ya,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-ve(g),x=1<<p;u[p]=-1,g&=~x}l!==0&&Yr(s,l,a)}function Th(){return(Xt&6)===0?(ac(0),!1):!0}function Zm(){if(Ot!==null){if(Zt===0)var s=Ot.return;else s=Ot,fs=la=null,mm(s),xo=null,Fl=0,s=Ot;for(;s!==null;)Fv(s.alternate,s),s=s.return;Ot=null}}function No(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,BA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ws=0,Zm(),ae=s,Ot=l=us(s.current,null),Pt=a,Zt=0,Dn=null,ar=!1,Co=ii(s,a),Ym=!1,Io=On=Km=ya=or=ye=0,xn=sc=null,Xm=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-ve(u),p=1<<g;a|=s[g],u&=~p}return Ts=a,Hu(),l}function f0(s,a){It=null,X.H=Ql,a===bo||a===Wu?(a=C_(),Zt=3):a===nm?(a=C_(),Zt=4):Zt=a===Mm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Dn=a,Ot===null&&(ye=1,hh(s,Fn(a,s.current)))}function d0(){var s=Mn.current;return s===null?!0:(Pt&4194048)===Pt?Yn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?s===Yn:!1}function m0(){var s=X.H;return X.H=Ql,s===null?Ql:s}function g0(){var s=X.A;return X.A=vA,s}function wh(){ye=4,ar||(Pt&4194048)!==Pt&&Mn.current!==null||(Co=!0),(or&134217727)===0&&(ya&134217727)===0||ae===null||ur(ae,Pt,On,!1)}function Jm(s,a,l){var u=Xt;Xt|=2;var g=m0(),p=g0();(ae!==s||Pt!==a)&&(xh=null,No(s,a)),a=!1;var x=ye;t:do try{if(Zt!==0&&Ot!==null){var S=Ot,V=Dn;switch(Zt){case 8:Zm(),x=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(a=!0);var Y=Zt;if(Zt=0,Dn=null,Do(s,S,V,Y),l&&Co){x=0;break t}break;default:Y=Zt,Zt=0,Dn=null,Do(s,S,V,Y)}}TA(),x=ye;break}catch(J){f0(s,J)}while(!0);return a&&s.shellSuspendCounter++,fs=la=null,Xt=u,X.H=g,X.A=p,Ot===null&&(ae=null,Pt=0,Hu()),x}function TA(){for(;Ot!==null;)p0(Ot)}function wA(s,a){var l=Xt;Xt|=2;var u=m0(),g=g0();ae!==s||Pt!==a?(xh=null,bh=dn()+500,No(s,a)):Co=ii(s,a);t:do try{if(Zt!==0&&Ot!==null){a=Ot;var p=Dn;e:switch(Zt){case 1:Zt=0,Dn=null,Do(s,a,p,1);break;case 2:case 9:if(A_(p)){Zt=0,Dn=null,y0(a);break}a=function(){Zt!==2&&Zt!==9||ae!==s||(Zt=7),Bi(s)},p.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:A_(p)?(Zt=0,Dn=null,y0(a)):(Zt=0,Dn=null,Do(s,a,p,7));break;case 5:var x=null;switch(Ot.tag){case 26:x=Ot.memoizedState;case 5:case 27:var S=Ot;if(x?nb(x):S.stateNode.complete){Zt=0,Dn=null;var V=S.sibling;if(V!==null)Ot=V;else{var Y=S.return;Y!==null?(Ot=Y,Eh(Y)):Ot=null}break e}}Zt=0,Dn=null,Do(s,a,p,5);break;case 6:Zt=0,Dn=null,Do(s,a,p,6);break;case 8:Zm(),ye=6;break t;default:throw Error(i(462))}}EA();break}catch(J){f0(s,J)}while(!0);return fs=la=null,X.H=u,X.A=g,Xt=l,Ot!==null?0:(ae=null,Pt=0,Hu(),ye)}function EA(){for(;Ot!==null&&!Id();)p0(Ot)}function p0(s){var a=Uv(s.alternate,s,Ts);s.memoizedProps=s.pendingProps,a===null?Eh(s):Ot=a}function y0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=kv(l,a,a.pendingProps,a.type,void 0,Pt);break;case 11:a=kv(l,a,a.pendingProps,a.type.render,a.ref,Pt);break;case 5:mm(a);default:Fv(l,a),a=Ot=g_(a,Ts),a=Uv(l,a,Ts)}s.memoizedProps=s.pendingProps,a===null?Eh(s):Ot=a}function Do(s,a,l,u){fs=la=null,mm(a),xo=null,Fl=0;var g=a.return;try{if(fA(s,g,a,l,Pt)){ye=1,hh(s,Fn(l,s.current)),Ot=null;return}}catch(p){if(g!==null)throw Ot=g,p;ye=1,hh(s,Fn(l,s.current)),Ot=null;return}a.flags&32768?(Bt||u===1?s=!0:Co||(Pt&536870912)!==0?s=!1:(ar=s=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),_0(a,s)):Eh(a)}function Eh(s){var a=s;do{if((a.flags&32768)!==0){_0(a,ar);return}s=a.return;var l=gA(a.alternate,a,Ts);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);ye===0&&(ye=5)}function _0(s,a){do{var l=pA(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);ye=6,Ot=null}function v0(s,a,l,u,g,p,x,S,V){s.cancelPendingCommit=null;do Sh();while(je!==0);if((Xt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Bd,Dd(s,l,p,x,S,V),s===ae&&(Ot=ae=null,Pt=0),Mo=a,cr=s,ws=l,$m=p,Qm=g,l0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,CA(Us,function(){return E0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,g=ot.p,ot.p=2,x=Xt,Xt|=4;try{yA(s,a,l)}finally{Xt=x,ot.p=g,X.T=u}}je=1,b0(),x0(),T0()}}function b0(){if(je===1){je=0;var s=cr,a=Mo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var u=ot.p;ot.p=2;var g=Xt;Xt|=4;try{t0(a,s);var p=hg,x=a_(s.containerInfo),S=p.focusedElem,V=p.selectionRange;if(x!==S&&S&&S.ownerDocument&&r_(S.ownerDocument.documentElement,S)){if(V!==null&&Pd(S)){var Y=V.start,J=V.end;if(J===void 0&&(J=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(J,S.value.length);else{var nt=S.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var W=K.getSelection(),dt=S.textContent.length,vt=Math.min(V.start,dt),re=V.end===void 0?vt:Math.min(V.end,dt);!W.extend&&vt>re&&(x=re,re=vt,vt=x);var F=s_(S,vt),U=s_(S,re);if(F&&U&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var G=nt.createRange();G.setStart(F.node,F.offset),W.removeAllRanges(),vt>re?(W.addRange(G),W.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),W.addRange(G))}}}}for(nt=[],W=S;W=W.parentNode;)W.nodeType===1&&nt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var et=nt[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Lh=!!ug,hg=ug=null}finally{Xt=g,ot.p=u,X.T=l}}s.current=a,je=2}}function x0(){if(je===2){je=0;var s=cr,a=Mo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var u=ot.p;ot.p=2;var g=Xt;Xt|=4;try{$v(s,a.alternate,a)}finally{Xt=g,ot.p=u,X.T=l}}je=3}}function T0(){if(je===4||je===3){je=0,gu();var s=cr,a=Mo,l=ws,u=l0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?je=5:(je=0,Mo=cr=null,w0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(lr=null),as(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ni,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=X.T,g=ot.p,ot.p=2,X.T=null;try{for(var p=s.onRecoverableError,x=0;x<u.length;x++){var S=u[x];p(S.value,{componentStack:S.stack})}}finally{X.T=a,ot.p=g}}(ws&3)!==0&&Sh(),Bi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Wm?rc++:(rc=0,Wm=s):rc=0,ac(0)}}function w0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ul(a)))}function Sh(){return b0(),x0(),T0(),E0()}function E0(){if(je!==5)return!1;var s=cr,a=$m;$m=0;var l=as(ws),u=X.T,g=ot.p;try{ot.p=32>l?32:l,X.T=null,l=Qm,Qm=null;var p=cr,x=ws;if(je=0,Mo=cr=null,ws=0,(Xt&6)!==0)throw Error(i(331));var S=Xt;if(Xt|=4,r0(p.current),n0(p,p.current,x,l),Xt=S,ac(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ni,p)}catch{}return!0}finally{ot.p=g,X.T=u,w0(s,a)}}function S0(s,a,l){a=Fn(l,a),a=Im(s.stateNode,a,2),s=nr(s,a,2),s!==null&&(Gr(s,2),Bi(s))}function Jt(s,a,l){if(s.tag===3)S0(s,s,l);else for(;a!==null;){if(a.tag===3){S0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(lr===null||!lr.has(u))){s=Fn(l,s),l=Av(2),u=nr(a,l,2),u!==null&&(Rv(l,u,a,s),Gr(u,2),Bi(u));break}}a=a.return}}function tg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new bA;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(Ym=!0,g.add(l),s=SA.bind(null,s,a,l),a.then(s,s))}function SA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Pt&l)===l&&(ye===4||ye===3&&(Pt&62914560)===Pt&&300>dn()-vh?(Xt&2)===0&&No(s,0):Km|=l,Io===Pt&&(Io=0)),Bi(s)}function A0(s,a){a===0&&(a=xu()),s=ra(s,a),s!==null&&(Gr(s,a),Bi(s))}function AA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),A0(s,l)}function RA(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),A0(s,l)}function CA(s,a){return Le(s,a)}var Ah=null,Oo=null,eg=!1,Rh=!1,ng=!1,hr=0;function Bi(s){s!==Oo&&s.next===null&&(Oo===null?Ah=Oo=s:Oo=Oo.next=s),Rh=!0,eg||(eg=!0,MA())}function ac(s,a){if(!ng&&Rh){ng=!0;do for(var l=!1,u=Ah;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var x=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-ve(42|s)+1)-1,p&=g&~(x&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,M0(u,p))}else p=Pt,p=wi(u,u===ae?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ii(u,p)||(l=!0,M0(u,p));u=u.next}while(l);ng=!1}}function IA(){R0()}function R0(){Rh=eg=!1;var s=0;hr!==0&&UA()&&(s=hr);for(var a=dn(),l=null,u=Ah;u!==null;){var g=u.next,p=C0(u,a);p===0?(u.next=null,l===null?Ah=g:l.next=g,g===null&&(Oo=l)):(l=u,(s!==0||(p&3)!==0)&&(Rh=!0)),u=g}je!==0&&je!==5||ac(s),hr!==0&&(hr=0)}function C0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var x=31-ve(p),S=1<<x,V=g[x];V===-1?((S&l)===0||(S&u)!==0)&&(g[x]=Nd(S,a)):V<=a&&(s.expiredLanes|=S),p&=~S}if(a=ae,l=Pt,l=wi(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&zs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ii(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&zs(u),as(l)){case 2:case 8:l=pl;break;case 32:l=Us;break;case 268435456:l=pu;break;default:l=Us}return u=I0.bind(null,s),l=Le(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&zs(u),s.callbackPriority=2,s.callbackNode=null,2}function I0(s,a){if(je!==0&&je!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Sh()&&s.callbackNode!==l)return null;var u=Pt;return u=wi(s,s===ae?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(u0(s,u,a),C0(s,dn()),s.callbackNode!=null&&s.callbackNode===l?I0.bind(null,s):null)}function M0(s,a){if(Sh())return null;u0(s,a,!0)}function MA(){FA(function(){(Xt&6)!==0?Le(gl,IA):R0()})}function ig(){if(hr===0){var s=_o;s===0&&(s=xi,xi<<=1,(xi&261888)===0&&(xi=256)),hr=s}return hr}function N0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:no(""+s)}function D0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function NA(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=N0((g[qe]||null).action),x=u.submitter;x&&(a=(a=x[qe]||null)?N0(a.formAction):x.getAttribute("formAction"),a!==null&&(p=a,x=null));var S=new ki("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(hr!==0){var V=x?D0(g,x):new FormData(g);wm(l,{pending:!0,data:V,method:g.method,action:p},null,V)}}else typeof p=="function"&&(S.preventDefault(),V=x?D0(g,x):new FormData(g),wm(l,{pending:!0,data:V,method:g.method,action:p},p,V))},currentTarget:g}]})}}for(var sg=0;sg<Ud.length;sg++){var rg=Ud[sg],DA=rg.toLowerCase(),OA=rg[0].toUpperCase()+rg.slice(1);hi(DA,"on"+OA)}hi(c_,"onAnimationEnd"),hi(u_,"onAnimationIteration"),hi(h_,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi($1,"onTransitionRun"),hi(Q1,"onTransitionStart"),hi(W1,"onTransitionCancel"),hi(f_,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oc));function O0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var x=u.length-1;0<=x;x--){var S=u[x],V=S.instance,Y=S.currentTarget;if(S=S.listener,V!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=Y;try{p(g)}catch(J){Fu(J)}g.currentTarget=null,p=V}else for(x=0;x<u.length;x++){if(S=u[x],V=S.instance,Y=S.currentTarget,S=S.listener,V!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=Y;try{p(g)}catch(J){Fu(J)}g.currentTarget=null,p=V}}}}function kt(s,a){var l=a[Wa];l===void 0&&(l=a[Wa]=new Set);var u=s+"__bubble";l.has(u)||(k0(a,s,2,!1),l.add(u))}function ag(s,a,l){var u=0;a&&(u|=4),k0(l,s,u,a)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function og(s){if(!s[Ch]){s[Ch]=!0,vl.forEach(function(l){l!=="selectionchange"&&(kA.has(l)||ag(l,!1,s),ag(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ch]||(a[Ch]=!0,ag("selectionchange",!1,a))}}function k0(s,a,l,u){switch(cb(a)){case 2:var g=lR;break;case 8:g=cR;break;default:g=Tg}l=g.bind(null,a,l,s),g=void 0,!Wr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function lg(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===g)break;if(x===4)for(x=u.return;x!==null;){var V=x.tag;if((V===3||V===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;S!==null;){if(x=Ri(S),x===null)return;if(V=x.tag,V===5||V===6||V===26||V===27){u=p=x;continue t}S=S.parentNode}}u=u.return}Ys(function(){var Y=p,J=jn(l),nt=[];t:{var K=d_.get(s);if(K!==void 0){var W=ki,dt=s;switch(s){case"keypress":if(Jr(l)===0)break t;case"keydown":case"keyup":W=zu;break;case"focusin":dt="focus",W=ea;break;case"focusout":dt="blur",W=ea;break;case"beforeblur":case"afterblur":W=ea;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case c_:case u_:case h_:W=Du;break;case f_:W=I;break;case"scroll":case"scrollend":W=Nl;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=cs;break;case"toggle":case"beforetoggle":W=Ct}var vt=(a&4)!==0,re=!vt&&(s==="scroll"||s==="scrollend"),F=vt?K!==null?K+"Capture":null:K;vt=[];for(var U=Y,G;U!==null;){var et=U;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||F===null||(et=oi(U,F),et!=null&&vt.push(lc(U,et,G))),re)break;U=U.return}0<vt.length&&(K=new W(K,dt,null,l,J),nt.push({event:K,listeners:vt}))}}if((a&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==Cl&&(dt=l.relatedTarget||l.fromElement)&&(Ri(dt)||dt[Si]))break t;if((W||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,W?(dt=l.relatedTarget||l.toElement,W=Y,dt=dt?Ri(dt):null,dt!==null&&(re=o(dt),vt=dt.tag,dt!==re||vt!==5&&vt!==27&&vt!==6)&&(dt=null)):(W=null,dt=Y),W!==dt)){if(vt=Dl,et="onMouseLeave",F="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(vt=cs,et="onPointerLeave",F="onPointerEnter",U="pointer"),re=W==null?K:An(W),G=dt==null?K:An(dt),K=new vt(et,U+"leave",W,l,J),K.target=re,K.relatedTarget=G,et=null,Ri(J)===Y&&(vt=new vt(F,U+"enter",dt,l,J),vt.target=G,vt.relatedTarget=re,et=vt),re=et,W&&dt)e:{for(vt=VA,F=W,U=dt,G=0,et=F;et;et=vt(et))G++;et=0;for(var pt=U;pt;pt=vt(pt))et++;for(;0<G-et;)F=vt(F),G--;for(;0<et-G;)U=vt(U),et--;for(;G--;){if(F===U||U!==null&&F===U.alternate){vt=F;break e}F=vt(F),U=vt(U)}vt=null}else vt=null;W!==null&&V0(nt,K,W,vt,!1),dt!==null&&re!==null&&V0(nt,re,dt,vt,!0)}}t:{if(K=Y?An(Y):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Gt=Zy;else if(Qy(K))if(Jy)Gt=Y1;else{Gt=q1;var mt=H1}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&eo(Y.elementType)&&(Gt=Zy):Gt=G1;if(Gt&&(Gt=Gt(s,Y))){Wy(nt,Gt,l,J);break t}mt&&mt(s,K,Y),s==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Sl(K,"number",K.value)}switch(mt=Y?An(Y):window,s){case"focusin":(Qy(mt)||mt.contentEditable==="true")&&(co=mt,Ld=Y,Ll=null);break;case"focusout":Ll=Ld=co=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,o_(nt,l,J);break;case"selectionchange":if(X1)break;case"keydown":case"keyup":o_(nt,l,J)}var Mt;if(Kt)t:{switch(s){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else lo?na(s,l)&&(Lt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(Li&&l.locale!=="ko"&&(lo||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&lo&&(Mt=Ml()):(Oi=J,Il="value"in Oi?Oi.value:Oi.textContent,lo=!0)),mt=Ih(Y,Lt),0<mt.length&&(Lt=new Pi(Lt,s,null,l,J),nt.push({event:Lt,listeners:mt}),Mt?Lt.data=Mt:(Mt=oo(l),Mt!==null&&(Lt.data=Mt)))),(Mt=Un?z1(s,l):U1(s,l))&&(Lt=Ih(Y,"onBeforeInput"),0<Lt.length&&(mt=new Pi("onBeforeInput","beforeinput",null,l,J),nt.push({event:mt,listeners:Lt}),mt.data=Mt)),NA(nt,s,Y,l,J)}O0(nt,a)})}function lc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Ih(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=oi(s,l),g!=null&&u.unshift(lc(s,g,p)),g=oi(s,a),g!=null&&u.push(lc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function VA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function V0(s,a,l,u,g){for(var p=a._reactName,x=[];l!==null&&l!==u;){var S=l,V=S.alternate,Y=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||Y===null||(V=Y,g?(Y=oi(l,p),Y!=null&&x.unshift(lc(l,Y,V))):g||(Y=oi(l,p),Y!=null&&x.push(lc(l,Y,V)))),l=l.return}x.length!==0&&s.push({event:a,listeners:x})}var PA=/\r\n?/g,LA=/\u0000|\uFFFD/g;function P0(s){return(typeof s=="string"?s:""+s).replace(PA,`
`).replace(LA,"")}function L0(s,a){return a=P0(a),P0(s)===a}function se(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||yn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&yn(s,""+u);break;case"className":Rn(s,"class",u);break;case"tabIndex":Rn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(s,l,u);break;case"style":Rl(s,u,p);break;case"data":if(a!=="object"){Rn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=no(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&se(s,a,"name",g.name,g,null),se(s,a,"formEncType",g.formEncType,g,null),se(s,a,"formMethod",g.formMethod,g,null),se(s,a,"formTarget",g.formTarget,g,null)):(se(s,a,"encType",g.encType,g,null),se(s,a,"method",g.method,g,null),se(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=no(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=ai);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=no(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":kt("beforetoggle",s),kt("toggle",s),Ja(s,"popover",u);break;case"xlinkActuate":Ie(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ja(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Iu.get(l)||l,Ja(s,l,u))}}function cg(s,a,l,u,g,p){switch(l){case"style":Rl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?yn(s,u):(typeof u=="number"||typeof u=="bigint")&&yn(s,""+u);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[qe]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Ja(s,l,u)}}}function Je(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var x=l[p];if(x!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,p,x,l,null)}}g&&se(s,a,"srcSet",l.srcSet,l,null),u&&se(s,a,"src",l.src,l,null);return;case"input":kt("invalid",s);var S=p=x=g=null,V=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":g=J;break;case"type":x=J;break;case"checked":V=J;break;case"defaultChecked":Y=J;break;case"value":p=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:se(s,a,u,J,l,null)}}Au(s,p,S,V,Y,x,g,!1);return;case"select":kt("invalid",s),u=x=p=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:se(s,a,g,S,l,null)}a=p,l=x,s.multiple=!!u,a!=null?Fs(s,!!u,a,!1):l!=null&&Fs(s,!!u,l,!0);return;case"textarea":kt("invalid",s),p=g=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:se(s,a,x,S,l,null)}Hs(s,u,g,p);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:se(s,a,V,u,l,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(u=0;u<oc.length;u++)kt(oc[u],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,Y,u,l,null)}return;default:if(eo(a)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&cg(s,a,J,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&se(s,a,S,u,l,null))}function jA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,x=null,S=null,V=null,Y=null,J=null;for(W in l){var nt=l[W];if(l.hasOwnProperty(W)&&nt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=nt;default:u.hasOwnProperty(W)||se(s,a,W,null,u,nt)}}for(var K in u){var W=u[K];if(nt=l[K],u.hasOwnProperty(K)&&(W!=null||nt!=null))switch(K){case"type":p=W;break;case"name":g=W;break;case"checked":Y=W;break;case"defaultChecked":J=W;break;case"value":x=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==nt&&se(s,a,K,W,u,nt)}}to(s,x,S,V,Y,J,p,g);return;case"select":W=x=S=K=null;for(p in l)if(V=l[p],l.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":W=V;default:u.hasOwnProperty(p)||se(s,a,p,null,u,V)}for(g in u)if(p=u[g],V=l[g],u.hasOwnProperty(g)&&(p!=null||V!=null))switch(g){case"value":K=p;break;case"defaultValue":S=p;break;case"multiple":x=p;default:p!==V&&se(s,a,g,p,u,V)}a=S,l=x,u=W,K!=null?Fs(s,!!l,K,!1):!!u!=!!l&&(a!=null?Fs(s,!!l,a,!0):Fs(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(s,a,S,null,u,g)}for(x in u)if(g=u[x],p=l[x],u.hasOwnProperty(x)&&(g!=null||p!=null))switch(x){case"value":K=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&se(s,a,x,g,u,p)}Ru(s,K,W);return;case"option":for(var dt in l)if(K=l[dt],l.hasOwnProperty(dt)&&K!=null&&!u.hasOwnProperty(dt))switch(dt){case"selected":s.selected=!1;break;default:se(s,a,dt,null,u,K)}for(V in u)if(K=u[V],W=l[V],u.hasOwnProperty(V)&&K!==W&&(K!=null||W!=null))switch(V){case"selected":s.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:se(s,a,V,K,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)K=l[vt],l.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&se(s,a,vt,null,u,K);for(Y in u)if(K=u[Y],W=l[Y],u.hasOwnProperty(Y)&&K!==W&&(K!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:se(s,a,Y,K,u,W)}return;default:if(eo(a)){for(var re in l)K=l[re],l.hasOwnProperty(re)&&K!==void 0&&!u.hasOwnProperty(re)&&cg(s,a,re,void 0,u,K);for(J in u)K=u[J],W=l[J],!u.hasOwnProperty(J)||K===W||K===void 0&&W===void 0||cg(s,a,J,K,u,W);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&se(s,a,F,null,u,K);for(nt in u)K=u[nt],W=l[nt],!u.hasOwnProperty(nt)||K===W||K==null&&W==null||se(s,a,nt,K,u,W)}function j0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zA(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,x=g.initiatorType,S=g.duration;if(p&&S&&j0(x)){for(x=0,S=g.responseEnd,u+=1;u<l.length;u++){var V=l[u],Y=V.startTime;if(Y>S)break;var J=V.transferSize,nt=V.initiatorType;J&&j0(nt)&&(V=V.responseEnd,x+=J*(V<S?1:(S-Y)/(V-Y)))}if(--u,a+=8*(p+x)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ug=null,hg=null;function Mh(s){return s.nodeType===9?s:s.ownerDocument}function z0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function fg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var dg=null;function UA(){var s=window.event;return s&&s.type==="popstate"?s===dg?!1:(dg=s,!0):(dg=null,!1)}var B0=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(s){return F0.resolve(null).then(s).catch(HA)}:B0;function HA(s){setTimeout(function(){throw s})}function fr(s){return s==="head"}function H0(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),Lo(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")cc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,cc(l);for(var p=l.firstChild;p;){var x=p.nextSibling,S=p.nodeName;p[Ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=x}}else l==="body"&&cc(s.ownerDocument.body);l=g}while(l);Lo(a)}function q0(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function mg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":mg(l),Za(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function qA(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ai])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Kn(s.nextSibling),s===null)break}return null}function GA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Kn(s.nextSibling),s===null))return null;return s}function G0(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Kn(s.nextSibling),s===null))return null;return s}function gg(s){return s.data==="$?"||s.data==="$~"}function pg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function YA(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Kn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var yg=null;function Y0(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Kn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function K0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function X0(s,a,l){switch(a=Mh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function cc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Za(s)}var Xn=new Map,$0=new Set;function Nh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Es=ot.d;ot.d={f:KA,r:XA,D:$A,C:QA,L:WA,m:ZA,X:tR,S:JA,M:eR};function KA(){var s=Es.f(),a=Th();return s||a}function XA(s){var a=Ln(s);a!==null&&a.tag===5&&a.type==="form"?fv(a):Es.r(s)}var ko=typeof document>"u"?null:document;function Q0(s,a,l){var u=ko;if(u&&typeof a=="string"&&a){var g=pn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),$0.has(g)||($0.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Je(a,"link",s),Ce(a),u.head.appendChild(a)))}}function $A(s){Es.D(s),Q0("dns-prefetch",s,null)}function QA(s,a){Es.C(s,a),Q0("preconnect",s,a)}function WA(s,a,l){Es.L(s,a,l);var u=ko;if(u&&s&&a){var g='link[rel="preload"][as="'+pn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+pn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+pn(l.imageSizes)+'"]')):g+='[href="'+pn(s)+'"]';var p=g;switch(a){case"style":p=Vo(s);break;case"script":p=Po(s)}Xn.has(p)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Xn.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(uc(p))||a==="script"&&u.querySelector(hc(p))||(a=u.createElement("link"),Je(a,"link",s),Ce(a),u.head.appendChild(a)))}}function ZA(s,a){Es.m(s,a);var l=ko;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Po(s)}if(!Xn.has(p)&&(s=_({rel:"modulepreload",href:s},a),Xn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hc(p)))return}u=l.createElement("link"),Je(u,"link",s),Ce(u),l.head.appendChild(u)}}}function JA(s,a,l){Es.S(s,a,l);var u=ko;if(u&&s){var g=Ci(u).hoistableStyles,p=Vo(s);a=a||"default";var x=g.get(p);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(uc(p)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Xn.get(p))&&_g(s,l);var V=x=u.createElement("link");Ce(V),Je(V,"link",s),V._p=new Promise(function(Y,J){V.onload=Y,V.onerror=J}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Dh(x,a,u)}x={type:"stylesheet",instance:x,count:1,state:S},g.set(p,x)}}}function tR(s,a){Es.X(s,a);var l=ko;if(l&&s){var u=Ci(l).hoistableScripts,g=Po(s),p=u.get(g);p||(p=l.querySelector(hc(g)),p||(s=_({src:s,async:!0},a),(a=Xn.get(g))&&vg(s,a),p=l.createElement("script"),Ce(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function eR(s,a){Es.M(s,a);var l=ko;if(l&&s){var u=Ci(l).hoistableScripts,g=Po(s),p=u.get(g);p||(p=l.querySelector(hc(g)),p||(s=_({src:s,async:!0,type:"module"},a),(a=Xn.get(g))&&vg(s,a),p=l.createElement("script"),Ce(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function W0(s,a,l,u){var g=(g=xt.current)?Nh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Vo(l.href),l=Ci(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Vo(l.href);var p=Ci(g).hoistableStyles,x=p.get(s);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,x),(p=g.querySelector(uc(s)))&&!p._p&&(x.instance=p,x.state.loading=5),Xn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xn.set(s,l),p||nR(g,s,l,x.state))),a&&u===null)throw Error(i(528,""));return x}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Po(l),l=Ci(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Vo(s){return'href="'+pn(s)+'"'}function uc(s){return'link[rel="stylesheet"]['+s+"]"}function Z0(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function nR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Je(a,"link",l),Ce(a),s.head.appendChild(a))}function Po(s){return'[src="'+pn(s)+'"]'}function hc(s){return"script[async]"+s}function J0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+pn(l.href)+'"]');if(u)return a.instance=u,Ce(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ce(u),Je(u,"style",g),Dh(u,l.precedence,s),a.instance=u;case"stylesheet":g=Vo(l.href);var p=s.querySelector(uc(g));if(p)return a.state.loading|=4,a.instance=p,Ce(p),p;u=Z0(l),(g=Xn.get(g))&&_g(u,g),p=(s.ownerDocument||s).createElement("link"),Ce(p);var x=p;return x._p=new Promise(function(S,V){x.onload=S,x.onerror=V}),Je(p,"link",u),a.state.loading|=4,Dh(p,l.precedence,s),a.instance=p;case"script":return p=Po(l.src),(g=s.querySelector(hc(p)))?(a.instance=g,Ce(g),g):(u=l,(g=Xn.get(p))&&(u=_({},l),vg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ce(g),Je(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Dh(u,l.precedence,s));return a.instance}function Dh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===a)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function _g(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function vg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Oh=null;function tb(s,a,l){if(Oh===null){var u=new Map,g=Oh=new Map;g.set(l,u)}else g=Oh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Ai]||p[Re]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(a)||"";x=s+x;var S=u.get(x);S?S.push(p):u.set(x,[p])}}return u}function eb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function iR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function nb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function sR(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Vo(u.href),p=a.querySelector(uc(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=kh.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ce(p);return}p=a.ownerDocument||a,u=Z0(u),(g=Xn.get(g))&&_g(u,g),p=p.createElement("link"),Ce(p);var x=p;x._p=new Promise(function(S,V){x.onload=S,x.onerror=V}),Je(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=kh.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var bg=0;function rR(s,a){return s.stylesheets&&s.count===0&&Ph(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Ph(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&bg===0&&(bg=62500*zA());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Ph(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>bg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Vh=null;function Ph(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Vh=new Map,a.forEach(aR,s),Vh=null,kh.call(s))}function aR(s,a){if(!(a.state.loading&4)){var l=Vh.get(s);if(l)var u=l.get(null);else{l=new Map,Vh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var x=g[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}g=a.instance,x=g.getAttribute("data-precedence"),p=l.get(x)||u,p===u&&l.set(null,g),l.set(x,g),this.count++,u=kh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var fc={$$typeof:H,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function oR(s,a,l,u,g,p,x,S,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function ib(s,a,l,u,g,p,x,S,V,Y,J,nt){return s=new oR(s,a,l,x,V,Y,J,nt,S),a=1,p===!0&&(a|=24),p=In(3,null,null,a),s.current=p,p.stateNode=s,a=Jd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},im(p),s}function sb(s){return s?(s=fo,s):fo}function rb(s,a,l,u,g,p){g=sb(g),u.context===null?u.context=g:u.pendingContext=g,u=er(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=nr(s,u,a),l!==null&&(Tn(l,s,a),ql(l,s,a))}function ab(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function xg(s,a){ab(s,a),(s=s.alternate)&&ab(s,a)}function ob(s){if(s.tag===13||s.tag===31){var a=ra(s,67108864);a!==null&&Tn(a,s,67108864),xg(s,67108864)}}function lb(s){if(s.tag===13||s.tag===31){var a=kn();a=Kr(a);var l=ra(s,a);l!==null&&Tn(l,s,a),xg(s,a)}}var Lh=!0;function lR(s,a,l,u){var g=X.T;X.T=null;var p=ot.p;try{ot.p=2,Tg(s,a,l,u)}finally{ot.p=p,X.T=g}}function cR(s,a,l,u){var g=X.T;X.T=null;var p=ot.p;try{ot.p=8,Tg(s,a,l,u)}finally{ot.p=p,X.T=g}}function Tg(s,a,l,u){if(Lh){var g=wg(u);if(g===null)lg(s,a,u,jh,l),ub(s,u);else if(hR(g,s,a,l,u))u.stopPropagation();else if(ub(s,u),a&4&&-1<uR.indexOf(s)){for(;g!==null;){var p=Ln(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=Ti(p.pendingLanes);if(x!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var V=1<<31-ve(x);S.entanglements[1]|=V,x&=~V}Bi(p),(Xt&6)===0&&(bh=dn()+500,ac(0))}}break;case 31:case 13:S=ra(p,2),S!==null&&Tn(S,p,2),Th(),xg(p,2)}if(p=wg(u),p===null&&lg(s,a,u,jh,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else lg(s,a,u,null,l)}}function wg(s){return s=jn(s),Eg(s)}var jh=null;function Eg(s){if(jh=null,s=Ri(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return jh=s,null}function cb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case gl:return 2;case pl:return 8;case Us:case Md:return 32;case pu:return 268435456;default:return 32}default:return 32}}var Sg=!1,dr=null,mr=null,gr=null,dc=new Map,mc=new Map,pr=[],uR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ub(s,a){switch(s){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":dc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(a.pointerId)}}function gc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Ln(a),a!==null&&ob(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function hR(s,a,l,u,g){switch(a){case"focusin":return dr=gc(dr,s,a,l,u,g),!0;case"dragenter":return mr=gc(mr,s,a,l,u,g),!0;case"mouseover":return gr=gc(gr,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return dc.set(p,gc(dc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,mc.set(p,gc(mc.get(p)||null,s,a,l,u,g)),!0}return!1}function hb(s){var a=Ri(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,si(s.priority,function(){lb(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,si(s.priority,function(){lb(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function zh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=wg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Cl=u,l.target.dispatchEvent(u),Cl=null}else return a=Ln(l),a!==null&&ob(a),s.blockedOn=l,!1;a.shift()}return!0}function fb(s,a,l){zh(s)&&l.delete(a)}function fR(){Sg=!1,dr!==null&&zh(dr)&&(dr=null),mr!==null&&zh(mr)&&(mr=null),gr!==null&&zh(gr)&&(gr=null),dc.forEach(fb),mc.forEach(fb)}function Uh(s,a){s.blockedOn===a&&(s.blockedOn=null,Sg||(Sg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fR)))}var Bh=null;function db(s){Bh!==s&&(Bh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bh===s&&(Bh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(Eg(u||l)===null)continue;break}var p=Ln(l);p!==null&&(s.splice(a,3),a-=3,wm(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Lo(s){function a(V){return Uh(V,s)}dr!==null&&Uh(dr,s),mr!==null&&Uh(mr,s),gr!==null&&Uh(gr,s),dc.forEach(a),mc.forEach(a);for(var l=0;l<pr.length;l++){var u=pr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<pr.length&&(l=pr[0],l.blockedOn===null);)hb(l),l.blockedOn===null&&pr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],x=g[qe]||null;if(typeof p=="function")x||db(l);else if(x){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,x=p[qe]||null)S=x.formAction;else if(Eg(g)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),db(l)}}}function mb(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return g=x})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Ag(s){this._internalRoot=s}Fh.prototype.render=Ag.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=kn();rb(l,u,s,a,null,null)},Fh.prototype.unmount=Ag.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;rb(s.current,2,null,s,null,null),Th(),a[Si]=null}};function Fh(s){this._internalRoot=s}Fh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Tu();s={blockedOn:null,target:s,priority:a};for(var l=0;l<pr.length&&a!==0&&a<pr[l].priority;l++);pr.splice(l,0,s),l===0&&hb(s)}};var gb=t.version;if(gb!=="19.2.0")throw Error(i(527,gb,"19.2.0"));ot.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var dR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{ni=Hh.inject(dR),Xe=Hh}catch{}}return yc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=Tv,p=wv,x=Ev;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=ib(s,1,!1,null,null,l,u,null,g,p,x,mb),s[Si]=a.current,og(s),new Ag(a)},yc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=Tv,x=wv,S=Ev,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),a=ib(s,1,!0,a,l??null,u,g,V,p,x,S,mb),a.context=sb(null),l=a.current,u=kn(),u=Kr(u),g=er(u),g.callback=null,nr(l,g,u),l=u,a.current.lanes=l,Gr(a,l),Bi(a),s[Si]=a.current,og(s),new Fh(a)},yc.version="19.2.0",yc}var Sb;function ER(){if(Sb)return Ig.exports;Sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ig.exports=wR(),Ig.exports}var SR=ER();function _w({isDark:n,setIsDark:t}){return E.jsx("div",{className:`flex flex-row items-center justify-center
        `,title:"Switch Theme",onClick:()=>t(e=>!e),children:E.jsx("i",{className:n?"bx bx-sun bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--light-color)] hovered":"bx bx-moon bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--dark-color)] hovered"})})}const Ra="/DriveSense/assets/app-icon-B1NYOGE_.png";function fn(n=768){const[t,e]=at.useState(typeof window<"u"?window.innerWidth<n:!1);return at.useEffect(()=>{const i=()=>{e(window.innerWidth<n)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),t}const AR=()=>{};var Ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},RR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},bw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,m=f?n[r+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let b=(h&15)<<2|m>>6,w=m&63;f||(w=64,c||(b=64)),i.push(e[y],e[_],e[b],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(vw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):RR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||_==null)throw new CR;const b=o<<2|h>>4;if(i.push(b),m!==64){const w=h<<4&240|m>>2;if(i.push(w),_!==64){const R=m<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IR=function(n){const t=vw(n);return bw.encodeByteArray(t,!0)},Sf=function(n){return IR(n).replace(/\./g,"")},xw=function(n){try{return bw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=()=>MR().__FIREBASE_DEFAULTS__,DR=()=>{if(typeof process>"u"||typeof Ab>"u")return;const n=Ab.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&xw(n[1]);return t&&JSON.parse(t)},td=()=>{try{return AR()||NR()||DR()||OR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Tw=n=>td()?.emulatorHosts?.[n],ww=n=>{const t=Tw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},Ew=()=>td()?.config,Sw=n=>td()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Sf(JSON.stringify(e)),Sf(JSON.stringify(c)),""].join(".")}const Mc={};function VR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Mc))Mc[t]?n.emulator.push(t):n.prod.push(t);return n}function PR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Rb=!1;function Lp(n,t){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||Mc[n]===t||Mc[n]||Rb)return;Mc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=VR().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Rb=!0,c()},b}function y(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=PR(i),w=e("text"),R=document.getElementById(w)||document.createElement("span"),C=e("learnmore"),M=document.getElementById(C)||document.createElement("a"),L=e("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;h(H),y(M,C);const Z=m();f(B,L),H.append(B,R,M,Z),document.body.appendChild(H)}o?(R.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function jR(){const n=td()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FR(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HR(){return!jR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qR(){try{return typeof indexedDB=="object"}catch{return!1}}function GR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="FirebaseError";class ss extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=YR,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?KR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new ss(r,h,i)}}function KR(n,t){return n.replace(XR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const XR=/\{\$([^}]+)}/g;function $R(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Na(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(Cb(o)&&Cb(c)){if(!Na(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Cb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function QR(n,t){const e=new WR(n,t);return e.subscribe.bind(e)}class WR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");ZR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Og),r.error===void 0&&(r.error=Og),r.complete===void 0&&(r.complete=Og);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(n){return n&&n._delegate?n._delegate:n}class Dr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new kR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eC(t))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=xa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xa){return this.instances.has(t)}getOptions(t=xa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tC(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=xa){return this.component?this.component.multipleInstances?t:xa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tC(n){return n===xa?void 0:n}function eC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new JR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const iC={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},sC=jt.INFO,rC={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},aC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=rC[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jp{constructor(t){this.name=t,this._logLevel=sC,this._logHandler=aC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const oC=(n,t)=>t.some(e=>n instanceof e);let Ib,Mb;function lC(){return Ib||(Ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cC(){return Mb||(Mb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rw=new WeakMap,sp=new WeakMap,Cw=new WeakMap,kg=new WeakMap,zp=new WeakMap;function uC(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Rr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Rw.set(e,n)}).catch(()=>{}),zp.set(t,n),t}function hC(n){if(sp.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});sp.set(n,t)}let rp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return sp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Cw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Rr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function fC(n){rp=n(rp)}function dC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Vg(this),t,...e);return Cw.set(i,t.sort?t.sort():[t]),Rr(i)}:cC().includes(n)?function(...t){return n.apply(Vg(this),t),Rr(Rw.get(this))}:function(...t){return Rr(n.apply(Vg(this),t))}}function mC(n){return typeof n=="function"?dC(n):(n instanceof IDBTransaction&&hC(n),oC(n,lC())?new Proxy(n,rp):n)}function Rr(n){if(n instanceof IDBRequest)return uC(n);if(kg.has(n))return kg.get(n);const t=mC(n);return t!==n&&(kg.set(n,t),zp.set(t,n)),t}const Vg=n=>zp.get(n);function gC(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Rr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Rr(c.result),f.oldVersion,f.newVersion,Rr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const pC=["get","getKey","getAll","getAllKeys","count"],yC=["put","add","delete","clear"],Pg=new Map;function Nb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Pg.get(t))return Pg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=yC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||pC.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&f.done]))[0]};return Pg.set(t,o),o}fC(n=>({...n,get:(t,e,i)=>Nb(t,e)||n.get(t,e,i),has:(t,e)=>!!Nb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(vC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function vC(n){return n.getComponent()?.type==="VERSION"}const ap="@firebase/app",Db="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new jp("@firebase/app"),bC="@firebase/app-compat",xC="@firebase/analytics-compat",TC="@firebase/analytics",wC="@firebase/app-check-compat",EC="@firebase/app-check",SC="@firebase/auth",AC="@firebase/auth-compat",RC="@firebase/database",CC="@firebase/data-connect",IC="@firebase/database-compat",MC="@firebase/functions",NC="@firebase/functions-compat",DC="@firebase/installations",OC="@firebase/installations-compat",kC="@firebase/messaging",VC="@firebase/messaging-compat",PC="@firebase/performance",LC="@firebase/performance-compat",jC="@firebase/remote-config",zC="@firebase/remote-config-compat",UC="@firebase/storage",BC="@firebase/storage-compat",FC="@firebase/firestore",HC="@firebase/ai",qC="@firebase/firestore-compat",GC="firebase",YC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",KC={[ap]:"fire-core",[bC]:"fire-core-compat",[TC]:"fire-analytics",[xC]:"fire-analytics-compat",[EC]:"fire-app-check",[wC]:"fire-app-check-compat",[SC]:"fire-auth",[AC]:"fire-auth-compat",[RC]:"fire-rtdb",[CC]:"fire-data-connect",[IC]:"fire-rtdb-compat",[MC]:"fire-fn",[NC]:"fire-fn-compat",[DC]:"fire-iid",[OC]:"fire-iid-compat",[kC]:"fire-fcm",[VC]:"fire-fcm-compat",[PC]:"fire-perf",[LC]:"fire-perf-compat",[jC]:"fire-rc",[zC]:"fire-rc-compat",[UC]:"fire-gcs",[BC]:"fire-gcs-compat",[FC]:"fire-fst",[qC]:"fire-fst-compat",[HC]:"fire-vertex","fire-js":"fire-js",[GC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,XC=new Map,lp=new Map;function Ob(n,t){try{n.container.addComponent(t)}catch(e){ks.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Da(n){const t=n.name;if(lp.has(t))return ks.debug(`There were multiple attempts to register component ${t}.`),!1;lp.set(t,n);for(const e of Af.values())Ob(e,n);for(const e of XC.values())Ob(e,n);return!0}function ed(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Qn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new nu("app","Firebase",$C);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=YC;function Iw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:op,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Cr.create("bad-app-name",{appName:String(r)});if(e||(e=Ew()),!e)throw Cr.create("no-options");const o=Af.get(r);if(o){if(Na(e,o.options)&&Na(i,o.config))return o;throw Cr.create("duplicate-app",{appName:r})}const c=new nC(r);for(const f of lp.values())c.addComponent(f);const h=new QC(e,i,c);return Af.set(r,h),h}function Up(n=op){const t=Af.get(n);if(!t&&n===op&&Ew())return Iw();if(!t)throw Cr.create("no-app",{appName:n});return t}function Yi(n,t,e){let i=KC[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ks.warn(c.join(" "));return}Da(new Dr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firebase-heartbeat-database",ZC=1,Uc="firebase-heartbeat-store";let Lg=null;function Mw(){return Lg||(Lg=gC(WC,ZC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Uc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Cr.create("idb-open",{originalErrorMessage:n.message})})),Lg}async function JC(n){try{const e=(await Mw()).transaction(Uc),i=await e.objectStore(Uc).get(Nw(n));return await e.done,i}catch(t){if(t instanceof ss)ks.warn(t.message);else{const e=Cr.create("idb-get",{originalErrorMessage:t?.message});ks.warn(e.message)}}}async function kb(n,t){try{const i=(await Mw()).transaction(Uc,"readwrite");await i.objectStore(Uc).put(t,Nw(n)),await i.done}catch(e){if(e instanceof ss)ks.warn(e.message);else{const i=Cr.create("idb-set",{originalErrorMessage:e?.message});ks.warn(i.message)}}}function Nw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=1024,eI=30;class nI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new sI(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Vb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>eI){const r=rI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ks.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Vb(),{heartbeatsToSend:e,unsentEntries:i}=iI(this._heartbeatsCache.heartbeats),r=Sf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return ks.warn(t),""}}}function Vb(){return new Date().toISOString().substring(0,10)}function iI(n,t=tI){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Pb(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Pb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class sI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qR()?GR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await JC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return kb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return kb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Pb(n){return Sf(JSON.stringify({version:2,heartbeats:n})).length}function rI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(n){Da(new Dr("platform-logger",t=>new _C(t),"PRIVATE")),Da(new Dr("heartbeat",t=>new nI(t),"PRIVATE")),Yi(ap,Db,n),Yi(ap,Db,"esm2020"),Yi("fire-js","")}aI("");var oI="firebase",lI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(oI,lI,"app");function Dw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cI=Dw,Ow=new nu("auth","Firebase",Dw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new jp("@firebase/auth");function uI(n,...t){Rf.logLevel<=jt.WARN&&Rf.warn(`Auth (${za}): ${n}`,...t)}function df(n,...t){Rf.logLevel<=jt.ERROR&&Rf.error(`Auth (${za}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n,...t){throw Fp(n,...t)}function _i(n,...t){return Fp(n,...t)}function Bp(n,t,e){const i={...cI(),[t]:e};return new nu("auth","Firebase",i).create(t,{appName:n.name})}function Ca(n){return Bp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hI(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&ts(n,"argument-error"),Bp(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Ow.create(n,...t)}function Et(n,t,...e){if(!n)throw Fp(t,...e)}function Ms(n){const t="INTERNAL ASSERTION FAILED: "+n;throw df(t),new Error(t)}function Vs(n,t){n||Ms(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){return typeof self<"u"&&self.location?.href||""}function fI(){return Lb()==="http:"||Lb()==="https:"}function Lb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fI()||UR()||"connection"in navigator)?navigator.onLine:!0}function mI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,e){this.shortDelay=t,this.longDelay=e,Vs(e>t,"Short delay should be less than long delay!"),this.isMobile=LR()||BR()}get(){return dI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n,t){Vs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yI=new su(3e4,6e4);function qp(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function al(n,t,e,i,r={}){return Vw(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=iu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return zR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ja(n.emulatorConfig.host)&&(m.credentials="include"),kw.fetch()(await Pw(n,n.config.apiHost,e,h),m)})}async function Vw(n,t,e){n._canInitEmulator=!1;const i={...gI,...t};try{const r=new vI(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw qh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw qh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw qh(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Bp(n,y,m);ts(n,y)}}catch(r){if(r instanceof ss)throw r;ts(n,"network-request-failed",{message:String(r)})}}async function _I(n,t,e,i,r={}){const o=await al(n,t,e,i,r);return"mfaPendingCredential"in o&&ts(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Pw(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Hp(n.config,r):`${n.config.apiScheme}://${r}`;return pI.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class vI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(_i(this.auth,"network-request-failed")),yI.get())})}}function qh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=_i(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(n,t){return al(n,"POST","/v1/accounts:delete",t)}async function Cf(n,t){return al(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xI(n,t=!1){const e=Vn(n),i=await e.getIdToken(t),r=Gp(i);Et(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Nc(jg(r.auth_time)),issuedAtTime:Nc(jg(r.iat)),expirationTime:Nc(jg(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function jg(n){return Number(n)*1e3}function Gp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const r=xw(e);return r?JSON.parse(r):(df("Failed to decode base64 JWT payload"),null)}catch(r){return df("Caught error parsing JWT payload as JSON",r?.toString()),null}}function jb(n){const t=Gp(n);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ss&&TI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function TI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(n){const t=n.auth,e=await n.getIdToken(),i=await Bc(n,Cf(t,{idToken:e}));Et(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?Lw(r.providerUserInfo):[],c=SI(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,m=h?f:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new up(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function EI(n){const t=Vn(n);await If(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SI(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Lw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(n,t){const e=await Vw(n,{},async()=>{const i=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await Pw(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&ja(n.emulatorConfig.host)&&(f.credentials="include"),kw.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function RI(n,t){return al(n,"POST","/v2/accounts:revokeToken",qp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=jb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await AI(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new qo;return i&&(Et(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(Et(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(Et(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(n,t){Et(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new wI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new up(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Bc(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return xI(this,t)}reload(){return EI(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await If(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Ca(this.auth));const t=await this.getIdToken();return await Bc(this,bI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:R,stsTokenManager:C}=e;Et(_&&C,t,"internal-error");const M=qo.fromJSON(this.name,C);Et(typeof _=="string",t,"internal-error"),_r(i,t.name),_r(r,t.name),Et(typeof b=="boolean",t,"internal-error"),Et(typeof w=="boolean",t,"internal-error"),_r(o,t.name),_r(c,t.name),_r(h,t.name),_r(f,t.name),_r(m,t.name),_r(y,t.name);const L=new gi({uid:_,auth:t,email:r,emailVerified:b,displayName:i,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:M,createdAt:m,lastLoginAt:y});return R&&Array.isArray(R)&&(L.providerData=R.map(B=>({...B}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(t,e,i=!1){const r=new qo;r.updateFromServerResponse(e);const o=new gi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await If(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Et(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Lw(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new qo;h.updateFromIdToken(i);const f=new gi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new up(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Map;function Ns(n){Vs(n instanceof Function,"Expected a class definition");let t=zb.get(n);return t?(Vs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,zb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}jw.type="NONE";const Ub=jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n,t,e){return`firebase:${n}:${t}:${e}`}class Go{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=mf(this.userKey,r.apiKey,o),this.fullPersistenceKey=mf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Cf(this.auth,{idToken:t}).catch(()=>{});return e?gi._fromGetAccountInfoResponse(this.auth,e,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Go(Ns(Ub),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Ns(Ub);const c=mf(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const b=await Cf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await gi._fromGetAccountInfoResponse(t,b,y)}else _=gi._fromJSON(t,y);m!==o&&(h=_),o=m;break}}catch{}const f=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Go(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Go(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qw(t))return"Blackberry";if(Gw(t))return"Webos";if(Uw(t))return"Safari";if((t.includes("chrome/")||Bw(t))&&!t.includes("edge/"))return"Chrome";if(Hw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function zw(n=hn()){return/firefox\//i.test(n)}function Uw(n=hn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Bw(n=hn()){return/crios\//i.test(n)}function Fw(n=hn()){return/iemobile/i.test(n)}function Hw(n=hn()){return/android/i.test(n)}function qw(n=hn()){return/blackberry/i.test(n)}function Gw(n=hn()){return/webos/i.test(n)}function Yp(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CI(n=hn()){return Yp(n)&&!!window.navigator?.standalone}function II(){return FR()&&document.documentMode===10}function Yw(n=hn()){return Yp(n)||Hw(n)||Gw(n)||qw(n)||/windows phone/i.test(n)||Fw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n,t=[]){let e;switch(n){case"Browser":e=Bb(hn());break;case"Worker":e=`${Bb(hn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${za}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(n,t={}){return al(n,"GET","/v2/passwordPolicy",qp(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=6;class OI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??DI,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new MI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ns(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Cf(this,{idToken:t}),i=await gi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await If(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(Ca(this));const e=t?Vn(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await NI(this),e=new OI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await RI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ns(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Ns(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Kw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&uI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nd(n){return Vn(n)}class Fb{constructor(t){this.auth=t,this.observer=null,this.addObserver=QR(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VI(n){Kp=n}function PI(n){return Kp.loadJS(n)}function LI(){return Kp.gapiScript}function jI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n,t){const e=ed(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Na(o,t??{}))return r;ts(r,"already-initialized")}return e.initialize({options:t})}function UI(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ns);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function BI(n,t,e){const i=nd(n);Et(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=Xw(t),{host:c,port:h}=FI(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Et(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Et(Na(m,i.config.emulator)&&Na(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,ja(c)?(Pp(`${o}//${c}${f}`),Lp("Auth",!0)):HI()}function Xw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function FI(n){const t=Xw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Hb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Hb(c)}}}function Hb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function HI(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ms("not implemented")}_getIdTokenResponse(t){return Ms("not implemented")}_linkToIdToken(t,e){return Ms("not implemented")}_getReauthenticationResolver(t){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n,t){return _I(n,"POST","/v1/accounts:signInWithIdp",qp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="http://localhost";class Oa extends $w{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ts("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Oa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Yo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Yo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Yo(t,e)}buildRequest(){const t={requestUri:qI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=iu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Xp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends ru{constructor(){super("facebook.com")}static credential(t){return Oa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return br.credential(t.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Oa._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Is.credentialFromTaggedObject(t)}static credentialFromError(t){return Is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Is.credential(e,i)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends ru{constructor(){super("github.com")}static credential(t){return Oa._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends ru{constructor(){super("twitter.com")}static credential(t,e){return Oa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Tr.credential(e,i)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await gi._fromIdTokenResponse(t,i,r),c=qb(i);return new Wo({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=qb(i);return new Wo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function qb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends ss{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Mf(t,e,i,r)}}function Qw(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(n,o,t,i):o})}async function GI(n,t,e=!1){const i=await Bc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Wo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,t,e=!1){const{auth:i}=n;if(Qn(i.app))return Promise.reject(Ca(i));const r="reauthenticate";try{const o=await Bc(n,Qw(i,r,t,n),e);Et(o.idToken,i,"internal-error");const c=Gp(o.idToken);Et(c,i,"internal-error");const{sub:h}=c;return Et(n.uid===h,i,"user-mismatch"),Wo._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ts(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(n,t,e=!1){if(Qn(n.app))return Promise.reject(Ca(n));const i="signIn",r=await Qw(n,i,t),o=await Wo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}function XI(n,t,e,i){return Vn(n).onIdTokenChanged(t,e,i)}function $I(n,t,e){return Vn(n).beforeAuthStateChanged(t,e)}function QI(n){return Vn(n).signOut()}const Nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=1e3,ZI=10;class Zw extends Ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);II()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,ZI):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},WI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Zw.type="LOCAL";const JI=Zw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw extends Ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Jw.type="SESSION";const tE=Jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new id(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await t2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=$p("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const b=_;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function n2(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function i2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s2(){return navigator?.serviceWorker?.controller||null}function r2(){return eE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="firebaseLocalStorageDb",a2=1,Df="firebaseLocalStorage",iE="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function sd(n,t){return n.transaction([Df],t?"readwrite":"readonly").objectStore(Df)}function o2(){const n=indexedDB.deleteDatabase(nE);return new au(n).toPromise()}function hp(){const n=indexedDB.open(nE,a2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Df,{keyPath:iE})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Df)?t(i):(i.close(),await o2(),t(await hp()))})})}async function Gb(n,t,e){const i=sd(n,!0).put({[iE]:t,value:e});return new au(i).toPromise()}async function l2(n,t){const e=sd(n,!1).get(t),i=await new au(e).toPromise();return i===void 0?null:i.value}function Yb(n,t){const e=sd(n,!0).delete(t);return new au(e).toPromise()}const c2=800,u2=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>u2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(r2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new e2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||s2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hp();return await Gb(t,Nf,"1"),await Yb(t,Nf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>l2(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Yb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=sd(r,!1).getAll();return new au(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const h2=sE;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n,t){return t?Ns(t):(Et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends $w{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Yo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Yo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function f2(n){return KI(n.auth,new Qp(n),n.bypassAuthState)}function d2(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),YI(e,new Qp(n),n.bypassAuthState)}async function m2(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),GI(e,new Qp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return f2;case"linkViaPopup":case"linkViaRedirect":return m2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:ts(this.auth,"internal-error")}}resolve(t){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new su(2e3,1e4);async function p2(n,t,e){if(Qn(n.app))return Promise.reject(_i(n,"operation-not-supported-in-this-environment"));const i=nd(n);hI(n,t,Xp);const r=rE(i,e);return new Ea(i,"signInViaPopup",t,r).executeNotNull()}class Ea extends aE{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const t=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,g2.get())};t()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="pendingRedirect",gf=new Map;class _2 extends aE{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=gf.get(this.auth._key());if(!t){try{const i=await v2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}gf.set(this.auth._key(),t)}return this.bypassAuthState||gf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v2(n,t){const e=T2(t),i=x2(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function b2(n,t){gf.set(n._key(),t)}function x2(n){return Ns(n._redirectPersistence)}function T2(n){return mf(y2,n.config.apiKey,n.name)}async function w2(n,t,e=!1){if(Qn(n.app))return Promise.reject(Ca(n));const i=nd(n),r=rE(i,t),c=await new _2(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=600*1e3;class S2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!A2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!oE(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(_i(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kb(t))}saveEventToCache(t){this.cachedEventUids.add(Kb(t)),this.lastProcessedEventTime=Date.now()}}function Kb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function oE({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function A2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(n,t={}){return al(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I2=/^https?/;async function M2(n){if(n.config.emulator)return;const{authorizedDomains:t}=await R2(n);for(const e of t)try{if(N2(e))return}catch{}ts(n,"unauthorized-domain")}function N2(n){const t=cp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!I2.test(e))return!1;if(C2.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new su(3e4,6e4);function Xb(){const n=Ki().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function O2(n){return new Promise((t,e)=>{function i(){Xb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xb(),e(_i(n,"network-request-failed"))},timeout:D2.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)i();else{const r=jI("iframefcb");return Ki()[r]=()=>{gapi.load?i():e(_i(n,"network-request-failed"))},PI(`${LI()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw pf=null,t})}let pf=null;function k2(n){return pf=pf||O2(n),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new su(5e3,15e3),P2="__/auth/iframe",L2="emulator/auth/iframe",j2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U2(n){const t=n.config;Et(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Hp(t,L2):`https://${n.config.authDomain}/${P2}`,i={apiKey:t.apiKey,appName:n.name,v:za},r=z2.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${iu(i).slice(1)}`}async function B2(n){const t=await k2(n),e=Ki().gapi;return Et(e,n,"internal-error"),t.open({where:document.body,url:U2(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j2,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=_i(n,"network-request-failed"),h=Ki().setTimeout(()=>{o(c)},V2.get());function f(){Ki().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H2=500,q2=600,G2="_blank",Y2="http://localhost";class $b{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(n,t,e,i=H2,r=q2){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...F2,width:i.toString(),height:r.toString(),top:o,left:c},m=hn().toLowerCase();e&&(h=Bw(m)?G2:e),zw(m)&&(t=t||Y2,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[w,R])=>`${b}${w}=${R},`,"");if(CI(m)&&h!=="_self")return X2(t||"",h),new $b(null);const _=window.open(t||"",h,y);Et(_,n,"popup-blocked");try{_.focus()}catch{}return new $b(_)}function X2(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="__/auth/handler",Q2="emulator/auth/handler",W2=encodeURIComponent("fac");async function Qb(n,t,e,i,r,o){Et(n.config.authDomain,n,"auth-domain-config-required"),Et(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:za,eventId:r};if(t instanceof Xp){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",$R(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof ru){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${W2}=${encodeURIComponent(f)}`:"";return`${Z2(n)}?${iu(h).slice(1)}${m}`}function Z2({config:n}){return n.emulator?Hp(n,Q2):`https://${n.authDomain}/${$2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="webStorageSupport";class J2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=w2,this._overrideRedirectResult=b2}async _openPopup(t,e,i,r){Vs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Qb(t,e,i,cp(),r);return K2(t,o,$p())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await Qb(t,e,i,cp(),r);return n2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Vs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await B2(t),i=new S2(t);return e.register("authEvent",r=>(Et(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(zg,{type:zg},r=>{const o=r?.[0]?.[zg];o!==void 0&&e(!!o),ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=M2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Yw()||Uw()||Yp()}}const tM=J2;var Wb="@firebase/auth",Zb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iM(n){Da(new Dr("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kw(n)},m=new kI(i,r,o,f);return UI(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Da(new Dr("auth-internal",t=>{const e=nd(t.getProvider("auth").getImmediate());return(i=>new eM(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(Wb,Zb,nM(n)),Yi(Wb,Zb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=300,rM=Sw("authIdTokenMaxAge")||sM;let Jb=null;const aM=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>rM)return;const r=e?.token;Jb!==r&&(Jb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function lE(n=Up()){const t=ed(n,"auth");if(t.isInitialized())return t.getImmediate();const e=zI(n,{popupRedirectResolver:tM,persistence:[h2,JI,tE]}),i=Sw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=aM(o.toString());$I(e,c,()=>c(e.currentUser)),XI(e,h=>c(h))}}const r=Tw("auth");return r&&BI(e,`http://${r}`),e}function oM(){return document.getElementsByTagName("head")?.[0]??document}VI({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=_i("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",oM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iM("Browser");var tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ir,cE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,A){function D(){}D.prototype=A.prototype,N.F=A.prototype,N.prototype=new D,N.prototype.constructor=N,N.D=function(P,O,j){for(var k=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)k[Dt-2]=arguments[Dt];return A.prototype[O].apply(P,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,A,D){D||(D=0);const P=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)P[O]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(O=0;O<16;++O)P[O]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=N.g[0],D=N.g[1],O=N.g[2];let j=N.g[3],k;k=A+(j^D&(O^j))+P[0]+3614090360&4294967295,A=D+(k<<7&4294967295|k>>>25),k=j+(O^A&(D^O))+P[1]+3905402710&4294967295,j=A+(k<<12&4294967295|k>>>20),k=O+(D^j&(A^D))+P[2]+606105819&4294967295,O=j+(k<<17&4294967295|k>>>15),k=D+(A^O&(j^A))+P[3]+3250441966&4294967295,D=O+(k<<22&4294967295|k>>>10),k=A+(j^D&(O^j))+P[4]+4118548399&4294967295,A=D+(k<<7&4294967295|k>>>25),k=j+(O^A&(D^O))+P[5]+1200080426&4294967295,j=A+(k<<12&4294967295|k>>>20),k=O+(D^j&(A^D))+P[6]+2821735955&4294967295,O=j+(k<<17&4294967295|k>>>15),k=D+(A^O&(j^A))+P[7]+4249261313&4294967295,D=O+(k<<22&4294967295|k>>>10),k=A+(j^D&(O^j))+P[8]+1770035416&4294967295,A=D+(k<<7&4294967295|k>>>25),k=j+(O^A&(D^O))+P[9]+2336552879&4294967295,j=A+(k<<12&4294967295|k>>>20),k=O+(D^j&(A^D))+P[10]+4294925233&4294967295,O=j+(k<<17&4294967295|k>>>15),k=D+(A^O&(j^A))+P[11]+2304563134&4294967295,D=O+(k<<22&4294967295|k>>>10),k=A+(j^D&(O^j))+P[12]+1804603682&4294967295,A=D+(k<<7&4294967295|k>>>25),k=j+(O^A&(D^O))+P[13]+4254626195&4294967295,j=A+(k<<12&4294967295|k>>>20),k=O+(D^j&(A^D))+P[14]+2792965006&4294967295,O=j+(k<<17&4294967295|k>>>15),k=D+(A^O&(j^A))+P[15]+1236535329&4294967295,D=O+(k<<22&4294967295|k>>>10),k=A+(O^j&(D^O))+P[1]+4129170786&4294967295,A=D+(k<<5&4294967295|k>>>27),k=j+(D^O&(A^D))+P[6]+3225465664&4294967295,j=A+(k<<9&4294967295|k>>>23),k=O+(A^D&(j^A))+P[11]+643717713&4294967295,O=j+(k<<14&4294967295|k>>>18),k=D+(j^A&(O^j))+P[0]+3921069994&4294967295,D=O+(k<<20&4294967295|k>>>12),k=A+(O^j&(D^O))+P[5]+3593408605&4294967295,A=D+(k<<5&4294967295|k>>>27),k=j+(D^O&(A^D))+P[10]+38016083&4294967295,j=A+(k<<9&4294967295|k>>>23),k=O+(A^D&(j^A))+P[15]+3634488961&4294967295,O=j+(k<<14&4294967295|k>>>18),k=D+(j^A&(O^j))+P[4]+3889429448&4294967295,D=O+(k<<20&4294967295|k>>>12),k=A+(O^j&(D^O))+P[9]+568446438&4294967295,A=D+(k<<5&4294967295|k>>>27),k=j+(D^O&(A^D))+P[14]+3275163606&4294967295,j=A+(k<<9&4294967295|k>>>23),k=O+(A^D&(j^A))+P[3]+4107603335&4294967295,O=j+(k<<14&4294967295|k>>>18),k=D+(j^A&(O^j))+P[8]+1163531501&4294967295,D=O+(k<<20&4294967295|k>>>12),k=A+(O^j&(D^O))+P[13]+2850285829&4294967295,A=D+(k<<5&4294967295|k>>>27),k=j+(D^O&(A^D))+P[2]+4243563512&4294967295,j=A+(k<<9&4294967295|k>>>23),k=O+(A^D&(j^A))+P[7]+1735328473&4294967295,O=j+(k<<14&4294967295|k>>>18),k=D+(j^A&(O^j))+P[12]+2368359562&4294967295,D=O+(k<<20&4294967295|k>>>12),k=A+(D^O^j)+P[5]+4294588738&4294967295,A=D+(k<<4&4294967295|k>>>28),k=j+(A^D^O)+P[8]+2272392833&4294967295,j=A+(k<<11&4294967295|k>>>21),k=O+(j^A^D)+P[11]+1839030562&4294967295,O=j+(k<<16&4294967295|k>>>16),k=D+(O^j^A)+P[14]+4259657740&4294967295,D=O+(k<<23&4294967295|k>>>9),k=A+(D^O^j)+P[1]+2763975236&4294967295,A=D+(k<<4&4294967295|k>>>28),k=j+(A^D^O)+P[4]+1272893353&4294967295,j=A+(k<<11&4294967295|k>>>21),k=O+(j^A^D)+P[7]+4139469664&4294967295,O=j+(k<<16&4294967295|k>>>16),k=D+(O^j^A)+P[10]+3200236656&4294967295,D=O+(k<<23&4294967295|k>>>9),k=A+(D^O^j)+P[13]+681279174&4294967295,A=D+(k<<4&4294967295|k>>>28),k=j+(A^D^O)+P[0]+3936430074&4294967295,j=A+(k<<11&4294967295|k>>>21),k=O+(j^A^D)+P[3]+3572445317&4294967295,O=j+(k<<16&4294967295|k>>>16),k=D+(O^j^A)+P[6]+76029189&4294967295,D=O+(k<<23&4294967295|k>>>9),k=A+(D^O^j)+P[9]+3654602809&4294967295,A=D+(k<<4&4294967295|k>>>28),k=j+(A^D^O)+P[12]+3873151461&4294967295,j=A+(k<<11&4294967295|k>>>21),k=O+(j^A^D)+P[15]+530742520&4294967295,O=j+(k<<16&4294967295|k>>>16),k=D+(O^j^A)+P[2]+3299628645&4294967295,D=O+(k<<23&4294967295|k>>>9),k=A+(O^(D|~j))+P[0]+4096336452&4294967295,A=D+(k<<6&4294967295|k>>>26),k=j+(D^(A|~O))+P[7]+1126891415&4294967295,j=A+(k<<10&4294967295|k>>>22),k=O+(A^(j|~D))+P[14]+2878612391&4294967295,O=j+(k<<15&4294967295|k>>>17),k=D+(j^(O|~A))+P[5]+4237533241&4294967295,D=O+(k<<21&4294967295|k>>>11),k=A+(O^(D|~j))+P[12]+1700485571&4294967295,A=D+(k<<6&4294967295|k>>>26),k=j+(D^(A|~O))+P[3]+2399980690&4294967295,j=A+(k<<10&4294967295|k>>>22),k=O+(A^(j|~D))+P[10]+4293915773&4294967295,O=j+(k<<15&4294967295|k>>>17),k=D+(j^(O|~A))+P[1]+2240044497&4294967295,D=O+(k<<21&4294967295|k>>>11),k=A+(O^(D|~j))+P[8]+1873313359&4294967295,A=D+(k<<6&4294967295|k>>>26),k=j+(D^(A|~O))+P[15]+4264355552&4294967295,j=A+(k<<10&4294967295|k>>>22),k=O+(A^(j|~D))+P[6]+2734768916&4294967295,O=j+(k<<15&4294967295|k>>>17),k=D+(j^(O|~A))+P[13]+1309151649&4294967295,D=O+(k<<21&4294967295|k>>>11),k=A+(O^(D|~j))+P[4]+4149444226&4294967295,A=D+(k<<6&4294967295|k>>>26),k=j+(D^(A|~O))+P[11]+3174756917&4294967295,j=A+(k<<10&4294967295|k>>>22),k=O+(A^(j|~D))+P[2]+718787259&4294967295,O=j+(k<<15&4294967295|k>>>17),k=D+(j^(O|~A))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+j&4294967295}i.prototype.v=function(N,A){A===void 0&&(A=N.length);const D=A-this.blockSize,P=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=D;)r(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(P[O++]=N.charCodeAt(j++),O==this.blockSize){r(this,P),O=0;break}}else for(;j<A;)if(P[O++]=N[j++],O==this.blockSize){r(this,P),O=0;break}}this.h=O,this.o+=A},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var D=N.length-8;D<N.length;++D)N[D]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)N[A++]=this.g[D]>>>P&255;return N};function o(N,A){var D=h;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=A(N)}function c(N,A){this.h=A;const D=[];let P=!0;for(let O=N.length-1;O>=0;O--){const j=N[O]|0;P&&j==A||(D[O]=j,P=!1)}this.g=D}var h={};function f(N){return-128<=N&&N<128?o(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return M(m(-N));const A=[];let D=1;for(let P=0;N>=D;P++)A[P]=N/D|0,D*=4294967296;return new c(A,0)}function y(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return M(y(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(A,8));let P=_;for(let j=0;j<N.length;j+=8){var O=Math.min(8,N.length-j);const k=parseInt(N.substring(j,j+O),A);O<8?(O=m(Math.pow(A,O)),P=P.j(O).add(m(k))):(P=P.j(D),P=P.add(m(k)))}return P}var _=f(0),b=f(1),w=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-M(this).m();let N=0,A=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);N+=(P>=0?P:4294967296+P)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(C(this))return"-"+M(this).toString(N);const A=m(Math.pow(N,6));var D=this;let P="";for(;;){const O=Z(D,A).g;D=L(D,O.j(A));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(N);if(D=O,R(D))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function C(N){return N.h==-1}n.l=function(N){return N=L(this,N),C(N)?-1:R(N)?0:1};function M(N){const A=N.g.length,D=[];for(let P=0;P<A;P++)D[P]=~N.g[P];return new c(D,~N.h).add(b)}n.abs=function(){return C(this)?M(this):this},n.add=function(N){const A=Math.max(this.g.length,N.g.length),D=[];let P=0;for(let O=0;O<=A;O++){let j=P+(this.i(O)&65535)+(N.i(O)&65535),k=(j>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);P=k>>>16,j&=65535,k&=65535,D[O]=k<<16|j}return new c(D,D[D.length-1]&-2147483648?-1:0)};function L(N,A){return N.add(M(A))}n.j=function(N){if(R(this)||R(N))return _;if(C(this))return C(N)?M(this).j(M(N)):M(M(this).j(N));if(C(N))return M(this.j(M(N)));if(this.l(w)<0&&N.l(w)<0)return m(this.m()*N.m());const A=this.g.length+N.g.length,D=[];for(var P=0;P<2*A;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<N.g.length;O++){const j=this.i(P)>>>16,k=this.i(P)&65535,Dt=N.i(O)>>>16,wt=N.i(O)&65535;D[2*P+2*O]+=k*wt,B(D,2*P+2*O),D[2*P+2*O+1]+=j*wt,B(D,2*P+2*O+1),D[2*P+2*O+1]+=k*Dt,B(D,2*P+2*O+1),D[2*P+2*O+2]+=j*Dt,B(D,2*P+2*O+2)}for(N=0;N<A;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=A;N<2*A;N++)D[N]=0;return new c(D,0)};function B(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function H(N,A){this.g=N,this.h=A}function Z(N,A){if(R(A))throw Error("division by zero");if(R(N))return new H(_,_);if(C(N))return A=Z(M(N),A),new H(M(A.g),M(A.h));if(C(A))return A=Z(N,M(A)),new H(M(A.g),A.h);if(N.g.length>30){if(C(N)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var D=b,P=A;P.l(N)<=0;)D=$(D),P=$(P);var O=st(D,1),j=st(P,1);for(P=st(P,2),D=st(D,2);!R(P);){var k=j.add(P);k.l(N)<=0&&(O=O.add(D),j=k),P=st(P,1),D=st(D,1)}return A=L(N,O.j(A)),new H(O,A)}for(O=_;N.l(A)>=0;){for(D=Math.max(1,Math.floor(N.m()/A.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=m(D),k=j.j(A);C(k)||k.l(N)>0;)D-=P,j=m(D),k=j.j(A);R(j)&&(j=b),O=O.add(j),N=L(N,k)}return new H(O,N)}n.B=function(N){return Z(this,N).h},n.and=function(N){const A=Math.max(this.g.length,N.g.length),D=[];for(let P=0;P<A;P++)D[P]=this.i(P)&N.i(P);return new c(D,this.h&N.h)},n.or=function(N){const A=Math.max(this.g.length,N.g.length),D=[];for(let P=0;P<A;P++)D[P]=this.i(P)|N.i(P);return new c(D,this.h|N.h)},n.xor=function(N){const A=Math.max(this.g.length,N.g.length),D=[];for(let P=0;P<A;P++)D[P]=this.i(P)^N.i(P);return new c(D,this.h^N.h)};function $(N){const A=N.g.length+1,D=[];for(let P=0;P<A;P++)D[P]=N.i(P)<<1|N.i(P-1)>>>31;return new c(D,N.h)}function st(N,A){const D=A>>5;A%=32;const P=N.g.length-D,O=[];for(let j=0;j<P;j++)O[j]=A>0?N.i(j+D)>>>A|N.i(j+D+1)<<32-A:N.i(j+D);return new c(O,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,cE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Ir=c}).apply(typeof tx<"u"?tx:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uE,wc,hE,yf,fp,fE,dE,mE;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var T=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var q=d[I];if(!(q in T))break t;T=T[q]}d=d[d.length-1],I=T[d],v=v(I),v!=I&&v!=null&&t(T,d,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(d){return d||function(v){var T=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&T.push([I,v[I]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,T){return d.call.apply(d.bind,arguments)}function m(d,v,T){return m=f,m.apply(null,arguments)}function y(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function _(d,v){function T(){}T.prototype=v.prototype,d.Z=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(I,q,Q){for(var lt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)lt[Ct-2]=arguments[Ct];return v.prototype[q].apply(I,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function w(d){const v=d.length;if(v>0){const T=Array(v);for(let I=0;I<v;I++)T[I]=d[I];return T}return[]}function R(d,v){for(let I=1;I<arguments.length;I++){const q=arguments[I];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=d.length||0;const Q=q.length||0;d.length=T+Q;for(let lt=0;lt<Q;lt++)d[T+lt]=q[lt]}else d.push(q)}}class C{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(d){c.setTimeout(()=>{throw d},0)}function L(){var d=N;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,T){const I=H.get();I.set(v,T),this.h?this.h.next=I:this.g=I,this.h=I}}var H=new C(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,st=!1,N=new B,A=()=>{const d=Promise.resolve(void 0);$=()=>{d.then(D)}};function D(){for(var d;d=L();){try{d.h.call(d.g)}catch(T){M(T)}var v=H;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}st=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return d})();function k(d){return/^[\s\xa0]*$/.test(d)}function Dt(d,v){O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(Dt,O),Dt.prototype.init=function(d,v){const T=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ot(d,v,T,I,q){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!I,this.ha=q,this.key=++X,this.da=this.fa=!1}function ft(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function bt(d,v,T){for(const I in d)v.call(T,d[I],I,d)}function Vt(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function z(d){const v={};for(const T in d)v[T]=d[T];return v}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(d,v){let T,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(T in I)d[T]=I[T];for(let Q=0;Q<tt.length;Q++)T=tt[Q],Object.prototype.hasOwnProperty.call(I,T)&&(d[T]=I[T])}}function ut(d){this.src=d,this.g={},this.h=0}ut.prototype.add=function(d,v,T,I,q){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const lt=xt(d,v,I,q);return lt>-1?(v=d[lt],T||(v.fa=!1)):(v=new ot(v,this.src,Q,!!I,q),v.fa=T,d.push(v)),v};function _t(d,v){const T=v.type;if(T in d.g){var I=d.g[T],q=Array.prototype.indexOf.call(I,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(I,q,1),Q&&(ft(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function xt(d,v,T,I){for(let q=0;q<d.length;++q){const Q=d[q];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==I)return q}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Pe={};function fe(d,v,T,I,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)fe(d,v[Q],T,I,q);return null}return T=ml(T),d&&d[wt]?d.J(v,T,h(I)?!!I.capture:!1,q):Br(d,v,T,!1,I,q)}function Br(d,v,T,I,q,Q){if(!v)throw Error("Invalid event type");const lt=h(q)?!!q.capture:!!q;let Ct=Fr(d);if(Ct||(d[Ft]=Ct=new ut(d)),T=Ct.add(v,T,I,lt,Q),T.proxy)return T;if(I=Ka(),T.proxy=I,I.src=d,I.listener=T,d.addEventListener)j||(q=lt),q===void 0&&(q=!1),d.addEventListener(v.toString(),I,q);else if(d.attachEvent)d.attachEvent(bi(v.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ka(){function d(T){return v.call(d.src,d.listener,T)}const v=fl;return d}function Xa(d,v,T,I,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Xa(d,v[Q],T,I,q);else I=h(I)?!!I.capture:!!I,T=ml(T),d&&d[wt]?(d=d.i,Q=String(v).toString(),Q in d.g&&(v=d.g[Q],T=xt(v,T,I,q),T>-1&&(ft(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete d.g[Q],d.h--)))):d&&(d=Fr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=xt(v,T,I,q)),(T=d>-1?v[d]:null)&&$a(T))}function $a(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[wt])_t(v.i,d);else{var T=d.type,I=d.proxy;v.removeEventListener?v.removeEventListener(T,I,d.capture):v.detachEvent?v.detachEvent(bi(T),I):v.addListener&&v.removeListener&&v.removeListener(I),(T=Fr(v))?(_t(T,d),T.h==0&&(T.src=null,v[Ft]=null)):ft(d)}}}function bi(d){return d in Pe?Pe[d]:Pe[d]="on"+d}function fl(d,v){if(d.da)d=!0;else{v=new Dt(v,this);const T=d.listener,I=d.ha||d.src;d.fa&&$a(d),d=T.call(I,v)}return d}function Fr(d){return d=d[Ft],d instanceof ut?d:null}var dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ml(d){return typeof d=="function"?d:(d[dl]||(d[dl]=function(v){return d.handleEvent(v)}),d[dl])}function Se(){P.call(this),this.i=new ut(this),this.M=this,this.G=null}_(Se,P),Se.prototype[wt]=!0,Se.prototype.removeEventListener=function(d,v,T,I){Xa(this,d,v,T,I)};function Le(d,v){var T,I=d.G;if(I)for(T=[];I;I=I.G)T.push(I);if(d=d.M,I=v.type||v,typeof v=="string")v=new O(v,d);else if(v instanceof O)v.target=v.target||d;else{var q=v;v=new O(I,d),ct(v,q)}q=!0;let Q,lt;if(T)for(lt=T.length-1;lt>=0;lt--)Q=v.g=T[lt],q=zs(Q,I,!0,v)&&q;if(Q=v.g=d,q=zs(Q,I,!0,v)&&q,q=zs(Q,I,!1,v)&&q,T)for(lt=0;lt<T.length;lt++)Q=v.g=T[lt],q=zs(Q,I,!1,v)&&q}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const T=d.g[v];for(let I=0;I<T.length;I++)ft(T[I]);delete d.g[v],d.h--}}this.G=null},Se.prototype.J=function(d,v,T,I){return this.i.add(String(d),v,!1,T,I)},Se.prototype.K=function(d,v,T,I){return this.i.add(String(d),v,!0,T,I)};function zs(d,v,T,I){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const lt=v[Q];if(lt&&!lt.da&&lt.capture==T){const Ct=lt.listener,be=lt.ha||lt.src;lt.fa&&_t(d.i,lt),q=Ct.call(be,I)!==!1&&q}}return q&&!I.defaultPrevented}function Id(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(d,v||0)}function gu(d){d.g=Id(()=>{d.g=null,d.i&&(d.i=!1,gu(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class dn extends P{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:gu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(d){P.call(this),this.h=d,this.g={}}_(Hr,P);var gl=[];function pl(d){bt(d.g,function(v,T){this.g.hasOwnProperty(T)&&$a(v)},d),d.g={}}Hr.prototype.N=function(){Hr.Z.N.call(this),pl(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=c.JSON.stringify,Md=c.JSON.parse,pu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function yu(){}function _u(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){O.call(this,"d")}_(Xe,O);function Pn(){O.call(this,"c")}_(Pn,O);var ve={},vu=null;function Qa(){return vu=vu||new Se}ve.Ia="serverreachability";function bu(d){O.call(this,ve.Ia,d)}_(bu,O);function xi(d){const v=Qa();Le(v,new bu(v))}ve.STAT_EVENT="statevent";function qr(d,v){O.call(this,ve.STAT_EVENT,d),this.stat=v}_(qr,O);function Ae(d){const v=Qa();Le(v,new qr(v,d))}ve.Ja="timingevent";function Ti(d,v){O.call(this,ve.Ja,d),this.size=v}_(Ti,O);function wi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Nd(d,v,T,I,q,Q){d.info(function(){if(d.g)if(Q){var lt="",Ct=Q.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var be=Ct[Kt].split("=");if(be.length>1){const de=be[0];be=be[1];const Un=de.split("_");lt=Un.length>=2&&Un[1]=="type"?lt+(de+"="+be+"&"):lt+(de+"=redacted&")}}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+v+`
`+T+`
`+lt})}function xu(d,v,T,I,q,Q,lt){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+v+`
`+T+`
`+Q+" "+lt})}function Ei(d,v,T,I){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Dd(d,T)+(I?" "+I:"")})}function Gr(d,v){d.info(function(){return"TIMEOUT: "+v})}ii.prototype.info=function(){};function Dd(d,v){if(!d.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var T=Q[d];if(!(T.length<2)){var I=T[1];if(Array.isArray(I)&&!(I.length<1)){var q=I[0];if(q!="noop"&&q!="stop"&&q!="close")for(let lt=1;lt<I.length;lt++)I[lt]=""}}}}return Us(Q)}catch{return v}}var Yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function Kr(){}_(Kr,yu),Kr.prototype.g=function(){return new XMLHttpRequest},_l=new Kr;function as(d){return encodeURIComponent(String(d))}function Tu(d){var v=1;d=d.split(":");const T=[];for(;v>0&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function si(d,v,T,I){this.j=d,this.i=v,this.l=T,this.S=I||1,this.V=new Hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Re={},qe={};function Si(d,v,T){d.M=1,d.A=Xr(Ie(v)),d.u=T,d.R=!0,Wa(d,null)}function Wa(d,v){d.F=Date.now(),Ai(d),d.B=Ie(d.A);var T=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),eo(T.i,"t",I),d.C=0,T=d.j.L,d.h=new ri,d.g=Lu(d.j,T?v:null,!d.u),d.P>0&&(d.O=new dn(m(d.Y,d,d.g),d.P)),v=d.V,T=d.g,I=d.ba;var q="readystatechange";Array.isArray(q)||(q&&(gl[0]=q.toString()),q=gl);for(let Q=0;Q<q.length;Q++){const lt=fe(T,q[Q],I||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=d.J?z(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),xi(),Nd(d.i,d.v,d.B,d.l,d.S,d.u)}si.prototype.ba=function(d){d=d.target;const v=this.O;v&&li(d)==3?v.j():this.Y(d)},si.prototype.Y=function(d){try{if(d==this.g)t:{const Ct=li(this.g),be=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||Ct!=4||be==7||(be==8||Kt<=0?xi(3):xi(2)),Ri(this);var v=this.g.ca();this.X=v;var T=Od(this);if(this.o=v==200,xu(this.i,this.v,this.B,this.l,this.S,Ct,v),this.o){if(this.U&&!this.L){e:{if(this.g){var I,q=this.g;if((I=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var Q=I;break e}}Q=null}if(d=Q)Ei(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,d);else{this.o=!1,this.m=3,Ae(12),An(this),Ln(this);break t}}if(this.R){d=!0;let de;for(;!this.K&&this.C<T.length;)if(de=Eu(this,T),de==qe){Ct==4&&(this.m=4,Ae(14),d=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Re){this.m=4,Ae(15),Ei(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Ei(this.i,this.l,de,null),Ci(this,de);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||T.length!=0||this.h.h||(this.m=1,Ae(16),d=!1),this.o=this.o&&d,!d)Ei(this.i,this.l,T,"[Invalid Chunked Response]"),An(this),Ln(this);else if(T.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ol(lt),lt.P=!0,Ae(11))}}else Ei(this.i,this.l,T,null),Ci(this,T);Ct==4&&An(this),this.o&&!this.K&&(Ct==4?Ou(this.j,this):(this.o=!1,Ai(this)))}else ls(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),An(this),Ln(this)}}}catch{}finally{}};function Od(d){if(!wu(d))return d.g.la();const v=$e(d.g);if(v==="")return"";let T="";const I=v.length,q=li(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return An(d),Ln(d),"";d.h.i=new c.TextDecoder}for(let Q=0;Q<I;Q++)d.h.h=!0,T+=d.h.i.decode(v[Q],{stream:!(q&&Q==I-1)});return v.length=0,d.h.g+=T,d.C=0,d.h.g}function wu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Eu(d,v){var T=d.C,I=v.indexOf(`
`,T);return I==-1?qe:(T=Number(v.substring(T,I)),isNaN(T)?Re:(I+=1,I+T>v.length?qe:(v=v.slice(I,I+T),d.C=I+T,v)))}si.prototype.cancel=function(){this.K=!0,An(this)};function Ai(d){d.T=Date.now()+d.H,Za(d,d.H)}function Za(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=wi(m(d.aa,d),v)}function Ri(d){d.D&&(c.clearTimeout(d.D),d.D=null)}si.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Gr(this.i,this.B),this.M!=2&&(xi(),Ae(17)),An(this),this.m=2,Ln(this)):Za(this,this.T-d)};function Ln(d){d.j.I==0||d.K||Ou(d.j,d)}function An(d){Ri(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,pl(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ci(d,v){try{var T=d.j;if(T.I!=0&&(T.g==d||Mi(T.h,d))){if(!d.L&&Mi(T.h,d)&&T.I==3){try{var I=T.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)ao(T),Xs(T);else break t;ea(T),Ae(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=wi(m(T.Va,T),6e3));Ii(T.h)<=1&&T.ta&&(T.ta=void 0)}else Pi(T,11)}else if((d.L||T.g==d)&&ao(T),!k(v))for(q=T.Ba.g.parse(v),v=0;v<q.length;v++){let Kt=q[v];const de=Kt[0];if(!(de<=T.K))if(T.K=de,Kt=Kt[1],T.I==2)if(Kt[0]=="c"){T.M=Kt[1],T.ba=Kt[2];const Un=Kt[3];Un!=null&&(T.ka=Un,T.j.info("VER="+T.ka));const Li=Kt[4];Li!=null&&(T.za=Li,T.j.info("SVER="+T.za));const ci=Kt[5];ci!=null&&typeof ci=="number"&&ci>0&&(I=1.5*ci,T.O=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const ui=d.g;if(ui){const na=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var Q=I.h;Q.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(xl(Q,Q.h),Q.h=null))}if(I.G){const oo=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(I.wa=oo,Wt(I.J,I.G,oo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),I=T;var lt=d;if(I.na=Pu(I,I.L?I.ba:null,I.W),lt.L){Tl(I.h,lt);var Ct=lt,be=I.O;be&&(Ct.H=be),Ct.D&&(Ri(Ct),Ai(Ct)),I.g=lt}else Nu(I);T.i.length>0&&Vi(T)}else Kt[0]!="stop"&&Kt[0]!="close"||Pi(T,7);else T.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Pi(T,7):Nl(T):Kt[0]!="noop"&&T.l&&T.l.qa(Kt),T.A=0)}}xi(4)}catch{}}var Ce=class{constructor(d,v){this.g=d,this.map=v}};function vl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ii(d){return d.h?1:d.g?d.g.size:0}function Mi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function xl(d,v){d.g?d.g.add(v):d.h=v}function Tl(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}vl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function wl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.G);return v}return w(d.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(d,v){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const I=d[T].indexOf("=");let q,Q=null;I>=0?(q=d[T].substring(0,I),Q=d[T].substring(I+1)):q=d[T],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Rn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Rn?(this.l=d.l,Ge(this,d.j),this.o=d.o,this.g=d.g,Bs(this,d.u),this.h=d.h,El(this,Iu(d.i)),this.m=d.m):d&&(v=String(d).match(Su))?(this.l=!1,Ge(this,v[1]||"",!0),this.o=Ni(v[2]||""),this.g=Ni(v[3]||"",!0),Bs(this,v[4]),this.h=Ni(v[5]||"",!0),El(this,v[6]||"",!0),this.m=Ni(v[7]||"")):(this.l=!1,this.i=new Hs(null,this.l))}Rn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push($r(v,to,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push($r(v,to,!0),"@"),d.push(as(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push($r(T,T.charAt(0)=="/"?Sl:Au,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",$r(T,Ru)),d.join("")},Rn.prototype.resolve=function(d){const v=Ie(this);let T=!!d.j;T?Ge(v,d.j):T=!!d.o,T?v.o=d.o:T=!!d.g,T?v.g=d.g:T=d.u!=null;var I=d.h;if(T)Bs(v,d.u);else if(T=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var q=v.h.lastIndexOf("/");q!=-1&&(I=v.h.slice(0,q+1)+I)}if(q=I,q==".."||q==".")I="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){I=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let lt=0;lt<q.length;){const Ct=q[lt++];Ct=="."?I&&lt==q.length&&Q.push(""):Ct==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),I&&lt==q.length&&Q.push("")):(Q.push(Ct),I=!0)}I=Q.join("/")}else I=q}return T?v.h=I:T=d.i.toString()!=="",T?El(v,Iu(d.i)):T=!!d.m,T&&(v.m=d.m),v};function Ie(d){return new Rn(d)}function Ge(d,v,T){d.j=T?Ni(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Bs(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function El(d,v,T){v instanceof Hs?(d.i=v,no(d.i,d.l)):(T||(v=$r(v,Fs)),d.i=new Hs(v,d.l))}function Wt(d,v,T){d.i.set(v,T)}function Xr(d){return Wt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ni(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $r(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,pn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function pn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var to=/[#\/\?@]/g,Au=/[#\?:]/g,Sl=/[#\?]/g,Fs=/[#\?@]/g,Ru=/#/g;function Hs(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function yn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ja(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Hs.prototype,n.add=function(d,v){yn(this),this.i=null,d=qs(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function Cu(d,v){yn(d),v=qs(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Al(d,v){return yn(d),v=qs(d,v),d.g.has(v)}n.forEach=function(d,v){yn(this),this.g.forEach(function(T,I){T.forEach(function(q){d.call(v,q,I,this)},this)},this)};function Rl(d,v){yn(d);let T=[];if(typeof v=="string")Al(d,v)&&(T=T.concat(d.g.get(qs(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)T=T.concat(d[v]);return T}n.set=function(d,v){return yn(this),this.i=null,d=qs(this,d),Al(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=Rl(this,d),d.length>0?String(d[0]):v):v};function eo(d,v,T){Cu(d,v),T.length>0&&(d.i=null,d.g.set(qs(d,v),w(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var T=v[I];const q=as(T);T=Rl(this,T);for(let Q=0;Q<T.length;Q++){let lt=q;T[Q]!==""&&(lt+="="+as(T[Q])),d.push(lt)}}return this.i=d.join("&")};function Iu(d){const v=new Hs;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function qs(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function no(d,v){v&&!d.j&&(yn(d),d.i=null,d.g.forEach(function(T,I){const q=I.toLowerCase();I!=q&&(Cu(this,I),eo(this,q,T))},d)),d.j=v}function ai(d,v){const T=new ii;if(c.Image){const I=new Image;I.onload=y(jn,T,"TestLoadImage: loaded",!0,v,I),I.onerror=y(jn,T,"TestLoadImage: error",!1,v,I),I.onabort=y(jn,T,"TestLoadImage: abort",!1,v,I),I.ontimeout=y(jn,T,"TestLoadImage: timeout",!1,v,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else v(!1)}function Cl(d,v){const T=new ii,I=new AbortController,q=setTimeout(()=>{I.abort(),jn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:I.signal}).then(Q=>{clearTimeout(q),Q.ok?jn(T,"TestPingServer: ok",!0,v):jn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),jn(T,"TestPingServer: error",!1,v)})}function jn(d,v,T,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(T)}catch{}}function Gs(){this.g=new pu}function Di(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Di,yu),Di.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(d,v){Se.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Qr,Se),n=Qr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,oi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;io(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function io(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ys(this):oi(this),this.readyState==3&&io(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Ys(this))},n.Na=function(d){this.g&&(this.response=d,Ys(this))},n.ga=function(){this.g&&Ys(this)};function Ys(d){d.readyState=4,d.l=null,d.j=null,d.B=null,oi(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function oi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function zn(d){let v="";return bt(d,function(T,I){v+=I,v+=":",v+=T,v+=`\r
`}),v}function Wr(d,v,T){t:{for(I in T){var I=!1;break t}I=!0}I||(T=zn(T),typeof d=="string"?T!=null&&as(T):Wt(d,v,T))}function ne(d){Se.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ne,Se);var Oi=/^https?$/i,Il=["POST","PUT"];n=ne.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){Zr(this,Q);return}if(d=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)T.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())T.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Il,v,void 0)>=0)||I||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of T)this.g.setRequestHeader(Q,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){Zr(this,Q)}};function Zr(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Ml(d),os(d)}function Ml(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Le(this,"complete"),Le(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Jr(this):this.Xa())},n.Xa=function(){Jr(this)};function Jr(d){if(d.h&&typeof o<"u"){if(d.v&&li(d)==4)setTimeout(d.Ca.bind(d),0);else if(Le(d,"readystatechange"),li(d)==4){d.h=!1;try{const Q=d.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var I;if(I=Q===0){let lt=String(d.D).match(Su)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),I=!Oi.test(lt?lt.toLowerCase():"")}T=I}if(T)Le(d,"complete"),Le(d,"success");else{d.o=6;try{var q=li(d)>2?d.g.statusText:""}catch{q=""}d.l=q+" ["+d.ca()+"]",Ml(d)}}finally{os(d)}}}}function os(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,v||Le(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function li(d){return d.g?d.g.readyState:0}n.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Md(v)}};function $e(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(d){const v={};d=(d.g&&li(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(k(d[I]))continue;var T=Tu(d[I]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[q]||[];v[q]=Q,Q.push(T)}Vt(v,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function Ks(d){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,d),this.Za=ki("retryDelaySeedMs",1e4,d),this.Ta=ki("forwardChannelMaxRetries",2,d),this.va=ki("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(d&&d.concurrentRequestLimit),this.Ba=new Gs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ks.prototype,n.ka=8,n.I=1,n.connect=function(d,v,T,I){Ae(0),this.W=d,this.H=v||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.J=Pu(this,null,this.W),Vi(this)};function Nl(d){if(so(d),d.I==3){var v=d.V++,T=Ie(d.J);if(Wt(T,"SID",d.M),Wt(T,"RID",v),Wt(T,"TYPE","terminate"),ta(d,T),v=new si(d,d.j,v),v.M=2,v.A=Xr(Ie(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=Lu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}Vu(d)}function Xs(d){d.g&&(Ol(d),d.g.cancel(),d.g=null)}function so(d){Xs(d),d.v&&(c.clearTimeout(d.v),d.v=null),ao(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Vi(d){if(!bl(d.h)&&!d.m){d.m=!0;var v=d.Ea;$||A(),st||($(),st=!0),N.add(v,d),d.D=0}}function ro(d,v){return Ii(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=wi(m(d.Ea,d,v),ku(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const q=new si(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=z(Q),ct(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Mu(this,q,v),T=Ie(this.J),Wt(T,"RID",d),Wt(T,"CVER",22),this.G&&Wt(T,"X-HTTP-Session-Id",this.G),ta(this,T),Q&&(this.R?v="headers="+as(zn(Q))+"&"+v:this.u&&Wr(T,this.u,Q)),xl(this.h,q),this.Ra&&Wt(T,"TYPE","init"),this.S?(Wt(T,"$req",v),Wt(T,"SID","null"),q.U=!0,Si(q,T,null)):Si(q,T,v),this.I=2}}else this.I==3&&(d?Dl(this,d):this.i.length==0||bl(this.h)||Dl(this))};function Dl(d,v){var T;v?T=v.l:T=d.V++;const I=Ie(d.J);Wt(I,"SID",d.M),Wt(I,"RID",T),Wt(I,"AID",d.K),ta(d,I),d.u&&d.o&&Wr(I,d.u,d.o),T=new si(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Mu(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),xl(d.h,T),Si(T,I,v)}function ta(d,v){d.H&&bt(d.H,function(T,I){Wt(v,I,T)}),d.l&&bt({},function(T,I){Wt(v,I,T)})}function Mu(d,v,T){T=Math.min(d.i.length,T);const I=d.l?m(d.l.Ka,d.l,d):null;t:{var q=d.i;let Ct=-1;for(;;){const be=["count="+T];Ct==-1?T>0?(Ct=q[0].g,be.push("ofs="+Ct)):Ct=0:be.push("ofs="+Ct);let Kt=!0;for(let de=0;de<T;de++){var Q=q[de].g;const Un=q[de].map;if(Q-=Ct,Q<0)Ct=Math.max(0,q[de].g-100),Kt=!1;else try{Q="req"+Q+"_"||"";try{var lt=Un instanceof Map?Un:Object.entries(Un);for(const[Li,ci]of lt){let ui=ci;h(ci)&&(ui=Us(ci)),be.push(Q+Li+"="+encodeURIComponent(ui))}}catch(Li){throw be.push(Q+"type="+encodeURIComponent("_badmap")),Li}}catch{I&&I(Un)}}if(Kt){lt=be.join("&");break t}}lt=void 0}return d=d.i.splice(0,T),v.G=d,lt}function Nu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;$||A(),st||($(),st=!0),N.add(v,d),d.A=0}}function ea(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=wi(m(d.Da,d),ku(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=wi(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Xs(this),Du(this))};function Ol(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Du(d){d.g=new si(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Ie(d.na);Wt(v,"RID","rpc"),Wt(v,"SID",d.M),Wt(v,"AID",d.K),Wt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Wt(v,"TO",d.ia),Wt(v,"TYPE","xmlhttp"),ta(d,v),d.u&&d.o&&Wr(v,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=Xr(Ie(v)),T.u=null,T.R=!0,Wa(T,d)}n.Va=function(){this.C!=null&&(this.C=null,Xs(this),ea(this),Ae(19))};function ao(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Ou(d,v){var T=null;if(d.g==v){ao(d),Ol(d),d.g=null;var I=2}else if(Mi(d.h,v))T=v.G,Tl(d.h,v),I=1;else return;if(d.I!=0){if(v.o)if(I==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var q=d.D;I=Qa(),Le(I,new Ti(I,T)),Vi(d)}else Nu(d);else if(q=v.m,q==3||q==0&&v.X>0||!(I==1&&ro(d,v)||I==2&&ea(d)))switch(T&&T.length>0&&(v=d.h,v.i=v.i.concat(T)),q){case 1:Pi(d,5);break;case 4:Pi(d,10);break;case 3:Pi(d,6);break;default:Pi(d,2)}}}function ku(d,v){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*v}function Pi(d,v){if(d.j.info("Error code "+v),v==2){var T=m(d.bb,d),I=d.Ua;const q=!I;I=new Rn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ge(I,"https"),Xr(I),q?ai(I.toString(),T):Cl(I.toString(),T)}else Ae(2);d.I=0,d.l&&d.l.pa(v),Vu(d),so(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Vu(d){if(d.I=0,d.ja=[],d.l){const v=wl(d.h);(v.length!=0||d.i.length!=0)&&(R(d.ja,v),R(d.ja,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.oa()}}function Pu(d,v,T){var I=T instanceof Rn?Ie(T):new Rn(T);if(I.g!="")v&&(I.g=v+"."+I.g),Bs(I,I.u);else{var q=c.location;I=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new Rn(null);I&&Ge(Q,I),v&&(Q.g=v),q&&Bs(Q,q),T&&(Q.h=T),I=Q}return T=d.G,v=d.wa,T&&v&&Wt(I,T,v),Wt(I,"VER",d.ka),ta(d,I),I}function Lu(d,v,T){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ne(new Di({ab:T})):new ne(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}n=ju.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function $s(){}$s.prototype.g=function(d,v){return new mn(d,v)};function mn(d,v){Se.call(this),this.g=new Ks(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!k(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new cs(this)}_(mn,Se),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Nl(this.g)},mn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=Us(d),d=T);v.i.push(new Ce(v.Ya++,d)),v.I==3&&Vi(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,mn.Z.N.call(this)};function zu(d){Xe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const T in v){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(zu,Xe);function Uu(){Pn.call(this),this.status=1}_(Uu,Pn);function cs(d){this.g=d}_(cs,ju),cs.prototype.ra=function(){Le(this.g,"a")},cs.prototype.qa=function(d){Le(this.g,new zu(d))},cs.prototype.pa=function(d){Le(this.g,new Uu)},cs.prototype.oa=function(){Le(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,mE=function(){return new $s},dE=function(){return Qa()},fE=ve,fp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yr.NO_ERROR=0,Yr.TIMEOUT=8,Yr.HTTP_ERROR=6,yf=Yr,yl.COMPLETE="complete",hE=yl,_u.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Se.prototype.listen=Se.prototype.J,wc=_u,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,uE=ne}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});const ex="@firebase/firestore",nx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new jp("@firebase/firestore");function Uo(){return ka.logLevel}function ht(n,...t){if(ka.logLevel<=jt.DEBUG){const e=t.map(Wp);ka.debug(`Firestore (${ol}): ${n}`,...e)}}function Ps(n,...t){if(ka.logLevel<=jt.ERROR){const e=t.map(Wp);ka.error(`Firestore (${ol}): ${n}`,...e)}}function Zo(n,...t){if(ka.logLevel<=jt.WARN){const e=t.map(Wp);ka.warn(`Firestore (${ol}): ${n}`,...e)}}function Wp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,gE(n,i,e)}function gE(n,t,e){let i=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ps(i),new Error(i)}function Qt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||gE(t,r,i)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends ss{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(on.UNAUTHENTICATED)))}shutdown(){}}class cM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class uM{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Os,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Os)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new pE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class hM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new hM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ix{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ix(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new ix(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=mM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function dp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Ug(r)===Ug(o)?zt(r,o):Ug(r)?1:-1}return zt(n.length,t.length)}const gM=55296,pM=57343;function Ug(n){const t=n.charCodeAt(0);return t>=gM&&t<=pM}function Jo(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="__name__";class Gi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Tt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Gi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Gi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return zt(t.length,e.length)}static compareSegments(t,e){const i=Gi.isNumericId(t),r=Gi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Gi.extractNumericId(t).compare(Gi.extractNumericId(e)):dp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class ue extends Gi{construct(t,e,i){return new ue(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const yM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Gi{construct(t,e,i){return new en(t,e,i)}static isValidIdentifier(t){return yM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sx}static keyField(){return new en([sx])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new gt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new gt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new gt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new gt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ue.fromString(t))}static fromName(t){return new yt(ue.fromString(t).popFirst(5))}static empty(){return new yt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n,t,e){if(!e)throw new gt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function _M(n,t,e,i){if(t===!0&&i===!0)throw new gt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function rx(n){if(!yt.isDocumentKey(n))throw new gt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ax(n){if(yt.isDocumentKey(n))throw new gt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _E(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Jp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function Or(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Jp(n);throw new gt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,t){const e={typeString:n};return t&&(e.value=t),e}function ou(n,t){if(!_E(n))throw new gt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new gt(rt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=-62135596800,lx=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*lx);return new he(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<ox)throw new gt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lx}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ou(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ox;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ve("string",he._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new he(0,0))}static max(){return new St(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function vM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new he(e+1,0):new he(e,i));return new kr(r,yt.empty(),t)}function bM(n){return new kr(n.readTime,n.key,Fc)}class kr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new kr(St.min(),yt.empty(),Fc)}static max(){return new kr(St.max(),yt.empty(),Fc)}}function xM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==TM)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,i)=>{e(t)}))}static reject(t){return new it(((e,i)=>{i(t)}))}static waitFor(t){return new it(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=it.resolve(!1);for(const i of t)e=e.next((r=>r?it.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new it(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((y=>{c[m]=y,++h,h===o&&i(c)}),(y=>r(y)))}}))}static doWhile(t,e){return new it(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function EM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function cl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-1;function ad(n){return n==null}function Of(n){return n===0&&1/n==-1/0}function SM(n){return typeof n=="number"&&Number.isInteger(n)&&!Of(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="";function AM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=cx(t)),t=RM(n.get(e),t);return cx(t)}function RM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case vE:e+="";break;default:e+=o}}return e}function cx(n){return n+vE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ua(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function bE(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yh(this.root,t,this.comparator,!0)}}class Yh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=r??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new tn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new hx(this.data.getIterator())}getIteratorFrom(t){return new hx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class hx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new pi([])}unionWith(t){let e=new He(en.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new pi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Jo(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xE("Invalid base64 string: "+o):o}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const CM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=CM.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(n.seconds),nanos:we(n.nanos)}}function we(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pr(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="server_timestamp",wE="__type__",EE="__previous_value__",SE="__local_write_time__";function ey(n){return(n?.mapValue?.fields||{})[wE]?.stringValue===TE}function od(n){const t=n.mapValue.fields[EE];return ey(t)?od(t):t}function Hc(n){const t=Vr(n.mapValue.fields[SE].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,e,i,r,o,c,h,f,m,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const kf="(default)";class qc{constructor(t,e){this.projectId=t,this.database=e||kf}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===kf}isEqual(t){return t instanceof qc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="__type__",MM="__max__",Kh={mapValue:{}},RE="__vector__",Vf="value";function Lr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ey(n)?4:DM(n)?9007199254740991:NM(n)?10:11:Tt(28295,{value:n})}function es(n,t){if(n===t)return!0;const e=Lr(n);if(e!==Lr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Hc(n).isEqual(Hc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Vr(r.timestampValue),h=Vr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Pr(r.bytesValue).isEqual(Pr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return we(r.geoPointValue.latitude)===we(o.geoPointValue.latitude)&&we(r.geoPointValue.longitude)===we(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return we(r.integerValue)===we(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=we(r.doubleValue),h=we(o.doubleValue);return c===h?Of(c)===Of(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Jo(n.arrayValue.values||[],t.arrayValue.values||[],es);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(ux(c)!==ux(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!es(c[f],h[f])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function Gc(n,t){return(n.values||[]).find((e=>es(e,t)))!==void 0}function tl(n,t){if(n===t)return 0;const e=Lr(n),i=Lr(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=we(o.integerValue||o.doubleValue),f=we(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return fx(n.timestampValue,t.timestampValue);case 4:return fx(Hc(n),Hc(t));case 5:return dp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Pr(o),f=Pr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=zt(h[m],f[m]);if(y!==0)return y}return zt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=zt(we(o.latitude),we(c.latitude));return h!==0?h:zt(we(o.longitude),we(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return dx(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[Vf]?.arrayValue,y=f[Vf]?.arrayValue,_=zt(m?.values?.length||0,y?.values?.length||0);return _!==0?_:dx(m,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Kh.mapValue&&c===Kh.mapValue)return 0;if(o===Kh.mapValue)return 1;if(c===Kh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const b=dp(f[_],y[_]);if(b!==0)return b;const w=tl(h[f[_]],m[y[_]]);if(w!==0)return w}return zt(f.length,y.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function fx(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=Vr(n),i=Vr(t),r=zt(e.seconds,i.seconds);return r!==0?r:zt(e.nanos,i.nanos)}function dx(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=tl(e[r],i[r]);if(o)return o}return zt(e.length,i.length)}function el(n){return mp(n)}function mp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Vr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Pr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=mp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${mp(e.fields[c])}`;return r+"}"})(n.mapValue):Tt(61005,{value:n})}function _f(n){switch(Lr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=od(n);return t?16+_f(t):16;case 5:return 2*n.stringValue.length;case 6:return Pr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+_f(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Ua(i.fields,((o,c)=>{r+=o.length+_f(c)})),r})(n.mapValue);default:throw Tt(13486,{value:n})}}function gp(n){return!!n&&"integerValue"in n}function ny(n){return!!n&&"arrayValue"in n}function mx(n){return!!n&&"nullValue"in n}function gx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vf(n){return!!n&&"mapValue"in n}function NM(n){return(n?.mapValue?.fields||{})[AE]?.stringValue===RE}function Dc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ua(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Dc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Dc(n.arrayValue.values[e]);return t}return{...n}}function DM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===MM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.value=t}static empty(){return new Wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!vf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dc(e)}setAll(t){let e=en.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Dc(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());vf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return es(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];vf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ua(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Wn(Dc(this.value))}}function CE(n){const t=[];return Ua(n.fields,((e,i)=>{const r=new en([e]);if(vf(i)){const o=CE(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new pi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ln(t,0,St.min(),St.min(),St.min(),Wn.empty(),0)}static newFoundDocument(t,e,i,r){return new ln(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new ln(t,2,e,St.min(),St.min(),Wn.empty(),0)}static newUnknownDocument(t,e){return new ln(t,3,e,St.min(),St.min(),Wn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,e){this.position=t,this.inclusive=e}}function px(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(c.referenceValue),e.key):i=tl(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function yx(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!es(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,e="asc"){this.field=t,this.dir=e}}function OM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{}class ze extends IE{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new VM(t,e,i):e==="array-contains"?new jM(t,i):e==="in"?new zM(t,i):e==="not-in"?new UM(t,i):e==="array-contains-any"?new BM(t,i):new ze(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new PM(t,i):new LM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(tl(e,this.value)):e!==null&&Lr(this.value)===Lr(e)&&this.matchesComparison(tl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends IE{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ns(t,e)}matches(t){return ME(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ME(n){return n.op==="and"}function NE(n){return kM(n)&&ME(n)}function kM(n){for(const t of n.filters)if(t instanceof ns)return!1;return!0}function pp(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+el(n.value);if(NE(n))return n.filters.map((t=>pp(t))).join(",");{const t=n.filters.map((e=>pp(e))).join(",");return`${n.op}(${t})`}}function DE(n,t){return n instanceof ze?(function(i,r){return r instanceof ze&&i.op===r.op&&i.field.isEqual(r.field)&&es(i.value,r.value)})(n,t):n instanceof ns?(function(i,r){return r instanceof ns&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&DE(c,r.filters[h])),!0):!1})(n,t):void Tt(19439)}function OE(n){return n instanceof ze?(function(e){return`${e.field.canonicalString()} ${e.op} ${el(e.value)}`})(n):n instanceof ns?(function(e){return e.op.toString()+" {"+e.getFilters().map(OE).join(" ,")+"}"})(n):"Filter"}class VM extends ze{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class PM extends ze{constructor(t,e){super(t,"in",e),this.keys=kE("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class LM extends ze{constructor(t,e){super(t,"not-in",e),this.keys=kE("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function kE(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class jM extends ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ny(e)&&Gc(e.arrayValue,this.value)}}class zM extends ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Gc(this.value.arrayValue,e)}}class UM extends ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Gc(this.value.arrayValue,e)}}class BM extends ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ny(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Gc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function _x(n,t=null,e=[],i=[],r=null,o=null,c=null){return new FM(n,t,e,i,r,o,c)}function iy(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>pp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),ad(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>el(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>el(i))).join(",")),t.Te=e}return t.Te}function sy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!OM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!DE(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!yx(n.startAt,t.startAt)&&yx(n.endAt,t.endAt)}function yp(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HM(n,t,e,i,r,o,c,h){return new ld(n,t,e,i,r,o,c,h)}function ry(n){return new ld(n)}function vx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qM(n){return n.collectionGroup!==null}function Oc(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new He(en.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Lf(o,i))})),e.has(en.keyField().canonicalString())||t.Ie.push(new Lf(en.keyField(),i))}return t.Ie}function Xi(n){const t=Rt(n);return t.Ee||(t.Ee=GM(t,Oc(n))),t.Ee}function GM(n,t){if(n.limitType==="F")return _x(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Lf(r.field,o)}));const e=n.endAt?new Pf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pf(n.startAt.position,n.startAt.inclusive):null;return _x(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function _p(n,t,e){return new ld(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function cd(n,t){return sy(Xi(n),Xi(t))&&n.limitType===t.limitType}function VE(n){return`${iy(Xi(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>OE(r))).join(", ")}]`),ad(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>el(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>el(r))).join(",")),`Target(${i})`})(Xi(n))}; limitType=${n.limitType})`}function ud(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Oc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const m=px(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,Oc(i),r)||i.endAt&&!(function(c,h,f){const m=px(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,Oc(i),r))})(n,t)}function YM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PE(n){return(t,e)=>{let i=!1;for(const r of Oc(n)){const o=KM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function KM(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?tl(f,m):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ua(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return bE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new ge(yt.comparator);function Ls(){return XM}const LE=new ge(yt.comparator);function Ec(...n){let t=LE;for(const e of n)t=t.insert(e.key,e);return t}function jE(n){let t=LE;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Sa(){return kc()}function zE(){return kc()}function kc(){return new Ba((n=>n.toString()),((n,t)=>n.isEqual(t)))}const $M=new ge(yt.comparator),QM=new He(yt.comparator);function Ut(...n){let t=QM;for(const e of n)t=t.add(e);return t}const WM=new He(zt);function ZM(){return WM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(t)?"-0":t}}function UE(n){return{integerValue:""+n}}function JM(n,t){return SM(t)?UE(t):ay(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function tN(n,t,e){return n instanceof jf?(function(r,o){const c={fields:{[wE]:{stringValue:TE},[SE]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ey(o)&&(o=od(o)),o&&(c.fields[EE]=o),{mapValue:c}})(e,t):n instanceof Yc?FE(n,t):n instanceof Kc?HE(n,t):(function(r,o){const c=BE(r,o),h=bx(c)+bx(r.Ae);return gp(c)&&gp(r.Ae)?UE(h):ay(r.serializer,h)})(n,t)}function eN(n,t,e){return n instanceof Yc?FE(n,t):n instanceof Kc?HE(n,t):e}function BE(n,t){return n instanceof zf?(function(i){return gp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class jf extends hd{}class Yc extends hd{constructor(t){super(),this.elements=t}}function FE(n,t){const e=qE(t);for(const i of n.elements)e.some((r=>es(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Kc extends hd{constructor(t){super(),this.elements=t}}function HE(n,t){let e=qE(t);for(const i of n.elements)e=e.filter((r=>!es(r,i)));return{arrayValue:{values:e}}}class zf extends hd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function bx(n){return we(n.integerValue||n.doubleValue)}function qE(n){return ny(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nN(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Yc&&r instanceof Yc||i instanceof Kc&&r instanceof Kc?Jo(i.elements,r.elements,es):i instanceof zf&&r instanceof zf?es(i.Ae,r.Ae):i instanceof jf&&r instanceof jf})(n.transform,t.transform)}class iN{constructor(t,e){this.version=t,this.transformResults=e}}class $i{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class fd{}function GE(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new oy(n.key,$i.none()):new lu(n.key,n.data,$i.none());{const e=n.data,i=Wn.empty();let r=new He(en.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Fa(n.key,i,new pi(r.toArray()),$i.none())}}function sN(n,t,e){n instanceof lu?(function(r,o,c){const h=r.value.clone(),f=Tx(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Fa?(function(r,o,c){if(!bf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Tx(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(YE(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Vc(n,t,e,i){return n instanceof lu?(function(o,c,h,f){if(!bf(o.precondition,c))return h;const m=o.value.clone(),y=wx(o.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof Fa?(function(o,c,h,f){if(!bf(o.precondition,c))return h;const m=wx(o.fieldTransforms,f,c),y=c.data;return y.setAll(YE(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,h){return bf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function rN(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=BE(i.transform,r||null);o!=null&&(e===null&&(e=Wn.empty()),e.set(i.field,o))}return e||null}function xx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Jo(i,r,((o,c)=>nN(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class lu extends fd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fa extends fd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YE(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function Tx(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,eN(c,h,e[r]))}return i}function wx(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,tN(o,c,t))}return i}class oy extends fd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aN extends fd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&sN(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Vc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Vc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=zE();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=GE(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(St.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Jo(this.mutations,t.mutations,((e,i)=>xx(e,i)))&&Jo(this.baseMutations,t.baseMutations,((e,i)=>xx(e,i)))}}class ly{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return $M})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new ly(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,Ht;function uN(n){switch(n){case rt.OK:return Tt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function KE(n){if(n===void 0)return Ps("GRPC error has no .code"),rt.UNKNOWN;switch(n){case ke.OK:return rt.OK;case ke.CANCELLED:return rt.CANCELLED;case ke.UNKNOWN:return rt.UNKNOWN;case ke.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case ke.INTERNAL:return rt.INTERNAL;case ke.UNAVAILABLE:return rt.UNAVAILABLE;case ke.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case ke.NOT_FOUND:return rt.NOT_FOUND;case ke.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case ke.ABORTED:return rt.ABORTED;case ke.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case ke.DATA_LOSS:return rt.DATA_LOSS;default:return Tt(39323,{code:n})}}(Ht=ke||(ke={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Ir([4294967295,4294967295],0);function Ex(n){const t=hN().encode(n),e=new cE;return e.update(t),new Uint8Array(e.digest())}function Sx(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ir([e,i],0),new Ir([r,o],0)]}class cy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Sc(`Invalid padding: ${e}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ir.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Ir.fromNumber(i)));return r.compare(fN)===1&&(r=new Ir([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Ex(t),[i,r]=Sx(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new cy(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=Ex(t),[i,r]=Sx(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,cu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new dd(St.min(),r,new ge(zt),Ls(),Ut())}}class cu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new cu(i,e,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class XE{constructor(t,e){this.targetId=t,this.Ce=e}}class $E{constructor(t,e,i=nn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Ax{constructor(){this.ve=0,this.Fe=Rx(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),i=Ut();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Tt(38017,{changeType:o})}})),new cu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=Rx()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ls(),this.Je=Xh(),this.He=Xh(),this.Ye=new ge(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(yp(o))if(i===0){const c=new yt(o.path);this.et(e,c,ln.newNoDocument(c,St.min()))}else Qt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=Pr(i).toUint8Array()}catch(f){if(f instanceof xE)return Zo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new cy(c,r,o)}catch(f){return Zo(f instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&yp(h.target)){const f=new yt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ln.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ut();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new dd(t,e,this.Ye,this.je,i);return this.je=Ls(),this.Je=Xh(),this.He=Xh(),this.Ye=new ge(zt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Ax,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new He(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new He(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ax),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Xh(){return new ge(yt.comparator)}function Rx(){return new ge(yt.comparator)}const mN={asc:"ASCENDING",desc:"DESCENDING"},gN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pN={and:"AND",or:"OR"};class yN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function vp(n,t){return n.useProto3Json||ad(t)?t:{value:t}}function Uf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QE(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function _N(n,t){return Uf(n,t.toTimestamp())}function Qi(n){return Qt(!!n,49232),St.fromTimestamp((function(e){const i=Vr(e);return new he(i.seconds,i.nanos)})(n))}function uy(n,t){return bp(n,t).canonicalString()}function bp(n,t){const e=(function(r){return new ue(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function WE(n){const t=ue.fromString(n);return Qt(nS(t),10190,{key:t.toString()}),t}function xp(n,t){return uy(n.databaseId,t.path)}function Bg(n,t){const e=WE(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(JE(e))}function ZE(n,t){return uy(n.databaseId,t)}function vN(n){const t=WE(n);return t.length===4?ue.emptyPath():JE(t)}function Tp(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JE(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Cx(n,t,e){return{name:xp(n,t),fields:e.value.mapValue.fields}}function bN(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Tt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?rt.UNKNOWN:KE(m.code);return new gt(y,m.message||"")})(c);e=new $E(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Bg(n,i.document.name),o=Qi(i.document.updateTime),c=i.document.createTime?Qi(i.document.createTime):St.min(),h=new Wn({mapValue:{fields:i.document.fields}}),f=ln.newFoundDocument(r,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];e=new xf(m,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Bg(n,i.document),o=i.readTime?Qi(i.readTime):St.min(),c=ln.newNoDocument(r,o),h=i.removedTargetIds||[];e=new xf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Bg(n,i.document),o=i.removedTargetIds||[];e=new xf([],o,r,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new cN(r,o),h=i.targetId;e=new XE(h,c)}}return e}function xN(n,t){let e;if(t instanceof lu)e={update:Cx(n,t.key,t.value)};else if(t instanceof oy)e={delete:xp(n,t.key)};else if(t instanceof Fa)e={update:Cx(n,t.key,t.data),updateMask:MN(t.fieldMask)};else{if(!(t instanceof aN))return Tt(16599,{Vt:t.type});e={verify:xp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof jf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Yc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Kc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Tt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:_N(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Tt(27497)})(n,t.precondition)),e}function TN(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?Qi(r.updateTime):Qi(o);return c.isEqual(St.min())&&(c=Qi(o)),new iN(c,r.transformResults||[])})(e,t)))):[]}function wN(n,t){return{documents:[ZE(n,t.path)]}}function EN(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=ZE(n,r);const o=(function(m){if(m.length!==0)return eS(ns.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((y=>(function(b){return{field:Fo(b.field),direction:RN(b.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=vp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:r}}function SN(n){let t=vN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(_){const b=tS(_);return b instanceof ns&&NE(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((b=>(function(R){return new Lf(Ho(R.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(b)))})(e.orderBy));let h=null;e.limit&&(h=(function(_){let b;return b=typeof _=="object"?_.value:_,ad(b)?null:b})(e.limit));let f=null;e.startAt&&(f=(function(_){const b=!!_.before,w=_.values||[];return new Pf(w,b)})(e.startAt));let m=null;return e.endAt&&(m=(function(_){const b=!_.before,w=_.values||[];return new Pf(w,b)})(e.endAt)),HM(t,r,c,o,h,"F",f,m)}function AN(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function tS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ho(e.unaryFilter.field);return ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ho(e.unaryFilter.field);return ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ho(e.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ho(e.unaryFilter.field);return ze.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ze.create(Ho(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ns.create(e.compositeFilter.filters.map((i=>tS(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function RN(n){return mN[n]}function CN(n){return gN[n]}function IN(n){return pN[n]}function Fo(n){return{fieldPath:n.canonicalString()}}function Ho(n){return en.fromServerFormat(n.fieldPath)}function eS(n){return n instanceof ze?(function(e){if(e.op==="=="){if(gx(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NAN"}};if(mx(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gx(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NOT_NAN"}};if(mx(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(e.field),op:CN(e.op),value:e.value}}})(n):n instanceof ns?(function(e){const i=e.getFilters().map((r=>eS(r)));return i.length===1?i[0]:{compositeFilter:{op:IN(e.op),filters:i}}})(n):Tt(54877,{filter:n})}function MN(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function nS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,e,i,r,o=St.min(),c=St.min(),h=nn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t){this.yt=t}}function DN(n){const t=SN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_p(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.Cn=new kN}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(kr.min())}updateCollectionGroup(t,e,i){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class kN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new He(ue.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new He(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iS=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(iS,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="LruGarbageCollector",VN=1048576;function Nx([n,t],[e,i]){const r=zt(n,e);return r===0?zt(t,i):r}class PN{constructor(t){this.Ir=t,this.buffer=new He(Nx),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Nx(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class LN{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(Mx,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){cl(e)?ht(Mx,"Ignoring IndexedDB error during garbage collection: ",e):await ll(e)}await this.Vr(3e5)}))}}class jN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(rd.ce);const i=new PN(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(Ix)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ix):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,c=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(m=Date.now(),Uo()<=jt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function zN(n,t){return new jN(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.changes=new Ba((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?it.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&Vc(i.mutation,r,pi.empty(),he.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ut()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ut()){const r=Sa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=Ec();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Sa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ut())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=Ls();const c=kc(),h=(function(){return kc()})();return e.forEach(((f,m)=>{const y=i.get(m.key);r.has(m.key)&&(y===void 0||y.mutation instanceof Fa)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Vc(y.mutation,m,y.mutation.getFieldMask(),he.now())):c.set(m.key,pi.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,y)=>c.set(m,y))),e.forEach(((m,y)=>h.set(m,new BN(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=kc();let r=new ge(((c,h)=>c-h)),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let y=i.get(f)||pi.empty();y=h.applyToLocalView(m,y),i.set(f,y);const _=(r.get(h.batchId)||Ut()).add(f);r=r.insert(h.batchId,_)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,_=zE();y.forEach((b=>{if(!o.has(b)){const w=GE(e.get(b),i.get(b));w!==null&&_.set(b,w),o=o.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,_))}return it.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):qM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):it.resolve(Sa());let h=Fc,f=o;return c.next((m=>it.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{f=f.insert(y,b)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,Ut()))).next((y=>({batchId:h,changes:jE(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((i=>{let r=Ec();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Ec();return this.indexManager.getCollectionParents(t,o).next((h=>it.forEach(h,(f=>{const m=(function(_,b){return new ld(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let h=Ec();return c.forEach(((f,m)=>{const y=o.get(f);y!==void 0&&Vc(y.mutation,m,pi.empty(),he.now()),ud(e,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return it.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Qi(r.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:DN(r.bundledQuery),readTime:Qi(r.readTime)}})(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.overlays=new ge(yt.comparator),this.qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Sa();return it.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),it.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),it.resolve()}getOverlaysForCollection(t,e,i){const r=Sa(),o=e.length+1,c=new yt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return it.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ge(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Sa(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Sa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=r)););return it.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new lN(e,i));let o=this.qr.get(e);o===void 0&&(o=Ut(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.Qr=new He(Ke.$r),this.Ur=new He(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Ke(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Ke(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new yt(new ue([])),i=new Ke(e,t),r=new Ke(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new ue([])),i=new Ke(e,t),r=new Ke(e,t+1);let o=Ut();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Ke(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ke{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ke.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new oN(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Ke(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,e){return it.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return it.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?ty:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ke(e,0),r=new Ke(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),it.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(zt);return e.forEach((r=>{const o=new Ke(r,0),c=new Ke(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),it.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const c=new Ke(new yt(o),0);let h=new He(zt);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(f.Yr)),!0)}),c),it.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return it.forEach(e.mutations,(r=>{const o=new Ke(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Ke(e,0),r=this.Zr.firstAfterOrEqual(i);return it.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t){this.ri=t,this.docs=(function(){return new ge(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return it.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(e))}getEntries(t,e){let i=Ls();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ln.newInvalidDocument(r))})),it.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ls();const c=e.path,h=new yt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||xM(bM(y),i)<=0||(r.has(y.key)||ud(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return it.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Tt(9500)}ii(t,e){return it.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new XN(this)}getSize(t){return it.resolve(this.size)}}class XN extends UN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),it.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t){this.persistence=t,this.si=new Ba((e=>iy(e)),sy),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new hy,this.targetCount=0,this.ai=nl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),it.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new nl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Pr(e),it.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),it.waitFor(o).next((()=>r))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return it.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),it.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),it.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return it.resolve(i)}containsKey(t,e){return it.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,e){this.ui={},this.overlays={},this.ci=new rd(0),this.li=!1,this.li=!0,this.hi=new GN,this.referenceDelegate=t(this),this.Pi=new $N(this),this.indexManager=new ON,this.remoteDocumentCache=(function(r){return new KN(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new NN(e),this.Ii=new HN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new qN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new YN(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new QN(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return it.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class QN extends wM{constructor(t){super(),this.currentSequenceNumber=t}}class fy{constructor(t){this.persistence=t,this.Ri=new hy,this.Vi=null}static mi(t){return new fy(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),it.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(i=>{const r=yt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,St.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Bf{constructor(t,e){this.persistence=t,this.pi=new Ba((i=>AM(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=zN(this,e)}static mi(t,e){return new Bf(t,e)}Ei(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return it.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?it.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,St.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=_f(t.data.value)),e}br(t,e,i){return it.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return it.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Ut(),r=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new dy(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HR()?8:EM(hn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new WN;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Uo()<=jt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Bo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Uo()<=jt.DEBUG&&ht("QueryEngine","Query:",Bo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Uo()<=jt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Bo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xi(e))):it.resolve())}ys(t,e){if(vx(e))return it.resolve(null);let i=Xi(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=_p(e,null,"F"),i=Xi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ut(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,_p(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,i,r){return vx(e)||r.isEqual(St.min())?it.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?it.resolve(null):(Uo()<=jt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bo(e)),this.vs(t,c,e,vM(r,Fc)).next((h=>h)))}))}Ds(t,e){let i=new He(PE(t));return e.forEach(((r,o)=>{ud(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Uo()<=jt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Bo(e)),this.ps.getDocumentsMatchingQuery(t,e,kr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="LocalStore",JN=3e8;class tD{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new ge(zt),this.xs=new Ba((o=>iy(o)),sy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new FN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function eD(n,t,e,i){return new tD(n,t,e,i)}async function rS(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Ut();for(const m of r){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function nD(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,y){const _=m.batch,b=_.keys();let w=it.resolve();return b.forEach((R=>{w=w.next((()=>y.getEntry(f,R))).next((C=>{const M=m.docVersions.get(R);Qt(M!==null,48541),C.version.compareTo(M)<0&&(_.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),y.addEntry(C)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ut();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function aS(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function iD(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((y,_)=>{const b=r.get(_);if(!b)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,_))));let w=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(nn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),r=r.insert(_,w),(function(C,M,L){return C.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=JN?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(b,w,y)&&h.push(e.Pi.updateTargetData(o,w))}));let f=Ls(),m=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(sD(o,c,t.documentUpdates).next((y=>{f=y.ks,m=y.qs}))),!i.isEqual(St.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return it.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function sD(n,t,e){let i=Ut(),r=Ut();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Ls();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(St.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ht(my,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function rD(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=ty),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function aD(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,it.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new wr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function wp(n,t,e){const i=Rt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!cl(c))throw c;ht(my,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function Dx(n,t,e){const i=Rt(n);let r=St.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,y){const _=Rt(f),b=_.xs.get(y);return b!==void 0?it.resolve(_.Ms.get(b)):_.Pi.getTargetData(m,y)})(i,c,Xi(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:St.min(),e?o:Ut()))).next((h=>(oD(i,YM(t),h),{documents:h,Qs:o})))))}function oD(n,t,e){let i=n.Os.get(t)||St.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class Ox{constructor(){this.activeTargetIds=ZM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lD{constructor(){this.Mo=new Ox,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ox,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="ConnectivityMonitor";class Vx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(kx,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(kx,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h=null;function Ep(){return $h===null?$h=(function(){return 268435456+Math.round(2147483648*Math.random())})():$h++,"0x"+$h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="RestConnection",uD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===kf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=Ep(),h=this.zo(t,e.toUriEncodedString());ht(Fg,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:m}=new URL(h),y=ja(m);return this.Jo(t,h,f,i,y).then((_=>(ht(Fg,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Zo(Fg,`RPC '${t}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=uD[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class dD extends hD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=Ep();return new Promise(((h,f)=>{const m=new uE;m.setWithCredentials(!0),m.listenOnce(hE.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case yf.NO_ERROR:const _=m.getResponseJson();ht(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),h(_);break;case yf.TIMEOUT:ht(rn,`RPC '${t}' ${c} timed out`),f(new gt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const b=m.getStatus();if(ht(rn,`RPC '${t}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const R=w?.error;if(R&&R.status&&R.message){const C=(function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(B)>=0?B:rt.UNKNOWN})(R.status);f(new gt(C,R.message))}else f(new gt(rt.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new gt(rt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ht(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(r);ht(rn,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",y,i,15)}))}T_(t,e,i){const r=Ep(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=mE(),h=dE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ht(rn,`Creating RPC '${t}' stream ${r}: ${y}`,f);const _=c.createWebChannel(y,f);this.I_(_);let b=!1,w=!1;const R=new fD({Yo:M=>{w?ht(rn,`Not sending because RPC '${t}' stream ${r} is closed:`,M):(b||(ht(rn,`Opening RPC '${t}' stream ${r} transport.`),_.open(),b=!0),ht(rn,`RPC '${t}' stream ${r} sending:`,M),_.send(M))},Zo:()=>_.close()}),C=(M,L,B)=>{M.listen(L,(H=>{try{B(H)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return C(_,wc.EventType.OPEN,(()=>{w||(ht(rn,`RPC '${t}' stream ${r} transport opened.`),R.o_())})),C(_,wc.EventType.CLOSE,(()=>{w||(w=!0,ht(rn,`RPC '${t}' stream ${r} transport closed`),R.a_(),this.E_(_))})),C(_,wc.EventType.ERROR,(M=>{w||(w=!0,Zo(rn,`RPC '${t}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),R.a_(new gt(rt.UNAVAILABLE,"The operation could not be completed")))})),C(_,wc.EventType.MESSAGE,(M=>{if(!w){const L=M.data[0];Qt(!!L,16349);const B=L,H=B?.error||B[0]?.error;if(H){ht(rn,`RPC '${t}' stream ${r} received error:`,H);const Z=H.status;let $=(function(A){const D=ke[A];if(D!==void 0)return KE(D)})(Z),st=H.message;$===void 0&&($=rt.INTERNAL,st="Unknown error status: "+Z+" with message "+H.message),w=!0,R.a_(new gt($,st)),_.close()}else ht(rn,`RPC '${t}' stream ${r} received:`,L),R.u_(L)}})),C(h,fE.STAT_EVENT,(M=>{M.stat===fp.PROXY?ht(rn,`RPC '${t}' stream ${r} detected buffering proxy`):M.stat===fp.NOPROXY&&ht(rn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){return new yN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="PersistentStream";class lS{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Ps(e.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new gt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(Px,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ht(Px,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mD extends lS{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=bN(this.serializer,t),i=(function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Qi(c.readTime):St.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Tp(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=yp(f)?{documents:wN(o,f)}:{query:EN(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=QE(o,c.resumeToken);const m=vp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(St.min())>0){h.readTime=Uf(o,c.snapshotVersion.toTimestamp());const m=vp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=AN(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Tp(this.serializer),e.removeTarget=t,this.q_(e)}}class gD extends lS{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=TN(t.writeResults,t.commitTime),i=Qi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Tp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>xN(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{}class yD extends pD{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new gt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,bp(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(rt.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,bp(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _D{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class vD{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ha(this)&&(ht(Va,"Restarting streams for network reachability change."),await(async function(f){const m=Rt(f);m.Ea.add(4),await uu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await gd(m)})(this))}))})),this.Ra=new _D(i,r)}}async function gd(n){if(Ha(n))for(const t of n.da)await t(!0)}async function uu(n){for(const t of n.da)await t(!1)}function cS(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),_y(e)?yy(e):ul(e).O_()&&py(e,t))}function gy(n,t){const e=Rt(n),i=ul(e);e.Ia.delete(t),i.O_()&&uS(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ha(e)&&e.Ra.set("Unknown"))}function py(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ul(n).Y_(t)}function uS(n,t){n.Va.Ue(t),ul(n).Z_(t)}function yy(n){n.Va=new dN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ul(n).start(),n.Ra.ua()}function _y(n){return Ha(n)&&!ul(n).x_()&&n.Ia.size>0}function Ha(n){return Rt(n).Ea.size===0}function hS(n){n.Va=void 0}async function bD(n){n.Ra.set("Online")}async function xD(n){n.Ia.forEach(((t,e)=>{py(n,t)}))}async function TD(n,t){hS(n),_y(n)?(n.Ra.ha(t),yy(n)):n.Ra.set("Unknown")}async function wD(n,t,e){if(n.Ra.set("Online"),t instanceof $E&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ht(Va,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ff(n,i)}else if(t instanceof xf?n.Va.Ze(t):t instanceof XE?n.Va.st(t):n.Va.tt(t),!e.isEqual(St.min()))try{const i=await aS(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),uS(o,f);const _=new wr(y.target,f,m,y.sequenceNumber);py(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ht(Va,"Failed to raise snapshot:",i),await Ff(n,i)}}async function Ff(n,t,e){if(!cl(t))throw t;n.Ea.add(1),await uu(n),n.Ra.set("Offline"),e||(e=()=>aS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(Va,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await gd(n)}))}function fS(n,t){return t().catch((e=>Ff(n,e,t)))}async function pd(n){const t=Rt(n),e=jr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ty;for(;ED(t);)try{const r=await rD(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,SD(t,r)}catch(r){await Ff(t,r)}dS(t)&&mS(t)}function ED(n){return Ha(n)&&n.Ta.length<10}function SD(n,t){n.Ta.push(t);const e=jr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function dS(n){return Ha(n)&&!jr(n).x_()&&n.Ta.length>0}function mS(n){jr(n).start()}async function AD(n){jr(n).ra()}async function RD(n){const t=jr(n);for(const e of n.Ta)t.ea(e.mutations)}async function CD(n,t,e){const i=n.Ta.shift(),r=ly.from(i,t,e);await fS(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await pd(n)}async function ID(n,t){t&&jr(n).X_&&await(async function(i,r){if((function(c){return uN(c)&&c!==rt.ABORTED})(r.code)){const o=i.Ta.shift();jr(i).B_(),await fS(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await pd(i)}})(n,t),dS(n)&&mS(n)}async function Lx(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ht(Va,"RemoteStore received new credentials");const i=Ha(e);e.Ea.add(3),await uu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await gd(e)}async function MD(n,t){const e=Rt(n);t?(e.Ea.delete(2),await gd(e)):t||(e.Ea.add(2),await uu(e),e.Ra.set("Unknown"))}function ul(n){return n.ma||(n.ma=(function(e,i,r){const o=Rt(e);return o.sa(),new mD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:bD.bind(null,n),t_:xD.bind(null,n),r_:TD.bind(null,n),H_:wD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),_y(n)?yy(n):n.Ra.set("Unknown")):(await n.ma.stop(),hS(n))}))),n.ma}function jr(n){return n.fa||(n.fa=(function(e,i,r){const o=Rt(e);return o.sa(),new gD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:AD.bind(null,n),r_:ID.bind(null,n),ta:RD.bind(null,n),na:CD.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await pd(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(Va,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new vy(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(n,t){if(Ps("AsyncQueue",`${t}: ${n}`),cl(n))return new gt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(t){return new Ko(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=Ec(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ko)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Ko;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.ga=new ge(yt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class il{constructor(t,e,i,r,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new il(t,e,Ko.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class DD{constructor(){this.queries=zx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=zx(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new gt(rt.ABORTED,"Firestore shutting down"))}}function zx(){return new Ba((n=>VE(n)),cd)}async function gS(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new ND,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=by(c,`Initialization of query '${Bo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&xy(e)}async function pS(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function OD(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&xy(e)}function kD(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function xy(n){n.Ca.forEach((t=>{t.next()}))}var Sp,Ux;(Ux=Sp||(Sp={})).Ma="default",Ux.Cache="cache";class yS{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new il(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t){this.key=t}}class vS{constructor(t){this.key=t}}class VD{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=PE(t),this.tu=new Ko(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new jx,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((y,_)=>{const b=r.get(y),w=ud(this.query,_)?_:null,R=!!b&&this.mutatedKeys.has(b.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let M=!1;b&&w?b.data.isEqual(w.data)?R!==C&&(i.track({type:3,doc:w}),M=!0):this.su(b,w)||(i.track({type:2,doc:w}),M=!0,(f&&this.eu(w,f)>0||m&&this.eu(w,m)<0)&&(h=!0)):!b&&w?(i.track({type:0,doc:w}),M=!0):b&&!w&&(i.track({type:1,doc:b}),M=!0,(f||m)&&(h=!0)),M&&(w?(c=c.add(w),o=C?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(w,R){const C=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:M})}};return C(w)-C(R)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new il(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new vS(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new _S(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ty="SyncEngine";class PD{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class LD{constructor(t){this.key=t,this.hu=!1}}class jD{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((h=>VE(h)),cd),this.Iu=new Map,this.Eu=new Set,this.du=new ge(yt.comparator),this.Au=new Map,this.Ru=new hy,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zD(n,t,e=!0){const i=SS(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await bS(i,t,e,!0),r}async function UD(n,t){const e=SS(n);await bS(e,t,!0,!1)}async function bS(n,t,e,i){const r=await aD(n.localStore,Xi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await BD(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&cS(n.remoteStore,r),h}async function BD(n,t,e,i,r){n.pu=(_,b,w)=>(async function(C,M,L,B){let H=M.view.ru(L);H.Cs&&(H=await Dx(C.localStore,M.query,!1).then((({documents:N})=>M.view.ru(N,H))));const Z=B&&B.targetChanges.get(M.targetId),$=B&&B.targetMismatches.get(M.targetId)!=null,st=M.view.applyChanges(H,C.isPrimaryClient,Z,$);return Fx(C,M.targetId,st.au),st.snapshot})(n,_,b,w);const o=await Dx(n.localStore,t,!0),c=new VD(t,o.Qs),h=c.ru(o.documents),f=cu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,f);Fx(n,e,m.au);const y=new PD(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function FD(n,t,e){const i=Rt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!cd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await wp(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&gy(i.remoteStore,r.targetId),Ap(i,r.targetId)})).catch(ll)):(Ap(i,r.targetId),await wp(i.localStore,r.targetId,!0))}async function HD(n,t){const e=Rt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),gy(e.remoteStore,i.targetId))}async function qD(n,t,e){const i=WD(n);try{const r=await(function(c,h){const f=Rt(c),m=he.now(),y=h.reduce(((w,R)=>w.add(R.key)),Ut());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let R=Ls(),C=Ut();return f.Ns.getEntries(w,y).next((M=>{R=M,R.forEach(((L,B)=>{B.isValidDocument()||(C=C.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,R))).next((M=>{_=M;const L=[];for(const B of h){const H=rN(B,_.get(B.key).overlayedDocument);H!=null&&L.push(new Fa(B.key,H,CE(H.value.mapValue),$i.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,L,h)})).next((M=>{b=M;const L=M.applyToLocalDocumentSet(_,C);return f.documentOverlayCache.saveOverlays(w,M.batchId,L)}))})).then((()=>({batchId:b.batchId,changes:jE(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new ge(zt)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(i,r.batchId,e),await hu(i,r.changes),await pd(i.remoteStore)}catch(r){const o=by(r,"Failed to persist write");e.reject(o)}}async function xS(n,t){const e=Rt(n);try{const i=await iD(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Qt(c.hu,14607):r.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await hu(e,i,t)}catch(i){await ll(i)}}function Bx(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Rt(c);f.onlineState=h;let m=!1;f.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(h)&&(m=!0)})),m&&xy(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function GD(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new ge(yt.comparator);c=c.insert(o,ln.newNoDocument(o,St.min()));const h=Ut().add(o),f=new dd(St.min(),new Map,new ge(zt),c,h);await xS(i,f),i.du=i.du.remove(o),i.Au.delete(t),wy(i)}else await wp(i.localStore,t,!1).then((()=>Ap(i,t,e))).catch(ll)}async function YD(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await nD(e.localStore,t);wS(e,i,null),TS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await hu(e,r)}catch(r){await ll(r)}}async function KD(n,t,e){const i=Rt(n);try{const r=await(function(c,h){const f=Rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next((_=>(Qt(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(m,_)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(i.localStore,t);wS(i,t,e),TS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await hu(i,r)}catch(r){await ll(r)}}function TS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function wS(n,t,e){const i=Rt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Ap(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||ES(n,i)}))}function ES(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(gy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),wy(n))}function Fx(n,t,e){for(const i of e)i instanceof _S?(n.Ru.addReference(i.key,t),XD(n,i)):i instanceof vS?(ht(Ty,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||ES(n,i.key)):Tt(19791,{wu:i})}function XD(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ht(Ty,"New document in limbo: "+e),n.Eu.add(i),wy(n))}function wy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(ue.fromString(t)),i=n.fu.next();n.Au.set(i,new LD(e)),n.du=n.du.insert(e,i),cS(n.remoteStore,new wr(Xi(ry(e.path)),i,"TargetPurposeLimboResolution",rd.ce))}}async function hu(n,t,e){const i=Rt(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(m){r.push(m);const y=dy.As(f.targetId,m);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,m){const y=Rt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>it.forEach(m,(b=>it.forEach(b.Es,(w=>y.persistence.referenceDelegate.addReference(_,b.targetId,w))).next((()=>it.forEach(b.ds,(w=>y.persistence.referenceDelegate.removeReference(_,b.targetId,w)))))))))}catch(_){if(!cl(_))throw _;ht(my,"Failed to update sequence numbers: "+_)}for(const _ of m){const b=_.targetId;if(!_.fromCache){const w=y.Ms.get(b),R=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(R);y.Ms=y.Ms.insert(b,C)}}})(i.localStore,o))}async function $D(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ht(Ty,"User change. New user:",t.toKey());const i=await rS(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new gt(rt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await hu(e,i.Ls)}}function QD(n,t){const e=Rt(n),i=e.Au.get(t);if(i&&i.hu)return Ut().add(i.key);{let r=Ut();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function SS(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=xS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GD.bind(null,t),t.Pu.H_=OD.bind(null,t.eventManager),t.Pu.yu=kD.bind(null,t.eventManager),t}function WD(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KD.bind(null,t),t}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=md(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return eD(this.persistence,new ZN,t.initialUser,this.serializer)}Cu(t){return new sS(fy.mi,this.serializer)}Du(t){return new lD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class ZD extends Hf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof Bf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new LN(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new sS((i=>Bf.mi(i,e)),this.serializer)}}class Rp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Bx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$D.bind(null,this.syncEngine),await MD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new DD})()}createDatastore(t){const e=md(t.databaseInfo.databaseId),i=(function(o){return new dD(o)})(t.databaseInfo);return(function(o,c,h,f){return new yD(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new vD(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>Bx(this.syncEngine,e,0)),(function(){return Vx.v()?new Vx:new cD})())}createSyncEngine(t,e){return(function(r,o,c,h,f,m,y){const _=new jD(r,o,c,h,f,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Rt(e);ht(Va,"RemoteStore shutting down."),i.Ea.add(5),await uu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class JD{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ht(zr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ht(zr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=by(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function qg(n,t){n.asyncQueue.verifyOperationInProgress(),ht(zr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await rS(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Hx(n,t){n.asyncQueue.verifyOperationInProgress();const e=await tO(n);ht(zr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Lx(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>Lx(t.remoteStore,r))),n._onlineComponents=t}async function tO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(zr,"Using user provided OfflineComponentProvider");try{await qg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Zo("Error using user provided cache. Falling back to memory cache: "+e),await qg(n,new Hf)}}else ht(zr,"Using default OfflineComponentProvider"),await qg(n,new ZD(void 0));return n._offlineComponents}async function RS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(zr,"Using user provided OnlineComponentProvider"),await Hx(n,n._uninitializedComponentsProvider._online)):(ht(zr,"Using default OnlineComponentProvider"),await Hx(n,new Rp))),n._onlineComponents}function eO(n){return RS(n).then((t=>t.syncEngine))}async function CS(n){const t=await RS(n),e=t.eventManager;return e.onListen=zD.bind(null,t.syncEngine),e.onUnlisten=FD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=UD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=HD.bind(null,t.syncEngine),e}function nO(n,t,e={}){const i=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const y=new AS({next:b=>{y.Nu(),c.enqueueAndForget((()=>pS(o,_)));const w=b.docs.has(h);!w&&b.fromCache?m.reject(new gt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&f&&f.source==="server"?m.reject(new gt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),_=new yS(ry(h.path),y,{includeMetadataChanges:!0,qa:!0});return gS(o,_)})(await CS(n),n.asyncQueue,t,e,i))),i.promise}function iO(n,t,e={}){const i=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const y=new AS({next:b=>{y.Nu(),c.enqueueAndForget((()=>pS(o,_))),b.fromCache&&f.source==="server"?m.reject(new gt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),_=new yS(h,y,{includeMetadataChanges:!0,qa:!0});return gS(o,_)})(await CS(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="firestore.googleapis.com",Gx=!0;class Yx{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MS,this.ssl=Gx}else this.host=t.host,this.ssl=t.ssl??Gx;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<VN)throw new gt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_M("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IS(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yd{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yx(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new lM;switch(i.type){case"firstParty":return new fM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=qx.get(e);i&&(ht("ComponentProvider","Removing Datastore"),qx.delete(e),i.terminate())})(this),Promise.resolve()}}function sO(n,t,e,i={}){n=Or(n,yd);const r=ja(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Pp(`https://${h}`),Lp("Firestore",!0)),o.host!==MS&&o.host!==h&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!Na(f,c)&&(n._setSettings(f),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=on.MOCK_USER;else{m=Aw(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new gt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}n._authCredentials=new cM(new pE(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _d(this.firestore,t,this._query)}}class Be{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(ou(e,Be._jsonSchema))return new Be(t,i||null,new yt(ue.fromString(e.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Ve("string",Be._jsonSchemaVersion),referencePath:Ve("string")};class Mr extends _d{constructor(t,e,i){super(t,e,ry(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new yt(t))}withConverter(t){return new Mr(this.firestore,t,this._path)}}function vd(n,t,...e){if(n=Vn(n),yE("collection","path",t),n instanceof yd){const i=ue.fromString(t,...e);return ax(i),new Mr(n,null,i)}{if(!(n instanceof Be||n instanceof Mr))throw new gt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return ax(i),new Mr(n.firestore,null,i)}}function qa(n,t,...e){if(n=Vn(n),arguments.length===1&&(t=Zp.newId()),yE("doc","path",t),n instanceof yd){const i=ue.fromString(t,...e);return rx(i),new Be(n,null,new yt(i))}{if(!(n instanceof Be||n instanceof Mr))throw new gt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return rx(i),new Be(n.firestore,n instanceof Mr?n.converter:null,new yt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="AsyncQueue";class Xx{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oS(this,"async_queue_retry"),this._c=()=>{const i=Hg();i&&ht(Kx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Hg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Hg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!cl(t))throw t;ht(Kx,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",$x(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=vy.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Tt(47125,{Pc:$x(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function $x(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class fu extends yd{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Xx,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Xx(t),this._firestoreClient=void 0,await t}}}function rO(n,t){const e=typeof n=="object"?n:Up(),i=typeof n=="string"?n:kf,r=ed(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=ww("firestore");o&&sO(r,...o)}return r}function Ey(n){if(n._terminated)throw new gt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aO(n),n._firestoreClient}function aO(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new IM(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,IS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new JD(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(nn.fromBase64String(t))}catch(e){throw new gt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Zn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ou(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ve("string",Zn._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(t){if(ou(t,Wi._jsonSchema))return new Wi(t.latitude,t.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Ve("string",Wi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ou(t,Zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Zi(t.vectorValues);throw new gt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Ve("string",Zi._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=/^__.*__$/;class lO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Fa(t,this.data,this.fieldMask,e,this.fieldTransforms):new lu(t,this.data,e,this.fieldTransforms)}}function DS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:n})}}class Ay{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ay({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(DS(this.Ac)&&oO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class cO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||md(t)}Cc(t,e,i,r=!1){return new Ay({Ac:t,methodName:e,Dc:i,path:en.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uO(n){const t=n._freezeSettings(),e=md(n._databaseId);return new cO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function hO(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);PS("Data must be an object, but it was:",c,i);const h=kS(i,c);let f,m;if(o.merge)f=new pi(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const b=fO(t,_,e);if(!c.contains(b))throw new gt(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);mO(y,b)||y.push(b)}f=new pi(y),m=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,m=c.fieldTransforms;return new lO(new Wn(h),f,m)}function OS(n,t){if(VS(n=Vn(n)))return PS("Unsupported field value:",t,n),kS(n,t);if(n instanceof NS)return(function(i,r){if(!DS(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=OS(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=he.fromDate(i);return{timestampValue:Uf(r.serializer,o)}}if(i instanceof he){const o=new he(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uf(r.serializer,o)}}if(i instanceof Wi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zn)return{bytesValue:QE(r.serializer,i._byteString)};if(i instanceof Be){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Zi)return(function(c,h){return{mapValue:{fields:{[AE]:{stringValue:RE},[Vf]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return ay(h.serializer,m)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Jp(i)}`)})(n,t)}function kS(n,t){const e={};return bE(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ua(n,((i,r)=>{const o=OS(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function VS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof he||n instanceof Wi||n instanceof Zn||n instanceof Be||n instanceof NS||n instanceof Zi)}function PS(n,t,e){if(!VS(e)||!_E(e)){const i=Jp(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function fO(n,t,e){if((t=Vn(t))instanceof Sy)return t._internalPath;if(typeof t=="string")return LS(n,t);throw qf("Field path arguments must be of type string or ",n,!1,void 0,e)}const dO=new RegExp("[~\\*/\\[\\]]");function LS(n,t,e){if(t.search(dO)>=0)throw qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Sy(...t.split("."))._internalPath}catch{throw qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new gt(rt.INVALID_ARGUMENT,h+n+f)}function mO(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(zS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class gO extends jS{data(){return super.data()}}function zS(n,t){return typeof t=="string"?LS(n,t):t instanceof Sy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yO{convertValue(t,e="none"){switch(Lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Pr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ua(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Vf].arrayValue?.values?.map((i=>we(i.doubleValue)));return new Zi(e)}convertGeoPoint(t){return new Wi(we(t.latitude),we(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=od(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Hc(t));default:return null}}convertTimestamp(t){const e=Vr(t);return new he(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ue.fromString(t);Qt(nS(i),9688,{name:t});const r=new qc(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return r.isEqual(e)||Ps(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Ac{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ia extends jS{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(zS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ia._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:Ve("string",Ia._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Tf extends Ia{data(t={}){return super.data(t)}}class Xo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ac(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Tf(this._firestore,this._userDataWriter,i.key,i,new Ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new Tf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ac(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Tf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ac(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:vO(h.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function vO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(n){n=Or(n,Be);const t=Or(n.firestore,fu);return nO(Ey(t),n._key).then((e=>xO(t,n,e)))}Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:Ve("string",Xo._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class US extends yO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}function bd(n){n=Or(n,_d);const t=Or(n.firestore,fu),e=Ey(t),i=new US(t);return pO(n._query),iO(e,n._query).then((r=>new Xo(t,i,n,r)))}function du(n,t,e){n=Or(n,Be);const i=Or(n.firestore,fu),r=_O(n.converter,t);return FS(i,[hO(uO(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,$i.none())])}function BS(n){return FS(Or(n.firestore,fu),[new oy(n._key,$i.none())])}function FS(n,t){return(function(i,r){const o=new Os;return i.asyncQueue.enqueueAndForget((async()=>qD(await eO(i),r,o))),o.promise})(Ey(n),t)}function xO(n,t,e){const i=e.docs.get(t._key),r=new US(n);return new Ia(n,r,t._key,i,new Ac(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){ol=r})(za),Da(new Dr("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new fu(new uM(i.getProvider("auth-internal")),new dM(c,i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new gt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(m.options.projectId,y)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Yi(ex,nx,t),Yi(ex,nx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firebasestorage.googleapis.com",TO="storageBucket",wO=120*1e3,EO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ss{constructor(t,e,i=0){super(Gg(t),`Firebase Storage: ${e} (${Gg(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rs.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Gg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var is;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(is||(is={}));function Gg(n){return"storage/"+n}function SO(){const n="An unknown error occurred, please check the error payload for server response.";return new rs(is.UNKNOWN,n)}function AO(){return new rs(is.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RO(){return new rs(is.CANCELED,"User canceled the upload/download.")}function CO(n){return new rs(is.INVALID_URL,"Invalid URL '"+n+"'.")}function IO(n){return new rs(is.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Qx(n){return new rs(is.INVALID_ARGUMENT,n)}function qS(){return new rs(is.APP_DELETED,"The Firebase app was deleted.")}function MO(n){return new rs(is.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=yi.makeFromUrl(t,e)}catch{return new yi(t,"")}if(i.path==="")return i;throw IO(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}const y="v[A-Za-z0-9_]+",_=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${y}/b/${r}/o${b}`,"i"),R={bucket:1,path:3},C=e===HS?"(?:storage.googleapis.com|storage.cloud.google.com)":e,M="([^?#]*)",L=new RegExp(`^https?://${C}/${r}/${M}`,"i"),H=[{regex:h,indices:f,postModify:o},{regex:w,indices:R,postModify:m},{regex:L,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<H.length;Z++){const $=H[Z],st=$.regex.exec(t);if(st){const N=st[$.indices.bucket];let A=st[$.indices.path];A||(A=""),i=new yi(N,A),$.postModify(i);break}}if(i==null)throw CO(t);return i}}class NO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let m=!1;function y(...M){m||(m=!0,t.apply(null,M))}function _(M){r=setTimeout(()=>{r=null,n(w,f())},M)}function b(){o&&clearTimeout(o)}function w(M,...L){if(m){b();return}if(M){b(),y.call(null,M,...L);return}if(f()||c){b(),y.call(null,M,...L);return}i<64&&(i*=2);let H;h===1?(h=2,H=0):H=(i+Math.random())*1e3,_(H)}let R=!1;function C(M){R||(R=!0,b(),!m&&(r!==null?(M||(h=2),clearTimeout(r),_(0)):M||(h=1)))}return _(0),o=setTimeout(()=>{c=!0,C(!0)},e),C}function OO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){return n!==void 0}function Wx(n,t,e,i){if(i<t)throw Qx(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Qx(`Invalid value for '${n}'. Expected ${e} or less.`)}function VO(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Gf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Gf||(Gf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t,e,i,r,o,c,h,f,m,y,_,b=!0,w=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,C)=>{this.resolve_=R,this.reject_=C,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Qh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Gf.NO_ERROR,f=o.getStatus();if(!h||PO(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Gf.ABORT;i(!1,new Qh(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Qh(m,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());kO(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=SO();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?qS():RO();c(f)}else{const f=AO();c(f)}};this.canceled_?e(!1,new Qh(!1,null,!0)):this.backoffId_=DO(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&OO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qh{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function jO(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function zO(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function UO(n,t){t&&(n["X-Firebase-GMPID"]=t)}function BO(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function FO(n,t,e,i,r,o,c=!0,h=!1){const f=VO(n.urlParams),m=n.url+f,y=Object.assign({},n.headers);return UO(y,t),jO(y,e),zO(y,o),BO(y,i),new LO(m,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function qO(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,e){this._service=t,e instanceof yi?this._location=e:this._location=yi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Yf(t,e)}get root(){const t=new yi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qO(this._location.path)}get storage(){return this._service}get parent(){const t=HO(this._location.path);if(t===null)return null;const e=new yi(this._location.bucket,t);return new Yf(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw MO(t)}}function Zx(n,t){const e=t?.[TO];return e==null?null:yi.makeFromBucketSpec(e,n)}function GO(n,t,e,i={}){n.host=`${t}:${e}`;const r=ja(t);r&&(Pp(`https://${n.host}/b`),Lp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Aw(o,n.app.options.projectId))}class YO{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=HS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wO,this._maxUploadRetryTime=EO,this._requests=new Set,r!=null?this._bucket=yi.makeFromBucketSpec(r,this._host):this._bucket=Zx(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=yi.makeFromBucketSpec(this._url,t):this._bucket=Zx(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Wx("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Wx("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Yf(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new NO(qS());{const c=FO(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const Jx="@firebase/storage",tT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="storage";function KO(n=Up(),t){n=Vn(n);const i=ed(n,GS).getImmediate({identifier:t}),r=ww("storage");return r&&XO(i,...r),i}function XO(n,t,e,i={}){GO(n,t,e,i)}function $O(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new YO(e,i,r,t,za)}function QO(){Da(new Dr(GS,$O,"PUBLIC").setMultipleInstances(!0)),Yi(Jx,tT,""),Yi(Jx,tT,"esm2020")}QO();const WO={apiKey:"AIzaSyBpLnEBDMz-FXoSYWN9EWsUuMAIu-Dpt9M",authDomain:"drivesense-7cac6.firebaseapp.com",projectId:"drivesense-7cac6",storageBucket:"drivesense-7cac6.firebasestorage.app",messagingSenderId:"751400174977",appId:"1:751400174977:web:c1d4109794ca4d41bb5480"},Ry=Iw(WO),ZO=lE(Ry),vi=rO(Ry);KO(Ry);const JO=({isLoggedIn:n,setIsLoggedIn:t,setUser:e})=>{const i=async()=>{const r=new Is;try{const c=(await p2(ZO,r)).user;e({displayName:c.displayName,email:c.email,photoURL:c.photoURL,uid:c.uid});const h=qa(vi,"users",c.uid);(await bO(h)).exists()||await du(h,{uid:c.uid,name:c.displayName,email:c.email,photoURL:c.photoURL,createdAt:new Date().toISOString()}),t(m=>!m),n&&console.log("Google Sign-In successful:",c)}catch(o){console.error("Google Sign-In error:",o)}};return E.jsxs("div",{className:`flex flex-row items-center justify-center px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)]  \r
            bg-[var(--blue-color)] text-[var(--light-color)] cursor-pointer rounded-full gap-[calc(0.2vw+0.3rem)] \r
            hover:bg-[var(--purple-color)] hover:text-[var(--dark-color)] transition duration-300 ease-in-out`,children:[E.jsx("i",{className:"bxl bx-google bx-tada-hover text-[calc(0.4vw+0.8rem)]"}),E.jsx("span",{onClick:i,className:"text-[calc(0.4vw+0.5rem)]",children:"Sign in with Google"})]})};function t4({isDark:n,setIsDark:t,isLoggedIn:e,setIsLoggedIn:i,setUser:r}){const o=fn(),[c,h]=at.useState(!1),[f,m]=at.useState(!1),y=()=>{m(_=>!_)};return E.jsxs("div",{className:`
            ${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[E.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&E.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(_=>!_)}),E.jsx("img",{src:Ra,className:"h-[calc(1.2vw+1.8rem)] w-[calc(1.2vw+1.8rem)] cursor-pointer hovered"}),E.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),!o&&E.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Home"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Features"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",onClick:()=>{window.open("https://github.com/Yureusu/DriveSense/actions")},children:"Github"})]}),E.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"}),E.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)] text-[calc(0.4vw+0.5rem)]":"text-[var(--light-color)] bg-[var(--dark-color)] text-[calc(0.4vw+0.5rem)]"}
                    px-[calc(0.4vw+0.6rem)] py-[calc(0.2vw+0.3rem)] rounded-md cursor-pointer
                    hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)] font-semibold`,onClick:()=>y(),children:"Sign In"}),f&&E.jsx("div",{className:"fade-in absolute top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:E.jsxs("div",{className:"h-[420px] w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-start relative rounded-xl rounded-tr-none",children:[E.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                            flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>m(_=>!_)}),E.jsxs("div",{className:"w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[E.jsx("img",{src:Ra,className:"h-[calc(1.2vw+1.8rem)] w-[calc(1.2vw+1.8rem)] cursor-pointer",alt:""}),E.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Sign in to your account"}),E.jsx(JO,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),E.jsx("span",{className:"text-[calc(0.4vw+0.5rem)]",children:"Or continue with"}),E.jsx("input",{type:"email",placeholder:"Email",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),E.jsx("input",{type:"password",placeholder:"Password",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),E.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,children:"Continue"}),E.jsxs("span",{className:"text-[calc(0.4vw+0.5rem)]",children:["Don't have an account?",E.jsx("span",{className:"text-[calc(0.4vw+0.5rem)] text-[var(--blue-color)] hovered cursor-pointer",children:" Sign Up"})]})]})]})}),E.jsx(_w,{isDark:n,setIsDark:t})]}),o&&c&&E.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:E.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[E.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(_=>!_)}),E.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Home"}),E.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Features"}),E.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Github"})]})})]})}const e4="/DriveSense/assets/car-img-DqpG-dY6.png",Wh=({icon:n,title:t,info:e,isDark:i})=>{const r=fn();return E.jsxs("div",{className:`
            ${r?"w-[152px] h-[240px]":"flex-1"}
            flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)] 
            p-[calc(0.4vw+0.6rem)] rounded-lg border border-[var(--border-color)]`,children:[n,E.jsx("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} font-semibold text-center`,children:t}),E.jsxs("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} text-center`,children:[e,"."]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function mu(n){return n+.5|0}const Er=(n,t,e)=>Math.max(Math.min(n,e),t);function Rc(n){return Er(mu(n*2.55),0,255)}function Nr(n){return Er(mu(n*255),0,255)}function Cs(n){return Er(mu(n/2.55)/100,0,1)}function eT(n){return Er(mu(n*100),0,100)}const $n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cp=[..."0123456789ABCDEF"],n4=n=>Cp[n&15],i4=n=>Cp[(n&240)>>4]+Cp[n&15],Zh=n=>(n&240)>>4===(n&15),s4=n=>Zh(n.r)&&Zh(n.g)&&Zh(n.b)&&Zh(n.a);function r4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&$n[n[1]]*17,g:255&$n[n[2]]*17,b:255&$n[n[3]]*17,a:t===5?$n[n[4]]*17:255}:(t===7||t===9)&&(e={r:$n[n[1]]<<4|$n[n[2]],g:$n[n[3]]<<4|$n[n[4]],b:$n[n[5]]<<4|$n[n[6]],a:t===9?$n[n[7]]<<4|$n[n[8]]:255})),e}const a4=(n,t)=>n<255?t(n):"";function o4(n){var t=s4(n)?n4:i4;return n?"#"+t(n.r)+t(n.g)+t(n.b)+a4(n.a,t):void 0}const l4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YS(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function c4(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function u4(n,t,e){const i=YS(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function h4(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Cy(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,m,y;return o!==c&&(y=o-c,m=h>.5?y/(2-o-c):y/(o+c),f=h4(e,i,r,y,o),f=f*60+.5),[f|0,m||0,h]}function Iy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Nr)}function My(n,t,e){return Iy(YS,n,t,e)}function f4(n,t,e){return Iy(u4,n,t,e)}function d4(n,t,e){return Iy(c4,n,t,e)}function KS(n){return(n%360+360)%360}function m4(n){const t=l4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Rc(+t[5]):Nr(+t[5]));const r=KS(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=f4(r,o,c):t[1]==="hsv"?i=d4(r,o,c):i=My(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function g4(n,t){var e=Cy(n);e[0]=KS(e[0]+t),e=My(e),n.r=e[0],n.g=e[1],n.b=e[2]}function p4(n){if(!n)return;const t=Cy(n),e=t[0],i=eT(t[1]),r=eT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Cs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const nT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},iT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function y4(){const n={},t=Object.keys(iT),e=Object.keys(nT);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,nT[o]);o=parseInt(iT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Jh;function _4(n){Jh||(Jh=y4(),Jh.transparent=[0,0,0,0]);const t=Jh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const v4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function b4(n){const t=v4.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Rc(c):Er(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Rc(i):Er(i,0,255)),r=255&(t[4]?Rc(r):Er(r,0,255)),o=255&(t[6]?Rc(o):Er(o,0,255)),{r:i,g:r,b:o,a:e}}}function x4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Cs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Yg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,jo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function T4(n,t,e){const i=jo(Cs(n.r)),r=jo(Cs(n.g)),o=jo(Cs(n.b));return{r:Nr(Yg(i+e*(jo(Cs(t.r))-i))),g:Nr(Yg(r+e*(jo(Cs(t.g))-r))),b:Nr(Yg(o+e*(jo(Cs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function tf(n,t,e){if(n){let i=Cy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=My(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function XS(n,t){return n&&Object.assign(t||{},n)}function sT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Nr(n[3]))):(t=XS(n,{r:0,g:0,b:0,a:1}),t.a=Nr(t.a)),t}function w4(n){return n.charAt(0)==="r"?b4(n):m4(n)}class Xc{constructor(t){if(t instanceof Xc)return t;const e=typeof t;let i;e==="object"?i=sT(t):e==="string"&&(i=r4(t)||_4(t)||w4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=XS(this._rgb);return t&&(t.a=Cs(t.a)),t}set rgb(t){this._rgb=sT(t)}rgbString(){return this._valid?x4(this._rgb):void 0}hexString(){return this._valid?o4(this._rgb):void 0}hslString(){return this._valid?p4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=T4(this._rgb,t._rgb,e)),this}clone(){return new Xc(this.rgb)}alpha(t){return this._rgb.a=Nr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=mu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return tf(this._rgb,2,t),this}darken(t){return tf(this._rgb,2,-t),this}saturate(t){return tf(this._rgb,1,t),this}desaturate(t){return tf(this._rgb,1,-t),this}rotate(t){return g4(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ss(){}const E4=(()=>{let n=0;return()=>n++})();function $t(n){return n==null}function Ue(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ti(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Fi(n,t){return ti(n)?n:t}function Nt(n,t){return typeof n>"u"?t:n}const S4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,$S=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ce(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,c;if(Ue(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Kf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Xf(n){if(Ue(n))return n.map(Xf);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Xf(n[e[r]]);return t}return n}function QS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function A4(n,t,e,i){if(!QS(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?$c(r,o,i):t[n]=Xf(o)}function $c(n,t,e){const i=Ue(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||A4;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let m=0,y=f.length;m<y;++m)o(f[m],n,c,e)}return n}function Pc(n,t){return $c(n,t,{merger:R4})}function R4(n,t,e){if(!QS(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?Pc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Xf(r))}const rT={"":n=>n,x:n=>n.x,y:n=>n.y};function C4(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function I4(n){const t=C4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Pa(n,t){return(rT[t]||(rT[t]=I4(t)))(n)}function Ny(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Qc=n=>typeof n<"u",Ur=n=>typeof n=="function",aT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function M4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ee=Math.PI,_e=2*ee,N4=_e+ee,$f=Number.POSITIVE_INFINITY,D4=ee/180,Fe=ee/2,_a=ee/4,oT=ee*2/3,WS=Math.log10,Ji=Math.sign;function Lc(n,t,e){return Math.abs(n-t)<e}function lT(n){const t=Math.round(n);n=Lc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(WS(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function O4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function k4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Wc(n){return!k4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function V4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function P4(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ds(n){return n*(ee/180)}function L4(n){return n*(180/ee)}function cT(n){if(!ti(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function ZS(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ee&&(o+=_e),{angle:o,distance:r}}function Ip(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function j4(n,t){return(n-t+N4)%_e-ee}function mi(n){return(n%_e+_e)%_e}function Zc(n,t,e,i){const r=mi(n),o=mi(t),c=mi(e),h=mi(o-r),f=mi(c-r),m=mi(r-o),y=mi(r-c);return r===o||r===c||i&&o===c||h>f&&m<y}function cn(n,t,e){return Math.max(t,Math.min(e,n))}function z4(n){return cn(n,-32768,32767)}function Sr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Dy(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Aa=(n,t,e,i)=>Dy(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),U4=(n,t,e)=>Dy(n,e,i=>n[i][t]>=e);function B4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const JS=["push","pop","shift","splice","unshift"];function F4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),JS.forEach(e=>{const i="_onData"+Ny(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function uT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(JS.forEach(o=>{delete n[o]}),delete n._chartjs)}function t1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const e1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function n1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,e1.call(window,()=>{i=!1,n.apply(t,e)}))}}function H4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Oy=n=>n==="start"?"left":n==="end"?"right":"center",an=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,q4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function G4(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:_,max:b,minDefined:w,maxDefined:R}=c.getUserBounds();if(w){if(r=Math.min(Aa(f,y,_).lo,e?i:Aa(t,y,c.getPixelForValue(_)).lo),m){const C=f.slice(0,r+1).reverse().findIndex(M=>!$t(M[h.axis]));r-=Math.max(0,C)}r=cn(r,0,i-1)}if(R){let C=Math.max(Aa(f,c.axis,b,!0).hi+1,e?0:Aa(t,y,c.getPixelForValue(b),!0).hi+1);if(m){const M=f.slice(C-1).findIndex(L=>!$t(L[h.axis]));C+=Math.max(0,M)}o=cn(C,r,i)-r}else o=i-r}return{start:r,count:o}}function Y4(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const ef=n=>n===0||n===1,hT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*_e/e)),fT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*_e/e)+1,jc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Fe)+1,easeOutSine:n=>Math.sin(n*Fe),easeInOutSine:n=>-.5*(Math.cos(ee*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ef(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ef(n)?n:hT(n,.075,.3),easeOutElastic:n=>ef(n)?n:fT(n,.075,.3),easeInOutElastic(n){return ef(n)?n:n<.5?.5*hT(n*2,.1125,.45):.5+.5*fT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-jc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?jc.easeInBounce(n*2)*.5:jc.easeOutBounce(n*2-1)*.5+.5};function ky(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function dT(n){return ky(n)?n:new Xc(n)}function Kg(n){return ky(n)?n:new Xc(n).saturate(.5).darken(.1).hexString()}const K4=["x","y","borderWidth","radius","tension"],X4=["color","borderColor","backgroundColor"];function $4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:X4},numbers:{type:"number",properties:K4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Q4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mT=new Map;function W4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=mT.get(e);return i||(i=new Intl.NumberFormat(n,t),mT.set(e,i)),i}function Vy(n,t,e){return W4(t,e).format(n)}const Z4={values(n){return Ue(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=J4(n,e)}const c=WS(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Vy(n,i,f)}};function J4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var i1={formatters:Z4};function tk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:i1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const La=Object.create(null),Mp=Object.create(null);function zc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Xg(n,t,e){return typeof t=="string"?$c(zc(n,t),e):$c(zc(n,""),t)}class ek{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Kg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Kg(r.borderColor),this.hoverColor=(i,r)=>Kg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Xg(this,t,e)}get(t){return zc(this,t)}describe(t,e){return Xg(Mp,t,e)}override(t,e){return Xg(La,t,e)}route(t,e,i,r){const o=zc(this,t),c=zc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[r];return qt(f)?Object.assign({},m,f):Nt(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ee=new ek({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$4,Q4,tk]);function nk(n){return!n||$t(n.size)||$t(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function gT(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function va(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function pT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Np(n,t,e,i){s1(n,t,e,i,null)}function s1(n,t,e,i,r){let o,c,h,f,m,y,_,b;const w=t.pointStyle,R=t.rotation,C=t.radius;let M=(R||0)*D4;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(M),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),w){default:r?n.ellipse(e,i,r/2,C,0,0,_e):n.arc(e,i,C,0,_e),n.closePath();break;case"triangle":y=r?r/2:C,n.moveTo(e+Math.sin(M)*y,i-Math.cos(M)*C),M+=oT,n.lineTo(e+Math.sin(M)*y,i-Math.cos(M)*C),M+=oT,n.lineTo(e+Math.sin(M)*y,i-Math.cos(M)*C),n.closePath();break;case"rectRounded":m=C*.516,f=C-m,c=Math.cos(M+_a)*f,_=Math.cos(M+_a)*(r?r/2-m:f),h=Math.sin(M+_a)*f,b=Math.sin(M+_a)*(r?r/2-m:f),n.arc(e-_,i-h,m,M-ee,M-Fe),n.arc(e+b,i-c,m,M-Fe,M),n.arc(e+_,i+h,m,M,M+Fe),n.arc(e-b,i+c,m,M+Fe,M+ee),n.closePath();break;case"rect":if(!R){f=Math.SQRT1_2*C,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}M+=_a;case"rectRot":_=Math.cos(M)*(r?r/2:C),c=Math.cos(M)*C,h=Math.sin(M)*C,b=Math.sin(M)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+b,i-c),n.lineTo(e+_,i+h),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":M+=_a;case"cross":_=Math.cos(M)*(r?r/2:C),c=Math.cos(M)*C,h=Math.sin(M)*C,b=Math.sin(M)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":_=Math.cos(M)*(r?r/2:C),c=Math.cos(M)*C,h=Math.sin(M)*C,b=Math.sin(M)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),M+=_a,_=Math.cos(M)*(r?r/2:C),c=Math.cos(M)*C,h=Math.sin(M)*C,b=Math.sin(M)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(M)*C,h=Math.sin(M)*C,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(r?r/2:C),i+Math.sin(M)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Jc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Py(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ly(n){n.restore()}function ik(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function sk(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function rk(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),$t(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function ak(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function ok(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function tu(n,t,e,i,r,o={}){const c=Ue(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=r.string,rk(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&ok(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),$t(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),ak(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function Qf(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ee,ee,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ee,Fe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Fe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Fe,!0),n.lineTo(e+c.topLeft,i)}const lk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ck=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uk(n,t){const e=(""+n).match(lk);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const hk=n=>+n||0;function jy(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>Nt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=hk(o(c));return e}function r1(n){return jy(n,{top:"y",right:"x",bottom:"y",left:"x"})}function $o(n){return jy(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ei(n){const t=r1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function un(n,t){n=n||{},t=t||Ee.font;let e=Nt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Nt(n.style,t.style);i&&!(""+i).match(ck)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Nt(n.family,t.family),lineHeight:uk(Nt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Nt(n.weight,t.weight),string:""};return r.string=nk(r),r}function nf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function fk(n,t,e){const{min:i,max:r}=n,o=$S(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Ga(n,t){return Object.assign(Object.create(n),t)}function zy(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=c1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>zy([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return o1(h,f,()=>bk(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return _T(h).includes(f)},ownKeys(h){return _T(h)},set(h,f,m){const y=h._storage||(h._storage=r());return h[f]=y[f]=m,delete h._keys,!0}})}function sl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:a1(n,i),setContext:o=>sl(n,o,e,i),override:o=>sl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return o1(o,c,()=>mk(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function a1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ur(e)?e:()=>e,isIndexable:Ur(i)?i:()=>i}}const dk=(n,t)=>n?n+Ny(t):t,Uy=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function o1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function mk(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Ur(h)&&c.isScriptable(t)&&(h=gk(t,h,n,e)),Ue(h)&&h.length&&(h=pk(t,h,n,c.isIndexable)),Uy(t,h)&&(h=sl(h,r,o&&o[t],c)),h}function gk(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),Uy(n,f)&&(f=By(r._scopes,r,n,f)),f}function pk(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,m=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const _=By(m,r,n,y);t.push(sl(_,o,c&&c[n],h))}}return t}function l1(n,t,e){return Ur(n)?n(t,e):n}const yk=(n,t)=>n===!0?t:typeof n=="string"?Pa(t,n):void 0;function _k(n,t,e,i,r){for(const o of t){const c=yk(e,o);if(c){n.add(c);const h=l1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function By(n,t,e,i){const r=t._rootScopes,o=l1(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=yT(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=yT(h,c,o,f,i),f===null)?!1:zy(Array.from(h),[""],r,o,()=>vk(t,e,i))}function yT(n,t,e,i,r){for(;e;)e=_k(n,t,e,i,r);return e}function vk(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Ue(r)&&qt(e)?e:r||{}}function bk(n,t,e,i){let r;for(const o of t)if(r=c1(dk(o,n),e),typeof r<"u")return Uy(n,r)?By(e,i,n,r):r}function c1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function _T(n){let t=n._keys;return t||(t=n._keys=xk(n._scopes)),t}function xk(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const Tk=Number.EPSILON||1e-14,rl=(n,t)=>t<n.length&&!n[t].skip&&n[t],u1=n=>n==="x"?"y":"x";function wk(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=Ip(o,r),f=Ip(c,o);let m=h/(h+f),y=f/(h+f);m=isNaN(m)?0:m,y=isNaN(y)?0:y;const _=i*m,b=i*y;return{previous:{x:o.x-_*(c.x-r.x),y:o.y-_*(c.y-r.y)},next:{x:o.x+b*(c.x-r.x),y:o.y+b*(c.y-r.y)}}}function Ek(n,t,e){const i=n.length;let r,o,c,h,f,m=rl(n,0);for(let y=0;y<i-1;++y)if(f=m,m=rl(n,y+1),!(!f||!m)){if(Lc(t[y],0,Tk)){e[y]=e[y+1]=0;continue}r=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=r*c*t[y],e[y+1]=o*c*t[y])}}function Sk(n,t,e="x"){const i=u1(e),r=n.length;let o,c,h,f=rl(n,0);for(let m=0;m<r;++m){if(c=h,h=f,f=rl(n,m+1),!h)continue;const y=h[e],_=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=_-o*t[m]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=_+o*t[m])}}function Ak(n,t="x"){const e=u1(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,m=rl(n,0);for(c=0;c<i;++c)if(h=f,f=m,m=rl(n,c+1),!!f){if(m){const y=m[t]-f[t];r[c]=y!==0?(m[e]-f[e])/y:0}o[c]=h?m?Ji(r[c-1])!==Ji(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}Ek(n,r,o),Sk(n,o,t)}function sf(n,t,e){return Math.max(Math.min(n,e),t)}function Rk(n,t){let e,i,r,o,c,h=Jc(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&Jc(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=sf(r.cp1x,t.left,t.right),r.cp1y=sf(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=sf(r.cp2x,t.left,t.right),r.cp2y=sf(r.cp2y,t.top,t.bottom)))}function Ck(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")Ak(n,r);else{let m=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=wk(m,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,m=h}t.capBezierPoints&&Rk(n,e)}function Fy(){return typeof window<"u"&&typeof document<"u"}function Hy(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Wf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const xd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Ik(n,t){return xd(n).getPropertyValue(t)}const Mk=["top","right","bottom","left"];function Ma(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=Mk[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Nk=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Dk(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(Nk(r,o,n.target))h=r,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function Ta(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=xd(e),o=r.boxSizing==="border-box",c=Ma(r,"padding"),h=Ma(r,"border","width"),{x:f,y:m,box:y}=Dk(n,e),_=c.left+(y&&h.left),b=c.top+(y&&h.top);let{width:w,height:R}=t;return o&&(w-=c.width+h.width,R-=c.height+h.height),{x:Math.round((f-_)/w*e.width/i),y:Math.round((m-b)/R*e.height/i)}}function Ok(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&Hy(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=xd(o),f=Ma(h,"border","width"),m=Ma(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=Wf(h.maxWidth,o,"clientWidth"),r=Wf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||$f,maxHeight:r||$f}}const rf=n=>Math.round(n*10)/10;function kk(n,t,e,i){const r=xd(n),o=Ma(r,"margin"),c=Wf(r.maxWidth,n,"clientWidth")||$f,h=Wf(r.maxHeight,n,"clientHeight")||$f,f=Ok(n,t,e);let{width:m,height:y}=f;if(r.boxSizing==="content-box"){const b=Ma(r,"border","width"),w=Ma(r,"padding");m-=w.width+b.width,y-=w.height+b.height}return m=Math.max(0,m-o.width),y=Math.max(0,i?m/i:y-o.height),m=rf(Math.min(m,c,f.maxWidth)),y=rf(Math.min(y,h,f.maxHeight)),m&&!y&&(y=rf(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,m=rf(Math.floor(y*i))),{width:m,height:y}}function vT(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Vk=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Fy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function bT(n,t){const e=Ik(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wa(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Pk(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Lk(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=wa(n,r,e),h=wa(r,o,e),f=wa(o,t,e),m=wa(c,h,e),y=wa(h,f,e);return wa(m,y,e)}const jk=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},zk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Qo(n,t,e){return n?jk(t,e):zk()}function h1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function f1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function d1(n){return n==="angle"?{between:Zc,compare:j4,normalize:mi}:{between:Sr,compare:(t,e)=>t-e,normalize:t=>t}}function xT({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function Uk(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=d1(i),f=t.length;let{start:m,end:y,loop:_}=n,b,w;if(_){for(m+=f,y+=f,b=0,w=f;b<w&&c(h(t[m%f][i]),r,o);++b)m--,y--;m%=f,y%=f}return y<m&&(y+=f),{start:m,end:y,loop:_,style:n.style}}function Bk(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:m}=d1(i),{start:y,end:_,loop:b,style:w}=Uk(n,t,e),R=[];let C=!1,M=null,L,B,H;const Z=()=>f(r,H,L)&&h(r,H)!==0,$=()=>h(o,L)===0||f(o,H,L),st=()=>C||Z(),N=()=>!C||$();for(let A=y,D=y;A<=_;++A)B=t[A%c],!B.skip&&(L=m(B[i]),L!==H&&(C=f(L,r,o),M===null&&st()&&(M=h(L,r)===0?A:D),M!==null&&N()&&(R.push(xT({start:M,end:A,loop:b,count:c,style:w})),M=null),D=A,H=L));return M!==null&&R.push(xT({start:M,end:_,loop:b,count:c,style:w})),R}function Fk(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=Bk(i[r],n.points,t);o.length&&e.push(...o)}return e}function Hk(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function qk(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const m=n[f%r];m.skip||m.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=m.stop?f:null):(c=f,h.skip&&(t=f)),h=m}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function Gk(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=Hk(e,r,o,i);if(i===!0)return TT(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,m=!!n._fullLoop&&c===0&&h===r-1;return TT(n,qk(e,c,f,m),e,t)}function TT(n,t,e,i){return!i||!i.setContext||!e?t:Yk(n,t,e,i)}function Yk(n,t,e,i){const r=n._chart.getContext(),o=wT(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,m=[];let y=o,_=t[0].start,b=_;function w(R,C,M,L){const B=h?-1:1;if(R!==C){for(R+=f;e[R%f].skip;)R-=B;for(;e[C%f].skip;)C+=B;R%f!==C%f&&(m.push({start:R%f,end:C%f,loop:M,style:L}),y=L,_=C%f)}}for(const R of t){_=h?_:R.start;let C=e[_%f],M;for(b=_+1;b<=R.end;b++){const L=e[b%f];M=wT(i.setContext(Ga(r,{type:"segment",p0:C,p1:L,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),Kk(M,y)&&w(_,b-1,R.loop,y),C=L,y=M}_<b-1&&w(_,b-1,R.loop,y)}return m}function wT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Kk(n,t){if(!t)return!1;const e=[],i=function(r,o){return ky(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function af(n,t,e){return n.options.clip?n[e]:t[e]}function Xk(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:af(e,t,"left"),right:af(e,t,"right"),top:af(i,t,"top"),bottom:af(i,t,"bottom")}:t}function $k(n,t){const e=t._clip;if(e.disabled)return!1;const i=Xk(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Qk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=e1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var As=new Qk;const ET="transparent",Wk={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=dT(n||ET),r=i.valid&&dT(t||ET);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Zk{constructor(t,e,i,r){const o=e[i];r=nf([t.to,r,o,t.from]);const c=nf([t.from,o,r]);this._active=!0,this._fn=t.fn||Wk[t.type||typeof c],this._easing=jc[t.easing]||jc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=nf([t.to,e,r,t.from]),this._from=nf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class m1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Ee.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(Ue(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=tV(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&Jk(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[m];let _=o[m];const b=i.get(m);if(_)if(b&&_.active()){_.update(b,y,h);continue}else _.cancel();if(!b||!b.duration){t[m]=y;continue}o[m]=_=new Zk(b,t,m,y),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return As.add(this._chart,i),!0}}function Jk(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function tV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ST(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function eV(n,t,e){if(e===!1)return!1;const i=ST(n,e),r=ST(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function nV(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function g1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function AT(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(y=!0,i.all)continue;break}m=n.values[f],ti(m)&&(o||t===0||Ji(t)===Ji(m))&&(t+=m)}return!y&&!i.all?0:t}function iV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,y;for(f=0,m=c.length;f<m;++f)y=c[f],h[f]={[r]:y,[o]:n[y]};return h}function $g(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function sV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function rV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function aV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function RT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function CT(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,y=sV(o,c,i),_=t.length;let b;for(let w=0;w<_;++w){const R=t[w],{[f]:C,[m]:M}=R,L=R._stacks||(R._stacks={});b=L[m]=aV(r,y,C),b[h]=M,b._top=RT(b,c,!0,i.type),b._bottom=RT(b,c,!1,i.type);const B=b._visualValues||(b._visualValues={});B[h]=M}}function Qg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function oV(n,t){return Ga(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function lV(n,t,e){return Ga(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function _c(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Wg=n=>n==="reset"||n==="none",IT=(n,t)=>t?n:Object.assign({},n),cV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:g1(e,!0),values:null};class Td{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=$g(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&_c(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,b,w,R)=>_==="x"?b:_==="r"?R:w,o=e.xAxisID=Nt(i.xAxisID,Qg(t,"x")),c=e.yAxisID=Nt(i.yAxisID,Qg(t,"y")),h=e.rAxisID=Nt(i.rAxisID,Qg(t,"r")),f=e.indexAxis,m=e.iAxisID=r(f,o,c,h),y=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&uT(this._data,this),t._stacked&&_c(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=iV(e,r)}else if(i!==e){if(i){uT(i,this);const r=this._cachedMeta;_c(r),r._parsed=[]}e&&Object.isExtensible(e)&&F4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=$g(e.vScale,e),e.stack!==i.stack&&(r=!0,_c(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(CT(this,e._parsed),e._stacked=$g(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],y,_,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Ue(r[t])?b=this.parseArrayData(i,r,t,e):qt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const w=()=>_[h]===null||m&&_[h]<m[h];for(y=0;y<e;++y)i._parsed[y+t]=_=b[y],f&&(w()&&(f=!1),m=_);i._sorted=f}c&&CT(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),y=o===c,_=new Array(r);let b,w,R;for(b=0,w=r;b<w;++b)R=b+i,_[b]={[h]:y||o.parse(m[R],R),[f]:c.parse(e[R],R)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,m,y,_;for(f=0,m=r;f<m;++f)y=f+i,_=e[y],h[f]={x:o.parse(_[0],y),y:c.parse(_[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(r);let y,_,b,w;for(y=0,_=r;y<_;++y)b=y+i,w=e[b],m[y]={x:o.parse(Pa(w,h),b),y:c.parse(Pa(w,f),b)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:g1(r,!0),values:e._stacks[t.axis]._visualValues};return AT(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=AT(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=cV(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:_}=rV(h);let b,w;function R(){w=r[b];const C=w[h.axis];return!ti(w[t.axis])||y>C||_<C}for(b=0;b<c&&!(!R()&&(this.updateRangeFromParsed(m,t,w,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!R()){this.updateRangeFromParsed(m,t,w,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ti(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=nV(Nt(this.options.clip,eV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const _=r[y];_.hidden||(_.active&&m?c.push(_):_.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=lV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=oV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Qc(i);if(h)return IT(h,f);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],b=m.getOptionScopes(this.getDataset(),y),w=Object.keys(Ee.elements[t]),R=()=>this.getContext(i,r,e),C=m.resolveNamedOptions(b,w,R,_);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(IT(C,f))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,_=y.datasetAnimationScopeKeys(this._type,e),b=y.getOptionScopes(this.getDataset(),_);f=y.createResolver(b,this.getContext(t,i,e))}const m=new m1(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Wg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Wg(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Wg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&_c(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function uV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=t1(i.sort((r,o)=>r-o))}return n._cache.$bar}function hV(n){const t=n.iScale,e=uV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Qc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function fV(n,t,e,i){const r=e.barThickness;let o,c;return $t(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function dV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:m}}function mV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:r,end:o,min:c,max:h}}function p1(n,t,e,i){return Ue(n)?mV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function MT(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let m,y,_,b;for(m=e,y=e+i;m<y;++m)b=t[m],_={},_[r.axis]=h||r.parse(c[m],m),f.push(p1(b,_,o,m));return f}function Zg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function gV(n,t,e){return n!==0?Ji(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function pV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function yV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:y}=pV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=y:(o[NT(y,c,h,f)]=!0,r=m)),o[NT(r,c,h,f)]=!0,n.borderSkipped=o}function NT(n,t,e,i){return i?(n=_V(n,t,e),n=DT(n,e,t)):n=DT(n,t,e),n}function _V(n,t,e){return n===t?e:n===e?t:n}function DT(n,t,e){return n==="start"?t:n==="end"?e:n}function vV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class bV extends Td{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return MT(t,e,i,r)}parseArrayData(t,e,i,r){return MT(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?h:f,y=c.axis==="x"?h:f,_=[];let b,w,R,C;for(b=i,w=i+r;b<w;++b)C=e[b],R={},R[o.axis]=o.parse(Pa(C,m),b),_.push(p1(Pa(C,y),R,c,b));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Zg(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),y=this._getRuler(),{sharedOptions:_,includeOptions:b}=this._getSharedOptions(e,r);for(let w=e;w<e+i;w++){const R=this.getParsed(w),C=o||$t(R[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(w),M=this._calculateBarIndexPixels(w,y),L=(R._stacks||{})[h.axis],B={horizontal:m,base:C.base,enableBorderRadius:!L||Zg(R._custom)||c===L._top||c===L._bottom,x:m?C.head:M.center,y:m?M.center:C.head,height:m?M.size:Math.abs(C.size),width:m?Math.abs(C.size):M.size};b&&(B.options=_||this.resolveDataElementOptions(w,t[w].active?"active":r));const H=B.options||t[w].options;yV(B,H,L,c),vV(B,H,y.ratio),this.updateElement(t[w],w,B,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],m=y=>{const _=y._parsed.find(w=>w[i.axis]===f),b=_&&_[y.vScale.axis];if($t(b)||isNaN(b))return!0};for(const y of r)if(!(e!==void 0&&m(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Nt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||hV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),m=f._custom,y=Zg(m);let _=f[e.axis],b=0,w=i?this.applyStack(e,f,i):_,R,C;w!==_&&(b=w-_,w=_),y&&(_=m.barStart,w=m.barEnd-m.barStart,_!==0&&Ji(_)!==Ji(m.barEnd)&&(b=0),b+=_);const M=!$t(o)&&!y?o:b;let L=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(b+w):R=L,C=R-L,Math.abs(C)<c){C=gV(C,e,h)*c,_===h&&(L-=C/2);const B=e.getPixelForDecimal(0),H=e.getPixelForDecimal(1),Z=Math.min(B,H),$=Math.max(B,H);L=Math.max(Math.min(L,$),Z),R=L+C,i&&!y&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(R)-e.getValueForPixel(L))}if(L===e.getPixelForValue(h)){const B=Ji(C)*e.getLineWidthForValue(h)/2;L+=B,C-=B}return{size:C,base:L,head:R,center:R+C/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Nt(r.maxBarThickness,1/0);let h,f;const m=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?dV(t,e,r,y*m):fV(t,e,r,y*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(Nt(b,this.getFirstScaleIdForIndexAxis())),R=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+w;h=_.start+_.chunk*R+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function xV(n,t,e){let i=1,r=1,o=0,c=0;if(t<_e){const h=n,f=h+t,m=Math.cos(h),y=Math.sin(h),_=Math.cos(f),b=Math.sin(f),w=(H,Z,$)=>Zc(H,h,f,!0)?1:Math.max(Z,Z*e,$,$*e),R=(H,Z,$)=>Zc(H,h,f,!0)?-1:Math.min(Z,Z*e,$,$*e),C=w(0,m,_),M=w(Fe,y,b),L=R(ee,m,_),B=R(ee+Fe,y,b);i=(C-L)/2,r=(M-B)/2,o=-(C+L)/2,c=-(M+B)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class TV extends Td{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(qt(i[t])){const{key:f="value"}=this._parsing;o=m=>+Pa(i[m],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Ds(this.options.rotation-90)}_getCircumference(){return Ds(this.options.circumference)}_getRotationExtents(){let t=_e,e=-_e;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(S4(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:y,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:w,offsetX:R,offsetY:C}=xV(_,y,f),M=(i.width-c)/b,L=(i.height-c)/w,B=Math.max(Math.min(M,L)/2,0),H=$S(this.options.radius,B),Z=Math.max(H*f,0),$=(H-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=R*H,this.offsetY=C*H,r.total=this.calculateTotal(),this.outerRadius=H-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/_e)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,y=(h.left+h.right)/2,_=(h.top+h.bottom)/2,b=o&&m.animateScale,w=b?0:this.innerRadius,R=b?0:this.outerRadius,{sharedOptions:C,includeOptions:M}=this._getSharedOptions(e,r);let L=this._getRotation(),B;for(B=0;B<e;++B)L+=this._circumference(B,o);for(B=e;B<e+i;++B){const H=this._circumference(B,o),Z=t[B],$={x:y+this.offsetX,y:_+this.offsetY,startAngle:L,endAngle:L+H,circumference:H,outerRadius:R,innerRadius:w};M&&($.options=C||this.resolveDataElementOptions(B,Z.active?"active":r)),L+=H,this.updateElement(Z,B,$,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?_e*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=Vy(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class wV extends Td{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=G4(e,r,c);this._drawStart=h,this._drawCount=f,Y4(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(e,r),b=c.axis,w=h.axis,{spanGaps:R,segment:C}=this.options,M=Wc(R)?R:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none",B=e+i,H=t.length;let Z=e>0&&this.getParsed(e-1);for(let $=0;$<H;++$){const st=t[$],N=L?st:{};if($<e||$>=B){N.skip=!0;continue}const A=this.getParsed($),D=$t(A[w]),P=N[b]=c.getPixelForValue(A[b],$),O=N[w]=o||D?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,A,f):A[w],$);N.skip=isNaN(P)||isNaN(O)||D,N.stop=$>0&&Math.abs(A[b]-Z[b])>M,C&&(N.parsed=A,N.raw=m.data[$]),_&&(N.options=y||this.resolveDataElementOptions($,st.active?"active":r)),L||this.updateElement(st,$,N,r),Z=A}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function ba(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qy{static override(t){Object.assign(qy.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ba()}parse(){return ba()}format(){return ba()}add(){return ba()}diff(){return ba()}startOf(){return ba()}endOf(){return ba()}}var EV={_date:qy};function SV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?U4:Aa;if(i){if(r._sharedOptions){const y=o[0],_=typeof y.getRange=="function"&&y.getRange(t);if(_){const b=m(o,t,e-_),w=m(o,t,e+_);return{lo:b.lo,hi:w.hi}}}}else{const y=m(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:b}=n,w=b.slice(0,y.lo+1).reverse().findIndex(C=>!$t(C[_.axis]));y.lo-=Math.max(0,w);const R=b.slice(y.hi).findIndex(C=>!$t(C[_.axis]));y.hi+=Math.max(0,R)}return y}}return{lo:0,hi:o.length-1}}function wd(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:y}=o[h],{lo:_,hi:b}=SV(o[h],t,c,r);for(let w=_;w<=b;++w){const R=y[w];R.skip||i(R,m,w)}}}function AV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Jg(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||wd(n,e,t,function(h,f,m){!r&&!Jc(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function RV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:_}=ZS(c,{x:t.x,y:t.y});Zc(_,m,y)&&r.push({element:c,datasetIndex:h,index:f})}return wd(n,e,t,o),r}function CV(n,t,e,i,r,o){let c=[];const h=AV(e);let f=Number.POSITIVE_INFINITY;function m(y,_,b){const w=y.inRange(t.x,t.y,r);if(i&&!w)return;const R=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!w)return;const M=h(t,R);M<f?(c=[{element:y,datasetIndex:_,index:b}],f=M):M===f&&c.push({element:y,datasetIndex:_,index:b})}return wd(n,e,t,m),c}function tp(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?RV(n,t,e,r):CV(n,t,e,i,r,o)}function OT(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return wd(n,e,t,(f,m,y)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:m,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var IV={modes:{index(n,t,e,i){const r=Ta(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Jg(n,r,o,i,c):tp(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,_=m.data[y];_&&!_.skip&&f.push({element:_,datasetIndex:m.index,index:y})}),f):[]},dataset(n,t,e,i){const r=Ta(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Jg(n,r,o,i,c):tp(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=Ta(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Jg(n,r,o,i,c)},nearest(n,t,e,i){const r=Ta(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return tp(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ta(t,n);return OT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ta(t,n);return OT(n,r,"y",e.intersect,i)}}};const y1=["left","top","right","bottom"];function vc(n,t){return n.filter(e=>e.pos===t)}function kT(n,t){return n.filter(e=>y1.indexOf(e.pos)===-1&&e.box.axis===t)}function bc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function MV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function NV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!y1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function DV(n,t){const e=NV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function OV(n){const t=MV(n),e=bc(t.filter(m=>m.box.fullSize),!0),i=bc(vc(t,"left"),!0),r=bc(vc(t,"right")),o=bc(vc(t,"top"),!0),c=bc(vc(t,"bottom")),h=kT(t,"x"),f=kT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:vc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function VT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function _1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function kV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&_1(c,o.getPadding());const h=Math.max(0,t.outerWidth-VT(c,n,"left","right")),f=Math.max(0,t.outerHeight-VT(c,n,"top","bottom")),m=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:y}:{same:y,other:m}}function VV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function PV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Cc(n,t,e,i){const r=[];let o,c,h,f,m,y;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,PV(h.horizontal,t));const{same:_,other:b}=kV(t,e,h,i);m|=_&&r.length,y=y||b,f.fullSize||r.push(h)}return m&&Cc(r,t,e,i)||y}function of(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function PT(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const _=t.w*y,b=m.size||f.height;Qc(m.start)&&(c=m.start),f.fullSize?of(f,r.left,c,e.outerWidth-r.right-r.left,b):of(f,t.left+m.placed,c,_,b),m.start=c,m.placed+=_,c=f.bottom}else{const _=t.h*y,b=m.size||f.width;Qc(m.start)&&(o=m.start),f.fullSize?of(f,o,r.top,b,e.outerHeight-r.bottom-r.top):of(f,o,t.top+m.placed,b,_),m.start=o,m.placed+=_,o=f.right}}t.x=o,t.y=c}var Jn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ei(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=OV(n.boxes),f=h.vertical,m=h.horizontal;te(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const y=f.reduce((C,M)=>M.box.options&&M.box.options.display===!1?C:C+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),b=Object.assign({},r);_1(b,ei(i));const w=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),R=DV(f.concat(m),_);Cc(h.fullSize,w,_,R),Cc(f,w,_,R),Cc(m,w,_,R)&&Cc(f,w,_,R),VV(w),PT(h.leftAndTop,w,_,R),w.x+=w.w,w.y+=w.h,PT(h.rightAndBottom,w,_,R),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},te(h.chartArea,C=>{const M=C.box;Object.assign(M,n.chartArea),M.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class v1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class LV extends v1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const wf="$chartjs",jV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},LT=n=>n===null||n==="";function zV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[wf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",LT(r)){const o=bT(n,"width");o!==void 0&&(n.width=o)}if(LT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=bT(n,"height");o!==void 0&&(n.height=o)}return n}const b1=Vk?{passive:!0}:!1;function UV(n,t,e){n&&n.addEventListener(t,e,b1)}function BV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,b1)}function FV(n,t){const e=jV[n.type]||n.type,{x:i,y:r}=Ta(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Zf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function HV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Zf(h.addedNodes,i),c=c&&!Zf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function qV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Zf(h.removedNodes,i),c=c&&!Zf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const eu=new Map;let jT=0;function x1(){const n=window.devicePixelRatio;n!==jT&&(jT=n,eu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function GV(n,t){eu.size||window.addEventListener("resize",x1),eu.set(n,t)}function YV(n){eu.delete(n),eu.size||window.removeEventListener("resize",x1)}function KV(n,t,e){const i=n.canvas,r=i&&Hy(i);if(!r)return;const o=n1((h,f)=>{const m=r.clientWidth;e(h,f),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,y=f.contentRect.height;m===0&&y===0||o(m,y)});return c.observe(r),GV(n,o),c}function ep(n,t,e){e&&e.disconnect(),t==="resize"&&YV(n)}function XV(n,t,e){const i=n.canvas,r=n1(o=>{n.ctx!==null&&e(FV(o,n))},n);return UV(i,t,r),r}class $V extends v1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(zV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[wf])return!1;const i=e[wf].initial;["height","width"].forEach(o=>{const c=i[o];$t(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[wf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:HV,detach:qV,resize:KV}[e]||XV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:ep,detach:ep,resize:ep}[e]||BV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return kk(t,e,i,r)}isAttached(t){const e=t&&Hy(t);return!!(e&&e.isConnected)}}function QV(n){return!Fy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?LV:$V}class js{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Wc(this.x)&&Wc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function WV(n,t){const e=n.options.ticks,i=ZV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?t6(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>r)return e6(t,m,o,c/r),m;const y=JV(o,t,r);if(c>0){let _,b;const w=c>1?Math.round((f-h)/(c-1)):null;for(lf(t,m,y,$t(w)?0:h-w,h),_=0,b=c-1;_<b;_++)lf(t,m,y,o[_],o[_+1]);return lf(t,m,y,f,$t(w)?t.length:f+w),m}return lf(t,m,y),m}function ZV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function JV(n,t,e){const i=n6(n),r=t.length/e;if(!i)return Math.max(r,1);const o=O4(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function t6(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function e6(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function lf(n,t,e,i,r){const o=Nt(i,0),c=Math.min(Nt(r,n.length),n.length);let h=0,f,m,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===y&&(t.push(n[m]),h++,y=Math.round(o+h*e))}function n6(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const i6=n=>n==="left"?"right":n==="right"?"left":n,zT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,UT=(n,t)=>Math.min(t||n,n);function BT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function s6(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(r-1))/2,f+=r<t?m:-m,f<o-h||f>c+h)))return f}function r6(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function xc(n){return n.drawTicks?n.tickLength:0}function FT(n,t){if(!n.display)return 0;const e=un(n.font,t),i=ei(n.padding);return(Ue(n.text)?n.text.length:1)*e.lineHeight+i.height}function a6(n,t){return Ga(n,{scale:t,type:"scale"})}function o6(n,t,e){return Ga(n,{tick:e,index:t,type:"tick"})}function l6(n,t,e){let i=Oy(n);return(e&&t!=="right"||!e&&t==="right")&&(i=i6(i)),i}function c6(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:y}=f;let _=0,b,w,R;const C=c-r,M=h-o;if(n.isHorizontal()){if(w=an(i,o,h),qt(e)){const L=Object.keys(e)[0],B=e[L];R=y[L].getPixelForValue(B)+C-t}else e==="center"?R=(m.bottom+m.top)/2+C-t:R=zT(n,e,t);b=h-o}else{if(qt(e)){const L=Object.keys(e)[0],B=e[L];w=y[L].getPixelForValue(B)-M+t}else e==="center"?w=(m.left+m.right)/2-M+t:w=zT(n,e,t);R=an(i,c,r),_=e==="left"?-Fe:Fe}return{titleX:w,titleY:R,maxWidth:b,rotation:_}}class hl extends js{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Fi(t,Number.POSITIVE_INFINITY),e=Fi(e,Number.NEGATIVE_INFINITY),i=Fi(i,Number.POSITIVE_INFINITY),r=Fi(r,Number.NEGATIVE_INFINITY),{min:Fi(t,i),max:Fi(e,r),minDefined:ti(t),maxDefined:ti(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Fi(e,Fi(i,e)),max:Fi(i,Fi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fk(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?BT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=WV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ce(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=UT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),_=y.widest.width,b=y.highest.height,w=cn(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:w/(i-1),_+6>h&&(h=w/(i-(t.offset?.5:1)),f=this.maxHeight-xc(t.grid)-e.padding-FT(t.title,this.chart.options.font),m=Math.sqrt(_*_+b*b),c=L4(Math.min(Math.asin(cn((y.highest.height+6)/h,-1,1)),Math.asin(cn(f/m,-1,1))-Math.asin(cn(b/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=FT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=xc(o)+f):(t.height=this.maxHeight,t.width=xc(o)+f),i.display&&this.ticks.length){const{first:m,last:y,widest:_,highest:b}=this._getLabelSizes(),w=i.padding*2,R=Ds(this.labelRotation),C=Math.cos(R),M=Math.sin(R);if(h){const L=i.mirror?0:M*_.width+C*b.height;t.height=Math.min(this.maxHeight,t.height+L+w)}else{const L=i.mirror?0:C*_.width+M*b.height;t.width=Math.min(this.maxWidth,t.width+L+w)}this._calculatePadding(m,y,M,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;f?m?(b=r*t.width,w=i*e.height):(b=i*t.height,w=r*e.width):o==="start"?w=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,w=e.width/2),this.paddingLeft=Math.max((b-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((w-_+c)*this.width/(this.width-_),0)}else{let y=e.height/2,_=t.height/2;o==="start"?(y=0,_=t.height):o==="end"&&(y=e.height,_=0),this.paddingTop=y+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)$t(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=BT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/UT(e,i));let m=0,y=0,_,b,w,R,C,M,L,B,H,Z,$;for(_=0;_<e;_+=f){if(R=t[_].label,C=this._resolveTickFontOptions(_),r.font=M=C.string,L=o[M]=o[M]||{data:{},gc:[]},B=C.lineHeight,H=Z=0,!$t(R)&&!Ue(R))H=gT(r,L.data,L.gc,H,R),Z=B;else if(Ue(R))for(b=0,w=R.length;b<w;++b)$=R[b],!$t($)&&!Ue($)&&(H=gT(r,L.data,L.gc,H,$),Z+=B);c.push(H),h.push(Z),m=Math.max(H,m),y=Math.max(Z,y)}r6(o,e);const st=c.indexOf(m),N=h.indexOf(y),A=D=>({width:c[D]||0,height:h[D]||0});return{first:A(0),last:A(e-1),widest:A(st),highest:A(N),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return z4(this._alignToPixels?va(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=o6(this.getContext(),t,i))}return this.$context||(this.$context=a6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ds(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,m=this.isHorizontal(),_=this.ticks.length+(f?1:0),b=xc(o),w=[],R=h.setContext(this.getContext()),C=R.display?R.width:0,M=C/2,L=function(X){return va(i,X,C)};let B,H,Z,$,st,N,A,D,P,O,j,k;if(c==="top")B=L(this.bottom),N=this.bottom-b,D=B-M,O=L(t.top)+M,k=t.bottom;else if(c==="bottom")B=L(this.top),O=t.top,k=L(t.bottom)-M,N=B+M,D=this.top+b;else if(c==="left")B=L(this.right),st=this.right-b,A=B-M,P=L(t.left)+M,j=t.right;else if(c==="right")B=L(this.left),P=t.left,j=L(t.right)-M,st=B+M,A=this.left+b;else if(e==="x"){if(c==="center")B=L((t.top+t.bottom)/2+.5);else if(qt(c)){const X=Object.keys(c)[0],ot=c[X];B=L(this.chart.scales[X].getPixelForValue(ot))}O=t.top,k=t.bottom,N=B+M,D=N+b}else if(e==="y"){if(c==="center")B=L((t.left+t.right)/2);else if(qt(c)){const X=Object.keys(c)[0],ot=c[X];B=L(this.chart.scales[X].getPixelForValue(ot))}st=B-M,A=st-b,P=t.left,j=t.right}const Dt=Nt(r.ticks.maxTicksLimit,_),wt=Math.max(1,Math.ceil(_/Dt));for(H=0;H<_;H+=wt){const X=this.getContext(H),ot=o.setContext(X),ft=h.setContext(X),bt=ot.lineWidth,Vt=ot.color,z=ft.dash||[],tt=ft.dashOffset,ct=ot.tickWidth,ut=ot.tickColor,_t=ot.tickBorderDash||[],xt=ot.tickBorderDashOffset;Z=s6(this,H,f),Z!==void 0&&($=va(i,Z,bt),m?st=A=P=j=$:N=D=O=k=$,w.push({tx1:st,ty1:N,tx2:A,ty2:D,x1:P,y1:O,x2:j,y2:k,width:bt,color:Vt,borderDash:z,borderDashOffset:tt,tickWidth:ct,tickColor:ut,tickBorderDash:_t,tickBorderDashOffset:xt}))}return this._ticksLength=_,this._borderValue=B,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:y,mirror:_}=o,b=xc(i.grid),w=b+y,R=_?-y:w,C=-Ds(this.labelRotation),M=[];let L,B,H,Z,$,st,N,A,D,P,O,j,k="middle";if(r==="top")st=this.bottom-R,N=this._getXAxisLabelAlignment();else if(r==="bottom")st=this.top+R,N=this._getXAxisLabelAlignment();else if(r==="left"){const wt=this._getYAxisLabelAlignment(b);N=wt.textAlign,$=wt.x}else if(r==="right"){const wt=this._getYAxisLabelAlignment(b);N=wt.textAlign,$=wt.x}else if(e==="x"){if(r==="center")st=(t.top+t.bottom)/2+w;else if(qt(r)){const wt=Object.keys(r)[0],X=r[wt];st=this.chart.scales[wt].getPixelForValue(X)+w}N=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")$=(t.left+t.right)/2-w;else if(qt(r)){const wt=Object.keys(r)[0],X=r[wt];$=this.chart.scales[wt].getPixelForValue(X)}N=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?k="top":f==="end"&&(k="bottom"));const Dt=this._getLabelSizes();for(L=0,B=h.length;L<B;++L){H=h[L],Z=H.label;const wt=o.setContext(this.getContext(L));A=this.getPixelForTick(L)+o.labelOffset,D=this._resolveTickFontOptions(L),P=D.lineHeight,O=Ue(Z)?Z.length:1;const X=O/2,ot=wt.color,ft=wt.textStrokeColor,bt=wt.textStrokeWidth;let Vt=N;c?($=A,N==="inner"&&(L===B-1?Vt=this.options.reverse?"left":"right":L===0?Vt=this.options.reverse?"right":"left":Vt="center"),r==="top"?m==="near"||C!==0?j=-O*P+P/2:m==="center"?j=-Dt.highest.height/2-X*P+P:j=-Dt.highest.height+P/2:m==="near"||C!==0?j=P/2:m==="center"?j=Dt.highest.height/2-X*P:j=Dt.highest.height-O*P,_&&(j*=-1),C!==0&&!wt.showLabelBackdrop&&($+=P/2*Math.sin(C))):(st=A,j=(1-O)*P/2);let z;if(wt.showLabelBackdrop){const tt=ei(wt.backdropPadding),ct=Dt.heights[L],ut=Dt.widths[L];let _t=j-tt.top,xt=0-tt.left;switch(k){case"middle":_t-=ct/2;break;case"bottom":_t-=ct;break}switch(N){case"center":xt-=ut/2;break;case"right":xt-=ut;break;case"inner":L===B-1?xt-=ut:L>0&&(xt-=ut/2);break}z={left:xt,top:_t,width:ut+tt.width,height:ct+tt.height,color:wt.backdropColor}}M.push({label:Z,font:D,textOffset:j,options:{rotation:C,color:ot,strokeColor:ft,strokeWidth:bt,textAlign:Vt,textBaseline:k,translation:[$,st],backdrop:z}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ds(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,y;return e==="left"?r?(y=this.right+o,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y+=f)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y-=f)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,y,_,b;this.isHorizontal()?(m=va(t,this.left,c)-c/2,y=va(t,this.right,h)+h/2,_=b=f):(_=va(t,this.top,c)-c/2,b=va(t,this.bottom,h)+h/2,m=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,_),e.lineTo(y,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Py(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,y=c.textOffset;tu(i,m,0,y,f,h)}r&&Ly(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=un(i.font),c=ei(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,Ue(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:y,maxWidth:_,rotation:b}=c6(this,f,e,h);tu(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:b,textAlign:l6(h,e,r),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Nt(t.grid&&t.grid.z,-1),r=Nt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==hl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return un(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class cf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;f6(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,u6(t,c,i),this.override&&Ee.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ee[r]&&(delete Ee[r][i],this.override&&delete La[i])}}function u6(n,t,e){const i=$c(Object.create(null),[e?Ee.get(e):{},Ee.get(t),n.defaults]);Ee.set(t,i),n.defaultRoutes&&h6(t,n.defaultRoutes),n.descriptors&&Ee.describe(t,n.descriptors)}function h6(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Ee.route(o,r,f,h)})}function f6(n){return"id"in n&&"defaults"in n}class d6{constructor(){this.controllers=new cf(Td,"datasets",!0),this.elements=new cf(js,"elements"),this.plugins=new cf(Object,"plugins"),this.scales=new cf(hl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=Ny(t);ce(i["before"+r],[],i),e[t](i),ce(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var qi=new d6;class m6{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(ce(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Nt(i.options&&i.options.plugins,{}),o=g6(i);return r===!1&&!e?[]:y6(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function g6(n){const t={},e=[],i=Object.keys(qi.plugins.items);for(let o=0;o<i.length;o++)e.push(qi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function p6(n,t){return!t&&n===!1?null:n===!0?{}:n}function y6(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=p6(i[f],r);m!==null&&o.push({plugin:h,options:_6(n.config,{plugin:h,local:e[f]},m,c)})}return o}function _6(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dp(n,t){const e=Ee.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function v6(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function b6(n,t){return n===t?"_index_":"_value_"}function HT(n){if(n==="x"||n==="y"||n==="r")return n}function x6(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Op(n,...t){if(HT(n))return n;for(const e of t){const i=e.axis||x6(e.position)||n.length>1&&HT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function qT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function T6(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return qT(n,"x",e[0])||qT(n,"y",e[0])}return{}}function w6(n,t){const e=La[n.type]||{scales:{}},i=t.scales||{},r=Dp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Op(c,h,T6(c,n),Ee.scales[h.type]),m=b6(f,r),y=e.scales||{};o[c]=Pc(Object.create(null),[{axis:f},h,y[f],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Dp(h,t),y=(La[h]||{}).scales||{};Object.keys(y).forEach(_=>{const b=v6(_,f),w=c[b+"AxisID"]||b;o[w]=o[w]||Object.create(null),Pc(o[w],[{axis:b},i[w],y[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];Pc(h,[Ee.scales[h.type],Ee.scale])}),o}function T1(n){const t=n.options||(n.options={});t.plugins=Nt(t.plugins,{}),t.scales=w6(n,t)}function w1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function E6(n){return n=n||{},n.data=w1(n.data),T1(n),n}const GT=new Map,E1=new Set;function uf(n,t){let e=GT.get(n);return e||(e=t(),GT.set(n,e),E1.add(e)),e}const Tc=(n,t,e)=>{const i=Pa(t,e);i!==void 0&&n.add(i)};class S6{constructor(t){this._config=E6(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=w1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),T1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return uf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return uf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return uf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return uf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(_=>Tc(f,t,_))),y.forEach(_=>Tc(f,r,_)),y.forEach(_=>Tc(f,La[o]||{},_)),y.forEach(_=>Tc(f,Ee,_)),y.forEach(_=>Tc(f,Mp,_))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),E1.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,La[e]||{},Ee.datasets[e]||{},{type:e},Ee,Mp]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=YT(this._resolverCache,t,r);let f=c;if(R6(c,e)){o.$shared=!1,i=Ur(i)?i():i;const m=this.createResolver(t,i,h);f=sl(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=YT(this._resolverCache,t,i);return qt(e)?sl(o,e,void 0,r):o}}function YT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:zy(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const A6=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>Ur(n[t]));function R6(n,t){const{isScriptable:e,isIndexable:i}=a1(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Ur(h)||A6(h))||c&&Ue(h))return!0}return!1}var C6="4.5.0";const I6=["top","bottom","left","right","chartArea"];function KT(n,t){return n==="top"||n==="bottom"||I6.indexOf(n)===-1&&t==="x"}function XT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function $T(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ce(e&&e.onComplete,[n],t)}function M6(n){const t=n.chart,e=t.options.animation;ce(e&&e.onProgress,[n],t)}function S1(n){return Fy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ef={},QT=n=>{const t=S1(n);return Object.values(Ef).filter(e=>e.canvas===t).pop()};function N6(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function D6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Ya=class{static defaults=Ee;static instances=Ef;static overrides=La;static registry=qi;static version=C6;static getChart=QT;static register(...t){qi.add(...t),WT()}static unregister(...t){qi.remove(...t),WT()}constructor(t,e){const i=this.config=new S6(e),r=S1(t),o=QT(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||QV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,y=f&&f.width;if(this.id=E4(),this.ctx=h,this.canvas=f,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new m6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=H4(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],Ef[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}As.listen(this,"complete",$T),As.listen(this,"progress",M6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return $t(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return qi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pT(this.canvas,this.ctx),this}stop(){return As.stop(this),this}resize(t,e){As.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,vT(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ce(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Op(c,h),m=f==="r",y=f==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,m=Op(f,h),y=Nt(h.type,c.dtype);(h.position===void 0||KT(h.position,m)!==KT(c.dposition))&&(h.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===y)_=i[f];else{const b=qi.getScale(y);_=new b({id:f,type:y,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),te(r,(c,h)=>{c||delete i[h]}),te(i,c=>{Jn.configure(this,c,c.options),Jn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(XT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Dp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=qi.getController(h),{datasetElementType:m,dataElementType:y}=Ee.datasets[h];Object.assign(f,{dataElementType:qi.getElement(y),datasetElementType:m&&qi.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:_}=this.getDatasetMeta(m),b=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(b),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(XT("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{Jn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!aT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;N6(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!aT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ur(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(As.has(this)?this.attached&&!As.running(this)&&As.start(this):(this.draw(),$T({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=$k(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Py(e,r),t.controller.draw(),r&&Ly(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Jc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=IV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ga(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Qc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),As.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),pT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ef[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},r=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Kf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,m)=>f.filter(y=>!m.some(_=>y.datasetIndex===_.datasetIndex&&y.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=M4(t),m=D6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ce(o.onHover,[t,h,this],this),f&&ce(o.onClick,[t,h,this],this));const y=!Kf(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function WT(){return te(Ya.instances,n=>n._plugins.invalidate())}function O6(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:m,borderJoinStyle:y}=f,_=Math.min(m/c,mi(i-e));if(n.beginPath(),n.arc(r,o,c-m/2,i+_/2,e-_/2),h>0){const b=Math.min(m/h,mi(i-e));n.arc(r,o,h+m/2,e-b/2,i+b/2,!0)}else{const b=Math.min(m/2,c*mi(i-e));if(y==="round")n.arc(r,o,b,e-ee/2,i+ee/2,!0);else if(y==="bevel"){const w=2*b*b,R=-w*Math.cos(e+ee/2)+r,C=-w*Math.sin(e+ee/2)+o,M=w*Math.cos(i+ee/2)+r,L=w*Math.sin(i+ee/2)+o;n.lineTo(R,C),n.lineTo(M,L)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function k6(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let m=r/h;n.beginPath(),n.arc(o,c,h,i-m,e+m),f>r?(m=r/f,n.arc(o,c,f,e+m,i-m,!0)):n.arc(o,c,r,e+Fe,i-Fe),n.closePath(),n.clip()}function V6(n){return jy(n,["outerStart","outerEnd","innerStart","innerEnd"])}function P6(n,t,e,i){const r=V6(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const m=(e-Math.min(o,f))*i/2;return cn(f,0,Math.min(o,m))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:cn(r.innerStart,0,c),innerEnd:cn(r.innerEnd,0,c)}}function zo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Jf(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:m,innerRadius:y}=t,_=Math.max(t.outerRadius+i+e-m,0),b=y>0?y+i+e+m:0;let w=0;const R=r-f;if(i){const wt=y>0?y-i:0,X=_>0?_-i:0,ot=(wt+X)/2,ft=ot!==0?R*ot/(ot+i):R;w=(R-ft)/2}const C=Math.max(.001,R*_-e/ee)/_,M=(R-C)/2,L=f+M+w,B=r-M-w,{outerStart:H,outerEnd:Z,innerStart:$,innerEnd:st}=P6(t,b,_,B-L),N=_-H,A=_-Z,D=L+H/N,P=B-Z/A,O=b+$,j=b+st,k=L+$/O,Dt=B-st/j;if(n.beginPath(),o){const wt=(D+P)/2;if(n.arc(c,h,_,D,wt),n.arc(c,h,_,wt,P),Z>0){const bt=zo(A,P,c,h);n.arc(bt.x,bt.y,Z,P,B+Fe)}const X=zo(j,B,c,h);if(n.lineTo(X.x,X.y),st>0){const bt=zo(j,Dt,c,h);n.arc(bt.x,bt.y,st,B+Fe,Dt+Math.PI)}const ot=(B-st/b+(L+$/b))/2;if(n.arc(c,h,b,B-st/b,ot,!0),n.arc(c,h,b,ot,L+$/b,!0),$>0){const bt=zo(O,k,c,h);n.arc(bt.x,bt.y,$,k+Math.PI,L-Fe)}const ft=zo(N,L,c,h);if(n.lineTo(ft.x,ft.y),H>0){const bt=zo(N,D,c,h);n.arc(bt.x,bt.y,H,L-Fe,D)}}else{n.moveTo(c,h);const wt=Math.cos(D)*_+c,X=Math.sin(D)*_+h;n.lineTo(wt,X);const ot=Math.cos(P)*_+c,ft=Math.sin(P)*_+h;n.lineTo(ot,ft)}n.closePath()}function L6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Jf(n,t,e,i,f,r);for(let m=0;m<o;++m)n.fill();isNaN(h)||(f=c+(h%_e||_e))}return Jf(n,t,e,i,f,r),n.fill(),f}function j6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:m,borderJoinStyle:y,borderDash:_,borderDashOffset:b,borderRadius:w}=f,R=f.borderAlign==="inner";if(!m)return;n.setLineDash(_||[]),n.lineDashOffset=b,R?(n.lineWidth=m*2,n.lineJoin=y||"round"):(n.lineWidth=m,n.lineJoin=y||"bevel");let C=t.endAngle;if(o){Jf(n,t,e,i,C,r);for(let M=0;M<o;++M)n.stroke();isNaN(h)||(C=c+(h%_e||_e))}R&&k6(n,t,C),f.selfJoin&&C-c>=ee&&w===0&&y!=="miter"&&O6(n,t,C),o||(Jf(n,t,e,i,C,r),n.stroke())}class z6 extends js{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=ZS(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,w=Nt(_,f-h),R=Zc(o,h,f)&&h!==f,C=w>=_e||R,M=Sr(c,m+b,y+b);return C&&M}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,y=(r+o)/2,_=(c+h+m+f)/2;return{x:e+Math.cos(y)*_,y:i+Math.sin(y)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>_e?Math.floor(i/_e):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ee,i||0)),m=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,L6(t,this,m,o,c),j6(t,this,m,o,c),t.restore()}}function A1(n,t,e=t){n.lineCap=Nt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Nt(e.borderDash,t.borderDash)),n.lineDashOffset=Nt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Nt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Nt(e.borderWidth,t.borderWidth),n.strokeStyle=Nt(e.borderColor,t.borderColor)}function U6(n,t,e){n.lineTo(e.x,e.y)}function B6(n){return n.stepped?ik:n.tension||n.cubicInterpolationMode==="monotone"?sk:U6}function R1(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),m=Math.min(o,h),y=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:m<f&&!y?i+m-f:m-f}}function F6(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:m}=R1(r,e,i),y=B6(o);let{move:_=!0,reverse:b}=i||{},w,R,C;for(w=0;w<=m;++w)R=r[(h+(b?m-w:w))%c],!R.skip&&(_?(n.moveTo(R.x,R.y),_=!1):y(n,C,R,b,o.stepped),C=R);return f&&(R=r[(h+(b?m:0))%c],y(n,C,R,b,o.stepped)),!!f}function H6(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=R1(r,e,i),{move:f=!0,reverse:m}=i||{};let y=0,_=0,b,w,R,C,M,L;const B=Z=>(c+(m?h-Z:Z))%o,H=()=>{C!==M&&(n.lineTo(y,M),n.lineTo(y,C),n.lineTo(y,L))};for(f&&(w=r[B(0)],n.moveTo(w.x,w.y)),b=0;b<=h;++b){if(w=r[B(b)],w.skip)continue;const Z=w.x,$=w.y,st=Z|0;st===R?($<C?C=$:$>M&&(M=$),y=(_*y+Z)/++_):(H(),n.lineTo(Z,$),R=st,_=0,C=M=$),L=$}H()}function kp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?H6:F6}function q6(n){return n.stepped?Pk:n.tension||n.cubicInterpolationMode==="monotone"?Lk:wa}function G6(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),A1(n,t.options),n.stroke(r)}function Y6(n,t,e,i){const{segments:r,options:o}=t,c=kp(t);for(const h of r)A1(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const K6=typeof Path2D=="function";function X6(n,t,e,i){K6&&!t.options.segment?G6(n,t,e,i):Y6(n,t,e,i)}class $6 extends js{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Ck(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Gk(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=Fk(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=q6(i);let m,y;for(m=0,y=c.length;m<y;++m){const{start:_,end:b}=c[m],w=o[_],R=o[b];if(w===R){h.push(w);continue}const C=Math.abs((r-w[e])/(R[e]-w[e])),M=f(w,R,C,i.stepped);M[e]=t[e],h.push(M)}return h.length===1?h[0]:h}pathSegment(t,e,i){return kp(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=kp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),X6(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ZT(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class Q6 extends js{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return ZT(this,t,"x",e)}inYRange(t,e){return ZT(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Jc(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Np(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function C1(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,m,y,_;return n.horizontal?(_=c/2,h=Math.min(e,r),f=Math.max(e,r),m=i-_,y=i+_):(_=o/2,h=e-_,f=e+_,m=Math.min(i,r),y=Math.max(i,r)),{left:h,top:m,right:f,bottom:y}}function Ar(n,t,e,i){return n?0:cn(t,e,i)}function W6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=r1(i);return{t:Ar(r.top,o.top,0,e),r:Ar(r.right,o.right,0,t),b:Ar(r.bottom,o.bottom,0,e),l:Ar(r.left,o.left,0,t)}}function Z6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=$o(r),c=Math.min(t,e),h=n.borderSkipped,f=i||qt(r);return{topLeft:Ar(!f||h.top||h.left,o.topLeft,0,c),topRight:Ar(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Ar(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Ar(!f||h.bottom||h.right,o.bottomRight,0,c)}}function J6(n){const t=C1(n),e=t.right-t.left,i=t.bottom-t.top,r=W6(n,e/2,i/2),o=Z6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function np(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&C1(n,i);return h&&(r||Sr(t,h.left,h.right))&&(o||Sr(e,h.top,h.bottom))}function tP(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function eP(n,t){n.rect(t.x,t.y,t.w,t.h)}function ip(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class I1 extends js{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=J6(this),h=tP(c.radius)?Qf:eP;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,ip(c,e,o)),t.clip(),h(t,ip(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,ip(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return np(this,t,e,i)}inXRange(t,e){return np(this,t,null,e)}inYRange(t,e){return np(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const JT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},nP=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class tw extends js{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=un(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=JT(i,o);let m,y;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,m=this._fitCols(c,r,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],y=r+h;let _=t;o.textAlign="left",o.textBaseline="middle";let b=-1,w=-y;return this.legendItems.forEach((R,C)=>{const M=i+e/2+o.measureText(R.text).width;(C===0||m[m.length-1]+M+2*h>c)&&(_+=y,m[m.length-(C>0?0:1)]=0,w+=y,b++),f[C]={left:0,top:w,row:b,width:M,height:r},m[m.length-1]+=M+h}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-t;let _=h,b=0,w=0,R=0,C=0;return this.legendItems.forEach((M,L)=>{const{itemWidth:B,itemHeight:H}=iP(i,e,o,M,r);L>0&&w+H+2*h>y&&(_+=b+h,m.push({width:b,height:w}),R+=b+h,C++,b=w=0),f[L]={left:R,top:w,col:C,width:B,height:H},b=Math.max(b,B),w+=H+h}),_+=b,m.push({width:b,height:w}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Qo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=an(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=an(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+r}else{let h=0,f=an(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=an(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Py(t,this),this._draw(),Ly(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Ee.color,f=Qo(t.rtl,this.left,this.width),m=un(c.font),{padding:y}=c,_=m.size,b=_/2;let w;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:R,boxHeight:C,itemHeight:M}=JT(c,_),L=function(st,N,A){if(isNaN(R)||R<=0||isNaN(C)||C<0)return;r.save();const D=Nt(A.lineWidth,1);if(r.fillStyle=Nt(A.fillStyle,h),r.lineCap=Nt(A.lineCap,"butt"),r.lineDashOffset=Nt(A.lineDashOffset,0),r.lineJoin=Nt(A.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Nt(A.strokeStyle,h),r.setLineDash(Nt(A.lineDash,[])),c.usePointStyle){const P={radius:C*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:D},O=f.xPlus(st,R/2),j=N+b;s1(r,P,O,j,c.pointStyleWidth&&R)}else{const P=N+Math.max((_-C)/2,0),O=f.leftForLtr(st,R),j=$o(A.borderRadius);r.beginPath(),Object.values(j).some(k=>k!==0)?Qf(r,{x:O,y:P,w:R,h:C,radius:j}):r.rect(O,P,R,C),r.fill(),D!==0&&r.stroke()}r.restore()},B=function(st,N,A){tu(r,A.text,st,N+M/2,m,{strikethrough:A.hidden,textAlign:f.textAlign(A.textAlign)})},H=this.isHorizontal(),Z=this._computeTitleHeight();H?w={x:an(o,this.left+y,this.right-i[0]),y:this.top+y+Z,line:0}:w={x:this.left+y,y:an(o,this.top+Z+y,this.bottom-e[0].height),line:0},h1(this.ctx,t.textDirection);const $=M+y;this.legendItems.forEach((st,N)=>{r.strokeStyle=st.fontColor,r.fillStyle=st.fontColor;const A=r.measureText(st.text).width,D=f.textAlign(st.textAlign||(st.textAlign=c.textAlign)),P=R+b+A;let O=w.x,j=w.y;f.setWidth(this.width),H?N>0&&O+P+y>this.right&&(j=w.y+=$,w.line++,O=w.x=an(o,this.left+y,this.right-i[w.line])):N>0&&j+$>this.bottom&&(O=w.x=O+e[w.line].width+y,w.line++,j=w.y=an(o,this.top+Z+y,this.bottom-e[w.line].height));const k=f.x(O);if(L(k,j,st),O=q4(D,O+R+b,H?O+P:this.right,t.rtl),B(f.x(O),j,st),H)w.x+=P+y;else if(typeof st.text!="string"){const Dt=m.lineHeight;w.y+=M1(st,Dt)+y}else w.y+=$}),f1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=un(e.font),r=ei(e.padding);if(!e.display)return;const o=Qo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=r.top+f;let y,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+m,_=an(t.align,_,this.right-b);else{const R=this.columnSizes.reduce((C,M)=>Math.max(C,M.height),0);y=m+an(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const w=an(h,_,_+b);c.textAlign=o.textAlign(Oy(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,tu(c,e.text,w,y,i)}_computeTitleHeight(){const t=this.options.title,e=un(t.font),i=ei(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Sr(t,this.left,this.right)&&Sr(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Sr(t,r.left,r.left+r.width)&&Sr(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!aP(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=nP(r,i);r&&!o&&ce(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ce(e.onHover,[t,i,this],this)}else i&&ce(e.onClick,[t,i,this],this)}}function iP(n,t,e,i,r){const o=sP(i,n,t,e),c=rP(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function sP(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function rP(n,t,e){let i=n;return typeof t.text!="string"&&(i=M1(t,e)),i}function M1(n,t){const e=n.text?n.text.length:0;return t*e}function aP(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Ed={id:"legend",_element:tw,start(n,t,e){const i=n.legend=new tw({ctx:n.ctx,options:e,chart:n});Jn.configure(n,i,e),Jn.addBox(n,i)},stop(n){Jn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Jn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),y=ei(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class N1 extends js{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Ue(i.text)?i.text.length:1;this._padding=ei(i.padding);const o=r*un(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,m,y,_;return this.isHorizontal()?(y=an(h,i,o),_=e+t,m=o-i):(c.position==="left"?(y=i+t,_=an(h,r,e),f=ee*-.5):(y=o-t,_=an(h,e,r),f=ee*.5),m=r-e),{titleX:y,titleY:_,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=un(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);tu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:Oy(e.align),textBaseline:"middle",translation:[c,h]})}}function oP(n,t){const e=new N1({ctx:n.ctx,options:t,chart:n});Jn.configure(n,e,t),Jn.addBox(n,e),n.titleBlock=e}var Gy={id:"title",_element:N1,start(n,t,e){oP(n,e)},stop(n){const t=n.titleBlock;Jn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Jn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ic={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),y=Ip(t,m);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Hi(n,t){return t&&(Ue(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Rs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function lP(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function ew(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=un(t.bodyFont),m=un(t.titleFont),y=un(t.footerFont),_=o.length,b=r.length,w=i.length,R=ei(t.padding);let C=R.height,M=0,L=i.reduce((Z,$)=>Z+$.before.length+$.lines.length+$.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,_&&(C+=_*m.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),L){const Z=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;C+=w*Z+(L-w)*f.lineHeight+(L-1)*t.bodySpacing}b&&(C+=t.footerMarginTop+b*y.lineHeight+(b-1)*t.footerSpacing);let B=0;const H=function(Z){M=Math.max(M,e.measureText(Z).width+B)};return e.save(),e.font=m.string,te(n.title,H),e.font=f.string,te(n.beforeBody.concat(n.afterBody),H),B=t.displayColors?c+2+t.boxPadding:0,te(i,Z=>{te(Z.before,H),te(Z.lines,H),te(Z.after,H)}),B=0,e.font=y.string,te(n.footer,H),e.restore(),M+=R.width,{width:M,height:C}}function cP(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function uP(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function hP(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=r<=(h+f)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),uP(m,n,t,e)&&(m="center"),m}function nw(n,t,e){const i=e.yAlign||t.yAlign||cP(n,e);return{xAlign:e.xAlign||t.xAlign||hP(n,t,e,i),yAlign:i}}function fP(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function dP(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function iw(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=r+o,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:w}=$o(c);let R=fP(t,h);const C=dP(t,f,m);return f==="center"?h==="left"?R+=m:h==="right"&&(R-=m):h==="left"?R-=Math.max(y,b)+r:h==="right"&&(R+=Math.max(_,w)+r),{x:cn(R,0,i.width-t.width),y:cn(C,0,i.height-t.height)}}function hf(n,t,e){const i=ei(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function sw(n){return Hi([],Rs(n))}function mP(n,t,e){return Ga(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function rw(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const D1={beforeTitle:Ss,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ss,beforeBody:Ss,beforeLabel:Ss,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return $t(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ss,afterBody:Ss,beforeFooter:Ss,footer:Ss,afterFooter:Ss};function wn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?D1[t].call(e,i):r}class aw extends js{static positioners=Ic;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new m1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=mP(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=wn(i,"beforeTitle",this,t),o=wn(i,"title",this,t),c=wn(i,"afterTitle",this,t);let h=[];return h=Hi(h,Rs(r)),h=Hi(h,Rs(o)),h=Hi(h,Rs(c)),h}getBeforeBody(t,e){return sw(wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=rw(i,o);Hi(c.before,Rs(wn(h,"beforeLabel",this,o))),Hi(c.lines,wn(h,"label",this,o)),Hi(c.after,Rs(wn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return sw(wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=wn(i,"beforeFooter",this,t),o=wn(i,"footer",this,t),c=wn(i,"afterFooter",this,t);let h=[];return h=Hi(h,Rs(r)),h=Hi(h,Rs(o)),h=Hi(h,Rs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(lP(this.chart,e[f]));return t.filter&&(h=h.filter((y,_,b)=>t.filter(y,_,b,i))),t.itemSort&&(h=h.sort((y,_)=>t.itemSort(y,_,i))),te(h,y=>{const _=rw(t.callbacks,y);r.push(wn(_,"labelColor",this,y)),o.push(wn(_,"labelPointStyle",this,y)),c.push(wn(_,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Ic[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=ew(this,i),m=Object.assign({},h,f),y=nw(this.chart,i,m),_=iw(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:y,bottomRight:_}=$o(h),{x:b,y:w}=t,{width:R,height:C}=e;let M,L,B,H,Z,$;return o==="center"?(Z=w+C/2,r==="left"?(M=b,L=M-c,H=Z+c,$=Z-c):(M=b+R,L=M+c,H=Z-c,$=Z+c),B=M):(r==="left"?L=b+Math.max(f,y)+c:r==="right"?L=b+R-Math.max(m,_)-c:L=this.caretX,o==="top"?(H=w,Z=H-c,M=L-c,B=L+c):(H=w+C,Z=H+c,M=L+c,B=L-c),$=H),{x1:M,x2:L,x3:B,y1:H,y2:Z,y3:$}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const m=Qo(i.rtl,this.x,this.width);for(t.x=hf(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=un(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,y=un(o.bodyFont),_=hf(this,"left",o),b=r.x(_),w=f<y.lineHeight?(y.lineHeight-f)/2:0,R=e.y+w;if(o.usePointStyle){const C={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(b,m)+m/2,L=R+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Np(t,C,M,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Np(t,C,M,L)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=r.leftForLtr(b,m),M=r.leftForLtr(r.xPlus(b,1),m-2),L=$o(c.borderRadius);Object.values(L).some(B=>B!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Qf(t,{x:C,y:R,w:m,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Qf(t,{x:M,y:R+1,w:m-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,R,m,f),t.strokeRect(C,R,m,f),t.fillStyle=c.backgroundColor,t.fillRect(M,R+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:y}=i,_=un(i.bodyFont);let b=_.lineHeight,w=0;const R=Qo(i.rtl,this.x,this.width),C=function(A){e.fillText(A,R.x(t.x+w),t.y+b/2),t.y+=b+o},M=R.textAlign(c);let L,B,H,Z,$,st,N;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=hf(this,M,i),e.fillStyle=i.bodyColor,te(this.beforeBody,C),w=h&&M!=="right"?c==="center"?m/2+y:m+2+y:0,Z=0,st=r.length;Z<st;++Z){for(L=r[Z],B=this.labelTextColors[Z],e.fillStyle=B,te(L.before,C),H=L.lines,h&&H.length&&(this._drawColorBox(e,t,Z,R,i),b=Math.max(_.lineHeight,f)),$=0,N=H.length;$<N;++$)C(H[$]),b=_.lineHeight;te(L.after,C)}w=0,b=_.lineHeight,te(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=Qo(i.rtl,this.x,this.width);for(t.x=hf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=un(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:y}=i,{topLeft:_,topRight:b,bottomLeft:w,bottomRight:R}=$o(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-b,f),e.quadraticCurveTo(h+m,f,h+m,f+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,f+y-R),e.quadraticCurveTo(h+m,f+y,h+m-R,f+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+w,f+y),e.quadraticCurveTo(h,f+y,h,f+y-w),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Ic[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=ew(this,t),f=Object.assign({},c,this._size),m=nw(e,t,f),y=iw(t,f,m,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ei(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),h1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),f1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!Kf(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Kf(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Ic[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Sd={id:"tooltip",_element:aw,positioners:Ic,afterInit(n,t,e){e&&(n.tooltip=new aw({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:D1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const gP=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function pP(n,t,e,i){const r=n.indexOf(t);if(r===-1)return gP(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const yP=(n,t)=>n===null?null:cn(Math.round(n),0,t);function ow(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Yy extends hl{static id="category";static defaults={ticks:{callback:ow}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if($t(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:pP(i,t,Nt(e,t),this._addedLabels),yP(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return ow.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function _P(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:m,maxTicks:y,maxDigits:_,includeBounds:b}=n,w=o||1,R=y-1,{min:C,max:M}=t,L=!$t(c),B=!$t(h),H=!$t(m),Z=(M-C)/(_+1);let $=lT((M-C)/R/w)*w,st,N,A,D;if($<1e-14&&!L&&!B)return[{value:C},{value:M}];D=Math.ceil(M/$)-Math.floor(C/$),D>R&&($=lT(D*$/R/w)*w),$t(f)||(st=Math.pow(10,f),$=Math.ceil($*st)/st),r==="ticks"?(N=Math.floor(C/$)*$,A=Math.ceil(M/$)*$):(N=C,A=M),L&&B&&o&&V4((h-c)/o,$/1e3)?(D=Math.round(Math.min((h-c)/$,y)),$=(h-c)/D,N=c,A=h):H?(N=L?c:N,A=B?h:A,D=m-1,$=(A-N)/D):(D=(A-N)/$,Lc(D,Math.round(D),$/1e3)?D=Math.round(D):D=Math.ceil(D));const P=Math.max(cT($),cT(N));st=Math.pow(10,$t(f)?P:f),N=Math.round(N*st)/st,A=Math.round(A*st)/st;let O=0;for(L&&(b&&N!==c?(e.push({value:c}),N<c&&O++,Lc(Math.round((N+O*$)*st)/st,c,lw(c,Z,n))&&O++):N<c&&O++);O<D;++O){const j=Math.round((N+O*$)*st)/st;if(B&&j>h)break;e.push({value:j})}return B&&b&&A!==h?e.length&&Lc(e[e.length-1].value,h,lw(h,Z,n))?e[e.length-1].value=h:e.push({value:h}):(!B||A===h)&&e.push({value:A}),e}function lw(n,t,{horizontal:e,minRotation:i}){const r=Ds(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class vP extends hl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return $t(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=Ji(r),m=Ji(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=_P(r,o);return t.bounds==="ticks"&&P4(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Vy(t,this.chart.options.locale,this.options.ticks.format)}}class Ky extends vP{static id="linear";static defaults={ticks:{callback:i1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ti(t)?t:0,this.max=ti(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ds(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ad={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Sn=Object.keys(Ad);function cw(n,t){return n-t}function uw(n,t){if($t(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ti(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Wc(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function hw(n,t,e,i){const r=Sn.length;for(let o=Sn.indexOf(n);o<r-1;++o){const c=Ad[Sn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Sn[o]}return Sn[r-1]}function bP(n,t,e,i,r){for(let o=Sn.length-1;o>=Sn.indexOf(e);o--){const c=Sn[o];if(Ad[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Sn[e?Sn.indexOf(e):0]}function xP(n){for(let t=Sn.indexOf(n)+1,e=Sn.length;t<e;++t)if(Ad[Sn[t]].common)return Sn[t]}function fw(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=Dy(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function TP(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function dw(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:TP(n,i,r,e)}class mw extends hl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new EV._date(t.adapters.date);r.init(e),Pc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:uw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=ti(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ti(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=B4(r,o,c);return this._unit=e.unit||(i.autoSkip?hw(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):bP(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:xP(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),dw(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=cn(e,0,c),i=cn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||hw(o.minUnit,e,i,this._getLabelCapacity(e)),h=Nt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Wc(f)||f===!0,y={};let _=e,b,w;if(m&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(b=_,w=0;b<i;b=+t.add(b,h,c),w++)fw(y,b,R);return(b===i||r.bounds==="ticks"||w===1)&&fw(y,b,R),Object.keys(y).sort(cw).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return ce(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,y=f&&h[f],_=m&&h[m],b=i[e],w=m&&_&&b&&b.major;return this._adapter.format(t,r||(w?_:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ds(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,dw(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(uw(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return t1(t.sort(cw))}}function ff(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Aa(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Aa(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class eL extends mw{static id="timeseries";static defaults=mw.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ff(e,this.min),this._tableRange=ff(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,m,y;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],f=r[c-1],m=r[c],Math.round((y+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ff(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return ff(this._table,i*this._tableRange+this._minPos,!0)}}const O1="label";function gw(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function wP(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function k1(n,t){n.labels=t}function V1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O1;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function EP(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O1;const e={labels:[],datasets:[]};return k1(e,n.labels),V1(e,n.datasets,t),e}function SP(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:y,updateMode:_,...b}=n,w=at.useRef(null),R=at.useRef(null),C=()=>{w.current&&(R.current=new Ya(w.current,{type:c,data:EP(h,o),options:f&&{...f},plugins:m}),gw(t,R.current))},M=()=>{gw(t,null),R.current&&(R.current.destroy(),R.current=null)};return at.useEffect(()=>{!r&&R.current&&f&&wP(R.current,f)},[r,f]),at.useEffect(()=>{!r&&R.current&&k1(R.current.config.data,h.labels)},[r,h.labels]),at.useEffect(()=>{!r&&R.current&&h.datasets&&V1(R.current.config.data,h.datasets,o)},[r,h.datasets]),at.useEffect(()=>{R.current&&(r?(M(),setTimeout(C)):R.current.update(_))},[r,f,h.labels,h.datasets,_]),at.useEffect(()=>{R.current&&(M(),setTimeout(C))},[c]),at.useEffect(()=>(C(),()=>M()),[]),yw.createElement("canvas",{ref:w,role:"img",height:e,width:i,...b},y)}const AP=at.forwardRef(SP);function Xy(n,t){return Ya.register(t),at.forwardRef((e,i)=>yw.createElement(AP,{...e,ref:i,type:n}))}const RP=Xy("line",wV),P1=Xy("bar",bV),CP=Xy("doughnut",TV);Ya.register(Yy,Ky,I1,Gy,Sd,Ed);const IP=({isDark:n})=>{const t={labels:["January","February","March"],datasets:[{label:"Fuel Consumption",data:[20,42,88],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption Overview",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return E.jsx(P1,{data:t,options:e})};Ya.register(Yy,Ky,Q6,$6,Gy,Sd,Ed);const MP=({isDark:n})=>{const t={labels:["January","February","March","April"],datasets:[{label:"Mileage",data:[40,52,70,88],fill:!1,borderColor:"rgba(101, 119, 255, 1)",tension:.1}]},e={responsive:!0,plugins:{legend:{position:"top",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Mileage Efficiency",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return E.jsx(RP,{data:t,options:e})};Ya.register(z6,Sd,Ed);const NP=({isDark:n})=>{const t={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Total Expenses",color:n?"#FFFCE1":"#0E100F"},tooltip:{backgroundColor:n?"#0E100F":"#FFFCE1",titleColor:n?"#FFFCE1":"#0E100F",bodyColor:n?"#FFFCE1":"#0E100F",borderColor:n?"#555":"#ccc",borderWidth:1}}},e={labels:["January","February","March"],datasets:[{label:"Expenses",data:[300,50,100],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderColor:n?"#0E100F":"#FFFCE1",borderWidth:2}]};return E.jsx(CP,{data:e,options:t})};function DP({isDark:n}){const t=fn();return E.jsxs("div",{className:`flex-col
            fade-in flex items-center justify-center h-screen w-full p-[calc(0.4vw+0.6rem)]`,children:[E.jsx("section",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:`${t?"flex-col items-center gap-[calc(0.4vw+0.6rem)]":"flex-row items-center"}
                    h-auto w-full flex justify-center p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]`,children:[E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("img",{src:Ra,className:`h-[calc(6vw+6.4rem)] w-[calc(6vw+6.4rem)] cursor-pointer\r
                            filter hover:brightness-60 transition duration-300`,alt:""}),E.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),E.jsxs("div",{className:"flex-3 h-full flex flex-col items-start justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[E.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"Subscribe to our newsletter"}),E.jsxs("div",{className:"w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] pl-0",children:[E.jsx("input",{type:"email",placeholder:"Enter your email",className:`${n?"border-[var(--light-color)]":"border-[var(--dark-color)]"}
                                    w-full outline-none px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] border-b`}),E.jsx("i",{className:"bx bx-arrow-right-stroke-circle bx-spin-hover hovered text-[calc(1vw+1.4rem)] cursor-pointer"})]})]}),E.jsxs("div",{className:`${t?"pb-[calc(0.4vw+0.6rem)]":"p-[calc(0.4vw+0.6rem)]"}
                            flex-3 w-full flex items-center justify-center gap-[calc(1.4vw+1.6rem)]`,children:[E.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"About Us"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Mission"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Team"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"})]}),E.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Support"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Contact"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Support"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"FAQ's"})]}),E.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Social"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Facebook"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Instagram"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",onClick:()=>{window.open("https://github.com/Yureusu/DriveSense/actions")},children:"Github"})]})]})]})]})}),E.jsxs("section",{className:"w-full flex flex-row items-center justify-between flex-wrap",children:[E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Copyright  DriveSense 2025"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Terms of Service"}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"A100 Group 6 BSIT Mini-Capstone Project"}),E.jsxs("div",{className:"flex flex-row items-center justify-center",children:[E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Back to top"}),E.jsx("i",{className:"bx bx-arrow-up-square bx-tada-hover text-[calc(1vw+1.4rem)] cursor-pointer hovered",onClick:()=>{const e=document.getElementById("landing-section");e&&e.scrollIntoView({behavior:"smooth"})}})]})]})]})}function OP({isDark:n}){const t=fn();return E.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in h-screen w-full flex flex-col items-center justify-start overflow-y-scroll snap-y snap-mandatory scroll-smooth no-scrollbar`,children:[E.jsxs("section",{id:"landing-section",className:`${t?"flex-col min-h-screen w-full justify-center":"w-[90%] flex-row min-h-screen justify-around snap-start"}
                flex items-center border-b border-[var(--border-color)]`,children:[E.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(1.6vw+1.4rem)] font-bold cursor-pointer hovered",children:"Fuel Consumption and Vehicle Usage Monitoring System"}),!t&&E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),!t&&E.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--dark-color)] font-semibold`,children:"Get Started"}),E.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer font-semibold
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)]`,children:"Sign In"})]})]})}),E.jsx("div",{className:"relative h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:E.jsx("img",{src:e4,className:`${t?"h-[calc(18vw+16rem)] min-w-[calc(18vw+16rem)]":"h-[calc(18vw+16rem)] w-[calc(24vw+18rem)] mb-[48px]"}`,alt:""})}),t&&E.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"w-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),E.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer`,children:"Get Started"}),E.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer font-semibold`,children:"Sign In"})]})]})})]}),E.jsxs("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)] border-b border-[var(--border-color)]`,children:[E.jsx("span",{className:"text-[calc(0.8vw+1rem)] cursor-pointer font-semibold hovered",children:"Why Use DriveSense?"}),E.jsxs("div",{className:`${n?"text-[var(--light-color)]":"text-[var(--dark-color)]"}
                        ${t?"flex-row items-center flex-wrap":"flex-row items-start"}
                        w-full flex justify-center gap-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)]`,children:[E.jsx(Wh,{icon:E.jsx("i",{className:"bx bx-petrol-pump bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Monitor Fuel Consumption",info:"Track fuel volume, cost and refusing data.",isDark:n}),E.jsx(Wh,{icon:E.jsx("i",{className:"bx bx-chart-bar-columns bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Analyze Efficiency",info:"Generate reports on vehicle mileage and performance.",isDark:n}),E.jsx(Wh,{icon:E.jsx("i",{className:"bx bx-car bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Manage Vehicles",info:"Register and update vehicle details with ease.",isDark:n}),E.jsx(Wh,{icon:E.jsx("i",{className:"bx bx-lock-keyhole bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Secure Access",info:"Role: based login for drivers and owners.",isDark:n})]}),E.jsxs("div",{className:`${t?"flex-col justify-start w-full":"flex-row justify-center h-[320px] w-full"}
                    h-auto flex items-center p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[E.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:E.jsx(IP,{isDark:n})}),E.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:E.jsx(MP,{isDark:n})}),E.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:E.jsx(NP,{isDark:n})})]})]}),E.jsx("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)]`,children:E.jsx(DP,{isDark:n})})]})}function kP({isLoggedIn:n,setIsLoggedIn:t,setUser:e}){const[i,r]=at.useState(!1);return E.jsxs("div",{className:`${i?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            h-screen w-screen overflow-hidden flex flex-col items-center justify-start`,children:[E.jsx(t4,{isDark:i,setIsDark:r,isLoggedIn:n,setIsLoggedIn:t,setUser:e}),E.jsx(OP,{isDark:i})]})}const L1=({icon:n,title:t})=>E.jsxs(E.Fragment,{children:[E.jsx("i",{className:`${n} text-[calc(0.6vw+1rem)]`}),E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] hovered",children:t})]});function VP({isDark:n,setIsDark:t,activeIndex:e,setActiveIndex:i,user:r,isLoggedIn:o,setIsLoggedIn:c}){const h=fn(),[f,m]=at.useState(!1),y=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicle"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],_=r?.displayName?.split(" ")[0]??"Guest",b=()=>{const w=lE();QI(w).then(()=>{console.log("Signed out successfully!"),c(R=>!R)}).catch(R=>{console.error(R)})};return E.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[E.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[h&&E.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>m(w=>!w)}),E.jsx("img",{src:Ra,className:"h-[calc(1.2vw+1.8rem)] w-[calc(1.2vw+1.8rem)] cursor-pointer hovered"}),E.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),E.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[r&&E.jsx("img",{src:r?.photoURL??"",className:"rounded-full h-[calc(0.8vw+1.4rem)]  w-[calc(0.8vw+1.4rem)] cursor-pointer",alt:""}),!r&&E.jsx("i",{className:"bx bx-user-circle bx-tada-hover hovered text-[calc(1vw+1.2rem)] cursor-pointer"}),E.jsx("span",{className:`${h?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} 
                    cursor-pointer hovered`,children:h?_:r?.displayName??"Guest"}),E.jsx(_w,{isDark:n,setIsDark:t}),o&&E.jsx("i",{className:"bx bx-arrow-out-right-square-half bx-tada-hover text-[calc(0.4vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out cursor-pointer",onClick:()=>b()})]}),h&&f&&E.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:E.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[E.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>m(w=>!w)}),y.map((w,R)=>E.jsx("div",{className:`${e===R?"bg-[var(--border-color)]":""} flex flex-row items-center justify-start gap-[calc(0.4vw+0.6rem)] 
                            cursor-pointer transition duration-300 ease-in-out`,onClick:()=>i(R),children:E.jsx(L1,{icon:w.icon,title:w.title})},R))]})})]})}function vr({title:n,descrip:t,isDark:e}){return E.jsxs("div",{className:`
            text-[var(--light-color)] bg-[var(--purple-color)]
            h-auto w-full flex flex-col items-start justify-center rounded-lg
            p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer text-center",children:n}),E.jsx("span",{className:"text-[calc(0.6vw+1.2rem)] cursor-pointer",children:t})]})}function $y(n){const[t,e]=at.useState([]),[i,r]=at.useState(!0),[o,c]=at.useState(null),h=at.useCallback(async()=>{if(n?.uid)try{r(!0);const f=vd(vi,"users",n.uid,"fuels"),m=await bd(f),y=[];m.forEach(_=>{const b=_.data();y.push({id:_.id||null,vehicle:b.vehicle??"null",volume:b.volume??"null",cost:b.cost??"null",addedBy:b.addedBy??"null",logDate:b.logDate??"null"})}),e(y)}catch(f){console.error("Failed to fetch fuel logs:",f),c(f)}finally{r(!1)}},[n]);return at.useEffect(()=>{h()},[h]),{fuelInfo:t,loading:i,error:o,refetch:h}}Ya.register(Yy,Ky,I1,Gy,Sd,Ed);const PP=({isDark:n,user:t})=>{const{fuelInfo:e}=$y(t),[i,r]=at.useState([]),[o,c]=at.useState([]);at.useEffect(()=>{const m=e.map(_=>Number(_.cost));r(m);const y=e.map(_=>_.logDate?new Date(_.logDate).toISOString().split("T")[0]:null).filter(_=>!!_);c(y)},[e]),console.log(o);const h={labels:o,datasets:[{label:"Fuel Consumption",data:i,backgroundColor:["rgba(101, 119, 255, 1)"],borderWidth:1}]},f={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption",color:n?"#FFFCE1":"#0E100F",align:"start",font:{size:16}}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return E.jsx(P1,{data:h,options:f})};function Rd(n){const[t,e]=at.useState([]),[i,r]=at.useState(!0),[o,c]=at.useState(null),h=at.useCallback(async()=>{if(n?.uid)try{r(!0);const f=vd(vi,"users",n.uid,"vehicles"),m=await bd(f),y=[];m.forEach(_=>{const b=_.data();y.push({id:_.id,plateNumber:b.plateNumber??"null",model:b.model??"null",driver:b.driver??"null",createdAt:b.createdAt??"null"})}),e(y)}catch(f){console.error("Failed to fetch vehicle logs:",f),c(f)}finally{r(!1)}},[n]);return at.useEffect(()=>{h()},[h]),{vehicleInfo:t,loading:i,error:o,refetch:h}}function Cd(n){const[t,e]=at.useState([]),[i,r]=at.useState(!0),[o,c]=at.useState(null),h=at.useCallback(async()=>{if(n?.uid)try{r(!0);const f=vd(vi,"users",n.uid,"drivers"),m=await bd(f),y=[];m.forEach(_=>{const b=_.data();y.push({id:_.id,name:b.name??"null",contact:b.contact??"null",license:b.license??"null"})}),e(y)}catch(f){console.error("Failed to fetch vehicle logs:",f),c(f)}finally{r(!1)}},[n]);return at.useEffect(()=>{h()},[h]),{driverInfo:t,loading:i,error:o,refetch:h}}function j1(n){const[t,e]=at.useState([]),[i,r]=at.useState(!0),[o,c]=at.useState(null),h=at.useCallback(async()=>{if(n?.uid)try{r(!0);const f=vd(vi,"users",n.uid,"maintenance"),m=await bd(f),y=[];m.forEach(_=>{const b=_.data();y.push({id:_.id||null,vehicle:b.vehicle??"null",desrcription:b.description??"null",cost:b.cost??"null",createdAt:b.createdAt??"null"})}),e(y)}catch(f){console.error("Failed to fetch fuel logs:",f),c(f)}finally{r(!1)}},[n]);return at.useEffect(()=>{h()},[h]),{maintenanceInfo:t,loading:i,error:o,refetch:h}}function pw({isDark:n,user:t}){const{fuelInfo:e}=$y(t),{vehicleInfo:i}=Rd(t),{driverInfo:r}=Cd(t),{maintenanceInfo:o}=j1(t),c=fn(),[h,f]=at.useState(0),[m,y]=at.useState([]),[_,b]=at.useState("0"),[w,R]=at.useState("0"),[C,M]=at.useState(0);return at.useEffect(()=>{const L=e.map($=>Number($.cost));y(L),console.log("Fuel cost arr: ",m);const B=i.length;f(B);const H=r.length;b(H.toString());const Z=o.length;R(Z.toString())},[e]),at.useEffect(()=>{if(m.length>0&&h>0){const L=m?.reduce((B,H)=>B+H,0);M(L)}else M(0)},[m]),E.jsxs("section",{id:"main",className:`${c?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
        flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:[E.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Dashboard"}),E.jsxs("span",{className:"text-[calc(0.4vw+0.8rem)] cursor-pointer hovered",children:["Welcome back, ",t?.displayName]}),!c&&E.jsxs("div",{className:"h-auto w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx(vr,{title:"Total Vehicles",descrip:h.toString()??"0",isDark:n}),E.jsx(vr,{title:"Monthly Fuel Cost",descrip:C?.toString()??"0",isDark:n}),E.jsx(vr,{title:"Total Drivers",descrip:_,isDark:n}),E.jsx(vr,{title:"Maintenance Logs",descrip:w,isDark:n})]}),c&&E.jsxs("div",{className:"h-auto w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[E.jsx(vr,{title:"Total Vehicles",descrip:h.toString()??"0",isDark:n}),E.jsx(vr,{title:"Monthly Fuel Cost",descrip:C?.toString()??"0",isDark:n})]}),E.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[E.jsx(vr,{title:"Mileage Efficiency",descrip:_,isDark:n}),E.jsx(vr,{title:"Total Trips",descrip:w,isDark:n})]})]})]}),E.jsxs("div",{className:`${c?"flex-col items-center mt-[calc(0.4vw+0.6rem)]":"flex-row items-start"}
                h-full w-full flex justify-start gap-[calc(0.4vw+0.6rem)]`,children:[E.jsx("div",{className:`${c?"w-full":"flex-1"}
                    h-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:E.jsx(PP,{isDark:n,user:t})}),E.jsxs("div",{className:`${c?"w-full":"flex-1"}
                    h-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:[E.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] p-[calc(0.4vw+0.6rem)] pl-0 cursor-pointer",children:"Recent Activity"}),E.jsx("div",{className:"h-full w-full flex flex-row items-start justify-around py-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"w-full flex flex-row items-center justify-start",children:[E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Activity"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Date"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Time"})]})})]})]})]})}function LP({user:n,isDark:t,vehicleInfo:e,setVehicleInfo:i,setIsVisible:r}){const{driverInfo:o}=Cd(n),[c,h]=at.useState(!1),f=fn(),[m,y]=at.useState(null);at.useEffect(()=>{if(console.log("driverInfo prop:",o),o&&Array.isArray(o)){const B=o.map(H=>H.name??"null");y(B)}},[o]),at.useEffect(()=>{console.log("Driver Names: ",m)},[m]);const[_,b]=at.useState(null),[w,R]=at.useState(null),[C,M]=at.useState(null),L=async()=>{if(!n?.uid)return;const B=new Date,H=`${B.toLocaleDateString()} ${B.toLocaleTimeString()}`,Z=(e.length+1).toString(),$=qa(vi,"users",n?.uid,"vehicles",Z),st=await du($,{id:Z,plateNumber:_,model:w,driver:C,createdAt:H}),N={id:Z,plateNumber:_,model:w,driver:C,createdAt:H};i(A=>[...A,N]),console.log(e),console.log("Added the vehicle successfully: ",st),h(A=>!A),r(!1)};return E.jsx(E.Fragment,{children:!c&&E.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:E.jsxs("div",{className:`${t?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[E.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>h(B=>!B)}),E.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[E.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:E.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),E.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("input",{type:"text",placeholder:"Plate Number",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:B=>b(B.target.value),required:!0}),E.jsx("input",{type:"text",placeholder:"Model",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:B=>R(B.target.value),required:!0}),E.jsxs("select",{id:"driver-names",value:C??"",className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",onChange:B=>M(B.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),m?.map((B,H)=>E.jsx("option",{value:B,className:"text-[var(--dark-color)] cursor-pointer",children:B},H))]}),E.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>L(),children:"Continue"})]})]})]})})})}function jP({selectedDriverIndex:n,user:t,refetch:e,setIsDelete:i}){at.useEffect(()=>{console.log("SelectedDriverIndex: ",n)},[]);const[r,o]=at.useState(!0),c=async()=>{try{if(!t?.uid||n===null)return;const h=qa(vi,"users",t?.uid,"vehicles",n.toString());await BS(h),e()}catch(h){console.error(h)}o(!1),i(!1),console.log("Deleted vehicle successfully!")};return E.jsx(E.Fragment,{children:r&&E.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:E.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[E.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>o(!1)}),E.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[E.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this vehicle?"})}),E.jsxs("div",{className:"flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>o(!1),children:"No"}),E.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>c(),children:"Yes"})]})]})]})})})}function zP({isDark:n,user:t,driverInfo:e}){const i=fn(),[r,o]=at.useState(!1),[c,h]=at.useState(!1),[f,m]=at.useState(null),{vehicleInfo:y,loading:_,error:b,refetch:w}=Rd(t);return _?E.jsx("p",{className:"w-full text-center text-gray-500",children:"Loading vehicles..."}):b?E.jsxs("p",{className:"w-full text-center text-red-500",children:["Error: ",b.message]}):E.jsxs("section",{id:"main",className:`${i?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[E.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Vehicle Information"}),E.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>o(R=>!R),children:[E.jsx("i",{className:"bx bx-plus bx-tada-hover"}),E.jsx("span",{children:"Add Vehicle"})]})]}),r&&E.jsx(LP,{user:t,driverInfo:e,isDark:n,vehicleInfo:y,setVehicleInfo:()=>w(),setIsVisible:o}),E.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Driver"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Plate no."}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Model"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Created At"}),E.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:E.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover text-[calc(0.6vw+1rem)] cursor-pointer hover:text-[var(--dark-color)] transition duration-300 ease-in-out",onClick:w})})]})}),y.map(R=>E.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"flex flex-row items-start justify-start",children:[E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:R.id??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:R.driver??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:R.plateNumber??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:R.model??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:R.createdAt??"null"}),E.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),E.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer",onClick:()=>{h(C=>!C),m(Number(R.id))}})]})]})},R.id)),c&&E.jsx(jP,{selectedDriverIndex:f,user:t,refetch:w,setIsDelete:h})]})]})}function UP({user:n,refetch:t,driverInfo:e,setIsAddDriverVisible:i}){const[r,o]=at.useState(!0),[c,h]=at.useState(""),[f,m]=at.useState(""),[y,_]=at.useState(""),b=async()=>{try{if(!n?.uid)return;const w=(e.length+1).toString(),R=qa(vi,"users",n.uid,"drivers",w);await du(R,{name:c,contact:f,license:y}),console.log("Added the driver successfully"),t(),o(C=>!C),i(!1)}catch(w){console.error("Can't add the driver.",w)}};return E.jsx(E.Fragment,{children:r&&E.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:E.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[E.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>o(w=>!w)}),E.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[E.jsx("div",{className:"w-full flex flex-col items-center justify-end",children:E.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new driver"})}),E.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("input",{type:"text",placeholder:"Name",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:w=>h(w.target.value),required:!0}),E.jsx("input",{type:"text",placeholder:"Contact",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:w=>m(w.target.value),required:!0}),E.jsx("input",{type:"text",placeholder:"License",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:w=>_(w.target.value),required:!0}),E.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                    bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:b,children:"Continue"})]})]})]})})})}function BP({user:n,driverId:t,driverIndex:e,driverInfo:i,setDriverInfo:r,refetch:o,setIsDelete:c}){const[h,f]=at.useState(!0),m=fn(),y=async()=>{try{if(!n?.uid||!t)return;const _=qa(vi,"users",n?.uid,"drivers",t);await BS(_),r(b=>b.filter((w,R)=>R!==e)),o(),f(b=>!b),c(!1)}catch(_){console.error("Cant delete the driver.",_)}};return console.log("Updated driver info: ",i),E.jsx(E.Fragment,{children:h&&E.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:E.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[E.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>f(_=>!_)}),E.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[E.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:E.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this driver?"})}),E.jsxs("div",{className:`
                            flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]`,children:[E.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>f(_=>!_),children:"No"}),E.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>y(),children:"Yes"})]})]})]})})})}function FP({isDark:n,user:t}){const[e,i]=at.useState([]),r=fn(),[o,c]=at.useState(!1),[h,f]=at.useState(!1),[m,y]=at.useState(null),[_,b]=at.useState(null),{driverInfo:w,loading:R,error:C,refetch:M}=Cd(t);return R?E.jsx("p",{className:"w-full text-center text-gray-500",children:"Loading drivers..."}):C?E.jsxs("p",{className:"w-full text-center text-red-500",children:["Error: ",C.message]}):E.jsxs("section",{id:"main",className:`${r?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-auto"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[E.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Driver Information"}),E.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-lg cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>c(L=>!L),children:[E.jsx("i",{className:"bx bx-plus bx-tada-hover"}),E.jsx("span",{children:"Add Driver"})]})]}),o&&E.jsx(UP,{user:t,refetch:M,driverInfo:w,setIsAddDriverVisible:c}),E.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start gap-[calc(0.6vw+1rem)]",children:[E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Name"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Contact"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"License"}),E.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:E.jsx("i",{title:"Refresh",className:"bx bx-refresh bx-spin-hover text-[calc(0.6vw+1rem)] cursor-pointer hover:text-[var(--dark-color)] transition duration-300 ease-in-out",onClick:M})})]})}),w.map((L,B)=>E.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"flex flex-row items-start justify-start gap-[calc(0.6vw+1rem)]",children:[E.jsx("span",{className:"flex-1",children:L.id??"null"}),E.jsx("span",{className:"flex-1",children:L.name??"null"}),E.jsx("span",{className:"flex-1",children:L.contact??"null"}),E.jsx("span",{className:"flex-1",children:L.license??"null"}),E.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),E.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer",onClick:()=>{f(!0),y(L.id??"null"),b(B)}})]})]})},L.id??B)),h&&m&&E.jsx(BP,{user:t,driverId:m,driverIndex:_,driverInfo:e,setDriverInfo:i,refetch:M,setIsDelete:f})]})]})}function HP({isDark:n,user:t,fuelInfo:e,refetch:i,setIsAddFuel:r}){const{vehicleInfo:o}=Rd(t),{driverInfo:c}=Cd(t),[h,f]=at.useState([]),[m,y]=at.useState([]),[_,b]=at.useState([]);at.useEffect(()=>{if(!o||!c||!e)return;const A=o.map(O=>O.model??"null");f(A);const D=c.map(O=>O.name??"null");y(D);const P=e.map(O=>O.id??"null");b(P)},[o,c,e]),at.useEffect(()=>{console.log("Updated vehicleModel:",h)},[h]);const[w,R]=at.useState(!0),[C,M]=at.useState(null),[L,B]=at.useState(null),[H,Z]=at.useState(null),[$,st]=at.useState(null),N=async()=>{try{if(!t?.uid)return;const A=(_.length+1).toString(),D=new Date,P=`${D.toLocaleDateString()} ${D.toLocaleTimeString()}`,O=qa(vi,"users",t?.uid,"fuels",A);await du(O,{id:A,vehicle:C,volume:L,cost:H,addedBy:$,logDate:P}),R(j=>!j),r(j=>!j),i()}catch(A){console.error("Cant add fuel log.",A)}};return E.jsx(E.Fragment,{children:w&&E.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:E.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[E.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>R(A=>!A)}),E.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[E.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:E.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),E.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",value:C??"",onChange:A=>M(A.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"Select a vehicle"}),h?.map((A,D)=>E.jsx("option",{value:A,className:"text-[var(--dark-color)] cursor-pointer",children:A},D))]}),E.jsx("input",{type:"text",placeholder:"Volume",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:A=>B(A.target.value),required:!0}),E.jsx("input",{type:"text",placeholder:"Cost",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:A=>Z(A.target.value),required:!0}),E.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",value:$??"",onChange:A=>st(A.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),m?.map((A,D)=>E.jsx("option",{value:A,className:"text-[var(--dark-color)] cursor-pointer",children:A},D))]}),E.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>N(),children:"Continue"})]})]})]})})})}function qP({isDark:n,user:t,driverInfo:e,vehicleInfo:i}){const r=fn(),{fuelInfo:o,loading:c,error:h,refetch:f}=$y(t),[m,y]=at.useState(null),[_,b]=at.useState(null),[w,R]=at.useState(!1);return at.useEffect(()=>{if(e){const C=e.map(M=>M.name??"null");y(C)}},[e]),at.useEffect(()=>{if(i){const C=i.map(M=>M.model??"null");b(C)}},[i]),c?E.jsx("p",{className:"w-full text-center text-gray-500",children:"Loading fuel logs..."}):h?E.jsxs("p",{className:"w-full text-center text-red-500",children:["Error: ",h.message]}):E.jsxs("section",{id:"main",className:`${r?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[E.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Fuel Logs"}),E.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>R(C=>!C),children:[E.jsx("i",{className:"bx bx-plus bx-tada-hover"}),E.jsx("span",{children:"Add Fuel Log"})]})]}),w&&E.jsx(HP,{isDark:n,user:t,fuelInfo:o,refetch:f,setIsAddFuel:R}),E.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Vehicle"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Volume(L)"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Cost"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Added By"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Log Date"}),E.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:E.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>f()})})]})}),o.map((C,M)=>E.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"flex flex-row items-start justify-start",children:[E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.id??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.vehicle??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.volume??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.cost??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.addedBy??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.logDate??"null"}),E.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),E.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer"})]})]})},C.id??M))]})]})}function GP({isDark:n,user:t,maintenanceInfo:e,refetch:i,setIsAddMaintenance:r}){const{vehicleInfo:o}=Rd(t),[c,h]=at.useState(!0),[f,m]=at.useState([]),[y,_]=at.useState([]);at.useEffect(()=>{const H=o.map($=>$.model??"null");m(H);const Z=e.map($=>$.id??"null");_(Z)},[o]);const[b,w]=at.useState(null),[R,C]=at.useState(null),[M,L]=at.useState(null),B=async()=>{try{if(!t?.uid)return;const H=(y.length+1).toString(),Z=new Date,$=`${Z.toLocaleDateString()} ${Z.toLocaleTimeString()}`,st=qa(vi,"users",t?.uid,"maintenance",H);await du(st,{id:H,vehicle:b,description:R,cost:M,createdAt:$}),i(),h(N=>!N),r(N=>!N)}catch(H){console.log(H)}};return E.jsx(E.Fragment,{children:c&&E.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:E.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[E.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>h(H=>!H)}),E.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[E.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:E.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new record"})}),E.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[E.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",value:b??"",onChange:H=>w(H.target.value),children:[E.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select a vehicle"}),f?.map((H,Z)=>E.jsx("option",{value:H,className:"text-[var(--dark-color)] cursor-pointer",children:H},Z))]}),E.jsx("input",{maxLength:20,type:"text",placeholder:"Description",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:H=>C(H.target.value),required:!0}),E.jsx("input",{type:"text",placeholder:"Cost",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:H=>L(H.target.value),required:!0}),E.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>B(),children:"Continue"})]})]})]})})})}function YP({user:n,isDark:t,vehicleInfo:e}){const{maintenanceInfo:i,loading:r,error:o,refetch:c}=j1(n),h=fn(),[f,m]=at.useState(!1),[y,_]=at.useState(null);return at.useEffect(()=>{if(e){const b=e.map(w=>w.model??"null");_(b)}},[e]),r?E.jsx("p",{className:"w-full text-center text-gray-500",children:"Loading maintenance records..."}):o?E.jsxs("p",{className:"w-full text-center text-red-500",children:["Error: ",o.message]}):E.jsxs("section",{id:"main",className:`${h?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[E.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Maintenance Records"}),E.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>m(b=>!b),children:[E.jsx("i",{className:"bx bx-plus bx-tada-hover"}),E.jsx("span",{children:"Add Maintenance"})]})]}),f&&E.jsx(GP,{isDark:t,user:n,maintenanceInfo:i,vehicleInfo:e,refetch:c,setIsAddMaintenance:m}),E.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Vehicle"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] flex-wrap",children:"Description"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Cost"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Created At"}),E.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:E.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>c()})})]})}),i.map((b,w)=>E.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:E.jsxs("div",{className:"flex flex-row items-start justify-start",children:[E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.id??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.vehicle??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.desrcription??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.cost??"null"}),E.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.createdAt??"null"}),E.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[E.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),E.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer"})]})]})},b.id??w))]})]})}function KP({isDark:n}){const t=fn();return E.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Reports Tab"})}function XP({isDark:n}){const t=fn();return E.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Users Tab"})}function $P({isDark:n}){const t=fn();return E.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Settings Tab"})}function QP({isDark:n,activeIndex:t,setActiveIndex:e,user:i,driverInfo:r,vehicleInfo:o}){const c=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-user bx-tada-hover hovered",title:"Drivers"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicles"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],h=[E.jsx(pw,{isDark:n,user:i}),E.jsx(FP,{isDark:n,user:i}),E.jsx(zP,{isDark:n,user:i,driverInfo:r}),E.jsx(qP,{isDark:n,user:i,driverInfo:r,vehicleInfo:o}),E.jsx(YP,{isDark:n,user:i,vehicleInfo:o}),E.jsx(KP,{isDark:n}),E.jsx(XP,{isDark:n}),E.jsx($P,{isDark:n})],f=fn();return E.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            ${f?"h-auto":"h-screen"}
            fade-in w-full flex flex-row items-start justify-center p-[calc(0.4vw+0.6rem)]`,children:[!f&&E.jsx("section",{id:"side-nav",className:"h-full w-full flex-1",children:c.map((m,y)=>E.jsx("div",{className:`${t===y?"text-[var(--dark-color)] bg-[var(--border-color)]":""} flex flex-row items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] 
                        cursor-pointer transition duration-300 ease-in-out`,onClick:()=>e(y),children:E.jsx(L1,{icon:m.icon,title:m.title})},y))}),h[t]??E.jsx(pw,{isDark:n,user:i})]})}function WP({user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,maintenanceInfo:o,isLoggedIn:c,setIsLoggedIn:h,fuelInfo:f}){const[m,y]=at.useState(!1),[_,b]=at.useState(0);return E.jsxs("div",{children:[E.jsx(VP,{isDark:m,setIsDark:y,activeIndex:_,setActiveIndex:b,user:n,isLoggedIn:c,setIsLoggedIn:h}),E.jsx(QP,{isDark:m,activeIndex:_,setActiveIndex:b,user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,maintenanceInfo:o,fuelInfo:f})]})}function ZP(){const[n,t]=at.useState(!1),[e,i]=at.useState(null),[r,o]=at.useState([]),[c,h]=at.useState([]),[f,m]=at.useState([]),[y,_]=at.useState([]);return E.jsxs("div",{children:[!n&&E.jsx(kP,{isLoggedIn:n,setIsLoggedIn:t,setUser:i}),n&&E.jsx(WP,{user:e,isLoggedIn:n,setIsLoggedIn:t,driverInfo:r,setDriverInfo:o,vehicleInfo:c,setVehicleInfo:h,fuelInfo:f,setFuelInfo:m,maintenanceInfo:y,setMaintenanceInfo:_})]})}SR.createRoot(document.getElementById("root")).render(E.jsx(at.StrictMode,{children:E.jsx(ZP,{})}));
