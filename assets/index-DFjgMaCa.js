(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function $A(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _m={exports:{}},uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function WA(){if(ob)return uc;ob=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return uc.Fragment=t,uc.jsx=e,uc.jsxs=e,uc}var lb;function ZA(){return lb||(lb=1,_m.exports=WA()),_m.exports}var U=ZA(),ym={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function JA(){if(cb)return wt;cb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,M={};function j(L,J,lt){this.props=L,this.context=J,this.refs=M,this.updater=lt||R}j.prototype.isReactComponent={},j.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function $(L,J,lt){this.props=L,this.context=J,this.refs=M,this.updater=lt||R}var et=$.prototype=new Y;et.constructor=$,I(et,j.prototype),et.isPureReactComponent=!0;var W=Array.isArray;function rt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(L,J,lt){var ct=lt.ref;return{$$typeof:n,type:L,key:J,ref:ct!==void 0?ct:null,props:lt}}function V(L,J){return D(L.type,J,L.props)}function N(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function P(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(lt){return J[lt]})}var O=/\/+/g;function Dt(L,J){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):J.toString(36)}function Et(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(rt,rt):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function K(L,J,lt,ct,pt){var bt=typeof L;(bt==="undefined"||bt==="boolean")&&(L=null);var Bt=!1;if(L===null)Bt=!0;else switch(bt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(L.$$typeof){case n:case t:Bt=!0;break;case _:return Bt=L._init,K(Bt(L._payload),J,lt,ct,pt)}}if(Bt)return pt=pt(L),Bt=ct===""?"."+Dt(L,0):ct,W(pt)?(lt="",Bt!=null&&(lt=Bt.replace(O,"$&/")+"/"),K(pt,J,lt,"",function(zr){return zr})):pt!=null&&(N(pt)&&(pt=V(pt,lt+(pt.key==null||L&&L.key===pt.key?"":(""+pt.key).replace(O,"$&/")+"/")+Bt)),J.push(pt)),1;Bt=0;var Pe=ct===""?".":ct+":";if(W(L))for(var ue=0;ue<L.length;ue++)ct=L[ue],bt=Pe+Dt(ct,ue),Bt+=K(ct,J,lt,bt,pt);else if(ue=S(L),typeof ue=="function")for(L=ue.call(L),ue=0;!(ct=L.next()).done;)ct=ct.value,bt=Pe+Dt(ct,ue++),Bt+=K(ct,J,lt,bt,pt);else if(bt==="object"){if(typeof L.then=="function")return K(Et(L),J,lt,ct,pt);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function at(L,J,lt){if(L==null)return L;var ct=[],pt=0;return K(L,ct,"","",function(bt){return J.call(lt,bt,pt++)}),ct}function ht(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(lt){(L._status===0||L._status===-1)&&(L._status=1,L._result=lt)},function(lt){(L._status===0||L._status===-1)&&(L._status=2,L._result=lt)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var vt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},kt={map:at,forEach:function(L,J,lt){at(L,function(){J.apply(this,arguments)},lt)},count:function(L){var J=0;return at(L,function(){J++}),J},toArray:function(L){return at(L,function(J){return J})||[]},only:function(L){if(!N(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return wt.Activity=v,wt.Children=kt,wt.Component=j,wt.Fragment=e,wt.Profiler=r,wt.PureComponent=$,wt.StrictMode=i,wt.Suspense=f,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},wt.cache=function(L){return function(){return L.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(L,J,lt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ct=I({},L.props),pt=L.key;if(J!=null)for(bt in J.key!==void 0&&(pt=""+J.key),J)!w.call(J,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&J.ref===void 0||(ct[bt]=J[bt]);var bt=arguments.length-2;if(bt===1)ct.children=lt;else if(1<bt){for(var Bt=Array(bt),Pe=0;Pe<bt;Pe++)Bt[Pe]=arguments[Pe+2];ct.children=Bt}return D(L.type,pt,ct)},wt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},wt.createElement=function(L,J,lt){var ct,pt={},bt=null;if(J!=null)for(ct in J.key!==void 0&&(bt=""+J.key),J)w.call(J,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(pt[ct]=J[ct]);var Bt=arguments.length-2;if(Bt===1)pt.children=lt;else if(1<Bt){for(var Pe=Array(Bt),ue=0;ue<Bt;ue++)Pe[ue]=arguments[ue+2];pt.children=Pe}if(L&&L.defaultProps)for(ct in Bt=L.defaultProps,Bt)pt[ct]===void 0&&(pt[ct]=Bt[ct]);return D(L,bt,pt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(L){return{$$typeof:h,render:L}},wt.isValidElement=N,wt.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:ht}},wt.memo=function(L,J){return{$$typeof:g,type:L,compare:J===void 0?null:J}},wt.startTransition=function(L){var J=C.T,lt={};C.T=lt;try{var ct=L(),pt=C.S;pt!==null&&pt(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(rt,vt)}catch(bt){vt(bt)}finally{J!==null&&lt.types!==null&&(J.types=lt.types),C.T=J}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(L){return C.H.use(L)},wt.useActionState=function(L,J,lt){return C.H.useActionState(L,J,lt)},wt.useCallback=function(L,J){return C.H.useCallback(L,J)},wt.useContext=function(L){return C.H.useContext(L)},wt.useDebugValue=function(){},wt.useDeferredValue=function(L,J){return C.H.useDeferredValue(L,J)},wt.useEffect=function(L,J){return C.H.useEffect(L,J)},wt.useEffectEvent=function(L){return C.H.useEffectEvent(L)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(L,J,lt){return C.H.useImperativeHandle(L,J,lt)},wt.useInsertionEffect=function(L,J){return C.H.useInsertionEffect(L,J)},wt.useLayoutEffect=function(L,J){return C.H.useLayoutEffect(L,J)},wt.useMemo=function(L,J){return C.H.useMemo(L,J)},wt.useOptimistic=function(L,J){return C.H.useOptimistic(L,J)},wt.useReducer=function(L,J,lt){return C.H.useReducer(L,J,lt)},wt.useRef=function(L){return C.H.useRef(L)},wt.useState=function(L){return C.H.useState(L)},wt.useSyncExternalStore=function(L,J,lt){return C.H.useSyncExternalStore(L,J,lt)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.0",wt}var ub;function wp(){return ub||(ub=1,ym.exports=JA()),ym.exports}var _e=wp();const oS=$A(_e);var vm={exports:{}},hc={},bm={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function tR(){return hb||(hb=1,(function(n){function t(K,at){var ht=K.length;K.push(at);t:for(;0<ht;){var vt=ht-1>>>1,kt=K[vt];if(0<r(kt,at))K[vt]=at,K[ht]=kt,ht=vt;else break t}}function e(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var at=K[0],ht=K.pop();if(ht!==at){K[0]=ht;t:for(var vt=0,kt=K.length,L=kt>>>1;vt<L;){var J=2*(vt+1)-1,lt=K[J],ct=J+1,pt=K[ct];if(0>r(lt,ht))ct<kt&&0>r(pt,lt)?(K[vt]=pt,K[ct]=ht,vt=ct):(K[vt]=lt,K[J]=ht,vt=J);else if(ct<kt&&0>r(pt,ht))K[vt]=pt,K[ct]=ht,vt=ct;else break t}}return at}function r(K,at){var ht=K.sortIndex-at.sortIndex;return ht!==0?ht:K.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],_=1,v=null,T=3,S=!1,R=!1,I=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function et(K){for(var at=e(g);at!==null;){if(at.callback===null)i(g);else if(at.startTime<=K)i(g),at.sortIndex=at.expirationTime,t(f,at);else break;at=e(g)}}function W(K){if(I=!1,et(K),!R)if(e(f)!==null)R=!0,rt||(rt=!0,P());else{var at=e(g);at!==null&&Et(W,at.startTime-K)}}var rt=!1,C=-1,w=5,D=-1;function V(){return M?!0:!(n.unstable_now()-D<w)}function N(){if(M=!1,rt){var K=n.unstable_now();D=K;var at=!0;try{t:{R=!1,I&&(I=!1,Y(C),C=-1),S=!0;var ht=T;try{e:{for(et(K),v=e(f);v!==null&&!(v.expirationTime>K&&V());){var vt=v.callback;if(typeof vt=="function"){v.callback=null,T=v.priorityLevel;var kt=vt(v.expirationTime<=K);if(K=n.unstable_now(),typeof kt=="function"){v.callback=kt,et(K),at=!0;break e}v===e(f)&&i(f),et(K)}else i(f);v=e(f)}if(v!==null)at=!0;else{var L=e(g);L!==null&&Et(W,L.startTime-K),at=!1}}break t}finally{v=null,T=ht,S=!1}at=void 0}}finally{at?P():rt=!1}}}var P;if(typeof $=="function")P=function(){$(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Dt=O.port2;O.port1.onmessage=N,P=function(){Dt.postMessage(null)}}else P=function(){j(N,0)};function Et(K,at){C=j(function(){K(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(K){switch(T){case 1:case 2:case 3:var at=3;break;default:at=T}var ht=T;T=at;try{return K()}finally{T=ht}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ht=T;T=K;try{return at()}finally{T=ht}},n.unstable_scheduleCallback=function(K,at,ht){var vt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?vt+ht:vt):ht=vt,K){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=ht+kt,K={id:_++,callback:at,priorityLevel:K,startTime:ht,expirationTime:kt,sortIndex:-1},ht>vt?(K.sortIndex=ht,t(g,K),e(f)===null&&K===e(g)&&(I?(Y(C),C=-1):I=!0,Et(W,ht-vt))):(K.sortIndex=kt,t(f,K),R||S||(R=!0,rt||(rt=!0,P()))),K},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(K){var at=T;return function(){var ht=T;T=at;try{return K.apply(this,arguments)}finally{T=ht}}}})(Tm)),Tm}var fb;function eR(){return fb||(fb=1,bm.exports=tR()),bm.exports}var Em={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function nR(){if(db)return sn;db=1;var n=wp();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,_)},sn.flushSync=function(f){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=_,i.d.f()}},sn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},sn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},sn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var _=g.as,v=h(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):_==="script"&&i.d.X(f,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},sn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=h(_,g.crossOrigin);i.d.L(f,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(f,g){if(typeof f=="string")if(g){var _=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},sn.requestFormReset=function(f){i.d.r(f)},sn.unstable_batchedUpdates=function(f,g){return f(g)},sn.useFormState=function(f,g,_){return c.H.useFormState(f,g,_)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var gb;function iR(){if(gb)return Em.exports;gb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Em.exports=nR(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function sR(){if(mb)return hc;mb=1;var n=eR(),t=wp(),e=iR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function g(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),s;if(p===u)return f(m),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=p;else{for(var b=!1,x=m.child;x;){if(x===l){b=!0,l=m,u=p;break}if(x===u){b=!0,u=m,l=p;break}x=x.sibling}if(!b){for(x=p.child;x;){if(x===l){b=!0,l=p,u=m;break}if(x===u){b=!0,u=p,l=m;break}x=x.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function _(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=_(s),a!==null)return a;s=s.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case j:return"Profiler";case M:return"StrictMode";case W:return"Suspense";case rt:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case $:return s.displayName||"Context";case Y:return(s._context.displayName||"Context")+".Consumer";case et:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case w:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var Et=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},vt=[],kt=-1;function L(s){return{current:s}}function J(s){0>kt||(s.current=vt[kt],vt[kt]=null,kt--)}function lt(s,a){kt++,vt[kt]=s.current,s.current=a}var ct=L(null),pt=L(null),bt=L(null),Bt=L(null);function Pe(s,a){switch(lt(bt,a),lt(pt,s),lt(ct,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?M0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=M0(a),s=D0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(ct),lt(ct,s)}function ue(){J(ct),J(pt),J(bt)}function zr(s){s.memoizedState!==null&&lt(Bt,s);var a=ct.current,l=D0(a,s.type);a!==l&&(lt(pt,s),lt(ct,l))}function Fa(s){pt.current===s&&(J(ct),J(pt)),Bt.current===s&&(J(Bt),ac._currentValue=ht)}var Ha,qa;function yi(s){if(Ha===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ha=a&&a[1]||"",qa=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+s+qa}var al=!1;function Ur(s,a){if(!s||al)return"";al=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var G=Q}Reflect.construct(s,[],nt)}else{try{nt.call()}catch(Q){G=Q}s.call(nt.prototype)}}else{try{throw Error()}catch(Q){G=Q}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],x=p[1];if(b&&x){var k=b.split(`
`),q=x.split(`
`);for(m=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(u===k.length||m===q.length)for(u=k.length-1,m=q.length-1;1<=u&&0<=m&&k[u]!==q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(k[u]!==q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||k[u]!==q[m]){var Z=`
`+k[u].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=u&&0<=m);break}}}finally{al=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?yi(l):""}function ol(s,a){switch(s.tag){case 26:case 27:case 5:return yi(s.type);case 16:return yi("Lazy");case 13:return s.child!==a&&a!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Ur(s.type,!1);case 11:return Ur(s.type.render,!1);case 1:return Ur(s.type,!0);case 31:return yi("Activity");default:return""}}function ll(s){try{var a="",l=null;do a+=ol(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var we=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,Ps=n.unstable_cancelCallback,vd=n.unstable_shouldYield,uu=n.unstable_requestPaint,fn=n.unstable_now,jr=n.unstable_getCurrentPriorityLevel,cl=n.unstable_ImmediatePriority,ul=n.unstable_UserBlockingPriority,Ls=n.unstable_NormalPriority,bd=n.unstable_LowPriority,hu=n.unstable_IdlePriority,fu=n.log,du=n.unstable_setDisableYieldValue,ti=null,Xe=null;function kn(s){if(typeof fu=="function"&&du(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ti,s)}catch{}}var ve=Math.clz32?Math.clz32:mu,gu=Math.log,Ga=Math.LN2;function mu(s){return s>>>=0,s===0?32:31-(gu(s)/Ga|0)|0}var vi=256,Br=262144,Ae=4194304;function bi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ti(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var x=u&134217727;return x!==0?(u=x&~p,u!==0?m=bi(u):(b&=x,b!==0?m=bi(b):l||(l=x&~s,l!==0&&(m=bi(l))))):(x=u&~p,x!==0?m=bi(x):b!==0?m=bi(b):l||(l=u&~s,l!==0&&(m=bi(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function ei(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Td(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Ei(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Fr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ed(s,a,l,u,m,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var x=s.entanglements,k=s.expirationTimes,q=s.hiddenUpdates;for(l=b&~l;0<l;){var Z=31-ve(l),nt=1<<Z;x[Z]=0,k[Z]=-1;var G=q[Z];if(G!==null)for(q[Z]=null,Z=0;Z<G.length;Z++){var Q=G[Z];Q!==null&&(Q.lane&=-536870913)}l&=~nt}u!==0&&Hr(s,u,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~a))}function Hr(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-ve(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function hl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-ve(l),m=1<<u;m&a|s[u]&a&&(s[u]|=a),l&=~m}}function fl(s,a){var l=a&-a;return l=(l&42)!==0?1:qr(l),(l&(s.suspendedLanes|a))!==0?0:l}function qr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function is(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function _u(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:tb(s.type))}function ni(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var ii=Math.random().toString(36).slice(2),Re="__reactFiber$"+ii,He="__reactProps$"+ii,Si="__reactContainer$"+ii,Ya="__reactEvents$"+ii,Sd="__reactListeners$"+ii,yu="__reactHandles$"+ii,vu="__reactResources$"+ii,xi="__reactMarker$"+ii;function Ka(s){delete s[Re],delete s[He],delete s[Ya],delete s[Sd],delete s[yu]}function wi(s){var a=s[Re];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Si]||l[Re]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=z0(s);s!==null;){if(l=s[Re])return l;s=z0(s)}return a}s=l,l=s.parentNode}return null}function Vn(s){if(s=s[Re]||s[Si]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function wn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ai(s){var a=s[vu];return a||(a=s[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ce(s){s[xi]=!0}var dl=new Set,gl={};function Ri(s,a){Ci(s,a),Ci(s+"Capture",a)}function Ci(s,a){for(gl[s]=a,s=0;s<a.length;s++)dl.add(a[s])}var ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},_l={};function bu(s){return we.call(_l,s)?!0:we.call(pl,s)?!1:ml.test(s)?_l[s]=!0:(pl[s]=!0,!1)}function Xa(s,a,l){if(bu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function An(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ie(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function qe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function yl(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function $t(s){if(!s._valueTracker){var a=zs(s)?"checked":"value";s._valueTracker=yl(s,a,""+s[a])}}function Gr(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=zs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Ii(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Yr=/[\n"\\]/g;function mn(s){return s.replace(Yr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Qa(s,a,l,u,m,p,b,x){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),a!=null?b==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+qe(a)):s.value!==""+qe(a)&&(s.value=""+qe(a)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),a!=null?vl(s,b,qe(a)):l!=null?vl(s,b,qe(l)):u!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.name=""+qe(x):s.removeAttribute("name")}function Tu(s,a,l,u,m,p,b,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){$t(s);return}l=l!=null?""+qe(l):"",a=a!=null?""+qe(a):l,x||a===s.value||(s.value=a),s.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=x?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),$t(s)}function vl(s,a,l){a==="number"&&Ii(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Us(s,a,l,u){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+qe(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Eu(s,a,l){if(a!=null&&(a=""+qe(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+qe(l):""}function js(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Et(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=qe(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),$t(s)}function pn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Su.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Tl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&bl(s,m,u)}else for(var p in a)a.hasOwnProperty(p)&&bl(s,p,a[p])}function $a(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(s){return Bs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function si(){}var El=null;function Pn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fs=null,Mi=null;function Kr(s){var a=Vn(s);if(a&&(s=a.stateNode)){var l=s[He]||null;t:switch(s=a.stateNode,a.type){case"input":if(Qa(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var m=u[He]||null;if(!m)throw Error(i(90));Qa(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&Gr(u)}break t;case"textarea":Eu(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Us(s,!!l.multiple,a,!1)}}}var Za=!1;function Hs(s,a,l){if(Za)return s(a,l);Za=!0;try{var u=s(a);return u}finally{if(Za=!1,(Fs!==null||Mi!==null)&&(_h(),Fs&&(a=Fs,s=Mi,Mi=Fs=null,Kr(a),s)))for(a=0;a<s.length;a++)Kr(s[a])}}function ri(s,a){var l=s.stateNode;if(l===null)return null;var u=l[He]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(Ln)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Xr=!1}var Di=null,Sl=null,Qr=null;function xl(){if(Qr)return Qr;var s,a=Sl,l=a.length,u,m="value"in Di?Di.value:Di.textContent,p=m.length;for(s=0;s<l&&a[s]===m[s];s++);var b=l-s;for(u=1;u<=b&&a[l-u]===m[p-u];u++);return Qr=m.slice(s,1<u?1-u:void 0)}function $r(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ss(){return!0}function ai(){return!1}function Qe(s){function a(l,u,m,p,b){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(l=s[x],this[x]=l?l(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ss:ai,this.isPropagationStopped=ai,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),a}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Qe(rs),qs=v({},rs,{view:0,detail:0}),wl=Qe(qs),Gs,Ja,Ni,to=v({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ni&&(Ni&&s.type==="mousemove"?(Gs=s.screenX-Ni.screenX,Ja=s.screenY-Ni.screenY):Ja=Gs=0,Ni=s),Gs)},movementY:function(s){return"movementY"in s?s.movementY:Ja}}),Al=Qe(to),Wr=v({},to,{dataTransfer:0}),wu=Qe(Wr),Au=v({},qs,{relatedTarget:0}),Zr=Qe(Au),Rl=v({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=Qe(Rl),eo=v({},rs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Cu=Qe(eo),Iu=v({},rs,{data:0}),ki=Qe(Iu),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ou[s])?!!a[s]:!1}function Ys(){return Nu}var dn=v({},qs,{key:function(s){if(s.key){var a=Mu[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=$r(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Du[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(s){return s.type==="keypress"?$r(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$r(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ku=Qe(dn),Vu=v({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Qe(Vu),d=v({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),y=Qe(d),E=v({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Qe(E),F=v({},to,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Qe(F),ot=v({},rs,{newState:0,oldState:0}),Rt=Qe(ot),be=[9,13,27,32],Yt=Ln&&"CompositionEvent"in window,he=null;Ln&&"documentMode"in document&&(he=document.documentMode);var zn=Ln&&"TextEvent"in window&&!he,Vi=Ln&&(!Yt||he&&8<he&&11>=he),oi=" ",li=!1;function Jr(s,a){switch(s){case"keyup":return be.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function no(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var io=!1;function bw(s,a){switch(s){case"compositionend":return no(a);case"keypress":return a.which!==32?null:(li=!0,oi);case"textInput":return s=a.data,s===oi&&li?null:s;default:return null}}function Tw(s,a){if(io)return s==="compositionend"||!Yt&&Jr(s,a)?(s=xl(),Qr=Sl=Di=null,io=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Vi&&a.locale!=="ko"?null:a.data;default:return null}}var Ew={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ew[s.type]:a==="textarea"}function F_(s,a,l,u){Fs?Mi?Mi.push(u):Mi=[u]:Fs=u,a=xh(a,"onChange"),0<a.length&&(l=new Oi("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Cl=null,Il=null;function Sw(s){x0(s,0)}function Pu(s){var a=wn(s);if(Gr(a))return s}function H_(s,a){if(s==="change")return a}var q_=!1;if(Ln){var xd;if(Ln){var wd="oninput"in document;if(!wd){var G_=document.createElement("div");G_.setAttribute("oninput","return;"),wd=typeof G_.oninput=="function"}xd=wd}else xd=!1;q_=xd&&(!document.documentMode||9<document.documentMode)}function Y_(){Cl&&(Cl.detachEvent("onpropertychange",K_),Il=Cl=null)}function K_(s){if(s.propertyName==="value"&&Pu(Il)){var a=[];F_(a,Il,s,Pn(s)),Hs(Sw,a)}}function xw(s,a,l){s==="focusin"?(Y_(),Cl=a,Il=l,Cl.attachEvent("onpropertychange",K_)):s==="focusout"&&Y_()}function ww(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Pu(Il)}function Aw(s,a){if(s==="click")return Pu(a)}function Rw(s,a){if(s==="input"||s==="change")return Pu(a)}function Cw(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Rn=typeof Object.is=="function"?Object.is:Cw;function Ml(s,a){if(Rn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!we.call(a,m)||!Rn(s[m],a[m]))return!1}return!0}function X_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Q_(s,a){var l=X_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=X_(l)}}function $_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?$_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function W_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Ii(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Ii(s.document)}return a}function Ad(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Iw=Ln&&"documentMode"in document&&11>=document.documentMode,so=null,Rd=null,Dl=null,Cd=!1;function Z_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cd||so==null||so!==Ii(u)||(u=so,"selectionStart"in u&&Ad(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dl&&Ml(Dl,u)||(Dl=u,u=xh(Rd,"onSelect"),0<u.length&&(a=new Oi("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=so)))}function ta(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var ro={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Id={},J_={};Ln&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function ea(s){if(Id[s])return Id[s];if(!ro[s])return s;var a=ro[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in J_)return Id[s]=a[l];return s}var ty=ea("animationend"),ey=ea("animationiteration"),ny=ea("animationstart"),Mw=ea("transitionrun"),Dw=ea("transitionstart"),Ow=ea("transitioncancel"),iy=ea("transitionend"),sy=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function ci(s,a){sy.set(s,a),Ri(a,[s])}var Lu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Un=[],ao=0,Dd=0;function zu(){for(var s=ao,a=Dd=ao=0;a<s;){var l=Un[a];Un[a++]=null;var u=Un[a];Un[a++]=null;var m=Un[a];Un[a++]=null;var p=Un[a];if(Un[a++]=null,u!==null&&m!==null){var b=u.pending;b===null?m.next=m:(m.next=b.next,b.next=m),u.pending=m}p!==0&&ry(l,m,p)}}function Uu(s,a,l,u){Un[ao++]=s,Un[ao++]=a,Un[ao++]=l,Un[ao++]=u,Dd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Od(s,a,l,u){return Uu(s,a,l,u),ju(s)}function na(s,a){return Uu(s,null,null,a),ju(s)}function ry(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&a!==null&&(m=31-ve(l),s=p.hiddenUpdates,u=s[m],u===null?s[m]=[a]:u.push(a),a.lane=l|536870912),p):null}function ju(s){if(50<Jl)throw Jl=0,Bg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var oo={};function Nw(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(s,a,l,u){return new Nw(s,a,l,u)}function Nd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function os(s,a){var l=s.alternate;return l===null?(l=Cn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function ay(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Bu(s,a,l,u,m,p){var b=0;if(u=s,typeof s=="function")Nd(s)&&(b=1);else if(typeof s=="string")b=zA(s,l,ct.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=Cn(31,l,a,m),s.elementType=D,s.lanes=p,s;case I:return ia(l.children,m,p,a);case M:b=8,m|=24;break;case j:return s=Cn(12,l,a,m|2),s.elementType=j,s.lanes=p,s;case W:return s=Cn(13,l,a,m),s.elementType=W,s.lanes=p,s;case rt:return s=Cn(19,l,a,m),s.elementType=rt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:b=10;break t;case Y:b=9;break t;case et:b=11;break t;case C:b=14;break t;case w:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Cn(b,l,a,m),a.elementType=s,a.type=u,a.lanes=p,a}function ia(s,a,l,u){return s=Cn(7,s,u,a),s.lanes=l,s}function kd(s,a,l){return s=Cn(6,s,null,a),s.lanes=l,s}function oy(s){var a=Cn(18,null,null,0);return a.stateNode=s,a}function Vd(s,a,l){return a=Cn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var ly=new WeakMap;function jn(s,a){if(typeof s=="object"&&s!==null){var l=ly.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ll(a)},ly.set(s,a),a)}return{value:s,source:a,stack:ll(a)}}var lo=[],co=0,Fu=null,Ol=0,Bn=[],Fn=0,Ks=null,Pi=1,Li="";function ls(s,a){lo[co++]=Ol,lo[co++]=Fu,Fu=s,Ol=a}function cy(s,a,l){Bn[Fn++]=Pi,Bn[Fn++]=Li,Bn[Fn++]=Ks,Ks=s;var u=Pi;s=Li;var m=32-ve(u)-1;u&=~(1<<m),l+=1;var p=32-ve(a)+m;if(30<p){var b=m-m%5;p=(u&(1<<b)-1).toString(32),u>>=b,m-=b,Pi=1<<32-ve(a)+m|l<<m|u,Li=p+s}else Pi=1<<p|l<<m|u,Li=s}function Pd(s){s.return!==null&&(ls(s,1),cy(s,1,0))}function Ld(s){for(;s===Fu;)Fu=lo[--co],lo[co]=null,Ol=lo[--co],lo[co]=null;for(;s===Ks;)Ks=Bn[--Fn],Bn[Fn]=null,Li=Bn[--Fn],Bn[Fn]=null,Pi=Bn[--Fn],Bn[Fn]=null}function uy(s,a){Bn[Fn++]=Pi,Bn[Fn++]=Li,Bn[Fn++]=Ks,Pi=a.id,Li=a.overflow,Ks=s}var $e=null,ae=null,jt=!1,Xs=null,Hn=!1,zd=Error(i(519));function Qs(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(jn(a,s)),zd}function hy(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Re]=s,a[He]=u,l){case"dialog":Nt("cancel",a),Nt("close",a);break;case"iframe":case"object":case"embed":Nt("load",a);break;case"video":case"audio":for(l=0;l<ec.length;l++)Nt(ec[l],a);break;case"source":Nt("error",a);break;case"img":case"image":case"link":Nt("error",a),Nt("load",a);break;case"details":Nt("toggle",a);break;case"input":Nt("invalid",a),Tu(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Nt("invalid",a);break;case"textarea":Nt("invalid",a),js(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||C0(a.textContent,l)?(u.popover!=null&&(Nt("beforetoggle",a),Nt("toggle",a)),u.onScroll!=null&&Nt("scroll",a),u.onScrollEnd!=null&&Nt("scrollend",a),u.onClick!=null&&(a.onclick=si),a=!0):a=!1,a||Qs(s,!0)}function fy(s){for($e=s.return;$e;)switch($e.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:$e=$e.return}}function uo(s){if(s!==$e)return!1;if(!jt)return fy(s),jt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||nm(s.type,s.memoizedProps)),l=!l),l&&ae&&Qs(s),fy(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ae=L0(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ae=L0(s)}else a===27?(a=ae,cr(s.type)?(s=om,om=null,ae=s):ae=a):ae=$e?Gn(s.stateNode.nextSibling):null;return!0}function sa(){ae=$e=null,jt=!1}function Ud(){var s=Xs;return s!==null&&(bn===null?bn=s:bn.push.apply(bn,s),Xs=null),s}function Nl(s){Xs===null?Xs=[s]:Xs.push(s)}var jd=L(null),ra=null,cs=null;function $s(s,a,l){lt(jd,a._currentValue),a._currentValue=l}function us(s){s._currentValue=jd.current,J(jd)}function Bd(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Fd(s,a,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var b=m.child;p=p.firstContext;t:for(;p!==null;){var x=p;p=m;for(var k=0;k<a.length;k++)if(x.context===a[k]){p.lanes|=l,x=p.alternate,x!==null&&(x.lanes|=l),Bd(p.return,l,s),u||(b=null);break t}p=x.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Bd(b,l,s),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===s){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function ho(s,a,l,u){s=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var x=m.type;Rn(m.pendingProps.value,b.value)||(s!==null?s.push(x):s=[x])}}else if(m===Bt.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(ac):s=[ac])}m=m.return}s!==null&&Fd(a,s,l,u),a.flags|=262144}function Hu(s){for(s=s.firstContext;s!==null;){if(!Rn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function aa(s){ra=s,cs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function We(s){return dy(ra,s)}function qu(s,a){return ra===null&&aa(s),dy(s,a)}function dy(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},cs===null){if(s===null)throw Error(i(308));cs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else cs=cs.next=a;return l}var kw=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Vw=n.unstable_scheduleCallback,Pw=n.unstable_NormalPriority,Me={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new kw,data:new Map,refCount:0}}function kl(s){s.refCount--,s.refCount===0&&Vw(Pw,function(){s.controller.abort()})}var Vl=null,qd=0,fo=0,go=null;function Lw(s,a){if(Vl===null){var l=Vl=[];qd=0,fo=Kg(),go={status:"pending",value:void 0,then:function(u){l.push(u)}}}return qd++,a.then(gy,gy),a}function gy(){if(--qd===0&&Vl!==null){go!==null&&(go.status="fulfilled");var s=Vl;Vl=null,fo=0,go=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function zw(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var my=K.S;K.S=function(s,a){Zv=fn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Lw(s,a),my!==null&&my(s,a)};var oa=L(null);function Gd(){var s=oa.current;return s!==null?s:re.pooledCache}function Gu(s,a){a===null?lt(oa,oa.current):lt(oa,a.pool)}function py(){var s=Gd();return s===null?null:{parent:Me._currentValue,pool:s}}var mo=Error(i(460)),Yd=Error(i(474)),Yu=Error(i(542)),Ku={then:function(){}};function _y(s){return s=s.status,s==="fulfilled"||s==="rejected"}function yy(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(si,si),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,by(s),s;default:if(typeof a.status=="string")a.then(si,si);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,by(s),s}throw ca=a,mo}}function la(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ca=l,mo):l}}var ca=null;function vy(){if(ca===null)throw Error(i(459));var s=ca;return ca=null,s}function by(s){if(s===mo||s===Yu)throw Error(i(483))}var po=null,Pl=0;function Xu(s){var a=Pl;return Pl+=1,po===null&&(po=[]),yy(po,s,a)}function Ll(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Qu(s,a){throw a.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Ty(s){function a(B,z){if(s){var H=B.deletions;H===null?(B.deletions=[z],B.flags|=16):H.push(z)}}function l(B,z){if(!s)return null;for(;z!==null;)a(B,z),z=z.sibling;return null}function u(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function m(B,z){return B=os(B,z),B.index=0,B.sibling=null,B}function p(B,z,H){return B.index=H,s?(H=B.alternate,H!==null?(H=H.index,H<z?(B.flags|=67108866,z):H):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function b(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function x(B,z,H,tt){return z===null||z.tag!==6?(z=kd(H,B.mode,tt),z.return=B,z):(z=m(z,H),z.return=B,z)}function k(B,z,H,tt){var mt=H.type;return mt===I?Z(B,z,H.props.children,tt,H.key):z!==null&&(z.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&la(mt)===z.type)?(z=m(z,H.props),Ll(z,H),z.return=B,z):(z=Bu(H.type,H.key,H.props,null,B.mode,tt),Ll(z,H),z.return=B,z)}function q(B,z,H,tt){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Vd(H,B.mode,tt),z.return=B,z):(z=m(z,H.children||[]),z.return=B,z)}function Z(B,z,H,tt,mt){return z===null||z.tag!==7?(z=ia(H,B.mode,tt,mt),z.return=B,z):(z=m(z,H),z.return=B,z)}function nt(B,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=kd(""+z,B.mode,H),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return H=Bu(z.type,z.key,z.props,null,B.mode,H),Ll(H,z),H.return=B,H;case R:return z=Vd(z,B.mode,H),z.return=B,z;case w:return z=la(z),nt(B,z,H)}if(Et(z)||P(z))return z=ia(z,B.mode,H,null),z.return=B,z;if(typeof z.then=="function")return nt(B,Xu(z),H);if(z.$$typeof===$)return nt(B,qu(B,z),H);Qu(B,z)}return null}function G(B,z,H,tt){var mt=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return mt!==null?null:x(B,z,""+H,tt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===mt?k(B,z,H,tt):null;case R:return H.key===mt?q(B,z,H,tt):null;case w:return H=la(H),G(B,z,H,tt)}if(Et(H)||P(H))return mt!==null?null:Z(B,z,H,tt,null);if(typeof H.then=="function")return G(B,z,Xu(H),tt);if(H.$$typeof===$)return G(B,z,qu(B,H),tt);Qu(B,H)}return null}function Q(B,z,H,tt,mt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(H)||null,x(z,B,""+tt,mt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return B=B.get(tt.key===null?H:tt.key)||null,k(z,B,tt,mt);case R:return B=B.get(tt.key===null?H:tt.key)||null,q(z,B,tt,mt);case w:return tt=la(tt),Q(B,z,H,tt,mt)}if(Et(tt)||P(tt))return B=B.get(H)||null,Z(z,B,tt,mt,null);if(typeof tt.then=="function")return Q(B,z,H,Xu(tt),mt);if(tt.$$typeof===$)return Q(B,z,H,qu(z,tt),mt);Qu(z,tt)}return null}function ft(B,z,H,tt){for(var mt=null,qt=null,dt=z,It=z=0,Pt=null;dt!==null&&It<H.length;It++){dt.index>It?(Pt=dt,dt=null):Pt=dt.sibling;var Gt=G(B,dt,H[It],tt);if(Gt===null){dt===null&&(dt=Pt);break}s&&dt&&Gt.alternate===null&&a(B,dt),z=p(Gt,z,It),qt===null?mt=Gt:qt.sibling=Gt,qt=Gt,dt=Pt}if(It===H.length)return l(B,dt),jt&&ls(B,It),mt;if(dt===null){for(;It<H.length;It++)dt=nt(B,H[It],tt),dt!==null&&(z=p(dt,z,It),qt===null?mt=dt:qt.sibling=dt,qt=dt);return jt&&ls(B,It),mt}for(dt=u(dt);It<H.length;It++)Pt=Q(dt,B,It,H[It],tt),Pt!==null&&(s&&Pt.alternate!==null&&dt.delete(Pt.key===null?It:Pt.key),z=p(Pt,z,It),qt===null?mt=Pt:qt.sibling=Pt,qt=Pt);return s&&dt.forEach(function(gr){return a(B,gr)}),jt&&ls(B,It),mt}function yt(B,z,H,tt){if(H==null)throw Error(i(151));for(var mt=null,qt=null,dt=z,It=z=0,Pt=null,Gt=H.next();dt!==null&&!Gt.done;It++,Gt=H.next()){dt.index>It?(Pt=dt,dt=null):Pt=dt.sibling;var gr=G(B,dt,Gt.value,tt);if(gr===null){dt===null&&(dt=Pt);break}s&&dt&&gr.alternate===null&&a(B,dt),z=p(gr,z,It),qt===null?mt=gr:qt.sibling=gr,qt=gr,dt=Pt}if(Gt.done)return l(B,dt),jt&&ls(B,It),mt;if(dt===null){for(;!Gt.done;It++,Gt=H.next())Gt=nt(B,Gt.value,tt),Gt!==null&&(z=p(Gt,z,It),qt===null?mt=Gt:qt.sibling=Gt,qt=Gt);return jt&&ls(B,It),mt}for(dt=u(dt);!Gt.done;It++,Gt=H.next())Gt=Q(dt,B,It,Gt.value,tt),Gt!==null&&(s&&Gt.alternate!==null&&dt.delete(Gt.key===null?It:Gt.key),z=p(Gt,z,It),qt===null?mt=Gt:qt.sibling=Gt,qt=Gt);return s&&dt.forEach(function(QA){return a(B,QA)}),jt&&ls(B,It),mt}function se(B,z,H,tt){if(typeof H=="object"&&H!==null&&H.type===I&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:t:{for(var mt=H.key;z!==null;){if(z.key===mt){if(mt=H.type,mt===I){if(z.tag===7){l(B,z.sibling),tt=m(z,H.props.children),tt.return=B,B=tt;break t}}else if(z.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&la(mt)===z.type){l(B,z.sibling),tt=m(z,H.props),Ll(tt,H),tt.return=B,B=tt;break t}l(B,z);break}else a(B,z);z=z.sibling}H.type===I?(tt=ia(H.props.children,B.mode,tt,H.key),tt.return=B,B=tt):(tt=Bu(H.type,H.key,H.props,null,B.mode,tt),Ll(tt,H),tt.return=B,B=tt)}return b(B);case R:t:{for(mt=H.key;z!==null;){if(z.key===mt)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){l(B,z.sibling),tt=m(z,H.children||[]),tt.return=B,B=tt;break t}else{l(B,z);break}else a(B,z);z=z.sibling}tt=Vd(H,B.mode,tt),tt.return=B,B=tt}return b(B);case w:return H=la(H),se(B,z,H,tt)}if(Et(H))return ft(B,z,H,tt);if(P(H)){if(mt=P(H),typeof mt!="function")throw Error(i(150));return H=mt.call(H),yt(B,z,H,tt)}if(typeof H.then=="function")return se(B,z,Xu(H),tt);if(H.$$typeof===$)return se(B,z,qu(B,H),tt);Qu(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(l(B,z.sibling),tt=m(z,H),tt.return=B,B=tt):(l(B,z),tt=kd(H,B.mode,tt),tt.return=B,B=tt),b(B)):l(B,z)}return function(B,z,H,tt){try{Pl=0;var mt=se(B,z,H,tt);return po=null,mt}catch(dt){if(dt===mo||dt===Yu)throw dt;var qt=Cn(29,dt,null,B.mode);return qt.lanes=tt,qt.return=B,qt}finally{}}}var ua=Ty(!0),Ey=Ty(!1),Ws=!1;function Kd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Zs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Js(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=ju(s),ry(s,null,l),a}return Uu(s,u,a,l),ju(s)}function zl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,hl(s,l)}}function Qd(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var $d=!1;function Ul(){if($d){var s=go;if(s!==null)throw s}}function jl(s,a,l,u){$d=!1;var m=s.updateQueue;Ws=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var k=x,q=k.next;k.next=null,b===null?p=q:b.next=q,b=k;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,x=Z.lastBaseUpdate,x!==b&&(x===null?Z.firstBaseUpdate=q:x.next=q,Z.lastBaseUpdate=k))}if(p!==null){var nt=m.baseState;b=0,Z=q=k=null,x=p;do{var G=x.lane&-536870913,Q=G!==x.lane;if(Q?(Vt&G)===G:(u&G)===G){G!==0&&G===fo&&($d=!0),Z!==null&&(Z=Z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var ft=s,yt=x;G=a;var se=l;switch(yt.tag){case 1:if(ft=yt.payload,typeof ft=="function"){nt=ft.call(se,nt,G);break t}nt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=yt.payload,G=typeof ft=="function"?ft.call(se,nt,G):ft,G==null)break t;nt=v({},nt,G);break t;case 2:Ws=!0}}G=x.callback,G!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Z===null?(q=Z=Q,k=nt):Z=Z.next=Q,b|=G;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;Q=x,x=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);Z===null&&(k=nt),m.baseState=k,m.firstBaseUpdate=q,m.lastBaseUpdate=Z,p===null&&(m.shared.lanes=0),sr|=b,s.lanes=b,s.memoizedState=nt}}function Sy(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function xy(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Sy(l[s],a)}var _o=L(null),$u=L(0);function wy(s,a){s=vs,lt($u,s),lt(_o,a),vs=s|a.baseLanes}function Wd(){lt($u,vs),lt(_o,_o.current)}function Zd(){vs=$u.current,J(_o),J($u)}var In=L(null),qn=null;function tr(s){var a=s.alternate;lt(Te,Te.current&1),lt(In,s),qn===null&&(a===null||_o.current!==null||a.memoizedState!==null)&&(qn=s)}function Jd(s){lt(Te,Te.current),lt(In,s),qn===null&&(qn=s)}function Ay(s){s.tag===22?(lt(Te,Te.current),lt(In,s),qn===null&&(qn=s)):er()}function er(){lt(Te,Te.current),lt(In,In.current)}function Mn(s){J(In),qn===s&&(qn=null),J(Te)}var Te=L(0);function Wu(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||rm(l)||am(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var hs=0,Ct=null,ne=null,De=null,Zu=!1,yo=!1,ha=!1,Ju=0,Bl=0,vo=null,Uw=0;function me(){throw Error(i(321))}function tg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Rn(s[l],a[l]))return!1;return!0}function eg(s,a,l,u,m,p){return hs=p,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=s===null||s.memoizedState===null?cv:pg,ha=!1,p=l(u,m),ha=!1,yo&&(p=Cy(a,l,u,m)),Ry(s),p}function Ry(s){K.H=ql;var a=ne!==null&&ne.next!==null;if(hs=0,De=ne=Ct=null,Zu=!1,Bl=0,vo=null,a)throw Error(i(300));s===null||Oe||(s=s.dependencies,s!==null&&Hu(s)&&(Oe=!0))}function Cy(s,a,l,u){Ct=s;var m=0;do{if(yo&&(vo=null),Bl=0,yo=!1,25<=m)throw Error(i(301));if(m+=1,De=ne=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=uv,p=a(l,u)}while(yo);return p}function jw(){var s=K.H,a=s.useState()[0];return a=typeof a.then=="function"?Fl(a):a,s=s.useState()[0],(ne!==null?ne.memoizedState:null)!==s&&(Ct.flags|=1024),a}function ng(){var s=Ju!==0;return Ju=0,s}function ig(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function sg(s){if(Zu){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Zu=!1}hs=0,De=ne=Ct=null,yo=!1,Bl=Ju=0,vo=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ct.memoizedState=De=s:De=De.next=s,De}function Ee(){if(ne===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=ne.next;var a=De===null?Ct.memoizedState:De.next;if(a!==null)De=a,ne=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));ne=s,s={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},De===null?Ct.memoizedState=De=s:De=De.next=s}return De}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(s){var a=Bl;return Bl+=1,vo===null&&(vo=[]),s=yy(vo,s,a),a=Ct,(De===null?a.memoizedState:De.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?cv:pg),s}function eh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Fl(s);if(s.$$typeof===$)return We(s)}throw Error(i(438,String(s)))}function rg(s){var a=null,l=Ct.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=th(),Ct.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=V;return a.index++,l}function fs(s,a){return typeof a=="function"?a(s):a}function nh(s){var a=Ee();return ag(a,ne,s)}function ag(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=s.baseQueue,p=u.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}a.baseQueue=m=p,u.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{a=m.next;var x=b=null,k=null,q=a,Z=!1;do{var nt=q.lane&-536870913;if(nt!==q.lane?(Vt&nt)===nt:(hs&nt)===nt){var G=q.revertLane;if(G===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),nt===fo&&(Z=!0);else if((hs&G)===G){q=q.next,G===fo&&(Z=!0);continue}else nt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(x=k=nt,b=p):k=k.next=nt,Ct.lanes|=G,sr|=G;nt=q.action,ha&&l(p,nt),p=q.hasEagerState?q.eagerState:l(p,nt)}else G={lane:nt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(x=k=G,b=p):k=k.next=G,Ct.lanes|=nt,sr|=nt;q=q.next}while(q!==null&&q!==a);if(k===null?b=p:k.next=x,!Rn(p,s.memoizedState)&&(Oe=!0,Z&&(l=go,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=k,u.lastRenderedState=p}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function og(s){var a=Ee(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do p=s(p,b.action),b=b.next;while(b!==m);Rn(p,a.memoizedState)||(Oe=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function Iy(s,a,l){var u=Ct,m=Ee(),p=jt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var b=!Rn((ne||m).memoizedState,l);if(b&&(m.memoizedState=l,Oe=!0),m=m.queue,ug(Oy.bind(null,u,m,s),[s]),m.getSnapshot!==a||b||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,bo(9,{destroy:void 0},Dy.bind(null,u,m,l,a),null),re===null)throw Error(i(349));p||(hs&127)!==0||My(u,a,l)}return l}function My(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ct.updateQueue,a===null?(a=th(),Ct.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Dy(s,a,l,u){a.value=l,a.getSnapshot=u,Ny(a)&&ky(s)}function Oy(s,a,l){return l(function(){Ny(a)&&ky(s)})}function Ny(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Rn(s,l)}catch{return!0}}function ky(s){var a=na(s,2);a!==null&&Tn(a,s,2)}function lg(s){var a=gn();if(typeof s=="function"){var l=s;if(s=l(),ha){kn(!0);try{l()}finally{kn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:s},a}function Vy(s,a,l,u){return s.baseState=l,ag(s,ne,typeof u=="function"?u:fs)}function Bw(s,a,l,u,m){if(rh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};K.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,Py(a,p)):(p.next=l.next,a.pending=l.next=p)}}function Py(s,a){var l=a.action,u=a.payload,m=s.state;if(a.isTransition){var p=K.T,b={};K.T=b;try{var x=l(m,u),k=K.S;k!==null&&k(b,x),Ly(s,a,x)}catch(q){cg(s,a,q)}finally{p!==null&&b.types!==null&&(p.types=b.types),K.T=p}}else try{p=l(m,u),Ly(s,a,p)}catch(q){cg(s,a,q)}}function Ly(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){zy(s,a,u)},function(u){return cg(s,a,u)}):zy(s,a,l)}function zy(s,a,l){a.status="fulfilled",a.value=l,Uy(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,Py(s,l)))}function cg(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Uy(a),a=a.next;while(a!==u)}s.action=null}function Uy(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function jy(s,a){return a}function By(s,a){if(jt){var l=re.formState;if(l!==null){t:{var u=Ct;if(jt){if(ae){e:{for(var m=ae,p=Hn;m.nodeType!==8;){if(!p){m=null;break e}if(m=Gn(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){ae=Gn(m.nextSibling),u=m.data==="F!";break t}}Qs(u)}u=!1}u&&(a=l[0])}}return l=gn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jy,lastRenderedState:a},l.queue=u,l=av.bind(null,Ct,u),u.dispatch=l,u=lg(!1),p=mg.bind(null,Ct,!1,u.queue),u=gn(),m={state:a,dispatch:null,action:s,pending:null},u.queue=m,l=Bw.bind(null,Ct,m,p,l),m.dispatch=l,u.memoizedState=s,[a,l,!1]}function Fy(s){var a=Ee();return Hy(a,ne,s)}function Hy(s,a,l){if(a=ag(s,a,jy)[0],s=nh(fs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Fl(a)}catch(b){throw b===mo?Yu:b}else u=a;a=Ee();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(Ct.flags|=2048,bo(9,{destroy:void 0},Fw.bind(null,m,l),null)),[u,p,s]}function Fw(s,a){s.action=a}function qy(s){var a=Ee(),l=ne;if(l!==null)return Hy(a,l,s);Ee(),a=a.memoizedState,l=Ee();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function bo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Ct.updateQueue,a===null&&(a=th(),Ct.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Gy(){return Ee().memoizedState}function ih(s,a,l,u){var m=gn();Ct.flags|=s,m.memoizedState=bo(1|a,{destroy:void 0},l,u===void 0?null:u)}function sh(s,a,l,u){var m=Ee();u=u===void 0?null:u;var p=m.memoizedState.inst;ne!==null&&u!==null&&tg(u,ne.memoizedState.deps)?m.memoizedState=bo(a,p,l,u):(Ct.flags|=s,m.memoizedState=bo(1|a,p,l,u))}function Yy(s,a){ih(8390656,8,s,a)}function ug(s,a){sh(2048,8,s,a)}function Hw(s){Ct.flags|=4;var a=Ct.updateQueue;if(a===null)a=th(),Ct.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function Ky(s){var a=Ee().memoizedState;return Hw({ref:a,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Xy(s,a){return sh(4,2,s,a)}function Qy(s,a){return sh(4,4,s,a)}function $y(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Wy(s,a,l){l=l!=null?l.concat([s]):null,sh(4,4,$y.bind(null,a,s),l)}function hg(){}function Zy(s,a){var l=Ee();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&tg(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function Jy(s,a){var l=Ee();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&tg(a,u[1]))return u[0];if(u=s(),ha){kn(!0);try{s()}finally{kn(!1)}}return l.memoizedState=[u,a],u}function fg(s,a,l){return l===void 0||(hs&1073741824)!==0&&(Vt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=t0(),Ct.lanes|=s,sr|=s,l)}function tv(s,a,l,u){return Rn(l,a)?l:_o.current!==null?(s=fg(s,l,u),Rn(s,a)||(Oe=!0),s):(hs&42)===0||(hs&1073741824)!==0&&(Vt&261930)===0?(Oe=!0,s.memoizedState=l):(s=t0(),Ct.lanes|=s,sr|=s,a)}function ev(s,a,l,u,m){var p=at.p;at.p=p!==0&&8>p?p:8;var b=K.T,x={};K.T=x,mg(s,!1,a,l);try{var k=m(),q=K.S;if(q!==null&&q(x,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=zw(k,u);Hl(s,a,Z,Nn(s))}else Hl(s,a,u,Nn(s))}catch(nt){Hl(s,a,{then:function(){},status:"rejected",reason:nt},Nn())}finally{at.p=p,b!==null&&x.types!==null&&(b.types=x.types),K.T=b}}function qw(){}function dg(s,a,l,u){if(s.tag!==5)throw Error(i(476));var m=nv(s).queue;ev(s,m,a,ht,l===null?qw:function(){return iv(s),l(u)})}function nv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:ht},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function iv(s){var a=nv(s);a.next===null&&(a=s.alternate.memoizedState),Hl(s,a.next.queue,{},Nn())}function gg(){return We(ac)}function sv(){return Ee().memoizedState}function rv(){return Ee().memoizedState}function Gw(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Nn();s=Zs(l);var u=Js(a,s,l);u!==null&&(Tn(u,a,l),zl(u,a,l)),a={cache:Hd()},s.payload=a;return}a=a.return}}function Yw(s,a,l){var u=Nn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rh(s)?ov(a,l):(l=Od(s,a,l,u),l!==null&&(Tn(l,s,u),lv(l,a,u)))}function av(s,a,l){var u=Nn();Hl(s,a,l,u)}function Hl(s,a,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(rh(s))ov(a,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,x=p(b,l);if(m.hasEagerState=!0,m.eagerState=x,Rn(x,b))return Uu(s,a,m,0),re===null&&zu(),!1}catch{}finally{}if(l=Od(s,a,m,u),l!==null)return Tn(l,s,u),lv(l,a,u),!0}return!1}function mg(s,a,l,u){if(u={lane:2,revertLane:Kg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rh(s)){if(a)throw Error(i(479))}else a=Od(s,l,u,2),a!==null&&Tn(a,s,2)}function rh(s){var a=s.alternate;return s===Ct||a!==null&&a===Ct}function ov(s,a){yo=Zu=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function lv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,hl(s,l)}}var ql={readContext:We,use:eh,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};ql.useEffectEvent=me;var cv={readContext:We,use:eh,useCallback:function(s,a){return gn().memoizedState=[s,a===void 0?null:a],s},useContext:We,useEffect:Yy,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,ih(4194308,4,$y.bind(null,a,s),l)},useLayoutEffect:function(s,a){return ih(4194308,4,s,a)},useInsertionEffect:function(s,a){ih(4,2,s,a)},useMemo:function(s,a){var l=gn();a=a===void 0?null:a;var u=s();if(ha){kn(!0);try{s()}finally{kn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=gn();if(l!==void 0){var m=l(a);if(ha){kn(!0);try{l(a)}finally{kn(!1)}}}else m=a;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=Yw.bind(null,Ct,s),[u.memoizedState,s]},useRef:function(s){var a=gn();return s={current:s},a.memoizedState=s},useState:function(s){s=lg(s);var a=s.queue,l=av.bind(null,Ct,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:hg,useDeferredValue:function(s,a){var l=gn();return fg(l,s,a)},useTransition:function(){var s=lg(!1);return s=ev.bind(null,Ct,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Ct,m=gn();if(jt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),re===null)throw Error(i(349));(Vt&127)!==0||My(u,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,Yy(Oy.bind(null,u,p,s),[s]),u.flags|=2048,bo(9,{destroy:void 0},Dy.bind(null,u,p,l,a),null),l},useId:function(){var s=gn(),a=re.identifierPrefix;if(jt){var l=Li,u=Pi;l=(u&~(1<<32-ve(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Ju++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Uw++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:gg,useFormState:By,useActionState:By,useOptimistic:function(s){var a=gn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=mg.bind(null,Ct,!0,l),l.dispatch=a,[s,a]},useMemoCache:rg,useCacheRefresh:function(){return gn().memoizedState=Gw.bind(null,Ct)},useEffectEvent:function(s){var a=gn(),l={impl:s};return a.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},pg={readContext:We,use:eh,useCallback:Zy,useContext:We,useEffect:ug,useImperativeHandle:Wy,useInsertionEffect:Xy,useLayoutEffect:Qy,useMemo:Jy,useReducer:nh,useRef:Gy,useState:function(){return nh(fs)},useDebugValue:hg,useDeferredValue:function(s,a){var l=Ee();return tv(l,ne.memoizedState,s,a)},useTransition:function(){var s=nh(fs)[0],a=Ee().memoizedState;return[typeof s=="boolean"?s:Fl(s),a]},useSyncExternalStore:Iy,useId:sv,useHostTransitionStatus:gg,useFormState:Fy,useActionState:Fy,useOptimistic:function(s,a){var l=Ee();return Vy(l,ne,s,a)},useMemoCache:rg,useCacheRefresh:rv};pg.useEffectEvent=Ky;var uv={readContext:We,use:eh,useCallback:Zy,useContext:We,useEffect:ug,useImperativeHandle:Wy,useInsertionEffect:Xy,useLayoutEffect:Qy,useMemo:Jy,useReducer:og,useRef:Gy,useState:function(){return og(fs)},useDebugValue:hg,useDeferredValue:function(s,a){var l=Ee();return ne===null?fg(l,s,a):tv(l,ne.memoizedState,s,a)},useTransition:function(){var s=og(fs)[0],a=Ee().memoizedState;return[typeof s=="boolean"?s:Fl(s),a]},useSyncExternalStore:Iy,useId:sv,useHostTransitionStatus:gg,useFormState:qy,useActionState:qy,useOptimistic:function(s,a){var l=Ee();return ne!==null?Vy(l,ne,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:rg,useCacheRefresh:rv};uv.useEffectEvent=Ky;function _g(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:v({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var yg={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Nn(),m=Zs(u);m.payload=a,l!=null&&(m.callback=l),a=Js(s,m,u),a!==null&&(Tn(a,s,u),zl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Nn(),m=Zs(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Js(s,m,u),a!==null&&(Tn(a,s,u),zl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Nn(),u=Zs(l);u.tag=2,a!=null&&(u.callback=a),a=Js(s,u,l),a!==null&&(Tn(a,s,l),zl(a,s,l))}};function hv(s,a,l,u,m,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):a.prototype&&a.prototype.isPureReactComponent?!Ml(l,u)||!Ml(m,p):!0}function fv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&yg.enqueueReplaceState(a,a.state,null)}function fa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=v({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function dv(s){Lu(s)}function gv(s){console.error(s)}function mv(s){Lu(s)}function ah(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function pv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function vg(s,a,l){return l=Zs(l),l.tag=3,l.payload={element:null},l.callback=function(){ah(s,a)},l}function _v(s){return s=Zs(s),s.tag=3,s}function yv(s,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;s.payload=function(){return m(p)},s.callback=function(){pv(a,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){pv(a,l,u),typeof m!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function Kw(s,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&ho(a,l,m,!0),l=In.current,l!==null){switch(l.tag){case 31:case 13:return qn===null?yh():l.alternate===null&&pe===0&&(pe=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===Ku?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),qg(s,u,m)),!1;case 22:return l.flags|=65536,u===Ku?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),qg(s,u,m)),!1}throw Error(i(435,l.tag))}return qg(s,u,m),yh(),!1}if(jt)return a=In.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==zd&&(s=Error(i(422),{cause:u}),Nl(jn(s,l)))):(u!==zd&&(a=Error(i(423),{cause:u}),Nl(jn(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=jn(u,l),m=vg(s.stateNode,u,m),Qd(s,m),pe!==4&&(pe=2)),!1;var p=Error(i(520),{cause:u});if(p=jn(p,l),Zl===null?Zl=[p]:Zl.push(p),pe!==4&&(pe=2),a===null)return!0;u=jn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=vg(l.stateNode,u,s),Qd(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(rr===null||!rr.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=_v(m),yv(m,s,l,u),Qd(l,m),!1}l=l.return}while(l!==null);return!1}var bg=Error(i(461)),Oe=!1;function Ze(s,a,l,u){a.child=s===null?Ey(a,null,l,u):ua(a,s.child,l,u)}function vv(s,a,l,u,m){l=l.render;var p=a.ref;if("ref"in u){var b={};for(var x in u)x!=="ref"&&(b[x]=u[x])}else b=u;return aa(a),u=eg(s,a,l,b,p,m),x=ng(),s!==null&&!Oe?(ig(s,a,m),ds(s,a,m)):(jt&&x&&Pd(a),a.flags|=1,Ze(s,a,u,m),a.child)}function bv(s,a,l,u,m){if(s===null){var p=l.type;return typeof p=="function"&&!Nd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Tv(s,a,p,u,m)):(s=Bu(l.type,null,u,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Cg(s,m)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ml,l(b,u)&&s.ref===a.ref)return ds(s,a,m)}return a.flags|=1,s=os(p,u),s.ref=a.ref,s.return=a,a.child=s}function Tv(s,a,l,u,m){if(s!==null){var p=s.memoizedProps;if(Ml(p,u)&&s.ref===a.ref)if(Oe=!1,a.pendingProps=u=p,Cg(s,m))(s.flags&131072)!==0&&(Oe=!0);else return a.lanes=s.lanes,ds(s,a,m)}return Tg(s,a,l,u,m)}function Ev(s,a,l,u){var m=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,a.child=null;return Sv(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Gu(a,p!==null?p.cachePool:null),p!==null?wy(a,p):Wd(),Ay(a);else return u=a.lanes=536870912,Sv(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Gu(a,p.cachePool),wy(a,p),er(),a.memoizedState=null):(s!==null&&Gu(a,null),Wd(),er());return Ze(s,a,m,l),a.child}function Gl(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Sv(s,a,l,u,m){var p=Gd();return p=p===null?null:{parent:Me._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Gu(a,null),Wd(),Ay(a),s!==null&&ho(s,a,u,!0),a.childLanes=m,null}function oh(s,a){return a=ch({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function xv(s,a,l){return ua(a,s.child,null,l),s=oh(a,a.pendingProps),s.flags|=2,Mn(a),a.memoizedState=null,s}function Xw(s,a,l){var u=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(jt){if(u.mode==="hidden")return s=oh(a,u),a.lanes=536870912,Gl(null,s);if(Jd(a),(s=ae)?(s=P0(s,Hn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ks!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},l=oy(s),l.return=a,a.child=l,$e=a,ae=null)):s=null,s===null)throw Qs(a);return a.lanes=536870912,null}return oh(a,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(Jd(a),m)if(a.flags&256)a.flags&=-257,a=xv(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Oe||ho(s,a,l,!1),m=(l&s.childLanes)!==0,Oe||m){if(u=re,u!==null&&(b=fl(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,na(s,b),Tn(u,s,b),bg;yh(),a=xv(s,a,l)}else s=p.treeContext,ae=Gn(b.nextSibling),$e=a,jt=!0,Xs=null,Hn=!1,s!==null&&uy(a,s),a=oh(a,u),a.flags|=4096;return a}return s=os(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function lh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Tg(s,a,l,u,m){return aa(a),l=eg(s,a,l,u,void 0,m),u=ng(),s!==null&&!Oe?(ig(s,a,m),ds(s,a,m)):(jt&&u&&Pd(a),a.flags|=1,Ze(s,a,l,m),a.child)}function wv(s,a,l,u,m,p){return aa(a),a.updateQueue=null,l=Cy(a,u,l,m),Ry(s),u=ng(),s!==null&&!Oe?(ig(s,a,p),ds(s,a,p)):(jt&&u&&Pd(a),a.flags|=1,Ze(s,a,l,p),a.child)}function Av(s,a,l,u,m){if(aa(a),a.stateNode===null){var p=oo,b=l.contextType;typeof b=="object"&&b!==null&&(p=We(b)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=yg,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Kd(a),b=l.contextType,p.context=typeof b=="object"&&b!==null?We(b):oo,p.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(_g(a,l,b,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&yg.enqueueReplaceState(p,p.state,null),jl(a,u,p,m),Ul(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var x=a.memoizedProps,k=fa(l,x);p.props=k;var q=p.context,Z=l.contextType;b=oo,typeof Z=="object"&&Z!==null&&(b=We(Z));var nt=l.getDerivedStateFromProps;Z=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||q!==b)&&fv(a,p,u,b),Ws=!1;var G=a.memoizedState;p.state=G,jl(a,u,p,m),Ul(),q=a.memoizedState,x||G!==q||Ws?(typeof nt=="function"&&(_g(a,l,nt,u),q=a.memoizedState),(k=Ws||hv(a,l,k,u,G,q,b))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=q),p.props=u,p.state=q,p.context=b,u=k):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Xd(s,a),b=a.memoizedProps,Z=fa(l,b),p.props=Z,nt=a.pendingProps,G=p.context,q=l.contextType,k=oo,typeof q=="object"&&q!==null&&(k=We(q)),x=l.getDerivedStateFromProps,(q=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==nt||G!==k)&&fv(a,p,u,k),Ws=!1,G=a.memoizedState,p.state=G,jl(a,u,p,m),Ul();var Q=a.memoizedState;b!==nt||G!==Q||Ws||s!==null&&s.dependencies!==null&&Hu(s.dependencies)?(typeof x=="function"&&(_g(a,l,x,u),Q=a.memoizedState),(Z=Ws||hv(a,l,Z,u,G,Q,k)||s!==null&&s.dependencies!==null&&Hu(s.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Q,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Q,k)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Q),p.props=u,p.state=Q,p.context=k,u=Z):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,lh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=ua(a,s.child,null,m),a.child=ua(a,null,l,m)):Ze(s,a,l,m),a.memoizedState=p.state,s=a.child):s=ds(s,a,m),s}function Rv(s,a,l,u){return sa(),a.flags|=256,Ze(s,a,l,u),a.child}var Eg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sg(s){return{baseLanes:s,cachePool:py()}}function xg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=On),s}function Cv(s,a,l){var u=a.pendingProps,m=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),b&&(m=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,s===null){if(jt){if(m?tr(a):er(),(s=ae)?(s=P0(s,Hn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ks!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},l=oy(s),l.return=a,a.child=l,$e=a,ae=null)):s=null,s===null)throw Qs(a);return am(s)?a.lanes=32:a.lanes=536870912,null}var x=u.children;return u=u.fallback,m?(er(),m=a.mode,x=ch({mode:"hidden",children:x},m),u=ia(u,m,l,null),x.return=a,u.return=a,x.sibling=u,a.child=x,u=a.child,u.memoizedState=Sg(l),u.childLanes=xg(s,b,l),a.memoizedState=Eg,Gl(null,u)):(tr(a),wg(a,x))}var k=s.memoizedState;if(k!==null&&(x=k.dehydrated,x!==null)){if(p)a.flags&256?(tr(a),a.flags&=-257,a=Ag(s,a,l)):a.memoizedState!==null?(er(),a.child=s.child,a.flags|=128,a=null):(er(),x=u.fallback,m=a.mode,u=ch({mode:"visible",children:u.children},m),x=ia(x,m,l,null),x.flags|=2,u.return=a,x.return=a,u.sibling=x,a.child=u,ua(a,s.child,null,l),u=a.child,u.memoizedState=Sg(l),u.childLanes=xg(s,b,l),a.memoizedState=Eg,a=Gl(null,u));else if(tr(a),am(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var q=b.dgst;b=q,u=Error(i(419)),u.stack="",u.digest=b,Nl({value:u,source:null,stack:null}),a=Ag(s,a,l)}else if(Oe||ho(s,a,l,!1),b=(l&s.childLanes)!==0,Oe||b){if(b=re,b!==null&&(u=fl(b,l),u!==0&&u!==k.retryLane))throw k.retryLane=u,na(s,u),Tn(b,s,u),bg;rm(x)||yh(),a=Ag(s,a,l)}else rm(x)?(a.flags|=192,a.child=s.child,a=null):(s=k.treeContext,ae=Gn(x.nextSibling),$e=a,jt=!0,Xs=null,Hn=!1,s!==null&&uy(a,s),a=wg(a,u.children),a.flags|=4096);return a}return m?(er(),x=u.fallback,m=a.mode,k=s.child,q=k.sibling,u=os(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,q!==null?x=os(q,x):(x=ia(x,m,l,null),x.flags|=2),x.return=a,u.return=a,u.sibling=x,a.child=u,Gl(null,u),u=a.child,x=s.child.memoizedState,x===null?x=Sg(l):(m=x.cachePool,m!==null?(k=Me._currentValue,m=m.parent!==k?{parent:k,pool:k}:m):m=py(),x={baseLanes:x.baseLanes|l,cachePool:m}),u.memoizedState=x,u.childLanes=xg(s,b,l),a.memoizedState=Eg,Gl(s.child,u)):(tr(a),l=s.child,s=l.sibling,l=os(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(b=a.deletions,b===null?(a.deletions=[s],a.flags|=16):b.push(s)),a.child=l,a.memoizedState=null,l)}function wg(s,a){return a=ch({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function ch(s,a){return s=Cn(22,s,null,a),s.lanes=0,s}function Ag(s,a,l){return ua(a,s.child,null,l),s=wg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Iv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Bd(s.return,a,l)}function Rg(s,a,l,u,m,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=m,b.treeForkCount=p)}function Mv(s,a,l){var u=a.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var b=Te.current,x=(b&2)!==0;if(x?(b=b&1|2,a.flags|=128):b&=1,lt(Te,b),Ze(s,a,u,l),u=jt?Ol:0,!x&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Iv(s,l,a);else if(s.tag===19)Iv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Wu(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Rg(a,!1,m,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Wu(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Rg(a,!0,l,null,p,u);break;case"together":Rg(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ds(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),sr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(ho(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=os(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=os(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Cg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Hu(s)))}function Qw(s,a,l){switch(a.tag){case 3:Pe(a,a.stateNode.containerInfo),$s(a,Me,s.memoizedState.cache),sa();break;case 27:case 5:zr(a);break;case 4:Pe(a,a.stateNode.containerInfo);break;case 10:$s(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Jd(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Cv(s,a,l):(tr(a),s=ds(s,a,l),s!==null?s.sibling:null);tr(a);break;case 19:var m=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(ho(s,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return Mv(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(Te,Te.current),u)break;return null;case 22:return a.lanes=0,Ev(s,a,l,a.pendingProps);case 24:$s(a,Me,s.memoizedState.cache)}return ds(s,a,l)}function Dv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Oe=!0;else{if(!Cg(s,l)&&(a.flags&128)===0)return Oe=!1,Qw(s,a,l);Oe=(s.flags&131072)!==0}else Oe=!1,jt&&(a.flags&1048576)!==0&&cy(a,Ol,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=la(a.elementType),a.type=s,typeof s=="function")Nd(s)?(u=fa(s,u),a.tag=1,a=Av(null,a,s,u,l)):(a.tag=0,a=Tg(null,a,s,u,l));else{if(s!=null){var m=s.$$typeof;if(m===et){a.tag=11,a=vv(null,a,s,u,l);break t}else if(m===C){a.tag=14,a=bv(null,a,s,u,l);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return Tg(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=fa(u,a.pendingProps),Av(s,a,u,m,l);case 3:t:{if(Pe(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;m=p.element,Xd(s,a),jl(a,u,null,l);var b=a.memoizedState;if(u=b.cache,$s(a,Me,u),u!==p.cache&&Fd(a,[Me],l,!0),Ul(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Rv(s,a,u,l);break t}else if(u!==m){m=jn(Error(i(424)),a),Nl(m),a=Rv(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ae=Gn(s.firstChild),$e=a,jt=!0,Xs=null,Hn=!0,l=Ey(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(sa(),u===m){a=ds(s,a,l);break t}Ze(s,a,u,l)}a=a.child}return a;case 26:return lh(s,a),s===null?(l=F0(a.type,null,a.pendingProps,null))?a.memoizedState=l:jt||(l=a.type,s=a.pendingProps,u=wh(bt.current).createElement(l),u[Re]=a,u[He]=s,Je(u,l,s),Ce(u),a.stateNode=u):a.memoizedState=F0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return zr(a),s===null&&jt&&(u=a.stateNode=U0(a.type,a.pendingProps,bt.current),$e=a,Hn=!0,m=ae,cr(a.type)?(om=m,ae=Gn(u.firstChild)):ae=m),Ze(s,a,a.pendingProps.children,l),lh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&jt&&((m=u=ae)&&(u=wA(u,a.type,a.pendingProps,Hn),u!==null?(a.stateNode=u,$e=a,ae=Gn(u.firstChild),Hn=!1,m=!0):m=!1),m||Qs(a)),zr(a),m=a.type,p=a.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,nm(m,p)?u=null:b!==null&&nm(m,b)&&(a.flags|=32),a.memoizedState!==null&&(m=eg(s,a,jw,null,null,l),ac._currentValue=m),lh(s,a),Ze(s,a,u,l),a.child;case 6:return s===null&&jt&&((s=l=ae)&&(l=AA(l,a.pendingProps,Hn),l!==null?(a.stateNode=l,$e=a,ae=null,s=!0):s=!1),s||Qs(a)),null;case 13:return Cv(s,a,l);case 4:return Pe(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=ua(a,null,u,l):Ze(s,a,u,l),a.child;case 11:return vv(s,a,a.type,a.pendingProps,l);case 7:return Ze(s,a,a.pendingProps,l),a.child;case 8:return Ze(s,a,a.pendingProps.children,l),a.child;case 12:return Ze(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,$s(a,a.type,u.value),Ze(s,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,aa(a),m=We(m),u=u(m),a.flags|=1,Ze(s,a,u,l),a.child;case 14:return bv(s,a,a.type,a.pendingProps,l);case 15:return Tv(s,a,a.type,a.pendingProps,l);case 19:return Mv(s,a,l);case 31:return Xw(s,a,l);case 22:return Ev(s,a,l,a.pendingProps);case 24:return aa(a),u=We(Me),s===null?(m=Gd(),m===null&&(m=re,p=Hd(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:u,cache:m},Kd(a),$s(a,Me,m)):((s.lanes&l)!==0&&(Xd(s,a),jl(a,null,null,l),Ul()),m=s.memoizedState,p=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),$s(a,Me,u)):(u=p.cache,$s(a,Me,u),u!==m.cache&&Fd(a,[Me],l,!0))),Ze(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function gs(s){s.flags|=4}function Ig(s,a,l,u,m){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(s0())s.flags|=8192;else throw ca=Ku,Yd}else s.flags&=-16777217}function Ov(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!K0(a))if(s0())s.flags|=8192;else throw ca=Ku,Yd}function uh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?pu():536870912,s.lanes|=a,xo|=a)}function Yl(s,a){if(!jt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function oe(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function $w(s,a,l){var u=a.pendingProps;switch(Ld(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(a),null;case 1:return oe(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),us(Me),ue(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(uo(a)?gs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ud())),oe(a),null;case 26:var m=a.type,p=a.memoizedState;return s===null?(gs(a),p!==null?(oe(a),Ov(a,p)):(oe(a),Ig(a,m,null,u,l))):p?p!==s.memoizedState?(gs(a),oe(a),Ov(a,p)):(oe(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&gs(a),oe(a),Ig(a,m,s,u,l)),null;case 27:if(Fa(a),l=bt.current,m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&gs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return oe(a),null}s=ct.current,uo(a)?hy(a):(s=U0(m,u,l),a.stateNode=s,gs(a))}return oe(a),null;case 5:if(Fa(a),m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&gs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return oe(a),null}if(p=ct.current,uo(a))hy(a);else{var b=wh(bt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(m,{is:u.is}):b.createElement(m)}}p[Re]=a,p[He]=u;t:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break t;for(;b.sibling===null;){if(b.return===null||b.return===a)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;t:switch(Je(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&gs(a)}}return oe(a),Ig(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&gs(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=bt.current,uo(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,m=$e,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Re]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||C0(s.nodeValue,l)),s||Qs(a,!0)}else s=wh(s).createTextNode(u),s[Re]=a,a.stateNode=s}return oe(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=uo(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Re]=a}else sa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;oe(a),s=!1}else l=Ud(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Mn(a),a):(Mn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return oe(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=uo(a),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Re]=a}else sa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;oe(a),m=!1}else m=Ud(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Mn(a),a):(Mn(a),null)}return Mn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),uh(a,a.updateQueue),oe(a),null);case 4:return ue(),s===null&&Wg(a.stateNode.containerInfo),oe(a),null;case 10:return us(a.type),oe(a),null;case 19:if(J(Te),u=a.memoizedState,u===null)return oe(a),null;if(m=(a.flags&128)!==0,p=u.rendering,p===null)if(m)Yl(u,!1);else{if(pe!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=Wu(s),p!==null){for(a.flags|=128,Yl(u,!1),s=p.updateQueue,a.updateQueue=s,uh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)ay(l,s),l=l.sibling;return lt(Te,Te.current&1|2),jt&&ls(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&fn()>mh&&(a.flags|=128,m=!0,Yl(u,!1),a.lanes=4194304)}else{if(!m)if(s=Wu(p),s!==null){if(a.flags|=128,m=!0,s=s.updateQueue,a.updateQueue=s,uh(a,s),Yl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!jt)return oe(a),null}else 2*fn()-u.renderingStartTime>mh&&l!==536870912&&(a.flags|=128,m=!0,Yl(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=fn(),s.sibling=null,l=Te.current,lt(Te,m?l&1|2:l&1),jt&&ls(a,u.treeForkCount),s):(oe(a),null);case 22:case 23:return Mn(a),Zd(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(oe(a),a.subtreeFlags&6&&(a.flags|=8192)):oe(a),l=a.updateQueue,l!==null&&uh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&J(oa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),us(Me),oe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Ww(s,a){switch(Ld(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return us(Me),ue(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Fa(a),null;case 31:if(a.memoizedState!==null){if(Mn(a),a.alternate===null)throw Error(i(340));sa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Mn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));sa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return J(Te),null;case 4:return ue(),null;case 10:return us(a.type),null;case 22:case 23:return Mn(a),Zd(),s!==null&&J(oa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return us(Me),null;case 25:return null;default:return null}}function Nv(s,a){switch(Ld(a),a.tag){case 3:us(Me),ue();break;case 26:case 27:case 5:Fa(a);break;case 4:ue();break;case 31:a.memoizedState!==null&&Mn(a);break;case 13:Mn(a);break;case 19:J(Te);break;case 10:us(a.type);break;case 22:case 23:Mn(a),Zd(),s!==null&&J(oa);break;case 24:us(Me)}}function Kl(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==m)}}catch(x){Zt(a,a.return,x)}}function nr(s,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&s)===s){var b=u.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,m=a;var k=l,q=x;try{q()}catch(Z){Zt(m,k,Z)}}}u=u.next}while(u!==p)}}catch(Z){Zt(a,a.return,Z)}}function kv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{xy(a,l)}catch(u){Zt(s,s.return,u)}}}function Vv(s,a,l){l.props=fa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Zt(s,a,u)}}function Xl(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){Zt(s,a,m)}}function zi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Zt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Zt(s,a,m)}else l.current=null}function Pv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Zt(s,s.return,m)}}function Mg(s,a,l){try{var u=s.stateNode;vA(u,s.type,l,a),u[He]=a}catch(m){Zt(s,s.return,m)}}function Lv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&cr(s.type)||s.tag===4}function Dg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Lv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&cr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Og(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=si));else if(u!==4&&(u===27&&cr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Og(s,a,l),s=s.sibling;s!==null;)Og(s,a,l),s=s.sibling}function hh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&cr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(hh(s,a,l),s=s.sibling;s!==null;)hh(s,a,l),s=s.sibling}function zv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Je(a,u,l),a[Re]=s,a[He]=l}catch(p){Zt(s,s.return,p)}}var ms=!1,Ne=!1,Ng=!1,Uv=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Zw(s,a){if(s=s.containerInfo,tm=Oh,s=W_(s),Ad(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,x=-1,k=-1,q=0,Z=0,nt=s,G=null;e:for(;;){for(var Q;nt!==l||m!==0&&nt.nodeType!==3||(x=b+m),nt!==p||u!==0&&nt.nodeType!==3||(k=b+u),nt.nodeType===3&&(b+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)G=nt,nt=Q;for(;;){if(nt===s)break e;if(G===l&&++q===m&&(x=b),G===p&&++Z===u&&(k=b),(Q=nt.nextSibling)!==null)break;nt=G,G=nt.parentNode}nt=Q}l=x===-1||k===-1?null:{start:x,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(em={focusedElem:s,selectionRange:l},Oh=!1,Ge=a;Ge!==null;)if(a=Ge,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ge=s;else for(;Ge!==null;){switch(a=Ge,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ft=fa(l.type,m);s=u.getSnapshotBeforeUpdate(ft,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(yt){Zt(l,l.return,yt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)sm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":sm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ge=s;break}Ge=a.return}}function jv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:_s(s,l),u&4&&Kl(5,l);break;case 1:if(_s(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(b){Zt(l,l.return,b)}else{var m=fa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Zt(l,l.return,b)}}u&64&&kv(l),u&512&&Xl(l,l.return);break;case 3:if(_s(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{xy(s,a)}catch(b){Zt(l,l.return,b)}}break;case 27:a===null&&u&4&&zv(l);case 26:case 5:_s(s,l),a===null&&u&4&&Pv(l),u&512&&Xl(l,l.return);break;case 12:_s(s,l);break;case 31:_s(s,l),u&4&&Hv(s,l);break;case 13:_s(s,l),u&4&&qv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=oA.bind(null,l),RA(s,l))));break;case 22:if(u=l.memoizedState!==null||ms,!u){a=a!==null&&a.memoizedState!==null||Ne,m=ms;var p=Ne;ms=u,(Ne=a)&&!p?ys(s,l,(l.subtreeFlags&8772)!==0):_s(s,l),ms=m,Ne=p}break;case 30:break;default:_s(s,l)}}function Bv(s){var a=s.alternate;a!==null&&(s.alternate=null,Bv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ka(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var fe=null,_n=!1;function ps(s,a,l){for(l=l.child;l!==null;)Fv(s,a,l),l=l.sibling}function Fv(s,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ti,l)}catch{}switch(l.tag){case 26:Ne||zi(l,a),ps(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ne||zi(l,a);var u=fe,m=_n;cr(l.type)&&(fe=l.stateNode,_n=!1),ps(s,a,l),ic(l.stateNode),fe=u,_n=m;break;case 5:Ne||zi(l,a);case 6:if(u=fe,m=_n,fe=null,ps(s,a,l),fe=u,_n=m,fe!==null)if(_n)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(l.stateNode)}catch(p){Zt(l,a,p)}else try{fe.removeChild(l.stateNode)}catch(p){Zt(l,a,p)}break;case 18:fe!==null&&(_n?(s=fe,k0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Oo(s)):k0(fe,l.stateNode));break;case 4:u=fe,m=_n,fe=l.stateNode.containerInfo,_n=!0,ps(s,a,l),fe=u,_n=m;break;case 0:case 11:case 14:case 15:nr(2,l,a),Ne||nr(4,l,a),ps(s,a,l);break;case 1:Ne||(zi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Vv(l,a,u)),ps(s,a,l);break;case 21:ps(s,a,l);break;case 22:Ne=(u=Ne)||l.memoizedState!==null,ps(s,a,l),Ne=u;break;default:ps(s,a,l)}}function Hv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Oo(s)}catch(l){Zt(a,a.return,l)}}}function qv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Oo(s)}catch(l){Zt(a,a.return,l)}}function Jw(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Uv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Uv),a;default:throw Error(i(435,s.tag))}}function fh(s,a){var l=Jw(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var m=lA.bind(null,s,u);u.then(m,m)}})}function yn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=s,b=a,x=b;t:for(;x!==null;){switch(x.tag){case 27:if(cr(x.type)){fe=x.stateNode,_n=!1;break t}break;case 5:fe=x.stateNode,_n=!1;break t;case 3:case 4:fe=x.stateNode.containerInfo,_n=!0;break t}x=x.return}if(fe===null)throw Error(i(160));Fv(p,b,m),fe=null,_n=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Gv(a,s),a=a.sibling}var ui=null;function Gv(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:yn(a,s),vn(s),u&4&&(nr(3,s,s.return),Kl(3,s),nr(5,s,s.return));break;case 1:yn(a,s),vn(s),u&512&&(Ne||l===null||zi(l,l.return)),u&64&&ms&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=ui;if(yn(a,s),vn(s),u&512&&(Ne||l===null||zi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[xi]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),Je(p,u,l),p[Re]=s,Ce(p),u=p;break t;case"link":var b=G0("link","href",m).get(u+(l.href||""));if(b){for(var x=0;x<b.length;x++)if(p=b[x],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(x,1);break e}}p=m.createElement(u),Je(p,u,l),m.head.appendChild(p);break;case"meta":if(b=G0("meta","content",m).get(u+(l.content||""))){for(x=0;x<b.length;x++)if(p=b[x],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(x,1);break e}}p=m.createElement(u),Je(p,u,l),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[Re]=s,Ce(p),u=p}s.stateNode=u}else Y0(m,s.type,s.stateNode);else s.stateNode=q0(m,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Y0(m,s.type,s.stateNode):q0(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Mg(s,s.memoizedProps,l.memoizedProps)}break;case 27:yn(a,s),vn(s),u&512&&(Ne||l===null||zi(l,l.return)),l!==null&&u&4&&Mg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(yn(a,s),vn(s),u&512&&(Ne||l===null||zi(l,l.return)),s.flags&32){m=s.stateNode;try{pn(m,"")}catch(ft){Zt(s,s.return,ft)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Mg(s,m,l!==null?l.memoizedProps:m)),u&1024&&(Ng=!0);break;case 6:if(yn(a,s),vn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ft){Zt(s,s.return,ft)}}break;case 3:if(Ch=null,m=ui,ui=Ah(a.containerInfo),yn(a,s),ui=m,vn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Oo(a.containerInfo)}catch(ft){Zt(s,s.return,ft)}Ng&&(Ng=!1,Yv(s));break;case 4:u=ui,ui=Ah(s.stateNode.containerInfo),yn(a,s),vn(s),ui=u;break;case 12:yn(a,s),vn(s);break;case 31:yn(a,s),vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,fh(s,u)));break;case 13:yn(a,s),vn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gh=fn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,fh(s,u)));break;case 22:m=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,q=ms,Z=Ne;if(ms=q||m,Ne=Z||k,yn(a,s),Ne=Z,ms=q,vn(s),u&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||k||ms||Ne||da(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){k=l=a;try{if(p=k.stateNode,m)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=k.stateNode;var nt=k.memoizedProps.style,G=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ft){Zt(k,k.return,ft)}}}else if(a.tag===6){if(l===null){k=a;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(ft){Zt(k,k.return,ft)}}}else if(a.tag===18){if(l===null){k=a;try{var Q=k.stateNode;m?V0(Q,!0):V0(k.stateNode,!1)}catch(ft){Zt(k,k.return,ft)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,fh(s,l))));break;case 19:yn(a,s),vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,fh(s,u)));break;case 30:break;case 21:break;default:yn(a,s),vn(s)}}function vn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Lv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=Dg(s);hh(s,p,m);break;case 5:var b=l.stateNode;l.flags&32&&(pn(b,""),l.flags&=-33);var x=Dg(s);hh(s,x,b);break;case 3:case 4:var k=l.stateNode.containerInfo,q=Dg(s);Og(s,q,k);break;default:throw Error(i(161))}}catch(Z){Zt(s,s.return,Z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Yv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Yv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function _s(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)jv(s,a.alternate,a),a=a.sibling}function da(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:nr(4,a,a.return),da(a);break;case 1:zi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Vv(a,a.return,l),da(a);break;case 27:ic(a.stateNode);case 26:case 5:zi(a,a.return),da(a);break;case 22:a.memoizedState===null&&da(a);break;case 30:da(a);break;default:da(a)}s=s.sibling}}function ys(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=s,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:ys(m,p,l),Kl(4,p);break;case 1:if(ys(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){Zt(u,u.return,q)}if(u=p,m=u.updateQueue,m!==null){var x=u.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)Sy(k[m],x)}catch(q){Zt(u,u.return,q)}}l&&b&64&&kv(p),Xl(p,p.return);break;case 27:zv(p);case 26:case 5:ys(m,p,l),l&&u===null&&b&4&&Pv(p),Xl(p,p.return);break;case 12:ys(m,p,l);break;case 31:ys(m,p,l),l&&b&4&&Hv(m,p);break;case 13:ys(m,p,l),l&&b&4&&qv(m,p);break;case 22:p.memoizedState===null&&ys(m,p,l),Xl(p,p.return);break;case 30:break;default:ys(m,p,l)}a=a.sibling}}function kg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&kl(l))}function Vg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&kl(s))}function hi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Kv(s,a,l,u),a=a.sibling}function Kv(s,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:hi(s,a,l,u),m&2048&&Kl(9,a);break;case 1:hi(s,a,l,u);break;case 3:hi(s,a,l,u),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&kl(s)));break;case 12:if(m&2048){hi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,b=p.id,x=p.onPostCommit;typeof x=="function"&&x(b,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){Zt(a,a.return,k)}}else hi(s,a,l,u);break;case 31:hi(s,a,l,u);break;case 13:hi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?hi(s,a,l,u):Ql(s,a):p._visibility&2?hi(s,a,l,u):(p._visibility|=2,To(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),m&2048&&kg(b,a);break;case 24:hi(s,a,l,u),m&2048&&Vg(a.alternate,a);break;default:hi(s,a,l,u)}}function To(s,a,l,u,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,b=a,x=l,k=u,q=b.flags;switch(b.tag){case 0:case 11:case 15:To(p,b,x,k,m),Kl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?To(p,b,x,k,m):Ql(p,b):(Z._visibility|=2,To(p,b,x,k,m)),m&&q&2048&&kg(b.alternate,b);break;case 24:To(p,b,x,k,m),m&&q&2048&&Vg(b.alternate,b);break;default:To(p,b,x,k,m)}a=a.sibling}}function Ql(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,m=u.flags;switch(u.tag){case 22:Ql(l,u),m&2048&&kg(u.alternate,u);break;case 24:Ql(l,u),m&2048&&Vg(u.alternate,u);break;default:Ql(l,u)}a=a.sibling}}var $l=8192;function Eo(s,a,l){if(s.subtreeFlags&$l)for(s=s.child;s!==null;)Xv(s,a,l),s=s.sibling}function Xv(s,a,l){switch(s.tag){case 26:Eo(s,a,l),s.flags&$l&&s.memoizedState!==null&&UA(l,ui,s.memoizedState,s.memoizedProps);break;case 5:Eo(s,a,l);break;case 3:case 4:var u=ui;ui=Ah(s.stateNode.containerInfo),Eo(s,a,l),ui=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=$l,$l=16777216,Eo(s,a,l),$l=u):Eo(s,a,l));break;default:Eo(s,a,l)}}function Qv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Wl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ge=u,Wv(u,s)}Qv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$v(s),s=s.sibling}function $v(s){switch(s.tag){case 0:case 11:case 15:Wl(s),s.flags&2048&&nr(9,s,s.return);break;case 3:Wl(s);break;case 12:Wl(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,dh(s)):Wl(s);break;default:Wl(s)}}function dh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ge=u,Wv(u,s)}Qv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:nr(8,a,a.return),dh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,dh(a));break;default:dh(a)}s=s.sibling}}function Wv(s,a){for(;Ge!==null;){var l=Ge;switch(l.tag){case 0:case 11:case 15:nr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ge=u;else t:for(l=s;Ge!==null;){u=Ge;var m=u.sibling,p=u.return;if(Bv(u),u===l){Ge=null;break t}if(m!==null){m.return=p,Ge=m;break t}Ge=p}}}var tA={getCacheForType:function(s){var a=We(Me),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return We(Me).controller.signal}},eA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Ot=null,Vt=0,Wt=0,Dn=null,ir=!1,So=!1,Pg=!1,vs=0,pe=0,sr=0,ga=0,Lg=0,On=0,xo=0,Zl=null,bn=null,zg=!1,gh=0,Zv=0,mh=1/0,ph=null,rr=null,ze=0,ar=null,wo=null,bs=0,Ug=0,jg=null,Jv=null,Jl=0,Bg=null;function Nn(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:K.T!==null?Kg():_u()}function t0(){if(On===0)if((Vt&536870912)===0||jt){var s=Br;Br<<=1,(Br&3932160)===0&&(Br=262144),On=s}else On=536870912;return s=In.current,s!==null&&(s.flags|=32),On}function Tn(s,a,l){(s===re&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)&&(Ao(s,0),or(s,Vt,On,!1)),Fr(s,l),((Kt&2)===0||s!==re)&&(s===re&&((Kt&2)===0&&(ga|=l),pe===4&&or(s,Vt,On,!1)),Ui(s))}function e0(s,a,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||ei(s,a),m=u?sA(s,a):Hg(s,a,!0),p=u;do{if(m===0){So&&!u&&or(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!nA(l)){m=Hg(s,a,!1),p=!1;continue}if(m===2){if(p=a,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;t:{var x=s;m=Zl;var k=x.current.memoizedState.isDehydrated;if(k&&(Ao(x,b).flags|=256),b=Hg(x,b,!1),b!==2){if(Pg&&!k){x.errorRecoveryDisabledLanes|=p,ga|=p,m=4;break t}p=bn,bn=m,p!==null&&(bn===null?bn=p:bn.push.apply(bn,p))}m=b}if(p=!1,m!==2)continue}}if(m===1){Ao(s,0),or(s,a,0,!0);break}t:{switch(u=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:or(u,a,On,!ir);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=gh+300-fn(),10<m)){if(or(u,a,On,!ir),Ti(u,0,!0)!==0)break t;bs=a,u.timeoutHandle=O0(n0.bind(null,u,l,bn,ph,zg,a,On,ga,xo,ir,p,"Throttled",-0,0),m);break t}n0(u,l,bn,ph,zg,a,On,ga,xo,ir,p,null,-0,0)}}break}while(!0);Ui(s)}function n0(s,a,l,u,m,p,b,x,k,q,Z,nt,G,Q){if(s.timeoutHandle=-1,nt=a.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},Xv(a,p,nt);var ft=(p&62914560)===p?gh-fn():(p&4194048)===p?Zv-fn():0;if(ft=jA(nt,ft),ft!==null){bs=p,s.cancelPendingCommit=ft(u0.bind(null,s,a,p,l,u,m,b,x,k,Z,nt,null,G,Q)),or(s,p,b,!q);return}}u0(s,a,p,l,u,m,b,x,k)}function nA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!Rn(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function or(s,a,l,u){a&=~Lg,a&=~ga,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var m=a;0<m;){var p=31-ve(m),b=1<<p;u[p]=-1,m&=~b}l!==0&&Hr(s,l,a)}function _h(){return(Kt&6)===0?(tc(0),!1):!0}function Fg(){if(Ot!==null){if(Wt===0)var s=Ot.return;else s=Ot,cs=ra=null,sg(s),po=null,Pl=0,s=Ot;for(;s!==null;)Nv(s.alternate,s),s=s.return;Ot=null}}function Ao(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,EA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),bs=0,Fg(),re=s,Ot=l=os(s.current,null),Vt=a,Wt=0,Dn=null,ir=!1,So=ei(s,a),Pg=!1,xo=On=Lg=ga=sr=pe=0,bn=Zl=null,zg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var m=31-ve(u),p=1<<m;a|=s[m],u&=~p}return vs=a,zu(),l}function i0(s,a){Ct=null,K.H=ql,a===mo||a===Yu?(a=vy(),Wt=3):a===Yd?(a=vy(),Wt=4):Wt=a===bg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Dn=a,Ot===null&&(pe=1,ah(s,jn(a,s.current)))}function s0(){var s=In.current;return s===null?!0:(Vt&4194048)===Vt?qn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?s===qn:!1}function r0(){var s=K.H;return K.H=ql,s===null?ql:s}function a0(){var s=K.A;return K.A=tA,s}function yh(){pe=4,ir||(Vt&4194048)!==Vt&&In.current!==null||(So=!0),(sr&134217727)===0&&(ga&134217727)===0||re===null||or(re,Vt,On,!1)}function Hg(s,a,l){var u=Kt;Kt|=2;var m=r0(),p=a0();(re!==s||Vt!==a)&&(ph=null,Ao(s,a)),a=!1;var b=pe;t:do try{if(Wt!==0&&Ot!==null){var x=Ot,k=Dn;switch(Wt){case 8:Fg(),b=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(a=!0);var q=Wt;if(Wt=0,Dn=null,Ro(s,x,k,q),l&&So){b=0;break t}break;default:q=Wt,Wt=0,Dn=null,Ro(s,x,k,q)}}iA(),b=pe;break}catch(Z){i0(s,Z)}while(!0);return a&&s.shellSuspendCounter++,cs=ra=null,Kt=u,K.H=m,K.A=p,Ot===null&&(re=null,Vt=0,zu()),b}function iA(){for(;Ot!==null;)o0(Ot)}function sA(s,a){var l=Kt;Kt|=2;var u=r0(),m=a0();re!==s||Vt!==a?(ph=null,mh=fn()+500,Ao(s,a)):So=ei(s,a);t:do try{if(Wt!==0&&Ot!==null){a=Ot;var p=Dn;e:switch(Wt){case 1:Wt=0,Dn=null,Ro(s,a,p,1);break;case 2:case 9:if(_y(p)){Wt=0,Dn=null,l0(a);break}a=function(){Wt!==2&&Wt!==9||re!==s||(Wt=7),Ui(s)},p.then(a,a);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:_y(p)?(Wt=0,Dn=null,l0(a)):(Wt=0,Dn=null,Ro(s,a,p,7));break;case 5:var b=null;switch(Ot.tag){case 26:b=Ot.memoizedState;case 5:case 27:var x=Ot;if(b?K0(b):x.stateNode.complete){Wt=0,Dn=null;var k=x.sibling;if(k!==null)Ot=k;else{var q=x.return;q!==null?(Ot=q,vh(q)):Ot=null}break e}}Wt=0,Dn=null,Ro(s,a,p,5);break;case 6:Wt=0,Dn=null,Ro(s,a,p,6);break;case 8:Fg(),pe=6;break t;default:throw Error(i(462))}}rA();break}catch(Z){i0(s,Z)}while(!0);return cs=ra=null,K.H=u,K.A=m,Kt=l,Ot!==null?0:(re=null,Vt=0,zu(),pe)}function rA(){for(;Ot!==null&&!vd();)o0(Ot)}function o0(s){var a=Dv(s.alternate,s,vs);s.memoizedProps=s.pendingProps,a===null?vh(s):Ot=a}function l0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=wv(l,a,a.pendingProps,a.type,void 0,Vt);break;case 11:a=wv(l,a,a.pendingProps,a.type.render,a.ref,Vt);break;case 5:sg(a);default:Nv(l,a),a=Ot=ay(a,vs),a=Dv(l,a,vs)}s.memoizedProps=s.pendingProps,a===null?vh(s):Ot=a}function Ro(s,a,l,u){cs=ra=null,sg(a),po=null,Pl=0;var m=a.return;try{if(Kw(s,m,a,l,Vt)){pe=1,ah(s,jn(l,s.current)),Ot=null;return}}catch(p){if(m!==null)throw Ot=m,p;pe=1,ah(s,jn(l,s.current)),Ot=null;return}a.flags&32768?(jt||u===1?s=!0:So||(Vt&536870912)!==0?s=!1:(ir=s=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),c0(a,s)):vh(a)}function vh(s){var a=s;do{if((a.flags&32768)!==0){c0(a,ir);return}s=a.return;var l=$w(a.alternate,a,vs);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);pe===0&&(pe=5)}function c0(s,a){do{var l=Ww(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);pe=6,Ot=null}function u0(s,a,l,u,m,p,b,x,k){s.cancelPendingCommit=null;do bh();while(ze!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Dd,Ed(s,l,p,b,x,k),s===re&&(Ot=re=null,Vt=0),wo=a,ar=s,bs=l,Ug=p,jg=m,Jv=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,cA(Ls,function(){return m0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,m=at.p,at.p=2,b=Kt,Kt|=4;try{Zw(s,a,l)}finally{Kt=b,at.p=m,K.T=u}}ze=1,h0(),f0(),d0()}}function h0(){if(ze===1){ze=0;var s=ar,a=wo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=at.p;at.p=2;var m=Kt;Kt|=4;try{Gv(a,s);var p=em,b=W_(s.containerInfo),x=p.focusedElem,k=p.selectionRange;if(b!==x&&x&&x.ownerDocument&&$_(x.ownerDocument.documentElement,x)){if(k!==null&&Ad(x)){var q=k.start,Z=k.end;if(Z===void 0&&(Z=q),"selectionStart"in x)x.selectionStart=q,x.selectionEnd=Math.min(Z,x.value.length);else{var nt=x.ownerDocument||document,G=nt&&nt.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ft=x.textContent.length,yt=Math.min(k.start,ft),se=k.end===void 0?yt:Math.min(k.end,ft);!Q.extend&&yt>se&&(b=se,se=yt,yt=b);var B=Q_(x,yt),z=Q_(x,se);if(B&&z&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var H=nt.createRange();H.setStart(B.node,B.offset),Q.removeAllRanges(),yt>se?(Q.addRange(H),Q.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),Q.addRange(H))}}}}for(nt=[],Q=x;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<nt.length;x++){var tt=nt[x];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Oh=!!tm,em=tm=null}finally{Kt=m,at.p=u,K.T=l}}s.current=a,ze=2}}function f0(){if(ze===2){ze=0;var s=ar,a=wo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=at.p;at.p=2;var m=Kt;Kt|=4;try{jv(s,a.alternate,a)}finally{Kt=m,at.p=u,K.T=l}}ze=3}}function d0(){if(ze===4||ze===3){ze=0,uu();var s=ar,a=wo,l=bs,u=Jv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ze=5:(ze=0,wo=ar=null,g0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(rr=null),is(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ti,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=K.T,m=at.p,at.p=2,K.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var x=u[b];p(x.value,{componentStack:x.stack})}}finally{K.T=a,at.p=m}}(bs&3)!==0&&bh(),Ui(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===Bg?Jl++:(Jl=0,Bg=s):Jl=0,tc(0)}}function g0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,kl(a)))}function bh(){return h0(),f0(),d0(),m0()}function m0(){if(ze!==5)return!1;var s=ar,a=Ug;Ug=0;var l=is(bs),u=K.T,m=at.p;try{at.p=32>l?32:l,K.T=null,l=jg,jg=null;var p=ar,b=bs;if(ze=0,wo=ar=null,bs=0,(Kt&6)!==0)throw Error(i(331));var x=Kt;if(Kt|=4,$v(p.current),Kv(p,p.current,b,l),Kt=x,tc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ti,p)}catch{}return!0}finally{at.p=m,K.T=u,g0(s,a)}}function p0(s,a,l){a=jn(l,a),a=vg(s.stateNode,a,2),s=Js(s,a,2),s!==null&&(Fr(s,2),Ui(s))}function Zt(s,a,l){if(s.tag===3)p0(s,s,l);else for(;a!==null;){if(a.tag===3){p0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){s=jn(l,s),l=_v(2),u=Js(a,l,2),u!==null&&(yv(l,u,a,s),Fr(u,2),Ui(u));break}}a=a.return}}function qg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new eA;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(Pg=!0,m.add(l),s=aA.bind(null,s,a,l),a.then(s,s))}function aA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(Vt&l)===l&&(pe===4||pe===3&&(Vt&62914560)===Vt&&300>fn()-gh?(Kt&2)===0&&Ao(s,0):Lg|=l,xo===Vt&&(xo=0)),Ui(s)}function _0(s,a){a===0&&(a=pu()),s=na(s,a),s!==null&&(Fr(s,a),Ui(s))}function oA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),_0(s,l)}function lA(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),_0(s,l)}function cA(s,a){return Le(s,a)}var Th=null,Co=null,Gg=!1,Eh=!1,Yg=!1,lr=0;function Ui(s){s!==Co&&s.next===null&&(Co===null?Th=Co=s:Co=Co.next=s),Eh=!0,Gg||(Gg=!0,hA())}function tc(s,a){if(!Yg&&Eh){Yg=!0;do for(var l=!1,u=Th;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var b=u.suspendedLanes,x=u.pingedLanes;p=(1<<31-ve(42|s)+1)-1,p&=m&~(b&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,T0(u,p))}else p=Vt,p=Ti(u,u===re?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ei(u,p)||(l=!0,T0(u,p));u=u.next}while(l);Yg=!1}}function uA(){y0()}function y0(){Eh=Gg=!1;var s=0;lr!==0&&TA()&&(s=lr);for(var a=fn(),l=null,u=Th;u!==null;){var m=u.next,p=v0(u,a);p===0?(u.next=null,l===null?Th=m:l.next=m,m===null&&(Co=l)):(l=u,(s!==0||(p&3)!==0)&&(Eh=!0)),u=m}ze!==0&&ze!==5||tc(s),lr!==0&&(lr=0)}function v0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-ve(p),x=1<<b,k=m[b];k===-1?((x&l)===0||(x&u)!==0)&&(m[b]=Td(x,a)):k<=a&&(s.expiredLanes|=x),p&=~x}if(a=re,l=Vt,l=Ti(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Ps(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ei(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Ps(u),is(l)){case 2:case 8:l=ul;break;case 32:l=Ls;break;case 268435456:l=hu;break;default:l=Ls}return u=b0.bind(null,s),l=Le(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Ps(u),s.callbackPriority=2,s.callbackNode=null,2}function b0(s,a){if(ze!==0&&ze!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(bh()&&s.callbackNode!==l)return null;var u=Vt;return u=Ti(s,s===re?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(e0(s,u,a),v0(s,fn()),s.callbackNode!=null&&s.callbackNode===l?b0.bind(null,s):null)}function T0(s,a){if(bh())return null;e0(s,a,!0)}function hA(){SA(function(){(Kt&6)!==0?Le(cl,uA):y0()})}function Kg(){if(lr===0){var s=fo;s===0&&(s=vi,vi<<=1,(vi&261888)===0&&(vi=256)),lr=s}return lr}function E0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Wa(""+s)}function S0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function fA(s,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var p=E0((m[He]||null).action),b=u.submitter;b&&(a=(a=b[He]||null)?E0(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var x=new Oi("action","action",null,u,m);s.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lr!==0){var k=b?S0(m,b):new FormData(m);dg(l,{pending:!0,data:k,method:m.method,action:p},null,k)}}else typeof p=="function"&&(x.preventDefault(),k=b?S0(m,b):new FormData(m),dg(l,{pending:!0,data:k,method:m.method,action:p},p,k))},currentTarget:m}]})}}for(var Xg=0;Xg<Md.length;Xg++){var Qg=Md[Xg],dA=Qg.toLowerCase(),gA=Qg[0].toUpperCase()+Qg.slice(1);ci(dA,"on"+gA)}ci(ty,"onAnimationEnd"),ci(ey,"onAnimationIteration"),ci(ny,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Mw,"onTransitionRun"),ci(Dw,"onTransitionStart"),ci(Ow,"onTransitionCancel"),ci(iy,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ec));function x0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var b=u.length-1;0<=b;b--){var x=u[b],k=x.instance,q=x.currentTarget;if(x=x.listener,k!==p&&m.isPropagationStopped())break t;p=x,m.currentTarget=q;try{p(m)}catch(Z){Lu(Z)}m.currentTarget=null,p=k}else for(b=0;b<u.length;b++){if(x=u[b],k=x.instance,q=x.currentTarget,x=x.listener,k!==p&&m.isPropagationStopped())break t;p=x,m.currentTarget=q;try{p(m)}catch(Z){Lu(Z)}m.currentTarget=null,p=k}}}}function Nt(s,a){var l=a[Ya];l===void 0&&(l=a[Ya]=new Set);var u=s+"__bubble";l.has(u)||(w0(a,s,2,!1),l.add(u))}function $g(s,a,l){var u=0;a&&(u|=4),w0(l,s,u,a)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function Wg(s){if(!s[Sh]){s[Sh]=!0,dl.forEach(function(l){l!=="selectionchange"&&(mA.has(l)||$g(l,!1,s),$g(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Sh]||(a[Sh]=!0,$g("selectionchange",!1,a))}}function w0(s,a,l,u){switch(tb(a)){case 2:var m=HA;break;case 8:m=qA;break;default:m=fm}l=m.bind(null,a,l,s),m=void 0,!Xr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Zg(s,a,l,u,m){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var x=u.stateNode.containerInfo;if(x===m)break;if(b===4)for(b=u.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;x!==null;){if(b=wi(x),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){u=p=b;continue t}x=x.parentNode}}u=u.return}Hs(function(){var q=p,Z=Pn(l),nt=[];t:{var G=sy.get(s);if(G!==void 0){var Q=Oi,ft=s;switch(s){case"keypress":if($r(l)===0)break t;case"keydown":case"keyup":Q=ku;break;case"focusin":ft="focus",Q=Zr;break;case"focusout":ft="blur",Q=Zr;break;case"beforeblur":case"afterblur":Q=Zr;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case ty:case ey:case ny:Q=Ru;break;case iy:Q=A;break;case"scroll":case"scrollend":Q=wl;break;case"wheel":Q=X;break;case"copy":case"cut":case"paste":Q=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=as;break;case"toggle":case"beforetoggle":Q=Rt}var yt=(a&4)!==0,se=!yt&&(s==="scroll"||s==="scrollend"),B=yt?G!==null?G+"Capture":null:G;yt=[];for(var z=q,H;z!==null;){var tt=z;if(H=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||H===null||B===null||(tt=ri(z,B),tt!=null&&yt.push(nc(z,tt,H))),se)break;z=z.return}0<yt.length&&(G=new Q(G,ft,null,l,Z),nt.push({event:G,listeners:yt}))}}if((a&7)===0){t:{if(G=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",G&&l!==El&&(ft=l.relatedTarget||l.fromElement)&&(wi(ft)||ft[Si]))break t;if((Q||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ft=l.relatedTarget||l.toElement,Q=q,ft=ft?wi(ft):null,ft!==null&&(se=o(ft),yt=ft.tag,ft!==se||yt!==5&&yt!==27&&yt!==6)&&(ft=null)):(Q=null,ft=q),Q!==ft)){if(yt=Al,tt="onMouseLeave",B="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(yt=as,tt="onPointerLeave",B="onPointerEnter",z="pointer"),se=Q==null?G:wn(Q),H=ft==null?G:wn(ft),G=new yt(tt,z+"leave",Q,l,Z),G.target=se,G.relatedTarget=H,tt=null,wi(Z)===q&&(yt=new yt(B,z+"enter",ft,l,Z),yt.target=H,yt.relatedTarget=se,tt=yt),se=tt,Q&&ft)e:{for(yt=pA,B=Q,z=ft,H=0,tt=B;tt;tt=yt(tt))H++;tt=0;for(var mt=z;mt;mt=yt(mt))tt++;for(;0<H-tt;)B=yt(B),H--;for(;0<tt-H;)z=yt(z),tt--;for(;H--;){if(B===z||z!==null&&B===z.alternate){yt=B;break e}B=yt(B),z=yt(z)}yt=null}else yt=null;Q!==null&&A0(nt,G,Q,yt,!1),ft!==null&&se!==null&&A0(nt,se,ft,yt,!0)}}t:{if(G=q?wn(q):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var qt=H_;else if(B_(G))if(q_)qt=Rw;else{qt=ww;var dt=xw}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&$a(q.elementType)&&(qt=H_):qt=Aw;if(qt&&(qt=qt(s,q))){F_(nt,qt,l,Z);break t}dt&&dt(s,G,q),s==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&vl(G,"number",G.value)}switch(dt=q?wn(q):window,s){case"focusin":(B_(dt)||dt.contentEditable==="true")&&(so=dt,Rd=q,Dl=null);break;case"focusout":Dl=Rd=so=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,Z_(nt,l,Z);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":Z_(nt,l,Z)}var It;if(Yt)t:{switch(s){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else io?Jr(s,l)&&(Pt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Pt="onCompositionStart");Pt&&(Vi&&l.locale!=="ko"&&(io||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&io&&(It=xl()):(Di=Z,Sl="value"in Di?Di.value:Di.textContent,io=!0)),dt=xh(q,Pt),0<dt.length&&(Pt=new ki(Pt,s,null,l,Z),nt.push({event:Pt,listeners:dt}),It?Pt.data=It:(It=no(l),It!==null&&(Pt.data=It)))),(It=zn?bw(s,l):Tw(s,l))&&(Pt=xh(q,"onBeforeInput"),0<Pt.length&&(dt=new ki("onBeforeInput","beforeinput",null,l,Z),nt.push({event:dt,listeners:Pt}),dt.data=It)),fA(nt,s,q,l,Z)}x0(nt,a)})}function nc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function xh(s,a){for(var l=a+"Capture",u=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=ri(s,l),m!=null&&u.unshift(nc(s,m,p)),m=ri(s,a),m!=null&&u.push(nc(s,m,p))),s.tag===3)return u;s=s.return}return[]}function pA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function A0(s,a,l,u,m){for(var p=a._reactName,b=[];l!==null&&l!==u;){var x=l,k=x.alternate,q=x.stateNode;if(x=x.tag,k!==null&&k===u)break;x!==5&&x!==26&&x!==27||q===null||(k=q,m?(q=ri(l,p),q!=null&&b.unshift(nc(l,q,k))):m||(q=ri(l,p),q!=null&&b.push(nc(l,q,k)))),l=l.return}b.length!==0&&s.push({event:a,listeners:b})}var _A=/\r\n?/g,yA=/\u0000|\uFFFD/g;function R0(s){return(typeof s=="string"?s:""+s).replace(_A,`
`).replace(yA,"")}function C0(s,a){return a=R0(a),R0(s)===a}function ie(s,a,l,u,m,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||pn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&pn(s,""+u);break;case"className":An(s,"class",u);break;case"tabIndex":An(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(s,l,u);break;case"style":Tl(s,u,p);break;case"data":if(a!=="object"){An(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Wa(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ie(s,a,"name",m.name,m,null),ie(s,a,"formEncType",m.formEncType,m,null),ie(s,a,"formMethod",m.formMethod,m,null),ie(s,a,"formTarget",m.formTarget,m,null)):(ie(s,a,"encType",m.encType,m,null),ie(s,a,"method",m.method,m,null),ie(s,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Wa(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=si);break;case"onScroll":u!=null&&Nt("scroll",s);break;case"onScrollEnd":u!=null&&Nt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Wa(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Nt("beforetoggle",s),Nt("toggle",s),Xa(s,"popover",u);break;case"xlinkActuate":Ie(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xa(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=xu.get(l)||l,Xa(s,l,u))}}function Jg(s,a,l,u,m,p){switch(l){case"style":Tl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?pn(s,u):(typeof u=="number"||typeof u=="bigint")&&pn(s,""+u);break;case"onScroll":u!=null&&Nt("scroll",s);break;case"onScrollEnd":u!=null&&Nt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=s[He]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,m);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Xa(s,l,u)}}}function Je(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",s),Nt("load",s);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ie(s,a,p,b,l,null)}}m&&ie(s,a,"srcSet",l.srcSet,l,null),u&&ie(s,a,"src",l.src,l,null);return;case"input":Nt("invalid",s);var x=p=b=m=null,k=null,q=null;for(u in l)if(l.hasOwnProperty(u)){var Z=l[u];if(Z!=null)switch(u){case"name":m=Z;break;case"type":b=Z;break;case"checked":k=Z;break;case"defaultChecked":q=Z;break;case"value":p=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:ie(s,a,u,Z,l,null)}}Tu(s,p,x,k,q,b,m,!1);return;case"select":Nt("invalid",s),u=b=p=null;for(m in l)if(l.hasOwnProperty(m)&&(x=l[m],x!=null))switch(m){case"value":p=x;break;case"defaultValue":b=x;break;case"multiple":u=x;default:ie(s,a,m,x,l,null)}a=p,l=b,s.multiple=!!u,a!=null?Us(s,!!u,a,!1):l!=null&&Us(s,!!u,l,!0);return;case"textarea":Nt("invalid",s),p=m=u=null;for(b in l)if(l.hasOwnProperty(b)&&(x=l[b],x!=null))switch(b){case"value":u=x;break;case"defaultValue":m=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:ie(s,a,b,x,l,null)}js(s,u,m,p);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(u=l[k],u!=null))switch(k){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ie(s,a,k,u,l,null)}return;case"dialog":Nt("beforetoggle",s),Nt("toggle",s),Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":Nt("load",s);break;case"video":case"audio":for(u=0;u<ec.length;u++)Nt(ec[u],s);break;case"image":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"embed":case"source":case"link":Nt("error",s),Nt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(u=l[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ie(s,a,q,u,l,null)}return;default:if($a(a)){for(Z in l)l.hasOwnProperty(Z)&&(u=l[Z],u!==void 0&&Jg(s,a,Z,u,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(u=l[x],u!=null&&ie(s,a,x,u,l,null))}function vA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,b=null,x=null,k=null,q=null,Z=null;for(Q in l){var nt=l[Q];if(l.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=nt;default:u.hasOwnProperty(Q)||ie(s,a,Q,null,u,nt)}}for(var G in u){var Q=u[G];if(nt=l[G],u.hasOwnProperty(G)&&(Q!=null||nt!=null))switch(G){case"type":p=Q;break;case"name":m=Q;break;case"checked":q=Q;break;case"defaultChecked":Z=Q;break;case"value":b=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==nt&&ie(s,a,G,Q,u,nt)}}Qa(s,b,x,k,q,Z,p,m);return;case"select":Q=b=x=G=null;for(p in l)if(k=l[p],l.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":Q=k;default:u.hasOwnProperty(p)||ie(s,a,p,null,u,k)}for(m in u)if(p=u[m],k=l[m],u.hasOwnProperty(m)&&(p!=null||k!=null))switch(m){case"value":G=p;break;case"defaultValue":x=p;break;case"multiple":b=p;default:p!==k&&ie(s,a,m,p,u,k)}a=x,l=b,u=Q,G!=null?Us(s,!!l,G,!1):!!u!=!!l&&(a!=null?Us(s,!!l,a,!0):Us(s,!!l,l?[]:"",!1));return;case"textarea":Q=G=null;for(x in l)if(m=l[x],l.hasOwnProperty(x)&&m!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ie(s,a,x,null,u,m)}for(b in u)if(m=u[b],p=l[b],u.hasOwnProperty(b)&&(m!=null||p!=null))switch(b){case"value":G=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&ie(s,a,b,m,u,p)}Eu(s,G,Q);return;case"option":for(var ft in l)if(G=l[ft],l.hasOwnProperty(ft)&&G!=null&&!u.hasOwnProperty(ft))switch(ft){case"selected":s.selected=!1;break;default:ie(s,a,ft,null,u,G)}for(k in u)if(G=u[k],Q=l[k],u.hasOwnProperty(k)&&G!==Q&&(G!=null||Q!=null))switch(k){case"selected":s.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ie(s,a,k,G,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in l)G=l[yt],l.hasOwnProperty(yt)&&G!=null&&!u.hasOwnProperty(yt)&&ie(s,a,yt,null,u,G);for(q in u)if(G=u[q],Q=l[q],u.hasOwnProperty(q)&&G!==Q&&(G!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:ie(s,a,q,G,u,Q)}return;default:if($a(a)){for(var se in l)G=l[se],l.hasOwnProperty(se)&&G!==void 0&&!u.hasOwnProperty(se)&&Jg(s,a,se,void 0,u,G);for(Z in u)G=u[Z],Q=l[Z],!u.hasOwnProperty(Z)||G===Q||G===void 0&&Q===void 0||Jg(s,a,Z,G,u,Q);return}}for(var B in l)G=l[B],l.hasOwnProperty(B)&&G!=null&&!u.hasOwnProperty(B)&&ie(s,a,B,null,u,G);for(nt in u)G=u[nt],Q=l[nt],!u.hasOwnProperty(nt)||G===Q||G==null&&Q==null||ie(s,a,nt,G,u,Q)}function I0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bA(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],p=m.transferSize,b=m.initiatorType,x=m.duration;if(p&&x&&I0(b)){for(b=0,x=m.responseEnd,u+=1;u<l.length;u++){var k=l[u],q=k.startTime;if(q>x)break;var Z=k.transferSize,nt=k.initiatorType;Z&&I0(nt)&&(k=k.responseEnd,b+=Z*(k<x?1:(x-q)/(k-q)))}if(--u,a+=8*(p+b)/(m.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var tm=null,em=null;function wh(s){return s.nodeType===9?s:s.ownerDocument}function M0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function nm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var im=null;function TA(){var s=window.event;return s&&s.type==="popstate"?s===im?!1:(im=s,!0):(im=null,!1)}var O0=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,SA=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(s){return N0.resolve(null).then(s).catch(xA)}:O0;function xA(s){setTimeout(function(){throw s})}function cr(s){return s==="head"}function k0(s,a){var l=a,u=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(m),Oo(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")ic(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,ic(l);for(var p=l.firstChild;p;){var b=p.nextSibling,x=p.nodeName;p[xi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&ic(s.ownerDocument.body);l=m}while(l);Oo(a)}function V0(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function sm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sm(l),Ka(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function wA(s,a,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[xi])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Gn(s.nextSibling),s===null)break}return null}function AA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Gn(s.nextSibling),s===null))return null;return s}function P0(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Gn(s.nextSibling),s===null))return null;return s}function rm(s){return s.data==="$?"||s.data==="$~"}function am(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function RA(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Gn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var om=null;function L0(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Gn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function z0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function U0(s,a,l){switch(a=wh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ic(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ka(s)}var Yn=new Map,j0=new Set;function Ah(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ts=at.d;at.d={f:CA,r:IA,D:MA,C:DA,L:OA,m:NA,X:VA,S:kA,M:PA};function CA(){var s=Ts.f(),a=_h();return s||a}function IA(s){var a=Vn(s);a!==null&&a.tag===5&&a.type==="form"?iv(a):Ts.r(s)}var Io=typeof document>"u"?null:document;function B0(s,a,l){var u=Io;if(u&&typeof a=="string"&&a){var m=mn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),j0.has(m)||(j0.add(m),s={rel:s,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),Je(a,"link",s),Ce(a),u.head.appendChild(a)))}}function MA(s){Ts.D(s),B0("dns-prefetch",s,null)}function DA(s,a){Ts.C(s,a),B0("preconnect",s,a)}function OA(s,a,l){Ts.L(s,a,l);var u=Io;if(u&&s&&a){var m='link[rel="preload"][as="'+mn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+mn(l.imageSizes)+'"]')):m+='[href="'+mn(s)+'"]';var p=m;switch(a){case"style":p=Mo(s);break;case"script":p=Do(s)}Yn.has(p)||(s=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Yn.set(p,s),u.querySelector(m)!==null||a==="style"&&u.querySelector(sc(p))||a==="script"&&u.querySelector(rc(p))||(a=u.createElement("link"),Je(a,"link",s),Ce(a),u.head.appendChild(a)))}}function NA(s,a){Ts.m(s,a);var l=Io;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+mn(u)+'"][href="'+mn(s)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Do(s)}if(!Yn.has(p)&&(s=v({rel:"modulepreload",href:s},a),Yn.set(p,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(rc(p)))return}u=l.createElement("link"),Je(u,"link",s),Ce(u),l.head.appendChild(u)}}}function kA(s,a,l){Ts.S(s,a,l);var u=Io;if(u&&s){var m=Ai(u).hoistableStyles,p=Mo(s);a=a||"default";var b=m.get(p);if(!b){var x={loading:0,preload:null};if(b=u.querySelector(sc(p)))x.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Yn.get(p))&&lm(s,l);var k=b=u.createElement("link");Ce(k),Je(k,"link",s),k._p=new Promise(function(q,Z){k.onload=q,k.onerror=Z}),k.addEventListener("load",function(){x.loading|=1}),k.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Rh(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:x},m.set(p,b)}}}function VA(s,a){Ts.X(s,a);var l=Io;if(l&&s){var u=Ai(l).hoistableScripts,m=Do(s),p=u.get(m);p||(p=l.querySelector(rc(m)),p||(s=v({src:s,async:!0},a),(a=Yn.get(m))&&cm(s,a),p=l.createElement("script"),Ce(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function PA(s,a){Ts.M(s,a);var l=Io;if(l&&s){var u=Ai(l).hoistableScripts,m=Do(s),p=u.get(m);p||(p=l.querySelector(rc(m)),p||(s=v({src:s,async:!0,type:"module"},a),(a=Yn.get(m))&&cm(s,a),p=l.createElement("script"),Ce(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function F0(s,a,l,u){var m=(m=bt.current)?Ah(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Mo(l.href),l=Ai(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Mo(l.href);var p=Ai(m).hoistableStyles,b=p.get(s);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=m.querySelector(sc(s)))&&!p._p&&(b.instance=p,b.state.loading=5),Yn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Yn.set(s,l),p||LA(m,s,l,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Do(l),l=Ai(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Mo(s){return'href="'+mn(s)+'"'}function sc(s){return'link[rel="stylesheet"]['+s+"]"}function H0(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function LA(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Je(a,"link",l),Ce(a),s.head.appendChild(a))}function Do(s){return'[src="'+mn(s)+'"]'}function rc(s){return"script[async]"+s}function q0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+mn(l.href)+'"]');if(u)return a.instance=u,Ce(u),u;var m=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ce(u),Je(u,"style",m),Rh(u,l.precedence,s),a.instance=u;case"stylesheet":m=Mo(l.href);var p=s.querySelector(sc(m));if(p)return a.state.loading|=4,a.instance=p,Ce(p),p;u=H0(l),(m=Yn.get(m))&&lm(u,m),p=(s.ownerDocument||s).createElement("link"),Ce(p);var b=p;return b._p=new Promise(function(x,k){b.onload=x,b.onerror=k}),Je(p,"link",u),a.state.loading|=4,Rh(p,l.precedence,s),a.instance=p;case"script":return p=Do(l.src),(m=s.querySelector(rc(p)))?(a.instance=m,Ce(m),m):(u=l,(m=Yn.get(p))&&(u=v({},l),cm(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ce(m),Je(m,"link",u),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Rh(u,l.precedence,s));return a.instance}function Rh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,b=0;b<u.length;b++){var x=u[b];if(x.dataset.precedence===a)p=x;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function lm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function cm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Ch=null;function G0(s,a,l){if(Ch===null){var u=new Map,m=Ch=new Map;m.set(l,u)}else m=Ch,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[xi]||p[Re]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=s+b;var x=u.get(b);x?x.push(p):u.set(b,[p])}}return u}function Y0(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function zA(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function K0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function UA(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Mo(u.href),p=a.querySelector(sc(m));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Ih.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ce(p);return}p=a.ownerDocument||a,u=H0(u),(m=Yn.get(m))&&lm(u,m),p=p.createElement("link"),Ce(p);var b=p;b._p=new Promise(function(x,k){b.onload=x,b.onerror=k}),Je(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Ih.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var um=0;function jA(s,a){return s.stylesheets&&s.count===0&&Dh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Dh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&um===0&&(um=62500*bA());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Dh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>um?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Mh=null;function Dh(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Mh=new Map,a.forEach(BA,s),Mh=null,Ih.call(s))}function BA(s,a){if(!(a.state.loading&4)){var l=Mh.get(s);if(l)var u=l.get(null);else{l=new Map,Mh.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var b=m[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}m=a.instance,b=m.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,m),l.set(b,m),this.count++,u=Ih.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var ac={$$typeof:$,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function FA(s,a,l,u,m,p,b,x,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function X0(s,a,l,u,m,p,b,x,k,q,Z,nt){return s=new FA(s,a,l,b,k,q,Z,nt,x),a=1,p===!0&&(a|=24),p=Cn(3,null,null,a),s.current=p,p.stateNode=s,a=Hd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Kd(p),s}function Q0(s){return s?(s=oo,s):oo}function $0(s,a,l,u,m,p){m=Q0(m),u.context===null?u.context=m:u.pendingContext=m,u=Zs(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Js(s,u,a),l!==null&&(Tn(l,s,a),zl(l,s,a))}function W0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function hm(s,a){W0(s,a),(s=s.alternate)&&W0(s,a)}function Z0(s){if(s.tag===13||s.tag===31){var a=na(s,67108864);a!==null&&Tn(a,s,67108864),hm(s,67108864)}}function J0(s){if(s.tag===13||s.tag===31){var a=Nn();a=qr(a);var l=na(s,a);l!==null&&Tn(l,s,a),hm(s,a)}}var Oh=!0;function HA(s,a,l,u){var m=K.T;K.T=null;var p=at.p;try{at.p=2,fm(s,a,l,u)}finally{at.p=p,K.T=m}}function qA(s,a,l,u){var m=K.T;K.T=null;var p=at.p;try{at.p=8,fm(s,a,l,u)}finally{at.p=p,K.T=m}}function fm(s,a,l,u){if(Oh){var m=dm(u);if(m===null)Zg(s,a,u,Nh,l),eb(s,u);else if(YA(m,s,a,l,u))u.stopPropagation();else if(eb(s,u),a&4&&-1<GA.indexOf(s)){for(;m!==null;){var p=Vn(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=bi(p.pendingLanes);if(b!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var k=1<<31-ve(b);x.entanglements[1]|=k,b&=~k}Ui(p),(Kt&6)===0&&(mh=fn()+500,tc(0))}}break;case 31:case 13:x=na(p,2),x!==null&&Tn(x,p,2),_h(),hm(p,2)}if(p=dm(u),p===null&&Zg(s,a,u,Nh,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else Zg(s,a,u,null,l)}}function dm(s){return s=Pn(s),gm(s)}var Nh=null;function gm(s){if(Nh=null,s=wi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Nh=s,null}function tb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case cl:return 2;case ul:return 8;case Ls:case bd:return 32;case hu:return 268435456;default:return 32}default:return 32}}var mm=!1,ur=null,hr=null,fr=null,oc=new Map,lc=new Map,dr=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eb(s,a){switch(s){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":oc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(a.pointerId)}}function cc(s,a,l,u,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},a!==null&&(a=Vn(a),a!==null&&Z0(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function YA(s,a,l,u,m){switch(a){case"focusin":return ur=cc(ur,s,a,l,u,m),!0;case"dragenter":return hr=cc(hr,s,a,l,u,m),!0;case"mouseover":return fr=cc(fr,s,a,l,u,m),!0;case"pointerover":var p=m.pointerId;return oc.set(p,cc(oc.get(p)||null,s,a,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,lc.set(p,cc(lc.get(p)||null,s,a,l,u,m)),!0}return!1}function nb(s){var a=wi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,ni(s.priority,function(){J0(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,ni(s.priority,function(){J0(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function kh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=dm(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);El=u,l.target.dispatchEvent(u),El=null}else return a=Vn(l),a!==null&&Z0(a),s.blockedOn=l,!1;a.shift()}return!0}function ib(s,a,l){kh(s)&&l.delete(a)}function KA(){mm=!1,ur!==null&&kh(ur)&&(ur=null),hr!==null&&kh(hr)&&(hr=null),fr!==null&&kh(fr)&&(fr=null),oc.forEach(ib),lc.forEach(ib)}function Vh(s,a){s.blockedOn===a&&(s.blockedOn=null,mm||(mm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,KA)))}var Ph=null;function sb(s){Ph!==s&&(Ph=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ph===s&&(Ph=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],m=s[a+2];if(typeof u!="function"){if(gm(u||l)===null)continue;break}var p=Vn(l);p!==null&&(s.splice(a,3),a-=3,dg(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Oo(s){function a(k){return Vh(k,s)}ur!==null&&Vh(ur,s),hr!==null&&Vh(hr,s),fr!==null&&Vh(fr,s),oc.forEach(a),lc.forEach(a);for(var l=0;l<dr.length;l++){var u=dr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<dr.length&&(l=dr[0],l.blockedOn===null);)nb(l),l.blockedOn===null&&dr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],b=m[He]||null;if(typeof p=="function")b||sb(l);else if(b){var x=null;if(p&&p.hasAttribute("formAction")){if(m=p,b=p[He]||null)x=b.formAction;else if(gm(m)!==null)continue}else x=b.action;typeof x=="function"?l[u+1]=x:(l.splice(u,3),u-=3),sb(l)}}}function rb(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function pm(s){this._internalRoot=s}Lh.prototype.render=pm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Nn();$0(l,u,s,a,null,null)},Lh.prototype.unmount=pm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;$0(s.current,2,null,s,null,null),_h(),a[Si]=null}};function Lh(s){this._internalRoot=s}Lh.prototype.unstable_scheduleHydration=function(s){if(s){var a=_u();s={blockedOn:null,target:s,priority:a};for(var l=0;l<dr.length&&a!==0&&a<dr[l].priority;l++);dr.splice(l,0,s),l===0&&nb(s)}};var ab=t.version;if(ab!=="19.2.0")throw Error(i(527,ab,"19.2.0"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(a),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var XA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{ti=zh.inject(XA),Xe=zh}catch{}}return hc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",m=dv,p=gv,b=mv;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=X0(s,1,!1,null,null,l,u,null,m,p,b,rb),s[Si]=a.current,Wg(s),new pm(a)},hc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,m="",p=dv,b=gv,x=mv,k=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),a=X0(s,1,!0,a,l??null,u,m,k,p,b,x,rb),a.context=Q0(null),l=a.current,u=Nn(),u=qr(u),m=Zs(u),m.callback=null,Js(l,m,u),l=u,a.current.lanes=l,Fr(a,l),Ui(a),s[Si]=a.current,Wg(s),new Lh(a)},hc.version="19.2.0",hc}var pb;function rR(){if(pb)return vm.exports;pb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vm.exports=sR(),vm.exports}var aR=rR();function lS({isDark:n,setIsDark:t}){return U.jsx("div",{className:`flex flex-row items-center justify-center
        `,title:"Switch Theme",onClick:()=>t(e=>!e),children:U.jsx("i",{className:n?"bx bx-sun bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--light-color)] hovered":"bx bx-moon bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--dark-color)] hovered"})})}const Ap="/DriveSense/assets/dark-icon-B2t9_VsN.png",bf="/DriveSense/assets/light-icon-CCshSbAW.png";function Lr(n=768){const[t,e]=_e.useState(typeof window<"u"?window.innerWidth<n:!1);return _e.useEffect(()=>{const i=()=>{e(window.innerWidth<n)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),t}const oR=()=>{};var _b={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},lR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},uS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0,_=o>>2,v=(o&3)<<4|h>>4;let T=(h&15)<<2|g>>6,S=g&63;f||(S=64,c||(T=64)),i.push(e[_],e[v],e[T],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(cS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):lR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||v==null)throw new cR;const T=o<<2|h>>4;if(i.push(T),g!==64){const S=h<<4&240|g>>2;if(i.push(S),v!==64){const R=g<<6&192|v;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uR=function(n){const t=cS(n);return uS.encodeByteArray(t,!0)},Tf=function(n){return uR(n).replace(/\./g,"")},hS=function(n){try{return uS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=()=>hR().__FIREBASE_DEFAULTS__,dR=()=>{if(typeof process>"u"||typeof _b>"u")return;const n=_b.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&hS(n[1]);return t&&JSON.parse(t)},$f=()=>{try{return oR()||fR()||dR()||gR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fS=n=>$f()?.emulatorHosts?.[n],dS=n=>{const t=fS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},gS=()=>$f()?.config,mS=n=>$f()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Tf(JSON.stringify(e)),Tf(JSON.stringify(c)),""].join(".")}const xc={};function pR(){const n={prod:[],emulator:[]};for(const t of Object.keys(xc))xc[t]?n.emulator.push(t):n.prod.push(t);return n}function _R(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let yb=!1;function Cp(n,t){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||xc[n]===t||xc[n]||yb)return;xc[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=pR().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{yb=!0,c()},T}function _(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=_R(i),S=e("text"),R=document.getElementById(S)||document.createElement("span"),I=e("learnmore"),M=document.getElementById(I)||document.createElement("a"),j=e("preprendIcon"),Y=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const $=T.element;h($),_(M,I);const et=g();f(Y,j),$.append(Y,R,M,et),document.body.appendChild($)}o?(R.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function vR(){const n=$f()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ER(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SR(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xR(){return!vR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wR(){try{return typeof indexedDB=="object"}catch{return!1}}function AR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="FirebaseError";class es extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=RR,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?CR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new es(r,h,i)}}function CR(n,t){return n.replace(IR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const IR=/\{\$([^}]+)}/g;function MR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ra(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(vb(o)&&vb(c)){if(!Ra(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function vb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function DR(n,t){const e=new OR(n,t);return e.subscribe.bind(e)}class OR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");NR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Sm),r.error===void 0&&(r.error=Sm),r.complete===void 0&&(r.complete=Sm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(n){return n&&n._delegate?n._delegate:n}class Ir{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new mR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PR(t))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ya){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ya){return this.instances.has(t)}getOptions(t=ya){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:VR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ya){return this.component?this.component.multipleInstances?t:ya:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VR(n){return n===ya?void 0:n}function PR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new kR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const zR={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},UR=Lt.INFO,jR={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},BR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=jR[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ip{constructor(t){this.name=t,this._logLevel=UR,this._logHandler=BR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const FR=(n,t)=>t.some(e=>n instanceof e);let bb,Tb;function HR(){return bb||(bb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qR(){return Tb||(Tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _S=new WeakMap,Xm=new WeakMap,yS=new WeakMap,xm=new WeakMap,Mp=new WeakMap;function GR(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(xr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&_S.set(e,n)}).catch(()=>{}),Mp.set(t,n),t}function YR(n){if(Xm.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Xm.set(n,t)}let Qm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Xm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||yS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return xr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function KR(n){Qm=n(Qm)}function XR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(wm(this),t,...e);return yS.set(i,t.sort?t.sort():[t]),xr(i)}:qR().includes(n)?function(...t){return n.apply(wm(this),t),xr(_S.get(this))}:function(...t){return xr(n.apply(wm(this),t))}}function QR(n){return typeof n=="function"?XR(n):(n instanceof IDBTransaction&&YR(n),FR(n,HR())?new Proxy(n,Qm):n)}function xr(n){if(n instanceof IDBRequest)return GR(n);if(xm.has(n))return xm.get(n);const t=QR(n);return t!==n&&(xm.set(n,t),Mp.set(t,n)),t}const wm=n=>Mp.get(n);function $R(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=xr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(xr(c.result),f.oldVersion,f.newVersion,xr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const WR=["get","getKey","getAll","getAllKeys","count"],ZR=["put","add","delete","clear"],Am=new Map;function Eb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Am.get(t))return Am.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=ZR.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||WR.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return Am.set(t,o),o}KR(n=>({...n,get:(t,e,i)=>Eb(t,e)||n.get(t,e,i),has:(t,e)=>!!Eb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(tC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function tC(n){return n.getComponent()?.type==="VERSION"}const $m="@firebase/app",Sb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Ip("@firebase/app"),eC="@firebase/app-compat",nC="@firebase/analytics-compat",iC="@firebase/analytics",sC="@firebase/app-check-compat",rC="@firebase/app-check",aC="@firebase/auth",oC="@firebase/auth-compat",lC="@firebase/database",cC="@firebase/data-connect",uC="@firebase/database-compat",hC="@firebase/functions",fC="@firebase/functions-compat",dC="@firebase/installations",gC="@firebase/installations-compat",mC="@firebase/messaging",pC="@firebase/messaging-compat",_C="@firebase/performance",yC="@firebase/performance-compat",vC="@firebase/remote-config",bC="@firebase/remote-config-compat",TC="@firebase/storage",EC="@firebase/storage-compat",SC="@firebase/firestore",xC="@firebase/ai",wC="@firebase/firestore-compat",AC="firebase",RC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",CC={[$m]:"fire-core",[eC]:"fire-core-compat",[iC]:"fire-analytics",[nC]:"fire-analytics-compat",[rC]:"fire-app-check",[sC]:"fire-app-check-compat",[aC]:"fire-auth",[oC]:"fire-auth-compat",[lC]:"fire-rtdb",[cC]:"fire-data-connect",[uC]:"fire-rtdb-compat",[hC]:"fire-fn",[fC]:"fire-fn-compat",[dC]:"fire-iid",[gC]:"fire-iid-compat",[mC]:"fire-fcm",[pC]:"fire-fcm-compat",[_C]:"fire-perf",[yC]:"fire-perf-compat",[vC]:"fire-rc",[bC]:"fire-rc-compat",[TC]:"fire-gcs",[EC]:"fire-gcs-compat",[SC]:"fire-fst",[wC]:"fire-fst-compat",[xC]:"fire-vertex","fire-js":"fire-js",[AC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new Map,IC=new Map,Zm=new Map;function xb(n,t){try{n.container.addComponent(t)}catch(e){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ca(n){const t=n.name;if(Zm.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;Zm.set(t,n);for(const e of Ef.values())xb(e,n);for(const e of IC.values())xb(e,n);return!0}function Wf(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Jc("app","Firebase",MC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=RC;function vS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Wm,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw wr.create("bad-app-name",{appName:String(r)});if(e||(e=gS()),!e)throw wr.create("no-options");const o=Ef.get(r);if(o){if(Ra(e,o.options)&&Ra(i,o.config))return o;throw wr.create("duplicate-app",{appName:r})}const c=new LR(r);for(const f of Zm.values())c.addComponent(f);const h=new DC(e,i,c);return Ef.set(r,h),h}function Dp(n=Wm){const t=Ef.get(n);if(!t&&n===Wm&&gS())return vS();if(!t)throw wr.create("no-app",{appName:n});return t}function qi(n,t,e){let i=CC[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(c.join(" "));return}Ca(new Ir(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="firebase-heartbeat-database",NC=1,Vc="firebase-heartbeat-store";let Rm=null;function bS(){return Rm||(Rm=$R(OC,NC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Vc)}catch(e){console.warn(e)}}}}).catch(n=>{throw wr.create("idb-open",{originalErrorMessage:n.message})})),Rm}async function kC(n){try{const e=(await bS()).transaction(Vc),i=await e.objectStore(Vc).get(TS(n));return await e.done,i}catch(t){if(t instanceof es)Ds.warn(t.message);else{const e=wr.create("idb-get",{originalErrorMessage:t?.message});Ds.warn(e.message)}}}async function wb(n,t){try{const i=(await bS()).transaction(Vc,"readwrite");await i.objectStore(Vc).put(t,TS(n)),await i.done}catch(e){if(e instanceof es)Ds.warn(e.message);else{const i=wr.create("idb-set",{originalErrorMessage:e?.message});Ds.warn(i.message)}}}function TS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=1024,PC=30;class LC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new UC(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ab();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>PC){const r=jC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ab(),{heartbeatsToSend:e,unsentEntries:i}=zC(this._heartbeatsCache.heartbeats),r=Tf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ds.warn(t),""}}}function Ab(){return new Date().toISOString().substring(0,10)}function zC(n,t=VC){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Rb(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Rb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class UC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wR()?AR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await kC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return wb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return wb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Rb(n){return Tf(JSON.stringify({version:2,heartbeats:n})).length}function jC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n){Ca(new Ir("platform-logger",t=>new JR(t),"PRIVATE")),Ca(new Ir("heartbeat",t=>new LC(t),"PRIVATE")),qi($m,Sb,n),qi($m,Sb,"esm2020"),qi("fire-js","")}BC("");var FC="firebase",HC="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(FC,HC,"app");function ES(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qC=ES,SS=new Jc("auth","Firebase",ES());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Ip("@firebase/auth");function GC(n,...t){Sf.logLevel<=Lt.WARN&&Sf.warn(`Auth (${Va}): ${n}`,...t)}function lf(n,...t){Sf.logLevel<=Lt.ERROR&&Sf.error(`Auth (${Va}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(n,...t){throw Np(n,...t)}function pi(n,...t){return Np(n,...t)}function Op(n,t,e){const i={...qC(),[t]:e};return new Jc("auth","Firebase",i).create(t,{appName:n.name})}function xa(n){return Op(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YC(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Wi(n,"argument-error"),Op(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Np(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return SS.create(n,...t)}function St(n,t,...e){if(!n)throw Np(t,...e)}function Rs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw lf(t),new Error(t)}function Os(n,t){n||Rs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){return typeof self<"u"&&self.location?.href||""}function KC(){return Cb()==="http:"||Cb()==="https:"}function Cb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KC()||TR()||"connection"in navigator)?navigator.onLine:!0}function QC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Os(e>t,"Short delay should be less than long delay!"),this.isMobile=yR()||ER()}get(){return XC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(n,t){Os(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZC=new eu(3e4,6e4);function Vp(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function tl(n,t,e,i,r={}){return wS(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=tu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:f,...o};return bR()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ka(n.emulatorConfig.host)&&(g.credentials="include"),xS.fetch()(await AS(n,n.config.apiHost,e,h),g)})}async function wS(n,t,e){n._canInitEmulator=!1;const i={...$C,...t};try{const r=new t2(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Uh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Uh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Uh(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Op(n,_,g);Wi(n,_)}}catch(r){if(r instanceof es)throw r;Wi(n,"network-request-failed",{message:String(r)})}}async function JC(n,t,e,i,r={}){const o=await tl(n,t,e,i,r);return"mfaPendingCredential"in o&&Wi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function AS(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?kp(n.config,r):`${n.config.apiScheme}://${r}`;return WC.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class t2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(pi(this.auth,"network-request-failed")),ZC.get())})}}function Uh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=pi(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(n,t){return tl(n,"POST","/v1/accounts:delete",t)}async function xf(n,t){return tl(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function n2(n,t=!1){const e=_i(n),i=await e.getIdToken(t),r=Pp(i);St(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:wc(Cm(r.auth_time)),issuedAtTime:wc(Cm(r.iat)),expirationTime:wc(Cm(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Cm(n){return Number(n)*1e3}function Pp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const r=hS(e);return r?JSON.parse(r):(lf("Failed to decode base64 JWT payload"),null)}catch(r){return lf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Ib(n){const t=Pp(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof es&&i2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function i2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(n){const t=n.auth,e=await n.getIdToken(),i=await Pc(n,xf(t,{idToken:e}));St(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?RS(r.providerUserInfo):[],c=a2(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,g=h?f:!1,_={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new tp(r.createdAt,r.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function r2(n){const t=_i(n);await wf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function a2(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function RS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(n,t){const e=await wS(n,{},async()=>{const i=tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await AS(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&ka(n.emulatorConfig.host)&&(f.credentials="include"),xS.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function l2(n,t){return tl(n,"POST","/v2/accounts:revokeToken",Vp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ib(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=Ib(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await o2(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Uo;return i&&(St(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(St(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(St(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class di{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new s2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new tp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Pc(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return n2(this,t)}reload(){return r2(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new di({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await wf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(xa(this.auth));const t=await this.getIdToken();return await Pc(this,e2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:R,stsTokenManager:I}=e;St(v&&I,t,"internal-error");const M=Uo.fromJSON(this.name,I);St(typeof v=="string",t,"internal-error"),mr(i,t.name),mr(r,t.name),St(typeof T=="boolean",t,"internal-error"),St(typeof S=="boolean",t,"internal-error"),mr(o,t.name),mr(c,t.name),mr(h,t.name),mr(f,t.name),mr(g,t.name),mr(_,t.name);const j=new di({uid:v,auth:t,email:r,emailVerified:T,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:M,createdAt:g,lastLoginAt:_});return R&&Array.isArray(R)&&(j.providerData=R.map(Y=>({...Y}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(t,e,i=!1){const r=new Uo;r.updateFromServerResponse(e);const o=new di({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await wf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];St(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?RS(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Uo;h.updateFromIdToken(i);const f=new di({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new tp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Map;function Cs(n){Os(n instanceof Function,"Expected a class definition");let t=Mb.get(n);return t?(Os(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Mb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}CS.type="NONE";const Db=CS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(n,t,e){return`firebase:${n}:${t}:${e}`}class jo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=cf(this.userKey,r.apiKey,o),this.fullPersistenceKey=cf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await xf(this.auth,{idToken:t}).catch(()=>{});return e?di._fromGetAccountInfoResponse(this.auth,e,t):null}return di._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new jo(Cs(Db),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||Cs(Db);const c=cf(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const _=await g._get(c);if(_){let v;if(typeof _=="string"){const T=await xf(t,{idToken:_}).catch(()=>{});if(!T)break;v=await di._fromGetAccountInfoResponse(t,T,_)}else v=di._fromJSON(t,_);g!==o&&(h=v),o=g;break}}catch{}const f=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new jo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new jo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kS(t))return"Blackberry";if(VS(t))return"Webos";if(MS(t))return"Safari";if((t.includes("chrome/")||DS(t))&&!t.includes("edge/"))return"Chrome";if(NS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function IS(n=hn()){return/firefox\//i.test(n)}function MS(n=hn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DS(n=hn()){return/crios\//i.test(n)}function OS(n=hn()){return/iemobile/i.test(n)}function NS(n=hn()){return/android/i.test(n)}function kS(n=hn()){return/blackberry/i.test(n)}function VS(n=hn()){return/webos/i.test(n)}function Lp(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function c2(n=hn()){return Lp(n)&&!!window.navigator?.standalone}function u2(){return SR()&&document.documentMode===10}function PS(n=hn()){return Lp(n)||NS(n)||VS(n)||kS(n)||/windows phone/i.test(n)||OS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n,t=[]){let e;switch(n){case"Browser":e=Ob(hn());break;case"Worker":e=`${Ob(hn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Va}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(n,t={}){return tl(n,"GET","/v2/passwordPolicy",Vp(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=6;class g2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??d2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nb(this),this.idTokenSubscription=new Nb(this),this.beforeStateQueue=new h2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Cs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await xf(this,{idToken:t}),i=await di._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await wf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(xa(this));const e=t?_i(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await f2(this),e=new g2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await l2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Cs(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Cs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=LS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&GC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zf(n){return _i(n)}class Nb{constructor(t){this.auth=t,this.observer=null,this.addObserver=DR(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p2(n){zp=n}function _2(n){return zp.loadJS(n)}function y2(){return zp.gapiScript}function v2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n,t){const e=Wf(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Ra(o,t??{}))return r;Wi(r,"already-initialized")}return e.initialize({options:t})}function T2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Cs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function E2(n,t,e){const i=Zf(n);St(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=zS(t),{host:c,port:h}=S2(t),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){St(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),St(Ra(g,i.config.emulator)&&Ra(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,ka(c)?(Rp(`${o}//${c}${f}`),Cp("Auth",!0)):x2()}function zS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function S2(n){const t=zS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:kb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:kb(c)}}}function kb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function x2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Rs("not implemented")}_getIdTokenResponse(t){return Rs("not implemented")}_linkToIdToken(t,e){return Rs("not implemented")}_getReauthenticationResolver(t){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n,t){return JC(n,"POST","/v1/accounts:signInWithIdp",Vp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="http://localhost";class Ia extends US{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Wi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Ia(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Bo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Bo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Bo(t,e)}buildRequest(){const t={requestUri:w2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=tu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends nu{constructor(){super("facebook.com")}static credential(t){return Ia._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ia._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return As.credential(e,i)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends nu{constructor(){super("github.com")}static credential(t){return Ia._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends nu{constructor(){super("twitter.com")}static credential(t,e){return Ia._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return vr.credential(e,i)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await di._fromIdTokenResponse(t,i,r),c=Vb(i);return new Go({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Vb(i);return new Go({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Vb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends es{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Af(t,e,i,r)}}function jS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(n,o,t,i):o})}async function A2(n,t,e=!1){const i=await Pc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Go._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(n,t,e=!1){const{auth:i}=n;if(Xn(i.app))return Promise.reject(xa(i));const r="reauthenticate";try{const o=await Pc(n,jS(i,r,t,n),e);St(o.idToken,i,"internal-error");const c=Pp(o.idToken);St(c,i,"internal-error");const{sub:h}=c;return St(n.uid===h,i,"user-mismatch"),Go._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(n,t,e=!1){if(Xn(n.app))return Promise.reject(xa(n));const i="signIn",r=await jS(n,i,t),o=await Go._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}function I2(n,t,e,i){return _i(n).onIdTokenChanged(t,e,i)}function M2(n,t,e){return _i(n).beforeAuthStateChanged(t,e)}const Rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=1e3,O2=10;class FS extends BS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);u2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,O2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}FS.type="LOCAL";const N2=FS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS extends BS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}HS.type="SESSION";const qS=HS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Jf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async g=>g(e.origin,o)),f=await k2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=jp("",20);r.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(v){const T=v;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return window}function P2(n){Gi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function L2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z2(){return navigator?.serviceWorker?.controller||null}function U2(){return GS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebaseLocalStorageDb",j2=1,Cf="firebaseLocalStorage",KS="fbase_key";class iu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function td(n,t){return n.transaction([Cf],t?"readwrite":"readonly").objectStore(Cf)}function B2(){const n=indexedDB.deleteDatabase(YS);return new iu(n).toPromise()}function ep(){const n=indexedDB.open(YS,j2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Cf,{keyPath:KS})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Cf)?t(i):(i.close(),await B2(),t(await ep()))})})}async function Pb(n,t,e){const i=td(n,!0).put({[KS]:t,value:e});return new iu(i).toPromise()}async function F2(n,t){const e=td(n,!1).get(t),i=await new iu(e).toPromise();return i===void 0?null:i.value}function Lb(n,t){const e=td(n,!0).delete(t);return new iu(e).toPromise()}const H2=800,q2=3;class XS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>q2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(U2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await L2(),!this.activeServiceWorker)return;this.sender=new V2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||z2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ep();return await Pb(t,Rf,"1"),await Lb(t,Rf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>F2(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Lb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=td(r,!1).getAll();return new iu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XS.type="LOCAL";const G2=XS;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n,t){return t?Cs(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends US{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Bo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Bo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Y2(n){return C2(n.auth,new Bp(n),n.bypassAuthState)}function K2(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),R2(e,new Bp(n),n.bypassAuthState)}async function X2(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),A2(e,new Bp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Y2;case"linkViaPopup":case"linkViaRedirect":return X2;case"reauthViaPopup":case"reauthViaRedirect":return K2;default:Wi(this.auth,"internal-error")}}resolve(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new eu(2e3,1e4);async function $2(n,t,e){if(Xn(n.app))return Promise.reject(pi(n,"operation-not-supported-in-this-environment"));const i=Zf(n);YC(n,t,Up);const r=QS(i,e);return new Ta(i,"signInViaPopup",t,r).executeNotNull()}class Ta extends $S{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const t=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Q2.get())};t()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="pendingRedirect",uf=new Map;class Z2 extends $S{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=uf.get(this.auth._key());if(!t){try{const i=await J2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}uf.set(this.auth._key(),t)}return this.bypassAuthState||uf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J2(n,t){const e=nI(t),i=eI(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function tI(n,t){uf.set(n._key(),t)}function eI(n){return Cs(n._redirectPersistence)}function nI(n){return cf(W2,n.config.apiKey,n.name)}async function iI(n,t,e=!1){if(Xn(n.app))return Promise.reject(xa(n));const i=Zf(n),r=QS(i,t),c=await new Z2(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=600*1e3;class rI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!WS(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(pi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sI&&this.cachedEventUids.clear(),this.cachedEventUids.has(zb(t))}saveEventToCache(t){this.cachedEventUids.add(zb(t)),this.lastProcessedEventTime=Date.now()}}function zb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function WS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function aI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(n,t={}){return tl(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cI=/^https?/;async function uI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await oI(n);for(const e of t)try{if(hI(e))return}catch{}Wi(n,"unauthorized-domain")}function hI(n){const t=Jm(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!cI.test(e))return!1;if(lI.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new eu(3e4,6e4);function Ub(){const n=Gi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function dI(n){return new Promise((t,e)=>{function i(){Ub(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ub(),e(pi(n,"network-request-failed"))},timeout:fI.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)i();else{const r=v2("iframefcb");return Gi()[r]=()=>{gapi.load?i():e(pi(n,"network-request-failed"))},_2(`${y2()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw hf=null,t})}let hf=null;function gI(n){return hf=hf||dI(n),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new eu(5e3,15e3),pI="__/auth/iframe",_I="emulator/auth/iframe",yI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bI(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?kp(t,_I):`https://${n.config.authDomain}/${pI}`,i={apiKey:t.apiKey,appName:n.name,v:Va},r=vI.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${tu(i).slice(1)}`}async function TI(n){const t=await gI(n),e=Gi().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:bI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yI,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=pi(n,"network-request-failed"),h=Gi().setTimeout(()=>{o(c)},mI.get());function f(){Gi().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SI=500,xI=600,wI="_blank",AI="http://localhost";class jb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RI(n,t,e,i=SI,r=xI){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...EI,width:i.toString(),height:r.toString(),top:o,left:c},g=hn().toLowerCase();e&&(h=DS(g)?wI:e),IS(g)&&(t=t||AI,f.scrollbars="yes");const _=Object.entries(f).reduce((T,[S,R])=>`${T}${S}=${R},`,"");if(c2(g)&&h!=="_self")return CI(t||"",h),new jb(null);const v=window.open(t||"",h,_);St(v,n,"popup-blocked");try{v.focus()}catch{}return new jb(v)}function CI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="__/auth/handler",MI="emulator/auth/handler",DI=encodeURIComponent("fac");async function Bb(n,t,e,i,r,o){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Va,eventId:r};if(t instanceof Up){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",MR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(t instanceof nu){const _=t.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),g=f?`#${DI}=${encodeURIComponent(f)}`:"";return`${OI(n)}?${tu(h).slice(1)}${g}`}function OI({config:n}){return n.emulator?kp(n,MI):`https://${n.authDomain}/${II}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class NI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qS,this._completeRedirectFn=iI,this._overrideRedirectResult=tI}async _openPopup(t,e,i,r){Os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Bb(t,e,i,Jm(),r);return RI(t,o,jp())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await Bb(t,e,i,Jm(),r);return P2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Os(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await TI(t),i=new rI(t);return e.register("authEvent",r=>(St(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Im,{type:Im},r=>{const o=r?.[0]?.[Im];o!==void 0&&e(!!o),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=uI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return PS()||MS()||Lp()}}const kI=NI;var Fb="@firebase/auth",Hb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LI(n){Ca(new Ir("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LS(n)},g=new m2(i,r,o,f);return T2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ca(new Ir("auth-internal",t=>{const e=Zf(t.getProvider("auth").getImmediate());return(i=>new VI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(Fb,Hb,PI(n)),qi(Fb,Hb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=300,UI=mS("authIdTokenMaxAge")||zI;let qb=null;const jI=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>UI)return;const r=e?.token;qb!==r&&(qb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function BI(n=Dp()){const t=Wf(n,"auth");if(t.isInitialized())return t.getImmediate();const e=b2(n,{popupRedirectResolver:kI,persistence:[G2,N2,qS]}),i=mS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=jI(o.toString());M2(e,c,()=>c(e.currentUser)),I2(e,h=>c(h))}}const r=fS("auth");return r&&E2(e,`http://${r}`),e}function FI(){return document.getElementsByTagName("head")?.[0]??document}p2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=pi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",FI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LI("Browser");var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,ZS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,w){function D(){}D.prototype=w.prototype,C.F=w.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(V,N,P){for(var O=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)O[Dt-2]=arguments[Dt];return w.prototype[N].apply(V,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,w,D){D||(D=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(N=0;N<16;++N)V[N]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=C.g[0],D=C.g[1],N=C.g[2];let P=C.g[3],O;O=w+(P^D&(N^P))+V[0]+3614090360&4294967295,w=D+(O<<7&4294967295|O>>>25),O=P+(N^w&(D^N))+V[1]+3905402710&4294967295,P=w+(O<<12&4294967295|O>>>20),O=N+(D^P&(w^D))+V[2]+606105819&4294967295,N=P+(O<<17&4294967295|O>>>15),O=D+(w^N&(P^w))+V[3]+3250441966&4294967295,D=N+(O<<22&4294967295|O>>>10),O=w+(P^D&(N^P))+V[4]+4118548399&4294967295,w=D+(O<<7&4294967295|O>>>25),O=P+(N^w&(D^N))+V[5]+1200080426&4294967295,P=w+(O<<12&4294967295|O>>>20),O=N+(D^P&(w^D))+V[6]+2821735955&4294967295,N=P+(O<<17&4294967295|O>>>15),O=D+(w^N&(P^w))+V[7]+4249261313&4294967295,D=N+(O<<22&4294967295|O>>>10),O=w+(P^D&(N^P))+V[8]+1770035416&4294967295,w=D+(O<<7&4294967295|O>>>25),O=P+(N^w&(D^N))+V[9]+2336552879&4294967295,P=w+(O<<12&4294967295|O>>>20),O=N+(D^P&(w^D))+V[10]+4294925233&4294967295,N=P+(O<<17&4294967295|O>>>15),O=D+(w^N&(P^w))+V[11]+2304563134&4294967295,D=N+(O<<22&4294967295|O>>>10),O=w+(P^D&(N^P))+V[12]+1804603682&4294967295,w=D+(O<<7&4294967295|O>>>25),O=P+(N^w&(D^N))+V[13]+4254626195&4294967295,P=w+(O<<12&4294967295|O>>>20),O=N+(D^P&(w^D))+V[14]+2792965006&4294967295,N=P+(O<<17&4294967295|O>>>15),O=D+(w^N&(P^w))+V[15]+1236535329&4294967295,D=N+(O<<22&4294967295|O>>>10),O=w+(N^P&(D^N))+V[1]+4129170786&4294967295,w=D+(O<<5&4294967295|O>>>27),O=P+(D^N&(w^D))+V[6]+3225465664&4294967295,P=w+(O<<9&4294967295|O>>>23),O=N+(w^D&(P^w))+V[11]+643717713&4294967295,N=P+(O<<14&4294967295|O>>>18),O=D+(P^w&(N^P))+V[0]+3921069994&4294967295,D=N+(O<<20&4294967295|O>>>12),O=w+(N^P&(D^N))+V[5]+3593408605&4294967295,w=D+(O<<5&4294967295|O>>>27),O=P+(D^N&(w^D))+V[10]+38016083&4294967295,P=w+(O<<9&4294967295|O>>>23),O=N+(w^D&(P^w))+V[15]+3634488961&4294967295,N=P+(O<<14&4294967295|O>>>18),O=D+(P^w&(N^P))+V[4]+3889429448&4294967295,D=N+(O<<20&4294967295|O>>>12),O=w+(N^P&(D^N))+V[9]+568446438&4294967295,w=D+(O<<5&4294967295|O>>>27),O=P+(D^N&(w^D))+V[14]+3275163606&4294967295,P=w+(O<<9&4294967295|O>>>23),O=N+(w^D&(P^w))+V[3]+4107603335&4294967295,N=P+(O<<14&4294967295|O>>>18),O=D+(P^w&(N^P))+V[8]+1163531501&4294967295,D=N+(O<<20&4294967295|O>>>12),O=w+(N^P&(D^N))+V[13]+2850285829&4294967295,w=D+(O<<5&4294967295|O>>>27),O=P+(D^N&(w^D))+V[2]+4243563512&4294967295,P=w+(O<<9&4294967295|O>>>23),O=N+(w^D&(P^w))+V[7]+1735328473&4294967295,N=P+(O<<14&4294967295|O>>>18),O=D+(P^w&(N^P))+V[12]+2368359562&4294967295,D=N+(O<<20&4294967295|O>>>12),O=w+(D^N^P)+V[5]+4294588738&4294967295,w=D+(O<<4&4294967295|O>>>28),O=P+(w^D^N)+V[8]+2272392833&4294967295,P=w+(O<<11&4294967295|O>>>21),O=N+(P^w^D)+V[11]+1839030562&4294967295,N=P+(O<<16&4294967295|O>>>16),O=D+(N^P^w)+V[14]+4259657740&4294967295,D=N+(O<<23&4294967295|O>>>9),O=w+(D^N^P)+V[1]+2763975236&4294967295,w=D+(O<<4&4294967295|O>>>28),O=P+(w^D^N)+V[4]+1272893353&4294967295,P=w+(O<<11&4294967295|O>>>21),O=N+(P^w^D)+V[7]+4139469664&4294967295,N=P+(O<<16&4294967295|O>>>16),O=D+(N^P^w)+V[10]+3200236656&4294967295,D=N+(O<<23&4294967295|O>>>9),O=w+(D^N^P)+V[13]+681279174&4294967295,w=D+(O<<4&4294967295|O>>>28),O=P+(w^D^N)+V[0]+3936430074&4294967295,P=w+(O<<11&4294967295|O>>>21),O=N+(P^w^D)+V[3]+3572445317&4294967295,N=P+(O<<16&4294967295|O>>>16),O=D+(N^P^w)+V[6]+76029189&4294967295,D=N+(O<<23&4294967295|O>>>9),O=w+(D^N^P)+V[9]+3654602809&4294967295,w=D+(O<<4&4294967295|O>>>28),O=P+(w^D^N)+V[12]+3873151461&4294967295,P=w+(O<<11&4294967295|O>>>21),O=N+(P^w^D)+V[15]+530742520&4294967295,N=P+(O<<16&4294967295|O>>>16),O=D+(N^P^w)+V[2]+3299628645&4294967295,D=N+(O<<23&4294967295|O>>>9),O=w+(N^(D|~P))+V[0]+4096336452&4294967295,w=D+(O<<6&4294967295|O>>>26),O=P+(D^(w|~N))+V[7]+1126891415&4294967295,P=w+(O<<10&4294967295|O>>>22),O=N+(w^(P|~D))+V[14]+2878612391&4294967295,N=P+(O<<15&4294967295|O>>>17),O=D+(P^(N|~w))+V[5]+4237533241&4294967295,D=N+(O<<21&4294967295|O>>>11),O=w+(N^(D|~P))+V[12]+1700485571&4294967295,w=D+(O<<6&4294967295|O>>>26),O=P+(D^(w|~N))+V[3]+2399980690&4294967295,P=w+(O<<10&4294967295|O>>>22),O=N+(w^(P|~D))+V[10]+4293915773&4294967295,N=P+(O<<15&4294967295|O>>>17),O=D+(P^(N|~w))+V[1]+2240044497&4294967295,D=N+(O<<21&4294967295|O>>>11),O=w+(N^(D|~P))+V[8]+1873313359&4294967295,w=D+(O<<6&4294967295|O>>>26),O=P+(D^(w|~N))+V[15]+4264355552&4294967295,P=w+(O<<10&4294967295|O>>>22),O=N+(w^(P|~D))+V[6]+2734768916&4294967295,N=P+(O<<15&4294967295|O>>>17),O=D+(P^(N|~w))+V[13]+1309151649&4294967295,D=N+(O<<21&4294967295|O>>>11),O=w+(N^(D|~P))+V[4]+4149444226&4294967295,w=D+(O<<6&4294967295|O>>>26),O=P+(D^(w|~N))+V[11]+3174756917&4294967295,P=w+(O<<10&4294967295|O>>>22),O=N+(w^(P|~D))+V[2]+718787259&4294967295,N=P+(O<<15&4294967295|O>>>17),O=D+(P^(N|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+P&4294967295}i.prototype.v=function(C,w){w===void 0&&(w=C.length);const D=w-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<w;){if(N==0)for(;P<=D;)r(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<w;)if(V[N++]=C.charCodeAt(P++),N==this.blockSize){r(this,V),N=0;break}}else for(;P<w;)if(V[N++]=C[P++],N==this.blockSize){r(this,V),N=0;break}}this.h=N,this.o+=w},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)C[w++]=this.g[D]>>>V&255;return C};function o(C,w){var D=h;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=w(C)}function c(C,w){this.h=w;const D=[];let V=!0;for(let N=C.length-1;N>=0;N--){const P=C[N]|0;V&&P==w||(D[N]=P,V=!1)}this.g=D}var h={};function f(C){return-128<=C&&C<128?o(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return M(g(-C));const w=[];let D=1;for(let V=0;C>=D;V++)w[V]=C/D|0,D*=4294967296;return new c(w,0)}function _(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return M(_(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(w,8));let V=v;for(let P=0;P<C.length;P+=8){var N=Math.min(8,C.length-P);const O=parseInt(C.substring(P,P+N),w);N<8?(N=g(Math.pow(w,N)),V=V.j(N).add(g(O))):(V=V.j(D),V=V.add(g(O)))}return V}var v=f(0),T=f(1),S=f(16777216);n=c.prototype,n.m=function(){if(I(this))return-M(this).m();let C=0,w=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R(this))return"0";if(I(this))return"-"+M(this).toString(C);const w=g(Math.pow(C,6));var D=this;let V="";for(;;){const N=et(D,w).g;D=j(D,N.j(w));let P=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=N,R(D))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function R(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function I(C){return C.h==-1}n.l=function(C){return C=j(this,C),I(C)?-1:R(C)?0:1};function M(C){const w=C.g.length,D=[];for(let V=0;V<w;V++)D[V]=~C.g[V];return new c(D,~C.h).add(T)}n.abs=function(){return I(this)?M(this):this},n.add=function(C){const w=Math.max(this.g.length,C.g.length),D=[];let V=0;for(let N=0;N<=w;N++){let P=V+(this.i(N)&65535)+(C.i(N)&65535),O=(P>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=O>>>16,P&=65535,O&=65535,D[N]=O<<16|P}return new c(D,D[D.length-1]&-2147483648?-1:0)};function j(C,w){return C.add(M(w))}n.j=function(C){if(R(this)||R(C))return v;if(I(this))return I(C)?M(this).j(M(C)):M(M(this).j(C));if(I(C))return M(this.j(M(C)));if(this.l(S)<0&&C.l(S)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,D=[];for(var V=0;V<2*w;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const P=this.i(V)>>>16,O=this.i(V)&65535,Dt=C.i(N)>>>16,Et=C.i(N)&65535;D[2*V+2*N]+=O*Et,Y(D,2*V+2*N),D[2*V+2*N+1]+=P*Et,Y(D,2*V+2*N+1),D[2*V+2*N+1]+=O*Dt,Y(D,2*V+2*N+1),D[2*V+2*N+2]+=P*Dt,Y(D,2*V+2*N+2)}for(C=0;C<w;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=w;C<2*w;C++)D[C]=0;return new c(D,0)};function Y(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function $(C,w){this.g=C,this.h=w}function et(C,w){if(R(w))throw Error("division by zero");if(R(C))return new $(v,v);if(I(C))return w=et(M(C),w),new $(M(w.g),M(w.h));if(I(w))return w=et(C,M(w)),new $(M(w.g),w.h);if(C.g.length>30){if(I(C)||I(w))throw Error("slowDivide_ only works with positive integers.");for(var D=T,V=w;V.l(C)<=0;)D=W(D),V=W(V);var N=rt(D,1),P=rt(V,1);for(V=rt(V,2),D=rt(D,2);!R(V);){var O=P.add(V);O.l(C)<=0&&(N=N.add(D),P=O),V=rt(V,1),D=rt(D,1)}return w=j(C,N.j(w)),new $(N,w)}for(N=v;C.l(w)>=0;){for(D=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=g(D),O=P.j(w);I(O)||O.l(C)>0;)D-=V,P=g(D),O=P.j(w);R(P)&&(P=T),N=N.add(P),C=j(C,O)}return new $(N,C)}n.B=function(C){return et(this,C).h},n.and=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)&C.i(V);return new c(D,this.h&C.h)},n.or=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)|C.i(V);return new c(D,this.h|C.h)},n.xor=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)^C.i(V);return new c(D,this.h^C.h)};function W(C){const w=C.g.length+1,D=[];for(let V=0;V<w;V++)D[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(D,C.h)}function rt(C,w){const D=w>>5;w%=32;const V=C.g.length-D,N=[];for(let P=0;P<V;P++)N[P]=w>0?C.i(P+D)>>>w|C.i(P+D+1)<<32-w:C.i(P+D);return new c(N,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ZS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Ar=c}).apply(typeof Gb<"u"?Gb:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JS,_c,t1,ff,np,e1,n1,i1;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(d,y){if(y)t:{var E=i;d=d.split(".");for(var A=0;A<d.length-1;A++){var F=d[A];if(!(F in E))break t;E=E[F]}d=d[d.length-1],A=E[d],y=y(A),y!=A&&y!=null&&t(E,d,{configurable:!0,writable:!0,value:y})}}r("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(d){return d||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function f(d,y,E){return d.call.apply(d.bind,arguments)}function g(d,y,E){return g=f,g.apply(null,arguments)}function _(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function v(d,y){function E(){}E.prototype=y.prototype,d.Z=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(A,F,X){for(var ot=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ot[Rt-2]=arguments[Rt];return y.prototype[F].apply(A,ot)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const y=d.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=d[A];return E}return[]}function R(d,y){for(let A=1;A<arguments.length;A++){const F=arguments[A];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=d.length||0;const X=F.length||0;d.length=E+X;for(let ot=0;ot<X;ot++)d[E+ot]=F[ot]}else d.push(F)}}class I{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function M(d){c.setTimeout(()=>{throw d},0)}function j(){var d=C;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Y{constructor(){this.h=this.g=null}add(y,E){const A=$.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new I(()=>new et,d=>d.reset());class et{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let W,rt=!1,C=new Y,w=()=>{const d=Promise.resolve(void 0);W=()=>{d.then(D)}};function D(){for(var d;d=j();){try{d.h.call(d.g)}catch(E){M(E)}var y=$;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Dt(d,y){N.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}v(Dt,N),Dt.prototype.init=function(d,y){const E=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),K=0;function at(d,y,E,A,F){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=F,this.key=++K,this.da=this.fa=!1}function ht(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function vt(d,y,E){for(const A in d)y.call(E,d[A],A,d)}function kt(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function L(d){const y={};for(const E in d)y[E]=d[E];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(d,y){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)d[E]=A[E];for(let X=0;X<J.length;X++)E=J[X],Object.prototype.hasOwnProperty.call(A,E)&&(d[E]=A[E])}}function ct(d){this.src=d,this.g={},this.h=0}ct.prototype.add=function(d,y,E,A,F){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const ot=bt(d,y,A,F);return ot>-1?(y=d[ot],E||(y.fa=!1)):(y=new at(y,this.src,X,!!A,F),y.fa=E,d.push(y)),y};function pt(d,y){const E=y.type;if(E in d.g){var A=d.g[E],F=Array.prototype.indexOf.call(A,y,void 0),X;(X=F>=0)&&Array.prototype.splice.call(A,F,1),X&&(ht(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function bt(d,y,E,A){for(let F=0;F<d.length;++F){const X=d[F];if(!X.da&&X.listener==y&&X.capture==!!E&&X.ha==A)return F}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Pe={};function ue(d,y,E,A,F){if(Array.isArray(y)){for(let X=0;X<y.length;X++)ue(d,y[X],E,A,F);return null}return E=ll(E),d&&d[Et]?d.J(y,E,h(A)?!!A.capture:!1,F):zr(d,y,E,!1,A,F)}function zr(d,y,E,A,F,X){if(!y)throw Error("Invalid event type");const ot=h(F)?!!F.capture:!!F;let Rt=Ur(d);if(Rt||(d[Bt]=Rt=new ct(d)),E=Rt.add(y,E,A,ot,X),E.proxy)return E;if(A=Fa(),E.proxy=A,A.src=d,A.listener=E,d.addEventListener)P||(F=ot),F===void 0&&(F=!1),d.addEventListener(y.toString(),A,F);else if(d.attachEvent)d.attachEvent(yi(y.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Fa(){function d(E){return y.call(d.src,d.listener,E)}const y=al;return d}function Ha(d,y,E,A,F){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ha(d,y[X],E,A,F);else A=h(A)?!!A.capture:!!A,E=ll(E),d&&d[Et]?(d=d.i,X=String(y).toString(),X in d.g&&(y=d.g[X],E=bt(y,E,A,F),E>-1&&(ht(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete d.g[X],d.h--)))):d&&(d=Ur(d))&&(y=d.g[y.toString()],d=-1,y&&(d=bt(y,E,A,F)),(E=d>-1?y[d]:null)&&qa(E))}function qa(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Et])pt(y.i,d);else{var E=d.type,A=d.proxy;y.removeEventListener?y.removeEventListener(E,A,d.capture):y.detachEvent?y.detachEvent(yi(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Ur(y))?(pt(E,d),E.h==0&&(E.src=null,y[Bt]=null)):ht(d)}}}function yi(d){return d in Pe?Pe[d]:Pe[d]="on"+d}function al(d,y){if(d.da)d=!0;else{y=new Dt(y,this);const E=d.listener,A=d.ha||d.src;d.fa&&qa(d),d=E.call(A,y)}return d}function Ur(d){return d=d[Bt],d instanceof ct?d:null}var ol="__closure_events_fn_"+(Math.random()*1e9>>>0);function ll(d){return typeof d=="function"?d:(d[ol]||(d[ol]=function(y){return d.handleEvent(y)}),d[ol])}function we(){V.call(this),this.i=new ct(this),this.M=this,this.G=null}v(we,V),we.prototype[Et]=!0,we.prototype.removeEventListener=function(d,y,E,A){Ha(this,d,y,E,A)};function Le(d,y){var E,A=d.G;if(A)for(E=[];A;A=A.G)E.push(A);if(d=d.M,A=y.type||y,typeof y=="string")y=new N(y,d);else if(y instanceof N)y.target=y.target||d;else{var F=y;y=new N(A,d),lt(y,F)}F=!0;let X,ot;if(E)for(ot=E.length-1;ot>=0;ot--)X=y.g=E[ot],F=Ps(X,A,!0,y)&&F;if(X=y.g=d,F=Ps(X,A,!0,y)&&F,F=Ps(X,A,!1,y)&&F,E)for(ot=0;ot<E.length;ot++)X=y.g=E[ot],F=Ps(X,A,!1,y)&&F}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const E=d.g[y];for(let A=0;A<E.length;A++)ht(E[A]);delete d.g[y],d.h--}}this.G=null},we.prototype.J=function(d,y,E,A){return this.i.add(String(d),y,!1,E,A)},we.prototype.K=function(d,y,E,A){return this.i.add(String(d),y,!0,E,A)};function Ps(d,y,E,A){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let X=0;X<y.length;++X){const ot=y[X];if(ot&&!ot.da&&ot.capture==E){const Rt=ot.listener,be=ot.ha||ot.src;ot.fa&&pt(d.i,ot),F=Rt.call(be,A)!==!1&&F}}return F&&!A.defaultPrevented}function vd(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(d,y||0)}function uu(d){d.g=vd(()=>{d.g=null,d.i&&(d.i=!1,uu(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class fn extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:uu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(d){V.call(this),this.h=d,this.g={}}v(jr,V);var cl=[];function ul(d){vt(d.g,function(y,E){this.g.hasOwnProperty(E)&&qa(y)},d),d.g={}}jr.prototype.N=function(){jr.Z.N.call(this),ul(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=c.JSON.stringify,bd=c.JSON.parse,hu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function fu(){}function du(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){N.call(this,"d")}v(Xe,N);function kn(){N.call(this,"c")}v(kn,N);var ve={},gu=null;function Ga(){return gu=gu||new we}ve.Ia="serverreachability";function mu(d){N.call(this,ve.Ia,d)}v(mu,N);function vi(d){const y=Ga();Le(y,new mu(y))}ve.STAT_EVENT="statevent";function Br(d,y){N.call(this,ve.STAT_EVENT,d),this.stat=y}v(Br,N);function Ae(d){const y=Ga();Le(y,new Br(y,d))}ve.Ja="timingevent";function bi(d,y){N.call(this,ve.Ja,d),this.size=y}v(bi,N);function Ti(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Td(d,y,E,A,F,X){d.info(function(){if(d.g)if(X){var ot="",Rt=X.split("&");for(let Yt=0;Yt<Rt.length;Yt++){var be=Rt[Yt].split("=");if(be.length>1){const he=be[0];be=be[1];const zn=he.split("_");ot=zn.length>=2&&zn[1]=="type"?ot+(he+"="+be+"&"):ot+(he+"=redacted&")}}}else ot=null;else ot=X;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+E+`
`+ot})}function pu(d,y,E,A,F,X,ot){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+E+`
`+X+" "+ot})}function Ei(d,y,E,A){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ed(d,E)+(A?" "+A:"")})}function Fr(d,y){d.info(function(){return"TIMEOUT: "+y})}ei.prototype.info=function(){};function Ed(d,y){if(!d.g)return y;if(!y)return null;try{const X=JSON.parse(y);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var E=X[d];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return Ls(X)}catch{return y}}var Hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fl;function qr(){}v(qr,fu),qr.prototype.g=function(){return new XMLHttpRequest},fl=new qr;function is(d){return encodeURIComponent(String(d))}function _u(d){var y=1;d=d.split(":");const E=[];for(;y>0&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function ni(d,y,E,A){this.j=d,this.i=y,this.l=E,this.S=A||1,this.V=new jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Re={},He={};function Si(d,y,E){d.M=1,d.A=Gr(Ie(y)),d.u=E,d.R=!0,Ya(d,null)}function Ya(d,y){d.F=Date.now(),xi(d),d.B=Ie(d.A);var E=d.B,A=d.S;Array.isArray(A)||(A=[String(A)]),$a(E.i,"t",A),d.C=0,E=d.j.L,d.h=new ii,d.g=Ou(d.j,E?y:null,!d.u),d.P>0&&(d.O=new fn(g(d.Y,d,d.g),d.P)),y=d.V,E=d.g,A=d.ba;var F="readystatechange";Array.isArray(F)||(F&&(cl[0]=F.toString()),F=cl);for(let X=0;X<F.length;X++){const ot=ue(E,F[X],A||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=d.J?L(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),vi(),Td(d.i,d.v,d.B,d.l,d.S,d.u)}ni.prototype.ba=function(d){d=d.target;const y=this.O;y&&ai(d)==3?y.j():this.Y(d)},ni.prototype.Y=function(d){try{if(d==this.g)t:{const Rt=ai(this.g),be=this.g.ya(),Yt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Rt!=4||be==7||(be==8||Yt<=0?vi(3):vi(2)),wi(this);var y=this.g.ca();this.X=y;var E=Sd(this);if(this.o=y==200,pu(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(A)){var X=A;break e}}X=null}if(d=X)Ei(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,d);else{this.o=!1,this.m=3,Ae(12),wn(this),Vn(this);break t}}if(this.R){d=!0;let he;for(;!this.K&&this.C<E.length;)if(he=vu(this,E),he==He){Rt==4&&(this.m=4,Ae(14),d=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Re){this.m=4,Ae(15),Ei(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Ei(this.i,this.l,he,null),Ai(this,he);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),d=!1),this.o=this.o&&d,!d)Ei(this.i,this.l,E,"[Invalid Chunked Response]"),wn(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Rl(ot),ot.P=!0,Ae(11))}}else Ei(this.i,this.l,E,null),Ai(this,E);Rt==4&&wn(this),this.o&&!this.K&&(Rt==4?Cu(this.j,this):(this.o=!1,xi(this)))}else rs(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),wn(this),Vn(this)}}}catch{}finally{}};function Sd(d){if(!yu(d))return d.g.la();const y=Qe(d.g);if(y==="")return"";let E="";const A=y.length,F=ai(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return wn(d),Vn(d),"";d.h.i=new c.TextDecoder}for(let X=0;X<A;X++)d.h.h=!0,E+=d.h.i.decode(y[X],{stream:!(F&&X==A-1)});return y.length=0,d.h.g+=E,d.C=0,d.h.g}function yu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function vu(d,y){var E=d.C,A=y.indexOf(`
`,E);return A==-1?He:(E=Number(y.substring(E,A)),isNaN(E)?Re:(A+=1,A+E>y.length?He:(y=y.slice(A,A+E),d.C=A+E,y)))}ni.prototype.cancel=function(){this.K=!0,wn(this)};function xi(d){d.T=Date.now()+d.H,Ka(d,d.H)}function Ka(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ti(g(d.aa,d),y)}function wi(d){d.D&&(c.clearTimeout(d.D),d.D=null)}ni.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Fr(this.i,this.B),this.M!=2&&(vi(),Ae(17)),wn(this),this.m=2,Vn(this)):Ka(this,this.T-d)};function Vn(d){d.j.I==0||d.K||Cu(d.j,d)}function wn(d){wi(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,ul(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function Ai(d,y){try{var E=d.j;if(E.I!=0&&(E.g==d||Ci(E.h,d))){if(!d.L&&Ci(E.h,d)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)eo(E),Gs(E);else break t;Zr(E),Ae(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(g(E.Va,E),6e3));Ri(E.h)<=1&&E.ta&&(E.ta=void 0)}else ki(E,11)}else if((d.L||E.g==d)&&eo(E),!O(y))for(F=E.Ba.g.parse(y),y=0;y<F.length;y++){let Yt=F[y];const he=Yt[0];if(!(he<=E.K))if(E.K=he,Yt=Yt[1],E.I==2)if(Yt[0]=="c"){E.M=Yt[1],E.ba=Yt[2];const zn=Yt[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Vi=Yt[4];Vi!=null&&(E.za=Vi,E.j.info("SVER="+E.za));const oi=Yt[5];oi!=null&&typeof oi=="number"&&oi>0&&(A=1.5*oi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const li=d.g;if(li){const Jr=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var X=A.h;X.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ml(X,X.h),X.h=null))}if(A.G){const no=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(A.wa=no,$t(A.J,A.G,no))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ot=d;if(A.na=Du(A,A.L?A.ba:null,A.W),ot.L){pl(A.h,ot);var Rt=ot,be=A.O;be&&(Rt.H=be),Rt.D&&(wi(Rt),xi(Rt)),A.g=ot}else Au(A);E.i.length>0&&Ni(E)}else Yt[0]!="stop"&&Yt[0]!="close"||ki(E,7);else E.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?ki(E,7):wl(E):Yt[0]!="noop"&&E.l&&E.l.qa(Yt),E.A=0)}}vi(4)}catch{}}var Ce=class{constructor(d,y){this.g=d,this.map=y}};function dl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ri(d){return d.h?1:d.g?d.g.size:0}function Ci(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function ml(d,y){d.g?d.g.add(y):d.h=y}function pl(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}dl.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function _l(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.G);return y}return S(d.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(d,y){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const A=d[E].indexOf("=");let F,X=null;A>=0?(F=d[E].substring(0,A),X=d[E].substring(A+1)):F=d[E],y(F,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function An(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof An?(this.l=d.l,qe(this,d.j),this.o=d.o,this.g=d.g,zs(this,d.u),this.h=d.h,yl(this,xu(d.i)),this.m=d.m):d&&(y=String(d).match(bu))?(this.l=!1,qe(this,y[1]||"",!0),this.o=Ii(y[2]||""),this.g=Ii(y[3]||"",!0),zs(this,y[4]),this.h=Ii(y[5]||"",!0),yl(this,y[6]||"",!0),this.m=Ii(y[7]||"")):(this.l=!1,this.i=new js(null,this.l))}An.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(Yr(y,Qa,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Yr(y,Qa,!0),"@"),d.push(is(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Yr(E,E.charAt(0)=="/"?vl:Tu,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Yr(E,Eu)),d.join("")},An.prototype.resolve=function(d){const y=Ie(this);let E=!!d.j;E?qe(y,d.j):E=!!d.o,E?y.o=d.o:E=!!d.g,E?y.g=d.g:E=d.u!=null;var A=d.h;if(E)zs(y,d.u);else if(E=!!d.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=y.h.lastIndexOf("/");F!=-1&&(A=y.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const X=[];for(let ot=0;ot<F.length;){const Rt=F[ot++];Rt=="."?A&&ot==F.length&&X.push(""):Rt==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ot==F.length&&X.push("")):(X.push(Rt),A=!0)}A=X.join("/")}else A=F}return E?y.h=A:E=d.i.toString()!=="",E?yl(y,xu(d.i)):E=!!d.m,E&&(y.m=d.m),y};function Ie(d){return new An(d)}function qe(d,y,E){d.j=E?Ii(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function zs(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function yl(d,y,E){y instanceof js?(d.i=y,Wa(d.i,d.l)):(E||(y=Yr(y,Us)),d.i=new js(y,d.l))}function $t(d,y,E){d.i.set(y,E)}function Gr(d){return $t(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ii(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Yr(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,mn),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function mn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Qa=/[#\/\?@]/g,Tu=/[#\?:]/g,vl=/[#\?]/g,Us=/[#\?@]/g,Eu=/#/g;function js(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function pn(d){d.g||(d.g=new Map,d.h=0,d.i&&Xa(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=js.prototype,n.add=function(d,y){pn(this),this.i=null,d=Bs(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function Su(d,y){pn(d),y=Bs(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function bl(d,y){return pn(d),y=Bs(d,y),d.g.has(y)}n.forEach=function(d,y){pn(this),this.g.forEach(function(E,A){E.forEach(function(F){d.call(y,F,A,this)},this)},this)};function Tl(d,y){pn(d);let E=[];if(typeof y=="string")bl(d,y)&&(E=E.concat(d.g.get(Bs(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)E=E.concat(d[y]);return E}n.set=function(d,y){return pn(this),this.i=null,d=Bs(this,d),bl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=Tl(this,d),d.length>0?String(d[0]):y):y};function $a(d,y,E){Su(d,y),E.length>0&&(d.i=null,d.g.set(Bs(d,y),S(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const F=is(E);E=Tl(this,E);for(let X=0;X<E.length;X++){let ot=F;E[X]!==""&&(ot+="="+is(E[X])),d.push(ot)}}return this.i=d.join("&")};function xu(d){const y=new js;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function Bs(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Wa(d,y){y&&!d.j&&(pn(d),d.i=null,d.g.forEach(function(E,A){const F=A.toLowerCase();A!=F&&(Su(this,A),$a(this,F,E))},d)),d.j=y}function si(d,y){const E=new ei;if(c.Image){const A=new Image;A.onload=_(Pn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=_(Pn,E,"TestLoadImage: error",!1,y,A),A.onabort=_(Pn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(Pn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else y(!1)}function El(d,y){const E=new ei,A=new AbortController,F=setTimeout(()=>{A.abort(),Pn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:A.signal}).then(X=>{clearTimeout(F),X.ok?Pn(E,"TestPingServer: ok",!0,y):Pn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Pn(E,"TestPingServer: error",!1,y)})}function Pn(d,y,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function Fs(){this.g=new hu}function Mi(d){this.i=d.Sb||null,this.h=d.ab||!1}v(Mi,fu),Mi.prototype.g=function(){return new Kr(this.i,this.h)};function Kr(d,y){we.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Kr,we),n=Kr.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,ri(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Za(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Za(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Hs(this):ri(this),this.readyState==3&&Za(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Hs(this))},n.Na=function(d){this.g&&(this.response=d,Hs(this))},n.ga=function(){this.g&&Hs(this)};function Hs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ri(d)}n.setRequestHeader=function(d,y){this.A.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function ri(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ln(d){let y="";return vt(d,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Xr(d,y,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=Ln(E),typeof d=="string"?E!=null&&is(E):$t(d,y,E))}function ee(d){we.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ee,we);var Di=/^https?$/i,Sl=["POST","PUT"];n=ee.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fl.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(X){Qr(this,X);return}if(d=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),F=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Sl,y,void 0)>=0)||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of E)this.g.setRequestHeader(X,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){Qr(this,X)}};function Qr(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,xl(d),ss(d)}function xl(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Le(this,"complete"),Le(this,"abort"),ss(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),ee.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?$r(this):this.Xa())},n.Xa=function(){$r(this)};function $r(d){if(d.h&&typeof o<"u"){if(d.v&&ai(d)==4)setTimeout(d.Ca.bind(d),0);else if(Le(d,"readystatechange"),ai(d)==4){d.h=!1;try{const X=d.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var A;if(A=X===0){let ot=String(d.D).match(bu)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),A=!Di.test(ot?ot.toLowerCase():"")}E=A}if(E)Le(d,"complete"),Le(d,"success");else{d.o=6;try{var F=ai(d)>2?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.ca()+"]",xl(d)}}finally{ss(d)}}}}function ss(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,y||Le(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ai(d){return d.g?d.g.readyState:0}n.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),bd(y)}};function Qe(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(d){const y={};d=(d.g&&ai(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(O(d[A]))continue;var E=_u(d[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=y[F]||[];y[F]=X,X.push(E)}kt(y,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function qs(d){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,d),this.Za=Oi("retryDelaySeedMs",1e4,d),this.Ta=Oi("forwardChannelMaxRetries",2,d),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new dl(d&&d.concurrentRequestLimit),this.Ba=new Fs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=qs.prototype,n.ka=8,n.I=1,n.connect=function(d,y,E,A){Ae(0),this.W=d,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Du(this,null,this.W),Ni(this)};function wl(d){if(Ja(d),d.I==3){var y=d.V++,E=Ie(d.J);if($t(E,"SID",d.M),$t(E,"RID",y),$t(E,"TYPE","terminate"),Wr(d,E),y=new ni(d,d.j,y),y.M=2,y.A=Gr(Ie(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Ou(y.j,null),y.g.ea(y.A)),y.F=Date.now(),xi(y)}Mu(d)}function Gs(d){d.g&&(Rl(d),d.g.cancel(),d.g=null)}function Ja(d){Gs(d),d.v&&(c.clearTimeout(d.v),d.v=null),eo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Ni(d){if(!gl(d.h)&&!d.m){d.m=!0;var y=d.Ea;W||w(),rt||(W(),rt=!0),C.add(y,d),d.D=0}}function to(d,y){return Ri(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ti(g(d.Ea,d,y),Iu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const F=new ni(this,this.j,d);let X=this.o;if(this.U&&(X?(X=L(X),lt(X,this.U)):X=this.U),this.u!==null||this.R||(F.J=X,X=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=wu(this,F,y),E=Ie(this.J),$t(E,"RID",d),$t(E,"CVER",22),this.G&&$t(E,"X-HTTP-Session-Id",this.G),Wr(this,E),X&&(this.R?y="headers="+is(Ln(X))+"&"+y:this.u&&Xr(E,this.u,X)),ml(this.h,F),this.Ra&&$t(E,"TYPE","init"),this.S?($t(E,"$req",y),$t(E,"SID","null"),F.U=!0,Si(F,E,null)):Si(F,E,y),this.I=2}}else this.I==3&&(d?Al(this,d):this.i.length==0||gl(this.h)||Al(this))};function Al(d,y){var E;y?E=y.l:E=d.V++;const A=Ie(d.J);$t(A,"SID",d.M),$t(A,"RID",E),$t(A,"AID",d.K),Wr(d,A),d.u&&d.o&&Xr(A,d.u,d.o),E=new ni(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),y&&(d.i=y.G.concat(d.i)),y=wu(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ml(d.h,E),Si(E,A,y)}function Wr(d,y){d.H&&vt(d.H,function(E,A){$t(y,A,E)}),d.l&&vt({},function(E,A){$t(y,A,E)})}function wu(d,y,E){E=Math.min(d.i.length,E);const A=d.l?g(d.l.Ka,d.l,d):null;t:{var F=d.i;let Rt=-1;for(;;){const be=["count="+E];Rt==-1?E>0?(Rt=F[0].g,be.push("ofs="+Rt)):Rt=0:be.push("ofs="+Rt);let Yt=!0;for(let he=0;he<E;he++){var X=F[he].g;const zn=F[he].map;if(X-=Rt,X<0)Rt=Math.max(0,F[he].g-100),Yt=!1;else try{X="req"+X+"_"||"";try{var ot=zn instanceof Map?zn:Object.entries(zn);for(const[Vi,oi]of ot){let li=oi;h(oi)&&(li=Ls(oi)),be.push(X+Vi+"="+encodeURIComponent(li))}}catch(Vi){throw be.push(X+"type="+encodeURIComponent("_badmap")),Vi}}catch{A&&A(zn)}}if(Yt){ot=be.join("&");break t}}ot=void 0}return d=d.i.splice(0,E),y.G=d,ot}function Au(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;W||w(),rt||(W(),rt=!0),C.add(y,d),d.A=0}}function Zr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ti(g(d.Da,d),Iu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ti(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Gs(this),Ru(this))};function Rl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Ru(d){d.g=new ni(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=Ie(d.na);$t(y,"RID","rpc"),$t(y,"SID",d.M),$t(y,"AID",d.K),$t(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&$t(y,"TO",d.ia),$t(y,"TYPE","xmlhttp"),Wr(d,y),d.u&&d.o&&Xr(y,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=Gr(Ie(y)),E.u=null,E.R=!0,Ya(E,d)}n.Va=function(){this.C!=null&&(this.C=null,Gs(this),Zr(this),Ae(19))};function eo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Cu(d,y){var E=null;if(d.g==y){eo(d),Rl(d),d.g=null;var A=2}else if(Ci(d.h,y))E=y.G,pl(d.h,y),A=1;else return;if(d.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var F=d.D;A=Ga(),Le(A,new bi(A,E)),Ni(d)}else Au(d);else if(F=y.m,F==3||F==0&&y.X>0||!(A==1&&to(d,y)||A==2&&Zr(d)))switch(E&&E.length>0&&(y=d.h,y.i=y.i.concat(E)),F){case 1:ki(d,5);break;case 4:ki(d,10);break;case 3:ki(d,6);break;default:ki(d,2)}}}function Iu(d,y){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*y}function ki(d,y){if(d.j.info("Error code "+y),y==2){var E=g(d.bb,d),A=d.Ua;const F=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(A,"https"),Gr(A),F?si(A.toString(),E):El(A.toString(),E)}else Ae(2);d.I=0,d.l&&d.l.pa(y),Mu(d),Ja(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Mu(d){if(d.I=0,d.ja=[],d.l){const y=_l(d.h);(y.length!=0||d.i.length!=0)&&(R(d.ja,y),R(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function Du(d,y,E){var A=E instanceof An?Ie(E):new An(E);if(A.g!="")y&&(A.g=y+"."+A.g),zs(A,A.u);else{var F=c.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const X=new An(null);A&&qe(X,A),y&&(X.g=y),F&&zs(X,F),E&&(X.h=E),A=X}return E=d.G,y=d.wa,E&&y&&$t(A,E,y),$t(A,"VER",d.ka),Wr(d,A),A}function Ou(d,y,E){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new ee(new Mi({ab:E})):new ee(d.ma),y.Fa(d.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}n=Nu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ys(){}Ys.prototype.g=function(d,y){return new dn(d,y)};function dn(d,y){we.call(this),this.g=new qs(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!O(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new as(this)}v(dn,we),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){wl(this.g)},dn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Ls(d),d=E);y.i.push(new Ce(y.Ya++,d)),y.I==3&&Ni(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,dn.Z.N.call(this)};function ku(d){Xe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){t:{for(const E in y){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}v(ku,Xe);function Vu(){kn.call(this),this.status=1}v(Vu,kn);function as(d){this.g=d}v(as,Nu),as.prototype.ra=function(){Le(this.g,"a")},as.prototype.qa=function(d){Le(this.g,new ku(d))},as.prototype.pa=function(d){Le(this.g,new Vu)},as.prototype.oa=function(){Le(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,i1=function(){return new Ys},n1=function(){return Ga()},e1=ve,np={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hr.NO_ERROR=0,Hr.TIMEOUT=8,Hr.HTTP_ERROR=6,ff=Hr,hl.COMPLETE="complete",t1=hl,du.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",we.prototype.listen=we.prototype.J,_c=du,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,JS=ee}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const Yb="@firebase/firestore",Kb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Ip("@firebase/firestore");function Vo(){return Ma.logLevel}function ut(n,...t){if(Ma.logLevel<=Lt.DEBUG){const e=t.map(Fp);Ma.debug(`Firestore (${el}): ${n}`,...e)}}function Ns(n,...t){if(Ma.logLevel<=Lt.ERROR){const e=t.map(Fp);Ma.error(`Firestore (${el}): ${n}`,...e)}}function Yo(n,...t){if(Ma.logLevel<=Lt.WARN){const e=t.map(Fp);Ma.warn(`Firestore (${el}): ${n}`,...e)}}function Fp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,s1(n,i,e)}function s1(n,t,e){let i=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ns(i),new Error(i)}function Qt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||s1(t,r,i)}function At(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends es{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(on.UNAUTHENTICATED)))}shutdown(){}}class qI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class GI{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rr,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new r1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class YI{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KI{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new YI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Xb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=QI(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function ip(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Mm(r)===Mm(o)?zt(r,o):Mm(r)?1:-1}return zt(n.length,t.length)}const $I=55296,WI=57343;function Mm(n){const t=n.charCodeAt(0);return t>=$I&&t<=WI}function Ko(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="__name__";class Hi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Tt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Hi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Hi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Hi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return zt(t.length,e.length)}static compareSegments(t,e){const i=Hi.isNumericId(t),r=Hi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Hi.extractNumericId(t).compare(Hi.extractNumericId(e)):ip(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ar.fromString(t.substring(4,t.length-2))}}class de extends Hi{construct(t,e,i){return new de(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new de(e)}static emptyPath(){return new de([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Hi{construct(t,e,i){return new en(t,e,i)}static isValidIdentifier(t){return ZI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qb}static keyField(){return new en([Qb])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new gt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new gt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new gt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new gt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(de.fromString(t))}static fromName(t){return new _t(de.fromString(t).popFirst(5))}static empty(){return new _t(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return de.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new de(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(n,t,e){if(!e)throw new gt(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function tM(n,t,e,i){if(t===!0&&i===!0)throw new gt(st.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function $b(n){if(!_t.isDocumentKey(n))throw new gt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function Lc(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qp(n);throw new gt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,t){const e={typeString:n};return t&&(e.value=t),e}function su(n,t){if(!a1(n))throw new gt(st.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new gt(st.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=-62135596800,Zb=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Zb);return new ce(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Wb)throw new gt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zb}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(su(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Wb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Ve("string",ce._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new ce(0,0))}static max(){return new xt(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function eM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(i===1e9?new ce(e+1,0):new ce(e,i));return new Mr(r,_t.empty(),t)}function nM(n){return new Mr(n.readTime,n.key,zc)}class Mr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Mr(xt.min(),_t.empty(),zc)}static max(){return new Mr(xt.max(),_t.empty(),zc)}}function iM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==sM)throw n;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,i)=>{e(t)}))}static reject(t){return new it(((e,i)=>{i(t)}))}static waitFor(t){return new it(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=it.resolve(!1);for(const i of t)e=e.next((r=>r?it.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new it(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next((_=>{c[g]=_,++h,h===o&&i(c)}),(_=>r(_)))}}))}static doWhile(t,e){return new it(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function aM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function il(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ed.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function nd(n){return n==null}function If(n){return n===0&&1/n==-1/0}function oM(n){return typeof n=="number"&&Number.isInteger(n)&&!If(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="";function lM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Jb(t)),t=cM(n.get(e),t);return Jb(t)}function cM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case o1:e+="";break;default:e+=o}}return e}function Jb(n){return n+o1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Pa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function l1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bh(this.root,t,this.comparator,!0)}}class Bh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=r??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new tn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new eT(this.data.getIterator())}getIteratorFrom(t){return new eT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Fe(this.comparator);return e.data=t,e}}class eT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new gi([])}unionWith(t){let e=new Fe(en.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new gi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ko(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new c1("Invalid base64 string: "+o):o}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const uM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=uM.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="server_timestamp",h1="__type__",f1="__previous_value__",d1="__local_write_time__";function Yp(n){return(n?.mapValue?.fields||{})[h1]?.stringValue===u1}function id(n){const t=n.mapValue.fields[f1];return Yp(t)?id(t):t}function Uc(n){const t=Dr(n.mapValue.fields[d1].timestampValue);return new ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t,e,i,r,o,c,h,f,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=_}}const Mf="(default)";class jc{constructor(t,e){this.projectId=t,this.database=e||Mf}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(t){return t instanceof jc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__type__",fM="__max__",Fh={mapValue:{}},m1="__vector__",Df="value";function Nr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yp(n)?4:gM(n)?9007199254740991:dM(n)?10:11:Tt(28295,{value:n})}function Zi(n,t){if(n===t)return!0;const e=Nr(n);if(e!==Nr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Uc(n).isEqual(Uc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Dr(r.timestampValue),h=Dr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Or(r.bytesValue).isEqual(Or(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Se(r.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(r.geoPointValue.longitude)===Se(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Se(r.integerValue)===Se(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Se(r.doubleValue),h=Se(o.doubleValue);return c===h?If(c)===If(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Ko(n.arrayValue.values||[],t.arrayValue.values||[],Zi);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(tT(c)!==tT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Zi(c[f],h[f])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function Bc(n,t){return(n.values||[]).find((e=>Zi(e,t)))!==void 0}function Xo(n,t){if(n===t)return 0;const e=Nr(n),i=Nr(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Se(o.integerValue||o.doubleValue),f=Se(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return nT(n.timestampValue,t.timestampValue);case 4:return nT(Uc(n),Uc(t));case 5:return ip(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Or(o),f=Or(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const _=zt(h[g],f[g]);if(_!==0)return _}return zt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=zt(Se(o.latitude),Se(c.latitude));return h!==0?h:zt(Se(o.longitude),Se(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return iT(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},g=h[Df]?.arrayValue,_=f[Df]?.arrayValue,v=zt(g?.values?.length||0,_?.values?.length||0);return v!==0?v:iT(g,_)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Fh.mapValue&&c===Fh.mapValue)return 0;if(o===Fh.mapValue)return 1;if(c===Fh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let v=0;v<f.length&&v<_.length;++v){const T=ip(f[v],_[v]);if(T!==0)return T;const S=Xo(h[f[v]],g[_[v]]);if(S!==0)return S}return zt(f.length,_.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function nT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=Dr(n),i=Dr(t),r=zt(e.seconds,i.seconds);return r!==0?r:zt(e.nanos,i.nanos)}function iT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Xo(e[r],i[r]);if(o)return o}return zt(e.length,i.length)}function Qo(n){return sp(n)}function sp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Dr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Or(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return _t.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=sp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${sp(e.fields[c])}`;return r+"}"})(n.mapValue):Tt(61005,{value:n})}function df(n){switch(Nr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=id(n);return t?16+df(t):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+df(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Pa(i.fields,((o,c)=>{r+=o.length+df(c)})),r})(n.mapValue);default:throw Tt(13486,{value:n})}}function rp(n){return!!n&&"integerValue"in n}function Kp(n){return!!n&&"arrayValue"in n}function sT(n){return!!n&&"nullValue"in n}function rT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gf(n){return!!n&&"mapValue"in n}function dM(n){return(n?.mapValue?.fields||{})[g1]?.stringValue===m1}function Ac(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Pa(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Ac(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ac(n.arrayValue.values[e]);return t}return{...n}}function gM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!gf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ac(e)}setAll(t){let e=en.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Ac(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());gf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Zi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Pa(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Qn(Ac(this.value))}}function p1(n){const t=[];return Pa(n.fields,((e,i)=>{const r=new en([e]);if(gf(i)){const o=p1(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new gi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ln(t,0,xt.min(),xt.min(),xt.min(),Qn.empty(),0)}static newFoundDocument(t,e,i,r){return new ln(t,1,e,xt.min(),i,r,0)}static newNoDocument(t,e){return new ln(t,2,e,xt.min(),xt.min(),Qn.empty(),0)}static newUnknownDocument(t,e){return new ln(t,3,e,xt.min(),xt.min(),Qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,e){this.position=t,this.inclusive=e}}function aT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=_t.comparator(_t.fromName(c.referenceValue),e.key):i=Xo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function oT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Zi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,e="asc"){this.field=t,this.dir=e}}function mM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{}class Ue extends _1{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new _M(t,e,i):e==="array-contains"?new bM(t,i):e==="in"?new TM(t,i):e==="not-in"?new EM(t,i):e==="array-contains-any"?new SM(t,i):new Ue(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new yM(t,i):new vM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Xo(e,this.value)):e!==null&&Nr(this.value)===Nr(e)&&this.matchesComparison(Xo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends _1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ji(t,e)}matches(t){return y1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y1(n){return n.op==="and"}function v1(n){return pM(n)&&y1(n)}function pM(n){for(const t of n.filters)if(t instanceof Ji)return!1;return!0}function ap(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(v1(n))return n.filters.map((t=>ap(t))).join(",");{const t=n.filters.map((e=>ap(e))).join(",");return`${n.op}(${t})`}}function b1(n,t){return n instanceof Ue?(function(i,r){return r instanceof Ue&&i.op===r.op&&i.field.isEqual(r.field)&&Zi(i.value,r.value)})(n,t):n instanceof Ji?(function(i,r){return r instanceof Ji&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&b1(c,r.filters[h])),!0):!1})(n,t):void Tt(19439)}function T1(n){return n instanceof Ue?(function(e){return`${e.field.canonicalString()} ${e.op} ${Qo(e.value)}`})(n):n instanceof Ji?(function(e){return e.op.toString()+" {"+e.getFilters().map(T1).join(" ,")+"}"})(n):"Filter"}class _M extends Ue{constructor(t,e,i){super(t,e,i),this.key=_t.fromName(i.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class yM extends Ue{constructor(t,e){super(t,"in",e),this.keys=E1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class vM extends Ue{constructor(t,e){super(t,"not-in",e),this.keys=E1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function E1(n,t){return(t.arrayValue?.values||[]).map((e=>_t.fromName(e.referenceValue)))}class bM extends Ue{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Kp(e)&&Bc(e.arrayValue,this.value)}}class TM extends Ue{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Bc(this.value.arrayValue,e)}}class EM extends Ue{constructor(t,e){super(t,"not-in",e)}matches(t){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Bc(this.value.arrayValue,e)}}class SM extends Ue{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Kp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Bc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function lT(n,t=null,e=[],i=[],r=null,o=null,c=null){return new xM(n,t,e,i,r,o,c)}function Xp(n){const t=At(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>ap(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),nd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Qo(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Qo(i))).join(",")),t.Te=e}return t.Te}function Qp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!mM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!b1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!oT(n.startAt,t.startAt)&&oT(n.endAt,t.endAt)}function op(n){return _t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wM(n,t,e,i,r,o,c,h){return new sd(n,t,e,i,r,o,c,h)}function $p(n){return new sd(n)}function cT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AM(n){return n.collectionGroup!==null}function Rc(n){const t=At(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Fe(en.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Nf(o,i))})),e.has(en.keyField().canonicalString())||t.Ie.push(new Nf(en.keyField(),i))}return t.Ie}function Yi(n){const t=At(n);return t.Ee||(t.Ee=RM(t,Rc(n))),t.Ee}function RM(n,t){if(n.limitType==="F")return lT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Nf(r.field,o)}));const e=n.endAt?new Of(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Of(n.startAt.position,n.startAt.inclusive):null;return lT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function lp(n,t,e){return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function rd(n,t){return Qp(Yi(n),Yi(t))&&n.limitType===t.limitType}function S1(n){return`${Xp(Yi(n))}|lt:${n.limitType}`}function Po(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>T1(r))).join(", ")}]`),nd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Qo(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Qo(r))).join(",")),`Target(${i})`})(Yi(n))}; limitType=${n.limitType})`}function ad(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_t.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Rc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const g=aT(c,h,f);return c.inclusive?g<=0:g<0})(i.startAt,Rc(i),r)||i.endAt&&!(function(c,h,f){const g=aT(c,h,f);return c.inclusive?g>=0:g>0})(i.endAt,Rc(i),r))})(n,t)}function CM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function x1(n){return(t,e)=>{let i=!1;for(const r of Rc(n)){const o=IM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function IM(n,t,e){const i=n.field.isKeyField()?_t.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?Xo(f,g):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Pa(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return l1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new ge(_t.comparator);function ks(){return MM}const w1=new ge(_t.comparator);function yc(...n){let t=w1;for(const e of n)t=t.insert(e.key,e);return t}function A1(n){let t=w1;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ea(){return Cc()}function R1(){return Cc()}function Cc(){return new La((n=>n.toString()),((n,t)=>n.isEqual(t)))}const DM=new ge(_t.comparator),OM=new Fe(_t.comparator);function Ut(...n){let t=OM;for(const e of n)t=t.add(e);return t}const NM=new Fe(zt);function kM(){return NM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(t)?"-0":t}}function C1(n){return{integerValue:""+n}}function VM(n,t){return oM(t)?C1(t):Wp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this._=void 0}}function PM(n,t,e){return n instanceof kf?(function(r,o){const c={fields:{[h1]:{stringValue:u1},[d1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Yp(o)&&(o=id(o)),o&&(c.fields[f1]=o),{mapValue:c}})(e,t):n instanceof Fc?M1(n,t):n instanceof Hc?D1(n,t):(function(r,o){const c=I1(r,o),h=uT(c)+uT(r.Ae);return rp(c)&&rp(r.Ae)?C1(h):Wp(r.serializer,h)})(n,t)}function LM(n,t,e){return n instanceof Fc?M1(n,t):n instanceof Hc?D1(n,t):e}function I1(n,t){return n instanceof Vf?(function(i){return rp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class kf extends od{}class Fc extends od{constructor(t){super(),this.elements=t}}function M1(n,t){const e=O1(t);for(const i of n.elements)e.some((r=>Zi(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Hc extends od{constructor(t){super(),this.elements=t}}function D1(n,t){let e=O1(t);for(const i of n.elements)e=e.filter((r=>!Zi(r,i)));return{arrayValue:{values:e}}}class Vf extends od{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function uT(n){return Se(n.integerValue||n.doubleValue)}function O1(n){return Kp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function zM(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Fc&&r instanceof Fc||i instanceof Hc&&r instanceof Hc?Ko(i.elements,r.elements,Zi):i instanceof Vf&&r instanceof Vf?Zi(i.Ae,r.Ae):i instanceof kf&&r instanceof kf})(n.transform,t.transform)}class UM{constructor(t,e){this.version=t,this.transformResults=e}}class Ms{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ms}static exists(t){return new Ms(void 0,t)}static updateTime(t){return new Ms(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class ld{}function N1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new V1(n.key,Ms.none()):new ru(n.key,n.data,Ms.none());{const e=n.data,i=Qn.empty();let r=new Fe(en.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new za(n.key,i,new gi(r.toArray()),Ms.none())}}function jM(n,t,e){n instanceof ru?(function(r,o,c){const h=r.value.clone(),f=fT(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof za?(function(r,o,c){if(!mf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=fT(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(k1(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Ic(n,t,e,i){return n instanceof ru?(function(o,c,h,f){if(!mf(o.precondition,c))return h;const g=o.value.clone(),_=dT(o.fieldTransforms,f,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,i):n instanceof za?(function(o,c,h,f){if(!mf(o.precondition,c))return h;const g=dT(o.fieldTransforms,f,c),_=c.data;return _.setAll(k1(o)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(o,c,h){return mf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function BM(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=I1(i.transform,r||null);o!=null&&(e===null&&(e=Qn.empty()),e.set(i.field,o))}return e||null}function hT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ko(i,r,((o,c)=>zM(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ru extends ld{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class za extends ld{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function k1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function fT(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,LM(c,h,e[r]))}return i}function dT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,PM(o,c,t))}return i}class V1 extends ld{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FM extends ld{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&jM(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ic(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ic(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=R1();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=N1(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(xt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Ko(this.mutations,t.mutations,((e,i)=>hT(e,i)))&&Ko(this.baseMutations,t.baseMutations,((e,i)=>hT(e,i)))}}class Zp{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return DM})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Zp(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,Ft;function YM(n){switch(n){case st.OK:return Tt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function P1(n){if(n===void 0)return Ns("GRPC error has no .code"),st.UNKNOWN;switch(n){case ke.OK:return st.OK;case ke.CANCELLED:return st.CANCELLED;case ke.UNKNOWN:return st.UNKNOWN;case ke.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case ke.INTERNAL:return st.INTERNAL;case ke.UNAVAILABLE:return st.UNAVAILABLE;case ke.UNAUTHENTICATED:return st.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case ke.NOT_FOUND:return st.NOT_FOUND;case ke.ALREADY_EXISTS:return st.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return st.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case ke.ABORTED:return st.ABORTED;case ke.OUT_OF_RANGE:return st.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return st.UNIMPLEMENTED;case ke.DATA_LOSS:return st.DATA_LOSS;default:return Tt(39323,{code:n})}}(Ft=ke||(ke={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new Ar([4294967295,4294967295],0);function gT(n){const t=KM().encode(n),e=new ZS;return e.update(t),new Uint8Array(e.digest())}function mT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ar([e,i],0),new Ar([r,o],0)]}class Jp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new vc(`Invalid padding: ${e}`);if(i<0)throw new vc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new vc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ar.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Ar.fromNumber(i)));return r.compare(XM)===1&&(r=new Ar([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=gT(t),[i,r]=mT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Jp(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=gT(t),[i,r]=mT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,au.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new cd(xt.min(),r,new ge(zt),ks(),Ut())}}class au{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new au(i,e,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class L1{constructor(t,e){this.targetId=t,this.Ce=e}}class z1{constructor(t,e,i=nn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class pT{constructor(){this.ve=0,this.Fe=_T(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),i=Ut();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Tt(38017,{changeType:o})}})),new au(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=_T()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QM{constructor(t){this.Ge=t,this.ze=new Map,this.je=ks(),this.Je=Hh(),this.He=Hh(),this.Ye=new ge(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(op(o))if(i===0){const c=new _t(o.path);this.et(e,c,ln.newNoDocument(c,xt.min()))}else Qt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=Or(i).toUint8Array()}catch(f){if(f instanceof c1)return Yo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Jp(c,r,o)}catch(f){return Yo(f instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&op(h.target)){const f=new _t(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ln.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ut();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new cd(t,e,this.Ye,this.je,i);return this.je=ks(),this.Je=Hh(),this.He=Hh(),this.Ye=new ge(zt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new pT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Fe(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Fe(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ut("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new pT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Hh(){return new ge(_t.comparator)}function _T(){return new ge(_t.comparator)}const $M={asc:"ASCENDING",desc:"DESCENDING"},WM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZM={and:"AND",or:"OR"};class JM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function cp(n,t){return n.useProto3Json||nd(t)?t:{value:t}}function Pf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function U1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function tD(n,t){return Pf(n,t.toTimestamp())}function Ki(n){return Qt(!!n,49232),xt.fromTimestamp((function(e){const i=Dr(e);return new ce(i.seconds,i.nanos)})(n))}function t_(n,t){return up(n,t).canonicalString()}function up(n,t){const e=(function(r){return new de(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function j1(n){const t=de.fromString(n);return Qt(G1(t),10190,{key:t.toString()}),t}function hp(n,t){return t_(n.databaseId,t.path)}function Dm(n,t){const e=j1(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new _t(F1(e))}function B1(n,t){return t_(n.databaseId,t)}function eD(n){const t=j1(n);return t.length===4?de.emptyPath():F1(t)}function fp(n){return new de(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F1(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yT(n,t,e){return{name:hp(n,t),fields:e.value.mapValue.fields}}function nD(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(g,_){return g.useProto3Json?(Qt(_===void 0||typeof _=="string",58123),nn.fromBase64String(_||"")):(Qt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),nn.fromUint8Array(_||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(g){const _=g.code===void 0?st.UNKNOWN:P1(g.code);return new gt(_,g.message||"")})(c);e=new z1(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Dm(n,i.document.name),o=Ki(i.document.updateTime),c=i.document.createTime?Ki(i.document.createTime):xt.min(),h=new Qn({mapValue:{fields:i.document.fields}}),f=ln.newFoundDocument(r,o,c,h),g=i.targetIds||[],_=i.removedTargetIds||[];e=new pf(g,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Dm(n,i.document),o=i.readTime?Ki(i.readTime):xt.min(),c=ln.newNoDocument(r,o),h=i.removedTargetIds||[];e=new pf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Dm(n,i.document),o=i.removedTargetIds||[];e=new pf([],o,r,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new GM(r,o),h=i.targetId;e=new L1(h,c)}}return e}function iD(n,t){let e;if(t instanceof ru)e={update:yT(n,t.key,t.value)};else if(t instanceof V1)e={delete:hp(n,t.key)};else if(t instanceof za)e={update:yT(n,t.key,t.data),updateMask:fD(t.fieldMask)};else{if(!(t instanceof FM))return Tt(16599,{Vt:t.type});e={verify:hp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof kf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Hc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Vf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Tt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:tD(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Tt(27497)})(n,t.precondition)),e}function sD(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?Ki(r.updateTime):Ki(o);return c.isEqual(xt.min())&&(c=Ki(o)),new UM(c,r.transformResults||[])})(e,t)))):[]}function rD(n,t){return{documents:[B1(n,t.path)]}}function aD(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=B1(n,r);const o=(function(g){if(g.length!==0)return q1(Ji.create(g,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((_=>(function(T){return{field:Lo(T.field),direction:cD(T.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=cp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:r}}function oD(n){let t=eD(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=(function(v){const T=H1(v);return T instanceof Ji&&v1(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((T=>(function(R){return new Nf(zo(R.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,nd(T)?null:T})(e.limit));let f=null;e.startAt&&(f=(function(v){const T=!!v.before,S=v.values||[];return new Of(S,T)})(e.startAt));let g=null;return e.endAt&&(g=(function(v){const T=!v.before,S=v.values||[];return new Of(S,T)})(e.endAt)),wM(t,r,c,o,h,"F",f,g)}function lD(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function H1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=zo(e.unaryFilter.field);return Ue.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=zo(e.unaryFilter.field);return Ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zo(e.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zo(e.unaryFilter.field);return Ue.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ue.create(zo(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Ji.create(e.compositeFilter.filters.map((i=>H1(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function cD(n){return $M[n]}function uD(n){return WM[n]}function hD(n){return ZM[n]}function Lo(n){return{fieldPath:n.canonicalString()}}function zo(n){return en.fromServerFormat(n.fieldPath)}function q1(n){return n instanceof Ue?(function(e){if(e.op==="=="){if(rT(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NAN"}};if(sT(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(rT(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NAN"}};if(sT(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(e.field),op:uD(e.op),value:e.value}}})(n):n instanceof Ji?(function(e){const i=e.getFilters().map((r=>q1(r)));return i.length===1?i[0]:{compositeFilter:{op:hD(e.op),filters:i}}})(n):Tt(54877,{filter:n})}function fD(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function G1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,e,i,r,o=xt.min(),c=xt.min(),h=nn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t){this.yt=t}}function gD(n){const t=oD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.Cn=new pD}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(Mr.min())}updateCollectionGroup(t,e,i){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class pD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Fe(de.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Fe(de.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y1=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(Y1,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $o(0)}static cr(){return new $o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="LruGarbageCollector",_D=1048576;function TT([n,t],[e,i]){const r=zt(n,e);return r===0?zt(t,i):r}class yD{constructor(t){this.Ir=t,this.buffer=new Fe(TT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();TT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class vD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(bT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){il(e)?ut(bT,"Ignoring IndexedDB error during garbage collection: ",e):await nl(e)}await this.Vr(3e5)}))}}class bD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(ed.ce);const i=new yD(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(vT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,c=Date.now(),this.nthSequenceNumber(t,r)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(g=Date.now(),Vo()<=Lt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-_}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v}))))}}function TD(n,t){return new bD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.changes=new La((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?it.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&Ic(i.mutation,r,gi.empty(),ce.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ut()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ut()){const r=Ea();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=yc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Ea();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ut())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=ks();const c=Cc(),h=(function(){return Cc()})();return e.forEach(((f,g)=>{const _=i.get(g.key);r.has(g.key)&&(_===void 0||_.mutation instanceof za)?o=o.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Ic(_.mutation,g,_.mutation.getFieldMask(),ce.now())):c.set(g.key,gi.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((g,_)=>c.set(g,_))),e.forEach(((g,_)=>h.set(g,new SD(_,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Cc();let r=new ge(((c,h)=>c-h)),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=e.get(f);if(g===null)return;let _=i.get(f)||gi.empty();_=h.applyToLocalView(g,_),i.set(f,_);const v=(r.get(h.batchId)||Ut()).add(f);r=r.insert(h.batchId,v)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,_=f.value,v=R1();_.forEach((T=>{if(!o.has(T)){const S=N1(e.get(T),i.get(T));S!==null&&v.set(T,S),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return it.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return _t.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):AM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):it.resolve(Ea());let h=zc,f=o;return c.next((g=>it.forEach(g,((_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(_)?it.resolve():this.remoteDocumentCache.getEntry(t,_).next((T=>{f=f.insert(_,T)}))))).next((()=>this.populateOverlays(t,g,o))).next((()=>this.computeViews(t,f,g,Ut()))).next((_=>({batchId:h,changes:A1(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next((i=>{let r=yc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=yc();return this.indexManager.getCollectionParents(t,o).next((h=>it.forEach(h,(f=>{const g=(function(v,T){return new sd(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,r).next((_=>{_.forEach(((v,T)=>{c=c.insert(v,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,ln.newInvalidDocument(_)))}));let h=yc();return c.forEach(((f,g)=>{const _=o.get(f);_!==void 0&&Ic(_.mutation,g,gi.empty(),ce.now()),ad(e,g)&&(h=h.insert(f,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return it.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Ki(r.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:gD(r.bundledQuery),readTime:Ki(r.readTime)}})(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.overlays=new ge(_t.comparator),this.qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ea();return it.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),it.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),it.resolve()}getOverlaysForCollection(t,e,i){const r=Ea(),o=e.length+1,c=new _t(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return it.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ge(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let _=o.get(g.largestBatchId);_===null&&(_=Ea(),o=o.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=Ea(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,_)=>h.set(g,_))),!(h.size()>=r)););return it.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new qM(e,i));let o=this.qr.get(e);o===void 0&&(o=Ut(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.Qr=new Fe(Ye.$r),this.Ur=new Fe(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Ye(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Ye(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new _t(new de([])),i=new Ye(e,t),r=new Ye(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new _t(new de([])),i=new Ye(e,t),r=new Ye(e,t+1);let o=Ut();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Ye(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ye{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return _t.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||_t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Fe(Ye.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new HM(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Ye(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,e){return it.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return it.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Gp:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ye(e,0),r=new Ye(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),it.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Fe(zt);return e.forEach((r=>{const o=new Ye(r,0),c=new Ye(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),it.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;_t.isDocumentKey(o)||(o=o.child(""));const c=new Ye(new _t(o),0);let h=new Fe(zt);return this.Zr.forEachWhile((f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.Yr)),!0)}),c),it.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return it.forEach(e.mutations,(r=>{const o=new Ye(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Ye(e,0),r=this.Zr.firstAfterOrEqual(i);return it.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t){this.ri=t,this.docs=(function(){return new ge(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return it.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(e))}getEntries(t,e){let i=ks();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ln.newInvalidDocument(r))})),it.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=ks();const c=e.path,h=new _t(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||iM(nM(_),i)<=0||(r.has(_.key)||ad(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return it.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Tt(9500)}ii(t,e){return it.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new MD(this)}getSize(t){return it.resolve(this.size)}}class MD extends ED{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),it.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.persistence=t,this.si=new La((e=>Xp(e)),Qp),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new e_,this.targetCount=0,this.ai=$o.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),it.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new $o(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Pr(e),it.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),it.waitFor(o).next((()=>r))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return it.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),it.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),it.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return it.resolve(i)}containsKey(t,e){return it.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,e){this.ui={},this.overlays={},this.ci=new ed(0),this.li=!1,this.li=!0,this.hi=new RD,this.referenceDelegate=t(this),this.Pi=new DD(this),this.indexManager=new mD,this.remoteDocumentCache=(function(r){return new ID(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new dD(e),this.Ii=new wD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new AD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new CD(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ut("MemoryPersistence","Starting transaction:",t);const r=new OD(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return it.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class OD extends rM{constructor(t){super(),this.currentSequenceNumber=t}}class n_{constructor(t){this.persistence=t,this.Ri=new e_,this.Vi=null}static mi(t){return new n_(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),it.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(i=>{const r=_t.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,xt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Lf{constructor(t,e){this.persistence=t,this.pi=new La((i=>lM(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=TD(this,e)}static mi(t,e){return new Lf(t,e)}Ei(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return it.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?it.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,xt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=df(t.data.value)),e}br(t,e,i){return it.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return it.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Ut(),r=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new i_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xR()?8:aM(hn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new ND;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Vo()<=Lt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Po(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Vo()<=Lt.DEBUG&&ut("QueryEngine","Query:",Po(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Vo()<=Lt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Po(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Yi(e))):it.resolve())}ys(t,e){if(cT(e))return it.resolve(null);let i=Yi(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=lp(e,null,"F"),i=Yi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ut(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const g=this.Ds(e,h);return this.Cs(e,g,c,f.readTime)?this.ys(t,lp(e,null,"F")):this.vs(t,g,e,f)}))))})))))}ws(t,e,i,r){return cT(e)||r.isEqual(xt.min())?it.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?it.resolve(null):(Vo()<=Lt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Po(e)),this.vs(t,c,e,eM(r,zc)).next((h=>h)))}))}Ds(t,e){let i=new Fe(x1(t));return e.forEach(((r,o)=>{ad(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Vo()<=Lt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Po(e)),this.ps.getDocumentsMatchingQuery(t,e,Mr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="LocalStore",VD=3e8;class PD{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new ge(zt),this.xs=new La((o=>Xp(o)),Qp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function LD(n,t,e,i){return new PD(n,t,e,i)}async function X1(n,t){const e=At(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Ut();for(const g of r){c.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of o){h.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function zD(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,_){const v=g.batch,T=v.keys();let S=it.resolve();return T.forEach((R=>{S=S.next((()=>_.getEntry(f,R))).next((I=>{const M=g.docVersions.get(R);Qt(M!==null,48541),I.version.compareTo(M)<0&&(v.applyToRemoteDocument(I,g),I.isValidDocument()&&(I.setReadTime(g.commitVersion),_.addEntry(I)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ut();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function Q1(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function UD(n,t){const e=At(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((_,v)=>{const T=r.get(v);if(!T)return;h.push(e.Pi.removeMatchingKeys(o,_.removedDocuments,v).next((()=>e.Pi.addMatchingKeys(o,_.addedDocuments,v))));let S=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(nn.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,i)),r=r.insert(v,S),(function(I,M,j){return I.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=VD?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,S,_)&&h.push(e.Pi.updateTargetData(o,S))}));let f=ks(),g=Ut();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))})),h.push(jD(o,c,t.documentUpdates).next((_=>{f=_.ks,g=_.qs}))),!i.isEqual(xt.min())){const _=e.Pi.getLastRemoteSnapshotVersion(o).next((v=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(_)}return it.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,g))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function jD(n,t,e){let i=Ut(),r=Ut();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=ks();return e.forEach(((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(xt.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ut(s_,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function BD(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Gp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function FD(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,it.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new br(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function dp(n,t,e){const i=At(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!il(c))throw c;ut(s_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function ET(n,t,e){const i=At(n);let r=xt.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,_){const v=At(f),T=v.xs.get(_);return T!==void 0?it.resolve(v.Ms.get(T)):v.Pi.getTargetData(g,_)})(i,c,Yi(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:xt.min(),e?o:Ut()))).next((h=>(HD(i,CM(t),h),{documents:h,Qs:o})))))}function HD(n,t,e){let i=n.Os.get(t)||xt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class ST{constructor(){this.activeTargetIds=kM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qD{constructor(){this.Mo=new ST,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ST,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="ConnectivityMonitor";class wT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(xT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(xT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function gp(){return qh===null?qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",YD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Mf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=gp(),h=this.zo(t,e.toUriEncodedString());ut(Om,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:g}=new URL(h),_=ka(g);return this.Jo(t,h,f,i,_).then((v=>(ut(Om,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Yo(Om,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=YD[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class QD extends KD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=gp();return new Promise(((h,f)=>{const g=new JS;g.setWithCredentials(!0),g.listenOnce(t1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ff.NO_ERROR:const v=g.getResponseJson();ut(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case ff.TIMEOUT:ut(rn,`RPC '${t}' ${c} timed out`),f(new gt(st.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const T=g.getStatus();if(ut(rn,`RPC '${t}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const I=(function(j){const Y=j.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Y)>=0?Y:st.UNKNOWN})(R.status);f(new gt(I,R.message))}else f(new gt(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new gt(st.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ut(rn,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(r);ut(rn,`RPC '${t}' ${c} sending request:`,r),g.send(e,"POST",_,i,15)}))}T_(t,e,i){const r=gp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=i1(),h=n1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=o.join("");ut(rn,`Creating RPC '${t}' stream ${r}: ${_}`,f);const v=c.createWebChannel(_,f);this.I_(v);let T=!1,S=!1;const R=new XD({Yo:M=>{S?ut(rn,`Not sending because RPC '${t}' stream ${r} is closed:`,M):(T||(ut(rn,`Opening RPC '${t}' stream ${r} transport.`),v.open(),T=!0),ut(rn,`RPC '${t}' stream ${r} sending:`,M),v.send(M))},Zo:()=>v.close()}),I=(M,j,Y)=>{M.listen(j,($=>{try{Y($)}catch(et){setTimeout((()=>{throw et}),0)}}))};return I(v,_c.EventType.OPEN,(()=>{S||(ut(rn,`RPC '${t}' stream ${r} transport opened.`),R.o_())})),I(v,_c.EventType.CLOSE,(()=>{S||(S=!0,ut(rn,`RPC '${t}' stream ${r} transport closed`),R.a_(),this.E_(v))})),I(v,_c.EventType.ERROR,(M=>{S||(S=!0,Yo(rn,`RPC '${t}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),R.a_(new gt(st.UNAVAILABLE,"The operation could not be completed")))})),I(v,_c.EventType.MESSAGE,(M=>{if(!S){const j=M.data[0];Qt(!!j,16349);const Y=j,$=Y?.error||Y[0]?.error;if($){ut(rn,`RPC '${t}' stream ${r} received error:`,$);const et=$.status;let W=(function(w){const D=ke[w];if(D!==void 0)return P1(D)})(et),rt=$.message;W===void 0&&(W=st.INTERNAL,rt="Unknown error status: "+et+" with message "+$.message),S=!0,R.a_(new gt(W,rt)),v.close()}else ut(rn,`RPC '${t}' stream ${r} received:`,j),R.u_(j)}})),I(h,e1.STAT_EVENT,(M=>{M.stat===np.PROXY?ut(rn,`RPC '${t}' stream ${r} detected buffering proxy`):M.stat===np.NOPROXY&&ut(rn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n){return new JM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ut("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="PersistentStream";class W1{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===st.RESOURCE_EXHAUSTED?(Ns(e.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new gt(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(AT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ut(AT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $D extends W1{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=nD(this.serializer,t),i=(function(o){if(!("targetChange"in o))return xt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?Ki(c.readTime):xt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=fp(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=op(f)?{documents:rD(o,f)}:{query:aD(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=U1(o,c.resumeToken);const g=cp(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(xt.min())>0){h.readTime=Pf(o,c.snapshotVersion.toTimestamp());const g=cp(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,t);const i=lD(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=fp(this.serializer),e.removeTarget=t,this.q_(e)}}class WD extends W1{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=sD(t.writeResults,t.commitTime),i=Ki(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=fp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>iD(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{}class JD extends ZD{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new gt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,up(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(st.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,up(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(e),this.aa=!1):ut("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class eO{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ua(this)&&(ut(Da,"Restarting streams for network reachability change."),await(async function(f){const g=At(f);g.Ea.add(4),await ou(g),g.Ra.set("Unknown"),g.Ea.delete(4),await hd(g)})(this))}))})),this.Ra=new tO(i,r)}}async function hd(n){if(Ua(n))for(const t of n.da)await t(!0)}async function ou(n){for(const t of n.da)await t(!1)}function Z1(n,t){const e=At(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),l_(e)?o_(e):sl(e).O_()&&a_(e,t))}function r_(n,t){const e=At(n),i=sl(e);e.Ia.delete(t),i.O_()&&J1(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ua(e)&&e.Ra.set("Unknown"))}function a_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}sl(n).Y_(t)}function J1(n,t){n.Va.Ue(t),sl(n).Z_(t)}function o_(n){n.Va=new QM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),sl(n).start(),n.Ra.ua()}function l_(n){return Ua(n)&&!sl(n).x_()&&n.Ia.size>0}function Ua(n){return At(n).Ea.size===0}function tx(n){n.Va=void 0}async function nO(n){n.Ra.set("Online")}async function iO(n){n.Ia.forEach(((t,e)=>{a_(n,t)}))}async function sO(n,t){tx(n),l_(n)?(n.Ra.ha(t),o_(n)):n.Ra.set("Unknown")}async function rO(n,t,e){if(n.Ra.set("Online"),t instanceof z1&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ut(Da,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await zf(n,i)}else if(t instanceof pf?n.Va.Ze(t):t instanceof L1?n.Va.st(t):n.Va.tt(t),!e.isEqual(xt.min()))try{const i=await Q1(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.Ia.get(g);_&&o.Ia.set(g,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const _=o.Ia.get(f);if(!_)return;o.Ia.set(f,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),J1(o,f);const v=new br(_.target,f,g,_.sequenceNumber);a_(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ut(Da,"Failed to raise snapshot:",i),await zf(n,i)}}async function zf(n,t,e){if(!il(t))throw t;n.Ea.add(1),await ou(n),n.Ra.set("Offline"),e||(e=()=>Q1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ut(Da,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await hd(n)}))}function ex(n,t){return t().catch((e=>zf(n,e,t)))}async function fd(n){const t=At(n),e=kr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Gp;for(;aO(t);)try{const r=await BD(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,oO(t,r)}catch(r){await zf(t,r)}nx(t)&&ix(t)}function aO(n){return Ua(n)&&n.Ta.length<10}function oO(n,t){n.Ta.push(t);const e=kr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function nx(n){return Ua(n)&&!kr(n).x_()&&n.Ta.length>0}function ix(n){kr(n).start()}async function lO(n){kr(n).ra()}async function cO(n){const t=kr(n);for(const e of n.Ta)t.ea(e.mutations)}async function uO(n,t,e){const i=n.Ta.shift(),r=Zp.from(i,t,e);await ex(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await fd(n)}async function hO(n,t){t&&kr(n).X_&&await(async function(i,r){if((function(c){return YM(c)&&c!==st.ABORTED})(r.code)){const o=i.Ta.shift();kr(i).B_(),await ex(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await fd(i)}})(n,t),nx(n)&&ix(n)}async function RT(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),ut(Da,"RemoteStore received new credentials");const i=Ua(e);e.Ea.add(3),await ou(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await hd(e)}async function fO(n,t){const e=At(n);t?(e.Ea.delete(2),await hd(e)):t||(e.Ea.add(2),await ou(e),e.Ra.set("Unknown"))}function sl(n){return n.ma||(n.ma=(function(e,i,r){const o=At(e);return o.sa(),new $D(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:nO.bind(null,n),t_:iO.bind(null,n),r_:sO.bind(null,n),H_:rO.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),l_(n)?o_(n):n.Ra.set("Unknown")):(await n.ma.stop(),tx(n))}))),n.ma}function kr(n){return n.fa||(n.fa=(function(e,i,r){const o=At(e);return o.sa(),new WD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:lO.bind(null,n),r_:hO.bind(null,n),ta:cO.bind(null,n),na:uO.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await fd(n)):(await n.fa.stop(),n.Ta.length>0&&(ut(Da,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new c_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u_(n,t){if(Ns("AsyncQueue",`${t}: ${n}`),il(n))return new gt(st.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(t){return new Fo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||_t.comparator(e.key,i.key):(e,i)=>_t.comparator(e.key,i.key),this.keyedMap=yc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Fo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Fo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.ga=new ge(_t.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Wo{constructor(t,e,i,r,o,c,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new Wo(t,e,Fo.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class gO{constructor(){this.queries=IT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=At(e),o=r.queries;r.queries=IT(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new gt(st.ABORTED,"Firestore shutting down"))}}function IT(){return new La((n=>S1(n)),rd)}async function mO(n,t){const e=At(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new dO,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=u_(c,`Initialization of query '${Po(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&h_(e)}async function pO(n,t){const e=At(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function _O(n,t){const e=At(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&h_(e)}function yO(n,t,e){const i=At(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function h_(n){n.Ca.forEach((t=>{t.next()}))}var mp,MT;(MT=mp||(mp={})).Ma="default",MT.Cache="cache";class vO{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Wo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t){this.key=t}}class rx{constructor(t){this.key=t}}class bO{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=x1(t),this.tu=new Fo(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new CT,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((_,v)=>{const T=r.get(_),S=ad(this.query,v)?v:null,R=!!T&&this.mutatedKeys.has(T.key),I=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;T&&S?T.data.isEqual(S.data)?R!==I&&(i.track({type:3,doc:S}),M=!0):this.su(T,S)||(i.track({type:2,doc:S}),M=!0,(f&&this.eu(S,f)>0||g&&this.eu(S,g)<0)&&(h=!0)):!T&&S?(i.track({type:0,doc:S}),M=!0):T&&!S&&(i.track({type:1,doc:T}),M=!0,(f||g)&&(h=!0)),M&&(S?(c=c.add(S),o=I?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,v)=>(function(S,R){const I=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:M})}};return I(S)-I(R)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,g=f!==this.Za;return this.Za=f,c.length!==0||g?{snapshot:new Wo(this.query,t.tu,o,c,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new rx(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new sx(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const f_="SyncEngine";class TO{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class EO{constructor(t){this.key=t,this.hu=!1}}class SO{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new La((h=>S1(h)),rd),this.Iu=new Map,this.Eu=new Set,this.du=new ge(_t.comparator),this.Au=new Map,this.Ru=new e_,this.Vu={},this.mu=new Map,this.fu=$o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xO(n,t,e=!0){const i=hx(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await ax(i,t,e,!0),r}async function wO(n,t){const e=hx(n);await ax(e,t,!0,!1)}async function ax(n,t,e,i){const r=await FD(n.localStore,Yi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await AO(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&Z1(n.remoteStore,r),h}async function AO(n,t,e,i,r){n.pu=(v,T,S)=>(async function(I,M,j,Y){let $=M.view.ru(j);$.Cs&&($=await ET(I.localStore,M.query,!1).then((({documents:C})=>M.view.ru(C,$))));const et=Y&&Y.targetChanges.get(M.targetId),W=Y&&Y.targetMismatches.get(M.targetId)!=null,rt=M.view.applyChanges($,I.isPrimaryClient,et,W);return OT(I,M.targetId,rt.au),rt.snapshot})(n,v,T,S);const o=await ET(n.localStore,t,!0),c=new bO(t,o.Qs),h=c.ru(o.documents),f=au.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),g=c.applyChanges(h,n.isPrimaryClient,f);OT(n,e,g.au);const _=new TO(t,e,c);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function RO(n,t,e){const i=At(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!rd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await dp(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&r_(i.remoteStore,r.targetId),pp(i,r.targetId)})).catch(nl)):(pp(i,r.targetId),await dp(i.localStore,r.targetId,!0))}async function CO(n,t){const e=At(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),r_(e.remoteStore,i.targetId))}async function IO(n,t,e){const i=PO(n);try{const r=await(function(c,h){const f=At(c),g=ce.now(),_=h.reduce(((S,R)=>S.add(R.key)),Ut());let v,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=ks(),I=Ut();return f.Ns.getEntries(S,_).next((M=>{R=M,R.forEach(((j,Y)=>{Y.isValidDocument()||(I=I.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,R))).next((M=>{v=M;const j=[];for(const Y of h){const $=BM(Y,v.get(Y.key).overlayedDocument);$!=null&&j.push(new za(Y.key,$,p1($.value.mapValue),Ms.exists(!0)))}return f.mutationQueue.addMutationBatch(S,g,j,h)})).next((M=>{T=M;const j=M.applyToLocalDocumentSet(v,I);return f.documentOverlayCache.saveOverlays(S,M.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:A1(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let g=c.Vu[c.currentUser.toKey()];g||(g=new ge(zt)),g=g.insert(h,f),c.Vu[c.currentUser.toKey()]=g})(i,r.batchId,e),await lu(i,r.changes),await fd(i.remoteStore)}catch(r){const o=u_(r,"Failed to persist write");e.reject(o)}}async function ox(n,t){const e=At(n);try{const i=await UD(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Qt(c.hu,14607):r.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await lu(e,i,t)}catch(i){await nl(i)}}function DT(n,t,e){const i=At(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=At(c);f.onlineState=h;let g=!1;f.queries.forEach(((_,v)=>{for(const T of v.Sa)T.va(h)&&(g=!0)})),g&&h_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function MO(n,t,e){const i=At(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new ge(_t.comparator);c=c.insert(o,ln.newNoDocument(o,xt.min()));const h=Ut().add(o),f=new cd(xt.min(),new Map,new ge(zt),c,h);await ox(i,f),i.du=i.du.remove(o),i.Au.delete(t),d_(i)}else await dp(i.localStore,t,!1).then((()=>pp(i,t,e))).catch(nl)}async function DO(n,t){const e=At(n),i=t.batch.batchId;try{const r=await zD(e.localStore,t);cx(e,i,null),lx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await lu(e,r)}catch(r){await nl(r)}}async function OO(n,t,e){const i=At(n);try{const r=await(function(c,h){const f=At(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return f.mutationQueue.lookupMutationBatch(g,h).next((v=>(Qt(v!==null,37113),_=v.keys(),f.mutationQueue.removeMutationBatch(g,v)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>f.localDocuments.getDocuments(g,_)))}))})(i.localStore,t);cx(i,t,e),lx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await lu(i,r)}catch(r){await nl(r)}}function lx(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function cx(n,t,e){const i=At(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function pp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||ux(n,i)}))}function ux(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(r_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),d_(n))}function OT(n,t,e){for(const i of e)i instanceof sx?(n.Ru.addReference(i.key,t),NO(n,i)):i instanceof rx?(ut(f_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||ux(n,i.key)):Tt(19791,{wu:i})}function NO(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ut(f_,"New document in limbo: "+e),n.Eu.add(i),d_(n))}function d_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new _t(de.fromString(t)),i=n.fu.next();n.Au.set(i,new EO(e)),n.du=n.du.insert(e,i),Z1(n.remoteStore,new br(Yi($p(e.path)),i,"TargetPurposeLimboResolution",ed.ce))}}async function lu(n,t,e){const i=At(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((g=>{if((g||e)&&i.isPrimaryClient){const _=g?!g.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(g){r.push(g);const _=i_.As(f.targetId,g);o.push(_)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,g){const _=At(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>it.forEach(g,(T=>it.forEach(T.Es,(S=>_.persistence.referenceDelegate.addReference(v,T.targetId,S))).next((()=>it.forEach(T.ds,(S=>_.persistence.referenceDelegate.removeReference(v,T.targetId,S)))))))))}catch(v){if(!il(v))throw v;ut(s_,"Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const S=_.Ms.get(T),R=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(R);_.Ms=_.Ms.insert(T,I)}}})(i.localStore,o))}async function kO(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){ut(f_,"User change. New user:",t.toKey());const i=await X1(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new gt(st.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await lu(e,i.Ls)}}function VO(n,t){const e=At(n),i=e.Au.get(t);if(i&&i.hu)return Ut().add(i.key);{let r=Ut();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function hx(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=ox.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MO.bind(null,t),t.Pu.H_=_O.bind(null,t.eventManager),t.Pu.yu=yO.bind(null,t.eventManager),t}function PO(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,t),t}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ud(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return LD(this.persistence,new kD,t.initialUser,this.serializer)}Cu(t){return new K1(n_.mi,this.serializer)}Du(t){return new qD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class LO extends Uf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof Lf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new vD(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new K1((i=>Lf.mi(i,e)),this.serializer)}}class _p{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kO.bind(null,this.syncEngine),await fO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gO})()}createDatastore(t){const e=ud(t.databaseInfo.databaseId),i=(function(o){return new QD(o)})(t.databaseInfo);return(function(o,c,h,f){return new JD(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new eO(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>DT(this.syncEngine,e,0)),(function(){return wT.v()?new wT:new GD})())}createSyncEngine(t,e){return(function(r,o,c,h,f,g,_){const v=new SO(r,o,c,h,f,g);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=At(e);ut(Da,"RemoteStore shutting down."),i.Ea.add(5),await ou(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class UO{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=Hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ut(Vr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ut(Vr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=u_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function km(n,t){n.asyncQueue.verifyOperationInProgress(),ut(Vr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await X1(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function NT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await jO(n);ut(Vr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>RT(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>RT(t.remoteStore,r))),n._onlineComponents=t}async function jO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ut(Vr,"Using user provided OfflineComponentProvider");try{await km(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===st.FAILED_PRECONDITION||r.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Yo("Error using user provided cache. Falling back to memory cache: "+e),await km(n,new Uf)}}else ut(Vr,"Using default OfflineComponentProvider"),await km(n,new LO(void 0));return n._offlineComponents}async function fx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ut(Vr,"Using user provided OnlineComponentProvider"),await NT(n,n._uninitializedComponentsProvider._online)):(ut(Vr,"Using default OnlineComponentProvider"),await NT(n,new _p))),n._onlineComponents}function BO(n){return fx(n).then((t=>t.syncEngine))}async function FO(n){const t=await fx(n),e=t.eventManager;return e.onListen=xO.bind(null,t.syncEngine),e.onUnlisten=RO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=wO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=CO.bind(null,t.syncEngine),e}function HO(n,t,e={}){const i=new Rr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,g){const _=new zO({next:T=>{_.Nu(),c.enqueueAndForget((()=>pO(o,v)));const S=T.docs.has(h);!S&&T.fromCache?g.reject(new gt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&f&&f.source==="server"?g.reject(new gt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new vO($p(h.path),_,{includeMetadataChanges:!0,qa:!0});return mO(o,v)})(await FO(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="firestore.googleapis.com",VT=!0;class PT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gx,this.ssl=VT}else this.host=t.host,this.ssl=t.ssl??VT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Y1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_D)throw new gt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dx(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class g_{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new HI;switch(i.type){case"firstParty":return new KI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=kT.get(e);i&&(ut("ComponentProvider","Removing Datastore"),kT.delete(e),i.terminate())})(this),Promise.resolve()}}function qO(n,t,e,i={}){n=Lc(n,g_);const r=ka(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Rp(`https://${h}`),Cp("Firestore",!0)),o.host!==gx&&o.host!==h&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!Ra(f,c)&&(n._setSettings(f),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=on.MOCK_USER;else{g=pS(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new gt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new on(v)}n._authCredentials=new qI(new r1(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new m_(this.firestore,t,this._query)}}class Ke{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(su(e,Ke._jsonSchema))return new Ke(t,i||null,new _t(de.fromString(e.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Ve("string",Ke._jsonSchemaVersion),referencePath:Ve("string")};class qc extends m_{constructor(t,e,i){super(t,e,$p(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new _t(t))}withConverter(t){return new qc(this.firestore,t,this._path)}}function GO(n,t,...e){if(n=_i(n),arguments.length===1&&(t=Hp.newId()),JI("doc","path",t),n instanceof g_){const i=de.fromString(t,...e);return $b(i),new Ke(n,null,new _t(i))}{if(!(n instanceof Ke||n instanceof qc))throw new gt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(de.fromString(t,...e));return $b(i),new Ke(n.firestore,n instanceof qc?n.converter:null,new _t(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="AsyncQueue";class zT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $1(this,"async_queue_retry"),this._c=()=>{const i=Nm();i&&ut(LT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Nm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Nm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!il(t))throw t;ut(LT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",UT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=c_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Tt(47125,{Pc:UT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function UT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class p_ extends g_{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new zT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zT(t),this._firestoreClient=void 0,await t}}}function YO(n,t){const e=typeof n=="object"?n:Dp(),i=typeof n=="string"?n:Mf,r=Wf(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=dS("firestore");o&&qO(r,...o)}return r}function mx(n){if(n._terminated)throw new gt(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||KO(n),n._firestoreClient}function KO(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new hM(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new UO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $n(nn.fromBase64String(t))}catch(e){throw new gt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new $n(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(su(t,$n._jsonSchema))return $n.fromBase64String(t.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ve("string",$n._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(t){if(su(t,Xi._jsonSchema))return new Xi(t.latitude,t.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Ve("string",Xi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(su(t,Qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Qi(t.vectorValues);throw new gt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:Ve("string",Qi._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=/^__.*__$/;class QO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new za(t,this.data,this.fieldMask,e,this.fieldTransforms):new ru(t,this.data,e,this.fieldTransforms)}}function _x(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:n})}}class y_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new y_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return jf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_x(this.Ac)&&XO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class $O{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ud(t)}Cc(t,e,i,r=!1){return new y_({Ac:t,methodName:e,Dc:i,path:en.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WO(n){const t=n._freezeSettings(),e=ud(n._databaseId);return new $O(n._databaseId,!!t.ignoreUndefinedProperties,e)}function ZO(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);Tx("Data must be an object, but it was:",c,i);const h=vx(i,c);let f,g;if(o.merge)f=new gi(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const v of o.mergeFields){const T=JO(t,v,e);if(!c.contains(T))throw new gt(st.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);eN(_,T)||_.push(T)}f=new gi(_),g=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,g=c.fieldTransforms;return new QO(new Qn(h),f,g)}function yx(n,t){if(bx(n=_i(n)))return Tx("Unsupported field value:",t,n),vx(n,t);if(n instanceof px)return(function(i,r){if(!_x(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=yx(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=_i(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return VM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ce.fromDate(i);return{timestampValue:Pf(r.serializer,o)}}if(i instanceof ce){const o=new ce(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pf(r.serializer,o)}}if(i instanceof Xi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $n)return{bytesValue:U1(r.serializer,i._byteString)};if(i instanceof Ke){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:t_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Qi)return(function(c,h){return{mapValue:{fields:{[g1]:{stringValue:m1},[Df]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return Wp(h.serializer,g)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${qp(i)}`)})(n,t)}function vx(n,t){const e={};return l1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pa(n,((i,r)=>{const o=yx(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function bx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ce||n instanceof Xi||n instanceof $n||n instanceof Ke||n instanceof px||n instanceof Qi)}function Tx(n,t,e){if(!bx(e)||!a1(e)){const i=qp(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function JO(n,t,e){if((t=_i(t))instanceof __)return t._internalPath;if(typeof t=="string")return Ex(n,t);throw jf("Field path arguments must be of type string or ",n,!1,void 0,e)}const tN=new RegExp("[~\\*/\\[\\]]");function Ex(n,t,e){if(t.search(tN)>=0)throw jf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new __(...t.split("."))._internalPath}catch{throw jf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function jf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new gt(st.INVALID_ARGUMENT,h+n+f)}function eN(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(xx("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class nN extends Sx{data(){return super.data()}}function xx(n,t){return typeof t=="string"?Ex(n,t):t instanceof __?t._internalPath:t._delegate._internalPath}class iN{convertValue(t,e="none"){switch(Nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Pa(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Df].arrayValue?.values?.map((i=>Se(i.doubleValue)));return new Qi(e)}convertGeoPoint(t){return new Xi(Se(t.latitude),Se(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=id(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Uc(t));default:return null}}convertTimestamp(t){const e=Dr(t);return new ce(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=de.fromString(t);Qt(G1(i),9688,{name:t});const r=new jc(i.get(1),i.get(3)),o=new _t(i.popFirst(5));return r.isEqual(e)||Ns(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class bc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wa extends Sx{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(xx("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=wa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Ve("string",wa._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class _f extends wa{data(t={}){return super.data(t)}}class Mc{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new bc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new _f(this._firestore,this._userDataWriter,i.key,i,new bc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new _f(r._firestore,r._userDataWriter,h.doc.key,h.doc,new bc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new _f(r._firestore,r._userDataWriter,h.doc.key,h.doc,new bc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:rN(h.type),doc:f,oldIndex:g,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Mc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function rN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){n=Lc(n,Ke);const t=Lc(n.firestore,p_);return HO(mx(t),n._key).then((e=>uN(t,n,e)))}Mc._jsonSchemaVersion="firestore/querySnapshot/1.0",Mc._jsonSchema={type:Ve("string",Mc._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class oN extends iN{constructor(t){super(),this.firestore=t}convertBytes(t){return new $n(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,e)}}function lN(n,t,e){n=Lc(n,Ke);const i=Lc(n.firestore,p_),r=sN(n.converter,t);return cN(i,[ZO(WO(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Ms.none())])}function cN(n,t){return(function(i,r){const o=new Rr;return i.asyncQueue.enqueueAndForget((async()=>IO(await BO(i),r,o))),o.promise})(mx(n),t)}function uN(n,t,e){const i=e.docs.get(t._key),r=new oN(n);return new wa(n,r,t._key,i,new bc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){el=r})(Va),Ca(new Ir("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new p_(new GI(i.getProvider("auth-internal")),new XI(c,i.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new gt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(g.options.projectId,_)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),qi(Yb,Kb,t),qi(Yb,Kb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="firebasestorage.googleapis.com",hN="storageBucket",fN=120*1e3,dN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends es{constructor(t,e,i=0){super(Vm(t),`Firebase Storage: ${e} (${Vm(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ns.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Vm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ts;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ts||(ts={}));function Vm(n){return"storage/"+n}function gN(){const n="An unknown error occurred, please check the error payload for server response.";return new ns(ts.UNKNOWN,n)}function mN(){return new ns(ts.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pN(){return new ns(ts.CANCELED,"User canceled the upload/download.")}function _N(n){return new ns(ts.INVALID_URL,"Invalid URL '"+n+"'.")}function yN(n){return new ns(ts.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function jT(n){return new ns(ts.INVALID_ARGUMENT,n)}function Ax(){return new ns(ts.APP_DELETED,"The Firebase app was deleted.")}function vN(n){return new ns(ts.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=mi.makeFromUrl(t,e)}catch{return new mi(t,"")}if(i.path==="")return i;throw yN(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(et){et.path.charAt(et.path.length-1)==="/"&&(et.path_=et.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function g(et){et.path_=decodeURIComponent(et.path)}const _="v[A-Za-z0-9_]+",v=e.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",S=new RegExp(`^https?://${v}/${_}/b/${r}/o${T}`,"i"),R={bucket:1,path:3},I=e===wx?"(?:storage.googleapis.com|storage.cloud.google.com)":e,M="([^?#]*)",j=new RegExp(`^https?://${I}/${r}/${M}`,"i"),$=[{regex:h,indices:f,postModify:o},{regex:S,indices:R,postModify:g},{regex:j,indices:{bucket:1,path:2},postModify:g}];for(let et=0;et<$.length;et++){const W=$[et],rt=W.regex.exec(t);if(rt){const C=rt[W.indices.bucket];let w=rt[W.indices.path];w||(w=""),i=new mi(C,w),W.postModify(i);break}}if(i==null)throw _N(t);return i}}class bN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let g=!1;function _(...M){g||(g=!0,t.apply(null,M))}function v(M){r=setTimeout(()=>{r=null,n(S,f())},M)}function T(){o&&clearTimeout(o)}function S(M,...j){if(g){T();return}if(M){T(),_.call(null,M,...j);return}if(f()||c){T(),_.call(null,M,...j);return}i<64&&(i*=2);let $;h===1?(h=2,$=0):$=(i+Math.random())*1e3,v($)}let R=!1;function I(M){R||(R=!0,T(),!g&&(r!==null?(M||(h=2),clearTimeout(r),v(0)):M||(h=1)))}return v(0),o=setTimeout(()=>{c=!0,I(!0)},e),I}function EN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){return n!==void 0}function BT(n,t,e,i){if(i<t)throw jT(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw jT(`Invalid value for '${n}'. Expected ${e} or less.`)}function xN(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Bf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Bf||(Bf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,e,i,r,o,c,h,f,g,_,v,T=!0,S=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=v,this.retry=T,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,I)=>{this.resolve_=R,this.reject_=I,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Gh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,g)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Bf.NO_ERROR,f=o.getStatus();if(!h||wN(f,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===Bf.ABORT;i(!1,new Gh(!1,null,_));return}const g=this.successCodes_.indexOf(f)!==-1;i(!0,new Gh(g,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());SN(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=gN();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?Ax():pN();c(f)}else{const f=mN();c(f)}};this.canceled_?e(!1,new Gh(!1,null,!0)):this.backoffId_=TN(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&EN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gh{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function RN(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function CN(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function IN(n,t){t&&(n["X-Firebase-GMPID"]=t)}function MN(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function DN(n,t,e,i,r,o,c=!0,h=!1){const f=xN(n.urlParams),g=n.url+f,_=Object.assign({},n.headers);return IN(_,t),RN(_,e),CN(_,o),MN(_,i),new AN(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function NN(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,e){this._service=t,e instanceof mi?this._location=e:this._location=mi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Ff(t,e)}get root(){const t=new mi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NN(this._location.path)}get storage(){return this._service}get parent(){const t=ON(this._location.path);if(t===null)return null;const e=new mi(this._location.bucket,t);return new Ff(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw vN(t)}}function FT(n,t){const e=t?.[hN];return e==null?null:mi.makeFromBucketSpec(e,n)}function kN(n,t,e,i={}){n.host=`${t}:${e}`;const r=ka(t);r&&(Rp(`https://${n.host}/b`),Cp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:pS(o,n.app.options.projectId))}class VN{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=wx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fN,this._maxUploadRetryTime=dN,this._requests=new Set,r!=null?this._bucket=mi.makeFromBucketSpec(r,this._host):this._bucket=FT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=mi.makeFromBucketSpec(this._url,t):this._bucket=FT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){BT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){BT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ff(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new bN(Ax());{const c=DN(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const HT="@firebase/storage",qT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="storage";function PN(n=Dp(),t){n=_i(n);const i=Wf(n,Rx).getImmediate({identifier:t}),r=dS("storage");return r&&LN(i,...r),i}function LN(n,t,e,i={}){kN(n,t,e,i)}function zN(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new VN(e,i,r,t,Va)}function UN(){Ca(new Ir(Rx,zN,"PUBLIC").setMultipleInstances(!0)),qi(HT,qT,""),qi(HT,qT,"esm2020")}UN();const jN={apiKey:"AIzaSyBpLnEBDMz-FXoSYWN9EWsUuMAIu-Dpt9M",authDomain:"drivesense-7cac6.firebaseapp.com",projectId:"drivesense-7cac6",storageBucket:"drivesense-7cac6.firebasestorage.app",messagingSenderId:"751400174977",appId:"1:751400174977:web:c1d4109794ca4d41bb5480"},v_=vS(jN),BN=BI(v_),FN=YO(v_);PN(v_);const HN=({isLoggedIn:n,setIsLoggedIn:t,setUser:e})=>{const i=async()=>{const r=new As;try{const c=(await $2(BN,r)).user;e({displayName:c.displayName,email:c.email,photoURL:c.photoURL});const h=GO(FN,"users",c.uid);(await aN(h)).exists()||await lN(h,{uid:c.uid,name:c.displayName,email:c.email,photoURL:c.photoURL,createdAt:new Date().toISOString()}),t(g=>!g),n&&console.log("Google Sign-In successful:",c)}catch(o){console.error("Google Sign-In error:",o)}};return U.jsxs("div",{className:`flex flex-row items-center justify-center px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)]  \r
            bg-[var(--blue-color)] text-[var(--light-color)] cursor-pointer rounded-full gap-[calc(0.2vw+0.3rem)] \r
            hover:bg-[var(--purple-color)] hover:text-[var(--dark-color)] transition duration-300 ease-in-out`,children:[U.jsx("i",{className:"bxl bx-google bx-tada-hover text-[calc(0.4vw+0.8rem)]"}),U.jsx("span",{onClick:i,className:"text-[calc(0.4vw+0.5rem)]",children:"Sign in with Google"})]})};function qN({isDark:n,setIsDark:t,isLoggedIn:e,setIsLoggedIn:i,setUser:r}){const o=Lr(),[c,h]=_e.useState(!1),[f,g]=_e.useState(!1),_=()=>{g(v=>!v)};return U.jsxs("div",{className:`
            ${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[U.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&U.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(v=>!v)}),U.jsx("img",{src:n?Ap:bf,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),U.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),!o&&U.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Home"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Features"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]}),U.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"}),U.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)] text-[calc(0.4vw+0.5rem)]":"text-[var(--light-color)] bg-[var(--dark-color)] text-[calc(0.4vw+0.5rem)]"}
                    px-[calc(0.4vw+0.6rem)] py-[calc(0.2vw+0.3rem)] rounded-md cursor-pointer
                    hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)] font-semibold`,onClick:()=>_(),children:"Sign In"}),f&&U.jsx("div",{className:"fade-in absolute top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)] filter",children:U.jsxs("div",{className:"h-[420px] w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-start relative rounded-xl rounded-tr-none",children:[U.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                            flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>g(v=>!v)}),U.jsxs("div",{className:"w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[U.jsx("img",{src:bf,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer",alt:""}),U.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Sign in to your account"}),U.jsx(HN,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),U.jsx("span",{className:"text-[calc(0.4vw+0.5rem)]",children:"Or continue with"}),U.jsx("input",{type:"email",placeholder:"Email",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),U.jsx("input",{type:"password",placeholder:"Password",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),U.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,children:"Continue"}),U.jsxs("span",{className:"text-[calc(0.4vw+0.5rem)]",children:["Don't have an account?",U.jsx("span",{className:"text-[calc(0.4vw+0.5rem)] text-[var(--blue-color)] hovered cursor-pointer",children:" Sign Up"})]})]})]})}),U.jsx(lS,{isDark:n,setIsDark:t})]}),o&&c&&U.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:U.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[U.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(v=>!v)}),U.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Home"}),U.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Features"}),U.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Github"})]})})]})}const GN="/DriveSense/assets/car-img-DqpG-dY6.png",Yh=({icon:n,title:t,info:e,isDark:i})=>{const r=Lr();return U.jsxs("div",{className:`
            ${r?"w-[152px] h-[240px]":"flex-1"}
            flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)] 
            p-[calc(0.4vw+0.6rem)] rounded-lg border border-[var(--border-color)]`,children:[n,U.jsx("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} font-semibold text-center`,children:t}),U.jsxs("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} text-center`,children:[e,"."]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cu(n){return n+.5|0}const Tr=(n,t,e)=>Math.max(Math.min(n,e),t);function Tc(n){return Tr(cu(n*2.55),0,255)}function Cr(n){return Tr(cu(n*255),0,255)}function ws(n){return Tr(cu(n/2.55)/100,0,1)}function GT(n){return Tr(cu(n*100),0,100)}const Kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yp=[..."0123456789ABCDEF"],YN=n=>yp[n&15],KN=n=>yp[(n&240)>>4]+yp[n&15],Kh=n=>(n&240)>>4===(n&15),XN=n=>Kh(n.r)&&Kh(n.g)&&Kh(n.b)&&Kh(n.a);function QN(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Kn[n[1]]*17,g:255&Kn[n[2]]*17,b:255&Kn[n[3]]*17,a:t===5?Kn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Kn[n[1]]<<4|Kn[n[2]],g:Kn[n[3]]<<4|Kn[n[4]],b:Kn[n[5]]<<4|Kn[n[6]],a:t===9?Kn[n[7]]<<4|Kn[n[8]]:255})),e}const $N=(n,t)=>n<255?t(n):"";function WN(n){var t=XN(n)?YN:KN;return n?"#"+t(n.r)+t(n.g)+t(n.b)+$N(n.a,t):void 0}const ZN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Cx(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function JN(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function tk(n,t,e){const i=Cx(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function ek(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function b_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,g,_;return o!==c&&(_=o-c,g=h>.5?_/(2-o-c):_/(o+c),f=ek(e,i,r,_,o),f=f*60+.5),[f|0,g||0,h]}function T_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Cr)}function E_(n,t,e){return T_(Cx,n,t,e)}function nk(n,t,e){return T_(tk,n,t,e)}function ik(n,t,e){return T_(JN,n,t,e)}function Ix(n){return(n%360+360)%360}function sk(n){const t=ZN.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Tc(+t[5]):Cr(+t[5]));const r=Ix(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=nk(r,o,c):t[1]==="hsv"?i=ik(r,o,c):i=E_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function rk(n,t){var e=b_(n);e[0]=Ix(e[0]+t),e=E_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function ak(n){if(!n)return;const t=b_(n),e=t[0],i=GT(t[1]),r=GT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${ws(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const YT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},KT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ok(){const n={},t=Object.keys(KT),e=Object.keys(YT);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,YT[o]);o=parseInt(KT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Xh;function lk(n){Xh||(Xh=ok(),Xh.transparent=[0,0,0,0]);const t=Xh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ck=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uk(n){const t=ck.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Tc(c):Tr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Tc(i):Tr(i,0,255)),r=255&(t[4]?Tc(r):Tr(r,0,255)),o=255&(t[6]?Tc(o):Tr(o,0,255)),{r:i,g:r,b:o,a:e}}}function hk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ws(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Pm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,No=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function fk(n,t,e){const i=No(ws(n.r)),r=No(ws(n.g)),o=No(ws(n.b));return{r:Cr(Pm(i+e*(No(ws(t.r))-i))),g:Cr(Pm(r+e*(No(ws(t.g))-r))),b:Cr(Pm(o+e*(No(ws(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Qh(n,t,e){if(n){let i=b_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=E_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Mx(n,t){return n&&Object.assign(t||{},n)}function XT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Cr(n[3]))):(t=Mx(n,{r:0,g:0,b:0,a:1}),t.a=Cr(t.a)),t}function dk(n){return n.charAt(0)==="r"?uk(n):sk(n)}class Gc{constructor(t){if(t instanceof Gc)return t;const e=typeof t;let i;e==="object"?i=XT(t):e==="string"&&(i=QN(t)||lk(t)||dk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Mx(this._rgb);return t&&(t.a=ws(t.a)),t}set rgb(t){this._rgb=XT(t)}rgbString(){return this._valid?hk(this._rgb):void 0}hexString(){return this._valid?WN(this._rgb):void 0}hslString(){return this._valid?ak(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=fk(this._rgb,t._rgb,e)),this}clone(){return new Gc(this.rgb)}alpha(t){return this._rgb.a=Cr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=cu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Qh(this._rgb,2,t),this}darken(t){return Qh(this._rgb,2,-t),this}saturate(t){return Qh(this._rgb,1,t),this}desaturate(t){return Qh(this._rgb,1,-t),this}rotate(t){return rk(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Es(){}const gk=(()=>{let n=0;return()=>n++})();function Xt(n){return n==null}function je(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ht(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Zn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ji(n,t){return Zn(n)?n:t}function Mt(n,t){return typeof n>"u"?t:n}const mk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Dx=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function le(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Jt(n,t,e,i){let r,o,c;if(je(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Ht(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Hf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function qf(n){if(je(n))return n.map(qf);if(Ht(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=qf(n[e[r]]);return t}return n}function Ox(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function pk(n,t,e,i){if(!Ox(n))return;const r=t[n],o=e[n];Ht(r)&&Ht(o)?Yc(r,o,i):t[n]=qf(o)}function Yc(n,t,e){const i=je(t)?t:[t],r=i.length;if(!Ht(n))return n;e=e||{};const o=e.merger||pk;let c;for(let h=0;h<r;++h){if(c=i[h],!Ht(c))continue;const f=Object.keys(c);for(let g=0,_=f.length;g<_;++g)o(f[g],n,c,e)}return n}function Dc(n,t){return Yc(n,t,{merger:_k})}function _k(n,t,e){if(!Ox(n))return;const i=t[n],r=e[n];Ht(i)&&Ht(r)?Dc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=qf(r))}const QT={"":n=>n,x:n=>n.x,y:n=>n.y};function yk(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function vk(n){const t=yk(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Oa(n,t){return(QT[t]||(QT[t]=vk(t)))(n)}function S_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Kc=n=>typeof n<"u",Pr=n=>typeof n=="function",$T=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function bk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const te=Math.PI,ye=2*te,Tk=ye+te,Gf=Number.POSITIVE_INFINITY,Ek=te/180,Be=te/2,ma=te/4,WT=te*2/3,Nx=Math.log10,$i=Math.sign;function Oc(n,t,e){return Math.abs(n-t)<e}function ZT(n){const t=Math.round(n);n=Oc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Nx(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Sk(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function xk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Xc(n){return!xk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function wk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Ak(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Is(n){return n*(te/180)}function Rk(n){return n*(180/te)}function JT(n){if(!Zn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function kx(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*te&&(o+=ye),{angle:o,distance:r}}function vp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Ck(n,t){return(n-t+Tk)%ye-te}function fi(n){return(n%ye+ye)%ye}function Qc(n,t,e,i){const r=fi(n),o=fi(t),c=fi(e),h=fi(o-r),f=fi(c-r),g=fi(r-o),_=fi(r-c);return r===o||r===c||i&&o===c||h>f&&g<_}function cn(n,t,e){return Math.max(t,Math.min(e,n))}function Ik(n){return cn(n,-32768,32767)}function Er(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function x_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Sa=(n,t,e,i)=>x_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),Mk=(n,t,e)=>x_(n,e,i=>n[i][t]>=e);function Dk(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const Vx=["push","pop","shift","splice","unshift"];function Ok(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Vx.forEach(e=>{const i="_onData"+S_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function tE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(Vx.forEach(o=>{delete n[o]}),delete n._chartjs)}function Px(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Lx=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function zx(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,Lx.call(window,()=>{i=!1,n.apply(t,e)}))}}function Nk(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const w_=n=>n==="start"?"left":n==="end"?"right":"center",an=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,kk=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Vk(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,_=c.axis,{min:v,max:T,minDefined:S,maxDefined:R}=c.getUserBounds();if(S){if(r=Math.min(Sa(f,_,v).lo,e?i:Sa(t,_,c.getPixelForValue(v)).lo),g){const I=f.slice(0,r+1).reverse().findIndex(M=>!Xt(M[h.axis]));r-=Math.max(0,I)}r=cn(r,0,i-1)}if(R){let I=Math.max(Sa(f,c.axis,T,!0).hi+1,e?0:Sa(t,_,c.getPixelForValue(T),!0).hi+1);if(g){const M=f.slice(I-1).findIndex(j=>!Xt(j[h.axis]));I+=Math.max(0,M)}o=cn(I,r,i)-r}else o=i-r}return{start:r,count:o}}function Pk(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const $h=n=>n===0||n===1,eE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ye/e)),nE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ye/e)+1,Nc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Be)+1,easeOutSine:n=>Math.sin(n*Be),easeInOutSine:n=>-.5*(Math.cos(te*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>$h(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>$h(n)?n:eE(n,.075,.3),easeOutElastic:n=>$h(n)?n:nE(n,.075,.3),easeInOutElastic(n){return $h(n)?n:n<.5?.5*eE(n*2,.1125,.45):.5+.5*nE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Nc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Nc.easeInBounce(n*2)*.5:Nc.easeOutBounce(n*2-1)*.5+.5};function A_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function iE(n){return A_(n)?n:new Gc(n)}function Lm(n){return A_(n)?n:new Gc(n).saturate(.5).darken(.1).hexString()}const Lk=["x","y","borderWidth","radius","tension"],zk=["color","borderColor","backgroundColor"];function Uk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:zk},numbers:{type:"number",properties:Lk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function jk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const sE=new Map;function Bk(n,t){t=t||{};const e=n+JSON.stringify(t);let i=sE.get(e);return i||(i=new Intl.NumberFormat(n,t),sE.set(e,i)),i}function R_(n,t,e){return Bk(t,e).format(n)}const Fk={values(n){return je(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=Hk(n,e)}const c=Nx(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),R_(n,i,f)}};function Hk(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Ux={formatters:Fk};function qk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ux.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Na=Object.create(null),bp=Object.create(null);function kc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function zm(n,t,e){return typeof t=="string"?Yc(kc(n,t),e):Yc(kc(n,""),t)}class Gk{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Lm(r.backgroundColor),this.hoverBorderColor=(i,r)=>Lm(r.borderColor),this.hoverColor=(i,r)=>Lm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return zm(this,t,e)}get(t){return kc(this,t)}describe(t,e){return zm(bp,t,e)}override(t,e){return zm(Na,t,e)}route(t,e,i,r){const o=kc(this,t),c=kc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[r];return Ht(f)?Object.assign({},g,f):Mt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var xe=new Gk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Uk,jk,qk]);function Yk(n){return!n||Xt(n.size)||Xt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function rE(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function pa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function aE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Tp(n,t,e,i){jx(n,t,e,i,null)}function jx(n,t,e,i,r){let o,c,h,f,g,_,v,T;const S=t.pointStyle,R=t.rotation,I=t.radius;let M=(R||0)*Ek;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(M),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),S){default:r?n.ellipse(e,i,r/2,I,0,0,ye):n.arc(e,i,I,0,ye),n.closePath();break;case"triangle":_=r?r/2:I,n.moveTo(e+Math.sin(M)*_,i-Math.cos(M)*I),M+=WT,n.lineTo(e+Math.sin(M)*_,i-Math.cos(M)*I),M+=WT,n.lineTo(e+Math.sin(M)*_,i-Math.cos(M)*I),n.closePath();break;case"rectRounded":g=I*.516,f=I-g,c=Math.cos(M+ma)*f,v=Math.cos(M+ma)*(r?r/2-g:f),h=Math.sin(M+ma)*f,T=Math.sin(M+ma)*(r?r/2-g:f),n.arc(e-v,i-h,g,M-te,M-Be),n.arc(e+T,i-c,g,M-Be,M),n.arc(e+v,i+h,g,M,M+Be),n.arc(e-T,i+c,g,M+Be,M+te),n.closePath();break;case"rect":if(!R){f=Math.SQRT1_2*I,_=r?r/2:f,n.rect(e-_,i-f,2*_,2*f);break}M+=ma;case"rectRot":v=Math.cos(M)*(r?r/2:I),c=Math.cos(M)*I,h=Math.sin(M)*I,T=Math.sin(M)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+T,i-c),n.lineTo(e+v,i+h),n.lineTo(e-T,i+c),n.closePath();break;case"crossRot":M+=ma;case"cross":v=Math.cos(M)*(r?r/2:I),c=Math.cos(M)*I,h=Math.sin(M)*I,T=Math.sin(M)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"star":v=Math.cos(M)*(r?r/2:I),c=Math.cos(M)*I,h=Math.sin(M)*I,T=Math.sin(M)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c),M+=ma,v=Math.cos(M)*(r?r/2:I),c=Math.cos(M)*I,h=Math.sin(M)*I,T=Math.sin(M)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"line":c=r?r/2:Math.cos(M)*I,h=Math.sin(M)*I,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(r?r/2:I),i+Math.sin(M)*I);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function $c(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function C_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function I_(n){n.restore()}function Kk(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Xk(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Qk(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Xt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function $k(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function Wk(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Wc(n,t,e,i,r,o={}){const c=je(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=r.string,Qk(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&Wk(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Xt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),$k(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function Yf(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*te,te,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,te,Be,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Be,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Be,!0),n.lineTo(e+c.topLeft,i)}const Zk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Jk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function t4(n,t){const e=(""+n).match(Zk);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const e4=n=>+n||0;function M_(n,t){const e={},i=Ht(t),r=i?Object.keys(t):t,o=Ht(n)?i?c=>Mt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=e4(o(c));return e}function Bx(n){return M_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ho(n){return M_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Jn(n){const t=Bx(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function un(n,t){n=n||{},t=t||xe.font;let e=Mt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Mt(n.style,t.style);i&&!(""+i).match(Jk)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Mt(n.family,t.family),lineHeight:t4(Mt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Mt(n.weight,t.weight),string:""};return r.string=Yk(r),r}function Wh(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function n4(n,t,e){const{min:i,max:r}=n,o=Dx(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function ja(n,t){return Object.assign(Object.create(n),t)}function D_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=Gx("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>D_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return Hx(h,f,()=>u4(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return lE(h).includes(f)},ownKeys(h){return lE(h)},set(h,f,g){const _=h._storage||(h._storage=r());return h[f]=_[f]=g,delete h._keys,!0}})}function Zo(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Fx(n,i),setContext:o=>Zo(n,o,e,i),override:o=>Zo(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return Hx(o,c,()=>s4(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function Fx(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Pr(e)?e:()=>e,isIndexable:Pr(i)?i:()=>i}}const i4=(n,t)=>n?n+S_(t):t,O_=(n,t)=>Ht(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Hx(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function s4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Pr(h)&&c.isScriptable(t)&&(h=r4(t,h,n,e)),je(h)&&h.length&&(h=a4(t,h,n,c.isIndexable)),O_(t,h)&&(h=Zo(h,r,o&&o[t],c)),h}function r4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),O_(n,f)&&(f=N_(r._scopes,r,n,f)),f}function a4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Ht(t[0])){const f=t,g=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const v=N_(g,r,n,_);t.push(Zo(v,o,c&&c[n],h))}}return t}function qx(n,t,e){return Pr(n)?n(t,e):n}const o4=(n,t)=>n===!0?t:typeof n=="string"?Oa(t,n):void 0;function l4(n,t,e,i,r){for(const o of t){const c=o4(e,o);if(c){n.add(c);const h=qx(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function N_(n,t,e,i){const r=t._rootScopes,o=qx(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=oE(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=oE(h,c,o,f,i),f===null)?!1:D_(Array.from(h),[""],r,o,()=>c4(t,e,i))}function oE(n,t,e,i,r){for(;e;)e=l4(n,t,e,i,r);return e}function c4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return je(r)&&Ht(e)?e:r||{}}function u4(n,t,e,i){let r;for(const o of t)if(r=Gx(i4(o,n),e),typeof r<"u")return O_(n,r)?N_(e,i,n,r):r}function Gx(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function lE(n){let t=n._keys;return t||(t=n._keys=h4(n._scopes)),t}function h4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const f4=Number.EPSILON||1e-14,Jo=(n,t)=>t<n.length&&!n[t].skip&&n[t],Yx=n=>n==="x"?"y":"x";function d4(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=vp(o,r),f=vp(c,o);let g=h/(h+f),_=f/(h+f);g=isNaN(g)?0:g,_=isNaN(_)?0:_;const v=i*g,T=i*_;return{previous:{x:o.x-v*(c.x-r.x),y:o.y-v*(c.y-r.y)},next:{x:o.x+T*(c.x-r.x),y:o.y+T*(c.y-r.y)}}}function g4(n,t,e){const i=n.length;let r,o,c,h,f,g=Jo(n,0);for(let _=0;_<i-1;++_)if(f=g,g=Jo(n,_+1),!(!f||!g)){if(Oc(t[_],0,f4)){e[_]=e[_+1]=0;continue}r=e[_]/t[_],o=e[_+1]/t[_],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[_]=r*c*t[_],e[_+1]=o*c*t[_])}}function m4(n,t,e="x"){const i=Yx(e),r=n.length;let o,c,h,f=Jo(n,0);for(let g=0;g<r;++g){if(c=h,h=f,f=Jo(n,g+1),!h)continue;const _=h[e],v=h[i];c&&(o=(_-c[e])/3,h[`cp1${e}`]=_-o,h[`cp1${i}`]=v-o*t[g]),f&&(o=(f[e]-_)/3,h[`cp2${e}`]=_+o,h[`cp2${i}`]=v+o*t[g])}}function p4(n,t="x"){const e=Yx(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,g=Jo(n,0);for(c=0;c<i;++c)if(h=f,f=g,g=Jo(n,c+1),!!f){if(g){const _=g[t]-f[t];r[c]=_!==0?(g[e]-f[e])/_:0}o[c]=h?g?$i(r[c-1])!==$i(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}g4(n,r,o),m4(n,o,t)}function Zh(n,t,e){return Math.max(Math.min(n,e),t)}function _4(n,t){let e,i,r,o,c,h=$c(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&$c(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=Zh(r.cp1x,t.left,t.right),r.cp1y=Zh(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=Zh(r.cp2x,t.left,t.right),r.cp2y=Zh(r.cp2y,t.top,t.bottom)))}function y4(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")p4(n,r);else{let g=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=d4(g,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&_4(n,e)}function k_(){return typeof window<"u"&&typeof document<"u"}function V_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Kf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const dd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function v4(n,t){return dd(n).getPropertyValue(t)}const b4=["top","right","bottom","left"];function Aa(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=b4[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const T4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function E4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(T4(r,o,n.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function va(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=dd(e),o=r.boxSizing==="border-box",c=Aa(r,"padding"),h=Aa(r,"border","width"),{x:f,y:g,box:_}=E4(n,e),v=c.left+(_&&h.left),T=c.top+(_&&h.top);let{width:S,height:R}=t;return o&&(S-=c.width+h.width,R-=c.height+h.height),{x:Math.round((f-v)/S*e.width/i),y:Math.round((g-T)/R*e.height/i)}}function S4(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&V_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=dd(o),f=Aa(h,"border","width"),g=Aa(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=Kf(h.maxWidth,o,"clientWidth"),r=Kf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Gf,maxHeight:r||Gf}}const Jh=n=>Math.round(n*10)/10;function x4(n,t,e,i){const r=dd(n),o=Aa(r,"margin"),c=Kf(r.maxWidth,n,"clientWidth")||Gf,h=Kf(r.maxHeight,n,"clientHeight")||Gf,f=S4(n,t,e);let{width:g,height:_}=f;if(r.boxSizing==="content-box"){const T=Aa(r,"border","width"),S=Aa(r,"padding");g-=S.width+T.width,_-=S.height+T.height}return g=Math.max(0,g-o.width),_=Math.max(0,i?g/i:_-o.height),g=Jh(Math.min(g,c,f.maxWidth)),_=Jh(Math.min(_,h,f.maxHeight)),g&&!_&&(_=Jh(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,g=Jh(Math.floor(_*i))),{width:g,height:_}}function cE(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const w4=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};k_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function uE(n,t){const e=v4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ba(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function A4(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function R4(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=ba(n,r,e),h=ba(r,o,e),f=ba(o,t,e),g=ba(c,h,e),_=ba(h,f,e);return ba(g,_,e)}const C4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},I4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function qo(n,t,e){return n?C4(t,e):I4()}function Kx(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Xx(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Qx(n){return n==="angle"?{between:Qc,compare:Ck,normalize:fi}:{between:Er,compare:(t,e)=>t-e,normalize:t=>t}}function hE({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function M4(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=Qx(i),f=t.length;let{start:g,end:_,loop:v}=n,T,S;if(v){for(g+=f,_+=f,T=0,S=f;T<S&&c(h(t[g%f][i]),r,o);++T)g--,_--;g%=f,_%=f}return _<g&&(_+=f),{start:g,end:_,loop:v,style:n.style}}function D4(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:g}=Qx(i),{start:_,end:v,loop:T,style:S}=M4(n,t,e),R=[];let I=!1,M=null,j,Y,$;const et=()=>f(r,$,j)&&h(r,$)!==0,W=()=>h(o,j)===0||f(o,$,j),rt=()=>I||et(),C=()=>!I||W();for(let w=_,D=_;w<=v;++w)Y=t[w%c],!Y.skip&&(j=g(Y[i]),j!==$&&(I=f(j,r,o),M===null&&rt()&&(M=h(j,r)===0?w:D),M!==null&&C()&&(R.push(hE({start:M,end:w,loop:T,count:c,style:S})),M=null),D=w,$=j));return M!==null&&R.push(hE({start:M,end:v,loop:T,count:c,style:S})),R}function O4(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=D4(i[r],n.points,t);o.length&&e.push(...o)}return e}function N4(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function k4(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const g=n[f%r];g.skip||g.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=g.stop?f:null):(c=f,h.skip&&(t=f)),h=g}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function V4(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=N4(e,r,o,i);if(i===!0)return fE(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,g=!!n._fullLoop&&c===0&&h===r-1;return fE(n,k4(e,c,f,g),e,t)}function fE(n,t,e,i){return!i||!i.setContext||!e?t:P4(n,t,e,i)}function P4(n,t,e,i){const r=n._chart.getContext(),o=dE(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,g=[];let _=o,v=t[0].start,T=v;function S(R,I,M,j){const Y=h?-1:1;if(R!==I){for(R+=f;e[R%f].skip;)R-=Y;for(;e[I%f].skip;)I+=Y;R%f!==I%f&&(g.push({start:R%f,end:I%f,loop:M,style:j}),_=j,v=I%f)}}for(const R of t){v=h?v:R.start;let I=e[v%f],M;for(T=v+1;T<=R.end;T++){const j=e[T%f];M=dE(i.setContext(ja(r,{type:"segment",p0:I,p1:j,p0DataIndex:(T-1)%f,p1DataIndex:T%f,datasetIndex:c}))),L4(M,_)&&S(v,T-1,R.loop,_),I=j,_=M}v<T-1&&S(v,T-1,R.loop,_)}return g}function dE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function L4(n,t){if(!t)return!1;const e=[],i=function(r,o){return A_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function tf(n,t,e){return n.options.clip?n[e]:t[e]}function z4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:tf(e,t,"left"),right:tf(e,t,"right"),top:tf(i,t,"top"),bottom:tf(i,t,"bottom")}:t}function U4(n,t){const e=t._clip;if(e.disabled)return!1;const i=z4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class j4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Lx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ss=new j4;const gE="transparent",B4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=iE(n||gE),r=i.valid&&iE(t||gE);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class F4{constructor(t,e,i,r){const o=e[i];r=Wh([t.to,r,o,t.from]);const c=Wh([t.from,o,r]);this._active=!0,this._fn=t.fn||B4[t.type||typeof c],this._easing=Nc[t.easing]||Nc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Wh([t.to,e,r,t.from]),this._from=Wh([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class $x{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ht(t))return;const e=Object.keys(xe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Ht(o))return;const c={};for(const h of e)c[h]=o[h];(je(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=q4(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&H4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[g];let v=o[g];const T=i.get(g);if(v)if(T&&v.active()){v.update(T,_,h);continue}else v.cancel();if(!T||!T.duration){t[g]=_;continue}o[g]=v=new F4(T,t,g,_),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ss.add(this._chart,i),!0}}function H4(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function q4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function mE(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function G4(n,t,e){if(e===!1)return!1;const i=mE(n,e),r=mE(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Y4(n){let t,e,i,r;return Ht(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function Wx(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function pE(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,g;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(_=!0,i.all)continue;break}g=n.values[f],Zn(g)&&(o||t===0||$i(t)===$i(g))&&(t+=g)}return!_&&!i.all?0:t}function K4(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,_;for(f=0,g=c.length;f<g;++f)_=c[f],h[f]={[r]:_,[o]:n[_]};return h}function Um(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function X4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Q4(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function $4(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function _E(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function yE(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,g=c.axis,_=X4(o,c,i),v=t.length;let T;for(let S=0;S<v;++S){const R=t[S],{[f]:I,[g]:M}=R,j=R._stacks||(R._stacks={});T=j[g]=$4(r,_,I),T[h]=M,T._top=_E(T,c,!0,i.type),T._bottom=_E(T,c,!1,i.type);const Y=T._visualValues||(T._visualValues={});Y[h]=M}}function jm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function W4(n,t){return ja(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Z4(n,t,e){return ja(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function fc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Bm=n=>n==="reset"||n==="none",vE=(n,t)=>t?n:Object.assign({},n),J4=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Wx(e,!0),values:null};class gd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Um(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&fc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,T,S,R)=>v==="x"?T:v==="r"?R:S,o=e.xAxisID=Mt(i.xAxisID,jm(t,"x")),c=e.yAxisID=Mt(i.yAxisID,jm(t,"y")),h=e.rAxisID=Mt(i.rAxisID,jm(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,c,h),_=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&tE(this._data,this),t._stacked&&fc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ht(e)){const r=this._cachedMeta;this._data=K4(e,r)}else if(i!==e){if(i){tE(i,this);const r=this._cachedMeta;fc(r),r._parsed=[]}e&&Object.isExtensible(e)&&Ok(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Um(e.vScale,e),e.stack!==i.stack&&(r=!0,fc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(yE(this,e._parsed),e._stacked=Um(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],_,v,T;if(this._parsing===!1)i._parsed=r,i._sorted=!0,T=r;else{je(r[t])?T=this.parseArrayData(i,r,t,e):Ht(r[t])?T=this.parseObjectData(i,r,t,e):T=this.parsePrimitiveData(i,r,t,e);const S=()=>v[h]===null||g&&v[h]<g[h];for(_=0;_<e;++_)i._parsed[_+t]=v=T[_],f&&(S()&&(f=!1),g=v);i._sorted=f}c&&yE(this,T)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),_=o===c,v=new Array(r);let T,S,R;for(T=0,S=r;T<S;++T)R=T+i,v[T]={[h]:_||o.parse(g[R],R),[f]:c.parse(e[R],R)};return v}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,g,_,v;for(f=0,g=r;f<g;++f)_=f+i,v=e[_],h[f]={x:o.parse(v[0],_),y:c.parse(v[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let _,v,T,S;for(_=0,v=r;_<v;++_)T=_+i,S=e[T],g[_]={x:o.parse(Oa(S,h),T),y:c.parse(Oa(S,f),T)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:Wx(r,!0),values:e._stacks[t.axis]._visualValues};return pE(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=pE(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=J4(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:v}=Q4(h);let T,S;function R(){S=r[T];const I=S[h.axis];return!Zn(S[t.axis])||_>I||v<I}for(T=0;T<c&&!(!R()&&(this.updateRangeFromParsed(g,t,S,f),o));++T);if(o){for(T=c-1;T>=0;--T)if(!R()){this.updateRangeFromParsed(g,t,S,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],Zn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Y4(Mt(this.options.clip,G4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const v=r[_];v.hidden||(v.active&&g?c.push(v):v.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=Z4(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=W4(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Kc(i);if(h)return vE(h,f);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],T=g.getOptionScopes(this.getDataset(),_),S=Object.keys(xe.elements[t]),R=()=>this.getContext(i,r,e),I=g.resolveNamedOptions(T,S,R,v);return I.$shared&&(I.$shared=f,o[c]=Object.freeze(vE(I,f))),I}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,v=_.datasetAnimationScopeKeys(this._type,e),T=_.getOptionScopes(this.getDataset(),v);f=_.createResolver(T,this.getContext(t,i,e))}const g=new $x(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Bm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Bm(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Bm(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&fc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function tV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=Px(i.sort((r,o)=>r-o))}return n._cache.$bar}function eV(n){const t=n.iScale,e=tV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Kc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function nV(n,t,e,i){const r=e.barThickness;let o,c;return Xt(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function iV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const g=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:g}}function sV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:o,min:c,max:h}}function Zx(n,t,e,i){return je(n)?sV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function bE(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let g,_,v,T;for(g=e,_=e+i;g<_;++g)T=t[g],v={},v[r.axis]=h||r.parse(c[g],g),f.push(Zx(T,v,o,g));return f}function Fm(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function rV(n,t,e){return n!==0?$i(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function aV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function oV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:_}=aV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=g:(e._bottom||0)===i?r=_:(o[TE(_,c,h,f)]=!0,r=g)),o[TE(r,c,h,f)]=!0,n.borderSkipped=o}function TE(n,t,e,i){return i?(n=lV(n,t,e),n=EE(n,e,t)):n=EE(n,t,e),n}function lV(n,t,e){return n===t?e:n===e?t:n}function EE(n,t,e){return n==="start"?t:n==="end"?e:n}function cV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class uV extends gd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return bE(t,e,i,r)}parseArrayData(t,e,i,r){return bE(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,_=c.axis==="x"?h:f,v=[];let T,S,R,I;for(T=i,S=i+r;T<S;++T)I=e[T],R={},R[o.axis]=o.parse(Oa(I,g),T),v.push(Zx(Oa(I,_),R,c,T));return v}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Fm(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),_=this._getRuler(),{sharedOptions:v,includeOptions:T}=this._getSharedOptions(e,r);for(let S=e;S<e+i;S++){const R=this.getParsed(S),I=o||Xt(R[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),M=this._calculateBarIndexPixels(S,_),j=(R._stacks||{})[h.axis],Y={horizontal:g,base:I.base,enableBorderRadius:!j||Fm(R._custom)||c===j._top||c===j._bottom,x:g?I.head:M.center,y:g?M.center:I.head,height:g?M.size:Math.abs(I.size),width:g?Math.abs(I.size):M.size};T&&(Y.options=v||this.resolveDataElementOptions(S,t[S].active?"active":r));const $=Y.options||t[S].options;oV(Y,$,j,c),cV(Y,$,_.ratio),this.updateElement(t[S],S,Y,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=_=>{const v=_._parsed.find(S=>S[i.axis]===f),T=v&&v[_.vScale.axis];if(Xt(T)||isNaN(T))return!0};for(const _ of r)if(!(e!==void 0&&g(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Mt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||eV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),g=f._custom,_=Fm(g);let v=f[e.axis],T=0,S=i?this.applyStack(e,f,i):v,R,I;S!==v&&(T=S-v,S=v),_&&(v=g.barStart,S=g.barEnd-g.barStart,v!==0&&$i(v)!==$i(g.barEnd)&&(T=0),T+=v);const M=!Xt(o)&&!_?o:T;let j=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(T+S):R=j,I=R-j,Math.abs(I)<c){I=rV(I,e,h)*c,v===h&&(j-=I/2);const Y=e.getPixelForDecimal(0),$=e.getPixelForDecimal(1),et=Math.min(Y,$),W=Math.max(Y,$);j=Math.max(Math.min(j,W),et),R=j+I,i&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(R)-e.getValueForPixel(j))}if(j===e.getPixelForValue(h)){const Y=$i(I)*e.getLineWidthForValue(h)/2;j+=Y,I-=Y}return{size:I,base:j,head:R,center:R+I/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Mt(r.maxBarThickness,1/0);let h,f;const g=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?iV(t,e,r,_*g):nV(t,e,r,_*g),T=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(Mt(T,this.getFirstScaleIdForIndexAxis())),R=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+S;h=v.start+v.chunk*R+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function hV(n,t,e){let i=1,r=1,o=0,c=0;if(t<ye){const h=n,f=h+t,g=Math.cos(h),_=Math.sin(h),v=Math.cos(f),T=Math.sin(f),S=($,et,W)=>Qc($,h,f,!0)?1:Math.max(et,et*e,W,W*e),R=($,et,W)=>Qc($,h,f,!0)?-1:Math.min(et,et*e,W,W*e),I=S(0,g,v),M=S(Be,_,T),j=R(te,g,v),Y=R(te+Be,_,T);i=(I-j)/2,r=(M-Y)/2,o=-(I+j)/2,c=-(M+Y)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class fV extends gd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Ht(i[t])){const{key:f="value"}=this._parsing;o=g=>+Oa(i[g],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Is(this.options.rotation-90)}_getCircumference(){return Is(this.options.circumference)}_getRotationExtents(){let t=ye,e=-ye;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(mk(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:_,rotation:v}=this._getRotationExtents(),{ratioX:T,ratioY:S,offsetX:R,offsetY:I}=hV(v,_,f),M=(i.width-c)/T,j=(i.height-c)/S,Y=Math.max(Math.min(M,j)/2,0),$=Dx(this.options.radius,Y),et=Math.max($*f,0),W=($-et)/this._getVisibleDatasetWeightTotal();this.offsetX=R*$,this.offsetY=I*$,r.total=this.calculateTotal(),this.outerRadius=$-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ye)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,_=(h.left+h.right)/2,v=(h.top+h.bottom)/2,T=o&&g.animateScale,S=T?0:this.innerRadius,R=T?0:this.outerRadius,{sharedOptions:I,includeOptions:M}=this._getSharedOptions(e,r);let j=this._getRotation(),Y;for(Y=0;Y<e;++Y)j+=this._circumference(Y,o);for(Y=e;Y<e+i;++Y){const $=this._circumference(Y,o),et=t[Y],W={x:_+this.offsetX,y:v+this.offsetY,startAngle:j,endAngle:j+$,circumference:$,outerRadius:R,innerRadius:S};M&&(W.options=I||this.resolveDataElementOptions(Y,et.active?"active":r)),j+=$,this.updateElement(et,Y,W,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ye*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=R_(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Mt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class dV extends gd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=Vk(e,r,c);this._drawStart=h,this._drawCount=f,Pk(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:g},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,r),T=c.axis,S=h.axis,{spanGaps:R,segment:I}=this.options,M=Xc(R)?R:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||o||r==="none",Y=e+i,$=t.length;let et=e>0&&this.getParsed(e-1);for(let W=0;W<$;++W){const rt=t[W],C=j?rt:{};if(W<e||W>=Y){C.skip=!0;continue}const w=this.getParsed(W),D=Xt(w[S]),V=C[T]=c.getPixelForValue(w[T],W),N=C[S]=o||D?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,w,f):w[S],W);C.skip=isNaN(V)||isNaN(N)||D,C.stop=W>0&&Math.abs(w[T]-et[T])>M,I&&(C.parsed=w,C.raw=g.data[W]),v&&(C.options=_||this.resolveDataElementOptions(W,rt.active?"active":r)),j||this.updateElement(rt,W,C,r),et=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function _a(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class P_{static override(t){Object.assign(P_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return _a()}parse(){return _a()}format(){return _a()}add(){return _a()}diff(){return _a()}startOf(){return _a()}endOf(){return _a()}}var gV={_date:P_};function mV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?Mk:Sa;if(i){if(r._sharedOptions){const _=o[0],v=typeof _.getRange=="function"&&_.getRange(t);if(v){const T=g(o,t,e-v),S=g(o,t,e+v);return{lo:T.lo,hi:S.hi}}}}else{const _=g(o,t,e);if(f){const{vScale:v}=r._cachedMeta,{_parsed:T}=n,S=T.slice(0,_.lo+1).reverse().findIndex(I=>!Xt(I[v.axis]));_.lo-=Math.max(0,S);const R=T.slice(_.hi).findIndex(I=>!Xt(I[v.axis]));_.hi+=Math.max(0,R)}return _}}return{lo:0,hi:o.length-1}}function md(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:_}=o[h],{lo:v,hi:T}=mV(o[h],t,c,r);for(let S=v;S<=T;++S){const R=_[S];R.skip||i(R,g,S)}}}function pV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Hm(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||md(n,e,t,function(h,f,g){!r&&!$c(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function _V(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:g,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:v}=kx(c,{x:t.x,y:t.y});Qc(v,g,_)&&r.push({element:c,datasetIndex:h,index:f})}return md(n,e,t,o),r}function yV(n,t,e,i,r,o){let c=[];const h=pV(e);let f=Number.POSITIVE_INFINITY;function g(_,v,T){const S=_.inRange(t.x,t.y,r);if(i&&!S)return;const R=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!S)return;const M=h(t,R);M<f?(c=[{element:_,datasetIndex:v,index:T}],f=M):M===f&&c.push({element:_,datasetIndex:v,index:T})}return md(n,e,t,g),c}function qm(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?_V(n,t,e,r):yV(n,t,e,i,r,o)}function SE(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return md(n,e,t,(f,g,_)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:g,index:_}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var vV={modes:{index(n,t,e,i){const r=va(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Hm(n,r,o,i,c):qm(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const _=h[0].index,v=g.data[_];v&&!v.skip&&f.push({element:v,datasetIndex:g.index,index:_})}),f):[]},dataset(n,t,e,i){const r=va(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Hm(n,r,o,i,c):qm(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let _=0;_<g.length;++_)h.push({element:g[_],datasetIndex:f,index:_})}return h},point(n,t,e,i){const r=va(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Hm(n,r,o,i,c)},nearest(n,t,e,i){const r=va(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return qm(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=va(t,n);return SE(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=va(t,n);return SE(n,r,"y",e.intersect,i)}}};const Jx=["left","top","right","bottom"];function dc(n,t){return n.filter(e=>e.pos===t)}function xE(n,t){return n.filter(e=>Jx.indexOf(e.pos)===-1&&e.box.axis===t)}function gc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function bV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function TV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!Jx.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function EV(n,t){const e=TV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],_=g&&h.stackWeight/g.weight;h.horizontal?(h.width=_?_*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:f&&t.availableHeight)}return e}function SV(n){const t=bV(n),e=gc(t.filter(g=>g.box.fullSize),!0),i=gc(dc(t,"left"),!0),r=gc(dc(t,"right")),o=gc(dc(t,"top"),!0),c=gc(dc(t,"bottom")),h=xE(t,"x"),f=xE(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:dc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function wE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function tw(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function xV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!Ht(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&tw(c,o.getPadding());const h=Math.max(0,t.outerWidth-wE(c,n,"left","right")),f=Math.max(0,t.outerHeight-wE(c,n,"top","bottom")),g=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:_}:{same:_,other:g}}function wV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function AV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Ec(n,t,e,i){const r=[];let o,c,h,f,g,_;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,AV(h.horizontal,t));const{same:v,other:T}=xV(t,e,h,i);g|=v&&r.length,_=_||T,f.fullSize||r.push(h)}return g&&Ec(r,t,e,i)||_}function ef(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function AE(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*_,T=g.size||f.height;Kc(g.start)&&(c=g.start),f.fullSize?ef(f,r.left,c,e.outerWidth-r.right-r.left,T):ef(f,t.left+g.placed,c,v,T),g.start=c,g.placed+=v,c=f.bottom}else{const v=t.h*_,T=g.size||f.width;Kc(g.start)&&(o=g.start),f.fullSize?ef(f,o,r.top,T,e.outerHeight-r.bottom-r.top):ef(f,o,t.top+g.placed,T,v),g.start=o,g.placed+=v,o=f.right}}t.x=o,t.y=c}var Wn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Jn(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=SV(n.boxes),f=h.vertical,g=h.horizontal;Jt(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const _=f.reduce((I,M)=>M.box.options&&M.box.options.display===!1?I:I+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),T=Object.assign({},r);tw(T,Jn(i));const S=Object.assign({maxPadding:T,w:o,h:c,x:r.left,y:r.top},r),R=EV(f.concat(g),v);Ec(h.fullSize,S,v,R),Ec(f,S,v,R),Ec(g,S,v,R)&&Ec(f,S,v,R),wV(S),AE(h.leftAndTop,S,v,R),S.x+=S.w,S.y+=S.h,AE(h.rightAndBottom,S,v,R),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Jt(h.chartArea,I=>{const M=I.box;Object.assign(M,n.chartArea),M.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class ew{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class RV extends ew{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const yf="$chartjs",CV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},RE=n=>n===null||n==="";function IV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[yf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",RE(r)){const o=uE(n,"width");o!==void 0&&(n.width=o)}if(RE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=uE(n,"height");o!==void 0&&(n.height=o)}return n}const nw=w4?{passive:!0}:!1;function MV(n,t,e){n&&n.addEventListener(t,e,nw)}function DV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,nw)}function OV(n,t){const e=CV[n.type]||n.type,{x:i,y:r}=va(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Xf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function NV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Xf(h.addedNodes,i),c=c&&!Xf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function kV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Xf(h.removedNodes,i),c=c&&!Xf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Zc=new Map;let CE=0;function iw(){const n=window.devicePixelRatio;n!==CE&&(CE=n,Zc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function VV(n,t){Zc.size||window.addEventListener("resize",iw),Zc.set(n,t)}function PV(n){Zc.delete(n),Zc.size||window.removeEventListener("resize",iw)}function LV(n,t,e){const i=n.canvas,r=i&&V_(i);if(!r)return;const o=zx((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,_=f.contentRect.height;g===0&&_===0||o(g,_)});return c.observe(r),VV(n,o),c}function Gm(n,t,e){e&&e.disconnect(),t==="resize"&&PV(n)}function zV(n,t,e){const i=n.canvas,r=zx(o=>{n.ctx!==null&&e(OV(o,n))},n);return MV(i,t,r),r}class UV extends ew{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(IV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[yf])return!1;const i=e[yf].initial;["height","width"].forEach(o=>{const c=i[o];Xt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[yf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:NV,detach:kV,resize:LV}[e]||zV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Gm,detach:Gm,resize:Gm}[e]||DV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return x4(t,e,i,r)}isAttached(t){const e=t&&V_(t);return!!(e&&e.isConnected)}}function jV(n){return!k_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?RV:UV}class Vs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Xc(this.x)&&Xc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function BV(n,t){const e=n.options.ticks,i=FV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?qV(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>r)return GV(t,g,o,c/r),g;const _=HV(o,t,r);if(c>0){let v,T;const S=c>1?Math.round((f-h)/(c-1)):null;for(nf(t,g,_,Xt(S)?0:h-S,h),v=0,T=c-1;v<T;v++)nf(t,g,_,o[v],o[v+1]);return nf(t,g,_,f,Xt(S)?t.length:f+S),g}return nf(t,g,_),g}function FV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function HV(n,t,e){const i=YV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=Sk(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function qV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function GV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function nf(n,t,e,i,r){const o=Mt(i,0),c=Math.min(Mt(r,n.length),n.length);let h=0,f,g,_;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===_&&(t.push(n[g]),h++,_=Math.round(o+h*e))}function YV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const KV=n=>n==="left"?"right":n==="right"?"left":n,IE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,ME=(n,t)=>Math.min(t||n,n);function DE(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function XV(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>c+h)))return f}function QV(n,t){Jt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function mc(n){return n.drawTicks?n.tickLength:0}function OE(n,t){if(!n.display)return 0;const e=un(n.font,t),i=Jn(n.padding);return(je(n.text)?n.text.length:1)*e.lineHeight+i.height}function $V(n,t){return ja(n,{scale:t,type:"scale"})}function WV(n,t,e){return ja(n,{tick:e,index:t,type:"tick"})}function ZV(n,t,e){let i=w_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=KV(i)),i}function JV(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:_}=f;let v=0,T,S,R;const I=c-r,M=h-o;if(n.isHorizontal()){if(S=an(i,o,h),Ht(e)){const j=Object.keys(e)[0],Y=e[j];R=_[j].getPixelForValue(Y)+I-t}else e==="center"?R=(g.bottom+g.top)/2+I-t:R=IE(n,e,t);T=h-o}else{if(Ht(e)){const j=Object.keys(e)[0],Y=e[j];S=_[j].getPixelForValue(Y)-M+t}else e==="center"?S=(g.left+g.right)/2-M+t:S=IE(n,e,t);R=an(i,c,r),v=e==="left"?-Be:Be}return{titleX:S,titleY:R,maxWidth:T,rotation:v}}class rl extends Vs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ji(t,Number.POSITIVE_INFINITY),e=ji(e,Number.NEGATIVE_INFINITY),i=ji(i,Number.POSITIVE_INFINITY),r=ji(r,Number.NEGATIVE_INFINITY),{min:ji(t,i),max:ji(e,r),minDefined:Zn(t),maxDefined:Zn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:ji(e,ji(i,e)),max:ji(i,ji(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){le(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=n4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?DE(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=BV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){le(this.options.afterUpdate,[this])}beforeSetDimensions(){le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){le(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),le(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=le(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=ME(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),v=_.widest.width,T=_.highest.height,S=cn(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),v+6>h&&(h=S/(i-(t.offset?.5:1)),f=this.maxHeight-mc(t.grid)-e.padding-OE(t.title,this.chart.options.font),g=Math.sqrt(v*v+T*T),c=Rk(Math.min(Math.asin(cn((_.highest.height+6)/h,-1,1)),Math.asin(cn(f/g,-1,1))-Math.asin(cn(T/g,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){le(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=OE(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=mc(o)+f):(t.height=this.maxHeight,t.width=mc(o)+f),i.display&&this.ticks.length){const{first:g,last:_,widest:v,highest:T}=this._getLabelSizes(),S=i.padding*2,R=Is(this.labelRotation),I=Math.cos(R),M=Math.sin(R);if(h){const j=i.mirror?0:M*v.width+I*T.height;t.height=Math.min(this.maxHeight,t.height+j+S)}else{const j=i.mirror?0:I*v.width+M*T.height;t.width=Math.min(this.maxWidth,t.width+j+S)}this._calculatePadding(g,_,M,I)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,S=0;f?g?(T=r*t.width,S=i*e.height):(T=i*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?T=t.width:o!=="inner"&&(T=t.width/2,S=e.width/2),this.paddingLeft=Math.max((T-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((S-v+c)*this.width/(this.width-v),0)}else{let _=e.height/2,v=t.height/2;o==="start"?(_=0,v=t.height):o==="end"&&(_=e.height,v=0),this.paddingTop=_+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){le(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Xt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=DE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/ME(e,i));let g=0,_=0,v,T,S,R,I,M,j,Y,$,et,W;for(v=0;v<e;v+=f){if(R=t[v].label,I=this._resolveTickFontOptions(v),r.font=M=I.string,j=o[M]=o[M]||{data:{},gc:[]},Y=I.lineHeight,$=et=0,!Xt(R)&&!je(R))$=rE(r,j.data,j.gc,$,R),et=Y;else if(je(R))for(T=0,S=R.length;T<S;++T)W=R[T],!Xt(W)&&!je(W)&&($=rE(r,j.data,j.gc,$,W),et+=Y);c.push($),h.push(et),g=Math.max($,g),_=Math.max(et,_)}QV(o,e);const rt=c.indexOf(g),C=h.indexOf(_),w=D=>({width:c[D]||0,height:h[D]||0});return{first:w(0),last:w(e-1),widest:w(rt),highest:w(C),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Ik(this._alignToPixels?pa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=WV(this.getContext(),t,i))}return this.$context||(this.$context=$V(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Is(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,g=this.isHorizontal(),v=this.ticks.length+(f?1:0),T=mc(o),S=[],R=h.setContext(this.getContext()),I=R.display?R.width:0,M=I/2,j=function(K){return pa(i,K,I)};let Y,$,et,W,rt,C,w,D,V,N,P,O;if(c==="top")Y=j(this.bottom),C=this.bottom-T,D=Y-M,N=j(t.top)+M,O=t.bottom;else if(c==="bottom")Y=j(this.top),N=t.top,O=j(t.bottom)-M,C=Y+M,D=this.top+T;else if(c==="left")Y=j(this.right),rt=this.right-T,w=Y-M,V=j(t.left)+M,P=t.right;else if(c==="right")Y=j(this.left),V=t.left,P=j(t.right)-M,rt=Y+M,w=this.left+T;else if(e==="x"){if(c==="center")Y=j((t.top+t.bottom)/2+.5);else if(Ht(c)){const K=Object.keys(c)[0],at=c[K];Y=j(this.chart.scales[K].getPixelForValue(at))}N=t.top,O=t.bottom,C=Y+M,D=C+T}else if(e==="y"){if(c==="center")Y=j((t.left+t.right)/2);else if(Ht(c)){const K=Object.keys(c)[0],at=c[K];Y=j(this.chart.scales[K].getPixelForValue(at))}rt=Y-M,w=rt-T,V=t.left,P=t.right}const Dt=Mt(r.ticks.maxTicksLimit,v),Et=Math.max(1,Math.ceil(v/Dt));for($=0;$<v;$+=Et){const K=this.getContext($),at=o.setContext(K),ht=h.setContext(K),vt=at.lineWidth,kt=at.color,L=ht.dash||[],J=ht.dashOffset,lt=at.tickWidth,ct=at.tickColor,pt=at.tickBorderDash||[],bt=at.tickBorderDashOffset;et=XV(this,$,f),et!==void 0&&(W=pa(i,et,vt),g?rt=w=V=P=W:C=D=N=O=W,S.push({tx1:rt,ty1:C,tx2:w,ty2:D,x1:V,y1:N,x2:P,y2:O,width:vt,color:kt,borderDash:L,borderDashOffset:J,tickWidth:lt,tickColor:ct,tickBorderDash:pt,tickBorderDashOffset:bt}))}return this._ticksLength=v,this._borderValue=Y,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:_,mirror:v}=o,T=mc(i.grid),S=T+_,R=v?-_:S,I=-Is(this.labelRotation),M=[];let j,Y,$,et,W,rt,C,w,D,V,N,P,O="middle";if(r==="top")rt=this.bottom-R,C=this._getXAxisLabelAlignment();else if(r==="bottom")rt=this.top+R,C=this._getXAxisLabelAlignment();else if(r==="left"){const Et=this._getYAxisLabelAlignment(T);C=Et.textAlign,W=Et.x}else if(r==="right"){const Et=this._getYAxisLabelAlignment(T);C=Et.textAlign,W=Et.x}else if(e==="x"){if(r==="center")rt=(t.top+t.bottom)/2+S;else if(Ht(r)){const Et=Object.keys(r)[0],K=r[Et];rt=this.chart.scales[Et].getPixelForValue(K)+S}C=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")W=(t.left+t.right)/2-S;else if(Ht(r)){const Et=Object.keys(r)[0],K=r[Et];W=this.chart.scales[Et].getPixelForValue(K)}C=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const Dt=this._getLabelSizes();for(j=0,Y=h.length;j<Y;++j){$=h[j],et=$.label;const Et=o.setContext(this.getContext(j));w=this.getPixelForTick(j)+o.labelOffset,D=this._resolveTickFontOptions(j),V=D.lineHeight,N=je(et)?et.length:1;const K=N/2,at=Et.color,ht=Et.textStrokeColor,vt=Et.textStrokeWidth;let kt=C;c?(W=w,C==="inner"&&(j===Y-1?kt=this.options.reverse?"left":"right":j===0?kt=this.options.reverse?"right":"left":kt="center"),r==="top"?g==="near"||I!==0?P=-N*V+V/2:g==="center"?P=-Dt.highest.height/2-K*V+V:P=-Dt.highest.height+V/2:g==="near"||I!==0?P=V/2:g==="center"?P=Dt.highest.height/2-K*V:P=Dt.highest.height-N*V,v&&(P*=-1),I!==0&&!Et.showLabelBackdrop&&(W+=V/2*Math.sin(I))):(rt=w,P=(1-N)*V/2);let L;if(Et.showLabelBackdrop){const J=Jn(Et.backdropPadding),lt=Dt.heights[j],ct=Dt.widths[j];let pt=P-J.top,bt=0-J.left;switch(O){case"middle":pt-=lt/2;break;case"bottom":pt-=lt;break}switch(C){case"center":bt-=ct/2;break;case"right":bt-=ct;break;case"inner":j===Y-1?bt-=ct:j>0&&(bt-=ct/2);break}L={left:bt,top:pt,width:ct+J.width,height:lt+J.height,color:Et.backdropColor}}M.push({label:et,font:D,textOffset:P,options:{rotation:I,color:at,strokeColor:ht,strokeWidth:vt,textAlign:kt,textBaseline:O,translation:[W,rt],backdrop:L}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Is(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,_;return e==="left"?r?(_=this.right+o,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_+=f)):(_=this.right-h,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_-=f)):(_=this.left+h,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,_,v,T;this.isHorizontal()?(g=pa(t,this.left,c)-c/2,_=pa(t,this.right,h)+h/2,v=T=f):(v=pa(t,this.top,c)-c/2,T=pa(t,this.bottom,h)+h/2,g=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,v),e.lineTo(_,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&C_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,_=c.textOffset;Wc(i,g,0,_,f,h)}r&&I_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=un(i.font),c=Jn(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Ht(e)?(f+=c.bottom,je(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:_,maxWidth:v,rotation:T}=JV(this,f,e,h);Wc(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:T,textAlign:ZV(h,e,r),textBaseline:"middle",translation:[g,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Mt(t.grid&&t.grid.z,-1),r=Mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==rl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return un(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class sf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;nP(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,tP(t,c,i),this.override&&xe.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in xe[r]&&(delete xe[r][i],this.override&&delete Na[i])}}function tP(n,t,e){const i=Yc(Object.create(null),[e?xe.get(e):{},xe.get(t),n.defaults]);xe.set(t,i),n.defaultRoutes&&eP(t,n.defaultRoutes),n.descriptors&&xe.describe(t,n.descriptors)}function eP(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");xe.route(o,r,f,h)})}function nP(n){return"id"in n&&"defaults"in n}class iP{constructor(){this.controllers=new sf(gd,"datasets",!0),this.elements=new sf(Vs,"elements"),this.plugins=new sf(Object,"plugins"),this.scales=new sf(rl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Jt(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=S_(t);le(i["before"+r],[],i),e[t](i),le(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Fi=new iP;class sP{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(le(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Mt(i.options&&i.options.plugins,{}),o=rP(i);return r===!1&&!e?[]:oP(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function rP(n){const t={},e=[],i=Object.keys(Fi.plugins.items);for(let o=0;o<i.length;o++)e.push(Fi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function aP(n,t){return!t&&n===!1?null:n===!0?{}:n}function oP(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=aP(i[f],r);g!==null&&o.push({plugin:h,options:lP(n.config,{plugin:h,local:e[f]},g,c)})}return o}function lP(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ep(n,t){const e=xe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function cP(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function uP(n,t){return n===t?"_index_":"_value_"}function NE(n){if(n==="x"||n==="y"||n==="r")return n}function hP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Sp(n,...t){if(NE(n))return n;for(const e of t){const i=e.axis||hP(e.position)||n.length>1&&NE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function kE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function fP(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return kE(n,"x",e[0])||kE(n,"y",e[0])}return{}}function dP(n,t){const e=Na[n.type]||{scales:{}},i=t.scales||{},r=Ep(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Ht(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Sp(c,h,fP(c,n),xe.scales[h.type]),g=uP(f,r),_=e.scales||{};o[c]=Dc(Object.create(null),[{axis:f},h,_[f],_[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Ep(h,t),_=(Na[h]||{}).scales||{};Object.keys(_).forEach(v=>{const T=cP(v,f),S=c[T+"AxisID"]||T;o[S]=o[S]||Object.create(null),Dc(o[S],[{axis:T},i[S],_[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];Dc(h,[xe.scales[h.type],xe.scale])}),o}function sw(n){const t=n.options||(n.options={});t.plugins=Mt(t.plugins,{}),t.scales=dP(n,t)}function rw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function gP(n){return n=n||{},n.data=rw(n.data),sw(n),n}const VE=new Map,aw=new Set;function rf(n,t){let e=VE.get(n);return e||(e=t(),VE.set(n,e),aw.add(e)),e}const pc=(n,t,e)=>{const i=Oa(t,e);i!==void 0&&n.add(i)};class mP{constructor(t){this._config=gP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=rw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),sw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return rf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return rf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return rf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return rf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(v=>pc(f,t,v))),_.forEach(v=>pc(f,r,v)),_.forEach(v=>pc(f,Na[o]||{},v)),_.forEach(v=>pc(f,xe,v)),_.forEach(v=>pc(f,bp,v))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),aw.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Na[e]||{},xe.datasets[e]||{},{type:e},xe,bp]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=PE(this._resolverCache,t,r);let f=c;if(_P(c,e)){o.$shared=!1,i=Pr(i)?i():i;const g=this.createResolver(t,i,h);f=Zo(c,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=PE(this._resolverCache,t,i);return Ht(e)?Zo(o,e,void 0,r):o}}function PE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:D_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const pP=n=>Ht(n)&&Object.getOwnPropertyNames(n).some(t=>Pr(n[t]));function _P(n,t){const{isScriptable:e,isIndexable:i}=Fx(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Pr(h)||pP(h))||c&&je(h))return!0}return!1}var yP="4.5.0";const vP=["top","bottom","left","right","chartArea"];function LE(n,t){return n==="top"||n==="bottom"||vP.indexOf(n)===-1&&t==="x"}function zE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function UE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),le(e&&e.onComplete,[n],t)}function bP(n){const t=n.chart,e=t.options.animation;le(e&&e.onProgress,[n],t)}function ow(n){return k_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const vf={},jE=n=>{const t=ow(n);return Object.values(vf).filter(e=>e.canvas===t).pop()};function TP(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function EP(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Ba=class{static defaults=xe;static instances=vf;static overrides=Na;static registry=Fi;static version=yP;static getChart=jE;static register(...t){Fi.add(...t),BE()}static unregister(...t){Fi.remove(...t),BE()}constructor(t,e){const i=this.config=new mP(e),r=ow(t),o=jE(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||jV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,_=f&&f.width;if(this.id=gk(),this.ctx=h,this.canvas=f,this.width=_,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Nk(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],vf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ss.listen(this,"complete",UE),Ss.listen(this,"progress",bP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Xt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Fi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return aE(this.canvas,this.ctx),this}stop(){return Ss.stop(this),this}resize(t,e){Ss.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,cE(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),le(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Jt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Sp(c,h),g=f==="r",_=f==="x";return{options:h,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),Jt(o,c=>{const h=c.options,f=h.id,g=Sp(f,h),_=Mt(h.type,c.dtype);(h.position===void 0||LE(h.position,g)!==LE(c.dposition))&&(h.position=c.dposition),r[f]=!0;let v=null;if(f in i&&i[f].type===_)v=i[f];else{const T=Fi.getScale(_);v=new T({id:f,type:_,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Jt(r,(c,h)=>{c||delete i[h]}),Jt(i,c=>{Wn.configure(this,c,c.options),Wn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(zE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Ep(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Fi.getController(h),{datasetElementType:g,dataElementType:_}=xe.datasets[h];Object.assign(f,{dataElementType:Fi.getElement(_),datasetElementType:g&&Fi.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Jt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:v}=this.getDatasetMeta(g),T=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(T),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Jt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(zE("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Jt(this.scales,t=>{Wn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!$T(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;TP(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!$T(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Jt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Pr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ss.has(this)?this.attached&&!Ss.running(this)&&Ss.start(this):(this.draw(),UE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=U4(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&C_(e,r),t.controller.draw(),r&&I_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return $c(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=vV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ja(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Kc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ss.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),aE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete vf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Jt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Jt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Jt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Hf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,g)=>f.filter(_=>!g.some(v=>_.datasetIndex===v.datasetIndex&&_.index===v.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=bk(t),g=EP(t,this._lastEvent,i,f);i&&(this._lastEvent=null,le(o.onHover,[t,h,this],this),f&&le(o.onClick,[t,h,this],this));const _=!Hf(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function BE(){return Jt(Ba.instances,n=>n._plugins.invalidate())}function SP(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:g,borderJoinStyle:_}=f,v=Math.min(g/c,fi(i-e));if(n.beginPath(),n.arc(r,o,c-g/2,i+v/2,e-v/2),h>0){const T=Math.min(g/h,fi(i-e));n.arc(r,o,h+g/2,e-T/2,i+T/2,!0)}else{const T=Math.min(g/2,c*fi(i-e));if(_==="round")n.arc(r,o,T,e-te/2,i+te/2,!0);else if(_==="bevel"){const S=2*T*T,R=-S*Math.cos(e+te/2)+r,I=-S*Math.sin(e+te/2)+o,M=S*Math.cos(i+te/2)+r,j=S*Math.sin(i+te/2)+o;n.lineTo(R,I),n.lineTo(M,j)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function xP(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let g=r/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),f>r?(g=r/f,n.arc(o,c,f,e+g,i-g,!0)):n.arc(o,c,r,e+Be,i-Be),n.closePath(),n.clip()}function wP(n){return M_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function AP(n,t,e,i){const r=wP(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return cn(f,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:cn(r.innerStart,0,c),innerEnd:cn(r.innerEnd,0,c)}}function ko(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Qf(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:g,innerRadius:_}=t,v=Math.max(t.outerRadius+i+e-g,0),T=_>0?_+i+e+g:0;let S=0;const R=r-f;if(i){const Et=_>0?_-i:0,K=v>0?v-i:0,at=(Et+K)/2,ht=at!==0?R*at/(at+i):R;S=(R-ht)/2}const I=Math.max(.001,R*v-e/te)/v,M=(R-I)/2,j=f+M+S,Y=r-M-S,{outerStart:$,outerEnd:et,innerStart:W,innerEnd:rt}=AP(t,T,v,Y-j),C=v-$,w=v-et,D=j+$/C,V=Y-et/w,N=T+W,P=T+rt,O=j+W/N,Dt=Y-rt/P;if(n.beginPath(),o){const Et=(D+V)/2;if(n.arc(c,h,v,D,Et),n.arc(c,h,v,Et,V),et>0){const vt=ko(w,V,c,h);n.arc(vt.x,vt.y,et,V,Y+Be)}const K=ko(P,Y,c,h);if(n.lineTo(K.x,K.y),rt>0){const vt=ko(P,Dt,c,h);n.arc(vt.x,vt.y,rt,Y+Be,Dt+Math.PI)}const at=(Y-rt/T+(j+W/T))/2;if(n.arc(c,h,T,Y-rt/T,at,!0),n.arc(c,h,T,at,j+W/T,!0),W>0){const vt=ko(N,O,c,h);n.arc(vt.x,vt.y,W,O+Math.PI,j-Be)}const ht=ko(C,j,c,h);if(n.lineTo(ht.x,ht.y),$>0){const vt=ko(C,D,c,h);n.arc(vt.x,vt.y,$,j-Be,D)}}else{n.moveTo(c,h);const Et=Math.cos(D)*v+c,K=Math.sin(D)*v+h;n.lineTo(Et,K);const at=Math.cos(V)*v+c,ht=Math.sin(V)*v+h;n.lineTo(at,ht)}n.closePath()}function RP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Qf(n,t,e,i,f,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=c+(h%ye||ye))}return Qf(n,t,e,i,f,r),n.fill(),f}function CP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:_,borderDash:v,borderDashOffset:T,borderRadius:S}=f,R=f.borderAlign==="inner";if(!g)return;n.setLineDash(v||[]),n.lineDashOffset=T,R?(n.lineWidth=g*2,n.lineJoin=_||"round"):(n.lineWidth=g,n.lineJoin=_||"bevel");let I=t.endAngle;if(o){Qf(n,t,e,i,I,r);for(let M=0;M<o;++M)n.stroke();isNaN(h)||(I=c+(h%ye||ye))}R&&xP(n,t,I),f.selfJoin&&I-c>=te&&S===0&&_!=="miter"&&SP(n,t,I),o||(Qf(n,t,e,i,I,r),n.stroke())}class IP extends Vs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=kx(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:_,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),T=(this.options.spacing+this.options.borderWidth)/2,S=Mt(v,f-h),R=Qc(o,h,f)&&h!==f,I=S>=ye||R,M=Er(c,g+T,_+T);return I&&M}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,_=(r+o)/2,v=(c+h+g+f)/2;return{x:e+Math.cos(_)*v,y:i+Math.sin(_)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ye?Math.floor(i/ye):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(te,i||0)),g=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,RP(t,this,g,o,c),CP(t,this,g,o,c),t.restore()}}function lw(n,t,e=t){n.lineCap=Mt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Mt(e.borderDash,t.borderDash)),n.lineDashOffset=Mt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Mt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Mt(e.borderWidth,t.borderWidth),n.strokeStyle=Mt(e.borderColor,t.borderColor)}function MP(n,t,e){n.lineTo(e.x,e.y)}function DP(n){return n.stepped?Kk:n.tension||n.cubicInterpolationMode==="monotone"?Xk:MP}function cw(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),g=Math.min(o,h),_=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:g<f&&!_?i+g-f:g-f}}function OP(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:g}=cw(r,e,i),_=DP(o);let{move:v=!0,reverse:T}=i||{},S,R,I;for(S=0;S<=g;++S)R=r[(h+(T?g-S:S))%c],!R.skip&&(v?(n.moveTo(R.x,R.y),v=!1):_(n,I,R,T,o.stepped),I=R);return f&&(R=r[(h+(T?g:0))%c],_(n,I,R,T,o.stepped)),!!f}function NP(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=cw(r,e,i),{move:f=!0,reverse:g}=i||{};let _=0,v=0,T,S,R,I,M,j;const Y=et=>(c+(g?h-et:et))%o,$=()=>{I!==M&&(n.lineTo(_,M),n.lineTo(_,I),n.lineTo(_,j))};for(f&&(S=r[Y(0)],n.moveTo(S.x,S.y)),T=0;T<=h;++T){if(S=r[Y(T)],S.skip)continue;const et=S.x,W=S.y,rt=et|0;rt===R?(W<I?I=W:W>M&&(M=W),_=(v*_+et)/++v):($(),n.lineTo(et,W),R=rt,v=0,I=M=W),j=W}$()}function xp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?NP:OP}function kP(n){return n.stepped?A4:n.tension||n.cubicInterpolationMode==="monotone"?R4:ba}function VP(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),lw(n,t.options),n.stroke(r)}function PP(n,t,e,i){const{segments:r,options:o}=t,c=xp(t);for(const h of r)lw(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const LP=typeof Path2D=="function";function zP(n,t,e,i){LP&&!t.options.segment?VP(n,t,e,i):PP(n,t,e,i)}class UP extends Vs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;y4(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=V4(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=O4(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=kP(i);let g,_;for(g=0,_=c.length;g<_;++g){const{start:v,end:T}=c[g],S=o[v],R=o[T];if(S===R){h.push(S);continue}const I=Math.abs((r-S[e])/(R[e]-S[e])),M=f(S,R,I,i.stepped);M[e]=t[e],h.push(M)}return h.length===1?h[0]:h}pathSegment(t,e,i){return xp(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=xp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),zP(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function FE(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class jP extends Vs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return FE(this,t,"x",e)}inYRange(t,e){return FE(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!$c(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Tp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function uw(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,g,_,v;return n.horizontal?(v=c/2,h=Math.min(e,r),f=Math.max(e,r),g=i-v,_=i+v):(v=o/2,h=e-v,f=e+v,g=Math.min(i,r),_=Math.max(i,r)),{left:h,top:g,right:f,bottom:_}}function Sr(n,t,e,i){return n?0:cn(t,e,i)}function BP(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=Bx(i);return{t:Sr(r.top,o.top,0,e),r:Sr(r.right,o.right,0,t),b:Sr(r.bottom,o.bottom,0,e),l:Sr(r.left,o.left,0,t)}}function FP(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Ho(r),c=Math.min(t,e),h=n.borderSkipped,f=i||Ht(r);return{topLeft:Sr(!f||h.top||h.left,o.topLeft,0,c),topRight:Sr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Sr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Sr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function HP(n){const t=uw(n),e=t.right-t.left,i=t.bottom-t.top,r=BP(n,e/2,i/2),o=FP(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Ym(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&uw(n,i);return h&&(r||Er(t,h.left,h.right))&&(o||Er(e,h.top,h.bottom))}function qP(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function GP(n,t){n.rect(t.x,t.y,t.w,t.h)}function Km(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class hw extends Vs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=HP(this),h=qP(c.radius)?Yf:GP;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Km(c,e,o)),t.clip(),h(t,Km(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Km(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Ym(this,t,e,i)}inXRange(t,e){return Ym(this,t,null,e)}inYRange(t,e){return Ym(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const HE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},YP=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class qE extends Vs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=le(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=un(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=HE(i,o);let g,_;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,g=this._fitCols(c,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],_=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let T=-1,S=-_;return this.legendItems.forEach((R,I)=>{const M=i+e/2+o.measureText(R.text).width;(I===0||g[g.length-1]+M+2*h>c)&&(v+=_,g[g.length-(I>0?0:1)]=0,S+=_,T++),f[I]={left:0,top:S,row:T,width:M,height:r},g[g.length-1]+=M+h}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],_=c-t;let v=h,T=0,S=0,R=0,I=0;return this.legendItems.forEach((M,j)=>{const{itemWidth:Y,itemHeight:$}=KP(i,e,o,M,r);j>0&&S+$+2*h>_&&(v+=T+h,g.push({width:T,height:S}),R+=T+h,I++,T=S=0),f[j]={left:R,top:S,col:I,width:Y,height:$},T=Math.max(T,Y),S+=$+h}),v+=T,g.push({width:T,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=qo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=an(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=an(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+r}else{let h=0,f=an(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=an(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;C_(t,this),this._draw(),I_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=xe.color,f=qo(t.rtl,this.left,this.width),g=un(c.font),{padding:_}=c,v=g.size,T=v/2;let S;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:R,boxHeight:I,itemHeight:M}=HE(c,v),j=function(rt,C,w){if(isNaN(R)||R<=0||isNaN(I)||I<0)return;r.save();const D=Mt(w.lineWidth,1);if(r.fillStyle=Mt(w.fillStyle,h),r.lineCap=Mt(w.lineCap,"butt"),r.lineDashOffset=Mt(w.lineDashOffset,0),r.lineJoin=Mt(w.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Mt(w.strokeStyle,h),r.setLineDash(Mt(w.lineDash,[])),c.usePointStyle){const V={radius:I*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:D},N=f.xPlus(rt,R/2),P=C+T;jx(r,V,N,P,c.pointStyleWidth&&R)}else{const V=C+Math.max((v-I)/2,0),N=f.leftForLtr(rt,R),P=Ho(w.borderRadius);r.beginPath(),Object.values(P).some(O=>O!==0)?Yf(r,{x:N,y:V,w:R,h:I,radius:P}):r.rect(N,V,R,I),r.fill(),D!==0&&r.stroke()}r.restore()},Y=function(rt,C,w){Wc(r,w.text,rt,C+M/2,g,{strikethrough:w.hidden,textAlign:f.textAlign(w.textAlign)})},$=this.isHorizontal(),et=this._computeTitleHeight();$?S={x:an(o,this.left+_,this.right-i[0]),y:this.top+_+et,line:0}:S={x:this.left+_,y:an(o,this.top+et+_,this.bottom-e[0].height),line:0},Kx(this.ctx,t.textDirection);const W=M+_;this.legendItems.forEach((rt,C)=>{r.strokeStyle=rt.fontColor,r.fillStyle=rt.fontColor;const w=r.measureText(rt.text).width,D=f.textAlign(rt.textAlign||(rt.textAlign=c.textAlign)),V=R+T+w;let N=S.x,P=S.y;f.setWidth(this.width),$?C>0&&N+V+_>this.right&&(P=S.y+=W,S.line++,N=S.x=an(o,this.left+_,this.right-i[S.line])):C>0&&P+W>this.bottom&&(N=S.x=N+e[S.line].width+_,S.line++,P=S.y=an(o,this.top+et+_,this.bottom-e[S.line].height));const O=f.x(N);if(j(O,P,rt),N=kk(D,N+R+T,$?N+V:this.right,t.rtl),Y(f.x(N),P,rt),$)S.x+=V+_;else if(typeof rt.text!="string"){const Dt=g.lineHeight;S.y+=fw(rt,Dt)+_}else S.y+=W}),Xx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=un(e.font),r=Jn(e.padding);if(!e.display)return;const o=qo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=r.top+f;let _,v=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),_=this.top+g,v=an(t.align,v,this.right-T);else{const R=this.columnSizes.reduce((I,M)=>Math.max(I,M.height),0);_=g+an(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const S=an(h,v,v+T);c.textAlign=o.textAlign(w_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Wc(c,e.text,S,_,i)}_computeTitleHeight(){const t=this.options.title,e=un(t.font),i=Jn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Er(t,this.left,this.right)&&Er(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Er(t,r.left,r.left+r.width)&&Er(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!$P(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=YP(r,i);r&&!o&&le(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&le(e.onHover,[t,i,this],this)}else i&&le(e.onClick,[t,i,this],this)}}function KP(n,t,e,i,r){const o=XP(i,n,t,e),c=QP(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function XP(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function QP(n,t,e){let i=n;return typeof t.text!="string"&&(i=fw(t,e)),i}function fw(n,t){const e=n.text?n.text.length:0;return t*e}function $P(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var pd={id:"legend",_element:qE,start(n,t,e){const i=n.legend=new qE({ctx:n.ctx,options:e,chart:n});Wn.configure(n,i,e),Wn.addBox(n,i)},stop(n){Wn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Wn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),_=Jn(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class dw extends Vs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=je(i.text)?i.text.length:1;this._padding=Jn(i.padding);const o=r*un(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,g,_,v;return this.isHorizontal()?(_=an(h,i,o),v=e+t,g=o-i):(c.position==="left"?(_=i+t,v=an(h,r,e),f=te*-.5):(_=o-t,v=an(h,e,r),f=te*.5),g=r-e),{titleX:_,titleY:v,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=un(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);Wc(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:w_(e.align),textBaseline:"middle",translation:[c,h]})}}function WP(n,t){const e=new dw({ctx:n.ctx,options:t,chart:n});Wn.configure(n,e,t),Wn.addBox(n,e),n.titleBlock=e}var L_={id:"title",_element:dw,start(n,t,e){WP(n,e)},stop(n){const t=n.titleBlock;Wn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Wn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),_=vp(t,g);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Bi(n,t){return t&&(je(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function xs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function ZP(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function GE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=un(t.bodyFont),g=un(t.titleFont),_=un(t.footerFont),v=o.length,T=r.length,S=i.length,R=Jn(t.padding);let I=R.height,M=0,j=i.reduce((et,W)=>et+W.before.length+W.lines.length+W.after.length,0);if(j+=n.beforeBody.length+n.afterBody.length,v&&(I+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),j){const et=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;I+=S*et+(j-S)*f.lineHeight+(j-1)*t.bodySpacing}T&&(I+=t.footerMarginTop+T*_.lineHeight+(T-1)*t.footerSpacing);let Y=0;const $=function(et){M=Math.max(M,e.measureText(et).width+Y)};return e.save(),e.font=g.string,Jt(n.title,$),e.font=f.string,Jt(n.beforeBody.concat(n.afterBody),$),Y=t.displayColors?c+2+t.boxPadding:0,Jt(i,et=>{Jt(et.before,$),Jt(et.lines,$),Jt(et.after,$)}),Y=0,e.font=_.string,Jt(n.footer,$),e.restore(),M+=R.width,{width:M,height:I}}function JP(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function t6(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function e6(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=c-o/2&&(g="right"),t6(g,n,t,e)&&(g="center"),g}function YE(n,t,e){const i=e.yAlign||t.yAlign||JP(n,e);return{xAlign:e.xAlign||t.xAlign||e6(n,t,e,i),yAlign:i}}function n6(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function i6(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function KE(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:_,topRight:v,bottomLeft:T,bottomRight:S}=Ho(c);let R=n6(t,h);const I=i6(t,f,g);return f==="center"?h==="left"?R+=g:h==="right"&&(R-=g):h==="left"?R-=Math.max(_,T)+r:h==="right"&&(R+=Math.max(v,S)+r),{x:cn(R,0,i.width-t.width),y:cn(I,0,i.height-t.height)}}function af(n,t,e){const i=Jn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function XE(n){return Bi([],xs(n))}function s6(n,t,e){return ja(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function QE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const gw={beforeTitle:Es,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Es,beforeBody:Es,beforeLabel:Es,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Xt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Es,afterBody:Es,beforeFooter:Es,footer:Es,afterFooter:Es};function En(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?gw[t].call(e,i):r}class $E extends Vs{static positioners=Sc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new $x(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=s6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=En(i,"beforeTitle",this,t),o=En(i,"title",this,t),c=En(i,"afterTitle",this,t);let h=[];return h=Bi(h,xs(r)),h=Bi(h,xs(o)),h=Bi(h,xs(c)),h}getBeforeBody(t,e){return XE(En(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Jt(t,o=>{const c={before:[],lines:[],after:[]},h=QE(i,o);Bi(c.before,xs(En(h,"beforeLabel",this,o))),Bi(c.lines,En(h,"label",this,o)),Bi(c.after,xs(En(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return XE(En(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=En(i,"beforeFooter",this,t),o=En(i,"footer",this,t),c=En(i,"afterFooter",this,t);let h=[];return h=Bi(h,xs(r)),h=Bi(h,xs(o)),h=Bi(h,xs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(ZP(this.chart,e[f]));return t.filter&&(h=h.filter((_,v,T)=>t.filter(_,v,T,i))),t.itemSort&&(h=h.sort((_,v)=>t.itemSort(_,v,i))),Jt(h,_=>{const v=QE(t.callbacks,_);r.push(En(v,"labelColor",this,_)),o.push(En(v,"labelPointStyle",this,_)),c.push(En(v,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Sc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=GE(this,i),g=Object.assign({},h,f),_=YE(this.chart,i,g),v=KE(i,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:v}=Ho(h),{x:T,y:S}=t,{width:R,height:I}=e;let M,j,Y,$,et,W;return o==="center"?(et=S+I/2,r==="left"?(M=T,j=M-c,$=et+c,W=et-c):(M=T+R,j=M+c,$=et-c,W=et+c),Y=M):(r==="left"?j=T+Math.max(f,_)+c:r==="right"?j=T+R-Math.max(g,v)-c:j=this.caretX,o==="top"?($=S,et=$-c,M=j-c,Y=j+c):($=S+I,et=$+c,M=j+c,Y=j-c),W=$),{x1:M,x2:j,x3:Y,y1:$,y2:et,y3:W}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const g=qo(i.rtl,this.x,this.width);for(t.x=af(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=un(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,_=un(o.bodyFont),v=af(this,"left",o),T=r.x(v),S=f<_.lineHeight?(_.lineHeight-f)/2:0,R=e.y+S;if(o.usePointStyle){const I={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(T,g)+g/2,j=R+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Tp(t,I,M,j),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Tp(t,I,M,j)}else{t.lineWidth=Ht(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const I=r.leftForLtr(T,g),M=r.leftForLtr(r.xPlus(T,1),g-2),j=Ho(c.borderRadius);Object.values(j).some(Y=>Y!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Yf(t,{x:I,y:R,w:g,h:f,radius:j}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Yf(t,{x:M,y:R+1,w:g-2,h:f-2,radius:j}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(I,R,g,f),t.strokeRect(I,R,g,f),t.fillStyle=c.backgroundColor,t.fillRect(M,R+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:_}=i,v=un(i.bodyFont);let T=v.lineHeight,S=0;const R=qo(i.rtl,this.x,this.width),I=function(w){e.fillText(w,R.x(t.x+S),t.y+T/2),t.y+=T+o},M=R.textAlign(c);let j,Y,$,et,W,rt,C;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=af(this,M,i),e.fillStyle=i.bodyColor,Jt(this.beforeBody,I),S=h&&M!=="right"?c==="center"?g/2+_:g+2+_:0,et=0,rt=r.length;et<rt;++et){for(j=r[et],Y=this.labelTextColors[et],e.fillStyle=Y,Jt(j.before,I),$=j.lines,h&&$.length&&(this._drawColorBox(e,t,et,R,i),T=Math.max(v.lineHeight,f)),W=0,C=$.length;W<C;++W)I($[W]),T=v.lineHeight;Jt(j.after,I)}S=0,T=v.lineHeight,Jt(this.afterBody,I),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=qo(i.rtl,this.x,this.width);for(t.x=af(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=un(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:_}=i,{topLeft:v,topRight:T,bottomLeft:S,bottomRight:R}=Ho(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-T,f),e.quadraticCurveTo(h+g,f,h+g,f+T),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,f+_-R),e.quadraticCurveTo(h+g,f+_,h+g-R,f+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+S,f+_),e.quadraticCurveTo(h,f+_,h,f+_-S),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Sc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=GE(this,t),f=Object.assign({},c,this._size),g=YE(e,t,f),_=KE(t,f,g,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Jn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),Kx(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),Xx(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Hf(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Hf(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Sc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var _d={id:"tooltip",_element:$E,positioners:Sc,afterInit(n,t,e){e&&(n.tooltip=new $E({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const r6=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function a6(n,t,e,i){const r=n.indexOf(t);if(r===-1)return r6(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const o6=(n,t)=>n===null?null:cn(Math.round(n),0,t);function WE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class z_ extends rl{static id="category";static defaults={ticks:{callback:WE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Xt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:a6(i,t,Mt(e,t),this._addedLabels),o6(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return WE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function l6(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:g,maxTicks:_,maxDigits:v,includeBounds:T}=n,S=o||1,R=_-1,{min:I,max:M}=t,j=!Xt(c),Y=!Xt(h),$=!Xt(g),et=(M-I)/(v+1);let W=ZT((M-I)/R/S)*S,rt,C,w,D;if(W<1e-14&&!j&&!Y)return[{value:I},{value:M}];D=Math.ceil(M/W)-Math.floor(I/W),D>R&&(W=ZT(D*W/R/S)*S),Xt(f)||(rt=Math.pow(10,f),W=Math.ceil(W*rt)/rt),r==="ticks"?(C=Math.floor(I/W)*W,w=Math.ceil(M/W)*W):(C=I,w=M),j&&Y&&o&&wk((h-c)/o,W/1e3)?(D=Math.round(Math.min((h-c)/W,_)),W=(h-c)/D,C=c,w=h):$?(C=j?c:C,w=Y?h:w,D=g-1,W=(w-C)/D):(D=(w-C)/W,Oc(D,Math.round(D),W/1e3)?D=Math.round(D):D=Math.ceil(D));const V=Math.max(JT(W),JT(C));rt=Math.pow(10,Xt(f)?V:f),C=Math.round(C*rt)/rt,w=Math.round(w*rt)/rt;let N=0;for(j&&(T&&C!==c?(e.push({value:c}),C<c&&N++,Oc(Math.round((C+N*W)*rt)/rt,c,ZE(c,et,n))&&N++):C<c&&N++);N<D;++N){const P=Math.round((C+N*W)*rt)/rt;if(Y&&P>h)break;e.push({value:P})}return Y&&T&&w!==h?e.length&&Oc(e[e.length-1].value,h,ZE(h,et,n))?e[e.length-1].value=h:e.push({value:h}):(!Y||w===h)&&e.push({value:w}),e}function ZE(n,t,{horizontal:e,minRotation:i}){const r=Is(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class c6 extends rl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Xt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=$i(r),g=$i(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=l6(r,o);return t.bounds==="ticks"&&Ak(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return R_(t,this.chart.options.locale,this.options.ticks.format)}}class U_ extends c6{static id="linear";static defaults={ticks:{callback:Ux.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Zn(t)?t:0,this.max=Zn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Is(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const yd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys(yd);function JE(n,t){return n-t}function tS(n,t){if(Xt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Zn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Xc(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function eS(n,t,e,i){const r=xn.length;for(let o=xn.indexOf(n);o<r-1;++o){const c=yd[xn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return xn[o]}return xn[r-1]}function u6(n,t,e,i,r){for(let o=xn.length-1;o>=xn.indexOf(e);o--){const c=xn[o];if(yd[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return xn[e?xn.indexOf(e):0]}function h6(n){for(let t=xn.indexOf(n)+1,e=xn.length;t<e;++t)if(yd[xn[t]].common)return xn[t]}function nS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=x_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function f6(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function iS(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:f6(n,i,r,e)}class sS extends rl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new gV._date(t.adapters.date);r.init(e),Dc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:tS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Zn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Zn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=Dk(r,o,c);return this._unit=e.unit||(i.autoSkip?eS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):u6(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:h6(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),iS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=cn(e,0,c),i=cn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||eS(o.minUnit,e,i,this._getLabelCapacity(e)),h=Mt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=Xc(f)||f===!0,_={};let v=e,T,S;if(g&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(T=v,S=0;T<i;T=+t.add(T,h,c),S++)nS(_,T,R);return(T===i||r.bounds==="ticks"||S===1)&&nS(_,T,R),Object.keys(_).sort(JE).map(I=>+I)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return le(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,_=f&&h[f],v=g&&h[g],T=i[e],S=g&&v&&T&&T.major;return this._adapter.format(t,r||(S?v:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Is(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,iS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(tS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Px(t.sort(JE))}}function of(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Sa(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Sa(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class N6 extends sS{static id="timeseries";static defaults=sS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=of(e,this.min),this._tableRange=of(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,g,_;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],f=r[c-1],g=r[c],Math.round((_+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(of(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return of(this._table,i*this._tableRange+this._minPos,!0)}}const mw="label";function rS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function d6(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function pw(n,t){n.labels=t}function _w(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mw;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function g6(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mw;const e={labels:[],datasets:[]};return pw(e,n.labels),_w(e,n.datasets,t),e}function m6(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:_,updateMode:v,...T}=n,S=_e.useRef(null),R=_e.useRef(null),I=()=>{S.current&&(R.current=new Ba(S.current,{type:c,data:g6(h,o),options:f&&{...f},plugins:g}),rS(t,R.current))},M=()=>{rS(t,null),R.current&&(R.current.destroy(),R.current=null)};return _e.useEffect(()=>{!r&&R.current&&f&&d6(R.current,f)},[r,f]),_e.useEffect(()=>{!r&&R.current&&pw(R.current.config.data,h.labels)},[r,h.labels]),_e.useEffect(()=>{!r&&R.current&&h.datasets&&_w(R.current.config.data,h.datasets,o)},[r,h.datasets]),_e.useEffect(()=>{R.current&&(r?(M(),setTimeout(I)):R.current.update(v))},[r,f,h.labels,h.datasets,v]),_e.useEffect(()=>{R.current&&(M(),setTimeout(I))},[c]),_e.useEffect(()=>(I(),()=>M()),[]),oS.createElement("canvas",{ref:S,role:"img",height:e,width:i,...T},_)}const p6=_e.forwardRef(m6);function j_(n,t){return Ba.register(t),_e.forwardRef((e,i)=>oS.createElement(p6,{...e,ref:i,type:n}))}const _6=j_("line",dV),yw=j_("bar",uV),y6=j_("doughnut",fV);Ba.register(z_,U_,hw,L_,_d,pd);const v6=({isDark:n})=>{const t={labels:["January","February","March"],datasets:[{label:"Fuel Consumption",data:[20,42,88],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption Overview",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return U.jsx(yw,{data:t,options:e})};Ba.register(z_,U_,jP,UP,L_,_d,pd);const b6=({isDark:n})=>{const t={labels:["January","February","March","April"],datasets:[{label:"Mileage",data:[40,52,70,88],fill:!1,borderColor:"rgba(101, 119, 255, 1)",tension:.1}]},e={responsive:!0,plugins:{legend:{position:"top",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Mileage Efficiency",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return U.jsx(_6,{data:t,options:e})};Ba.register(IP,_d,pd);const T6=({isDark:n})=>{const t={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Total Expenses",color:n?"#FFFCE1":"#0E100F"},tooltip:{backgroundColor:n?"#0E100F":"#FFFCE1",titleColor:n?"#FFFCE1":"#0E100F",bodyColor:n?"#FFFCE1":"#0E100F",borderColor:n?"#555":"#ccc",borderWidth:1}}},e={labels:["January","February","March"],datasets:[{label:"Expenses",data:[300,50,100],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderColor:n?"#0E100F":"#FFFCE1",borderWidth:2}]};return U.jsx(y6,{data:e,options:t})};function E6({isDark:n}){const t=Lr();return U.jsxs("div",{className:`flex-col
            fade-in flex items-center justify-center h-screen w-full p-[calc(0.4vw+0.6rem)]`,children:[U.jsx("section",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)]",children:U.jsxs("div",{className:`${t?"flex-col items-center gap-[calc(0.4vw+0.6rem)]":"flex-row items-center"}
                    h-auto w-full flex justify-center p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]`,children:[U.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("img",{src:n?Ap:bf,className:`h-[calc(6vw+6.4rem)] w-[calc(6vw+6.4rem)] cursor-pointer\r
                            filter hover:brightness-60 transition duration-300`,alt:""}),U.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),U.jsxs("div",{className:"flex-3 h-full flex flex-col items-start justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[U.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"Subscribe to our newsletter"}),U.jsxs("div",{className:"w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] pl-0",children:[U.jsx("input",{type:"email",placeholder:"Enter your email",className:`${n?"border-[var(--light-color)]":"border-[var(--dark-color)]"}
                                    w-full outline-none px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] border-b`}),U.jsx("i",{className:"bx bx-arrow-right-stroke-circle bx-spin-hover hovered text-[calc(1vw+1.4rem)] cursor-pointer"})]})]}),U.jsxs("div",{className:`${t?"pb-[calc(0.4vw+0.6rem)]":"p-[calc(0.4vw+0.6rem)]"}
                            flex-3 w-full flex items-center justify-center gap-[calc(1.4vw+1.6rem)]`,children:[U.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"About Us"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Mission"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Team"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"})]}),U.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Support"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Contact"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Support"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"FAQ's"})]}),U.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Social"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Facebook"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Instagram"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]})]})]})]})}),U.jsxs("section",{className:"w-full flex flex-row items-center justify-between flex-wrap",children:[U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Copyright  DriveSense 2025"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Terms of Service"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"A100 Group 6 BSIT Mini-Capstone Project"}),U.jsxs("div",{className:"flex flex-row items-center justify-center",children:[U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Back to top"}),U.jsx("i",{className:"bx bx-arrow-up-square bx-tada-hover text-[calc(1vw+1.4rem)] cursor-pointer hovered",onClick:()=>{const e=document.getElementById("landing-section");e&&e.scrollIntoView({behavior:"smooth"})}})]})]})]})}function S6({isDark:n}){const t=Lr();return U.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in h-screen w-full flex flex-col items-center justify-start overflow-y-scroll snap-y snap-mandatory scroll-smooth no-scrollbar`,children:[U.jsxs("section",{id:"landing-section",className:`${t?"flex-col min-h-screen w-full justify-center":"w-[90%] flex-row min-h-screen justify-around snap-start"}
                flex items-center border-b border-[var(--border-color)]`,children:[U.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:U.jsxs("div",{className:"flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"text-[calc(1.6vw+1.4rem)] font-bold cursor-pointer hovered",children:"Fuel Consumption and Vehicle Usage Monitoring System"}),!t&&U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),!t&&U.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--dark-color)] font-semibold`,children:"Get Started"}),U.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer font-semibold
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)]`,children:"Sign In"})]})]})}),U.jsx("div",{className:"relative h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:U.jsx("img",{src:GN,className:`${t?"h-[calc(18vw+16rem)] min-w-[calc(18vw+16rem)]":"h-[calc(18vw+16rem)] w-[calc(24vw+18rem)] mb-[48px]"}`,alt:""})}),t&&U.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:U.jsxs("div",{className:"w-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),U.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer`,children:"Get Started"}),U.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer font-semibold`,children:"Sign In"})]})]})})]}),U.jsxs("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)] border-b border-[var(--border-color)]`,children:[U.jsx("span",{className:"text-[calc(0.8vw+1rem)] cursor-pointer font-semibold hovered",children:"Why Use DriveSense?"}),U.jsxs("div",{className:`${n?"text-[var(--light-color)]":"text-[var(--dark-color)]"}
                        ${t?"flex-row items-center flex-wrap":"flex-row items-start"}
                        w-full flex justify-center gap-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)]`,children:[U.jsx(Yh,{icon:U.jsx("i",{className:"bx bx-petrol-pump bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Monitor Fuel Consumption",info:"Track fuel volume, cost and refusing data.",isDark:n}),U.jsx(Yh,{icon:U.jsx("i",{className:"bx bx-chart-bar-columns bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Analyze Efficiency",info:"Generate reports on vehicle mileage and performance.",isDark:n}),U.jsx(Yh,{icon:U.jsx("i",{className:"bx bx-car bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Manage Vehicles",info:"Register and update vehicle details with ease.",isDark:n}),U.jsx(Yh,{icon:U.jsx("i",{className:"bx bx-lock-keyhole bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Secure Access",info:"Role: based login for admin, driver and owner.",isDark:n})]}),U.jsxs("div",{className:`${t?"flex-col justify-start w-full":"flex-row justify-center h-[320px] w-full"}
                    h-auto flex items-center p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[U.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:U.jsx(v6,{isDark:n})}),U.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:U.jsx(b6,{isDark:n})}),U.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:U.jsx(T6,{isDark:n})})]})]}),U.jsx("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)]`,children:U.jsx(E6,{isDark:n})})]})}function x6({isLoggedIn:n,setIsLoggedIn:t,setUser:e}){const[i,r]=_e.useState(!0);return U.jsxs("div",{className:`${i?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            h-screen w-screen overflow-hidden flex flex-col items-center justify-start`,children:[U.jsx(qN,{isDark:i,setIsDark:r,isLoggedIn:n,setIsLoggedIn:t,setUser:e}),U.jsx(S6,{isDark:i})]})}const vw=({icon:n,title:t})=>U.jsxs(U.Fragment,{children:[U.jsx("i",{className:`${n} text-[calc(0.6vw+1rem)]`}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] hovered",children:t})]});function w6({isDark:n,setIsDark:t,activeIndex:e,setActiveIndex:i,user:r}){const o=Lr(),[c,h]=_e.useState(!1),f=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicle"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-map bx-tada-hover hovered",title:"Trip"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}];return U.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[U.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&U.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(g=>!g)}),U.jsx("img",{src:n?Ap:bf,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),U.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),U.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[r&&U.jsx("img",{src:r?.photoURL??"",className:"rounded-full h-[calc(1vw+1.4rem)]  w-[calc(1vw+1.4rem)] cursor-pointer",alt:""}),!r&&U.jsx("i",{className:"bx bx-user-circle bx-tada-hover hovered text-[calc(1vw+1.2rem)] cursor-pointer"}),U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:r?.displayName??"Guest"}),U.jsx(lS,{isDark:n,setIsDark:t})]}),o&&c&&U.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:U.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[U.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(g=>!g)}),f.map((g,_)=>U.jsx("div",{className:`${e===_?"bg-[var(--border-color)]":""} flex flex-row items-center justify-start gap-[calc(0.4vw+0.6rem)] 
                            cursor-pointer transition duration-300 ease-in-out`,onClick:()=>i(_),children:U.jsx(vw,{icon:g.icon,title:g.title})},_))]})})]})}function pr({title:n,descrip:t,isDark:e}){return U.jsxs("div",{className:`
            text-[var(--light-color)] bg-[var(--purple-color)]
            h-auto w-full flex flex-col items-start justify-center rounded-lg
            p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[U.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer text-center",children:n}),U.jsx("span",{className:"text-[calc(0.6vw+1.2rem)] cursor-pointer",children:t})]})}Ba.register(z_,U_,hw,L_,_d,pd);const A6=({isDark:n})=>{const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],datasets:[{label:"Fuel Consumption",data:[20,42,98,66,32,52,44,80,74],backgroundColor:["rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption",color:n?"#FFFCE1":"#0E100F",align:"start",font:{size:16}}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return U.jsx(yw,{data:t,options:e})};function aS({isDark:n,user:t}){const e=Lr();return U.jsxs("section",{id:"main",className:`${e?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
        flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:[U.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Dashboard"}),U.jsxs("span",{className:"text-[calc(0.4vw+0.8rem)] cursor-pointer hovered",children:["Welcome back, ",t?.displayName]}),!e&&U.jsxs("div",{className:"h-auto w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsx(pr,{title:"Total Vehicles",descrip:"23",isDark:n}),U.jsx(pr,{title:"Monthly Fuel Cost",descrip:"1200",isDark:n}),U.jsx(pr,{title:"Mileage Efficiency",descrip:"9.8 mpg",isDark:n}),U.jsx(pr,{title:"Total Trips",descrip:"115",isDark:n})]}),e&&U.jsxs("div",{className:"h-auto w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[U.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[U.jsx(pr,{title:"Total Vehicles",descrip:"23",isDark:n}),U.jsx(pr,{title:"Monthly Fuel Cost",descrip:"1200",isDark:n})]}),U.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[U.jsx(pr,{title:"Mileage Efficiency",descrip:"9.8 mpg",isDark:n}),U.jsx(pr,{title:"Total Trips",descrip:"115",isDark:n})]})]})]}),U.jsxs("div",{className:`${e?"flex-col items-center mt-[calc(0.4vw+0.6rem)]":"flex-row items-start"}
                h-full w-full flex justify-start gap-[calc(0.4vw+0.6rem)]`,children:[U.jsx("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:U.jsx(A6,{isDark:n})}),U.jsxs("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:[U.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] p-[calc(0.4vw+0.6rem)] pl-0 cursor-pointer",children:"Recent Activity"}),U.jsxs("div",{className:"h-full w-full flex flex-row items-start justify-around py-[calc(0.4vw+0.6rem)]",children:[U.jsxs("div",{className:"h-full flex-1 flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]  text-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"hovered w-full p-[calc(0.3vw+0.4rem)] border-b border-[var(--border-color)] cursor-pointer pl-0",children:"Activity"}),U.jsx("span",{className:"cursor-pointer hovered",children:"Refuel"}),U.jsx("span",{className:"cursor-pointer hovered",children:"Trip"}),U.jsx("span",{className:"cursor-pointer hovered",children:"Maintenance"}),U.jsx("span",{className:"cursor-pointer hovered",children:"Refuel"})]}),U.jsxs("div",{className:"h-full flex-1 flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]  text-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:" hovered w-full p-[calc(0.3vw+0.4rem)] border-b border-[var(--border-color)] cursor-pointer pl-0",children:"Date"}),U.jsx("span",{className:"cursor-pointer hovered",children:"Sep 23, 2025"}),U.jsx("span",{className:"cursor-pointer hovered",children:"Sep 23, 2025"}),U.jsx("span",{className:"cursor-pointer hovered",children:"Oct 04, 2025"}),U.jsx("span",{className:"cursor-pointer hovered",children:"Oct 18, 2025"})]}),U.jsxs("div",{className:"h-full flex-1 flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]  text-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"hovered w-full p-[calc(0.3vw+0.4rem)] border-b border-[var(--border-color)] cursor-pointer pl-0",children:"Time"}),U.jsx("span",{className:"cursor-pointer hovered",children:"9:15 AM"}),U.jsx("span",{className:"cursor-pointer hovered",children:"1:20 PM"}),U.jsx("span",{className:"cursor-pointer hovered",children:"4:32 PM"}),U.jsx("span",{className:"cursor-pointer hovered",children:"8:44 PM"})]})]})]})]})]})}function R6({isDark:n}){const t=Lr();return U.jsxs("section",{id:"main",className:`${t?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
        
        flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[U.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[U.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Vehicle Information"}),U.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] bg-[var(--purple-color)] \r
                px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg cursor-pointer`,children:"Add Vehicle"})]}),U.jsx("div",{className:"flex-1 w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)] bordered"})]})}function C6({isDark:n,activeIndex:t,setActiveIndex:e,user:i}){const r=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicle"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-map bx-tada-hover hovered",title:"Trip"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],o=[U.jsx(aS,{isDark:n,user:i}),U.jsx(R6,{isDark:n})],c=Lr();return U.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            ${c?"h-auto":"h-screen"}
            fade-in w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]`,children:[!c&&U.jsx("section",{id:"side-nav",className:"h-full w-full flex-1",children:r.map((h,f)=>U.jsx("div",{className:`${t===f?"text-[var(--dark-color)] bg-[var(--border-color)]":""} flex flex-row items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] 
                        cursor-pointer transition duration-300 ease-in-out`,onClick:()=>e(f),children:U.jsx(vw,{icon:h.icon,title:h.title})},f))}),o[t]??U.jsx(aS,{isDark:n,user:i})]})}function I6({user:n}){const[t,e]=_e.useState(!0),[i,r]=_e.useState(0);return U.jsxs("div",{children:[U.jsx(w6,{isDark:t,setIsDark:e,activeIndex:i,setActiveIndex:r,user:n}),U.jsx(C6,{isDark:t,activeIndex:i,setActiveIndex:r,user:n})]})}function M6(){const[n,t]=_e.useState(!1),[e,i]=_e.useState(null);return U.jsxs("div",{children:[!n&&U.jsx(x6,{isLoggedIn:n,setIsLoggedIn:t,setUser:i}),n&&U.jsx(I6,{user:e})]})}aR.createRoot(document.getElementById("root")).render(U.jsx(_e.StrictMode,{children:U.jsx(M6,{})}));
