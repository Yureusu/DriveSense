(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function mR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eg={exports:{}},gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function gR(){if(gb)return gc;gb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return gc.Fragment=t,gc.jsx=e,gc.jsxs=e,gc}var pb;function pR(){return pb||(pb=1,Eg.exports=gR()),Eg.exports}var O=pR(),xg={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function _R(){if(_b)return wt;_b=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),T=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function L(U,tt,lt){this.props=U,this.context=tt,this.refs=I,this.updater=lt||R}L.prototype.isReactComponent={},L.prototype.setState=function(U,tt){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,tt,"setState")},L.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function G(){}G.prototype=L.prototype;function X(U,tt,lt){this.props=U,this.context=tt,this.refs=I,this.updater=lt||R}var Z=X.prototype=new G;Z.constructor=X,C(Z,L.prototype),Z.isPureReactComponent=!0;var W=Array.isArray;function rt(){}var M={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(U,tt,lt){var ct=lt.ref;return{$$typeof:n,type:U,key:tt,ref:ct!==void 0?ct:null,props:lt}}function P(U,tt){return D(U.type,tt,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function z(U){var tt={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(lt){return tt[lt]})}var N=/\/+/g;function Ot(U,tt){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):tt.toString(36)}function Et(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(rt,rt):(U.status="pending",U.then(function(tt){U.status==="pending"&&(U.status="fulfilled",U.value=tt)},function(tt){U.status==="pending"&&(U.status="rejected",U.reason=tt)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function K(U,tt,lt,ct,_t){var bt=typeof U;(bt==="undefined"||bt==="boolean")&&(U=null);var Ft=!1;if(U===null)Ft=!0;else switch(bt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(U.$$typeof){case n:case t:Ft=!0;break;case _:return Ft=U._init,K(Ft(U._payload),tt,lt,ct,_t)}}if(Ft)return _t=_t(U),Ft=ct===""?"."+Ot(U,0):ct,W(_t)?(lt="",Ft!=null&&(lt=Ft.replace(N,"$&/")+"/"),K(_t,tt,lt,"",function(jr){return jr})):_t!=null&&(k(_t)&&(_t=P(_t,lt+(_t.key==null||U&&U.key===_t.key?"":(""+_t.key).replace(N,"$&/")+"/")+Ft)),tt.push(_t)),1;Ft=0;var Pe=ct===""?".":ct+":";if(W(U))for(var fe=0;fe<U.length;fe++)ct=U[fe],bt=Pe+Ot(ct,fe),Ft+=K(ct,tt,lt,bt,_t);else if(fe=x(U),typeof fe=="function")for(U=fe.call(U),fe=0;!(ct=U.next()).done;)ct=ct.value,bt=Pe+Ot(ct,fe++),Ft+=K(ct,tt,lt,bt,_t);else if(bt==="object"){if(typeof U.then=="function")return K(Et(U),tt,lt,ct,_t);throw tt=String(U),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function at(U,tt,lt){if(U==null)return U;var ct=[],_t=0;return K(U,ct,"","",function(bt){return tt.call(lt,bt,_t++)}),ct}function ht(U){if(U._status===-1){var tt=U._result;tt=tt(),tt.then(function(lt){(U._status===0||U._status===-1)&&(U._status=1,U._result=lt)},function(lt){(U._status===0||U._status===-1)&&(U._status=2,U._result=lt)}),U._status===-1&&(U._status=0,U._result=tt)}if(U._status===1)return U._result.default;throw U._result}var vt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Vt={map:at,forEach:function(U,tt,lt){at(U,function(){tt.apply(this,arguments)},lt)},count:function(U){var tt=0;return at(U,function(){tt++}),tt},toArray:function(U){return at(U,function(tt){return tt})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return wt.Activity=y,wt.Children=Vt,wt.Component=L,wt.Fragment=e,wt.Profiler=r,wt.PureComponent=X,wt.StrictMode=i,wt.Suspense=f,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,wt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return M.H.useMemoCache(U)}},wt.cache=function(U){return function(){return U.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(U,tt,lt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ct=C({},U.props),_t=U.key;if(tt!=null)for(bt in tt.key!==void 0&&(_t=""+tt.key),tt)!w.call(tt,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&tt.ref===void 0||(ct[bt]=tt[bt]);var bt=arguments.length-2;if(bt===1)ct.children=lt;else if(1<bt){for(var Ft=Array(bt),Pe=0;Pe<bt;Pe++)Ft[Pe]=arguments[Pe+2];ct.children=Ft}return D(U.type,_t,ct)},wt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},wt.createElement=function(U,tt,lt){var ct,_t={},bt=null;if(tt!=null)for(ct in tt.key!==void 0&&(bt=""+tt.key),tt)w.call(tt,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(_t[ct]=tt[ct]);var Ft=arguments.length-2;if(Ft===1)_t.children=lt;else if(1<Ft){for(var Pe=Array(Ft),fe=0;fe<Ft;fe++)Pe[fe]=arguments[fe+2];_t.children=Pe}if(U&&U.defaultProps)for(ct in Ft=U.defaultProps,Ft)_t[ct]===void 0&&(_t[ct]=Ft[ct]);return D(U,bt,_t)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(U){return{$$typeof:h,render:U}},wt.isValidElement=k,wt.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:ht}},wt.memo=function(U,tt){return{$$typeof:m,type:U,compare:tt===void 0?null:tt}},wt.startTransition=function(U){var tt=M.T,lt={};M.T=lt;try{var ct=U(),_t=M.S;_t!==null&&_t(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(rt,vt)}catch(bt){vt(bt)}finally{tt!==null&&lt.types!==null&&(tt.types=lt.types),M.T=tt}},wt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},wt.use=function(U){return M.H.use(U)},wt.useActionState=function(U,tt,lt){return M.H.useActionState(U,tt,lt)},wt.useCallback=function(U,tt){return M.H.useCallback(U,tt)},wt.useContext=function(U){return M.H.useContext(U)},wt.useDebugValue=function(){},wt.useDeferredValue=function(U,tt){return M.H.useDeferredValue(U,tt)},wt.useEffect=function(U,tt){return M.H.useEffect(U,tt)},wt.useEffectEvent=function(U){return M.H.useEffectEvent(U)},wt.useId=function(){return M.H.useId()},wt.useImperativeHandle=function(U,tt,lt){return M.H.useImperativeHandle(U,tt,lt)},wt.useInsertionEffect=function(U,tt){return M.H.useInsertionEffect(U,tt)},wt.useLayoutEffect=function(U,tt){return M.H.useLayoutEffect(U,tt)},wt.useMemo=function(U,tt){return M.H.useMemo(U,tt)},wt.useOptimistic=function(U,tt){return M.H.useOptimistic(U,tt)},wt.useReducer=function(U,tt,lt){return M.H.useReducer(U,tt,lt)},wt.useRef=function(U){return M.H.useRef(U)},wt.useState=function(U){return M.H.useState(U)},wt.useSyncExternalStore=function(U,tt,lt){return M.H.useSyncExternalStore(U,tt,lt)},wt.useTransition=function(){return M.H.useTransition()},wt.version="19.2.0",wt}var yb;function Mp(){return yb||(yb=1,xg.exports=_R()),xg.exports}var Mt=Mp();const px=mR(Mt);var Sg={exports:{}},pc={},wg={exports:{}},Ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function yR(){return vb||(vb=1,(function(n){function t(K,at){var ht=K.length;K.push(at);t:for(;0<ht;){var vt=ht-1>>>1,Vt=K[vt];if(0<r(Vt,at))K[vt]=at,K[ht]=Vt,ht=vt;else break t}}function e(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var at=K[0],ht=K.pop();if(ht!==at){K[0]=ht;t:for(var vt=0,Vt=K.length,U=Vt>>>1;vt<U;){var tt=2*(vt+1)-1,lt=K[tt],ct=tt+1,_t=K[ct];if(0>r(lt,ht))ct<Vt&&0>r(_t,lt)?(K[vt]=_t,K[ct]=ht,vt=ct):(K[vt]=lt,K[tt]=ht,vt=tt);else if(ct<Vt&&0>r(_t,ht))K[vt]=_t,K[ct]=ht,vt=ct;else break t}}return at}function r(K,at){var ht=K.sortIndex-at.sortIndex;return ht!==0?ht:K.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],_=1,y=null,T=3,x=!1,R=!1,C=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function Z(K){for(var at=e(m);at!==null;){if(at.callback===null)i(m);else if(at.startTime<=K)i(m),at.sortIndex=at.expirationTime,t(f,at);else break;at=e(m)}}function W(K){if(C=!1,Z(K),!R)if(e(f)!==null)R=!0,rt||(rt=!0,z());else{var at=e(m);at!==null&&Et(W,at.startTime-K)}}var rt=!1,M=-1,w=5,D=-1;function P(){return I?!0:!(n.unstable_now()-D<w)}function k(){if(I=!1,rt){var K=n.unstable_now();D=K;var at=!0;try{t:{R=!1,C&&(C=!1,G(M),M=-1),x=!0;var ht=T;try{e:{for(Z(K),y=e(f);y!==null&&!(y.expirationTime>K&&P());){var vt=y.callback;if(typeof vt=="function"){y.callback=null,T=y.priorityLevel;var Vt=vt(y.expirationTime<=K);if(K=n.unstable_now(),typeof Vt=="function"){y.callback=Vt,Z(K),at=!0;break e}y===e(f)&&i(f),Z(K)}else i(f);y=e(f)}if(y!==null)at=!0;else{var U=e(m);U!==null&&Et(W,U.startTime-K),at=!1}}break t}finally{y=null,T=ht,x=!1}at=void 0}}finally{at?z():rt=!1}}}var z;if(typeof X=="function")z=function(){X(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ot=N.port2;N.port1.onmessage=k,z=function(){Ot.postMessage(null)}}else z=function(){L(k,0)};function Et(K,at){M=L(function(){K(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(K){switch(T){case 1:case 2:case 3:var at=3;break;default:at=T}var ht=T;T=at;try{return K()}finally{T=ht}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ht=T;T=K;try{return at()}finally{T=ht}},n.unstable_scheduleCallback=function(K,at,ht){var vt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?vt+ht:vt):ht=vt,K){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ht+Vt,K={id:_++,callback:at,priorityLevel:K,startTime:ht,expirationTime:Vt,sortIndex:-1},ht>vt?(K.sortIndex=ht,t(m,K),e(f)===null&&K===e(m)&&(C?(G(M),M=-1):C=!0,Et(W,ht-vt))):(K.sortIndex=Vt,t(f,K),R||x||(R=!0,rt||(rt=!0,z()))),K},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(K){var at=T;return function(){var ht=T;T=at;try{return K.apply(this,arguments)}finally{T=ht}}}})(Ag)),Ag}var bb;function vR(){return bb||(bb=1,wg.exports=yR()),wg.exports}var Rg={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function bR(){if(Tb)return sn;Tb=1;var n=Mp();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(f,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,_)},sn.flushSync=function(f){var m=c.T,_=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=_,i.d.f()}},sn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},sn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},sn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:T,fetchPriority:x}):_==="script"&&i.d.X(f,{crossOrigin:y,integrity:T,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},sn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin);i.d.L(f,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sn.preloadModule=function(f,m){if(typeof f=="string")if(m){var _=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},sn.requestFormReset=function(f){i.d.r(f)},sn.unstable_batchedUpdates=function(f,m){return f(m)},sn.useFormState=function(f,m,_){return c.H.useFormState(f,m,_)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var Eb;function TR(){if(Eb)return Rg.exports;Eb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Rg.exports=bR(),Rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function ER(){if(xb)return pc;xb=1;var n=vR(),t=Mp(),e=TR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var b=!1,S=g.child;S;){if(S===l){b=!0,l=g,u=p;break}if(S===u){b=!0,u=g,l=p;break}S=S.sibling}if(!b){for(S=p.child;S;){if(S===l){b=!0,l=p,u=g;break}if(S===u){b=!0,u=p,l=g;break}S=S.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function _(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=_(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),X=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function Ot(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case L:return"Profiler";case I:return"StrictMode";case W:return"Suspense";case rt:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case X:return s.displayName||"Context";case G:return(s._context.displayName||"Context")+".Consumer";case Z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:Ot(s.type)||"Memo";case w:a=s._payload,s=s._init;try{return Ot(s(a))}catch{}}return null}var Et=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},vt=[],Vt=-1;function U(s){return{current:s}}function tt(s){0>Vt||(s.current=vt[Vt],vt[Vt]=null,Vt--)}function lt(s,a){Vt++,vt[Vt]=s.current,s.current=a}var ct=U(null),_t=U(null),bt=U(null),Ft=U(null);function Pe(s,a){switch(lt(bt,a),lt(_t,s),lt(ct,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?z0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=z0(a),s=U0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}tt(ct),lt(ct,s)}function fe(){tt(ct),tt(_t),tt(bt)}function jr(s){s.memoizedState!==null&&lt(Ft,s);var a=ct.current,l=U0(a,s.type);a!==l&&(lt(_t,s),lt(ct,l))}function Ga(s){_t.current===s&&(tt(ct),tt(_t)),Ft.current===s&&(tt(Ft),hc._currentValue=ht)}var Ya,Ka;function bi(s){if(Ya===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ya=a&&a[1]||"",Ka=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ya+s+Ka}var hl=!1;function Br(s,a){if(!s||hl)return"";hl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var Y=$}Reflect.construct(s,[],nt)}else{try{nt.call()}catch($){Y=$}s.call(nt.prototype)}}else{try{throw Error()}catch($){Y=$}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],S=p[1];if(b&&S){var V=b.split(`
`),q=S.split(`
`);for(g=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;if(u===V.length||g===q.length)for(u=V.length-1,g=q.length-1;1<=u&&0<=g&&V[u]!==q[g];)g--;for(;1<=u&&0<=g;u--,g--)if(V[u]!==q[g]){if(u!==1||g!==1)do if(u--,g--,0>g||V[u]!==q[g]){var J=`
`+V[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=g);break}}}finally{hl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?bi(l):""}function fl(s,a){switch(s.tag){case 26:case 27:case 5:return bi(s.type);case 16:return bi("Lazy");case 13:return s.child!==a&&a!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Br(s.type,!1);case 11:return Br(s.type.render,!1);case 1:return Br(s.type,!0);case 31:return bi("Activity");default:return""}}function dl(s){try{var a="",l=null;do a+=fl(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var we=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,Us=n.unstable_cancelCallback,Sd=n.unstable_shouldYield,du=n.unstable_requestPaint,fn=n.unstable_now,Fr=n.unstable_getCurrentPriorityLevel,ml=n.unstable_ImmediatePriority,gl=n.unstable_UserBlockingPriority,js=n.unstable_NormalPriority,wd=n.unstable_LowPriority,mu=n.unstable_IdlePriority,gu=n.log,pu=n.unstable_setDisableYieldValue,ni=null,Xe=null;function kn(s){if(typeof gu=="function"&&pu(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ni,s)}catch{}}var ve=Math.clz32?Math.clz32:yu,_u=Math.log,Xa=Math.LN2;function yu(s){return s>>>=0,s===0?32:31-(_u(s)/Xa|0)|0}var Ti=256,Hr=262144,Ae=4194304;function Ei(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xi(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=Ei(u):(b&=S,b!==0?g=Ei(b):l||(l=S&~s,l!==0&&(g=Ei(l))))):(S=u&~p,S!==0?g=Ei(S):b!==0?g=Ei(b):l||(l=u&~s,l!==0&&(g=Ei(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function ii(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ad(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Si(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function qr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Rd(s,a,l,u,g,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,V=s.expirationTimes,q=s.hiddenUpdates;for(l=b&~l;0<l;){var J=31-ve(l),nt=1<<J;S[J]=0,V[J]=-1;var Y=q[J];if(Y!==null)for(q[J]=null,J=0;J<Y.length;J++){var $=Y[J];$!==null&&($.lane&=-536870913)}l&=~nt}u!==0&&Gr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~a))}function Gr(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-ve(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function pl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-ve(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function _l(s,a){var l=a&-a;return l=(l&42)!==0?1:Yr(l),(l&(s.suspendedLanes|a))!==0?0:l}function Yr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function rs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function bu(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:lb(s.type))}function si(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var ri=Math.random().toString(36).slice(2),Re="__reactFiber$"+ri,qe="__reactProps$"+ri,wi="__reactContainer$"+ri,Qa="__reactEvents$"+ri,Cd="__reactListeners$"+ri,Tu="__reactHandles$"+ri,Eu="__reactResources$"+ri,Ai="__reactMarker$"+ri;function $a(s){delete s[Re],delete s[qe],delete s[Qa],delete s[Cd],delete s[Tu]}function Ri(s){var a=s[Re];if(a)return a;for(var l=s.parentNode;l;){if(a=l[wi]||l[Re]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=Y0(s);s!==null;){if(l=s[Re])return l;s=Y0(s)}return a}s=l,l=s.parentNode}return null}function Vn(s){if(s=s[Re]||s[wi]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function wn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ci(s){var a=s[Eu];return a||(a=s[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ce(s){s[Ai]=!0}var yl=new Set,vl={};function Ii(s,a){Mi(s,a),Mi(s+"Capture",a)}function Mi(s,a){for(vl[s]=a,s=0;s<a.length;s++)yl.add(a[s])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},El={};function xu(s){return we.call(El,s)?!0:we.call(Tl,s)?!1:bl.test(s)?El[s]=!0:(Tl[s]=!0,!1)}function Wa(s,a,l){if(xu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function An(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ie(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Ge(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Bs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xl(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Wt(s){if(!s._valueTracker){var a=Bs(s)?"checked":"value";s._valueTracker=xl(s,a,""+s[a])}}function Kr(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Bs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Di(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Xr=/[\n"\\]/g;function gn(s){return s.replace(Xr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Za(s,a,l,u,g,p,b,S){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),a!=null?b==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ge(a)):s.value!==""+Ge(a)&&(s.value=""+Ge(a)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),a!=null?Sl(s,b,Ge(a)):l!=null?Sl(s,b,Ge(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Ge(S):s.removeAttribute("name")}function Su(s,a,l,u,g,p,b,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Wt(s);return}l=l!=null?""+Ge(l):"",a=a!=null?""+Ge(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),Wt(s)}function Sl(s,a,l){a==="number"&&Di(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Fs(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ge(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function wu(s,a,l){if(a!=null&&(a=""+Ge(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Ge(l):""}function Hs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Et(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ge(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Wt(s)}function pn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Au.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Al(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&wl(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&wl(s,p,a[p])}function Ja(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(s){return qs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ai(){}var Rl=null;function Pn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,Oi=null;function Qr(s){var a=Vn(s);if(a&&(s=a.stateNode)){var l=s[qe]||null;t:switch(s=a.stateNode,a.type){case"input":if(Za(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+gn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[qe]||null;if(!g)throw Error(i(90));Za(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&Kr(u)}break t;case"textarea":wu(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Fs(s,!!l.multiple,a,!1)}}}var eo=!1;function Ys(s,a,l){if(eo)return s(a,l);eo=!0;try{var u=s(a);return u}finally{if(eo=!1,(Gs!==null||Oi!==null)&&(bh(),Gs&&(a=Gs,s=Oi,Oi=Gs=null,Qr(a),s)))for(a=0;a<s.length;a++)Qr(s[a])}}function oi(s,a){var l=s.stateNode;if(l===null)return null;var u=l[qe]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(Ln)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){$r=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{$r=!1}var Ni=null,Cl=null,Wr=null;function Il(){if(Wr)return Wr;var s,a=Cl,l=a.length,u,g="value"in Ni?Ni.value:Ni.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var b=l-s;for(u=1;u<=b&&a[l-u]===g[p-u];u++);return Wr=g.slice(s,1<u?1-u:void 0)}function Zr(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function as(){return!0}function li(){return!1}function Qe(s){function a(l,u,g,p,b){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?as:li,this.isPropagationStopped=li,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),a}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Qe(os),Ks=y({},os,{view:0,detail:0}),Ml=Qe(Ks),Xs,no,Vi,io=y({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Vi&&(Vi&&s.type==="mousemove"?(Xs=s.screenX-Vi.screenX,no=s.screenY-Vi.screenY):no=Xs=0,Vi=s),Xs)},movementY:function(s){return"movementY"in s?s.movementY:no}}),Dl=Qe(io),Jr=y({},io,{dataTransfer:0}),Cu=Qe(Jr),Iu=y({},Ks,{relatedTarget:0}),ta=Qe(Iu),Ol=y({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=Qe(Ol),so=y({},os,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Du=Qe(so),Ou=y({},os,{data:0}),Pi=Qe(Ou),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Vu[s])?!!a[s]:!1}function Qs(){return Pu}var dn=y({},Ks,{key:function(s){if(s.key){var a=Nu[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Zr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ku[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(s){return s.type==="keypress"?Zr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Zr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Lu=Qe(dn),zu=y({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=Qe(zu),d=y({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),v=Qe(d),E=y({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Qe(E),F=y({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Qe(F),ot=y({},os,{newState:0,oldState:0}),Rt=Qe(ot),be=[9,13,27,32],Kt=Ln&&"CompositionEvent"in window,de=null;Ln&&"documentMode"in document&&(de=document.documentMode);var zn=Ln&&"TextEvent"in window&&!de,Li=Ln&&(!Kt||de&&8<de&&11>=de),ci=" ",ui=!1;function ea(s,a){switch(s){case"keyup":return be.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ao=!1;function z1(s,a){switch(s){case"compositionend":return ro(a);case"keypress":return a.which!==32?null:(ui=!0,ci);case"textInput":return s=a.data,s===ci&&ui?null:s;default:return null}}function U1(s,a){if(ao)return s==="compositionend"||!Kt&&ea(s,a)?(s=Il(),Wr=Cl=Ni=null,ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Li&&a.locale!=="ko"?null:a.data;default:return null}}var j1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!j1[s.type]:a==="textarea"}function $_(s,a,l,u){Gs?Oi?Oi.push(u):Oi=[u]:Gs=u,a=Rh(a,"onChange"),0<a.length&&(l=new ki("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Nl=null,kl=null;function B1(s){O0(s,0)}function Uu(s){var a=wn(s);if(Kr(a))return s}function W_(s,a){if(s==="change")return a}var Z_=!1;if(Ln){var Id;if(Ln){var Md="oninput"in document;if(!Md){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),Md=typeof J_.oninput=="function"}Id=Md}else Id=!1;Z_=Id&&(!document.documentMode||9<document.documentMode)}function ty(){Nl&&(Nl.detachEvent("onpropertychange",ey),kl=Nl=null)}function ey(s){if(s.propertyName==="value"&&Uu(kl)){var a=[];$_(a,kl,s,Pn(s)),Ys(B1,a)}}function F1(s,a,l){s==="focusin"?(ty(),Nl=a,kl=l,Nl.attachEvent("onpropertychange",ey)):s==="focusout"&&ty()}function H1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Uu(kl)}function q1(s,a){if(s==="click")return Uu(a)}function G1(s,a){if(s==="input"||s==="change")return Uu(a)}function Y1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Rn=typeof Object.is=="function"?Object.is:Y1;function Vl(s,a){if(Rn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!we.call(a,g)||!Rn(s[g],a[g]))return!1}return!0}function ny(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function iy(s,a){var l=ny(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=ny(l)}}function sy(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?sy(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ry(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Di(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Di(s.document)}return a}function Dd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var K1=Ln&&"documentMode"in document&&11>=document.documentMode,oo=null,Od=null,Pl=null,Nd=!1;function ay(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Nd||oo==null||oo!==Di(u)||(u=oo,"selectionStart"in u&&Dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pl&&Vl(Pl,u)||(Pl=u,u=Rh(Od,"onSelect"),0<u.length&&(a=new ki("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=oo)))}function na(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var lo={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},kd={},oy={};Ln&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ia(s){if(kd[s])return kd[s];if(!lo[s])return s;var a=lo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in oy)return kd[s]=a[l];return s}var ly=ia("animationend"),cy=ia("animationiteration"),uy=ia("animationstart"),X1=ia("transitionrun"),Q1=ia("transitionstart"),$1=ia("transitioncancel"),hy=ia("transitionend"),fy=new Map,Vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vd.push("scrollEnd");function hi(s,a){fy.set(s,a),Ii(a,[s])}var ju=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Un=[],co=0,Pd=0;function Bu(){for(var s=co,a=Pd=co=0;a<s;){var l=Un[a];Un[a++]=null;var u=Un[a];Un[a++]=null;var g=Un[a];Un[a++]=null;var p=Un[a];if(Un[a++]=null,u!==null&&g!==null){var b=u.pending;b===null?g.next=g:(g.next=b.next,b.next=g),u.pending=g}p!==0&&dy(l,g,p)}}function Fu(s,a,l,u){Un[co++]=s,Un[co++]=a,Un[co++]=l,Un[co++]=u,Pd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Ld(s,a,l,u){return Fu(s,a,l,u),Hu(s)}function sa(s,a){return Fu(s,null,null,a),Hu(s)}function dy(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-ve(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Hu(s){if(50<sc)throw sc=0,Ym=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var uo={};function W1(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(s,a,l,u){return new W1(s,a,l,u)}function zd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cs(s,a){var l=s.alternate;return l===null?(l=Cn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function my(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function qu(s,a,l,u,g,p){var b=0;if(u=s,typeof s=="function")zd(s)&&(b=1);else if(typeof s=="string")b=nR(s,l,ct.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=Cn(31,l,a,g),s.elementType=D,s.lanes=p,s;case C:return ra(l.children,g,p,a);case I:b=8,g|=24;break;case L:return s=Cn(12,l,a,g|2),s.elementType=L,s.lanes=p,s;case W:return s=Cn(13,l,a,g),s.elementType=W,s.lanes=p,s;case rt:return s=Cn(19,l,a,g),s.elementType=rt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:b=10;break t;case G:b=9;break t;case Z:b=11;break t;case M:b=14;break t;case w:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Cn(b,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function ra(s,a,l,u){return s=Cn(7,s,u,a),s.lanes=l,s}function Ud(s,a,l){return s=Cn(6,s,null,a),s.lanes=l,s}function gy(s){var a=Cn(18,null,null,0);return a.stateNode=s,a}function jd(s,a,l){return a=Cn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var py=new WeakMap;function jn(s,a){if(typeof s=="object"&&s!==null){var l=py.get(s);return l!==void 0?l:(a={value:s,source:a,stack:dl(a)},py.set(s,a),a)}return{value:s,source:a,stack:dl(a)}}var ho=[],fo=0,Gu=null,Ll=0,Bn=[],Fn=0,$s=null,zi=1,Ui="";function us(s,a){ho[fo++]=Ll,ho[fo++]=Gu,Gu=s,Ll=a}function _y(s,a,l){Bn[Fn++]=zi,Bn[Fn++]=Ui,Bn[Fn++]=$s,$s=s;var u=zi;s=Ui;var g=32-ve(u)-1;u&=~(1<<g),l+=1;var p=32-ve(a)+g;if(30<p){var b=g-g%5;p=(u&(1<<b)-1).toString(32),u>>=b,g-=b,zi=1<<32-ve(a)+g|l<<g|u,Ui=p+s}else zi=1<<p|l<<g|u,Ui=s}function Bd(s){s.return!==null&&(us(s,1),_y(s,1,0))}function Fd(s){for(;s===Gu;)Gu=ho[--fo],ho[fo]=null,Ll=ho[--fo],ho[fo]=null;for(;s===$s;)$s=Bn[--Fn],Bn[Fn]=null,Ui=Bn[--Fn],Bn[Fn]=null,zi=Bn[--Fn],Bn[Fn]=null}function yy(s,a){Bn[Fn++]=zi,Bn[Fn++]=Ui,Bn[Fn++]=$s,zi=a.id,Ui=a.overflow,$s=s}var $e=null,oe=null,Bt=!1,Ws=null,Hn=!1,Hd=Error(i(519));function Zs(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(jn(a,s)),Hd}function vy(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Re]=s,a[qe]=u,l){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(l=0;l<ac.length;l++)kt(ac[l],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),Su(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),Hs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||P0(a.textContent,l)?(u.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),u.onScroll!=null&&kt("scroll",a),u.onScrollEnd!=null&&kt("scrollend",a),u.onClick!=null&&(a.onclick=ai),a=!0):a=!1,a||Zs(s,!0)}function by(s){for($e=s.return;$e;)switch($e.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:$e=$e.return}}function mo(s){if(s!==$e)return!1;if(!Bt)return by(s),Bt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||og(s.type,s.memoizedProps)),l=!l),l&&oe&&Zs(s),by(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=G0(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=G0(s)}else a===27?(a=oe,fr(s.type)?(s=fg,fg=null,oe=s):oe=a):oe=$e?Gn(s.stateNode.nextSibling):null;return!0}function aa(){oe=$e=null,Bt=!1}function qd(){var s=Ws;return s!==null&&(bn===null?bn=s:bn.push.apply(bn,s),Ws=null),s}function zl(s){Ws===null?Ws=[s]:Ws.push(s)}var Gd=U(null),oa=null,hs=null;function Js(s,a,l){lt(Gd,a._currentValue),a._currentValue=l}function fs(s){s._currentValue=Gd.current,tt(Gd)}function Yd(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Kd(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var b=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var V=0;V<a.length;V++)if(S.context===a[V]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),Yd(p.return,l,s),u||(b=null);break t}p=S.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Yd(b,l,s),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function go(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=g.type;Rn(g.pendingProps.value,b.value)||(s!==null?s.push(S):s=[S])}}else if(g===Ft.current){if(b=g.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(hc):s=[hc])}g=g.return}s!==null&&Kd(a,s,l,u),a.flags|=262144}function Yu(s){for(s=s.firstContext;s!==null;){if(!Rn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function la(s){oa=s,hs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function We(s){return Ty(oa,s)}function Ku(s,a){return oa===null&&la(s),Ty(s,a)}function Ty(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},hs===null){if(s===null)throw Error(i(308));hs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else hs=hs.next=a;return l}var Z1=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},J1=n.unstable_scheduleCallback,tA=n.unstable_NormalPriority,Me={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new Z1,data:new Map,refCount:0}}function Ul(s){s.refCount--,s.refCount===0&&J1(tA,function(){s.controller.abort()})}var jl=null,Qd=0,po=0,_o=null;function eA(s,a){if(jl===null){var l=jl=[];Qd=0,po=Zm(),_o={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Qd++,a.then(Ey,Ey),a}function Ey(){if(--Qd===0&&jl!==null){_o!==null&&(_o.status="fulfilled");var s=jl;jl=null,po=0,_o=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function nA(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var xy=K.S;K.S=function(s,a){a0=fn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&eA(s,a),xy!==null&&xy(s,a)};var ca=U(null);function $d(){var s=ca.current;return s!==null?s:ae.pooledCache}function Xu(s,a){a===null?lt(ca,ca.current):lt(ca,a.pool)}function Sy(){var s=$d();return s===null?null:{parent:Me._currentValue,pool:s}}var yo=Error(i(460)),Wd=Error(i(474)),Qu=Error(i(542)),$u={then:function(){}};function wy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ay(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(ai,ai),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Cy(s),s;default:if(typeof a.status=="string")a.then(ai,ai);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Cy(s),s}throw ha=a,yo}}function ua(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ha=l,yo):l}}var ha=null;function Ry(){if(ha===null)throw Error(i(459));var s=ha;return ha=null,s}function Cy(s){if(s===yo||s===Qu)throw Error(i(483))}var vo=null,Bl=0;function Wu(s){var a=Bl;return Bl+=1,vo===null&&(vo=[]),Ay(vo,s,a)}function Fl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Zu(s,a){throw a.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Iy(s){function a(B,j){if(s){var H=B.deletions;H===null?(B.deletions=[j],B.flags|=16):H.push(j)}}function l(B,j){if(!s)return null;for(;j!==null;)a(B,j),j=j.sibling;return null}function u(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function g(B,j){return B=cs(B,j),B.index=0,B.sibling=null,B}function p(B,j,H){return B.index=H,s?(H=B.alternate,H!==null?(H=H.index,H<j?(B.flags|=67108866,j):H):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function b(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function S(B,j,H,et){return j===null||j.tag!==6?(j=Ud(H,B.mode,et),j.return=B,j):(j=g(j,H),j.return=B,j)}function V(B,j,H,et){var gt=H.type;return gt===C?J(B,j,H.props.children,et,H.key):j!==null&&(j.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&ua(gt)===j.type)?(j=g(j,H.props),Fl(j,H),j.return=B,j):(j=qu(H.type,H.key,H.props,null,B.mode,et),Fl(j,H),j.return=B,j)}function q(B,j,H,et){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=jd(H,B.mode,et),j.return=B,j):(j=g(j,H.children||[]),j.return=B,j)}function J(B,j,H,et,gt){return j===null||j.tag!==7?(j=ra(H,B.mode,et,gt),j.return=B,j):(j=g(j,H),j.return=B,j)}function nt(B,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ud(""+j,B.mode,H),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return H=qu(j.type,j.key,j.props,null,B.mode,H),Fl(H,j),H.return=B,H;case R:return j=jd(j,B.mode,H),j.return=B,j;case w:return j=ua(j),nt(B,j,H)}if(Et(j)||z(j))return j=ra(j,B.mode,H,null),j.return=B,j;if(typeof j.then=="function")return nt(B,Wu(j),H);if(j.$$typeof===X)return nt(B,Ku(B,j),H);Zu(B,j)}return null}function Y(B,j,H,et){var gt=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return gt!==null?null:S(B,j,""+H,et);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===gt?V(B,j,H,et):null;case R:return H.key===gt?q(B,j,H,et):null;case w:return H=ua(H),Y(B,j,H,et)}if(Et(H)||z(H))return gt!==null?null:J(B,j,H,et,null);if(typeof H.then=="function")return Y(B,j,Wu(H),et);if(H.$$typeof===X)return Y(B,j,Ku(B,H),et);Zu(B,H)}return null}function $(B,j,H,et,gt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(H)||null,S(j,B,""+et,gt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case x:return B=B.get(et.key===null?H:et.key)||null,V(j,B,et,gt);case R:return B=B.get(et.key===null?H:et.key)||null,q(j,B,et,gt);case w:return et=ua(et),$(B,j,H,et,gt)}if(Et(et)||z(et))return B=B.get(H)||null,J(j,B,et,gt,null);if(typeof et.then=="function")return $(B,j,H,Wu(et),gt);if(et.$$typeof===X)return $(B,j,H,Ku(j,et),gt);Zu(j,et)}return null}function ft(B,j,H,et){for(var gt=null,Gt=null,dt=j,It=j=0,Lt=null;dt!==null&&It<H.length;It++){dt.index>It?(Lt=dt,dt=null):Lt=dt.sibling;var Yt=Y(B,dt,H[It],et);if(Yt===null){dt===null&&(dt=Lt);break}s&&dt&&Yt.alternate===null&&a(B,dt),j=p(Yt,j,It),Gt===null?gt=Yt:Gt.sibling=Yt,Gt=Yt,dt=Lt}if(It===H.length)return l(B,dt),Bt&&us(B,It),gt;if(dt===null){for(;It<H.length;It++)dt=nt(B,H[It],et),dt!==null&&(j=p(dt,j,It),Gt===null?gt=dt:Gt.sibling=dt,Gt=dt);return Bt&&us(B,It),gt}for(dt=u(dt);It<H.length;It++)Lt=$(dt,B,It,H[It],et),Lt!==null&&(s&&Lt.alternate!==null&&dt.delete(Lt.key===null?It:Lt.key),j=p(Lt,j,It),Gt===null?gt=Lt:Gt.sibling=Lt,Gt=Lt);return s&&dt.forEach(function(_r){return a(B,_r)}),Bt&&us(B,It),gt}function yt(B,j,H,et){if(H==null)throw Error(i(151));for(var gt=null,Gt=null,dt=j,It=j=0,Lt=null,Yt=H.next();dt!==null&&!Yt.done;It++,Yt=H.next()){dt.index>It?(Lt=dt,dt=null):Lt=dt.sibling;var _r=Y(B,dt,Yt.value,et);if(_r===null){dt===null&&(dt=Lt);break}s&&dt&&_r.alternate===null&&a(B,dt),j=p(_r,j,It),Gt===null?gt=_r:Gt.sibling=_r,Gt=_r,dt=Lt}if(Yt.done)return l(B,dt),Bt&&us(B,It),gt;if(dt===null){for(;!Yt.done;It++,Yt=H.next())Yt=nt(B,Yt.value,et),Yt!==null&&(j=p(Yt,j,It),Gt===null?gt=Yt:Gt.sibling=Yt,Gt=Yt);return Bt&&us(B,It),gt}for(dt=u(dt);!Yt.done;It++,Yt=H.next())Yt=$(dt,B,It,Yt.value,et),Yt!==null&&(s&&Yt.alternate!==null&&dt.delete(Yt.key===null?It:Yt.key),j=p(Yt,j,It),Gt===null?gt=Yt:Gt.sibling=Yt,Gt=Yt);return s&&dt.forEach(function(dR){return a(B,dR)}),Bt&&us(B,It),gt}function re(B,j,H,et){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:t:{for(var gt=H.key;j!==null;){if(j.key===gt){if(gt=H.type,gt===C){if(j.tag===7){l(B,j.sibling),et=g(j,H.props.children),et.return=B,B=et;break t}}else if(j.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&ua(gt)===j.type){l(B,j.sibling),et=g(j,H.props),Fl(et,H),et.return=B,B=et;break t}l(B,j);break}else a(B,j);j=j.sibling}H.type===C?(et=ra(H.props.children,B.mode,et,H.key),et.return=B,B=et):(et=qu(H.type,H.key,H.props,null,B.mode,et),Fl(et,H),et.return=B,B=et)}return b(B);case R:t:{for(gt=H.key;j!==null;){if(j.key===gt)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){l(B,j.sibling),et=g(j,H.children||[]),et.return=B,B=et;break t}else{l(B,j);break}else a(B,j);j=j.sibling}et=jd(H,B.mode,et),et.return=B,B=et}return b(B);case w:return H=ua(H),re(B,j,H,et)}if(Et(H))return ft(B,j,H,et);if(z(H)){if(gt=z(H),typeof gt!="function")throw Error(i(150));return H=gt.call(H),yt(B,j,H,et)}if(typeof H.then=="function")return re(B,j,Wu(H),et);if(H.$$typeof===X)return re(B,j,Ku(B,H),et);Zu(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(l(B,j.sibling),et=g(j,H),et.return=B,B=et):(l(B,j),et=Ud(H,B.mode,et),et.return=B,B=et),b(B)):l(B,j)}return function(B,j,H,et){try{Bl=0;var gt=re(B,j,H,et);return vo=null,gt}catch(dt){if(dt===yo||dt===Qu)throw dt;var Gt=Cn(29,dt,null,B.mode);return Gt.lanes=et,Gt.return=B,Gt}finally{}}}var fa=Iy(!0),My=Iy(!1),tr=!1;function Zd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function er(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function nr(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Hu(s),dy(s,null,l),a}return Fu(s,u,a,l),Hu(s)}function Hl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,pl(s,l)}}function tm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var em=!1;function ql(){if(em){var s=_o;if(s!==null)throw s}}function Gl(s,a,l,u){em=!1;var g=s.updateQueue;tr=!1;var p=g.firstBaseUpdate,b=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var V=S,q=V.next;V.next=null,b===null?p=q:b.next=q,b=V;var J=s.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==b&&(S===null?J.firstBaseUpdate=q:S.next=q,J.lastBaseUpdate=V))}if(p!==null){var nt=g.baseState;b=0,J=q=V=null,S=p;do{var Y=S.lane&-536870913,$=Y!==S.lane;if($?(Pt&Y)===Y:(u&Y)===Y){Y!==0&&Y===po&&(em=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=s,yt=S;Y=a;var re=l;switch(yt.tag){case 1:if(ft=yt.payload,typeof ft=="function"){nt=ft.call(re,nt,Y);break t}nt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=yt.payload,Y=typeof ft=="function"?ft.call(re,nt,Y):ft,Y==null)break t;nt=y({},nt,Y);break t;case 2:tr=!0}}Y=S.callback,Y!==null&&(s.flags|=64,$&&(s.flags|=8192),$=g.callbacks,$===null?g.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(q=J=$,V=nt):J=J.next=$,b|=Y;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;$=S,S=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);J===null&&(V=nt),g.baseState=V,g.firstBaseUpdate=q,g.lastBaseUpdate=J,p===null&&(g.shared.lanes=0),or|=b,s.lanes=b,s.memoizedState=nt}}function Dy(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Oy(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Dy(l[s],a)}var bo=U(null),Ju=U(0);function Ny(s,a){s=Ts,lt(Ju,s),lt(bo,a),Ts=s|a.baseLanes}function nm(){lt(Ju,Ts),lt(bo,bo.current)}function im(){Ts=Ju.current,tt(bo),tt(Ju)}var In=U(null),qn=null;function ir(s){var a=s.alternate;lt(Te,Te.current&1),lt(In,s),qn===null&&(a===null||bo.current!==null||a.memoizedState!==null)&&(qn=s)}function sm(s){lt(Te,Te.current),lt(In,s),qn===null&&(qn=s)}function ky(s){s.tag===22?(lt(Te,Te.current),lt(In,s),qn===null&&(qn=s)):sr()}function sr(){lt(Te,Te.current),lt(In,In.current)}function Mn(s){tt(In),qn===s&&(qn=null),tt(Te)}var Te=U(0);function th(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ug(l)||hg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ds=0,Ct=null,ie=null,De=null,eh=!1,To=!1,da=!1,nh=0,Yl=0,Eo=null,iA=0;function pe(){throw Error(i(321))}function rm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Rn(s[l],a[l]))return!1;return!0}function am(s,a,l,u,g,p){return ds=p,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=s===null||s.memoizedState===null?_v:Tm,da=!1,p=l(u,g),da=!1,To&&(p=Py(a,l,u,g)),Vy(s),p}function Vy(s){K.H=Ql;var a=ie!==null&&ie.next!==null;if(ds=0,De=ie=Ct=null,eh=!1,Yl=0,Eo=null,a)throw Error(i(300));s===null||Oe||(s=s.dependencies,s!==null&&Yu(s)&&(Oe=!0))}function Py(s,a,l,u){Ct=s;var g=0;do{if(To&&(Eo=null),Yl=0,To=!1,25<=g)throw Error(i(301));if(g+=1,De=ie=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=yv,p=a(l,u)}while(To);return p}function sA(){var s=K.H,a=s.useState()[0];return a=typeof a.then=="function"?Kl(a):a,s=s.useState()[0],(ie!==null?ie.memoizedState:null)!==s&&(Ct.flags|=1024),a}function om(){var s=nh!==0;return nh=0,s}function lm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function cm(s){if(eh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}eh=!1}ds=0,De=ie=Ct=null,To=!1,Yl=nh=0,Eo=null}function mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ct.memoizedState=De=s:De=De.next=s,De}function Ee(){if(ie===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=ie.next;var a=De===null?Ct.memoizedState:De.next;if(a!==null)De=a,ie=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));ie=s,s={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},De===null?Ct.memoizedState=De=s:De=De.next=s}return De}function ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(s){var a=Yl;return Yl+=1,Eo===null&&(Eo=[]),s=Ay(Eo,s,a),a=Ct,(De===null?a.memoizedState:De.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?_v:Tm),s}function sh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Kl(s);if(s.$$typeof===X)return We(s)}throw Error(i(438,String(s)))}function um(s){var a=null,l=Ct.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ih(),Ct.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function ms(s,a){return typeof a=="function"?a(s):a}function rh(s){var a=Ee();return hm(a,ie,s)}function hm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var b=g.next;g.next=p.next,p.next=b}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var S=b=null,V=null,q=a,J=!1;do{var nt=q.lane&-536870913;if(nt!==q.lane?(Pt&nt)===nt:(ds&nt)===nt){var Y=q.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),nt===po&&(J=!0);else if((ds&Y)===Y){q=q.next,Y===po&&(J=!0);continue}else nt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(S=V=nt,b=p):V=V.next=nt,Ct.lanes|=Y,or|=Y;nt=q.action,da&&l(p,nt),p=q.hasEagerState?q.eagerState:l(p,nt)}else Y={lane:nt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(S=V=Y,b=p):V=V.next=Y,Ct.lanes|=nt,or|=nt;q=q.next}while(q!==null&&q!==a);if(V===null?b=p:V.next=S,!Rn(p,s.memoizedState)&&(Oe=!0,J&&(l=_o,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=V,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function fm(s){var a=Ee(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do p=s(p,b.action),b=b.next;while(b!==g);Rn(p,a.memoizedState)||(Oe=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function Ly(s,a,l){var u=Ct,g=Ee(),p=Bt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var b=!Rn((ie||g).memoizedState,l);if(b&&(g.memoizedState=l,Oe=!0),g=g.queue,gm(jy.bind(null,u,g,s),[s]),g.getSnapshot!==a||b||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,xo(9,{destroy:void 0},Uy.bind(null,u,g,l,a),null),ae===null)throw Error(i(349));p||(ds&127)!==0||zy(u,a,l)}return l}function zy(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ct.updateQueue,a===null?(a=ih(),Ct.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Uy(s,a,l,u){a.value=l,a.getSnapshot=u,By(a)&&Fy(s)}function jy(s,a,l){return l(function(){By(a)&&Fy(s)})}function By(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Rn(s,l)}catch{return!0}}function Fy(s){var a=sa(s,2);a!==null&&Tn(a,s,2)}function dm(s){var a=mn();if(typeof s=="function"){var l=s;if(s=l(),da){kn(!0);try{l()}finally{kn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:s},a}function Hy(s,a,l,u){return s.baseState=l,hm(s,ie,typeof u=="function"?u:ms)}function rA(s,a,l,u,g){if(lh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};K.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,qy(a,p)):(p.next=l.next,a.pending=l.next=p)}}function qy(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=K.T,b={};K.T=b;try{var S=l(g,u),V=K.S;V!==null&&V(b,S),Gy(s,a,S)}catch(q){mm(s,a,q)}finally{p!==null&&b.types!==null&&(p.types=b.types),K.T=p}}else try{p=l(g,u),Gy(s,a,p)}catch(q){mm(s,a,q)}}function Gy(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Yy(s,a,u)},function(u){return mm(s,a,u)}):Yy(s,a,l)}function Yy(s,a,l){a.status="fulfilled",a.value=l,Ky(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,qy(s,l)))}function mm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Ky(a),a=a.next;while(a!==u)}s.action=null}function Ky(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Xy(s,a){return a}function Qy(s,a){if(Bt){var l=ae.formState;if(l!==null){t:{var u=Ct;if(Bt){if(oe){e:{for(var g=oe,p=Hn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Gn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){oe=Gn(g.nextSibling),u=g.data==="F!";break t}}Zs(u)}u=!1}u&&(a=l[0])}}return l=mn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:a},l.queue=u,l=mv.bind(null,Ct,u),u.dispatch=l,u=dm(!1),p=bm.bind(null,Ct,!1,u.queue),u=mn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=rA.bind(null,Ct,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function $y(s){var a=Ee();return Wy(a,ie,s)}function Wy(s,a,l){if(a=hm(s,a,Xy)[0],s=rh(ms)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Kl(a)}catch(b){throw b===yo?Qu:b}else u=a;a=Ee();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(Ct.flags|=2048,xo(9,{destroy:void 0},aA.bind(null,g,l),null)),[u,p,s]}function aA(s,a){s.action=a}function Zy(s){var a=Ee(),l=ie;if(l!==null)return Wy(a,l,s);Ee(),a=a.memoizedState,l=Ee();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function xo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Ct.updateQueue,a===null&&(a=ih(),Ct.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Jy(){return Ee().memoizedState}function ah(s,a,l,u){var g=mn();Ct.flags|=s,g.memoizedState=xo(1|a,{destroy:void 0},l,u===void 0?null:u)}function oh(s,a,l,u){var g=Ee();u=u===void 0?null:u;var p=g.memoizedState.inst;ie!==null&&u!==null&&rm(u,ie.memoizedState.deps)?g.memoizedState=xo(a,p,l,u):(Ct.flags|=s,g.memoizedState=xo(1|a,p,l,u))}function tv(s,a){ah(8390656,8,s,a)}function gm(s,a){oh(2048,8,s,a)}function oA(s){Ct.flags|=4;var a=Ct.updateQueue;if(a===null)a=ih(),Ct.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function ev(s){var a=Ee().memoizedState;return oA({ref:a,nextImpl:s}),function(){if((Xt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function nv(s,a){return oh(4,2,s,a)}function iv(s,a){return oh(4,4,s,a)}function sv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function rv(s,a,l){l=l!=null?l.concat([s]):null,oh(4,4,sv.bind(null,a,s),l)}function pm(){}function av(s,a){var l=Ee();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&rm(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function ov(s,a){var l=Ee();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&rm(a,u[1]))return u[0];if(u=s(),da){kn(!0);try{s()}finally{kn(!1)}}return l.memoizedState=[u,a],u}function _m(s,a,l){return l===void 0||(ds&1073741824)!==0&&(Pt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=l0(),Ct.lanes|=s,or|=s,l)}function lv(s,a,l,u){return Rn(l,a)?l:bo.current!==null?(s=_m(s,l,u),Rn(s,a)||(Oe=!0),s):(ds&42)===0||(ds&1073741824)!==0&&(Pt&261930)===0?(Oe=!0,s.memoizedState=l):(s=l0(),Ct.lanes|=s,or|=s,a)}function cv(s,a,l,u,g){var p=at.p;at.p=p!==0&&8>p?p:8;var b=K.T,S={};K.T=S,bm(s,!1,a,l);try{var V=g(),q=K.S;if(q!==null&&q(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=nA(V,u);Xl(s,a,J,Nn(s))}else Xl(s,a,u,Nn(s))}catch(nt){Xl(s,a,{then:function(){},status:"rejected",reason:nt},Nn())}finally{at.p=p,b!==null&&S.types!==null&&(b.types=S.types),K.T=b}}function lA(){}function ym(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=uv(s).queue;cv(s,g,a,ht,l===null?lA:function(){return hv(s),l(u)})}function uv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ht},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function hv(s){var a=uv(s);a.next===null&&(a=s.alternate.memoizedState),Xl(s,a.next.queue,{},Nn())}function vm(){return We(hc)}function fv(){return Ee().memoizedState}function dv(){return Ee().memoizedState}function cA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Nn();s=er(l);var u=nr(a,s,l);u!==null&&(Tn(u,a,l),Hl(u,a,l)),a={cache:Xd()},s.payload=a;return}a=a.return}}function uA(s,a,l){var u=Nn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},lh(s)?gv(a,l):(l=Ld(s,a,l,u),l!==null&&(Tn(l,s,u),pv(l,a,u)))}function mv(s,a,l){var u=Nn();Xl(s,a,l,u)}function Xl(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(lh(s))gv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,S=p(b,l);if(g.hasEagerState=!0,g.eagerState=S,Rn(S,b))return Fu(s,a,g,0),ae===null&&Bu(),!1}catch{}finally{}if(l=Ld(s,a,g,u),l!==null)return Tn(l,s,u),pv(l,a,u),!0}return!1}function bm(s,a,l,u){if(u={lane:2,revertLane:Zm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lh(s)){if(a)throw Error(i(479))}else a=Ld(s,l,u,2),a!==null&&Tn(a,s,2)}function lh(s){var a=s.alternate;return s===Ct||a!==null&&a===Ct}function gv(s,a){To=eh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function pv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,pl(s,l)}}var Ql={readContext:We,use:sh,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Ql.useEffectEvent=pe;var _v={readContext:We,use:sh,useCallback:function(s,a){return mn().memoizedState=[s,a===void 0?null:a],s},useContext:We,useEffect:tv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,ah(4194308,4,sv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return ah(4194308,4,s,a)},useInsertionEffect:function(s,a){ah(4,2,s,a)},useMemo:function(s,a){var l=mn();a=a===void 0?null:a;var u=s();if(da){kn(!0);try{s()}finally{kn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=mn();if(l!==void 0){var g=l(a);if(da){kn(!0);try{l(a)}finally{kn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=uA.bind(null,Ct,s),[u.memoizedState,s]},useRef:function(s){var a=mn();return s={current:s},a.memoizedState=s},useState:function(s){s=dm(s);var a=s.queue,l=mv.bind(null,Ct,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:pm,useDeferredValue:function(s,a){var l=mn();return _m(l,s,a)},useTransition:function(){var s=dm(!1);return s=cv.bind(null,Ct,s.queue,!0,!1),mn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Ct,g=mn();if(Bt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ae===null)throw Error(i(349));(Pt&127)!==0||zy(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,tv(jy.bind(null,u,p,s),[s]),u.flags|=2048,xo(9,{destroy:void 0},Uy.bind(null,u,p,l,a),null),l},useId:function(){var s=mn(),a=ae.identifierPrefix;if(Bt){var l=Ui,u=zi;l=(u&~(1<<32-ve(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=nh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=iA++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:vm,useFormState:Qy,useActionState:Qy,useOptimistic:function(s){var a=mn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=bm.bind(null,Ct,!0,l),l.dispatch=a,[s,a]},useMemoCache:um,useCacheRefresh:function(){return mn().memoizedState=cA.bind(null,Ct)},useEffectEvent:function(s){var a=mn(),l={impl:s};return a.memoizedState=l,function(){if((Xt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Tm={readContext:We,use:sh,useCallback:av,useContext:We,useEffect:gm,useImperativeHandle:rv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:rh,useRef:Jy,useState:function(){return rh(ms)},useDebugValue:pm,useDeferredValue:function(s,a){var l=Ee();return lv(l,ie.memoizedState,s,a)},useTransition:function(){var s=rh(ms)[0],a=Ee().memoizedState;return[typeof s=="boolean"?s:Kl(s),a]},useSyncExternalStore:Ly,useId:fv,useHostTransitionStatus:vm,useFormState:$y,useActionState:$y,useOptimistic:function(s,a){var l=Ee();return Hy(l,ie,s,a)},useMemoCache:um,useCacheRefresh:dv};Tm.useEffectEvent=ev;var yv={readContext:We,use:sh,useCallback:av,useContext:We,useEffect:gm,useImperativeHandle:rv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:fm,useRef:Jy,useState:function(){return fm(ms)},useDebugValue:pm,useDeferredValue:function(s,a){var l=Ee();return ie===null?_m(l,s,a):lv(l,ie.memoizedState,s,a)},useTransition:function(){var s=fm(ms)[0],a=Ee().memoizedState;return[typeof s=="boolean"?s:Kl(s),a]},useSyncExternalStore:Ly,useId:fv,useHostTransitionStatus:vm,useFormState:Zy,useActionState:Zy,useOptimistic:function(s,a){var l=Ee();return ie!==null?Hy(l,ie,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:um,useCacheRefresh:dv};yv.useEffectEvent=ev;function Em(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var xm={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Nn(),g=er(u);g.payload=a,l!=null&&(g.callback=l),a=nr(s,g,u),a!==null&&(Tn(a,s,u),Hl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Nn(),g=er(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=nr(s,g,u),a!==null&&(Tn(a,s,u),Hl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Nn(),u=er(l);u.tag=2,a!=null&&(u.callback=a),a=nr(s,u,l),a!==null&&(Tn(a,s,l),Hl(a,s,l))}};function vv(s,a,l,u,g,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):a.prototype&&a.prototype.isPureReactComponent?!Vl(l,u)||!Vl(g,p):!0}function bv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&xm.enqueueReplaceState(a,a.state,null)}function ma(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function Tv(s){ju(s)}function Ev(s){console.error(s)}function xv(s){ju(s)}function ch(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Sv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Sm(s,a,l){return l=er(l),l.tag=3,l.payload={element:null},l.callback=function(){ch(s,a)},l}function wv(s){return s=er(s),s.tag=3,s}function Av(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){Sv(a,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){Sv(a,l,u),typeof g!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function hA(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&go(a,l,g,!0),l=In.current,l!==null){switch(l.tag){case 31:case 13:return qn===null?Th():l.alternate===null&&_e===0&&(_e=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===$u?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Qm(s,u,g)),!1;case 22:return l.flags|=65536,u===$u?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Qm(s,u,g)),!1}throw Error(i(435,l.tag))}return Qm(s,u,g),Th(),!1}if(Bt)return a=In.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==Hd&&(s=Error(i(422),{cause:u}),zl(jn(s,l)))):(u!==Hd&&(a=Error(i(423),{cause:u}),zl(jn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=jn(u,l),g=Sm(s.stateNode,u,g),tm(s,g),_e!==4&&(_e=2)),!1;var p=Error(i(520),{cause:u});if(p=jn(p,l),ic===null?ic=[p]:ic.push(p),_e!==4&&(_e=2),a===null)return!0;u=jn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Sm(l.stateNode,u,s),tm(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(lr===null||!lr.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=wv(g),Av(g,s,l,u),tm(l,g),!1}l=l.return}while(l!==null);return!1}var wm=Error(i(461)),Oe=!1;function Ze(s,a,l,u){a.child=s===null?My(a,null,l,u):fa(a,s.child,l,u)}function Rv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return la(a),u=am(s,a,l,b,p,g),S=om(),s!==null&&!Oe?(lm(s,a,g),gs(s,a,g)):(Bt&&S&&Bd(a),a.flags|=1,Ze(s,a,u,g),a.child)}function Cv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!zd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Iv(s,a,p,u,g)):(s=qu(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Nm(s,g)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Vl,l(b,u)&&s.ref===a.ref)return gs(s,a,g)}return a.flags|=1,s=cs(p,u),s.ref=a.ref,s.return=a,a.child=s}function Iv(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(Vl(p,u)&&s.ref===a.ref)if(Oe=!1,a.pendingProps=u=p,Nm(s,g))(s.flags&131072)!==0&&(Oe=!0);else return a.lanes=s.lanes,gs(s,a,g)}return Am(s,a,l,u,g)}function Mv(s,a,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Dv(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Xu(a,p!==null?p.cachePool:null),p!==null?Ny(a,p):nm(),ky(a);else return u=a.lanes=536870912,Dv(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Xu(a,p.cachePool),Ny(a,p),sr(),a.memoizedState=null):(s!==null&&Xu(a,null),nm(),sr());return Ze(s,a,g,l),a.child}function $l(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Dv(s,a,l,u,g){var p=$d();return p=p===null?null:{parent:Me._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Xu(a,null),nm(),ky(a),s!==null&&go(s,a,u,!0),a.childLanes=g,null}function uh(s,a){return a=fh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Ov(s,a,l){return fa(a,s.child,null,l),s=uh(a,a.pendingProps),s.flags|=2,Mn(a),a.memoizedState=null,s}function fA(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Bt){if(u.mode==="hidden")return s=uh(a,u),a.lanes=536870912,$l(null,s);if(sm(a),(s=oe)?(s=q0(s,Hn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:$s!==null?{id:zi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},l=gy(s),l.return=a,a.child=l,$e=a,oe=null)):s=null,s===null)throw Zs(a);return a.lanes=536870912,null}return uh(a,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(sm(a),g)if(a.flags&256)a.flags&=-257,a=Ov(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Oe||go(s,a,l,!1),g=(l&s.childLanes)!==0,Oe||g){if(u=ae,u!==null&&(b=_l(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,sa(s,b),Tn(u,s,b),wm;Th(),a=Ov(s,a,l)}else s=p.treeContext,oe=Gn(b.nextSibling),$e=a,Bt=!0,Ws=null,Hn=!1,s!==null&&yy(a,s),a=uh(a,u),a.flags|=4096;return a}return s=cs(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function hh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Am(s,a,l,u,g){return la(a),l=am(s,a,l,u,void 0,g),u=om(),s!==null&&!Oe?(lm(s,a,g),gs(s,a,g)):(Bt&&u&&Bd(a),a.flags|=1,Ze(s,a,l,g),a.child)}function Nv(s,a,l,u,g,p){return la(a),a.updateQueue=null,l=Py(a,u,l,g),Vy(s),u=om(),s!==null&&!Oe?(lm(s,a,p),gs(s,a,p)):(Bt&&u&&Bd(a),a.flags|=1,Ze(s,a,l,p),a.child)}function kv(s,a,l,u,g){if(la(a),a.stateNode===null){var p=uo,b=l.contextType;typeof b=="object"&&b!==null&&(p=We(b)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=xm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Zd(a),b=l.contextType,p.context=typeof b=="object"&&b!==null?We(b):uo,p.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Em(a,l,b,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&xm.enqueueReplaceState(p,p.state,null),Gl(a,u,p,g),ql(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var S=a.memoizedProps,V=ma(l,S);p.props=V;var q=p.context,J=l.contextType;b=uo,typeof J=="object"&&J!==null&&(b=We(J));var nt=l.getDerivedStateFromProps;J=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||q!==b)&&bv(a,p,u,b),tr=!1;var Y=a.memoizedState;p.state=Y,Gl(a,u,p,g),ql(),q=a.memoizedState,S||Y!==q||tr?(typeof nt=="function"&&(Em(a,l,nt,u),q=a.memoizedState),(V=tr||vv(a,l,V,u,Y,q,b))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=q),p.props=u,p.state=q,p.context=b,u=V):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Jd(s,a),b=a.memoizedProps,J=ma(l,b),p.props=J,nt=a.pendingProps,Y=p.context,q=l.contextType,V=uo,typeof q=="object"&&q!==null&&(V=We(q)),S=l.getDerivedStateFromProps,(q=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==nt||Y!==V)&&bv(a,p,u,V),tr=!1,Y=a.memoizedState,p.state=Y,Gl(a,u,p,g),ql();var $=a.memoizedState;b!==nt||Y!==$||tr||s!==null&&s.dependencies!==null&&Yu(s.dependencies)?(typeof S=="function"&&(Em(a,l,S,u),$=a.memoizedState),(J=tr||vv(a,l,J,u,Y,$,V)||s!==null&&s.dependencies!==null&&Yu(s.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,$,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,$,V)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=$),p.props=u,p.state=$,p.context=V,u=J):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,hh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=fa(a,s.child,null,g),a.child=fa(a,null,l,g)):Ze(s,a,l,g),a.memoizedState=p.state,s=a.child):s=gs(s,a,g),s}function Vv(s,a,l,u){return aa(),a.flags|=256,Ze(s,a,l,u),a.child}var Rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cm(s){return{baseLanes:s,cachePool:Sy()}}function Im(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=On),s}function Pv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),b&&(g=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,s===null){if(Bt){if(g?ir(a):sr(),(s=oe)?(s=q0(s,Hn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:$s!==null?{id:zi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},l=gy(s),l.return=a,a.child=l,$e=a,oe=null)):s=null,s===null)throw Zs(a);return hg(s)?a.lanes=32:a.lanes=536870912,null}var S=u.children;return u=u.fallback,g?(sr(),g=a.mode,S=fh({mode:"hidden",children:S},g),u=ra(u,g,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,u=a.child,u.memoizedState=Cm(l),u.childLanes=Im(s,b,l),a.memoizedState=Rm,$l(null,u)):(ir(a),Mm(a,S))}var V=s.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(p)a.flags&256?(ir(a),a.flags&=-257,a=Dm(s,a,l)):a.memoizedState!==null?(sr(),a.child=s.child,a.flags|=128,a=null):(sr(),S=u.fallback,g=a.mode,u=fh({mode:"visible",children:u.children},g),S=ra(S,g,l,null),S.flags|=2,u.return=a,S.return=a,u.sibling=S,a.child=u,fa(a,s.child,null,l),u=a.child,u.memoizedState=Cm(l),u.childLanes=Im(s,b,l),a.memoizedState=Rm,a=$l(null,u));else if(ir(a),hg(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var q=b.dgst;b=q,u=Error(i(419)),u.stack="",u.digest=b,zl({value:u,source:null,stack:null}),a=Dm(s,a,l)}else if(Oe||go(s,a,l,!1),b=(l&s.childLanes)!==0,Oe||b){if(b=ae,b!==null&&(u=_l(b,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,sa(s,u),Tn(b,s,u),wm;ug(S)||Th(),a=Dm(s,a,l)}else ug(S)?(a.flags|=192,a.child=s.child,a=null):(s=V.treeContext,oe=Gn(S.nextSibling),$e=a,Bt=!0,Ws=null,Hn=!1,s!==null&&yy(a,s),a=Mm(a,u.children),a.flags|=4096);return a}return g?(sr(),S=u.fallback,g=a.mode,V=s.child,q=V.sibling,u=cs(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,q!==null?S=cs(q,S):(S=ra(S,g,l,null),S.flags|=2),S.return=a,u.return=a,u.sibling=S,a.child=u,$l(null,u),u=a.child,S=s.child.memoizedState,S===null?S=Cm(l):(g=S.cachePool,g!==null?(V=Me._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=Sy(),S={baseLanes:S.baseLanes|l,cachePool:g}),u.memoizedState=S,u.childLanes=Im(s,b,l),a.memoizedState=Rm,$l(s.child,u)):(ir(a),l=s.child,s=l.sibling,l=cs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(b=a.deletions,b===null?(a.deletions=[s],a.flags|=16):b.push(s)),a.child=l,a.memoizedState=null,l)}function Mm(s,a){return a=fh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function fh(s,a){return s=Cn(22,s,null,a),s.lanes=0,s}function Dm(s,a,l){return fa(a,s.child,null,l),s=Mm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Lv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Yd(s.return,a,l)}function Om(s,a,l,u,g,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=g,b.treeForkCount=p)}function zv(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var b=Te.current,S=(b&2)!==0;if(S?(b=b&1|2,a.flags|=128):b&=1,lt(Te,b),Ze(s,a,u,l),u=Bt?Ll:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lv(s,l,a);else if(s.tag===19)Lv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&th(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Om(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&th(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Om(a,!0,l,null,p,u);break;case"together":Om(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function gs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),or|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(go(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=cs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=cs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Nm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Yu(s)))}function dA(s,a,l){switch(a.tag){case 3:Pe(a,a.stateNode.containerInfo),Js(a,Me,s.memoizedState.cache),aa();break;case 27:case 5:jr(a);break;case 4:Pe(a,a.stateNode.containerInfo);break;case 10:Js(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,sm(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ir(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Pv(s,a,l):(ir(a),s=gs(s,a,l),s!==null?s.sibling:null);ir(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(go(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return zv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(Te,Te.current),u)break;return null;case 22:return a.lanes=0,Mv(s,a,l,a.pendingProps);case 24:Js(a,Me,s.memoizedState.cache)}return gs(s,a,l)}function Uv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Oe=!0;else{if(!Nm(s,l)&&(a.flags&128)===0)return Oe=!1,dA(s,a,l);Oe=(s.flags&131072)!==0}else Oe=!1,Bt&&(a.flags&1048576)!==0&&_y(a,Ll,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=ua(a.elementType),a.type=s,typeof s=="function")zd(s)?(u=ma(s,u),a.tag=1,a=kv(null,a,s,u,l)):(a.tag=0,a=Am(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===Z){a.tag=11,a=Rv(null,a,s,u,l);break t}else if(g===M){a.tag=14,a=Cv(null,a,s,u,l);break t}}throw a=Ot(s)||s,Error(i(306,a,""))}}return a;case 0:return Am(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=ma(u,a.pendingProps),kv(s,a,u,g,l);case 3:t:{if(Pe(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,Jd(s,a),Gl(a,u,null,l);var b=a.memoizedState;if(u=b.cache,Js(a,Me,u),u!==p.cache&&Kd(a,[Me],l,!0),ql(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Vv(s,a,u,l);break t}else if(u!==g){g=jn(Error(i(424)),a),zl(g),a=Vv(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(oe=Gn(s.firstChild),$e=a,Bt=!0,Ws=null,Hn=!0,l=My(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(aa(),u===g){a=gs(s,a,l);break t}Ze(s,a,u,l)}a=a.child}return a;case 26:return hh(s,a),s===null?(l=$0(a.type,null,a.pendingProps,null))?a.memoizedState=l:Bt||(l=a.type,s=a.pendingProps,u=Ch(bt.current).createElement(l),u[Re]=a,u[qe]=s,Je(u,l,s),Ce(u),a.stateNode=u):a.memoizedState=$0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return jr(a),s===null&&Bt&&(u=a.stateNode=K0(a.type,a.pendingProps,bt.current),$e=a,Hn=!0,g=oe,fr(a.type)?(fg=g,oe=Gn(u.firstChild)):oe=g),Ze(s,a,a.pendingProps.children,l),hh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Bt&&((g=u=oe)&&(u=HA(u,a.type,a.pendingProps,Hn),u!==null?(a.stateNode=u,$e=a,oe=Gn(u.firstChild),Hn=!1,g=!0):g=!1),g||Zs(a)),jr(a),g=a.type,p=a.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,og(g,p)?u=null:b!==null&&og(g,b)&&(a.flags|=32),a.memoizedState!==null&&(g=am(s,a,sA,null,null,l),hc._currentValue=g),hh(s,a),Ze(s,a,u,l),a.child;case 6:return s===null&&Bt&&((s=l=oe)&&(l=qA(l,a.pendingProps,Hn),l!==null?(a.stateNode=l,$e=a,oe=null,s=!0):s=!1),s||Zs(a)),null;case 13:return Pv(s,a,l);case 4:return Pe(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=fa(a,null,u,l):Ze(s,a,u,l),a.child;case 11:return Rv(s,a,a.type,a.pendingProps,l);case 7:return Ze(s,a,a.pendingProps,l),a.child;case 8:return Ze(s,a,a.pendingProps.children,l),a.child;case 12:return Ze(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Js(a,a.type,u.value),Ze(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,la(a),g=We(g),u=u(g),a.flags|=1,Ze(s,a,u,l),a.child;case 14:return Cv(s,a,a.type,a.pendingProps,l);case 15:return Iv(s,a,a.type,a.pendingProps,l);case 19:return zv(s,a,l);case 31:return fA(s,a,l);case 22:return Mv(s,a,l,a.pendingProps);case 24:return la(a),u=We(Me),s===null?(g=$d(),g===null&&(g=ae,p=Xd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},Zd(a),Js(a,Me,g)):((s.lanes&l)!==0&&(Jd(s,a),Gl(a,null,null,l),ql()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Js(a,Me,u)):(u=p.cache,Js(a,Me,u),u!==g.cache&&Kd(a,[Me],l,!0))),Ze(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ps(s){s.flags|=4}function km(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(f0())s.flags|=8192;else throw ha=$u,Wd}else s.flags&=-16777217}function jv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!eb(a))if(f0())s.flags|=8192;else throw ha=$u,Wd}function dh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?vu():536870912,s.lanes|=a,Ro|=a)}function Wl(s,a){if(!Bt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function le(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function mA(s,a,l){var u=a.pendingProps;switch(Fd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(a),null;case 1:return le(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),fs(Me),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(mo(a)?ps(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qd())),le(a),null;case 26:var g=a.type,p=a.memoizedState;return s===null?(ps(a),p!==null?(le(a),jv(a,p)):(le(a),km(a,g,null,u,l))):p?p!==s.memoizedState?(ps(a),le(a),jv(a,p)):(le(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&ps(a),le(a),km(a,g,s,u,l)),null;case 27:if(Ga(a),l=bt.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ps(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}s=ct.current,mo(a)?vy(a):(s=K0(g,u,l),a.stateNode=s,ps(a))}return le(a),null;case 5:if(Ga(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ps(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}if(p=ct.current,mo(a))vy(a);else{var b=Ch(bt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(g,{is:u.is}):b.createElement(g)}}p[Re]=a,p[qe]=u;t:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break t;for(;b.sibling===null;){if(b.return===null||b.return===a)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;t:switch(Je(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ps(a)}}return le(a),km(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ps(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=bt.current,mo(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=$e,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Re]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||P0(s.nodeValue,l)),s||Zs(a,!0)}else s=Ch(s).createTextNode(u),s[Re]=a,a.stateNode=s}return le(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=mo(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Re]=a}else aa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),s=!1}else l=qd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Mn(a),a):(Mn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return le(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=mo(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Re]=a}else aa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),g=!1}else g=qd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Mn(a),a):(Mn(a),null)}return Mn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),dh(a,a.updateQueue),le(a),null);case 4:return fe(),s===null&&ng(a.stateNode.containerInfo),le(a),null;case 10:return fs(a.type),le(a),null;case 19:if(tt(Te),u=a.memoizedState,u===null)return le(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)Wl(u,!1);else{if(_e!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=th(s),p!==null){for(a.flags|=128,Wl(u,!1),s=p.updateQueue,a.updateQueue=s,dh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)my(l,s),l=l.sibling;return lt(Te,Te.current&1|2),Bt&&us(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&fn()>yh&&(a.flags|=128,g=!0,Wl(u,!1),a.lanes=4194304)}else{if(!g)if(s=th(p),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,dh(a,s),Wl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Bt)return le(a),null}else 2*fn()-u.renderingStartTime>yh&&l!==536870912&&(a.flags|=128,g=!0,Wl(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=fn(),s.sibling=null,l=Te.current,lt(Te,g?l&1|2:l&1),Bt&&us(a,u.treeForkCount),s):(le(a),null);case 22:case 23:return Mn(a),im(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(le(a),a.subtreeFlags&6&&(a.flags|=8192)):le(a),l=a.updateQueue,l!==null&&dh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&tt(ca),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),fs(Me),le(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function gA(s,a){switch(Fd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return fs(Me),fe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ga(a),null;case 31:if(a.memoizedState!==null){if(Mn(a),a.alternate===null)throw Error(i(340));aa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Mn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));aa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return tt(Te),null;case 4:return fe(),null;case 10:return fs(a.type),null;case 22:case 23:return Mn(a),im(),s!==null&&tt(ca),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return fs(Me),null;case 25:return null;default:return null}}function Bv(s,a){switch(Fd(a),a.tag){case 3:fs(Me),fe();break;case 26:case 27:case 5:Ga(a);break;case 4:fe();break;case 31:a.memoizedState!==null&&Mn(a);break;case 13:Mn(a);break;case 19:tt(Te);break;case 10:fs(a.type);break;case 22:case 23:Mn(a),im(),s!==null&&tt(ca);break;case 24:fs(Me)}}function Zl(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==g)}}catch(S){Jt(a,a.return,S)}}function rr(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,g=a;var V=l,q=S;try{q()}catch(J){Jt(g,V,J)}}}u=u.next}while(u!==p)}}catch(J){Jt(a,a.return,J)}}function Fv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Oy(a,l)}catch(u){Jt(s,s.return,u)}}}function Hv(s,a,l){l.props=ma(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,a,u)}}function Jl(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,a,g)}}function ji(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,a,g)}else l.current=null}function qv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function Vm(s,a,l){try{var u=s.stateNode;LA(u,s.type,l,a),u[qe]=a}catch(g){Jt(s,s.return,g)}}function Gv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&fr(s.type)||s.tag===4}function Pm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Gv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&fr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ai));else if(u!==4&&(u===27&&fr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Lm(s,a,l),s=s.sibling;s!==null;)Lm(s,a,l),s=s.sibling}function mh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&fr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(mh(s,a,l),s=s.sibling;s!==null;)mh(s,a,l),s=s.sibling}function Yv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Je(a,u,l),a[Re]=s,a[qe]=l}catch(p){Jt(s,s.return,p)}}var _s=!1,Ne=!1,zm=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function pA(s,a){if(s=s.containerInfo,rg=Vh,s=ry(s),Dd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,S=-1,V=-1,q=0,J=0,nt=s,Y=null;e:for(;;){for(var $;nt!==l||g!==0&&nt.nodeType!==3||(S=b+g),nt!==p||u!==0&&nt.nodeType!==3||(V=b+u),nt.nodeType===3&&(b+=nt.nodeValue.length),($=nt.firstChild)!==null;)Y=nt,nt=$;for(;;){if(nt===s)break e;if(Y===l&&++q===g&&(S=b),Y===p&&++J===u&&(V=b),($=nt.nextSibling)!==null)break;nt=Y,Y=nt.parentNode}nt=$}l=S===-1||V===-1?null:{start:S,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(ag={focusedElem:s,selectionRange:l},Vh=!1,Ye=a;Ye!==null;)if(a=Ye,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ye=s;else for(;Ye!==null;){switch(a=Ye,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ft=ma(l.type,g);s=u.getSnapshotBeforeUpdate(ft,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(yt){Jt(l,l.return,yt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)cg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":cg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ye=s;break}Ye=a.return}}function Xv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:vs(s,l),u&4&&Zl(5,l);break;case 1:if(vs(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(b){Jt(l,l.return,b)}else{var g=ma(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(l,l.return,b)}}u&64&&Fv(l),u&512&&Jl(l,l.return);break;case 3:if(vs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Oy(s,a)}catch(b){Jt(l,l.return,b)}}break;case 27:a===null&&u&4&&Yv(l);case 26:case 5:vs(s,l),a===null&&u&4&&qv(l),u&512&&Jl(l,l.return);break;case 12:vs(s,l);break;case 31:vs(s,l),u&4&&Wv(s,l);break;case 13:vs(s,l),u&4&&Zv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=wA.bind(null,l),GA(s,l))));break;case 22:if(u=l.memoizedState!==null||_s,!u){a=a!==null&&a.memoizedState!==null||Ne,g=_s;var p=Ne;_s=u,(Ne=a)&&!p?bs(s,l,(l.subtreeFlags&8772)!==0):vs(s,l),_s=g,Ne=p}break;case 30:break;default:vs(s,l)}}function Qv(s){var a=s.alternate;a!==null&&(s.alternate=null,Qv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&$a(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var me=null,_n=!1;function ys(s,a,l){for(l=l.child;l!==null;)$v(s,a,l),l=l.sibling}function $v(s,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ni,l)}catch{}switch(l.tag){case 26:Ne||ji(l,a),ys(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ne||ji(l,a);var u=me,g=_n;fr(l.type)&&(me=l.stateNode,_n=!1),ys(s,a,l),lc(l.stateNode),me=u,_n=g;break;case 5:Ne||ji(l,a);case 6:if(u=me,g=_n,me=null,ys(s,a,l),me=u,_n=g,me!==null)if(_n)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(l.stateNode)}catch(p){Jt(l,a,p)}else try{me.removeChild(l.stateNode)}catch(p){Jt(l,a,p)}break;case 18:me!==null&&(_n?(s=me,F0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Vo(s)):F0(me,l.stateNode));break;case 4:u=me,g=_n,me=l.stateNode.containerInfo,_n=!0,ys(s,a,l),me=u,_n=g;break;case 0:case 11:case 14:case 15:rr(2,l,a),Ne||rr(4,l,a),ys(s,a,l);break;case 1:Ne||(ji(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Hv(l,a,u)),ys(s,a,l);break;case 21:ys(s,a,l);break;case 22:Ne=(u=Ne)||l.memoizedState!==null,ys(s,a,l),Ne=u;break;default:ys(s,a,l)}}function Wv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Vo(s)}catch(l){Jt(a,a.return,l)}}}function Zv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vo(s)}catch(l){Jt(a,a.return,l)}}function _A(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Kv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Kv),a;default:throw Error(i(435,s.tag))}}function gh(s,a){var l=_A(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=AA.bind(null,s,u);u.then(g,g)}})}function yn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,b=a,S=b;t:for(;S!==null;){switch(S.tag){case 27:if(fr(S.type)){me=S.stateNode,_n=!1;break t}break;case 5:me=S.stateNode,_n=!1;break t;case 3:case 4:me=S.stateNode.containerInfo,_n=!0;break t}S=S.return}if(me===null)throw Error(i(160));$v(p,b,g),me=null,_n=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Jv(a,s),a=a.sibling}var fi=null;function Jv(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:yn(a,s),vn(s),u&4&&(rr(3,s,s.return),Zl(3,s),rr(5,s,s.return));break;case 1:yn(a,s),vn(s),u&512&&(Ne||l===null||ji(l,l.return)),u&64&&_s&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=fi;if(yn(a,s),vn(s),u&512&&(Ne||l===null||ji(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Ai]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Je(p,u,l),p[Re]=s,Ce(p),u=p;break t;case"link":var b=J0("link","href",g).get(u+(l.href||""));if(b){for(var S=0;S<b.length;S++)if(p=b[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(S,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;case"meta":if(b=J0("meta","content",g).get(u+(l.content||""))){for(S=0;S<b.length;S++)if(p=b[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(S,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Re]=s,Ce(p),u=p}s.stateNode=u}else tb(g,s.type,s.stateNode);else s.stateNode=Z0(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?tb(g,s.type,s.stateNode):Z0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Vm(s,s.memoizedProps,l.memoizedProps)}break;case 27:yn(a,s),vn(s),u&512&&(Ne||l===null||ji(l,l.return)),l!==null&&u&4&&Vm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(yn(a,s),vn(s),u&512&&(Ne||l===null||ji(l,l.return)),s.flags&32){g=s.stateNode;try{pn(g,"")}catch(ft){Jt(s,s.return,ft)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Vm(s,g,l!==null?l.memoizedProps:g)),u&1024&&(zm=!0);break;case 6:if(yn(a,s),vn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ft){Jt(s,s.return,ft)}}break;case 3:if(Dh=null,g=fi,fi=Ih(a.containerInfo),yn(a,s),fi=g,vn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Vo(a.containerInfo)}catch(ft){Jt(s,s.return,ft)}zm&&(zm=!1,t0(s));break;case 4:u=fi,fi=Ih(s.stateNode.containerInfo),yn(a,s),vn(s),fi=u;break;case 12:yn(a,s),vn(s);break;case 31:yn(a,s),vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 13:yn(a,s),vn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_h=fn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 22:g=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,q=_s,J=Ne;if(_s=q||g,Ne=J||V,yn(a,s),Ne=J,_s=q,vn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||V||_s||Ne||ga(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){V=l=a;try{if(p=V.stateNode,g)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=V.stateNode;var nt=V.memoizedProps.style,Y=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ft){Jt(V,V.return,ft)}}}else if(a.tag===6){if(l===null){V=a;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(ft){Jt(V,V.return,ft)}}}else if(a.tag===18){if(l===null){V=a;try{var $=V.stateNode;g?H0($,!0):H0(V.stateNode,!1)}catch(ft){Jt(V,V.return,ft)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,gh(s,l))));break;case 19:yn(a,s),vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 30:break;case 21:break;default:yn(a,s),vn(s)}}function vn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Gv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=Pm(s);mh(s,p,g);break;case 5:var b=l.stateNode;l.flags&32&&(pn(b,""),l.flags&=-33);var S=Pm(s);mh(s,S,b);break;case 3:case 4:var V=l.stateNode.containerInfo,q=Pm(s);Lm(s,q,V);break;default:throw Error(i(161))}}catch(J){Jt(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function t0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;t0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function vs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Xv(s,a.alternate,a),a=a.sibling}function ga(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:rr(4,a,a.return),ga(a);break;case 1:ji(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Hv(a,a.return,l),ga(a);break;case 27:lc(a.stateNode);case 26:case 5:ji(a,a.return),ga(a);break;case 22:a.memoizedState===null&&ga(a);break;case 30:ga(a);break;default:ga(a)}s=s.sibling}}function bs(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:bs(g,p,l),Zl(4,p);break;case 1:if(bs(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(q){Jt(u,u.return,q)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)Dy(V[g],S)}catch(q){Jt(u,u.return,q)}}l&&b&64&&Fv(p),Jl(p,p.return);break;case 27:Yv(p);case 26:case 5:bs(g,p,l),l&&u===null&&b&4&&qv(p),Jl(p,p.return);break;case 12:bs(g,p,l);break;case 31:bs(g,p,l),l&&b&4&&Wv(g,p);break;case 13:bs(g,p,l),l&&b&4&&Zv(g,p);break;case 22:p.memoizedState===null&&bs(g,p,l),Jl(p,p.return);break;case 30:break;default:bs(g,p,l)}a=a.sibling}}function Um(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ul(l))}function jm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ul(s))}function di(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)e0(s,a,l,u),a=a.sibling}function e0(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:di(s,a,l,u),g&2048&&Zl(9,a);break;case 1:di(s,a,l,u);break;case 3:di(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ul(s)));break;case 12:if(g&2048){di(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,b=p.id,S=p.onPostCommit;typeof S=="function"&&S(b,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){Jt(a,a.return,V)}}else di(s,a,l,u);break;case 31:di(s,a,l,u);break;case 13:di(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?di(s,a,l,u):tc(s,a):p._visibility&2?di(s,a,l,u):(p._visibility|=2,So(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Um(b,a);break;case 24:di(s,a,l,u),g&2048&&jm(a.alternate,a);break;default:di(s,a,l,u)}}function So(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,b=a,S=l,V=u,q=b.flags;switch(b.tag){case 0:case 11:case 15:So(p,b,S,V,g),Zl(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?So(p,b,S,V,g):tc(p,b):(J._visibility|=2,So(p,b,S,V,g)),g&&q&2048&&Um(b.alternate,b);break;case 24:So(p,b,S,V,g),g&&q&2048&&jm(b.alternate,b);break;default:So(p,b,S,V,g)}a=a.sibling}}function tc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:tc(l,u),g&2048&&Um(u.alternate,u);break;case 24:tc(l,u),g&2048&&jm(u.alternate,u);break;default:tc(l,u)}a=a.sibling}}var ec=8192;function wo(s,a,l){if(s.subtreeFlags&ec)for(s=s.child;s!==null;)n0(s,a,l),s=s.sibling}function n0(s,a,l){switch(s.tag){case 26:wo(s,a,l),s.flags&ec&&s.memoizedState!==null&&iR(l,fi,s.memoizedState,s.memoizedProps);break;case 5:wo(s,a,l);break;case 3:case 4:var u=fi;fi=Ih(s.stateNode.containerInfo),wo(s,a,l),fi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=ec,ec=16777216,wo(s,a,l),ec=u):wo(s,a,l));break;default:wo(s,a,l)}}function i0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function nc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,r0(u,s)}i0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)s0(s),s=s.sibling}function s0(s){switch(s.tag){case 0:case 11:case 15:nc(s),s.flags&2048&&rr(9,s,s.return);break;case 3:nc(s);break;case 12:nc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,ph(s)):nc(s);break;default:nc(s)}}function ph(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,r0(u,s)}i0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:rr(8,a,a.return),ph(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ph(a));break;default:ph(a)}s=s.sibling}}function r0(s,a){for(;Ye!==null;){var l=Ye;switch(l.tag){case 0:case 11:case 15:rr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ye=u;else t:for(l=s;Ye!==null;){u=Ye;var g=u.sibling,p=u.return;if(Qv(u),u===l){Ye=null;break t}if(g!==null){g.return=p,Ye=g;break t}Ye=p}}}var yA={getCacheForType:function(s){var a=We(Me),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return We(Me).controller.signal}},vA=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,Nt=null,Pt=0,Zt=0,Dn=null,ar=!1,Ao=!1,Bm=!1,Ts=0,_e=0,or=0,pa=0,Fm=0,On=0,Ro=0,ic=null,bn=null,Hm=!1,_h=0,a0=0,yh=1/0,vh=null,lr=null,ze=0,cr=null,Co=null,Es=0,qm=0,Gm=null,o0=null,sc=0,Ym=null;function Nn(){return(Xt&2)!==0&&Pt!==0?Pt&-Pt:K.T!==null?Zm():bu()}function l0(){if(On===0)if((Pt&536870912)===0||Bt){var s=Hr;Hr<<=1,(Hr&3932160)===0&&(Hr=262144),On=s}else On=536870912;return s=In.current,s!==null&&(s.flags|=32),On}function Tn(s,a,l){(s===ae&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Io(s,0),ur(s,Pt,On,!1)),qr(s,l),((Xt&2)===0||s!==ae)&&(s===ae&&((Xt&2)===0&&(pa|=l),_e===4&&ur(s,Pt,On,!1)),Bi(s))}function c0(s,a,l){if((Xt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||ii(s,a),g=u?EA(s,a):Xm(s,a,!0),p=u;do{if(g===0){Ao&&!u&&ur(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!bA(l)){g=Xm(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;t:{var S=s;g=ic;var V=S.current.memoizedState.isDehydrated;if(V&&(Io(S,b).flags|=256),b=Xm(S,b,!1),b!==2){if(Bm&&!V){S.errorRecoveryDisabledLanes|=p,pa|=p,g=4;break t}p=bn,bn=g,p!==null&&(bn===null?bn=p:bn.push.apply(bn,p))}g=b}if(p=!1,g!==2)continue}}if(g===1){Io(s,0),ur(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ur(u,a,On,!ar);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=_h+300-fn(),10<g)){if(ur(u,a,On,!ar),xi(u,0,!0)!==0)break t;Es=a,u.timeoutHandle=j0(u0.bind(null,u,l,bn,vh,Hm,a,On,pa,Ro,ar,p,"Throttled",-0,0),g);break t}u0(u,l,bn,vh,Hm,a,On,pa,Ro,ar,p,null,-0,0)}}break}while(!0);Bi(s)}function u0(s,a,l,u,g,p,b,S,V,q,J,nt,Y,$){if(s.timeoutHandle=-1,nt=a.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},n0(a,p,nt);var ft=(p&62914560)===p?_h-fn():(p&4194048)===p?a0-fn():0;if(ft=sR(nt,ft),ft!==null){Es=p,s.cancelPendingCommit=ft(y0.bind(null,s,a,p,l,u,g,b,S,V,J,nt,null,Y,$)),ur(s,p,b,!q);return}}y0(s,a,p,l,u,g,b,S,V)}function bA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Rn(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ur(s,a,l,u){a&=~Fm,a&=~pa,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-ve(g),b=1<<p;u[p]=-1,g&=~b}l!==0&&Gr(s,l,a)}function bh(){return(Xt&6)===0?(rc(0),!1):!0}function Km(){if(Nt!==null){if(Zt===0)var s=Nt.return;else s=Nt,hs=oa=null,cm(s),vo=null,Bl=0,s=Nt;for(;s!==null;)Bv(s.alternate,s),s=s.return;Nt=null}}function Io(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,jA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Es=0,Km(),ae=s,Nt=l=cs(s.current,null),Pt=a,Zt=0,Dn=null,ar=!1,Ao=ii(s,a),Bm=!1,Ro=On=Fm=pa=or=_e=0,bn=ic=null,Hm=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-ve(u),p=1<<g;a|=s[g],u&=~p}return Ts=a,Bu(),l}function h0(s,a){Ct=null,K.H=Ql,a===yo||a===Qu?(a=Ry(),Zt=3):a===Wd?(a=Ry(),Zt=4):Zt=a===wm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Dn=a,Nt===null&&(_e=1,ch(s,jn(a,s.current)))}function f0(){var s=In.current;return s===null?!0:(Pt&4194048)===Pt?qn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?s===qn:!1}function d0(){var s=K.H;return K.H=Ql,s===null?Ql:s}function m0(){var s=K.A;return K.A=yA,s}function Th(){_e=4,ar||(Pt&4194048)!==Pt&&In.current!==null||(Ao=!0),(or&134217727)===0&&(pa&134217727)===0||ae===null||ur(ae,Pt,On,!1)}function Xm(s,a,l){var u=Xt;Xt|=2;var g=d0(),p=m0();(ae!==s||Pt!==a)&&(vh=null,Io(s,a)),a=!1;var b=_e;t:do try{if(Zt!==0&&Nt!==null){var S=Nt,V=Dn;switch(Zt){case 8:Km(),b=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(a=!0);var q=Zt;if(Zt=0,Dn=null,Mo(s,S,V,q),l&&Ao){b=0;break t}break;default:q=Zt,Zt=0,Dn=null,Mo(s,S,V,q)}}TA(),b=_e;break}catch(J){h0(s,J)}while(!0);return a&&s.shellSuspendCounter++,hs=oa=null,Xt=u,K.H=g,K.A=p,Nt===null&&(ae=null,Pt=0,Bu()),b}function TA(){for(;Nt!==null;)g0(Nt)}function EA(s,a){var l=Xt;Xt|=2;var u=d0(),g=m0();ae!==s||Pt!==a?(vh=null,yh=fn()+500,Io(s,a)):Ao=ii(s,a);t:do try{if(Zt!==0&&Nt!==null){a=Nt;var p=Dn;e:switch(Zt){case 1:Zt=0,Dn=null,Mo(s,a,p,1);break;case 2:case 9:if(wy(p)){Zt=0,Dn=null,p0(a);break}a=function(){Zt!==2&&Zt!==9||ae!==s||(Zt=7),Bi(s)},p.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:wy(p)?(Zt=0,Dn=null,p0(a)):(Zt=0,Dn=null,Mo(s,a,p,7));break;case 5:var b=null;switch(Nt.tag){case 26:b=Nt.memoizedState;case 5:case 27:var S=Nt;if(b?eb(b):S.stateNode.complete){Zt=0,Dn=null;var V=S.sibling;if(V!==null)Nt=V;else{var q=S.return;q!==null?(Nt=q,Eh(q)):Nt=null}break e}}Zt=0,Dn=null,Mo(s,a,p,5);break;case 6:Zt=0,Dn=null,Mo(s,a,p,6);break;case 8:Km(),_e=6;break t;default:throw Error(i(462))}}xA();break}catch(J){h0(s,J)}while(!0);return hs=oa=null,K.H=u,K.A=g,Xt=l,Nt!==null?0:(ae=null,Pt=0,Bu(),_e)}function xA(){for(;Nt!==null&&!Sd();)g0(Nt)}function g0(s){var a=Uv(s.alternate,s,Ts);s.memoizedProps=s.pendingProps,a===null?Eh(s):Nt=a}function p0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Nv(l,a,a.pendingProps,a.type,void 0,Pt);break;case 11:a=Nv(l,a,a.pendingProps,a.type.render,a.ref,Pt);break;case 5:cm(a);default:Bv(l,a),a=Nt=my(a,Ts),a=Uv(l,a,Ts)}s.memoizedProps=s.pendingProps,a===null?Eh(s):Nt=a}function Mo(s,a,l,u){hs=oa=null,cm(a),vo=null,Bl=0;var g=a.return;try{if(hA(s,g,a,l,Pt)){_e=1,ch(s,jn(l,s.current)),Nt=null;return}}catch(p){if(g!==null)throw Nt=g,p;_e=1,ch(s,jn(l,s.current)),Nt=null;return}a.flags&32768?(Bt||u===1?s=!0:Ao||(Pt&536870912)!==0?s=!1:(ar=s=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),_0(a,s)):Eh(a)}function Eh(s){var a=s;do{if((a.flags&32768)!==0){_0(a,ar);return}s=a.return;var l=mA(a.alternate,a,Ts);if(l!==null){Nt=l;return}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=s}while(a!==null);_e===0&&(_e=5)}function _0(s,a){do{var l=gA(s.alternate,s);if(l!==null){l.flags&=32767,Nt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Nt=s;return}Nt=s=l}while(s!==null);_e=6,Nt=null}function y0(s,a,l,u,g,p,b,S,V){s.cancelPendingCommit=null;do xh();while(ze!==0);if((Xt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Pd,Rd(s,l,p,b,S,V),s===ae&&(Nt=ae=null,Pt=0),Co=a,cr=s,Es=l,qm=p,Gm=g,o0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,RA(js,function(){return x0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,g=at.p,at.p=2,b=Xt,Xt|=4;try{pA(s,a,l)}finally{Xt=b,at.p=g,K.T=u}}ze=1,v0(),b0(),T0()}}function v0(){if(ze===1){ze=0;var s=cr,a=Co,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=at.p;at.p=2;var g=Xt;Xt|=4;try{Jv(a,s);var p=ag,b=ry(s.containerInfo),S=p.focusedElem,V=p.selectionRange;if(b!==S&&S&&S.ownerDocument&&sy(S.ownerDocument.documentElement,S)){if(V!==null&&Dd(S)){var q=V.start,J=V.end;if(J===void 0&&(J=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(J,S.value.length);else{var nt=S.ownerDocument||document,Y=nt&&nt.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),ft=S.textContent.length,yt=Math.min(V.start,ft),re=V.end===void 0?yt:Math.min(V.end,ft);!$.extend&&yt>re&&(b=re,re=yt,yt=b);var B=iy(S,yt),j=iy(S,re);if(B&&j&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var H=nt.createRange();H.setStart(B.node,B.offset),$.removeAllRanges(),yt>re?($.addRange(H),$.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),$.addRange(H))}}}}for(nt=[],$=S;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var et=nt[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Vh=!!rg,ag=rg=null}finally{Xt=g,at.p=u,K.T=l}}s.current=a,ze=2}}function b0(){if(ze===2){ze=0;var s=cr,a=Co,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=at.p;at.p=2;var g=Xt;Xt|=4;try{Xv(s,a.alternate,a)}finally{Xt=g,at.p=u,K.T=l}}ze=3}}function T0(){if(ze===4||ze===3){ze=0,du();var s=cr,a=Co,l=Es,u=o0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ze=5:(ze=0,Co=cr=null,E0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(lr=null),rs(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ni,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=K.T,g=at.p,at.p=2,K.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var S=u[b];p(S.value,{componentStack:S.stack})}}finally{K.T=a,at.p=g}}(Es&3)!==0&&xh(),Bi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Ym?sc++:(sc=0,Ym=s):sc=0,rc(0)}}function E0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ul(a)))}function xh(){return v0(),b0(),T0(),x0()}function x0(){if(ze!==5)return!1;var s=cr,a=qm;qm=0;var l=rs(Es),u=K.T,g=at.p;try{at.p=32>l?32:l,K.T=null,l=Gm,Gm=null;var p=cr,b=Es;if(ze=0,Co=cr=null,Es=0,(Xt&6)!==0)throw Error(i(331));var S=Xt;if(Xt|=4,s0(p.current),e0(p,p.current,b,l),Xt=S,rc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ni,p)}catch{}return!0}finally{at.p=g,K.T=u,E0(s,a)}}function S0(s,a,l){a=jn(l,a),a=Sm(s.stateNode,a,2),s=nr(s,a,2),s!==null&&(qr(s,2),Bi(s))}function Jt(s,a,l){if(s.tag===3)S0(s,s,l);else for(;a!==null;){if(a.tag===3){S0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(lr===null||!lr.has(u))){s=jn(l,s),l=wv(2),u=nr(a,l,2),u!==null&&(Av(l,u,a,s),qr(u,2),Bi(u));break}}a=a.return}}function Qm(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new vA;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(Bm=!0,g.add(l),s=SA.bind(null,s,a,l),a.then(s,s))}function SA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Pt&l)===l&&(_e===4||_e===3&&(Pt&62914560)===Pt&&300>fn()-_h?(Xt&2)===0&&Io(s,0):Fm|=l,Ro===Pt&&(Ro=0)),Bi(s)}function w0(s,a){a===0&&(a=vu()),s=sa(s,a),s!==null&&(qr(s,a),Bi(s))}function wA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),w0(s,l)}function AA(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),w0(s,l)}function RA(s,a){return Le(s,a)}var Sh=null,Do=null,$m=!1,wh=!1,Wm=!1,hr=0;function Bi(s){s!==Do&&s.next===null&&(Do===null?Sh=Do=s:Do=Do.next=s),wh=!0,$m||($m=!0,IA())}function rc(s,a){if(!Wm&&wh){Wm=!0;do for(var l=!1,u=Sh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var b=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-ve(42|s)+1)-1,p&=g&~(b&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,I0(u,p))}else p=Pt,p=xi(u,u===ae?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ii(u,p)||(l=!0,I0(u,p));u=u.next}while(l);Wm=!1}}function CA(){A0()}function A0(){wh=$m=!1;var s=0;hr!==0&&UA()&&(s=hr);for(var a=fn(),l=null,u=Sh;u!==null;){var g=u.next,p=R0(u,a);p===0?(u.next=null,l===null?Sh=g:l.next=g,g===null&&(Do=l)):(l=u,(s!==0||(p&3)!==0)&&(wh=!0)),u=g}ze!==0&&ze!==5||rc(s),hr!==0&&(hr=0)}function R0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-ve(p),S=1<<b,V=g[b];V===-1?((S&l)===0||(S&u)!==0)&&(g[b]=Ad(S,a)):V<=a&&(s.expiredLanes|=S),p&=~S}if(a=ae,l=Pt,l=xi(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Us(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ii(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Us(u),rs(l)){case 2:case 8:l=gl;break;case 32:l=js;break;case 268435456:l=mu;break;default:l=js}return u=C0.bind(null,s),l=Le(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Us(u),s.callbackPriority=2,s.callbackNode=null,2}function C0(s,a){if(ze!==0&&ze!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(xh()&&s.callbackNode!==l)return null;var u=Pt;return u=xi(s,s===ae?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(c0(s,u,a),R0(s,fn()),s.callbackNode!=null&&s.callbackNode===l?C0.bind(null,s):null)}function I0(s,a){if(xh())return null;c0(s,a,!0)}function IA(){BA(function(){(Xt&6)!==0?Le(ml,CA):A0()})}function Zm(){if(hr===0){var s=po;s===0&&(s=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),hr=s}return hr}function M0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:to(""+s)}function D0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function MA(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=M0((g[qe]||null).action),b=u.submitter;b&&(a=(a=b[qe]||null)?M0(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var S=new ki("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(hr!==0){var V=b?D0(g,b):new FormData(g);ym(l,{pending:!0,data:V,method:g.method,action:p},null,V)}}else typeof p=="function"&&(S.preventDefault(),V=b?D0(g,b):new FormData(g),ym(l,{pending:!0,data:V,method:g.method,action:p},p,V))},currentTarget:g}]})}}for(var Jm=0;Jm<Vd.length;Jm++){var tg=Vd[Jm],DA=tg.toLowerCase(),OA=tg[0].toUpperCase()+tg.slice(1);hi(DA,"on"+OA)}hi(ly,"onAnimationEnd"),hi(cy,"onAnimationIteration"),hi(uy,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(X1,"onTransitionRun"),hi(Q1,"onTransitionStart"),hi($1,"onTransitionCancel"),hi(hy,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function O0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var b=u.length-1;0<=b;b--){var S=u[b],V=S.instance,q=S.currentTarget;if(S=S.listener,V!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=q;try{p(g)}catch(J){ju(J)}g.currentTarget=null,p=V}else for(b=0;b<u.length;b++){if(S=u[b],V=S.instance,q=S.currentTarget,S=S.listener,V!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=q;try{p(g)}catch(J){ju(J)}g.currentTarget=null,p=V}}}}function kt(s,a){var l=a[Qa];l===void 0&&(l=a[Qa]=new Set);var u=s+"__bubble";l.has(u)||(N0(a,s,2,!1),l.add(u))}function eg(s,a,l){var u=0;a&&(u|=4),N0(l,s,u,a)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function ng(s){if(!s[Ah]){s[Ah]=!0,yl.forEach(function(l){l!=="selectionchange"&&(NA.has(l)||eg(l,!1,s),eg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ah]||(a[Ah]=!0,eg("selectionchange",!1,a))}}function N0(s,a,l,u){switch(lb(a)){case 2:var g=oR;break;case 8:g=lR;break;default:g=_g}l=g.bind(null,a,l,s),g=void 0,!$r||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function ig(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===g)break;if(b===4)for(b=u.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;S!==null;){if(b=Ri(S),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){u=p=b;continue t}S=S.parentNode}}u=u.return}Ys(function(){var q=p,J=Pn(l),nt=[];t:{var Y=fy.get(s);if(Y!==void 0){var $=ki,ft=s;switch(s){case"keypress":if(Zr(l)===0)break t;case"keydown":case"keyup":$=Lu;break;case"focusin":ft="focus",$=ta;break;case"focusout":ft="blur",$=ta;break;case"beforeblur":case"afterblur":$=ta;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case ly:case cy:case uy:$=Mu;break;case hy:$=A;break;case"scroll":case"scrollend":$=Ml;break;case"wheel":$=Q;break;case"copy":case"cut":case"paste":$=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ls;break;case"toggle":case"beforetoggle":$=Rt}var yt=(a&4)!==0,re=!yt&&(s==="scroll"||s==="scrollend"),B=yt?Y!==null?Y+"Capture":null:Y;yt=[];for(var j=q,H;j!==null;){var et=j;if(H=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||H===null||B===null||(et=oi(j,B),et!=null&&yt.push(oc(j,et,H))),re)break;j=j.return}0<yt.length&&(Y=new $(Y,ft,null,l,J),nt.push({event:Y,listeners:yt}))}}if((a&7)===0){t:{if(Y=s==="mouseover"||s==="pointerover",$=s==="mouseout"||s==="pointerout",Y&&l!==Rl&&(ft=l.relatedTarget||l.fromElement)&&(Ri(ft)||ft[wi]))break t;if(($||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(ft=l.relatedTarget||l.toElement,$=q,ft=ft?Ri(ft):null,ft!==null&&(re=o(ft),yt=ft.tag,ft!==re||yt!==5&&yt!==27&&yt!==6)&&(ft=null)):($=null,ft=q),$!==ft)){if(yt=Dl,et="onMouseLeave",B="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(yt=ls,et="onPointerLeave",B="onPointerEnter",j="pointer"),re=$==null?Y:wn($),H=ft==null?Y:wn(ft),Y=new yt(et,j+"leave",$,l,J),Y.target=re,Y.relatedTarget=H,et=null,Ri(J)===q&&(yt=new yt(B,j+"enter",ft,l,J),yt.target=H,yt.relatedTarget=re,et=yt),re=et,$&&ft)e:{for(yt=kA,B=$,j=ft,H=0,et=B;et;et=yt(et))H++;et=0;for(var gt=j;gt;gt=yt(gt))et++;for(;0<H-et;)B=yt(B),H--;for(;0<et-H;)j=yt(j),et--;for(;H--;){if(B===j||j!==null&&B===j.alternate){yt=B;break e}B=yt(B),j=yt(j)}yt=null}else yt=null;$!==null&&k0(nt,Y,$,yt,!1),ft!==null&&re!==null&&k0(nt,re,ft,yt,!0)}}t:{if(Y=q?wn(q):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var Gt=W_;else if(Q_(Y))if(Z_)Gt=G1;else{Gt=H1;var dt=F1}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&Ja(q.elementType)&&(Gt=W_):Gt=q1;if(Gt&&(Gt=Gt(s,q))){$_(nt,Gt,l,J);break t}dt&&dt(s,Y,q),s==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&Sl(Y,"number",Y.value)}switch(dt=q?wn(q):window,s){case"focusin":(Q_(dt)||dt.contentEditable==="true")&&(oo=dt,Od=q,Pl=null);break;case"focusout":Pl=Od=oo=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,ay(nt,l,J);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":ay(nt,l,J)}var It;if(Kt)t:{switch(s){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ao?ea(s,l)&&(Lt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(Li&&l.locale!=="ko"&&(ao||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ao&&(It=Il()):(Ni=J,Cl="value"in Ni?Ni.value:Ni.textContent,ao=!0)),dt=Rh(q,Lt),0<dt.length&&(Lt=new Pi(Lt,s,null,l,J),nt.push({event:Lt,listeners:dt}),It?Lt.data=It:(It=ro(l),It!==null&&(Lt.data=It)))),(It=zn?z1(s,l):U1(s,l))&&(Lt=Rh(q,"onBeforeInput"),0<Lt.length&&(dt=new Pi("onBeforeInput","beforeinput",null,l,J),nt.push({event:dt,listeners:Lt}),dt.data=It)),MA(nt,s,q,l,J)}O0(nt,a)})}function oc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Rh(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=oi(s,l),g!=null&&u.unshift(oc(s,g,p)),g=oi(s,a),g!=null&&u.push(oc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function kA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function k0(s,a,l,u,g){for(var p=a._reactName,b=[];l!==null&&l!==u;){var S=l,V=S.alternate,q=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||q===null||(V=q,g?(q=oi(l,p),q!=null&&b.unshift(oc(l,q,V))):g||(q=oi(l,p),q!=null&&b.push(oc(l,q,V)))),l=l.return}b.length!==0&&s.push({event:a,listeners:b})}var VA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function V0(s){return(typeof s=="string"?s:""+s).replace(VA,`
`).replace(PA,"")}function P0(s,a){return a=V0(a),V0(s)===a}function se(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||pn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&pn(s,""+u);break;case"className":An(s,"class",u);break;case"tabIndex":An(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(s,l,u);break;case"style":Al(s,u,p);break;case"data":if(a!=="object"){An(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=to(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&se(s,a,"name",g.name,g,null),se(s,a,"formEncType",g.formEncType,g,null),se(s,a,"formMethod",g.formMethod,g,null),se(s,a,"formTarget",g.formTarget,g,null)):(se(s,a,"encType",g.encType,g,null),se(s,a,"method",g.method,g,null),se(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=to(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=ai);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=to(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":kt("beforetoggle",s),kt("toggle",s),Wa(s,"popover",u);break;case"xlinkActuate":Ie(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ru.get(l)||l,Wa(s,l,u))}}function sg(s,a,l,u,g,p){switch(l){case"style":Al(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?pn(s,u):(typeof u=="number"||typeof u=="bigint")&&pn(s,""+u);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[qe]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Wa(s,l,u)}}}function Je(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,p,b,l,null)}}g&&se(s,a,"srcSet",l.srcSet,l,null),u&&se(s,a,"src",l.src,l,null);return;case"input":kt("invalid",s);var S=p=b=g=null,V=null,q=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":g=J;break;case"type":b=J;break;case"checked":V=J;break;case"defaultChecked":q=J;break;case"value":p=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:se(s,a,u,J,l,null)}}Su(s,p,S,V,q,b,g,!1);return;case"select":kt("invalid",s),u=b=p=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:se(s,a,g,S,l,null)}a=p,l=b,s.multiple=!!u,a!=null?Fs(s,!!u,a,!1):l!=null&&Fs(s,!!u,l,!0);return;case"textarea":kt("invalid",s),p=g=u=null;for(b in l)if(l.hasOwnProperty(b)&&(S=l[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:se(s,a,b,S,l,null)}Hs(s,u,g,p);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:se(s,a,V,u,l,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(u=0;u<ac.length;u++)kt(ac[u],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(u=l[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,q,u,l,null)}return;default:if(Ja(a)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&sg(s,a,J,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&se(s,a,S,u,l,null))}function LA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,b=null,S=null,V=null,q=null,J=null;for($ in l){var nt=l[$];if(l.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":V=nt;default:u.hasOwnProperty($)||se(s,a,$,null,u,nt)}}for(var Y in u){var $=u[Y];if(nt=l[Y],u.hasOwnProperty(Y)&&($!=null||nt!=null))switch(Y){case"type":p=$;break;case"name":g=$;break;case"checked":q=$;break;case"defaultChecked":J=$;break;case"value":b=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:$!==nt&&se(s,a,Y,$,u,nt)}}Za(s,b,S,V,q,J,p,g);return;case"select":$=b=S=Y=null;for(p in l)if(V=l[p],l.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":$=V;default:u.hasOwnProperty(p)||se(s,a,p,null,u,V)}for(g in u)if(p=u[g],V=l[g],u.hasOwnProperty(g)&&(p!=null||V!=null))switch(g){case"value":Y=p;break;case"defaultValue":S=p;break;case"multiple":b=p;default:p!==V&&se(s,a,g,p,u,V)}a=S,l=b,u=$,Y!=null?Fs(s,!!l,Y,!1):!!u!=!!l&&(a!=null?Fs(s,!!l,a,!0):Fs(s,!!l,l?[]:"",!1));return;case"textarea":$=Y=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(s,a,S,null,u,g)}for(b in u)if(g=u[b],p=l[b],u.hasOwnProperty(b)&&(g!=null||p!=null))switch(b){case"value":Y=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&se(s,a,b,g,u,p)}wu(s,Y,$);return;case"option":for(var ft in l)if(Y=l[ft],l.hasOwnProperty(ft)&&Y!=null&&!u.hasOwnProperty(ft))switch(ft){case"selected":s.selected=!1;break;default:se(s,a,ft,null,u,Y)}for(V in u)if(Y=u[V],$=l[V],u.hasOwnProperty(V)&&Y!==$&&(Y!=null||$!=null))switch(V){case"selected":s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:se(s,a,V,Y,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in l)Y=l[yt],l.hasOwnProperty(yt)&&Y!=null&&!u.hasOwnProperty(yt)&&se(s,a,yt,null,u,Y);for(q in u)if(Y=u[q],$=l[q],u.hasOwnProperty(q)&&Y!==$&&(Y!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:se(s,a,q,Y,u,$)}return;default:if(Ja(a)){for(var re in l)Y=l[re],l.hasOwnProperty(re)&&Y!==void 0&&!u.hasOwnProperty(re)&&sg(s,a,re,void 0,u,Y);for(J in u)Y=u[J],$=l[J],!u.hasOwnProperty(J)||Y===$||Y===void 0&&$===void 0||sg(s,a,J,Y,u,$);return}}for(var B in l)Y=l[B],l.hasOwnProperty(B)&&Y!=null&&!u.hasOwnProperty(B)&&se(s,a,B,null,u,Y);for(nt in u)Y=u[nt],$=l[nt],!u.hasOwnProperty(nt)||Y===$||Y==null&&$==null||se(s,a,nt,Y,u,$)}function L0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zA(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,b=g.initiatorType,S=g.duration;if(p&&S&&L0(b)){for(b=0,S=g.responseEnd,u+=1;u<l.length;u++){var V=l[u],q=V.startTime;if(q>S)break;var J=V.transferSize,nt=V.initiatorType;J&&L0(nt)&&(V=V.responseEnd,b+=J*(V<S?1:(S-q)/(V-q)))}if(--u,a+=8*(p+b)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var rg=null,ag=null;function Ch(s){return s.nodeType===9?s:s.ownerDocument}function z0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function og(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lg=null;function UA(){var s=window.event;return s&&s.type==="popstate"?s===lg?!1:(lg=s,!0):(lg=null,!1)}var j0=typeof setTimeout=="function"?setTimeout:void 0,jA=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(s){return B0.resolve(null).then(s).catch(FA)}:j0;function FA(s){setTimeout(function(){throw s})}function fr(s){return s==="head"}function F0(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),Vo(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")lc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,lc(l);for(var p=l.firstChild;p;){var b=p.nextSibling,S=p.nodeName;p[Ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&lc(s.ownerDocument.body);l=g}while(l);Vo(a)}function H0(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function cg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":cg(l),$a(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function HA(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ai])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Gn(s.nextSibling),s===null)break}return null}function qA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Gn(s.nextSibling),s===null))return null;return s}function q0(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Gn(s.nextSibling),s===null))return null;return s}function ug(s){return s.data==="$?"||s.data==="$~"}function hg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function GA(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Gn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var fg=null;function G0(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Gn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function Y0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function K0(s,a,l){switch(a=Ch(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function lc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);$a(s)}var Yn=new Map,X0=new Set;function Ih(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var xs=at.d;at.d={f:YA,r:KA,D:XA,C:QA,L:$A,m:WA,X:JA,S:ZA,M:tR};function YA(){var s=xs.f(),a=bh();return s||a}function KA(s){var a=Vn(s);a!==null&&a.tag===5&&a.type==="form"?hv(a):xs.r(s)}var Oo=typeof document>"u"?null:document;function Q0(s,a,l){var u=Oo;if(u&&typeof a=="string"&&a){var g=gn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),X0.has(g)||(X0.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Je(a,"link",s),Ce(a),u.head.appendChild(a)))}}function XA(s){xs.D(s),Q0("dns-prefetch",s,null)}function QA(s,a){xs.C(s,a),Q0("preconnect",s,a)}function $A(s,a,l){xs.L(s,a,l);var u=Oo;if(u&&s&&a){var g='link[rel="preload"][as="'+gn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+gn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+gn(l.imageSizes)+'"]')):g+='[href="'+gn(s)+'"]';var p=g;switch(a){case"style":p=No(s);break;case"script":p=ko(s)}Yn.has(p)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Yn.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(cc(p))||a==="script"&&u.querySelector(uc(p))||(a=u.createElement("link"),Je(a,"link",s),Ce(a),u.head.appendChild(a)))}}function WA(s,a){xs.m(s,a);var l=Oo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ko(s)}if(!Yn.has(p)&&(s=y({rel:"modulepreload",href:s},a),Yn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uc(p)))return}u=l.createElement("link"),Je(u,"link",s),Ce(u),l.head.appendChild(u)}}}function ZA(s,a,l){xs.S(s,a,l);var u=Oo;if(u&&s){var g=Ci(u).hoistableStyles,p=No(s);a=a||"default";var b=g.get(p);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(cc(p)))S.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Yn.get(p))&&dg(s,l);var V=b=u.createElement("link");Ce(V),Je(V,"link",s),V._p=new Promise(function(q,J){V.onload=q,V.onerror=J}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Mh(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:S},g.set(p,b)}}}function JA(s,a){xs.X(s,a);var l=Oo;if(l&&s){var u=Ci(l).hoistableScripts,g=ko(s),p=u.get(g);p||(p=l.querySelector(uc(g)),p||(s=y({src:s,async:!0},a),(a=Yn.get(g))&&mg(s,a),p=l.createElement("script"),Ce(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function tR(s,a){xs.M(s,a);var l=Oo;if(l&&s){var u=Ci(l).hoistableScripts,g=ko(s),p=u.get(g);p||(p=l.querySelector(uc(g)),p||(s=y({src:s,async:!0,type:"module"},a),(a=Yn.get(g))&&mg(s,a),p=l.createElement("script"),Ce(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function $0(s,a,l,u){var g=(g=bt.current)?Ih(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=No(l.href),l=Ci(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=No(l.href);var p=Ci(g).hoistableStyles,b=p.get(s);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=g.querySelector(cc(s)))&&!p._p&&(b.instance=p,b.state.loading=5),Yn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Yn.set(s,l),p||eR(g,s,l,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ko(l),l=Ci(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function No(s){return'href="'+gn(s)+'"'}function cc(s){return'link[rel="stylesheet"]['+s+"]"}function W0(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function eR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Je(a,"link",l),Ce(a),s.head.appendChild(a))}function ko(s){return'[src="'+gn(s)+'"]'}function uc(s){return"script[async]"+s}function Z0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+gn(l.href)+'"]');if(u)return a.instance=u,Ce(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ce(u),Je(u,"style",g),Mh(u,l.precedence,s),a.instance=u;case"stylesheet":g=No(l.href);var p=s.querySelector(cc(g));if(p)return a.state.loading|=4,a.instance=p,Ce(p),p;u=W0(l),(g=Yn.get(g))&&dg(u,g),p=(s.ownerDocument||s).createElement("link"),Ce(p);var b=p;return b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),Je(p,"link",u),a.state.loading|=4,Mh(p,l.precedence,s),a.instance=p;case"script":return p=ko(l.src),(g=s.querySelector(uc(p)))?(a.instance=g,Ce(g),g):(u=l,(g=Yn.get(p))&&(u=y({},l),mg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ce(g),Je(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Mh(u,l.precedence,s));return a.instance}function Mh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===a)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function dg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function mg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Dh=null;function J0(s,a,l){if(Dh===null){var u=new Map,g=Dh=new Map;g.set(l,u)}else g=Dh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Ai]||p[Re]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=s+b;var S=u.get(b);S?S.push(p):u.set(b,[p])}}return u}function tb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function nR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function eb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function iR(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=No(u.href),p=a.querySelector(cc(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Oh.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ce(p);return}p=a.ownerDocument||a,u=W0(u),(g=Yn.get(g))&&dg(u,g),p=p.createElement("link"),Ce(p);var b=p;b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),Je(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Oh.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var gg=0;function sR(s,a){return s.stylesheets&&s.count===0&&kh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&kh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&gg===0&&(gg=62500*zA());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&kh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>gg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Nh=null;function kh(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Nh=new Map,a.forEach(rR,s),Nh=null,Oh.call(s))}function rR(s,a){if(!(a.state.loading&4)){var l=Nh.get(s);if(l)var u=l.get(null);else{l=new Map,Nh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var b=g[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}g=a.instance,b=g.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,g),l.set(b,g),this.count++,u=Oh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var hc={$$typeof:X,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function aR(s,a,l,u,g,p,b,S,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function nb(s,a,l,u,g,p,b,S,V,q,J,nt){return s=new aR(s,a,l,b,V,q,J,nt,S),a=1,p===!0&&(a|=24),p=Cn(3,null,null,a),s.current=p,p.stateNode=s,a=Xd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Zd(p),s}function ib(s){return s?(s=uo,s):uo}function sb(s,a,l,u,g,p){g=ib(g),u.context===null?u.context=g:u.pendingContext=g,u=er(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=nr(s,u,a),l!==null&&(Tn(l,s,a),Hl(l,s,a))}function rb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function pg(s,a){rb(s,a),(s=s.alternate)&&rb(s,a)}function ab(s){if(s.tag===13||s.tag===31){var a=sa(s,67108864);a!==null&&Tn(a,s,67108864),pg(s,67108864)}}function ob(s){if(s.tag===13||s.tag===31){var a=Nn();a=Yr(a);var l=sa(s,a);l!==null&&Tn(l,s,a),pg(s,a)}}var Vh=!0;function oR(s,a,l,u){var g=K.T;K.T=null;var p=at.p;try{at.p=2,_g(s,a,l,u)}finally{at.p=p,K.T=g}}function lR(s,a,l,u){var g=K.T;K.T=null;var p=at.p;try{at.p=8,_g(s,a,l,u)}finally{at.p=p,K.T=g}}function _g(s,a,l,u){if(Vh){var g=yg(u);if(g===null)ig(s,a,u,Ph,l),cb(s,u);else if(uR(g,s,a,l,u))u.stopPropagation();else if(cb(s,u),a&4&&-1<cR.indexOf(s)){for(;g!==null;){var p=Vn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Ei(p.pendingLanes);if(b!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var V=1<<31-ve(b);S.entanglements[1]|=V,b&=~V}Bi(p),(Xt&6)===0&&(yh=fn()+500,rc(0))}}break;case 31:case 13:S=sa(p,2),S!==null&&Tn(S,p,2),bh(),pg(p,2)}if(p=yg(u),p===null&&ig(s,a,u,Ph,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else ig(s,a,u,null,l)}}function yg(s){return s=Pn(s),vg(s)}var Ph=null;function vg(s){if(Ph=null,s=Ri(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Ph=s,null}function lb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fr()){case ml:return 2;case gl:return 8;case js:case wd:return 32;case mu:return 268435456;default:return 32}default:return 32}}var bg=!1,dr=null,mr=null,gr=null,fc=new Map,dc=new Map,pr=[],cR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cb(s,a){switch(s){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":fc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(a.pointerId)}}function mc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Vn(a),a!==null&&ab(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function uR(s,a,l,u,g){switch(a){case"focusin":return dr=mc(dr,s,a,l,u,g),!0;case"dragenter":return mr=mc(mr,s,a,l,u,g),!0;case"mouseover":return gr=mc(gr,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return fc.set(p,mc(fc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,dc.set(p,mc(dc.get(p)||null,s,a,l,u,g)),!0}return!1}function ub(s){var a=Ri(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,si(s.priority,function(){ob(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,si(s.priority,function(){ob(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=yg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Rl=u,l.target.dispatchEvent(u),Rl=null}else return a=Vn(l),a!==null&&ab(a),s.blockedOn=l,!1;a.shift()}return!0}function hb(s,a,l){Lh(s)&&l.delete(a)}function hR(){bg=!1,dr!==null&&Lh(dr)&&(dr=null),mr!==null&&Lh(mr)&&(mr=null),gr!==null&&Lh(gr)&&(gr=null),fc.forEach(hb),dc.forEach(hb)}function zh(s,a){s.blockedOn===a&&(s.blockedOn=null,bg||(bg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hR)))}var Uh=null;function fb(s){Uh!==s&&(Uh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Uh===s&&(Uh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(vg(u||l)===null)continue;break}var p=Vn(l);p!==null&&(s.splice(a,3),a-=3,ym(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Vo(s){function a(V){return zh(V,s)}dr!==null&&zh(dr,s),mr!==null&&zh(mr,s),gr!==null&&zh(gr,s),fc.forEach(a),dc.forEach(a);for(var l=0;l<pr.length;l++){var u=pr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<pr.length&&(l=pr[0],l.blockedOn===null);)ub(l),l.blockedOn===null&&pr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],b=g[qe]||null;if(typeof p=="function")b||fb(l);else if(b){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,b=p[qe]||null)S=b.formAction;else if(vg(g)!==null)continue}else S=b.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),fb(l)}}}function db(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return g=b})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Tg(s){this._internalRoot=s}jh.prototype.render=Tg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Nn();sb(l,u,s,a,null,null)},jh.prototype.unmount=Tg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;sb(s.current,2,null,s,null,null),bh(),a[wi]=null}};function jh(s){this._internalRoot=s}jh.prototype.unstable_scheduleHydration=function(s){if(s){var a=bu();s={blockedOn:null,target:s,priority:a};for(var l=0;l<pr.length&&a!==0&&a<pr[l].priority;l++);pr.splice(l,0,s),l===0&&ub(s)}};var mb=t.version;if(mb!=="19.2.0")throw Error(i(527,mb,"19.2.0"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var fR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{ni=Bh.inject(fR),Xe=Bh}catch{}}return pc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=Tv,p=Ev,b=xv;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=nb(s,1,!1,null,null,l,u,null,g,p,b,db),s[wi]=a.current,ng(s),new Tg(a)},pc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=Tv,b=Ev,S=xv,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),a=nb(s,1,!0,a,l??null,u,g,V,p,b,S,db),a.context=ib(null),l=a.current,u=Nn(),u=Yr(u),g=er(u),g.callback=null,nr(l,g,u),l=u,a.current.lanes=l,qr(a,l),Bi(a),s[wi]=a.current,ng(s),new jh(a)},pc.version="19.2.0",pc}var Sb;function xR(){if(Sb)return Sg.exports;Sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Sg.exports=ER(),Sg.exports}var SR=xR();function _x({isDark:n,setIsDark:t}){return O.jsx("div",{className:`flex flex-row items-center justify-center
        `,title:"Switch Theme",onClick:()=>t(e=>!e),children:O.jsx("i",{className:n?"bx bx-sun bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--light-color)] hovered":"bx bx-moon bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--dark-color)] hovered"})})}const Dp="/DriveSense/assets/dark-icon-B2t9_VsN.png",xf="/DriveSense/assets/light-icon-CCshSbAW.png";function ei(n=768){const[t,e]=Mt.useState(typeof window<"u"?window.innerWidth<n:!1);return Mt.useEffect(()=>{const i=()=>{e(window.innerWidth<n)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),t}const wR=()=>{};var wb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},AR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,m=f?n[r+2]:0,_=o>>2,y=(o&3)<<4|h>>4;let T=(h&15)<<2|m>>6,x=m&63;f||(x=64,c||(T=64)),i.push(e[_],e[y],e[T],e[x])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(yx(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):AR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||y==null)throw new RR;const T=o<<2|h>>4;if(i.push(T),m!==64){const x=h<<4&240|m>>2;if(i.push(x),y!==64){const R=m<<6&192|y;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CR=function(n){const t=yx(n);return vx.encodeByteArray(t,!0)},Sf=function(n){return CR(n).replace(/\./g,"")},bx=function(n){try{return vx.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=()=>IR().__FIREBASE_DEFAULTS__,DR=()=>{if(typeof process>"u"||typeof wb>"u")return;const n=wb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&bx(n[1]);return t&&JSON.parse(t)},Jf=()=>{try{return wR()||MR()||DR()||OR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Tx=n=>Jf()?.emulatorHosts?.[n],Ex=n=>{const t=Tx(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},xx=()=>Jf()?.config,Sx=n=>Jf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Op(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Sf(JSON.stringify(e)),Sf(JSON.stringify(c)),""].join(".")}const Ic={};function kR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Ic))Ic[t]?n.emulator.push(t):n.prod.push(t);return n}function VR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Ab=!1;function Np(n,t){if(typeof window>"u"||typeof document>"u"||!La(window.location.host)||Ic[n]===t||Ic[n]||Ab)return;Ic[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=kR().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Ab=!0,c()},T}function _(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function y(){const T=VR(i),x=e("text"),R=document.getElementById(x)||document.createElement("span"),C=e("learnmore"),I=document.getElementById(C)||document.createElement("a"),L=e("preprendIcon"),G=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const X=T.element;h(X),_(I,C);const Z=m();f(G,L),X.append(G,R,I,Z),document.body.appendChild(X)}o?(R.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function LR(){const n=Jf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FR(){return!LR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HR(){try{return typeof indexedDB=="object"}catch{return!1}}function qR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="FirebaseError";class is extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=GR,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?YR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new is(r,h,i)}}function YR(n,t){return n.replace(KR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const KR=/\{\$([^}]+)}/g;function XR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ia(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(Rb(o)&&Rb(c)){if(!Ia(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Rb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function QR(n,t){const e=new $R(n,t);return e.subscribe.bind(e)}class $R{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");WR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Cg),r.error===void 0&&(r.error=Cg),r.complete===void 0&&(r.complete=Cg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(n){return n&&n._delegate?n._delegate:n}class Or{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new NR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tC(t))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ba){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ba){return this.instances.has(t)}getOptions(t=ba){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ba){return this.component?this.component.multipleInstances?t:ba:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(n){return n===ba?void 0:n}function tC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ZR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zt||(zt={}));const nC={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},iC=zt.INFO,sC={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},rC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=sC[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class kp{constructor(t){this.name=t,this._logLevel=iC,this._logHandler=rC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const aC=(n,t)=>t.some(e=>n instanceof e);let Cb,Ib;function oC(){return Cb||(Cb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lC(){return Ib||(Ib=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ax=new WeakMap,Jg=new WeakMap,Rx=new WeakMap,Ig=new WeakMap,Vp=new WeakMap;function cC(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Rr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Ax.set(e,n)}).catch(()=>{}),Vp.set(t,n),t}function uC(n){if(Jg.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Jg.set(n,t)}let tp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Jg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Rx.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Rr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function hC(n){tp=n(tp)}function fC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Mg(this),t,...e);return Rx.set(i,t.sort?t.sort():[t]),Rr(i)}:lC().includes(n)?function(...t){return n.apply(Mg(this),t),Rr(Ax.get(this))}:function(...t){return Rr(n.apply(Mg(this),t))}}function dC(n){return typeof n=="function"?fC(n):(n instanceof IDBTransaction&&uC(n),aC(n,oC())?new Proxy(n,tp):n)}function Rr(n){if(n instanceof IDBRequest)return cC(n);if(Ig.has(n))return Ig.get(n);const t=dC(n);return t!==n&&(Ig.set(n,t),Vp.set(t,n)),t}const Mg=n=>Vp.get(n);function mC(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Rr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Rr(c.result),f.oldVersion,f.newVersion,Rr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const gC=["get","getKey","getAll","getAllKeys","count"],pC=["put","add","delete","clear"],Dg=new Map;function Mb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Dg.get(t))return Dg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=pC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||gC.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&f.done]))[0]};return Dg.set(t,o),o}hC(n=>({...n,get:(t,e,i)=>Mb(t,e)||n.get(t,e,i),has:(t,e)=>!!Mb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(yC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function yC(n){return n.getComponent()?.type==="VERSION"}const ep="@firebase/app",Db="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new kp("@firebase/app"),vC="@firebase/app-compat",bC="@firebase/analytics-compat",TC="@firebase/analytics",EC="@firebase/app-check-compat",xC="@firebase/app-check",SC="@firebase/auth",wC="@firebase/auth-compat",AC="@firebase/database",RC="@firebase/data-connect",CC="@firebase/database-compat",IC="@firebase/functions",MC="@firebase/functions-compat",DC="@firebase/installations",OC="@firebase/installations-compat",NC="@firebase/messaging",kC="@firebase/messaging-compat",VC="@firebase/performance",PC="@firebase/performance-compat",LC="@firebase/remote-config",zC="@firebase/remote-config-compat",UC="@firebase/storage",jC="@firebase/storage-compat",BC="@firebase/firestore",FC="@firebase/ai",HC="@firebase/firestore-compat",qC="firebase",GC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",YC={[ep]:"fire-core",[vC]:"fire-core-compat",[TC]:"fire-analytics",[bC]:"fire-analytics-compat",[xC]:"fire-app-check",[EC]:"fire-app-check-compat",[SC]:"fire-auth",[wC]:"fire-auth-compat",[AC]:"fire-rtdb",[RC]:"fire-data-connect",[CC]:"fire-rtdb-compat",[IC]:"fire-fn",[MC]:"fire-fn-compat",[DC]:"fire-iid",[OC]:"fire-iid-compat",[NC]:"fire-fcm",[kC]:"fire-fcm-compat",[VC]:"fire-perf",[PC]:"fire-perf-compat",[LC]:"fire-rc",[zC]:"fire-rc-compat",[UC]:"fire-gcs",[jC]:"fire-gcs-compat",[BC]:"fire-fst",[HC]:"fire-fst-compat",[FC]:"fire-vertex","fire-js":"fire-js",[qC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,KC=new Map,ip=new Map;function Ob(n,t){try{n.container.addComponent(t)}catch(e){Ns.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ma(n){const t=n.name;if(ip.has(t))return Ns.debug(`There were multiple attempts to register component ${t}.`),!1;ip.set(t,n);for(const e of wf.values())Ob(e,n);for(const e of KC.values())Ob(e,n);return!0}function td(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new eu("app","Firebase",XC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=GC;function Cx(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:np,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Cr.create("bad-app-name",{appName:String(r)});if(e||(e=xx()),!e)throw Cr.create("no-options");const o=wf.get(r);if(o){if(Ia(e,o.options)&&Ia(i,o.config))return o;throw Cr.create("duplicate-app",{appName:r})}const c=new eC(r);for(const f of ip.values())c.addComponent(f);const h=new QC(e,i,c);return wf.set(r,h),h}function Pp(n=np){const t=wf.get(n);if(!t&&n===np&&xx())return Cx();if(!t)throw Cr.create("no-app",{appName:n});return t}function Yi(n,t,e){let i=YC[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ns.warn(c.join(" "));return}Ma(new Or(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firebase-heartbeat-database",WC=1,Uc="firebase-heartbeat-store";let Og=null;function Ix(){return Og||(Og=mC($C,WC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Uc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Cr.create("idb-open",{originalErrorMessage:n.message})})),Og}async function ZC(n){try{const e=(await Ix()).transaction(Uc),i=await e.objectStore(Uc).get(Mx(n));return await e.done,i}catch(t){if(t instanceof is)Ns.warn(t.message);else{const e=Cr.create("idb-get",{originalErrorMessage:t?.message});Ns.warn(e.message)}}}async function Nb(n,t){try{const i=(await Ix()).transaction(Uc,"readwrite");await i.objectStore(Uc).put(t,Mx(n)),await i.done}catch(e){if(e instanceof is)Ns.warn(e.message);else{const i=Cr.create("idb-set",{originalErrorMessage:e?.message});Ns.warn(i.message)}}}function Mx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=1024,t2=30;class e2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new i2(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>t2){const r=s2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kb(),{heartbeatsToSend:e,unsentEntries:i}=n2(this._heartbeatsCache.heartbeats),r=Sf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ns.warn(t),""}}}function kb(){return new Date().toISOString().substring(0,10)}function n2(n,t=JC){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Vb(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Vb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class i2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HR()?qR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await ZC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Nb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Nb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Vb(n){return Sf(JSON.stringify({version:2,heartbeats:n})).length}function s2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n){Ma(new Or("platform-logger",t=>new _C(t),"PRIVATE")),Ma(new Or("heartbeat",t=>new e2(t),"PRIVATE")),Yi(ep,Db,n),Yi(ep,Db,"esm2020"),Yi("fire-js","")}r2("");var a2="firebase",o2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(a2,o2,"app");function Dx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l2=Dx,Ox=new eu("auth","Firebase",Dx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new kp("@firebase/auth");function c2(n,...t){Af.logLevel<=zt.WARN&&Af.warn(`Auth (${za}): ${n}`,...t)}function hf(n,...t){Af.logLevel<=zt.ERROR&&Af.error(`Auth (${za}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n,...t){throw zp(n,...t)}function yi(n,...t){return zp(n,...t)}function Lp(n,t,e){const i={...l2(),[t]:e};return new eu("auth","Firebase",i).create(t,{appName:n.name})}function Aa(n){return Lp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u2(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Ji(n,"argument-error"),Lp(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Ox.create(n,...t)}function xt(n,t,...e){if(!n)throw zp(t,...e)}function Is(n){const t="INTERNAL ASSERTION FAILED: "+n;throw hf(t),new Error(t)}function ks(n,t){n||Is(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){return typeof self<"u"&&self.location?.href||""}function h2(){return Pb()==="http:"||Pb()==="https:"}function Pb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||UR()||"connection"in navigator)?navigator.onLine:!0}function d2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ks(e>t,"Short delay should be less than long delay!"),this.isMobile=PR()||jR()}get(){return f2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n,t){ks(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p2=new iu(3e4,6e4);function jp(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function sl(n,t,e,i,r={}){return kx(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=nu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return zR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&La(n.emulatorConfig.host)&&(m.credentials="include"),Nx.fetch()(await Vx(n,n.config.apiHost,e,h),m)})}async function kx(n,t,e){n._canInitEmulator=!1;const i={...m2,...t};try{const r=new y2(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Fh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Fh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Fh(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Lp(n,_,m);Ji(n,_)}}catch(r){if(r instanceof is)throw r;Ji(n,"network-request-failed",{message:String(r)})}}async function _2(n,t,e,i,r={}){const o=await sl(n,t,e,i,r);return"mfaPendingCredential"in o&&Ji(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Vx(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Up(n.config,r):`${n.config.apiScheme}://${r}`;return g2.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(yi(this.auth,"network-request-failed")),p2.get())})}}function Fh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=yi(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(n,t){return sl(n,"POST","/v1/accounts:delete",t)}async function Rf(n,t){return sl(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function b2(n,t=!1){const e=Zn(n),i=await e.getIdToken(t),r=Bp(i);xt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Mc(Ng(r.auth_time)),issuedAtTime:Mc(Ng(r.iat)),expirationTime:Mc(Ng(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ng(n){return Number(n)*1e3}function Bp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const r=bx(e);return r?JSON.parse(r):(hf("Failed to decode base64 JWT payload"),null)}catch(r){return hf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Lb(n){const t=Bp(n);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof is&&T2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function T2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(n){const t=n.auth,e=await n.getIdToken(),i=await jc(n,Rf(t,{idToken:e}));xt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?Px(r.providerUserInfo):[],c=S2(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,m=h?f:!1,_={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new rp(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function x2(n){const t=Zn(n);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function S2(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Px(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,t){const e=await kx(n,{},async()=>{const i=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await Vx(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&La(n.emulatorConfig.host)&&(f.credentials="include"),Nx.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function A2(n,t){return sl(n,"POST","/v2/accounts:revokeToken",jp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Lb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const e=Lb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await w2(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Fo;return i&&(xt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(xt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(xt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n,t){xt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new E2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new rp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await jc(this,this.stsTokenManager.getToken(this.auth,t));return xt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return b2(this,t)}reload(){return x2(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Cf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Aa(this.auth));const t=await this.getIdToken();return await jc(this,v2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:y,emailVerified:T,isAnonymous:x,providerData:R,stsTokenManager:C}=e;xt(y&&C,t,"internal-error");const I=Fo.fromJSON(this.name,C);xt(typeof y=="string",t,"internal-error"),yr(i,t.name),yr(r,t.name),xt(typeof T=="boolean",t,"internal-error"),xt(typeof x=="boolean",t,"internal-error"),yr(o,t.name),yr(c,t.name),yr(h,t.name),yr(f,t.name),yr(m,t.name),yr(_,t.name);const L=new gi({uid:y,auth:t,email:r,emailVerified:T,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:I,createdAt:m,lastLoginAt:_});return R&&Array.isArray(R)&&(L.providerData=R.map(G=>({...G}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(t,e,i=!1){const r=new Fo;r.updateFromServerResponse(e);const o=new gi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Cf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];xt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Px(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Fo;h.updateFromIdToken(i);const f=new gi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new rp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Map;function Ms(n){ks(n instanceof Function,"Expected a class definition");let t=zb.get(n);return t?(ks(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,zb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Lx.type="NONE";const Ub=Lx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n,t,e){return`firebase:${n}:${t}:${e}`}class Ho{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=ff(this.userKey,r.apiKey,o),this.fullPersistenceKey=ff("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Rf(this.auth,{idToken:t}).catch(()=>{});return e?gi._fromGetAccountInfoResponse(this.auth,e,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Ho(Ms(Ub),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Ms(Ub);const c=ff(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const _=await m._get(c);if(_){let y;if(typeof _=="string"){const T=await Rf(t,{idToken:_}).catch(()=>{});if(!T)break;y=await gi._fromGetAccountInfoResponse(t,T,_)}else y=gi._fromJSON(t,_);m!==o&&(h=y),o=m;break}}catch{}const f=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ho(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Ho(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hx(t))return"Blackberry";if(qx(t))return"Webos";if(Ux(t))return"Safari";if((t.includes("chrome/")||jx(t))&&!t.includes("edge/"))return"Chrome";if(Fx(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function zx(n=hn()){return/firefox\//i.test(n)}function Ux(n=hn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jx(n=hn()){return/crios\//i.test(n)}function Bx(n=hn()){return/iemobile/i.test(n)}function Fx(n=hn()){return/android/i.test(n)}function Hx(n=hn()){return/blackberry/i.test(n)}function qx(n=hn()){return/webos/i.test(n)}function Fp(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function R2(n=hn()){return Fp(n)&&!!window.navigator?.standalone}function C2(){return BR()&&document.documentMode===10}function Gx(n=hn()){return Fp(n)||Fx(n)||qx(n)||Hx(n)||/windows phone/i.test(n)||Bx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n,t=[]){let e;switch(n){case"Browser":e=jb(hn());break;case"Worker":e=`${jb(hn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${za}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(n,t={}){return sl(n,"GET","/v2/passwordPolicy",jp(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=6;class O2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??D2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bb(this),this.idTokenSubscription=new Bb(this),this.beforeStateQueue=new I2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ms(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ho.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Rf(this,{idToken:t}),i=await gi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=d2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Aa(this));const e=t?Zn(t):null;return e&&xt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await M2(this),e=new O2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new eu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await A2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ms(t)||this._popupRedirectResolver;xt(e,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Ms(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&c2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ed(n){return Zn(n)}class Bb{constructor(t){this.auth=t,this.observer=null,this.addObserver=QR(e=>this.observer=e)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k2(n){Hp=n}function V2(n){return Hp.loadJS(n)}function P2(){return Hp.gapiScript}function L2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(n,t){const e=td(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Ia(o,t??{}))return r;Ji(r,"already-initialized")}return e.initialize({options:t})}function U2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ms);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function j2(n,t,e){const i=ed(n);xt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=Kx(t),{host:c,port:h}=B2(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xt(Ia(m,i.config.emulator)&&Ia(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,La(c)?(Op(`${o}//${c}${f}`),Np("Auth",!0)):F2()}function Kx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function B2(n){const t=Kx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Fb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Fb(c)}}}function Fb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function F2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Is("not implemented")}_getIdTokenResponse(t){return Is("not implemented")}_linkToIdToken(t,e){return Is("not implemented")}_getReauthenticationResolver(t){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n,t){return _2(n,"POST","/v1/accounts:signInWithIdp",jp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="http://localhost";class Da extends Xx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ji("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Da(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return qo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,qo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,qo(t,e)}buildRequest(){const t={requestUri:H2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=nu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends qp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends su{constructor(){super("facebook.com")}static credential(t){return Da._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return br.credential(t.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Da._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Cs.credentialFromTaggedObject(t)}static credentialFromError(t){return Cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Cs.credential(e,i)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends su{constructor(){super("github.com")}static credential(t){return Da._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends su{constructor(){super("twitter.com")}static credential(t,e){return Da._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Er.credential(e,i)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await gi._fromIdTokenResponse(t,i,r),c=Hb(i);return new Qo({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Hb(i);return new Qo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Hb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends is{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,If.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new If(t,e,i,r)}}function Qx(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(n,o,t,i):o})}async function q2(n,t,e=!1){const i=await jc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Qo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,t,e=!1){const{auth:i}=n;if(Xn(i.app))return Promise.reject(Aa(i));const r="reauthenticate";try{const o=await jc(n,Qx(i,r,t,n),e);xt(o.idToken,i,"internal-error");const c=Bp(o.idToken);xt(c,i,"internal-error");const{sub:h}=c;return xt(n.uid===h,i,"user-mismatch"),Qo._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ji(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(n,t,e=!1){if(Xn(n.app))return Promise.reject(Aa(n));const i="signIn",r=await Qx(n,i,t),o=await Qo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}function K2(n,t,e,i){return Zn(n).onIdTokenChanged(t,e,i)}function X2(n,t,e){return Zn(n).beforeAuthStateChanged(t,e)}const Mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1e3,$2=10;class Wx extends $x{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);C2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,$2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Wx.type="LOCAL";const W2=Wx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends $x{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Zx.type="SESSION";const Jx=Zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new nd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await Z2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=Gp("",20);r.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(y){const T=y;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function tI(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function eI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nI(){return navigator?.serviceWorker?.controller||null}function iI(){return tS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebaseLocalStorageDb",sI=1,Df="firebaseLocalStorage",nS="fbase_key";class ru{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function id(n,t){return n.transaction([Df],t?"readwrite":"readonly").objectStore(Df)}function rI(){const n=indexedDB.deleteDatabase(eS);return new ru(n).toPromise()}function ap(){const n=indexedDB.open(eS,sI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Df,{keyPath:nS})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Df)?t(i):(i.close(),await rI(),t(await ap()))})})}async function qb(n,t,e){const i=id(n,!0).put({[nS]:t,value:e});return new ru(i).toPromise()}async function aI(n,t){const e=id(n,!1).get(t),i=await new ru(e).toPromise();return i===void 0?null:i.value}function Gb(n,t){const e=id(n,!0).delete(t);return new ru(e).toPromise()}const oI=800,lI=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>lI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(iI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eI(),!this.activeServiceWorker)return;this.sender=new J2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ap();return await qb(t,Mf,"1"),await Gb(t,Mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>qb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>aI(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Gb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=id(r,!1).getAll();return new ru(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const cI=iS;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n,t){return t?Ms(t):(xt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Xx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return qo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return qo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function uI(n){return Y2(n.auth,new Yp(n),n.bypassAuthState)}function hI(n){const{auth:t,user:e}=n;return xt(e,t,"internal-error"),G2(e,new Yp(n),n.bypassAuthState)}async function fI(n){const{auth:t,user:e}=n;return xt(e,t,"internal-error"),q2(e,new Yp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uI;case"linkViaPopup":case"linkViaRedirect":return fI;case"reauthViaPopup":case"reauthViaRedirect":return hI;default:Ji(this.auth,"internal-error")}}resolve(t){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new iu(2e3,1e4);async function mI(n,t,e){if(Xn(n.app))return Promise.reject(yi(n,"operation-not-supported-in-this-environment"));const i=ed(n);u2(n,t,qp);const r=sS(i,e);return new xa(i,"signInViaPopup",t,r).executeNotNull()}class xa extends rS{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const t=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dI.get())};t()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="pendingRedirect",df=new Map;class pI extends rS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=df.get(this.auth._key());if(!t){try{const i=await _I(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}df.set(this.auth._key(),t)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _I(n,t){const e=bI(t),i=vI(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function yI(n,t){df.set(n._key(),t)}function vI(n){return Ms(n._redirectPersistence)}function bI(n){return ff(gI,n.config.apiKey,n.name)}async function TI(n,t,e=!1){if(Xn(n.app))return Promise.reject(Aa(n));const i=ed(n),r=sS(i,t),c=await new pI(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=600*1e3;class xI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!aS(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(yi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yb(t))}saveEventToCache(t){this.cachedEventUids.add(Yb(t)),this.lastProcessedEventTime=Date.now()}}function Yb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function aS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function SI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(n,t={}){return sl(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RI=/^https?/;async function CI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await wI(n);for(const e of t)try{if(II(e))return}catch{}Ji(n,"unauthorized-domain")}function II(n){const t=sp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!RI.test(e))return!1;if(AI.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new iu(3e4,6e4);function Kb(){const n=Ki().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function DI(n){return new Promise((t,e)=>{function i(){Kb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kb(),e(yi(n,"network-request-failed"))},timeout:MI.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)i();else{const r=L2("iframefcb");return Ki()[r]=()=>{gapi.load?i():e(yi(n,"network-request-failed"))},V2(`${P2()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw mf=null,t})}let mf=null;function OI(n){return mf=mf||DI(n),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new iu(5e3,15e3),kI="__/auth/iframe",VI="emulator/auth/iframe",PI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(n){const t=n.config;xt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Up(t,VI):`https://${n.config.authDomain}/${kI}`,i={apiKey:t.apiKey,appName:n.name,v:za},r=LI.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${nu(i).slice(1)}`}async function UI(n){const t=await OI(n),e=Ki().gapi;return xt(e,n,"internal-error"),t.open({where:document.body,url:zI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PI,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=yi(n,"network-request-failed"),h=Ki().setTimeout(()=>{o(c)},NI.get());function f(){Ki().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BI=500,FI=600,HI="_blank",qI="http://localhost";class Xb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GI(n,t,e,i=BI,r=FI){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...jI,width:i.toString(),height:r.toString(),top:o,left:c},m=hn().toLowerCase();e&&(h=jx(m)?HI:e),zx(m)&&(t=t||qI,f.scrollbars="yes");const _=Object.entries(f).reduce((T,[x,R])=>`${T}${x}=${R},`,"");if(R2(m)&&h!=="_self")return YI(t||"",h),new Xb(null);const y=window.open(t||"",h,_);xt(y,n,"popup-blocked");try{y.focus()}catch{}return new Xb(y)}function YI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="__/auth/handler",XI="emulator/auth/handler",QI=encodeURIComponent("fac");async function Qb(n,t,e,i,r,o){xt(n.config.authDomain,n,"auth-domain-config-required"),xt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:za,eventId:r};if(t instanceof qp){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",XR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,y]of Object.entries({}))c[_]=y}if(t instanceof su){const _=t.getScopes().filter(y=>y!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),m=f?`#${QI}=${encodeURIComponent(f)}`:"";return`${$I(n)}?${nu(h).slice(1)}${m}`}function $I({config:n}){return n.emulator?Up(n,XI):`https://${n.authDomain}/${KI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="webStorageSupport";class WI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jx,this._completeRedirectFn=TI,this._overrideRedirectResult=yI}async _openPopup(t,e,i,r){ks(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Qb(t,e,i,sp(),r);return GI(t,o,Gp())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await Qb(t,e,i,sp(),r);return tI(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(ks(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await UI(t),i=new xI(t);return e.register("authEvent",r=>(xt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(kg,{type:kg},r=>{const o=r?.[0]?.[kg];o!==void 0&&e(!!o),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=CI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Gx()||Ux()||Fp()}}const ZI=WI;var $b="@firebase/auth",Wb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eM(n){Ma(new Or("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;xt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yx(n)},m=new N2(i,r,o,f);return U2(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ma(new Or("auth-internal",t=>{const e=ed(t.getProvider("auth").getImmediate());return(i=>new JI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi($b,Wb,tM(n)),Yi($b,Wb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=300,iM=Sx("authIdTokenMaxAge")||nM;let Zb=null;const sM=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>iM)return;const r=e?.token;Zb!==r&&(Zb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function rM(n=Pp()){const t=td(n,"auth");if(t.isInitialized())return t.getImmediate();const e=z2(n,{popupRedirectResolver:ZI,persistence:[cI,W2,Jx]}),i=Sx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=sM(o.toString());X2(e,c,()=>c(e.currentUser)),K2(e,h=>c(h))}}const r=Tx("auth");return r&&j2(e,`http://${r}`),e}function aM(){return document.getElementsByTagName("head")?.[0]??document}k2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=yi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",aM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eM("Browser");var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ir,oS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function D(){}D.prototype=w.prototype,M.F=w.prototype,M.prototype=new D,M.prototype.constructor=M,M.D=function(P,k,z){for(var N=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)N[Ot-2]=arguments[Ot];return w.prototype[k].apply(P,N)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,w,D){D||(D=0);const P=Array(16);if(typeof w=="string")for(var k=0;k<16;++k)P[k]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(k=0;k<16;++k)P[k]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=M.g[0],D=M.g[1],k=M.g[2];let z=M.g[3],N;N=w+(z^D&(k^z))+P[0]+3614090360&4294967295,w=D+(N<<7&4294967295|N>>>25),N=z+(k^w&(D^k))+P[1]+3905402710&4294967295,z=w+(N<<12&4294967295|N>>>20),N=k+(D^z&(w^D))+P[2]+606105819&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(w^k&(z^w))+P[3]+3250441966&4294967295,D=k+(N<<22&4294967295|N>>>10),N=w+(z^D&(k^z))+P[4]+4118548399&4294967295,w=D+(N<<7&4294967295|N>>>25),N=z+(k^w&(D^k))+P[5]+1200080426&4294967295,z=w+(N<<12&4294967295|N>>>20),N=k+(D^z&(w^D))+P[6]+2821735955&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(w^k&(z^w))+P[7]+4249261313&4294967295,D=k+(N<<22&4294967295|N>>>10),N=w+(z^D&(k^z))+P[8]+1770035416&4294967295,w=D+(N<<7&4294967295|N>>>25),N=z+(k^w&(D^k))+P[9]+2336552879&4294967295,z=w+(N<<12&4294967295|N>>>20),N=k+(D^z&(w^D))+P[10]+4294925233&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(w^k&(z^w))+P[11]+2304563134&4294967295,D=k+(N<<22&4294967295|N>>>10),N=w+(z^D&(k^z))+P[12]+1804603682&4294967295,w=D+(N<<7&4294967295|N>>>25),N=z+(k^w&(D^k))+P[13]+4254626195&4294967295,z=w+(N<<12&4294967295|N>>>20),N=k+(D^z&(w^D))+P[14]+2792965006&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(w^k&(z^w))+P[15]+1236535329&4294967295,D=k+(N<<22&4294967295|N>>>10),N=w+(k^z&(D^k))+P[1]+4129170786&4294967295,w=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(w^D))+P[6]+3225465664&4294967295,z=w+(N<<9&4294967295|N>>>23),N=k+(w^D&(z^w))+P[11]+643717713&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^w&(k^z))+P[0]+3921069994&4294967295,D=k+(N<<20&4294967295|N>>>12),N=w+(k^z&(D^k))+P[5]+3593408605&4294967295,w=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(w^D))+P[10]+38016083&4294967295,z=w+(N<<9&4294967295|N>>>23),N=k+(w^D&(z^w))+P[15]+3634488961&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^w&(k^z))+P[4]+3889429448&4294967295,D=k+(N<<20&4294967295|N>>>12),N=w+(k^z&(D^k))+P[9]+568446438&4294967295,w=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(w^D))+P[14]+3275163606&4294967295,z=w+(N<<9&4294967295|N>>>23),N=k+(w^D&(z^w))+P[3]+4107603335&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^w&(k^z))+P[8]+1163531501&4294967295,D=k+(N<<20&4294967295|N>>>12),N=w+(k^z&(D^k))+P[13]+2850285829&4294967295,w=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(w^D))+P[2]+4243563512&4294967295,z=w+(N<<9&4294967295|N>>>23),N=k+(w^D&(z^w))+P[7]+1735328473&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^w&(k^z))+P[12]+2368359562&4294967295,D=k+(N<<20&4294967295|N>>>12),N=w+(D^k^z)+P[5]+4294588738&4294967295,w=D+(N<<4&4294967295|N>>>28),N=z+(w^D^k)+P[8]+2272392833&4294967295,z=w+(N<<11&4294967295|N>>>21),N=k+(z^w^D)+P[11]+1839030562&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^w)+P[14]+4259657740&4294967295,D=k+(N<<23&4294967295|N>>>9),N=w+(D^k^z)+P[1]+2763975236&4294967295,w=D+(N<<4&4294967295|N>>>28),N=z+(w^D^k)+P[4]+1272893353&4294967295,z=w+(N<<11&4294967295|N>>>21),N=k+(z^w^D)+P[7]+4139469664&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^w)+P[10]+3200236656&4294967295,D=k+(N<<23&4294967295|N>>>9),N=w+(D^k^z)+P[13]+681279174&4294967295,w=D+(N<<4&4294967295|N>>>28),N=z+(w^D^k)+P[0]+3936430074&4294967295,z=w+(N<<11&4294967295|N>>>21),N=k+(z^w^D)+P[3]+3572445317&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^w)+P[6]+76029189&4294967295,D=k+(N<<23&4294967295|N>>>9),N=w+(D^k^z)+P[9]+3654602809&4294967295,w=D+(N<<4&4294967295|N>>>28),N=z+(w^D^k)+P[12]+3873151461&4294967295,z=w+(N<<11&4294967295|N>>>21),N=k+(z^w^D)+P[15]+530742520&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^w)+P[2]+3299628645&4294967295,D=k+(N<<23&4294967295|N>>>9),N=w+(k^(D|~z))+P[0]+4096336452&4294967295,w=D+(N<<6&4294967295|N>>>26),N=z+(D^(w|~k))+P[7]+1126891415&4294967295,z=w+(N<<10&4294967295|N>>>22),N=k+(w^(z|~D))+P[14]+2878612391&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~w))+P[5]+4237533241&4294967295,D=k+(N<<21&4294967295|N>>>11),N=w+(k^(D|~z))+P[12]+1700485571&4294967295,w=D+(N<<6&4294967295|N>>>26),N=z+(D^(w|~k))+P[3]+2399980690&4294967295,z=w+(N<<10&4294967295|N>>>22),N=k+(w^(z|~D))+P[10]+4293915773&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~w))+P[1]+2240044497&4294967295,D=k+(N<<21&4294967295|N>>>11),N=w+(k^(D|~z))+P[8]+1873313359&4294967295,w=D+(N<<6&4294967295|N>>>26),N=z+(D^(w|~k))+P[15]+4264355552&4294967295,z=w+(N<<10&4294967295|N>>>22),N=k+(w^(z|~D))+P[6]+2734768916&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~w))+P[13]+1309151649&4294967295,D=k+(N<<21&4294967295|N>>>11),N=w+(k^(D|~z))+P[4]+4149444226&4294967295,w=D+(N<<6&4294967295|N>>>26),N=z+(D^(w|~k))+P[11]+3174756917&4294967295,z=w+(N<<10&4294967295|N>>>22),N=k+(w^(z|~D))+P[2]+718787259&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~w))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+z&4294967295}i.prototype.v=function(M,w){w===void 0&&(w=M.length);const D=w-this.blockSize,P=this.C;let k=this.h,z=0;for(;z<w;){if(k==0)for(;z<=D;)r(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<w;)if(P[k++]=M.charCodeAt(z++),k==this.blockSize){r(this,P),k=0;break}}else for(;z<w;)if(P[k++]=M[z++],k==this.blockSize){r(this,P),k=0;break}}this.h=k,this.o+=w},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;w=this.o*8;for(var D=M.length-8;D<M.length;++D)M[D]=w&255,w/=256;for(this.v(M),M=Array(16),w=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)M[w++]=this.g[D]>>>P&255;return M};function o(M,w){var D=h;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=w(M)}function c(M,w){this.h=w;const D=[];let P=!0;for(let k=M.length-1;k>=0;k--){const z=M[k]|0;P&&z==w||(D[k]=z,P=!1)}this.g=D}var h={};function f(M){return-128<=M&&M<128?o(M,function(w){return new c([w|0],w<0?-1:0)}):new c([M|0],M<0?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return y;if(M<0)return I(m(-M));const w=[];let D=1;for(let P=0;M>=D;P++)w[P]=M/D|0,D*=4294967296;return new c(w,0)}function _(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return I(_(M.substring(1),w));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(w,8));let P=y;for(let z=0;z<M.length;z+=8){var k=Math.min(8,M.length-z);const N=parseInt(M.substring(z,z+k),w);k<8?(k=m(Math.pow(w,k)),P=P.j(k).add(m(N))):(P=P.j(D),P=P.add(m(N)))}return P}var y=f(0),T=f(1),x=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-I(this).m();let M=0,w=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);M+=(P>=0?P:4294967296+P)*w,w*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(C(this))return"-"+I(this).toString(M);const w=m(Math.pow(M,6));var D=this;let P="";for(;;){const k=Z(D,w).g;D=L(D,k.j(w));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(M);if(D=k,R(D))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(let w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function C(M){return M.h==-1}n.l=function(M){return M=L(this,M),C(M)?-1:R(M)?0:1};function I(M){const w=M.g.length,D=[];for(let P=0;P<w;P++)D[P]=~M.g[P];return new c(D,~M.h).add(T)}n.abs=function(){return C(this)?I(this):this},n.add=function(M){const w=Math.max(this.g.length,M.g.length),D=[];let P=0;for(let k=0;k<=w;k++){let z=P+(this.i(k)&65535)+(M.i(k)&65535),N=(z>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);P=N>>>16,z&=65535,N&=65535,D[k]=N<<16|z}return new c(D,D[D.length-1]&-2147483648?-1:0)};function L(M,w){return M.add(I(w))}n.j=function(M){if(R(this)||R(M))return y;if(C(this))return C(M)?I(this).j(I(M)):I(I(this).j(M));if(C(M))return I(this.j(I(M)));if(this.l(x)<0&&M.l(x)<0)return m(this.m()*M.m());const w=this.g.length+M.g.length,D=[];for(var P=0;P<2*w;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<M.g.length;k++){const z=this.i(P)>>>16,N=this.i(P)&65535,Ot=M.i(k)>>>16,Et=M.i(k)&65535;D[2*P+2*k]+=N*Et,G(D,2*P+2*k),D[2*P+2*k+1]+=z*Et,G(D,2*P+2*k+1),D[2*P+2*k+1]+=N*Ot,G(D,2*P+2*k+1),D[2*P+2*k+2]+=z*Ot,G(D,2*P+2*k+2)}for(M=0;M<w;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=w;M<2*w;M++)D[M]=0;return new c(D,0)};function G(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function X(M,w){this.g=M,this.h=w}function Z(M,w){if(R(w))throw Error("division by zero");if(R(M))return new X(y,y);if(C(M))return w=Z(I(M),w),new X(I(w.g),I(w.h));if(C(w))return w=Z(M,I(w)),new X(I(w.g),w.h);if(M.g.length>30){if(C(M)||C(w))throw Error("slowDivide_ only works with positive integers.");for(var D=T,P=w;P.l(M)<=0;)D=W(D),P=W(P);var k=rt(D,1),z=rt(P,1);for(P=rt(P,2),D=rt(D,2);!R(P);){var N=z.add(P);N.l(M)<=0&&(k=k.add(D),z=N),P=rt(P,1),D=rt(D,1)}return w=L(M,k.j(w)),new X(k,w)}for(k=y;M.l(w)>=0;){for(D=Math.max(1,Math.floor(M.m()/w.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=m(D),N=z.j(w);C(N)||N.l(M)>0;)D-=P,z=m(D),N=z.j(w);R(z)&&(z=T),k=k.add(z),M=L(M,N)}return new X(k,M)}n.B=function(M){return Z(this,M).h},n.and=function(M){const w=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<w;P++)D[P]=this.i(P)&M.i(P);return new c(D,this.h&M.h)},n.or=function(M){const w=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<w;P++)D[P]=this.i(P)|M.i(P);return new c(D,this.h|M.h)},n.xor=function(M){const w=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<w;P++)D[P]=this.i(P)^M.i(P);return new c(D,this.h^M.h)};function W(M){const w=M.g.length+1,D=[];for(let P=0;P<w;P++)D[P]=M.i(P)<<1|M.i(P-1)>>>31;return new c(D,M.h)}function rt(M,w){const D=w>>5;w%=32;const P=M.g.length-D,k=[];for(let z=0;z<P;z++)k[z]=w>0?M.i(z+D)>>>w|M.i(z+D+1)<<32-w:M.i(z+D);return new c(k,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,oS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Ir=c}).apply(typeof Jb<"u"?Jb:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lS,Ec,cS,gf,op,uS,hS,fS;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var E=i;d=d.split(".");for(var A=0;A<d.length-1;A++){var F=d[A];if(!(F in E))break t;E=E[F]}d=d[d.length-1],A=E[d],v=v(A),v!=A&&v!=null&&t(E,d,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(d){return d||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,E){return d.call.apply(d.bind,arguments)}function m(d,v,E){return m=f,m.apply(null,arguments)}function _(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function y(d,v){function E(){}E.prototype=v.prototype,d.Z=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(A,F,Q){for(var ot=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ot[Rt-2]=arguments[Rt];return v.prototype[F].apply(A,ot)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function x(d){const v=d.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=d[A];return E}return[]}function R(d,v){for(let A=1;A<arguments.length;A++){const F=arguments[A];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=d.length||0;const Q=F.length||0;d.length=E+Q;for(let ot=0;ot<Q;ot++)d[E+ot]=F[ot]}else d.push(F)}}class C{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function I(d){c.setTimeout(()=>{throw d},0)}function L(){var d=M;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,E){const A=X.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new C(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let W,rt=!1,M=new G,w=()=>{const d=Promise.resolve(void 0);W=()=>{d.then(D)}};function D(){for(var d;d=L();){try{d.h.call(d.g)}catch(E){I(E)}var v=X;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}rt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return d})();function N(d){return/^[\s\xa0]*$/.test(d)}function Ot(d,v){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}y(Ot,k),Ot.prototype.init=function(d,v){const E=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ot.Z.h.call(this)},Ot.prototype.h=function(){Ot.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),K=0;function at(d,v,E,A,F){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=F,this.key=++K,this.da=this.fa=!1}function ht(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function vt(d,v,E){for(const A in d)v.call(E,d[A],A,d)}function Vt(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function U(d){const v={};for(const E in d)v[E]=d[E];return v}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(d,v){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)d[E]=A[E];for(let Q=0;Q<tt.length;Q++)E=tt[Q],Object.prototype.hasOwnProperty.call(A,E)&&(d[E]=A[E])}}function ct(d){this.src=d,this.g={},this.h=0}ct.prototype.add=function(d,v,E,A,F){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const ot=bt(d,v,A,F);return ot>-1?(v=d[ot],E||(v.fa=!1)):(v=new at(v,this.src,Q,!!A,F),v.fa=E,d.push(v)),v};function _t(d,v){const E=v.type;if(E in d.g){var A=d.g[E],F=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(A,F,1),Q&&(ht(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function bt(d,v,E,A){for(let F=0;F<d.length;++F){const Q=d[F];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==A)return F}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Pe={};function fe(d,v,E,A,F){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)fe(d,v[Q],E,A,F);return null}return E=dl(E),d&&d[Et]?d.J(v,E,h(A)?!!A.capture:!1,F):jr(d,v,E,!1,A,F)}function jr(d,v,E,A,F,Q){if(!v)throw Error("Invalid event type");const ot=h(F)?!!F.capture:!!F;let Rt=Br(d);if(Rt||(d[Ft]=Rt=new ct(d)),E=Rt.add(v,E,A,ot,Q),E.proxy)return E;if(A=Ga(),E.proxy=A,A.src=d,A.listener=E,d.addEventListener)z||(F=ot),F===void 0&&(F=!1),d.addEventListener(v.toString(),A,F);else if(d.attachEvent)d.attachEvent(bi(v.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ga(){function d(E){return v.call(d.src,d.listener,E)}const v=hl;return d}function Ya(d,v,E,A,F){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Ya(d,v[Q],E,A,F);else A=h(A)?!!A.capture:!!A,E=dl(E),d&&d[Et]?(d=d.i,Q=String(v).toString(),Q in d.g&&(v=d.g[Q],E=bt(v,E,A,F),E>-1&&(ht(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete d.g[Q],d.h--)))):d&&(d=Br(d))&&(v=d.g[v.toString()],d=-1,v&&(d=bt(v,E,A,F)),(E=d>-1?v[d]:null)&&Ka(E))}function Ka(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Et])_t(v.i,d);else{var E=d.type,A=d.proxy;v.removeEventListener?v.removeEventListener(E,A,d.capture):v.detachEvent?v.detachEvent(bi(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Br(v))?(_t(E,d),E.h==0&&(E.src=null,v[Ft]=null)):ht(d)}}}function bi(d){return d in Pe?Pe[d]:Pe[d]="on"+d}function hl(d,v){if(d.da)d=!0;else{v=new Ot(v,this);const E=d.listener,A=d.ha||d.src;d.fa&&Ka(d),d=E.call(A,v)}return d}function Br(d){return d=d[Ft],d instanceof ct?d:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(d){return typeof d=="function"?d:(d[fl]||(d[fl]=function(v){return d.handleEvent(v)}),d[fl])}function we(){P.call(this),this.i=new ct(this),this.M=this,this.G=null}y(we,P),we.prototype[Et]=!0,we.prototype.removeEventListener=function(d,v,E,A){Ya(this,d,v,E,A)};function Le(d,v){var E,A=d.G;if(A)for(E=[];A;A=A.G)E.push(A);if(d=d.M,A=v.type||v,typeof v=="string")v=new k(v,d);else if(v instanceof k)v.target=v.target||d;else{var F=v;v=new k(A,d),lt(v,F)}F=!0;let Q,ot;if(E)for(ot=E.length-1;ot>=0;ot--)Q=v.g=E[ot],F=Us(Q,A,!0,v)&&F;if(Q=v.g=d,F=Us(Q,A,!0,v)&&F,F=Us(Q,A,!1,v)&&F,E)for(ot=0;ot<E.length;ot++)Q=v.g=E[ot],F=Us(Q,A,!1,v)&&F}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const E=d.g[v];for(let A=0;A<E.length;A++)ht(E[A]);delete d.g[v],d.h--}}this.G=null},we.prototype.J=function(d,v,E,A){return this.i.add(String(d),v,!1,E,A)},we.prototype.K=function(d,v,E,A){return this.i.add(String(d),v,!0,E,A)};function Us(d,v,E,A){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let Q=0;Q<v.length;++Q){const ot=v[Q];if(ot&&!ot.da&&ot.capture==E){const Rt=ot.listener,be=ot.ha||ot.src;ot.fa&&_t(d.i,ot),F=Rt.call(be,A)!==!1&&F}}return F&&!A.defaultPrevented}function Sd(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(d,v||0)}function du(d){d.g=Sd(()=>{d.g=null,d.i&&(d.i=!1,du(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class fn extends P{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(d){P.call(this),this.h=d,this.g={}}y(Fr,P);var ml=[];function gl(d){vt(d.g,function(v,E){this.g.hasOwnProperty(E)&&Ka(v)},d),d.g={}}Fr.prototype.N=function(){Fr.Z.N.call(this),gl(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=c.JSON.stringify,wd=c.JSON.parse,mu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function gu(){}function pu(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){k.call(this,"d")}y(Xe,k);function kn(){k.call(this,"c")}y(kn,k);var ve={},_u=null;function Xa(){return _u=_u||new we}ve.Ia="serverreachability";function yu(d){k.call(this,ve.Ia,d)}y(yu,k);function Ti(d){const v=Xa();Le(v,new yu(v))}ve.STAT_EVENT="statevent";function Hr(d,v){k.call(this,ve.STAT_EVENT,d),this.stat=v}y(Hr,k);function Ae(d){const v=Xa();Le(v,new Hr(v,d))}ve.Ja="timingevent";function Ei(d,v){k.call(this,ve.Ja,d),this.size=v}y(Ei,k);function xi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Ad(d,v,E,A,F,Q){d.info(function(){if(d.g)if(Q){var ot="",Rt=Q.split("&");for(let Kt=0;Kt<Rt.length;Kt++){var be=Rt[Kt].split("=");if(be.length>1){const de=be[0];be=be[1];const zn=de.split("_");ot=zn.length>=2&&zn[1]=="type"?ot+(de+"="+be+"&"):ot+(de+"=redacted&")}}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+E+`
`+ot})}function vu(d,v,E,A,F,Q,ot){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+E+`
`+Q+" "+ot})}function Si(d,v,E,A){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Rd(d,E)+(A?" "+A:"")})}function qr(d,v){d.info(function(){return"TIMEOUT: "+v})}ii.prototype.info=function(){};function Rd(d,v){if(!d.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var E=Q[d];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return js(Q)}catch{return v}}var Gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function Yr(){}y(Yr,gu),Yr.prototype.g=function(){return new XMLHttpRequest},_l=new Yr;function rs(d){return encodeURIComponent(String(d))}function bu(d){var v=1;d=d.split(":");const E=[];for(;v>0&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function si(d,v,E,A){this.j=d,this.i=v,this.l=E,this.S=A||1,this.V=new Fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Re={},qe={};function wi(d,v,E){d.M=1,d.A=Kr(Ie(v)),d.u=E,d.R=!0,Qa(d,null)}function Qa(d,v){d.F=Date.now(),Ai(d),d.B=Ie(d.A);var E=d.B,A=d.S;Array.isArray(A)||(A=[String(A)]),Ja(E.i,"t",A),d.C=0,E=d.j.L,d.h=new ri,d.g=Vu(d.j,E?v:null,!d.u),d.P>0&&(d.O=new fn(m(d.Y,d,d.g),d.P)),v=d.V,E=d.g,A=d.ba;var F="readystatechange";Array.isArray(F)||(F&&(ml[0]=F.toString()),F=ml);for(let Q=0;Q<F.length;Q++){const ot=fe(E,F[Q],A||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=d.J?U(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Ti(),Ad(d.i,d.v,d.B,d.l,d.S,d.u)}si.prototype.ba=function(d){d=d.target;const v=this.O;v&&li(d)==3?v.j():this.Y(d)},si.prototype.Y=function(d){try{if(d==this.g)t:{const Rt=li(this.g),be=this.g.ya(),Kt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Rt!=4||be==7||(be==8||Kt<=0?Ti(3):Ti(2)),Ri(this);var v=this.g.ca();this.X=v;var E=Cd(this);if(this.o=v==200,vu(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Q=A;break e}}Q=null}if(d=Q)Si(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,d);else{this.o=!1,this.m=3,Ae(12),wn(this),Vn(this);break t}}if(this.R){d=!0;let de;for(;!this.K&&this.C<E.length;)if(de=Eu(this,E),de==qe){Rt==4&&(this.m=4,Ae(14),d=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Re){this.m=4,Ae(15),Si(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Si(this.i,this.l,de,null),Ci(this,de);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),d=!1),this.o=this.o&&d,!d)Si(this.i,this.l,E,"[Invalid Chunked Response]"),wn(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ol(ot),ot.P=!0,Ae(11))}}else Si(this.i,this.l,E,null),Ci(this,E);Rt==4&&wn(this),this.o&&!this.K&&(Rt==4?Du(this.j,this):(this.o=!1,Ai(this)))}else os(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),wn(this),Vn(this)}}}catch{}finally{}};function Cd(d){if(!Tu(d))return d.g.la();const v=Qe(d.g);if(v==="")return"";let E="";const A=v.length,F=li(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return wn(d),Vn(d),"";d.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)d.h.h=!0,E+=d.h.i.decode(v[Q],{stream:!(F&&Q==A-1)});return v.length=0,d.h.g+=E,d.C=0,d.h.g}function Tu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Eu(d,v){var E=d.C,A=v.indexOf(`
`,E);return A==-1?qe:(E=Number(v.substring(E,A)),isNaN(E)?Re:(A+=1,A+E>v.length?qe:(v=v.slice(A,A+E),d.C=A+E,v)))}si.prototype.cancel=function(){this.K=!0,wn(this)};function Ai(d){d.T=Date.now()+d.H,$a(d,d.H)}function $a(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=xi(m(d.aa,d),v)}function Ri(d){d.D&&(c.clearTimeout(d.D),d.D=null)}si.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(qr(this.i,this.B),this.M!=2&&(Ti(),Ae(17)),wn(this),this.m=2,Vn(this)):$a(this,this.T-d)};function Vn(d){d.j.I==0||d.K||Du(d.j,d)}function wn(d){Ri(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,gl(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ci(d,v){try{var E=d.j;if(E.I!=0&&(E.g==d||Mi(E.h,d))){if(!d.L&&Mi(E.h,d)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)so(E),Xs(E);else break t;ta(E),Ae(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=xi(m(E.Va,E),6e3));Ii(E.h)<=1&&E.ta&&(E.ta=void 0)}else Pi(E,11)}else if((d.L||E.g==d)&&so(E),!N(v))for(F=E.Ba.g.parse(v),v=0;v<F.length;v++){let Kt=F[v];const de=Kt[0];if(!(de<=E.K))if(E.K=de,Kt=Kt[1],E.I==2)if(Kt[0]=="c"){E.M=Kt[1],E.ba=Kt[2];const zn=Kt[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Li=Kt[4];Li!=null&&(E.za=Li,E.j.info("SVER="+E.za));const ci=Kt[5];ci!=null&&typeof ci=="number"&&ci>0&&(A=1.5*ci,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ui=d.g;if(ui){const ea=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var Q=A.h;Q.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(bl(Q,Q.h),Q.h=null))}if(A.G){const ro=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(A.wa=ro,Wt(A.J,A.G,ro))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ot=d;if(A.na=ku(A,A.L?A.ba:null,A.W),ot.L){Tl(A.h,ot);var Rt=ot,be=A.O;be&&(Rt.H=be),Rt.D&&(Ri(Rt),Ai(Rt)),A.g=ot}else Iu(A);E.i.length>0&&Vi(E)}else Kt[0]!="stop"&&Kt[0]!="close"||Pi(E,7);else E.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Pi(E,7):Ml(E):Kt[0]!="noop"&&E.l&&E.l.qa(Kt),E.A=0)}}Ti(4)}catch{}}var Ce=class{constructor(d,v){this.g=d,this.map=v}};function yl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ii(d){return d.h?1:d.g?d.g.size:0}function Mi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function bl(d,v){d.g?d.g.add(v):d.h=v}function Tl(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}yl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function El(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.G);return v}return x(d.i)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(d,v){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const A=d[E].indexOf("=");let F,Q=null;A>=0?(F=d[E].substring(0,A),Q=d[E].substring(A+1)):F=d[E],v(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof An?(this.l=d.l,Ge(this,d.j),this.o=d.o,this.g=d.g,Bs(this,d.u),this.h=d.h,xl(this,Ru(d.i)),this.m=d.m):d&&(v=String(d).match(xu))?(this.l=!1,Ge(this,v[1]||"",!0),this.o=Di(v[2]||""),this.g=Di(v[3]||"",!0),Bs(this,v[4]),this.h=Di(v[5]||"",!0),xl(this,v[6]||"",!0),this.m=Di(v[7]||"")):(this.l=!1,this.i=new Hs(null,this.l))}An.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Xr(v,Za,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Xr(v,Za,!0),"@"),d.push(rs(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Xr(E,E.charAt(0)=="/"?Sl:Su,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Xr(E,wu)),d.join("")},An.prototype.resolve=function(d){const v=Ie(this);let E=!!d.j;E?Ge(v,d.j):E=!!d.o,E?v.o=d.o:E=!!d.g,E?v.g=d.g:E=d.u!=null;var A=d.h;if(E)Bs(v,d.u);else if(E=!!d.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=v.h.lastIndexOf("/");F!=-1&&(A=v.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let ot=0;ot<F.length;){const Rt=F[ot++];Rt=="."?A&&ot==F.length&&Q.push(""):Rt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ot==F.length&&Q.push("")):(Q.push(Rt),A=!0)}A=Q.join("/")}else A=F}return E?v.h=A:E=d.i.toString()!=="",E?xl(v,Ru(d.i)):E=!!d.m,E&&(v.m=d.m),v};function Ie(d){return new An(d)}function Ge(d,v,E){d.j=E?Di(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Bs(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function xl(d,v,E){v instanceof Hs?(d.i=v,to(d.i,d.l)):(E||(v=Xr(v,Fs)),d.i=new Hs(v,d.l))}function Wt(d,v,E){d.i.set(v,E)}function Kr(d){return Wt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Di(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Xr(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,gn),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function gn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Za=/[#\/\?@]/g,Su=/[#\?:]/g,Sl=/[#\?]/g,Fs=/[#\?@]/g,wu=/#/g;function Hs(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function pn(d){d.g||(d.g=new Map,d.h=0,d.i&&Wa(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Hs.prototype,n.add=function(d,v){pn(this),this.i=null,d=qs(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function Au(d,v){pn(d),v=qs(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function wl(d,v){return pn(d),v=qs(d,v),d.g.has(v)}n.forEach=function(d,v){pn(this),this.g.forEach(function(E,A){E.forEach(function(F){d.call(v,F,A,this)},this)},this)};function Al(d,v){pn(d);let E=[];if(typeof v=="string")wl(d,v)&&(E=E.concat(d.g.get(qs(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)E=E.concat(d[v]);return E}n.set=function(d,v){return pn(this),this.i=null,d=qs(this,d),wl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=Al(this,d),d.length>0?String(d[0]):v):v};function Ja(d,v,E){Au(d,v),E.length>0&&(d.i=null,d.g.set(qs(d,v),x(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const F=rs(E);E=Al(this,E);for(let Q=0;Q<E.length;Q++){let ot=F;E[Q]!==""&&(ot+="="+rs(E[Q])),d.push(ot)}}return this.i=d.join("&")};function Ru(d){const v=new Hs;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function qs(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function to(d,v){v&&!d.j&&(pn(d),d.i=null,d.g.forEach(function(E,A){const F=A.toLowerCase();A!=F&&(Au(this,A),Ja(this,F,E))},d)),d.j=v}function ai(d,v){const E=new ii;if(c.Image){const A=new Image;A.onload=_(Pn,E,"TestLoadImage: loaded",!0,v,A),A.onerror=_(Pn,E,"TestLoadImage: error",!1,v,A),A.onabort=_(Pn,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=_(Pn,E,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else v(!1)}function Rl(d,v){const E=new ii,A=new AbortController,F=setTimeout(()=>{A.abort(),Pn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:A.signal}).then(Q=>{clearTimeout(F),Q.ok?Pn(E,"TestPingServer: ok",!0,v):Pn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Pn(E,"TestPingServer: error",!1,v)})}function Pn(d,v,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function Gs(){this.g=new mu}function Oi(d){this.i=d.Sb||null,this.h=d.ab||!1}y(Oi,gu),Oi.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(d,v){we.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Qr,we),n=Qr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,oi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function eo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ys(this):oi(this),this.readyState==3&&eo(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Ys(this))},n.Na=function(d){this.g&&(this.response=d,Ys(this))},n.ga=function(){this.g&&Ys(this)};function Ys(d){d.readyState=4,d.l=null,d.j=null,d.B=null,oi(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function oi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ln(d){let v="";return vt(d,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function $r(d,v,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=Ln(E),typeof d=="string"?E!=null&&rs(E):Wt(d,v,E))}function ne(d){we.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(ne,we);var Ni=/^https?$/i,Cl=["POST","PUT"];n=ne.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){Wr(this,Q);return}if(d=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Cl,v,void 0)>=0)||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of E)this.g.setRequestHeader(Q,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){Wr(this,Q)}};function Wr(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Il(d),as(d)}function Il(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Le(this,"complete"),Le(this,"abort"),as(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},n.Xa=function(){Zr(this)};function Zr(d){if(d.h&&typeof o<"u"){if(d.v&&li(d)==4)setTimeout(d.Ca.bind(d),0);else if(Le(d,"readystatechange"),li(d)==4){d.h=!1;try{const Q=d.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var A;if(A=Q===0){let ot=String(d.D).match(xu)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),A=!Ni.test(ot?ot.toLowerCase():"")}E=A}if(E)Le(d,"complete"),Le(d,"success");else{d.o=6;try{var F=li(d)>2?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.ca()+"]",Il(d)}}finally{as(d)}}}}function as(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,v||Le(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function li(d){return d.g?d.g.readyState:0}n.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),wd(v)}};function Qe(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function os(d){const v={};d=(d.g&&li(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(N(d[A]))continue;var E=bu(d[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[F]||[];v[F]=Q,Q.push(E)}Vt(v,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function Ks(d){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,d),this.Za=ki("retryDelaySeedMs",1e4,d),this.Ta=ki("forwardChannelMaxRetries",2,d),this.va=ki("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(d&&d.concurrentRequestLimit),this.Ba=new Gs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ks.prototype,n.ka=8,n.I=1,n.connect=function(d,v,E,A){Ae(0),this.W=d,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=ku(this,null,this.W),Vi(this)};function Ml(d){if(no(d),d.I==3){var v=d.V++,E=Ie(d.J);if(Wt(E,"SID",d.M),Wt(E,"RID",v),Wt(E,"TYPE","terminate"),Jr(d,E),v=new si(d,d.j,v),v.M=2,v.A=Kr(Ie(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Vu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}Nu(d)}function Xs(d){d.g&&(Ol(d),d.g.cancel(),d.g=null)}function no(d){Xs(d),d.v&&(c.clearTimeout(d.v),d.v=null),so(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Vi(d){if(!vl(d.h)&&!d.m){d.m=!0;var v=d.Ea;W||w(),rt||(W(),rt=!0),M.add(v,d),d.D=0}}function io(d,v){return Ii(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=xi(m(d.Ea,d,v),Ou(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const F=new si(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=U(Q),lt(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Cu(this,F,v),E=Ie(this.J),Wt(E,"RID",d),Wt(E,"CVER",22),this.G&&Wt(E,"X-HTTP-Session-Id",this.G),Jr(this,E),Q&&(this.R?v="headers="+rs(Ln(Q))+"&"+v:this.u&&$r(E,this.u,Q)),bl(this.h,F),this.Ra&&Wt(E,"TYPE","init"),this.S?(Wt(E,"$req",v),Wt(E,"SID","null"),F.U=!0,wi(F,E,null)):wi(F,E,v),this.I=2}}else this.I==3&&(d?Dl(this,d):this.i.length==0||vl(this.h)||Dl(this))};function Dl(d,v){var E;v?E=v.l:E=d.V++;const A=Ie(d.J);Wt(A,"SID",d.M),Wt(A,"RID",E),Wt(A,"AID",d.K),Jr(d,A),d.u&&d.o&&$r(A,d.u,d.o),E=new si(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Cu(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),bl(d.h,E),wi(E,A,v)}function Jr(d,v){d.H&&vt(d.H,function(E,A){Wt(v,A,E)}),d.l&&vt({},function(E,A){Wt(v,A,E)})}function Cu(d,v,E){E=Math.min(d.i.length,E);const A=d.l?m(d.l.Ka,d.l,d):null;t:{var F=d.i;let Rt=-1;for(;;){const be=["count="+E];Rt==-1?E>0?(Rt=F[0].g,be.push("ofs="+Rt)):Rt=0:be.push("ofs="+Rt);let Kt=!0;for(let de=0;de<E;de++){var Q=F[de].g;const zn=F[de].map;if(Q-=Rt,Q<0)Rt=Math.max(0,F[de].g-100),Kt=!1;else try{Q="req"+Q+"_"||"";try{var ot=zn instanceof Map?zn:Object.entries(zn);for(const[Li,ci]of ot){let ui=ci;h(ci)&&(ui=js(ci)),be.push(Q+Li+"="+encodeURIComponent(ui))}}catch(Li){throw be.push(Q+"type="+encodeURIComponent("_badmap")),Li}}catch{A&&A(zn)}}if(Kt){ot=be.join("&");break t}}ot=void 0}return d=d.i.splice(0,E),v.G=d,ot}function Iu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;W||w(),rt||(W(),rt=!0),M.add(v,d),d.A=0}}function ta(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=xi(m(d.Da,d),Ou(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=xi(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Xs(this),Mu(this))};function Ol(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Mu(d){d.g=new si(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Ie(d.na);Wt(v,"RID","rpc"),Wt(v,"SID",d.M),Wt(v,"AID",d.K),Wt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Wt(v,"TO",d.ia),Wt(v,"TYPE","xmlhttp"),Jr(d,v),d.u&&d.o&&$r(v,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=Kr(Ie(v)),E.u=null,E.R=!0,Qa(E,d)}n.Va=function(){this.C!=null&&(this.C=null,Xs(this),ta(this),Ae(19))};function so(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Du(d,v){var E=null;if(d.g==v){so(d),Ol(d),d.g=null;var A=2}else if(Mi(d.h,v))E=v.G,Tl(d.h,v),A=1;else return;if(d.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var F=d.D;A=Xa(),Le(A,new Ei(A,E)),Vi(d)}else Iu(d);else if(F=v.m,F==3||F==0&&v.X>0||!(A==1&&io(d,v)||A==2&&ta(d)))switch(E&&E.length>0&&(v=d.h,v.i=v.i.concat(E)),F){case 1:Pi(d,5);break;case 4:Pi(d,10);break;case 3:Pi(d,6);break;default:Pi(d,2)}}}function Ou(d,v){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*v}function Pi(d,v){if(d.j.info("Error code "+v),v==2){var E=m(d.bb,d),A=d.Ua;const F=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ge(A,"https"),Kr(A),F?ai(A.toString(),E):Rl(A.toString(),E)}else Ae(2);d.I=0,d.l&&d.l.pa(v),Nu(d),no(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Nu(d){if(d.I=0,d.ja=[],d.l){const v=El(d.h);(v.length!=0||d.i.length!=0)&&(R(d.ja,v),R(d.ja,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.oa()}}function ku(d,v,E){var A=E instanceof An?Ie(E):new An(E);if(A.g!="")v&&(A.g=v+"."+A.g),Bs(A,A.u);else{var F=c.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const Q=new An(null);A&&Ge(Q,A),v&&(Q.g=v),F&&Bs(Q,F),E&&(Q.h=E),A=Q}return E=d.G,v=d.wa,E&&v&&Wt(A,E,v),Wt(A,"VER",d.ka),Jr(d,A),A}function Vu(d,v,E){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ne(new Oi({ab:E})):new ne(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}n=Pu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Qs(){}Qs.prototype.g=function(d,v){return new dn(d,v)};function dn(d,v){we.call(this),this.g=new Ks(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!N(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new ls(this)}y(dn,we),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ml(this.g)},dn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=js(d),d=E);v.i.push(new Ce(v.Ya++,d)),v.I==3&&Vi(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,dn.Z.N.call(this)};function Lu(d){Xe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const E in v){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}y(Lu,Xe);function zu(){kn.call(this),this.status=1}y(zu,kn);function ls(d){this.g=d}y(ls,Pu),ls.prototype.ra=function(){Le(this.g,"a")},ls.prototype.qa=function(d){Le(this.g,new Lu(d))},ls.prototype.pa=function(d){Le(this.g,new zu)},ls.prototype.oa=function(){Le(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,fS=function(){return new Qs},hS=function(){return Xa()},uS=ve,op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,gf=Gr,pl.COMPLETE="complete",cS=pl,pu.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",we.prototype.listen=we.prototype.J,Ec=pu,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,lS=ne}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const tT="@firebase/firestore",eT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new kp("@firebase/firestore");function zo(){return Oa.logLevel}function ut(n,...t){if(Oa.logLevel<=zt.DEBUG){const e=t.map(Kp);Oa.debug(`Firestore (${rl}): ${n}`,...e)}}function Vs(n,...t){if(Oa.logLevel<=zt.ERROR){const e=t.map(Kp);Oa.error(`Firestore (${rl}): ${n}`,...e)}}function $o(n,...t){if(Oa.logLevel<=zt.WARN){const e=t.map(Kp);Oa.warn(`Firestore (${rl}): ${n}`,...e)}}function Kp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,dS(n,i,e)}function dS(n,t,e){let i=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Vs(i),new Error(i)}function $t(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||dS(t,r,i)}function At(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends is{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(on.UNAUTHENTICATED)))}shutdown(){}}class lM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class cM{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$t(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Os,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Os)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($t(typeof i.accessToken=="string",31837,{l:i}),new mS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class uM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new uM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){$t(this.o===void 0,3512);const i=o=>{o.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?($t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new nT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=dM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ut(n,t){return n<t?-1:n>t?1:0}function lp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Vg(r)===Vg(o)?Ut(r,o):Vg(r)?1:-1}return Ut(n.length,t.length)}const mM=55296,gM=57343;function Vg(n){const t=n.charCodeAt(0);return t>=mM&&t<=gM}function Wo(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__name__";class Gi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Tt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Gi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Gi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ut(t.length,e.length)}static compareSegments(t,e){const i=Gi.isNumericId(t),r=Gi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Gi.extractNumericId(t).compare(Gi.extractNumericId(e)):lp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class ue extends Gi{construct(t,e,i){return new ue(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const pM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Gi{construct(t,e,i){return new en(t,e,i)}static isValidIdentifier(t){return pM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iT}static keyField(){return new en([iT])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new mt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new mt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new mt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ue.fromString(t))}static fromName(t){return new pt(ue.fromString(t).popFirst(5))}static empty(){return new pt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n,t,e){if(!e)throw new mt(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function _M(n,t,e,i){if(t===!0&&i===!0)throw new mt(st.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function sT(n){if(!pt.isDocumentKey(n))throw new mt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rT(n){if(pt.isDocumentKey(n))throw new mt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function Ps(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qp(n);throw new mt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,t){const e={typeString:n};return t&&(e.value=t),e}function au(n,t){if(!pS(n))throw new mt(st.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new mt(st.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=-62135596800,oT=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*oT);return new he(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<aT)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oT}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(au(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-aT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ve("string",he._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new he(0,0))}static max(){return new St(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function yM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new he(e+1,0):new he(e,i));return new Nr(r,pt.empty(),t)}function vM(n){return new Nr(n.readTime,n.key,Bc)}class Nr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Nr(St.min(),pt.empty(),Bc)}static max(){return new Nr(St.max(),pt.empty(),Bc)}}function bM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=pt.comparator(n.documentKey,t.documentKey),e!==0?e:Ut(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==TM)throw n;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,i)=>{e(t)}))}static reject(t){return new it(((e,i)=>{i(t)}))}static waitFor(t){return new it(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=it.resolve(!1);for(const i of t)e=e.next((r=>r?it.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new it(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((_=>{c[m]=_,++h,h===o&&i(c)}),(_=>r(_)))}}))}static doWhile(t,e){return new it(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function xM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ol(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-1;function rd(n){return n==null}function Of(n){return n===0&&1/n==-1/0}function SM(n){return typeof n=="number"&&Number.isInteger(n)&&!Of(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="";function wM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=lT(t)),t=AM(n.get(e),t);return lT(t)}function AM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case _S:e+="";break;default:e+=o}}return e}function lT(n){return n+_S+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ua(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qh(this.root,t,this.comparator,!0)}}class qh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=r??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new tn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new uT(this.data.getIterator())}getIteratorFrom(t){return new uT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class uT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new pi([])}unionWith(t){let e=new He(en.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new pi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wo(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vS("Invalid base64 string: "+o):o}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const RM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(n){if($t(!!n,39018),typeof n=="string"){let t=0;const e=RM.exec(n);if($t(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xe(n.seconds),nanos:xe(n.nanos)}}function xe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vr(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="server_timestamp",TS="__type__",ES="__previous_value__",xS="__local_write_time__";function Wp(n){return(n?.mapValue?.fields||{})[TS]?.stringValue===bS}function ad(n){const t=n.mapValue.fields[ES];return Wp(t)?ad(t):t}function Fc(n){const t=kr(n.mapValue.fields[xS].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t,e,i,r,o,c,h,f,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=_}}const Nf="(default)";class Hc{constructor(t,e){this.projectId=t,this.database=e||Nf}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===Nf}isEqual(t){return t instanceof Hc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="__type__",IM="__max__",Gh={mapValue:{}},wS="__vector__",kf="value";function Pr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wp(n)?4:DM(n)?9007199254740991:MM(n)?10:11:Tt(28295,{value:n})}function ts(n,t){if(n===t)return!0;const e=Pr(n);if(e!==Pr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Fc(n).isEqual(Fc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=kr(r.timestampValue),h=kr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Vr(r.bytesValue).isEqual(Vr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return xe(r.geoPointValue.latitude)===xe(o.geoPointValue.latitude)&&xe(r.geoPointValue.longitude)===xe(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return xe(r.integerValue)===xe(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=xe(r.doubleValue),h=xe(o.doubleValue);return c===h?Of(c)===Of(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Wo(n.arrayValue.values||[],t.arrayValue.values||[],ts);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(cT(c)!==cT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ts(c[f],h[f])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function qc(n,t){return(n.values||[]).find((e=>ts(e,t)))!==void 0}function Zo(n,t){if(n===t)return 0;const e=Pr(n),i=Pr(t);if(e!==i)return Ut(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=xe(o.integerValue||o.doubleValue),f=xe(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return hT(n.timestampValue,t.timestampValue);case 4:return hT(Fc(n),Fc(t));case 5:return lp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Vr(o),f=Vr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const _=Ut(h[m],f[m]);if(_!==0)return _}return Ut(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Ut(xe(o.latitude),xe(c.latitude));return h!==0?h:Ut(xe(o.longitude),xe(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return fT(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[kf]?.arrayValue,_=f[kf]?.arrayValue,y=Ut(m?.values?.length||0,_?.values?.length||0);return y!==0?y:fT(m,_)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Gh.mapValue&&c===Gh.mapValue)return 0;if(o===Gh.mapValue)return 1;if(c===Gh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let y=0;y<f.length&&y<_.length;++y){const T=lp(f[y],_[y]);if(T!==0)return T;const x=Zo(h[f[y]],m[_[y]]);if(x!==0)return x}return Ut(f.length,_.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function hT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const e=kr(n),i=kr(t),r=Ut(e.seconds,i.seconds);return r!==0?r:Ut(e.nanos,i.nanos)}function fT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Zo(e[r],i[r]);if(o)return o}return Ut(e.length,i.length)}function Jo(n){return cp(n)}function cp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=kr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Vr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return pt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=cp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${cp(e.fields[c])}`;return r+"}"})(n.mapValue):Tt(61005,{value:n})}function pf(n){switch(Pr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ad(n);return t?16+pf(t):16;case 5:return 2*n.stringValue.length;case 6:return Vr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+pf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Ua(i.fields,((o,c)=>{r+=o.length+pf(c)})),r})(n.mapValue);default:throw Tt(13486,{value:n})}}function up(n){return!!n&&"integerValue"in n}function Zp(n){return!!n&&"arrayValue"in n}function dT(n){return!!n&&"nullValue"in n}function mT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function MM(n){return(n?.mapValue?.fields||{})[SS]?.stringValue===wS}function Dc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ua(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Dc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Dc(n.arrayValue.values[e]);return t}return{...n}}function DM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===IM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!_f(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dc(e)}setAll(t){let e=en.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Dc(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());_f(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ts(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];_f(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ua(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Qn(Dc(this.value))}}function AS(n){const t=[];return Ua(n.fields,((e,i)=>{const r=new en([e]);if(_f(i)){const o=AS(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new pi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ln(t,0,St.min(),St.min(),St.min(),Qn.empty(),0)}static newFoundDocument(t,e,i,r){return new ln(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new ln(t,2,e,St.min(),St.min(),Qn.empty(),0)}static newUnknownDocument(t,e){return new ln(t,3,e,St.min(),St.min(),Qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e){this.position=t,this.inclusive=e}}function gT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=pt.comparator(pt.fromName(c.referenceValue),e.key):i=Zo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function pT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ts(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,e="asc"){this.field=t,this.dir=e}}function OM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{}class Ue extends RS{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new kM(t,e,i):e==="array-contains"?new LM(t,i):e==="in"?new zM(t,i):e==="not-in"?new UM(t,i):e==="array-contains-any"?new jM(t,i):new Ue(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new VM(t,i):new PM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Zo(e,this.value)):e!==null&&Pr(this.value)===Pr(e)&&this.matchesComparison(Zo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends RS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new es(t,e)}matches(t){return CS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CS(n){return n.op==="and"}function IS(n){return NM(n)&&CS(n)}function NM(n){for(const t of n.filters)if(t instanceof es)return!1;return!0}function hp(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+Jo(n.value);if(IS(n))return n.filters.map((t=>hp(t))).join(",");{const t=n.filters.map((e=>hp(e))).join(",");return`${n.op}(${t})`}}function MS(n,t){return n instanceof Ue?(function(i,r){return r instanceof Ue&&i.op===r.op&&i.field.isEqual(r.field)&&ts(i.value,r.value)})(n,t):n instanceof es?(function(i,r){return r instanceof es&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&MS(c,r.filters[h])),!0):!1})(n,t):void Tt(19439)}function DS(n){return n instanceof Ue?(function(e){return`${e.field.canonicalString()} ${e.op} ${Jo(e.value)}`})(n):n instanceof es?(function(e){return e.op.toString()+" {"+e.getFilters().map(DS).join(" ,")+"}"})(n):"Filter"}class kM extends Ue{constructor(t,e,i){super(t,e,i),this.key=pt.fromName(i.referenceValue)}matches(t){const e=pt.comparator(t.key,this.key);return this.matchesComparison(e)}}class VM extends Ue{constructor(t,e){super(t,"in",e),this.keys=OS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class PM extends Ue{constructor(t,e){super(t,"not-in",e),this.keys=OS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function OS(n,t){return(t.arrayValue?.values||[]).map((e=>pt.fromName(e.referenceValue)))}class LM extends Ue{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Zp(e)&&qc(e.arrayValue,this.value)}}class zM extends Ue{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&qc(this.value.arrayValue,e)}}class UM extends Ue{constructor(t,e){super(t,"not-in",e)}matches(t){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!qc(this.value.arrayValue,e)}}class jM extends Ue{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Zp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>qc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function _T(n,t=null,e=[],i=[],r=null,o=null,c=null){return new BM(n,t,e,i,r,o,c)}function Jp(n){const t=At(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>hp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),rd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Jo(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Jo(i))).join(",")),t.Te=e}return t.Te}function t_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!OM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!MS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!pT(n.startAt,t.startAt)&&pT(n.endAt,t.endAt)}function fp(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FM(n,t,e,i,r,o,c,h){return new od(n,t,e,i,r,o,c,h)}function e_(n){return new od(n)}function yT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HM(n){return n.collectionGroup!==null}function Oc(n){const t=At(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new He(en.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Pf(o,i))})),e.has(en.keyField().canonicalString())||t.Ie.push(new Pf(en.keyField(),i))}return t.Ie}function Xi(n){const t=At(n);return t.Ee||(t.Ee=qM(t,Oc(n))),t.Ee}function qM(n,t){if(n.limitType==="F")return _T(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Pf(r.field,o)}));const e=n.endAt?new Vf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vf(n.startAt.position,n.startAt.inclusive):null;return _T(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function dp(n,t,e){return new od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ld(n,t){return t_(Xi(n),Xi(t))&&n.limitType===t.limitType}function NS(n){return`${Jp(Xi(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>DS(r))).join(", ")}]`),rd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Jo(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Jo(r))).join(",")),`Target(${i})`})(Xi(n))}; limitType=${n.limitType})`}function cd(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Oc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const m=gT(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,Oc(i),r)||i.endAt&&!(function(c,h,f){const m=gT(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,Oc(i),r))})(n,t)}function GM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kS(n){return(t,e)=>{let i=!1;for(const r of Oc(n)){const o=YM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function YM(n,t,e){const i=n.field.isKeyField()?pt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Zo(f,m):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ua(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return yS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new ge(pt.comparator);function Ls(){return KM}const VS=new ge(pt.comparator);function xc(...n){let t=VS;for(const e of n)t=t.insert(e.key,e);return t}function PS(n){let t=VS;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Sa(){return Nc()}function LS(){return Nc()}function Nc(){return new ja((n=>n.toString()),((n,t)=>n.isEqual(t)))}const XM=new ge(pt.comparator),QM=new He(pt.comparator);function jt(...n){let t=QM;for(const e of n)t=t.add(e);return t}const $M=new He(Ut);function WM(){return $M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(t)?"-0":t}}function zS(n){return{integerValue:""+n}}function ZM(n,t){return SM(t)?zS(t):n_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this._=void 0}}function JM(n,t,e){return n instanceof Lf?(function(r,o){const c={fields:{[TS]:{stringValue:bS},[xS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Wp(o)&&(o=ad(o)),o&&(c.fields[ES]=o),{mapValue:c}})(e,t):n instanceof Gc?jS(n,t):n instanceof Yc?BS(n,t):(function(r,o){const c=US(r,o),h=vT(c)+vT(r.Ae);return up(c)&&up(r.Ae)?zS(h):n_(r.serializer,h)})(n,t)}function tD(n,t,e){return n instanceof Gc?jS(n,t):n instanceof Yc?BS(n,t):e}function US(n,t){return n instanceof zf?(function(i){return up(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Lf extends ud{}class Gc extends ud{constructor(t){super(),this.elements=t}}function jS(n,t){const e=FS(t);for(const i of n.elements)e.some((r=>ts(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Yc extends ud{constructor(t){super(),this.elements=t}}function BS(n,t){let e=FS(t);for(const i of n.elements)e=e.filter((r=>!ts(r,i)));return{arrayValue:{values:e}}}class zf extends ud{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function vT(n){return xe(n.integerValue||n.doubleValue)}function FS(n){return Zp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function eD(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Gc&&r instanceof Gc||i instanceof Yc&&r instanceof Yc?Wo(i.elements,r.elements,ts):i instanceof zf&&r instanceof zf?ts(i.Ae,r.Ae):i instanceof Lf&&r instanceof Lf})(n.transform,t.transform)}class nD{constructor(t,e){this.version=t,this.transformResults=e}}class vi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class hd{}function HS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new i_(n.key,vi.none()):new ou(n.key,n.data,vi.none());{const e=n.data,i=Qn.empty();let r=new He(en.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Ba(n.key,i,new pi(r.toArray()),vi.none())}}function iD(n,t,e){n instanceof ou?(function(r,o,c){const h=r.value.clone(),f=TT(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Ba?(function(r,o,c){if(!yf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=TT(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(qS(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function kc(n,t,e,i){return n instanceof ou?(function(o,c,h,f){if(!yf(o.precondition,c))return h;const m=o.value.clone(),_=ET(o.fieldTransforms,f,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof Ba?(function(o,c,h,f){if(!yf(o.precondition,c))return h;const m=ET(o.fieldTransforms,f,c),_=c.data;return _.setAll(qS(o)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,t,e,i):(function(o,c,h){return yf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function sD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=US(i.transform,r||null);o!=null&&(e===null&&(e=Qn.empty()),e.set(i.field,o))}return e||null}function bT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Wo(i,r,((o,c)=>eD(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ou extends hd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ba extends hd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function TT(n,t,e){const i=new Map;$t(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,tD(c,h,e[r]))}return i}function ET(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,JM(o,c,t))}return i}class i_ extends hd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rD extends hd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&iD(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=kc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=kc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=LS();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=HS(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(St.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),jt())}isEqual(t){return this.batchId===t.batchId&&Wo(this.mutations,t.mutations,((e,i)=>bT(e,i)))&&Wo(this.baseMutations,t.baseMutations,((e,i)=>bT(e,i)))}}class s_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){$t(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return XM})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new s_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,Ht;function cD(n){switch(n){case st.OK:return Tt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function GS(n){if(n===void 0)return Vs("GRPC error has no .code"),st.UNKNOWN;switch(n){case ke.OK:return st.OK;case ke.CANCELLED:return st.CANCELLED;case ke.UNKNOWN:return st.UNKNOWN;case ke.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case ke.INTERNAL:return st.INTERNAL;case ke.UNAVAILABLE:return st.UNAVAILABLE;case ke.UNAUTHENTICATED:return st.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case ke.NOT_FOUND:return st.NOT_FOUND;case ke.ALREADY_EXISTS:return st.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return st.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case ke.ABORTED:return st.ABORTED;case ke.OUT_OF_RANGE:return st.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return st.UNIMPLEMENTED;case ke.DATA_LOSS:return st.DATA_LOSS;default:return Tt(39323,{code:n})}}(Ht=ke||(ke={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new Ir([4294967295,4294967295],0);function xT(n){const t=uD().encode(n),e=new oS;return e.update(t),new Uint8Array(e.digest())}function ST(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ir([e,i],0),new Ir([r,o],0)]}class r_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Sc(`Invalid padding: ${e}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ir.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Ir.fromNumber(i)));return r.compare(hD)===1&&(r=new Ir([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=xT(t),[i,r]=ST(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new r_(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=xT(t),[i,r]=ST(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,lu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new fd(St.min(),r,new ge(Ut),Ls(),jt())}}class lu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new lu(i,e,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class YS{constructor(t,e){this.targetId=t,this.Ce=e}}class KS{constructor(t,e,i=nn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class wT{constructor(){this.ve=0,this.Fe=AT(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),e=jt(),i=jt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Tt(38017,{changeType:o})}})),new lu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=AT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fD{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ls(),this.Je=Yh(),this.He=Yh(),this.Ye=new ge(Ut)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(fp(o))if(i===0){const c=new pt(o.path);this.et(e,c,ln.newNoDocument(c,St.min()))}else $t(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=Vr(i).toUint8Array()}catch(f){if(f instanceof vS)return $o("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new r_(c,r,o)}catch(f){return $o(f instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&fp(h.target)){const f=new pt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ln.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=jt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new fd(t,e,this.Ye,this.je,i);return this.je=Ls(),this.Je=Yh(),this.He=Yh(),this.Ye=new ge(Ut),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new wT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new He(Ut),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new He(Ut),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ut("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new wT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Yh(){return new ge(pt.comparator)}function AT(){return new ge(pt.comparator)}const dD={asc:"ASCENDING",desc:"DESCENDING"},mD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gD={and:"AND",or:"OR"};class pD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function mp(n,t){return n.useProto3Json||rd(t)?t:{value:t}}function Uf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function _D(n,t){return Uf(n,t.toTimestamp())}function Qi(n){return $t(!!n,49232),St.fromTimestamp((function(e){const i=kr(e);return new he(i.seconds,i.nanos)})(n))}function a_(n,t){return gp(n,t).canonicalString()}function gp(n,t){const e=(function(r){return new ue(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function QS(n){const t=ue.fromString(n);return $t(tw(t),10190,{key:t.toString()}),t}function pp(n,t){return a_(n.databaseId,t.path)}function Pg(n,t){const e=QS(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new pt(WS(e))}function $S(n,t){return a_(n.databaseId,t)}function yD(n){const t=QS(n);return t.length===4?ue.emptyPath():WS(t)}function _p(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WS(n){return $t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function RT(n,t,e){return{name:pp(n,t),fields:e.value.mapValue.fields}}function vD(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Tt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(m,_){return m.useProto3Json?($t(_===void 0||typeof _=="string",58123),nn.fromBase64String(_||"")):($t(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),nn.fromUint8Array(_||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const _=m.code===void 0?st.UNKNOWN:GS(m.code);return new mt(_,m.message||"")})(c);e=new KS(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Pg(n,i.document.name),o=Qi(i.document.updateTime),c=i.document.createTime?Qi(i.document.createTime):St.min(),h=new Qn({mapValue:{fields:i.document.fields}}),f=ln.newFoundDocument(r,o,c,h),m=i.targetIds||[],_=i.removedTargetIds||[];e=new vf(m,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Pg(n,i.document),o=i.readTime?Qi(i.readTime):St.min(),c=ln.newNoDocument(r,o),h=i.removedTargetIds||[];e=new vf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Pg(n,i.document),o=i.removedTargetIds||[];e=new vf([],o,r,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new lD(r,o),h=i.targetId;e=new YS(h,c)}}return e}function bD(n,t){let e;if(t instanceof ou)e={update:RT(n,t.key,t.value)};else if(t instanceof i_)e={delete:pp(n,t.key)};else if(t instanceof Ba)e={update:RT(n,t.key,t.data),updateMask:ID(t.fieldMask)};else{if(!(t instanceof rD))return Tt(16599,{Vt:t.type});e={verify:pp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Gc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Tt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:_D(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Tt(27497)})(n,t.precondition)),e}function TD(n,t){return n&&n.length>0?($t(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?Qi(r.updateTime):Qi(o);return c.isEqual(St.min())&&(c=Qi(o)),new nD(c,r.transformResults||[])})(e,t)))):[]}function ED(n,t){return{documents:[$S(n,t.path)]}}function xD(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=$S(n,r);const o=(function(m){if(m.length!==0)return JS(es.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((_=>(function(T){return{field:jo(T.field),direction:AD(T.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=mp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:r}}function SD(n){let t=yD(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){$t(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=(function(y){const T=ZS(y);return T instanceof es&&IS(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(y){return y.map((T=>(function(R){return new Pf(Bo(R.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(y){let T;return T=typeof y=="object"?y.value:y,rd(T)?null:T})(e.limit));let f=null;e.startAt&&(f=(function(y){const T=!!y.before,x=y.values||[];return new Vf(x,T)})(e.startAt));let m=null;return e.endAt&&(m=(function(y){const T=!y.before,x=y.values||[];return new Vf(x,T)})(e.endAt)),FM(t,r,c,o,h,"F",f,m)}function wD(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function ZS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Bo(e.unaryFilter.field);return Ue.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Bo(e.unaryFilter.field);return Ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bo(e.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(e.unaryFilter.field);return Ue.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ue.create(Bo(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return es.create(e.compositeFilter.filters.map((i=>ZS(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function AD(n){return dD[n]}function RD(n){return mD[n]}function CD(n){return gD[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Bo(n){return en.fromServerFormat(n.fieldPath)}function JS(n){return n instanceof Ue?(function(e){if(e.op==="=="){if(mT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NAN"}};if(dT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(mT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NAN"}};if(dT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(e.field),op:RD(e.op),value:e.value}}})(n):n instanceof es?(function(e){const i=e.getFilters().map((r=>JS(r)));return i.length===1?i[0]:{compositeFilter:{op:CD(e.op),filters:i}}})(n):Tt(54877,{filter:n})}function ID(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function tw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,e,i,r,o=St.min(),c=St.min(),h=nn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t){this.yt=t}}function DD(n){const t=SD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.Cn=new ND}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(Nr.min())}updateCollectionGroup(t,e,i){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class ND{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new He(ue.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new He(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ew=41943040;class xn{static withCacheSize(t){return new xn(t,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(ew,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="LruGarbageCollector",kD=1048576;function MT([n,t],[e,i]){const r=Ut(n,e);return r===0?Ut(t,i):r}class VD{constructor(t){this.Ir=t,this.buffer=new He(MT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();MT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class PD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(IT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ol(e)?ut(IT,"Ignoring IndexedDB error during garbage collection: ",e):await al(e)}await this.Vr(3e5)}))}}class LD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(sd.ce);const i=new VD(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(CT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,c=Date.now(),this.nthSequenceNumber(t,r)))).next((y=>(i=y,h=Date.now(),this.removeTargets(t,i,e)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((y=>(m=Date.now(),zo()<=zt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${y} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y}))))}}function zD(n,t){return new LD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.changes=new ja((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?it.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&kc(i.mutation,r,pi.empty(),he.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,jt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=jt()){const r=Sa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=xc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Sa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,jt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=Ls();const c=Nc(),h=(function(){return Nc()})();return e.forEach(((f,m)=>{const _=i.get(m.key);r.has(m.key)&&(_===void 0||_.mutation instanceof Ba)?o=o.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),kc(_.mutation,m,_.mutation.getFieldMask(),he.now())):c.set(m.key,pi.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,_)=>c.set(m,_))),e.forEach(((m,_)=>h.set(m,new jD(_,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Nc();let r=new ge(((c,h)=>c-h)),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let _=i.get(f)||pi.empty();_=h.applyToLocalView(m,_),i.set(f,_);const y=(r.get(h.batchId)||jt()).add(f);r=r.insert(h.batchId,y)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,_=f.value,y=LS();_.forEach((T=>{if(!o.has(T)){const x=HS(e.get(T),i.get(T));x!==null&&y.set(T,x),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,y))}return it.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return pt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):HM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):it.resolve(Sa());let h=Bc,f=o;return c.next((m=>it.forEach(m,((_,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(_)?it.resolve():this.remoteDocumentCache.getEntry(t,_).next((T=>{f=f.insert(_,T)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,jt()))).next((_=>({batchId:h,changes:PS(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new pt(e)).next((i=>{let r=xc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=xc();return this.indexManager.getCollectionParents(t,o).next((h=>it.forEach(h,(f=>{const m=(function(y,T){return new od(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next((_=>{_.forEach(((y,T)=>{c=c.insert(y,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,ln.newInvalidDocument(_)))}));let h=xc();return c.forEach(((f,m)=>{const _=o.get(f);_!==void 0&&kc(_.mutation,m,pi.empty(),he.now()),cd(e,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return it.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Qi(r.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:DD(r.bundledQuery),readTime:Qi(r.readTime)}})(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.overlays=new ge(pt.comparator),this.qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Sa();return it.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),it.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),it.resolve()}getOverlaysForCollection(t,e,i){const r=Sa(),o=e.length+1,c=new pt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return it.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ge(((m,_)=>m-_));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let _=o.get(m.largestBatchId);_===null&&(_=Sa(),o=o.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=Sa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,_)=>h.set(m,_))),!(h.size()>=r)););return it.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new oD(e,i));let o=this.qr.get(e);o===void 0&&(o=jt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.Qr=new He(Ke.$r),this.Ur=new He(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Ke(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Ke(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new pt(new ue([])),i=new Ke(e,t),r=new Ke(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new pt(new ue([])),i=new Ke(e,t),r=new Ke(e,t+1);let o=jt();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Ke(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ke{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return pt.comparator(t.key,e.key)||Ut(t.Yr,e.Yr)}static Kr(t,e){return Ut(t.Yr,e.Yr)||pt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ke.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new aD(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Ke(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,e){return it.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return it.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?$p:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ke(e,0),r=new Ke(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),it.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(Ut);return e.forEach((r=>{const o=new Ke(r,0),c=new Ke(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),it.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;pt.isDocumentKey(o)||(o=o.child(""));const c=new Ke(new pt(o),0);let h=new He(Ut);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(f.Yr)),!0)}),c),it.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){$t(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return it.forEach(e.mutations,(r=>{const o=new Ke(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Ke(e,0),r=this.Zr.firstAfterOrEqual(i);return it.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t){this.ri=t,this.docs=(function(){return new ge(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return it.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(e))}getEntries(t,e){let i=Ls();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ln.newInvalidDocument(r))})),it.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ls();const c=e.path,h=new pt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||bM(vM(_),i)<=0||(r.has(_.key)||cd(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return it.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Tt(9500)}ii(t,e){return it.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new KD(this)}getSize(t){return it.resolve(this.size)}}class KD extends UD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),it.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.persistence=t,this.si=new ja((e=>Jp(e)),t_),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new o_,this.targetCount=0,this.ai=tl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),it.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new tl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Pr(e),it.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),it.waitFor(o).next((()=>r))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return it.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),it.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),it.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return it.resolve(i)}containsKey(t,e){return it.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,e){this.ui={},this.overlays={},this.ci=new sd(0),this.li=!1,this.li=!0,this.hi=new qD,this.referenceDelegate=t(this),this.Pi=new XD(this),this.indexManager=new OD,this.remoteDocumentCache=(function(r){return new YD(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new MD(e),this.Ii=new FD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new HD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new GD(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ut("MemoryPersistence","Starting transaction:",t);const r=new QD(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return it.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class QD extends EM{constructor(t){super(),this.currentSequenceNumber=t}}class l_{constructor(t){this.persistence=t,this.Ri=new o_,this.Vi=null}static mi(t){return new l_(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),it.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(i=>{const r=pt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,St.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class jf{constructor(t,e){this.persistence=t,this.pi=new ja((i=>wM(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=zD(this,e)}static mi(t,e){return new jf(t,e)}Ei(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return it.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?it.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,St.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=pf(t.data.value)),e}br(t,e,i){return it.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return it.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=jt(),r=jt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new c_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FR()?8:xM(hn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new $D;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(zo()<=zt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Uo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(zo()<=zt.DEBUG&&ut("QueryEngine","Query:",Uo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(zo()<=zt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Uo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xi(e))):it.resolve())}ys(t,e){if(yT(e))return it.resolve(null);let i=Xi(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=dp(e,null,"F"),i=Xi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=jt(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,dp(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,i,r){return yT(e)||r.isEqual(St.min())?it.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?it.resolve(null):(zo()<=zt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Uo(e)),this.vs(t,c,e,yM(r,Bc)).next((h=>h)))}))}Ds(t,e){let i=new He(kS(t));return e.forEach(((r,o)=>{cd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return zo()<=zt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Uo(e)),this.ps.getDocumentsMatchingQuery(t,e,Nr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LocalStore",ZD=3e8;class JD{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new ge(Ut),this.xs=new ja((o=>Jp(o)),t_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function tO(n,t,e,i){return new JD(n,t,e,i)}async function iw(n,t){const e=At(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=jt();for(const m of r){c.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of o){h.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function eO(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,_){const y=m.batch,T=y.keys();let x=it.resolve();return T.forEach((R=>{x=x.next((()=>_.getEntry(f,R))).next((C=>{const I=m.docVersions.get(R);$t(I!==null,48541),C.version.compareTo(I)<0&&(y.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),_.addEntry(C)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(f,y)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=jt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function sw(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function nO(n,t){const e=At(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((_,y)=>{const T=r.get(y);if(!T)return;h.push(e.Pi.removeMatchingKeys(o,_.removedDocuments,y).next((()=>e.Pi.addMatchingKeys(o,_.addedDocuments,y))));let x=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?x=x.withResumeToken(nn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,i)),r=r.insert(y,x),(function(C,I,L){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=ZD?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,x,_)&&h.push(e.Pi.updateTargetData(o,x))}));let f=Ls(),m=jt();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))})),h.push(iO(o,c,t.documentUpdates).next((_=>{f=_.ks,m=_.qs}))),!i.isEqual(St.min())){const _=e.Pi.getLastRemoteSnapshotVersion(o).next((y=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(_)}return it.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function iO(n,t,e){let i=jt(),r=jt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Ls();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(St.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ut(u_,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function sO(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=$p),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function rO(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,it.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new xr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function yp(n,t,e){const i=At(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ol(c))throw c;ut(u_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function DT(n,t,e){const i=At(n);let r=St.min(),o=jt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,_){const y=At(f),T=y.xs.get(_);return T!==void 0?it.resolve(y.Ms.get(T)):y.Pi.getTargetData(m,_)})(i,c,Xi(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:St.min(),e?o:jt()))).next((h=>(aO(i,GM(t),h),{documents:h,Qs:o})))))}function aO(n,t,e){let i=n.Os.get(t)||St.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class OT{constructor(){this.activeTargetIds=WM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oO{constructor(){this.Mo=new OT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new OT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="ConnectivityMonitor";class kT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(NT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(NT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function vp(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="RestConnection",cO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uO{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Nf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=vp(),h=this.zo(t,e.toUriEncodedString());ut(Lg,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:m}=new URL(h),_=La(m);return this.Jo(t,h,f,i,_).then((y=>(ut(Lg,`Received RPC '${t}' ${c}: `,y),y)),(y=>{throw $o(Lg,`RPC '${t}' ${c} failed with error: `,y,"url: ",h,"request:",i),y}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=cO[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class fO extends uO{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=vp();return new Promise(((h,f)=>{const m=new lS;m.setWithCredentials(!0),m.listenOnce(cS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case gf.NO_ERROR:const y=m.getResponseJson();ut(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(y)),h(y);break;case gf.TIMEOUT:ut(rn,`RPC '${t}' ${c} timed out`),f(new mt(st.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const T=m.getStatus();if(ut(rn,`RPC '${t}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const R=x?.error;if(R&&R.status&&R.message){const C=(function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(G)>=0?G:st.UNKNOWN})(R.status);f(new mt(C,R.message))}else f(new mt(st.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new mt(st.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ut(rn,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(r);ut(rn,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",_,i,15)}))}T_(t,e,i){const r=vp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=fS(),h=hS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=o.join("");ut(rn,`Creating RPC '${t}' stream ${r}: ${_}`,f);const y=c.createWebChannel(_,f);this.I_(y);let T=!1,x=!1;const R=new hO({Yo:I=>{x?ut(rn,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(T||(ut(rn,`Opening RPC '${t}' stream ${r} transport.`),y.open(),T=!0),ut(rn,`RPC '${t}' stream ${r} sending:`,I),y.send(I))},Zo:()=>y.close()}),C=(I,L,G)=>{I.listen(L,(X=>{try{G(X)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return C(y,Ec.EventType.OPEN,(()=>{x||(ut(rn,`RPC '${t}' stream ${r} transport opened.`),R.o_())})),C(y,Ec.EventType.CLOSE,(()=>{x||(x=!0,ut(rn,`RPC '${t}' stream ${r} transport closed`),R.a_(),this.E_(y))})),C(y,Ec.EventType.ERROR,(I=>{x||(x=!0,$o(rn,`RPC '${t}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),R.a_(new mt(st.UNAVAILABLE,"The operation could not be completed")))})),C(y,Ec.EventType.MESSAGE,(I=>{if(!x){const L=I.data[0];$t(!!L,16349);const G=L,X=G?.error||G[0]?.error;if(X){ut(rn,`RPC '${t}' stream ${r} received error:`,X);const Z=X.status;let W=(function(w){const D=ke[w];if(D!==void 0)return GS(D)})(Z),rt=X.message;W===void 0&&(W=st.INTERNAL,rt="Unknown error status: "+Z+" with message "+X.message),x=!0,R.a_(new mt(W,rt)),y.close()}else ut(rn,`RPC '${t}' stream ${r} received:`,L),R.u_(L)}})),C(h,uS.STAT_EVENT,(I=>{I.stat===op.PROXY?ut(rn,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===op.NOPROXY&&ut(rn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){return new pD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ut("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="PersistentStream";class aw{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rw(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===st.RESOURCE_EXHAUSTED?(Vs(e.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new mt(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(VT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ut(VT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dO extends aw{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=vD(this.serializer,t),i=(function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Qi(c.readTime):St.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=_p(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=fp(f)?{documents:ED(o,f)}:{query:xD(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=XS(o,c.resumeToken);const m=mp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(St.min())>0){h.readTime=Uf(o,c.snapshotVersion.toTimestamp());const m=mp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=wD(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=_p(this.serializer),e.removeTarget=t,this.q_(e)}}class mO extends aw{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=TD(t.writeResults,t.commitTime),i=Qi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=_p(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>bD(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{}class pO extends gO{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,gp(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(st.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,gp(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _O{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(e),this.aa=!1):ut("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class yO{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Fa(this)&&(ut(Na,"Restarting streams for network reachability change."),await(async function(f){const m=At(f);m.Ea.add(4),await cu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await md(m)})(this))}))})),this.Ra=new _O(i,r)}}async function md(n){if(Fa(n))for(const t of n.da)await t(!0)}async function cu(n){for(const t of n.da)await t(!1)}function ow(n,t){const e=At(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),m_(e)?d_(e):ll(e).O_()&&f_(e,t))}function h_(n,t){const e=At(n),i=ll(e);e.Ia.delete(t),i.O_()&&lw(e,t),e.Ia.size===0&&(i.O_()?i.L_():Fa(e)&&e.Ra.set("Unknown"))}function f_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ll(n).Y_(t)}function lw(n,t){n.Va.Ue(t),ll(n).Z_(t)}function d_(n){n.Va=new fD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ll(n).start(),n.Ra.ua()}function m_(n){return Fa(n)&&!ll(n).x_()&&n.Ia.size>0}function Fa(n){return At(n).Ea.size===0}function cw(n){n.Va=void 0}async function vO(n){n.Ra.set("Online")}async function bO(n){n.Ia.forEach(((t,e)=>{f_(n,t)}))}async function TO(n,t){cw(n),m_(n)?(n.Ra.ha(t),d_(n)):n.Ra.set("Unknown")}async function EO(n,t,e){if(n.Ra.set("Online"),t instanceof KS&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ut(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Bf(n,i)}else if(t instanceof vf?n.Va.Ze(t):t instanceof YS?n.Va.st(t):n.Va.tt(t),!e.isEqual(St.min()))try{const i=await sw(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.Ia.get(m);_&&o.Ia.set(m,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const _=o.Ia.get(f);if(!_)return;o.Ia.set(f,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),lw(o,f);const y=new xr(_.target,f,m,_.sequenceNumber);f_(o,y)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ut(Na,"Failed to raise snapshot:",i),await Bf(n,i)}}async function Bf(n,t,e){if(!ol(t))throw t;n.Ea.add(1),await cu(n),n.Ra.set("Offline"),e||(e=()=>sw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ut(Na,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await md(n)}))}function uw(n,t){return t().catch((e=>Bf(n,e,t)))}async function gd(n){const t=At(n),e=Lr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$p;for(;xO(t);)try{const r=await sO(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,SO(t,r)}catch(r){await Bf(t,r)}hw(t)&&fw(t)}function xO(n){return Fa(n)&&n.Ta.length<10}function SO(n,t){n.Ta.push(t);const e=Lr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function hw(n){return Fa(n)&&!Lr(n).x_()&&n.Ta.length>0}function fw(n){Lr(n).start()}async function wO(n){Lr(n).ra()}async function AO(n){const t=Lr(n);for(const e of n.Ta)t.ea(e.mutations)}async function RO(n,t,e){const i=n.Ta.shift(),r=s_.from(i,t,e);await uw(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await gd(n)}async function CO(n,t){t&&Lr(n).X_&&await(async function(i,r){if((function(c){return cD(c)&&c!==st.ABORTED})(r.code)){const o=i.Ta.shift();Lr(i).B_(),await uw(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await gd(i)}})(n,t),hw(n)&&fw(n)}async function PT(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),ut(Na,"RemoteStore received new credentials");const i=Fa(e);e.Ea.add(3),await cu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await md(e)}async function IO(n,t){const e=At(n);t?(e.Ea.delete(2),await md(e)):t||(e.Ea.add(2),await cu(e),e.Ra.set("Unknown"))}function ll(n){return n.ma||(n.ma=(function(e,i,r){const o=At(e);return o.sa(),new dO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:vO.bind(null,n),t_:bO.bind(null,n),r_:TO.bind(null,n),H_:EO.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),m_(n)?d_(n):n.Ra.set("Unknown")):(await n.ma.stop(),cw(n))}))),n.ma}function Lr(n){return n.fa||(n.fa=(function(e,i,r){const o=At(e);return o.sa(),new mO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:wO.bind(null,n),r_:CO.bind(null,n),ta:AO.bind(null,n),na:RO.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await gd(n)):(await n.fa.stop(),n.Ta.length>0&&(ut(Na,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new g_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p_(n,t){if(Vs("AsyncQueue",`${t}: ${n}`),ol(n))return new mt(st.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(t){return new Go(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||pt.comparator(e.key,i.key):(e,i)=>pt.comparator(e.key,i.key),this.keyedMap=xc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Go)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Go;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.ga=new ge(pt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class el{constructor(t,e,i,r,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new el(t,e,Go.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ld(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class DO{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=At(e),o=r.queries;r.queries=zT(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new mt(st.ABORTED,"Firestore shutting down"))}}function zT(){return new ja((n=>NS(n)),ld)}async function dw(n,t){const e=At(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new MO,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=p_(c,`Initialization of query '${Uo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&__(e)}async function mw(n,t){const e=At(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function OO(n,t){const e=At(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&__(e)}function NO(n,t,e){const i=At(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function __(n){n.Ca.forEach((t=>{t.next()}))}var bp,UT;(UT=bp||(bp={})).Ma="default",UT.Cache="cache";class gw{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new el(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t){this.key=t}}class _w{constructor(t){this.key=t}}class kO{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=kS(t),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new LT,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((_,y)=>{const T=r.get(_),x=cd(this.query,y)?y:null,R=!!T&&this.mutatedKeys.has(T.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;T&&x?T.data.isEqual(x.data)?R!==C&&(i.track({type:3,doc:x}),I=!0):this.su(T,x)||(i.track({type:2,doc:x}),I=!0,(f&&this.eu(x,f)>0||m&&this.eu(x,m)<0)&&(h=!0)):!T&&x?(i.track({type:0,doc:x}),I=!0):T&&!x&&(i.track({type:1,doc:T}),I=!0,(f||m)&&(h=!0)),I&&(x?(c=c.add(x),o=C?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,y)=>(function(x,R){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:I})}};return C(x)-C(R)})(_.type,y.type)||this.eu(_.doc,y.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new el(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new _w(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new pw(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=jt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y_="SyncEngine";class VO{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class PO{constructor(t){this.key=t,this.hu=!1}}class LO{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ja((h=>NS(h)),ld),this.Iu=new Map,this.Eu=new Set,this.du=new ge(pt.comparator),this.Au=new Map,this.Ru=new o_,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zO(n,t,e=!0){const i=xw(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await yw(i,t,e,!0),r}async function UO(n,t){const e=xw(n);await yw(e,t,!0,!1)}async function yw(n,t,e,i){const r=await rO(n.localStore,Xi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await jO(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&ow(n.remoteStore,r),h}async function jO(n,t,e,i,r){n.pu=(y,T,x)=>(async function(C,I,L,G){let X=I.view.ru(L);X.Cs&&(X=await DT(C.localStore,I.query,!1).then((({documents:M})=>I.view.ru(M,X))));const Z=G&&G.targetChanges.get(I.targetId),W=G&&G.targetMismatches.get(I.targetId)!=null,rt=I.view.applyChanges(X,C.isPrimaryClient,Z,W);return BT(C,I.targetId,rt.au),rt.snapshot})(n,y,T,x);const o=await DT(n.localStore,t,!0),c=new kO(t,o.Qs),h=c.ru(o.documents),f=lu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,f);BT(n,e,m.au);const _=new VO(t,e,c);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function BO(n,t,e){const i=At(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!ld(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await yp(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&h_(i.remoteStore,r.targetId),Tp(i,r.targetId)})).catch(al)):(Tp(i,r.targetId),await yp(i.localStore,r.targetId,!0))}async function FO(n,t){const e=At(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),h_(e.remoteStore,i.targetId))}async function HO(n,t,e){const i=$O(n);try{const r=await(function(c,h){const f=At(c),m=he.now(),_=h.reduce(((x,R)=>x.add(R.key)),jt());let y,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let R=Ls(),C=jt();return f.Ns.getEntries(x,_).next((I=>{R=I,R.forEach(((L,G)=>{G.isValidDocument()||(C=C.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,R))).next((I=>{y=I;const L=[];for(const G of h){const X=sD(G,y.get(G.key).overlayedDocument);X!=null&&L.push(new Ba(G.key,X,AS(X.value.mapValue),vi.exists(!0)))}return f.mutationQueue.addMutationBatch(x,m,L,h)})).next((I=>{T=I;const L=I.applyToLocalDocumentSet(y,C);return f.documentOverlayCache.saveOverlays(x,I.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:PS(y)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new ge(Ut)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(i,r.batchId,e),await uu(i,r.changes),await gd(i.remoteStore)}catch(r){const o=p_(r,"Failed to persist write");e.reject(o)}}async function vw(n,t){const e=At(n);try{const i=await nO(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&($t(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?$t(c.hu,14607):r.removedDocuments.size>0&&($t(c.hu,42227),c.hu=!1))})),await uu(e,i,t)}catch(i){await al(i)}}function jT(n,t,e){const i=At(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=At(c);f.onlineState=h;let m=!1;f.queries.forEach(((_,y)=>{for(const T of y.Sa)T.va(h)&&(m=!0)})),m&&__(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function qO(n,t,e){const i=At(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new ge(pt.comparator);c=c.insert(o,ln.newNoDocument(o,St.min()));const h=jt().add(o),f=new fd(St.min(),new Map,new ge(Ut),c,h);await vw(i,f),i.du=i.du.remove(o),i.Au.delete(t),v_(i)}else await yp(i.localStore,t,!1).then((()=>Tp(i,t,e))).catch(al)}async function GO(n,t){const e=At(n),i=t.batch.batchId;try{const r=await eO(e.localStore,t);Tw(e,i,null),bw(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await uu(e,r)}catch(r){await al(r)}}async function YO(n,t,e){const i=At(n);try{const r=await(function(c,h){const f=At(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return f.mutationQueue.lookupMutationBatch(m,h).next((y=>($t(y!==null,37113),_=y.keys(),f.mutationQueue.removeMutationBatch(m,y)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>f.localDocuments.getDocuments(m,_)))}))})(i.localStore,t);Tw(i,t,e),bw(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await uu(i,r)}catch(r){await al(r)}}function bw(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function Tw(n,t,e){const i=At(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Tp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||Ew(n,i)}))}function Ew(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(h_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),v_(n))}function BT(n,t,e){for(const i of e)i instanceof pw?(n.Ru.addReference(i.key,t),KO(n,i)):i instanceof _w?(ut(y_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||Ew(n,i.key)):Tt(19791,{wu:i})}function KO(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ut(y_,"New document in limbo: "+e),n.Eu.add(i),v_(n))}function v_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new pt(ue.fromString(t)),i=n.fu.next();n.Au.set(i,new PO(e)),n.du=n.du.insert(e,i),ow(n.remoteStore,new xr(Xi(e_(e.path)),i,"TargetPurposeLimboResolution",sd.ce))}}async function uu(n,t,e){const i=At(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const _=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){r.push(m);const _=c_.As(f.targetId,m);o.push(_)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,m){const _=At(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>it.forEach(m,(T=>it.forEach(T.Es,(x=>_.persistence.referenceDelegate.addReference(y,T.targetId,x))).next((()=>it.forEach(T.ds,(x=>_.persistence.referenceDelegate.removeReference(y,T.targetId,x)))))))))}catch(y){if(!ol(y))throw y;ut(u_,"Failed to update sequence numbers: "+y)}for(const y of m){const T=y.targetId;if(!y.fromCache){const x=_.Ms.get(T),R=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(R);_.Ms=_.Ms.insert(T,C)}}})(i.localStore,o))}async function XO(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){ut(y_,"User change. New user:",t.toKey());const i=await iw(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new mt(st.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await uu(e,i.Ls)}}function QO(n,t){const e=At(n),i=e.Au.get(t);if(i&&i.hu)return jt().add(i.key);{let r=jt();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function xw(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qO.bind(null,t),t.Pu.H_=OO.bind(null,t.eventManager),t.Pu.yu=NO.bind(null,t.eventManager),t}function $O(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YO.bind(null,t),t}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return tO(this.persistence,new WD,t.initialUser,this.serializer)}Cu(t){return new nw(l_.mi,this.serializer)}Du(t){return new oO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class WO extends Ff{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){$t(this.persistence.referenceDelegate instanceof jf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new PD(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new nw((i=>jf.mi(i,e)),this.serializer)}}class Ep{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XO.bind(null,this.syncEngine),await IO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new DO})()}createDatastore(t){const e=dd(t.databaseInfo.databaseId),i=(function(o){return new fO(o)})(t.databaseInfo);return(function(o,c,h,f){return new pO(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new yO(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>jT(this.syncEngine,e,0)),(function(){return kT.v()?new kT:new lO})())}createSyncEngine(t,e){return(function(r,o,c,h,f,m,_){const y=new LO(r,o,c,h,f,m);return _&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=At(e);ut(Na,"RemoteStore shutting down."),i.Ea.add(5),await cu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class ZO{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ut(zr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ut(zr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=p_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Ug(n,t){n.asyncQueue.verifyOperationInProgress(),ut(zr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await iw(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function FT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await JO(n);ut(zr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>PT(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>PT(t.remoteStore,r))),n._onlineComponents=t}async function JO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ut(zr,"Using user provided OfflineComponentProvider");try{await Ug(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===st.FAILED_PRECONDITION||r.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;$o("Error using user provided cache. Falling back to memory cache: "+e),await Ug(n,new Ff)}}else ut(zr,"Using default OfflineComponentProvider"),await Ug(n,new WO(void 0));return n._offlineComponents}async function ww(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ut(zr,"Using user provided OnlineComponentProvider"),await FT(n,n._uninitializedComponentsProvider._online)):(ut(zr,"Using default OnlineComponentProvider"),await FT(n,new Ep))),n._onlineComponents}function tN(n){return ww(n).then((t=>t.syncEngine))}async function Aw(n){const t=await ww(n),e=t.eventManager;return e.onListen=zO.bind(null,t.syncEngine),e.onUnlisten=BO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=UO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=FO.bind(null,t.syncEngine),e}function eN(n,t,e={}){const i=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const _=new Sw({next:T=>{_.Nu(),c.enqueueAndForget((()=>mw(o,y)));const x=T.docs.has(h);!x&&T.fromCache?m.reject(new mt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&f&&f.source==="server"?m.reject(new mt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),y=new gw(e_(h.path),_,{includeMetadataChanges:!0,qa:!0});return dw(o,y)})(await Aw(n),n.asyncQueue,t,e,i))),i.promise}function nN(n,t,e={}){const i=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const _=new Sw({next:T=>{_.Nu(),c.enqueueAndForget((()=>mw(o,y))),T.fromCache&&f.source==="server"?m.reject(new mt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),y=new gw(h,_,{includeMetadataChanges:!0,qa:!0});return dw(o,y)})(await Aw(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firestore.googleapis.com",qT=!0;class GT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cw,this.ssl=qT}else this.host=t.host,this.ssl=t.ssl??qT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ew;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kD)throw new mt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_M("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rw(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pd{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new oM;switch(i.type){case"firstParty":return new hM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=HT.get(e);i&&(ut("ComponentProvider","Removing Datastore"),HT.delete(e),i.terminate())})(this),Promise.resolve()}}function iN(n,t,e,i={}){n=Ps(n,pd);const r=La(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Op(`https://${h}`),Np("Firestore",!0)),o.host!==Cw&&o.host!==h&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!Ia(f,c)&&(n._setSettings(f),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=on.MOCK_USER;else{m=wx(i.mockUserToken,n._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new mt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new on(y)}n._authCredentials=new lM(new mS(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _d(this.firestore,t,this._query)}}class Be{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(au(e,Be._jsonSchema))return new Be(t,i||null,new pt(ue.fromString(e.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Ve("string",Be._jsonSchemaVersion),referencePath:Ve("string")};class Mr extends _d{constructor(t,e,i){super(t,e,e_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new pt(t))}withConverter(t){return new Mr(this.firestore,t,this._path)}}function b_(n,t,...e){if(n=Zn(n),gS("collection","path",t),n instanceof pd){const i=ue.fromString(t,...e);return rT(i),new Mr(n,null,i)}{if(!(n instanceof Be||n instanceof Mr))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return rT(i),new Mr(n.firestore,null,i)}}function hu(n,t,...e){if(n=Zn(n),arguments.length===1&&(t=Xp.newId()),gS("doc","path",t),n instanceof pd){const i=ue.fromString(t,...e);return sT(i),new Be(n,null,new pt(i))}{if(!(n instanceof Be||n instanceof Mr))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return sT(i),new Be(n.firestore,n instanceof Mr?n.converter:null,new pt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="AsyncQueue";class KT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rw(this,"async_queue_retry"),this._c=()=>{const i=zg();i&&ut(YT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=zg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=zg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;ut(YT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",XT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=g_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Tt(47125,{Pc:XT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function XT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class cl extends pd{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new KT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new KT(t),this._firestoreClient=void 0,await t}}}function sN(n,t){const e=typeof n=="object"?n:Pp(),i=typeof n=="string"?n:Nf,r=td(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Ex("firestore");o&&iN(r,...o)}return r}function T_(n){if(n._terminated)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rN(n),n._firestoreClient}function rN(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new CM(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Rw(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new ZO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $n(nn.fromBase64String(t))}catch(e){throw new mt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new $n(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(au(t,$n._jsonSchema))return $n.fromBase64String(t.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ve("string",$n._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(t){if(au(t,$i._jsonSchema))return new $i(t.latitude,t.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:Ve("string",$i._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(au(t,Wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Wi(t.vectorValues);throw new mt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Ve("string",Wi._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=/^__.*__$/;class oN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ba(t,this.data,this.fieldMask,e,this.fieldTransforms):new ou(t,this.data,e,this.fieldTransforms)}}function Mw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:n})}}class x_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new x_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Hf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Mw(this.Ac)&&aN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class lN{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||dd(t)}Cc(t,e,i,r=!1){return new x_({Ac:t,methodName:e,Dc:i,path:en.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dw(n){const t=n._freezeSettings(),e=dd(n._databaseId);return new lN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Ow(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);Pw("Data must be an object, but it was:",c,i);const h=kw(i,c);let f,m;if(o.merge)f=new pi(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const y of o.mergeFields){const T=cN(t,y,e);if(!c.contains(T))throw new mt(st.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);hN(_,T)||_.push(T)}f=new pi(_),m=c.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,m=c.fieldTransforms;return new oN(new Qn(h),f,m)}function Nw(n,t){if(Vw(n=Zn(n)))return Pw("Unsupported field value:",t,n),kw(n,t);if(n instanceof Iw)return(function(i,r){if(!Mw(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=Nw(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Zn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=he.fromDate(i);return{timestampValue:Uf(r.serializer,o)}}if(i instanceof he){const o=new he(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uf(r.serializer,o)}}if(i instanceof $i)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $n)return{bytesValue:XS(r.serializer,i._byteString)};if(i instanceof Be){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:a_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Wi)return(function(c,h){return{mapValue:{fields:{[SS]:{stringValue:wS},[kf]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return n_(h.serializer,m)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Qp(i)}`)})(n,t)}function kw(n,t){const e={};return yS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ua(n,((i,r)=>{const o=Nw(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function Vw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof he||n instanceof $i||n instanceof $n||n instanceof Be||n instanceof Iw||n instanceof Wi)}function Pw(n,t,e){if(!Vw(e)||!pS(e)){const i=Qp(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function cN(n,t,e){if((t=Zn(t))instanceof E_)return t._internalPath;if(typeof t=="string")return Lw(n,t);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,e)}const uN=new RegExp("[~\\*/\\[\\]]");function Lw(n,t,e){if(t.search(uN)>=0)throw Hf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new E_(...t.split("."))._internalPath}catch{throw Hf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Hf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new mt(st.INVALID_ARGUMENT,h+n+f)}function hN(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Uw("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class fN extends zw{data(){return super.data()}}function Uw(n,t){return typeof t=="string"?Lw(n,t):t instanceof E_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mN{convertValue(t,e="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ua(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[kf].arrayValue?.values?.map((i=>xe(i.doubleValue)));return new Wi(e)}convertGeoPoint(t){return new $i(xe(t.latitude),xe(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ad(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Fc(t));default:return null}}convertTimestamp(t){const e=kr(t);return new he(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ue.fromString(t);$t(tw(i),9688,{name:t});const r=new Hc(i.get(1),i.get(3)),o=new pt(i.popFirst(5));return r.isEqual(e)||Vs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class wc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ra extends zw{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Uw("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ra._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:Ve("string",Ra._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class bf extends Ra{data(t={}){return super.data(t)}}class Yo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new wc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new bf(this._firestore,this._userDataWriter,i.key,i,new wc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new bf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new wc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new bf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new wc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,_=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:gN(h.type),doc:f,oldIndex:m,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Yo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function gN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(n){n=Ps(n,Be);const t=Ps(n.firestore,cl);return eN(T_(t),n._key).then((e=>vN(t,n,e)))}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:Ve("string",Yo._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Bw extends mN{constructor(t){super(),this.firestore=t}convertBytes(t){return new $n(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}function Fw(n){n=Ps(n,_d);const t=Ps(n.firestore,cl),e=T_(t),i=new Bw(t);return dN(n._query),nN(e,n._query).then((r=>new Yo(t,i,n,r)))}function pN(n,t,e){n=Ps(n,Be);const i=Ps(n.firestore,cl),r=jw(n.converter,t);return w_(i,[Ow(Dw(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,vi.none())])}function _N(n){return w_(Ps(n.firestore,cl),[new i_(n._key,vi.none())])}function yN(n,t){const e=Ps(n.firestore,cl),i=hu(n),r=jw(n.converter,t);return w_(e,[Ow(Dw(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,vi.exists(!1))]).then((()=>i))}function w_(n,t){return(function(i,r){const o=new Os;return i.asyncQueue.enqueueAndForget((async()=>HO(await tN(i),r,o))),o.promise})(T_(n),t)}function vN(n,t,e){const i=e.docs.get(t._key),r=new Bw(n);return new Ra(n,r,t._key,i,new wc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){rl=r})(za),Ma(new Or("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new cl(new cM(i.getProvider("auth-internal")),new fM(c,i.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new mt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(m.options.projectId,_)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Yi(tT,eT,t),Yi(tT,eT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firebasestorage.googleapis.com",bN="storageBucket",TN=120*1e3,EN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends is{constructor(t,e,i=0){super(jg(t),`Firebase Storage: ${e} (${jg(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ss.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return jg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ns;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ns||(ns={}));function jg(n){return"storage/"+n}function xN(){const n="An unknown error occurred, please check the error payload for server response.";return new ss(ns.UNKNOWN,n)}function SN(){return new ss(ns.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wN(){return new ss(ns.CANCELED,"User canceled the upload/download.")}function AN(n){return new ss(ns.INVALID_URL,"Invalid URL '"+n+"'.")}function RN(n){return new ss(ns.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function QT(n){return new ss(ns.INVALID_ARGUMENT,n)}function qw(){return new ss(ns.APP_DELETED,"The Firebase app was deleted.")}function CN(n){return new ss(ns.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=_i.makeFromUrl(t,e)}catch{return new _i(t,"")}if(i.path==="")return i;throw RN(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}const _="v[A-Za-z0-9_]+",y=e.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",x=new RegExp(`^https?://${y}/${_}/b/${r}/o${T}`,"i"),R={bucket:1,path:3},C=e===Hw?"(?:storage.googleapis.com|storage.cloud.google.com)":e,I="([^?#]*)",L=new RegExp(`^https?://${C}/${r}/${I}`,"i"),X=[{regex:h,indices:f,postModify:o},{regex:x,indices:R,postModify:m},{regex:L,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<X.length;Z++){const W=X[Z],rt=W.regex.exec(t);if(rt){const M=rt[W.indices.bucket];let w=rt[W.indices.path];w||(w=""),i=new _i(M,w),W.postModify(i);break}}if(i==null)throw AN(t);return i}}class IN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let m=!1;function _(...I){m||(m=!0,t.apply(null,I))}function y(I){r=setTimeout(()=>{r=null,n(x,f())},I)}function T(){o&&clearTimeout(o)}function x(I,...L){if(m){T();return}if(I){T(),_.call(null,I,...L);return}if(f()||c){T(),_.call(null,I,...L);return}i<64&&(i*=2);let X;h===1?(h=2,X=0):X=(i+Math.random())*1e3,y(X)}let R=!1;function C(I){R||(R=!0,T(),!m&&(r!==null?(I||(h=2),clearTimeout(r),y(0)):I||(h=1)))}return y(0),o=setTimeout(()=>{c=!0,C(!0)},e),C}function DN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n){return n!==void 0}function $T(n,t,e,i){if(i<t)throw QT(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw QT(`Invalid value for '${n}'. Expected ${e} or less.`)}function NN(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var qf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(qf||(qf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,e,i,r,o,c,h,f,m,_,y,T=!0,x=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=y,this.retry=T,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,C)=>{this.resolve_=R,this.reject_=C,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Xh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===qf.NO_ERROR,f=o.getStatus();if(!h||kN(f,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===qf.ABORT;i(!1,new Xh(!1,null,_));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Xh(m,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());ON(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=xN();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?qw():wN();c(f)}else{const f=SN();c(f)}};this.canceled_?e(!1,new Xh(!1,null,!0)):this.backoffId_=MN(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&DN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xh{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function PN(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function LN(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function zN(n,t){t&&(n["X-Firebase-GMPID"]=t)}function UN(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function jN(n,t,e,i,r,o,c=!0,h=!1){const f=NN(n.urlParams),m=n.url+f,_=Object.assign({},n.headers);return zN(_,t),PN(_,e),LN(_,o),UN(_,i),new VN(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function FN(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,e){this._service=t,e instanceof _i?this._location=e:this._location=_i.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Gf(t,e)}get root(){const t=new _i(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FN(this._location.path)}get storage(){return this._service}get parent(){const t=BN(this._location.path);if(t===null)return null;const e=new _i(this._location.bucket,t);return new Gf(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw CN(t)}}function WT(n,t){const e=t?.[bN];return e==null?null:_i.makeFromBucketSpec(e,n)}function HN(n,t,e,i={}){n.host=`${t}:${e}`;const r=La(t);r&&(Op(`https://${n.host}/b`),Np("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:wx(o,n.app.options.projectId))}class qN{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=Hw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TN,this._maxUploadRetryTime=EN,this._requests=new Set,r!=null?this._bucket=_i.makeFromBucketSpec(r,this._host):this._bucket=WT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,t):this._bucket=WT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){$T("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){$T("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gf(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new IN(qw());{const c=jN(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const ZT="@firebase/storage",JT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="storage";function GN(n=Pp(),t){n=Zn(n);const i=td(n,Gw).getImmediate({identifier:t}),r=Ex("storage");return r&&YN(i,...r),i}function YN(n,t,e,i={}){HN(n,t,e,i)}function KN(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new qN(e,i,r,t,za)}function XN(){Ma(new Or(Gw,KN,"PUBLIC").setMultipleInstances(!0)),Yi(ZT,JT,""),Yi(ZT,JT,"esm2020")}XN();const QN={apiKey:"AIzaSyBpLnEBDMz-FXoSYWN9EWsUuMAIu-Dpt9M",authDomain:"drivesense-7cac6.firebaseapp.com",projectId:"drivesense-7cac6",storageBucket:"drivesense-7cac6.firebasestorage.app",messagingSenderId:"751400174977",appId:"1:751400174977:web:c1d4109794ca4d41bb5480"},A_=Cx(QN),$N=rM(A_),ka=sN(A_);GN(A_);const WN=({isLoggedIn:n,setIsLoggedIn:t,setUser:e})=>{const i=async()=>{const r=new Cs;try{const c=(await mI($N,r)).user;e({displayName:c.displayName,email:c.email,photoURL:c.photoURL,uid:c.uid});const h=hu(ka,"users",c.uid);(await S_(h)).exists()||await pN(h,{uid:c.uid,name:c.displayName,email:c.email,photoURL:c.photoURL,createdAt:new Date().toISOString()}),t(m=>!m),n&&console.log("Google Sign-In successful:",c)}catch(o){console.error("Google Sign-In error:",o)}};return O.jsxs("div",{className:`flex flex-row items-center justify-center px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)]  \r
            bg-[var(--blue-color)] text-[var(--light-color)] cursor-pointer rounded-full gap-[calc(0.2vw+0.3rem)] \r
            hover:bg-[var(--purple-color)] hover:text-[var(--dark-color)] transition duration-300 ease-in-out`,children:[O.jsx("i",{className:"bxl bx-google bx-tada-hover text-[calc(0.4vw+0.8rem)]"}),O.jsx("span",{onClick:i,className:"text-[calc(0.4vw+0.5rem)]",children:"Sign in with Google"})]})};function ZN({isDark:n,setIsDark:t,isLoggedIn:e,setIsLoggedIn:i,setUser:r}){const o=ei(),[c,h]=Mt.useState(!1),[f,m]=Mt.useState(!1),_=()=>{m(y=>!y)};return O.jsxs("div",{className:`
            ${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[O.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&O.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(y=>!y)}),O.jsx("img",{src:n?Dp:xf,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),O.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),!o&&O.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Home"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Features"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]}),O.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"}),O.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)] text-[calc(0.4vw+0.5rem)]":"text-[var(--light-color)] bg-[var(--dark-color)] text-[calc(0.4vw+0.5rem)]"}
                    px-[calc(0.4vw+0.6rem)] py-[calc(0.2vw+0.3rem)] rounded-md cursor-pointer
                    hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)] font-semibold`,onClick:()=>_(),children:"Sign In"}),f&&O.jsx("div",{className:"fade-in absolute top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:O.jsxs("div",{className:"h-[420px] w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-start relative rounded-xl rounded-tr-none",children:[O.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                            flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>m(y=>!y)}),O.jsxs("div",{className:"w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[O.jsx("img",{src:xf,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer",alt:""}),O.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Sign in to your account"}),O.jsx(WN,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),O.jsx("span",{className:"text-[calc(0.4vw+0.5rem)]",children:"Or continue with"}),O.jsx("input",{type:"email",placeholder:"Email",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),O.jsx("input",{type:"password",placeholder:"Password",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),O.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,children:"Continue"}),O.jsxs("span",{className:"text-[calc(0.4vw+0.5rem)]",children:["Don't have an account?",O.jsx("span",{className:"text-[calc(0.4vw+0.5rem)] text-[var(--blue-color)] hovered cursor-pointer",children:" Sign Up"})]})]})]})}),O.jsx(_x,{isDark:n,setIsDark:t})]}),o&&c&&O.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:O.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[O.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(y=>!y)}),O.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Home"}),O.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Features"}),O.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Github"})]})})]})}const R_="/DriveSense/assets/car-img-DqpG-dY6.png",Qh=({icon:n,title:t,info:e,isDark:i})=>{const r=ei();return O.jsxs("div",{className:`
            ${r?"w-[152px] h-[240px]":"flex-1"}
            flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)] 
            p-[calc(0.4vw+0.6rem)] rounded-lg border border-[var(--border-color)]`,children:[n,O.jsx("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} font-semibold text-center`,children:t}),O.jsxs("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} text-center`,children:[e,"."]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fu(n){return n+.5|0}const Sr=(n,t,e)=>Math.max(Math.min(n,e),t);function Ac(n){return Sr(fu(n*2.55),0,255)}function Dr(n){return Sr(fu(n*255),0,255)}function Rs(n){return Sr(fu(n/2.55)/100,0,1)}function tE(n){return Sr(fu(n*100),0,100)}const Kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xp=[..."0123456789ABCDEF"],JN=n=>xp[n&15],tk=n=>xp[(n&240)>>4]+xp[n&15],$h=n=>(n&240)>>4===(n&15),ek=n=>$h(n.r)&&$h(n.g)&&$h(n.b)&&$h(n.a);function nk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Kn[n[1]]*17,g:255&Kn[n[2]]*17,b:255&Kn[n[3]]*17,a:t===5?Kn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Kn[n[1]]<<4|Kn[n[2]],g:Kn[n[3]]<<4|Kn[n[4]],b:Kn[n[5]]<<4|Kn[n[6]],a:t===9?Kn[n[7]]<<4|Kn[n[8]]:255})),e}const ik=(n,t)=>n<255?t(n):"";function sk(n){var t=ek(n)?JN:tk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+ik(n.a,t):void 0}const rk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yw(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function ak(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function ok(n,t,e){const i=Yw(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function lk(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function C_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,m,_;return o!==c&&(_=o-c,m=h>.5?_/(2-o-c):_/(o+c),f=lk(e,i,r,_,o),f=f*60+.5),[f|0,m||0,h]}function I_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Dr)}function M_(n,t,e){return I_(Yw,n,t,e)}function ck(n,t,e){return I_(ok,n,t,e)}function uk(n,t,e){return I_(ak,n,t,e)}function Kw(n){return(n%360+360)%360}function hk(n){const t=rk.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Ac(+t[5]):Dr(+t[5]));const r=Kw(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=ck(r,o,c):t[1]==="hsv"?i=uk(r,o,c):i=M_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function fk(n,t){var e=C_(n);e[0]=Kw(e[0]+t),e=M_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function dk(n){if(!n)return;const t=C_(n),e=t[0],i=tE(t[1]),r=tE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Rs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const eE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mk(){const n={},t=Object.keys(nE),e=Object.keys(eE);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,eE[o]);o=parseInt(nE[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Wh;function gk(n){Wh||(Wh=mk(),Wh.transparent=[0,0,0,0]);const t=Wh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const pk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _k(n){const t=pk.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Ac(c):Sr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Ac(i):Sr(i,0,255)),r=255&(t[4]?Ac(r):Sr(r,0,255)),o=255&(t[6]?Ac(o):Sr(o,0,255)),{r:i,g:r,b:o,a:e}}}function yk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Rs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Bg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Po=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function vk(n,t,e){const i=Po(Rs(n.r)),r=Po(Rs(n.g)),o=Po(Rs(n.b));return{r:Dr(Bg(i+e*(Po(Rs(t.r))-i))),g:Dr(Bg(r+e*(Po(Rs(t.g))-r))),b:Dr(Bg(o+e*(Po(Rs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Zh(n,t,e){if(n){let i=C_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=M_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Xw(n,t){return n&&Object.assign(t||{},n)}function iE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Dr(n[3]))):(t=Xw(n,{r:0,g:0,b:0,a:1}),t.a=Dr(t.a)),t}function bk(n){return n.charAt(0)==="r"?_k(n):hk(n)}class Kc{constructor(t){if(t instanceof Kc)return t;const e=typeof t;let i;e==="object"?i=iE(t):e==="string"&&(i=nk(t)||gk(t)||bk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Xw(this._rgb);return t&&(t.a=Rs(t.a)),t}set rgb(t){this._rgb=iE(t)}rgbString(){return this._valid?yk(this._rgb):void 0}hexString(){return this._valid?sk(this._rgb):void 0}hslString(){return this._valid?dk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=vk(this._rgb,t._rgb,e)),this}clone(){return new Kc(this.rgb)}alpha(t){return this._rgb.a=Dr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=fu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zh(this._rgb,2,t),this}darken(t){return Zh(this._rgb,2,-t),this}saturate(t){return Zh(this._rgb,1,t),this}desaturate(t){return Zh(this._rgb,1,-t),this}rotate(t){return fk(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ss(){}const Tk=(()=>{let n=0;return()=>n++})();function Qt(n){return n==null}function je(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Jn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Fi(n,t){return Jn(n)?n:t}function Dt(n,t){return typeof n>"u"?t:n}const Ek=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Qw=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ce(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,c;if(je(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Yf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Kf(n){if(je(n))return n.map(Kf);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Kf(n[e[r]]);return t}return n}function $w(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function xk(n,t,e,i){if(!$w(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?Xc(r,o,i):t[n]=Kf(o)}function Xc(n,t,e){const i=je(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||xk;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let m=0,_=f.length;m<_;++m)o(f[m],n,c,e)}return n}function Vc(n,t){return Xc(n,t,{merger:Sk})}function Sk(n,t,e){if(!$w(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?Vc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Kf(r))}const sE={"":n=>n,x:n=>n.x,y:n=>n.y};function wk(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Ak(n){const t=wk(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Va(n,t){return(sE[t]||(sE[t]=Ak(t)))(n)}function D_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Qc=n=>typeof n<"u",Ur=n=>typeof n=="function",rE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Rk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ee=Math.PI,ye=2*ee,Ck=ye+ee,Xf=Number.POSITIVE_INFINITY,Ik=ee/180,Fe=ee/2,_a=ee/4,aE=ee*2/3,Ww=Math.log10,Zi=Math.sign;function Pc(n,t,e){return Math.abs(n-t)<e}function oE(n){const t=Math.round(n);n=Pc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Ww(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Mk(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function Dk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function $c(n){return!Dk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Ok(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Nk(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ds(n){return n*(ee/180)}function kk(n){return n*(180/ee)}function lE(n){if(!Jn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Zw(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ee&&(o+=ye),{angle:o,distance:r}}function Sp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Vk(n,t){return(n-t+Ck)%ye-ee}function mi(n){return(n%ye+ye)%ye}function Wc(n,t,e,i){const r=mi(n),o=mi(t),c=mi(e),h=mi(o-r),f=mi(c-r),m=mi(r-o),_=mi(r-c);return r===o||r===c||i&&o===c||h>f&&m<_}function cn(n,t,e){return Math.max(t,Math.min(e,n))}function Pk(n){return cn(n,-32768,32767)}function wr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function O_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const wa=(n,t,e,i)=>O_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),Lk=(n,t,e)=>O_(n,e,i=>n[i][t]>=e);function zk(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const Jw=["push","pop","shift","splice","unshift"];function Uk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Jw.forEach(e=>{const i="_onData"+D_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function cE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(Jw.forEach(o=>{delete n[o]}),delete n._chartjs)}function t1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const e1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function n1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,e1.call(window,()=>{i=!1,n.apply(t,e)}))}}function jk(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const N_=n=>n==="start"?"left":n==="end"?"right":"center",an=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Bk=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Fk(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,_=c.axis,{min:y,max:T,minDefined:x,maxDefined:R}=c.getUserBounds();if(x){if(r=Math.min(wa(f,_,y).lo,e?i:wa(t,_,c.getPixelForValue(y)).lo),m){const C=f.slice(0,r+1).reverse().findIndex(I=>!Qt(I[h.axis]));r-=Math.max(0,C)}r=cn(r,0,i-1)}if(R){let C=Math.max(wa(f,c.axis,T,!0).hi+1,e?0:wa(t,_,c.getPixelForValue(T),!0).hi+1);if(m){const I=f.slice(C-1).findIndex(L=>!Qt(L[h.axis]));C+=Math.max(0,I)}o=cn(C,r,i)-r}else o=i-r}return{start:r,count:o}}function Hk(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Jh=n=>n===0||n===1,uE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ye/e)),hE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ye/e)+1,Lc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Fe)+1,easeOutSine:n=>Math.sin(n*Fe),easeInOutSine:n=>-.5*(Math.cos(ee*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Jh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Jh(n)?n:uE(n,.075,.3),easeOutElastic:n=>Jh(n)?n:hE(n,.075,.3),easeInOutElastic(n){return Jh(n)?n:n<.5?.5*uE(n*2,.1125,.45):.5+.5*hE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Lc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Lc.easeInBounce(n*2)*.5:Lc.easeOutBounce(n*2-1)*.5+.5};function k_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fE(n){return k_(n)?n:new Kc(n)}function Fg(n){return k_(n)?n:new Kc(n).saturate(.5).darken(.1).hexString()}const qk=["x","y","borderWidth","radius","tension"],Gk=["color","borderColor","backgroundColor"];function Yk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Gk},numbers:{type:"number",properties:qk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Kk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dE=new Map;function Xk(n,t){t=t||{};const e=n+JSON.stringify(t);let i=dE.get(e);return i||(i=new Intl.NumberFormat(n,t),dE.set(e,i)),i}function V_(n,t,e){return Xk(t,e).format(n)}const Qk={values(n){return je(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=$k(n,e)}const c=Ww(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),V_(n,i,f)}};function $k(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var i1={formatters:Qk};function Wk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:i1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Pa=Object.create(null),wp=Object.create(null);function zc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Hg(n,t,e){return typeof t=="string"?Xc(zc(n,t),e):Xc(zc(n,""),t)}class Zk{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Fg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Fg(r.borderColor),this.hoverColor=(i,r)=>Fg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Hg(this,t,e)}get(t){return zc(this,t)}describe(t,e){return Hg(wp,t,e)}override(t,e){return Hg(Pa,t,e)}route(t,e,i,r){const o=zc(this,t),c=zc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[r];return qt(f)?Object.assign({},m,f):Dt(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Se=new Zk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Yk,Kk,Wk]);function Jk(n){return!n||Qt(n.size)||Qt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function mE(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function ya(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function gE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ap(n,t,e,i){s1(n,t,e,i,null)}function s1(n,t,e,i,r){let o,c,h,f,m,_,y,T;const x=t.pointStyle,R=t.rotation,C=t.radius;let I=(R||0)*Ik;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),x){default:r?n.ellipse(e,i,r/2,C,0,0,ye):n.arc(e,i,C,0,ye),n.closePath();break;case"triangle":_=r?r/2:C,n.moveTo(e+Math.sin(I)*_,i-Math.cos(I)*C),I+=aE,n.lineTo(e+Math.sin(I)*_,i-Math.cos(I)*C),I+=aE,n.lineTo(e+Math.sin(I)*_,i-Math.cos(I)*C),n.closePath();break;case"rectRounded":m=C*.516,f=C-m,c=Math.cos(I+_a)*f,y=Math.cos(I+_a)*(r?r/2-m:f),h=Math.sin(I+_a)*f,T=Math.sin(I+_a)*(r?r/2-m:f),n.arc(e-y,i-h,m,I-ee,I-Fe),n.arc(e+T,i-c,m,I-Fe,I),n.arc(e+y,i+h,m,I,I+Fe),n.arc(e-T,i+c,m,I+Fe,I+ee),n.closePath();break;case"rect":if(!R){f=Math.SQRT1_2*C,_=r?r/2:f,n.rect(e-_,i-f,2*_,2*f);break}I+=_a;case"rectRot":y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,T=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+T,i-c),n.lineTo(e+y,i+h),n.lineTo(e-T,i+c),n.closePath();break;case"crossRot":I+=_a;case"cross":y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,T=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"star":y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,T=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c),I+=_a,y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,T=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"line":c=r?r/2:Math.cos(I)*C,h=Math.sin(I)*C,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(r?r/2:C),i+Math.sin(I)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Zc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function P_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function L_(n){n.restore()}function t4(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function e4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function n4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Qt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function i4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function s4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Jc(n,t,e,i,r,o={}){const c=je(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=r.string,n4(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&s4(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Qt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),i4(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function Qf(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ee,ee,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ee,Fe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Fe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Fe,!0),n.lineTo(e+c.topLeft,i)}const r4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,a4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function o4(n,t){const e=(""+n).match(r4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const l4=n=>+n||0;function z_(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>Dt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=l4(o(c));return e}function r1(n){return z_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ko(n){return z_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ti(n){const t=r1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function un(n,t){n=n||{},t=t||Se.font;let e=Dt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Dt(n.style,t.style);i&&!(""+i).match(a4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Dt(n.family,t.family),lineHeight:o4(Dt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Dt(n.weight,t.weight),string:""};return r.string=Jk(r),r}function tf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function c4(n,t,e){const{min:i,max:r}=n,o=Qw(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Ha(n,t){return Object.assign(Object.create(n),t)}function U_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=c1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>U_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return o1(h,f,()=>_4(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return _E(h).includes(f)},ownKeys(h){return _E(h)},set(h,f,m){const _=h._storage||(h._storage=r());return h[f]=_[f]=m,delete h._keys,!0}})}function nl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:a1(n,i),setContext:o=>nl(n,o,e,i),override:o=>nl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return o1(o,c,()=>h4(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function a1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ur(e)?e:()=>e,isIndexable:Ur(i)?i:()=>i}}const u4=(n,t)=>n?n+D_(t):t,j_=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function o1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function h4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Ur(h)&&c.isScriptable(t)&&(h=f4(t,h,n,e)),je(h)&&h.length&&(h=d4(t,h,n,c.isIndexable)),j_(t,h)&&(h=nl(h,r,o&&o[t],c)),h}function f4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),j_(n,f)&&(f=B_(r._scopes,r,n,f)),f}function d4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,m=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const y=B_(m,r,n,_);t.push(nl(y,o,c&&c[n],h))}}return t}function l1(n,t,e){return Ur(n)?n(t,e):n}const m4=(n,t)=>n===!0?t:typeof n=="string"?Va(t,n):void 0;function g4(n,t,e,i,r){for(const o of t){const c=m4(e,o);if(c){n.add(c);const h=l1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function B_(n,t,e,i){const r=t._rootScopes,o=l1(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=pE(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=pE(h,c,o,f,i),f===null)?!1:U_(Array.from(h),[""],r,o,()=>p4(t,e,i))}function pE(n,t,e,i,r){for(;e;)e=g4(n,t,e,i,r);return e}function p4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return je(r)&&qt(e)?e:r||{}}function _4(n,t,e,i){let r;for(const o of t)if(r=c1(u4(o,n),e),typeof r<"u")return j_(n,r)?B_(e,i,n,r):r}function c1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function _E(n){let t=n._keys;return t||(t=n._keys=y4(n._scopes)),t}function y4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const v4=Number.EPSILON||1e-14,il=(n,t)=>t<n.length&&!n[t].skip&&n[t],u1=n=>n==="x"?"y":"x";function b4(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=Sp(o,r),f=Sp(c,o);let m=h/(h+f),_=f/(h+f);m=isNaN(m)?0:m,_=isNaN(_)?0:_;const y=i*m,T=i*_;return{previous:{x:o.x-y*(c.x-r.x),y:o.y-y*(c.y-r.y)},next:{x:o.x+T*(c.x-r.x),y:o.y+T*(c.y-r.y)}}}function T4(n,t,e){const i=n.length;let r,o,c,h,f,m=il(n,0);for(let _=0;_<i-1;++_)if(f=m,m=il(n,_+1),!(!f||!m)){if(Pc(t[_],0,v4)){e[_]=e[_+1]=0;continue}r=e[_]/t[_],o=e[_+1]/t[_],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[_]=r*c*t[_],e[_+1]=o*c*t[_])}}function E4(n,t,e="x"){const i=u1(e),r=n.length;let o,c,h,f=il(n,0);for(let m=0;m<r;++m){if(c=h,h=f,f=il(n,m+1),!h)continue;const _=h[e],y=h[i];c&&(o=(_-c[e])/3,h[`cp1${e}`]=_-o,h[`cp1${i}`]=y-o*t[m]),f&&(o=(f[e]-_)/3,h[`cp2${e}`]=_+o,h[`cp2${i}`]=y+o*t[m])}}function x4(n,t="x"){const e=u1(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,m=il(n,0);for(c=0;c<i;++c)if(h=f,f=m,m=il(n,c+1),!!f){if(m){const _=m[t]-f[t];r[c]=_!==0?(m[e]-f[e])/_:0}o[c]=h?m?Zi(r[c-1])!==Zi(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}T4(n,r,o),E4(n,o,t)}function ef(n,t,e){return Math.max(Math.min(n,e),t)}function S4(n,t){let e,i,r,o,c,h=Zc(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&Zc(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=ef(r.cp1x,t.left,t.right),r.cp1y=ef(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=ef(r.cp2x,t.left,t.right),r.cp2y=ef(r.cp2y,t.top,t.bottom)))}function w4(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")x4(n,r);else{let m=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=b4(m,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,m=h}t.capBezierPoints&&S4(n,e)}function F_(){return typeof window<"u"&&typeof document<"u"}function H_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function $f(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const yd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function A4(n,t){return yd(n).getPropertyValue(t)}const R4=["top","right","bottom","left"];function Ca(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=R4[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const C4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function I4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(C4(r,o,n.target))h=r,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function Ta(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=yd(e),o=r.boxSizing==="border-box",c=Ca(r,"padding"),h=Ca(r,"border","width"),{x:f,y:m,box:_}=I4(n,e),y=c.left+(_&&h.left),T=c.top+(_&&h.top);let{width:x,height:R}=t;return o&&(x-=c.width+h.width,R-=c.height+h.height),{x:Math.round((f-y)/x*e.width/i),y:Math.round((m-T)/R*e.height/i)}}function M4(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&H_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=yd(o),f=Ca(h,"border","width"),m=Ca(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=$f(h.maxWidth,o,"clientWidth"),r=$f(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Xf,maxHeight:r||Xf}}const nf=n=>Math.round(n*10)/10;function D4(n,t,e,i){const r=yd(n),o=Ca(r,"margin"),c=$f(r.maxWidth,n,"clientWidth")||Xf,h=$f(r.maxHeight,n,"clientHeight")||Xf,f=M4(n,t,e);let{width:m,height:_}=f;if(r.boxSizing==="content-box"){const T=Ca(r,"border","width"),x=Ca(r,"padding");m-=x.width+T.width,_-=x.height+T.height}return m=Math.max(0,m-o.width),_=Math.max(0,i?m/i:_-o.height),m=nf(Math.min(m,c,f.maxWidth)),_=nf(Math.min(_,h,f.maxHeight)),m&&!_&&(_=nf(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,m=nf(Math.floor(_*i))),{width:m,height:_}}function yE(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const O4=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};F_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function vE(n,t){const e=A4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ea(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function N4(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function k4(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Ea(n,r,e),h=Ea(r,o,e),f=Ea(o,t,e),m=Ea(c,h,e),_=Ea(h,f,e);return Ea(m,_,e)}const V4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},P4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Xo(n,t,e){return n?V4(t,e):P4()}function h1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function f1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function d1(n){return n==="angle"?{between:Wc,compare:Vk,normalize:mi}:{between:wr,compare:(t,e)=>t-e,normalize:t=>t}}function bE({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function L4(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=d1(i),f=t.length;let{start:m,end:_,loop:y}=n,T,x;if(y){for(m+=f,_+=f,T=0,x=f;T<x&&c(h(t[m%f][i]),r,o);++T)m--,_--;m%=f,_%=f}return _<m&&(_+=f),{start:m,end:_,loop:y,style:n.style}}function z4(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:m}=d1(i),{start:_,end:y,loop:T,style:x}=L4(n,t,e),R=[];let C=!1,I=null,L,G,X;const Z=()=>f(r,X,L)&&h(r,X)!==0,W=()=>h(o,L)===0||f(o,X,L),rt=()=>C||Z(),M=()=>!C||W();for(let w=_,D=_;w<=y;++w)G=t[w%c],!G.skip&&(L=m(G[i]),L!==X&&(C=f(L,r,o),I===null&&rt()&&(I=h(L,r)===0?w:D),I!==null&&M()&&(R.push(bE({start:I,end:w,loop:T,count:c,style:x})),I=null),D=w,X=L));return I!==null&&R.push(bE({start:I,end:y,loop:T,count:c,style:x})),R}function U4(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=z4(i[r],n.points,t);o.length&&e.push(...o)}return e}function j4(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function B4(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const m=n[f%r];m.skip||m.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=m.stop?f:null):(c=f,h.skip&&(t=f)),h=m}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function F4(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=j4(e,r,o,i);if(i===!0)return TE(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,m=!!n._fullLoop&&c===0&&h===r-1;return TE(n,B4(e,c,f,m),e,t)}function TE(n,t,e,i){return!i||!i.setContext||!e?t:H4(n,t,e,i)}function H4(n,t,e,i){const r=n._chart.getContext(),o=EE(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,m=[];let _=o,y=t[0].start,T=y;function x(R,C,I,L){const G=h?-1:1;if(R!==C){for(R+=f;e[R%f].skip;)R-=G;for(;e[C%f].skip;)C+=G;R%f!==C%f&&(m.push({start:R%f,end:C%f,loop:I,style:L}),_=L,y=C%f)}}for(const R of t){y=h?y:R.start;let C=e[y%f],I;for(T=y+1;T<=R.end;T++){const L=e[T%f];I=EE(i.setContext(Ha(r,{type:"segment",p0:C,p1:L,p0DataIndex:(T-1)%f,p1DataIndex:T%f,datasetIndex:c}))),q4(I,_)&&x(y,T-1,R.loop,_),C=L,_=I}y<T-1&&x(y,T-1,R.loop,_)}return m}function EE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function q4(n,t){if(!t)return!1;const e=[],i=function(r,o){return k_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function sf(n,t,e){return n.options.clip?n[e]:t[e]}function G4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:sf(e,t,"left"),right:sf(e,t,"right"),top:sf(i,t,"top"),bottom:sf(i,t,"bottom")}:t}function Y4(n,t){const e=t._clip;if(e.disabled)return!1;const i=G4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class K4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=e1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ws=new K4;const xE="transparent",X4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=fE(n||xE),r=i.valid&&fE(t||xE);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Q4{constructor(t,e,i,r){const o=e[i];r=tf([t.to,r,o,t.from]);const c=tf([t.from,o,r]);this._active=!0,this._fn=t.fn||X4[t.type||typeof c],this._easing=Lc[t.easing]||Lc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=tf([t.to,e,r,t.from]),this._from=tf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class m1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Se.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(je(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=W4(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&$4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[m];let y=o[m];const T=i.get(m);if(y)if(T&&y.active()){y.update(T,_,h);continue}else y.cancel();if(!T||!T.duration){t[m]=_;continue}o[m]=y=new Q4(T,t,m,_),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ws.add(this._chart,i),!0}}function $4(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function W4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function SE(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function Z4(n,t,e){if(e===!1)return!1;const i=SE(n,e),r=SE(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function J4(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function g1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function wE(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(_=!0,i.all)continue;break}m=n.values[f],Jn(m)&&(o||t===0||Zi(t)===Zi(m))&&(t+=m)}return!_&&!i.all?0:t}function tV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,_;for(f=0,m=c.length;f<m;++f)_=c[f],h[f]={[r]:_,[o]:n[_]};return h}function qg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function eV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function nV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function iV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function AE(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function RE(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,_=eV(o,c,i),y=t.length;let T;for(let x=0;x<y;++x){const R=t[x],{[f]:C,[m]:I}=R,L=R._stacks||(R._stacks={});T=L[m]=iV(r,_,C),T[h]=I,T._top=AE(T,c,!0,i.type),T._bottom=AE(T,c,!1,i.type);const G=T._visualValues||(T._visualValues={});G[h]=I}}function Gg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function sV(n,t){return Ha(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function rV(n,t,e){return Ha(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function _c(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Yg=n=>n==="reset"||n==="none",CE=(n,t)=>t?n:Object.assign({},n),aV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:g1(e,!0),values:null};class vd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=qg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&_c(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,T,x,R)=>y==="x"?T:y==="r"?R:x,o=e.xAxisID=Dt(i.xAxisID,Gg(t,"x")),c=e.yAxisID=Dt(i.yAxisID,Gg(t,"y")),h=e.rAxisID=Dt(i.rAxisID,Gg(t,"r")),f=e.indexAxis,m=e.iAxisID=r(f,o,c,h),_=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cE(this._data,this),t._stacked&&_c(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=tV(e,r)}else if(i!==e){if(i){cE(i,this);const r=this._cachedMeta;_c(r),r._parsed=[]}e&&Object.isExtensible(e)&&Uk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=qg(e.vScale,e),e.stack!==i.stack&&(r=!0,_c(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(RE(this,e._parsed),e._stacked=qg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],_,y,T;if(this._parsing===!1)i._parsed=r,i._sorted=!0,T=r;else{je(r[t])?T=this.parseArrayData(i,r,t,e):qt(r[t])?T=this.parseObjectData(i,r,t,e):T=this.parsePrimitiveData(i,r,t,e);const x=()=>y[h]===null||m&&y[h]<m[h];for(_=0;_<e;++_)i._parsed[_+t]=y=T[_],f&&(x()&&(f=!1),m=y);i._sorted=f}c&&RE(this,T)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),_=o===c,y=new Array(r);let T,x,R;for(T=0,x=r;T<x;++T)R=T+i,y[T]={[h]:_||o.parse(m[R],R),[f]:c.parse(e[R],R)};return y}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,m,_,y;for(f=0,m=r;f<m;++f)_=f+i,y=e[_],h[f]={x:o.parse(y[0],_),y:c.parse(y[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(r);let _,y,T,x;for(_=0,y=r;_<y;++_)T=_+i,x=e[T],m[_]={x:o.parse(Va(x,h),T),y:c.parse(Va(x,f),T)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:g1(r,!0),values:e._stacks[t.axis]._visualValues};return wE(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=wE(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=aV(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:y}=nV(h);let T,x;function R(){x=r[T];const C=x[h.axis];return!Jn(x[t.axis])||_>C||y<C}for(T=0;T<c&&!(!R()&&(this.updateRangeFromParsed(m,t,x,f),o));++T);if(o){for(T=c-1;T>=0;--T)if(!R()){this.updateRangeFromParsed(m,t,x,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],Jn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=J4(Dt(this.options.clip,Z4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const y=r[_];y.hidden||(y.active&&m?c.push(y):y.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=rV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=sV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Qc(i);if(h)return CE(h,f);const m=this.chart.config,_=m.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],T=m.getOptionScopes(this.getDataset(),_),x=Object.keys(Se.elements[t]),R=()=>this.getContext(i,r,e),C=m.resolveNamedOptions(T,x,R,y);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(CE(C,f))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,y=_.datasetAnimationScopeKeys(this._type,e),T=_.getOptionScopes(this.getDataset(),y);f=_.createResolver(T,this.getContext(t,i,e))}const m=new m1(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Yg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Yg(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Yg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&_c(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function oV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=t1(i.sort((r,o)=>r-o))}return n._cache.$bar}function lV(n){const t=n.iScale,e=oV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Qc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function cV(n,t,e,i){const r=e.barThickness;let o,c;return Qt(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function uV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:m}}function hV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:r,end:o,min:c,max:h}}function p1(n,t,e,i){return je(n)?hV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function IE(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let m,_,y,T;for(m=e,_=e+i;m<_;++m)T=t[m],y={},y[r.axis]=h||r.parse(c[m],m),f.push(p1(T,y,o,m));return f}function Kg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function fV(n,t,e){return n!==0?Zi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function dV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function mV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:_}=dV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=_:(o[ME(_,c,h,f)]=!0,r=m)),o[ME(r,c,h,f)]=!0,n.borderSkipped=o}function ME(n,t,e,i){return i?(n=gV(n,t,e),n=DE(n,e,t)):n=DE(n,t,e),n}function gV(n,t,e){return n===t?e:n===e?t:n}function DE(n,t,e){return n==="start"?t:n==="end"?e:n}function pV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class _V extends vd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return IE(t,e,i,r)}parseArrayData(t,e,i,r){return IE(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?h:f,_=c.axis==="x"?h:f,y=[];let T,x,R,C;for(T=i,x=i+r;T<x;++T)C=e[T],R={},R[o.axis]=o.parse(Va(C,m),T),y.push(p1(Va(C,_),R,c,T));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Kg(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),_=this._getRuler(),{sharedOptions:y,includeOptions:T}=this._getSharedOptions(e,r);for(let x=e;x<e+i;x++){const R=this.getParsed(x),C=o||Qt(R[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(x),I=this._calculateBarIndexPixels(x,_),L=(R._stacks||{})[h.axis],G={horizontal:m,base:C.base,enableBorderRadius:!L||Kg(R._custom)||c===L._top||c===L._bottom,x:m?C.head:I.center,y:m?I.center:C.head,height:m?I.size:Math.abs(C.size),width:m?Math.abs(C.size):I.size};T&&(G.options=y||this.resolveDataElementOptions(x,t[x].active?"active":r));const X=G.options||t[x].options;mV(G,X,L,c),pV(G,X,_.ratio),this.updateElement(t[x],x,G,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],m=_=>{const y=_._parsed.find(x=>x[i.axis]===f),T=y&&y[_.vScale.axis];if(Qt(T)||isNaN(T))return!0};for(const _ of r)if(!(e!==void 0&&m(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Dt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||lV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),m=f._custom,_=Kg(m);let y=f[e.axis],T=0,x=i?this.applyStack(e,f,i):y,R,C;x!==y&&(T=x-y,x=y),_&&(y=m.barStart,x=m.barEnd-m.barStart,y!==0&&Zi(y)!==Zi(m.barEnd)&&(T=0),T+=y);const I=!Qt(o)&&!_?o:T;let L=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(T+x):R=L,C=R-L,Math.abs(C)<c){C=fV(C,e,h)*c,y===h&&(L-=C/2);const G=e.getPixelForDecimal(0),X=e.getPixelForDecimal(1),Z=Math.min(G,X),W=Math.max(G,X);L=Math.max(Math.min(L,W),Z),R=L+C,i&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(R)-e.getValueForPixel(L))}if(L===e.getPixelForValue(h)){const G=Zi(C)*e.getLineWidthForValue(h)/2;L+=G,C-=G}return{size:C,base:L,head:R,center:R+C/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Dt(r.maxBarThickness,1/0);let h,f;const m=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?uV(t,e,r,_*m):cV(t,e,r,_*m),T=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Dt(T,this.getFirstScaleIdForIndexAxis())),R=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+x;h=y.start+y.chunk*R+y.chunk/2,f=Math.min(c,y.chunk*y.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function yV(n,t,e){let i=1,r=1,o=0,c=0;if(t<ye){const h=n,f=h+t,m=Math.cos(h),_=Math.sin(h),y=Math.cos(f),T=Math.sin(f),x=(X,Z,W)=>Wc(X,h,f,!0)?1:Math.max(Z,Z*e,W,W*e),R=(X,Z,W)=>Wc(X,h,f,!0)?-1:Math.min(Z,Z*e,W,W*e),C=x(0,m,y),I=x(Fe,_,T),L=R(ee,m,y),G=R(ee+Fe,_,T);i=(C-L)/2,r=(I-G)/2,o=-(C+L)/2,c=-(I+G)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class vV extends vd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(qt(i[t])){const{key:f="value"}=this._parsing;o=m=>+Va(i[m],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Ds(this.options.rotation-90)}_getCircumference(){return Ds(this.options.circumference)}_getRotationExtents(){let t=ye,e=-ye;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(Ek(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:_,rotation:y}=this._getRotationExtents(),{ratioX:T,ratioY:x,offsetX:R,offsetY:C}=yV(y,_,f),I=(i.width-c)/T,L=(i.height-c)/x,G=Math.max(Math.min(I,L)/2,0),X=Qw(this.options.radius,G),Z=Math.max(X*f,0),W=(X-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=R*X,this.offsetY=C*X,r.total=this.calculateTotal(),this.outerRadius=X-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ye)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,_=(h.left+h.right)/2,y=(h.top+h.bottom)/2,T=o&&m.animateScale,x=T?0:this.innerRadius,R=T?0:this.outerRadius,{sharedOptions:C,includeOptions:I}=this._getSharedOptions(e,r);let L=this._getRotation(),G;for(G=0;G<e;++G)L+=this._circumference(G,o);for(G=e;G<e+i;++G){const X=this._circumference(G,o),Z=t[G],W={x:_+this.offsetX,y:y+this.offsetY,startAngle:L,endAngle:L+X,circumference:X,outerRadius:R,innerRadius:x};I&&(W.options=C||this.resolveDataElementOptions(G,Z.active?"active":r)),L+=X,this.updateElement(Z,G,W,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ye*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=V_(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Dt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class bV extends vd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=Fk(e,r,c);this._drawStart=h,this._drawCount=f,Hk(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:_,includeOptions:y}=this._getSharedOptions(e,r),T=c.axis,x=h.axis,{spanGaps:R,segment:C}=this.options,I=$c(R)?R:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none",G=e+i,X=t.length;let Z=e>0&&this.getParsed(e-1);for(let W=0;W<X;++W){const rt=t[W],M=L?rt:{};if(W<e||W>=G){M.skip=!0;continue}const w=this.getParsed(W),D=Qt(w[x]),P=M[T]=c.getPixelForValue(w[T],W),k=M[x]=o||D?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,w,f):w[x],W);M.skip=isNaN(P)||isNaN(k)||D,M.stop=W>0&&Math.abs(w[T]-Z[T])>I,C&&(M.parsed=w,M.raw=m.data[W]),y&&(M.options=_||this.resolveDataElementOptions(W,rt.active?"active":r)),L||this.updateElement(rt,W,M,r),Z=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function va(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class q_{static override(t){Object.assign(q_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return va()}parse(){return va()}format(){return va()}add(){return va()}diff(){return va()}startOf(){return va()}endOf(){return va()}}var TV={_date:q_};function EV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?Lk:wa;if(i){if(r._sharedOptions){const _=o[0],y=typeof _.getRange=="function"&&_.getRange(t);if(y){const T=m(o,t,e-y),x=m(o,t,e+y);return{lo:T.lo,hi:x.hi}}}}else{const _=m(o,t,e);if(f){const{vScale:y}=r._cachedMeta,{_parsed:T}=n,x=T.slice(0,_.lo+1).reverse().findIndex(C=>!Qt(C[y.axis]));_.lo-=Math.max(0,x);const R=T.slice(_.hi).findIndex(C=>!Qt(C[y.axis]));_.hi+=Math.max(0,R)}return _}}return{lo:0,hi:o.length-1}}function bd(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:_}=o[h],{lo:y,hi:T}=EV(o[h],t,c,r);for(let x=y;x<=T;++x){const R=_[x];R.skip||i(R,m,x)}}}function xV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Xg(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||bd(n,e,t,function(h,f,m){!r&&!Zc(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function SV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:m,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:y}=Zw(c,{x:t.x,y:t.y});Wc(y,m,_)&&r.push({element:c,datasetIndex:h,index:f})}return bd(n,e,t,o),r}function wV(n,t,e,i,r,o){let c=[];const h=xV(e);let f=Number.POSITIVE_INFINITY;function m(_,y,T){const x=_.inRange(t.x,t.y,r);if(i&&!x)return;const R=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!x)return;const I=h(t,R);I<f?(c=[{element:_,datasetIndex:y,index:T}],f=I):I===f&&c.push({element:_,datasetIndex:y,index:T})}return bd(n,e,t,m),c}function Qg(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?SV(n,t,e,r):wV(n,t,e,i,r,o)}function OE(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return bd(n,e,t,(f,m,_)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:m,index:_}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var AV={modes:{index(n,t,e,i){const r=Ta(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Xg(n,r,o,i,c):Qg(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const _=h[0].index,y=m.data[_];y&&!y.skip&&f.push({element:y,datasetIndex:m.index,index:_})}),f):[]},dataset(n,t,e,i){const r=Ta(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Xg(n,r,o,i,c):Qg(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let _=0;_<m.length;++_)h.push({element:m[_],datasetIndex:f,index:_})}return h},point(n,t,e,i){const r=Ta(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Xg(n,r,o,i,c)},nearest(n,t,e,i){const r=Ta(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Qg(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ta(t,n);return OE(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ta(t,n);return OE(n,r,"y",e.intersect,i)}}};const _1=["left","top","right","bottom"];function yc(n,t){return n.filter(e=>e.pos===t)}function NE(n,t){return n.filter(e=>_1.indexOf(e.pos)===-1&&e.box.axis===t)}function vc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function RV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function CV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!_1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function IV(n,t){const e=CV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],_=m&&h.stackWeight/m.weight;h.horizontal?(h.width=_?_*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:f&&t.availableHeight)}return e}function MV(n){const t=RV(n),e=vc(t.filter(m=>m.box.fullSize),!0),i=vc(yc(t,"left"),!0),r=vc(yc(t,"right")),o=vc(yc(t,"top"),!0),c=vc(yc(t,"bottom")),h=NE(t,"x"),f=NE(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:yc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function kE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function y1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function DV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[r]+=e.size}o.getPadding&&y1(c,o.getPadding());const h=Math.max(0,t.outerWidth-kE(c,n,"left","right")),f=Math.max(0,t.outerHeight-kE(c,n,"top","bottom")),m=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:_}:{same:_,other:m}}function OV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function NV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Rc(n,t,e,i){const r=[];let o,c,h,f,m,_;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,NV(h.horizontal,t));const{same:y,other:T}=DV(t,e,h,i);m|=y&&r.length,_=_||T,f.fullSize||r.push(h)}return m&&Rc(r,t,e,i)||_}function rf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function VE(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/m.weight||1;if(h.horizontal){const y=t.w*_,T=m.size||f.height;Qc(m.start)&&(c=m.start),f.fullSize?rf(f,r.left,c,e.outerWidth-r.right-r.left,T):rf(f,t.left+m.placed,c,y,T),m.start=c,m.placed+=y,c=f.bottom}else{const y=t.h*_,T=m.size||f.width;Qc(m.start)&&(o=m.start),f.fullSize?rf(f,o,r.top,T,e.outerHeight-r.bottom-r.top):rf(f,o,t.top+m.placed,T,y),m.start=o,m.placed+=y,o=f.right}}t.x=o,t.y=c}var Wn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ti(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=MV(n.boxes),f=h.vertical,m=h.horizontal;te(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const _=f.reduce((C,I)=>I.box.options&&I.box.options.display===!1?C:C+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),T=Object.assign({},r);y1(T,ti(i));const x=Object.assign({maxPadding:T,w:o,h:c,x:r.left,y:r.top},r),R=IV(f.concat(m),y);Rc(h.fullSize,x,y,R),Rc(f,x,y,R),Rc(m,x,y,R)&&Rc(f,x,y,R),OV(x),VE(h.leftAndTop,x,y,R),x.x+=x.w,x.y+=x.h,VE(h.rightAndBottom,x,y,R),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},te(h.chartArea,C=>{const I=C.box;Object.assign(I,n.chartArea),I.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class v1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class kV extends v1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Tf="$chartjs",VV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PE=n=>n===null||n==="";function PV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Tf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",PE(r)){const o=vE(n,"width");o!==void 0&&(n.width=o)}if(PE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=vE(n,"height");o!==void 0&&(n.height=o)}return n}const b1=O4?{passive:!0}:!1;function LV(n,t,e){n&&n.addEventListener(t,e,b1)}function zV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,b1)}function UV(n,t){const e=VV[n.type]||n.type,{x:i,y:r}=Ta(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Wf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function jV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Wf(h.addedNodes,i),c=c&&!Wf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function BV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Wf(h.removedNodes,i),c=c&&!Wf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const tu=new Map;let LE=0;function T1(){const n=window.devicePixelRatio;n!==LE&&(LE=n,tu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function FV(n,t){tu.size||window.addEventListener("resize",T1),tu.set(n,t)}function HV(n){tu.delete(n),tu.size||window.removeEventListener("resize",T1)}function qV(n,t,e){const i=n.canvas,r=i&&H_(i);if(!r)return;const o=n1((h,f)=>{const m=r.clientWidth;e(h,f),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,_=f.contentRect.height;m===0&&_===0||o(m,_)});return c.observe(r),FV(n,o),c}function $g(n,t,e){e&&e.disconnect(),t==="resize"&&HV(n)}function GV(n,t,e){const i=n.canvas,r=n1(o=>{n.ctx!==null&&e(UV(o,n))},n);return LV(i,t,r),r}class YV extends v1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(PV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Tf])return!1;const i=e[Tf].initial;["height","width"].forEach(o=>{const c=i[o];Qt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Tf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:jV,detach:BV,resize:qV}[e]||GV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:$g,detach:$g,resize:$g}[e]||zV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return D4(t,e,i,r)}isAttached(t){const e=t&&H_(t);return!!(e&&e.isConnected)}}function KV(n){return!F_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?kV:YV}class zs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return $c(this.x)&&$c(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function XV(n,t){const e=n.options.ticks,i=QV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?WV(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>r)return ZV(t,m,o,c/r),m;const _=$V(o,t,r);if(c>0){let y,T;const x=c>1?Math.round((f-h)/(c-1)):null;for(af(t,m,_,Qt(x)?0:h-x,h),y=0,T=c-1;y<T;y++)af(t,m,_,o[y],o[y+1]);return af(t,m,_,f,Qt(x)?t.length:f+x),m}return af(t,m,_),m}function QV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function $V(n,t,e){const i=JV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=Mk(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function WV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function ZV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function af(n,t,e,i,r){const o=Dt(i,0),c=Math.min(Dt(r,n.length),n.length);let h=0,f,m,_;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===_&&(t.push(n[m]),h++,_=Math.round(o+h*e))}function JV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const tP=n=>n==="left"?"right":n==="right"?"left":n,zE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,UE=(n,t)=>Math.min(t||n,n);function jE(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function eP(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(r-1))/2,f+=r<t?m:-m,f<o-h||f>c+h)))return f}function nP(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function bc(n){return n.drawTicks?n.tickLength:0}function BE(n,t){if(!n.display)return 0;const e=un(n.font,t),i=ti(n.padding);return(je(n.text)?n.text.length:1)*e.lineHeight+i.height}function iP(n,t){return Ha(n,{scale:t,type:"scale"})}function sP(n,t,e){return Ha(n,{tick:e,index:t,type:"tick"})}function rP(n,t,e){let i=N_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=tP(i)),i}function aP(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:_}=f;let y=0,T,x,R;const C=c-r,I=h-o;if(n.isHorizontal()){if(x=an(i,o,h),qt(e)){const L=Object.keys(e)[0],G=e[L];R=_[L].getPixelForValue(G)+C-t}else e==="center"?R=(m.bottom+m.top)/2+C-t:R=zE(n,e,t);T=h-o}else{if(qt(e)){const L=Object.keys(e)[0],G=e[L];x=_[L].getPixelForValue(G)-I+t}else e==="center"?x=(m.left+m.right)/2-I+t:x=zE(n,e,t);R=an(i,c,r),y=e==="left"?-Fe:Fe}return{titleX:x,titleY:R,maxWidth:T,rotation:y}}class ul extends zs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Fi(t,Number.POSITIVE_INFINITY),e=Fi(e,Number.NEGATIVE_INFINITY),i=Fi(i,Number.POSITIVE_INFINITY),r=Fi(r,Number.NEGATIVE_INFINITY),{min:Fi(t,i),max:Fi(e,r),minDefined:Jn(t),maxDefined:Jn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Fi(e,Fi(i,e)),max:Fi(i,Fi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=c4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?jE(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=XV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ce(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=UE(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),y=_.widest.width,T=_.highest.height,x=cn(this.chart.width-y,0,this.maxWidth);h=t.offset?this.maxWidth/i:x/(i-1),y+6>h&&(h=x/(i-(t.offset?.5:1)),f=this.maxHeight-bc(t.grid)-e.padding-BE(t.title,this.chart.options.font),m=Math.sqrt(y*y+T*T),c=kk(Math.min(Math.asin(cn((_.highest.height+6)/h,-1,1)),Math.asin(cn(f/m,-1,1))-Math.asin(cn(T/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=BE(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=bc(o)+f):(t.height=this.maxHeight,t.width=bc(o)+f),i.display&&this.ticks.length){const{first:m,last:_,widest:y,highest:T}=this._getLabelSizes(),x=i.padding*2,R=Ds(this.labelRotation),C=Math.cos(R),I=Math.sin(R);if(h){const L=i.mirror?0:I*y.width+C*T.height;t.height=Math.min(this.maxHeight,t.height+L+x)}else{const L=i.mirror?0:C*y.width+I*T.height;t.width=Math.min(this.maxWidth,t.width+L+x)}this._calculatePadding(m,_,I,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,x=0;f?m?(T=r*t.width,x=i*e.height):(T=i*t.height,x=r*e.width):o==="start"?x=e.width:o==="end"?T=t.width:o!=="inner"&&(T=t.width/2,x=e.width/2),this.paddingLeft=Math.max((T-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((x-y+c)*this.width/(this.width-y),0)}else{let _=e.height/2,y=t.height/2;o==="start"?(_=0,y=t.height):o==="end"&&(_=e.height,y=0),this.paddingTop=_+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Qt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=jE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/UE(e,i));let m=0,_=0,y,T,x,R,C,I,L,G,X,Z,W;for(y=0;y<e;y+=f){if(R=t[y].label,C=this._resolveTickFontOptions(y),r.font=I=C.string,L=o[I]=o[I]||{data:{},gc:[]},G=C.lineHeight,X=Z=0,!Qt(R)&&!je(R))X=mE(r,L.data,L.gc,X,R),Z=G;else if(je(R))for(T=0,x=R.length;T<x;++T)W=R[T],!Qt(W)&&!je(W)&&(X=mE(r,L.data,L.gc,X,W),Z+=G);c.push(X),h.push(Z),m=Math.max(X,m),_=Math.max(Z,_)}nP(o,e);const rt=c.indexOf(m),M=h.indexOf(_),w=D=>({width:c[D]||0,height:h[D]||0});return{first:w(0),last:w(e-1),widest:w(rt),highest:w(M),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Pk(this._alignToPixels?ya(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=sP(this.getContext(),t,i))}return this.$context||(this.$context=iP(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ds(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,m=this.isHorizontal(),y=this.ticks.length+(f?1:0),T=bc(o),x=[],R=h.setContext(this.getContext()),C=R.display?R.width:0,I=C/2,L=function(K){return ya(i,K,C)};let G,X,Z,W,rt,M,w,D,P,k,z,N;if(c==="top")G=L(this.bottom),M=this.bottom-T,D=G-I,k=L(t.top)+I,N=t.bottom;else if(c==="bottom")G=L(this.top),k=t.top,N=L(t.bottom)-I,M=G+I,D=this.top+T;else if(c==="left")G=L(this.right),rt=this.right-T,w=G-I,P=L(t.left)+I,z=t.right;else if(c==="right")G=L(this.left),P=t.left,z=L(t.right)-I,rt=G+I,w=this.left+T;else if(e==="x"){if(c==="center")G=L((t.top+t.bottom)/2+.5);else if(qt(c)){const K=Object.keys(c)[0],at=c[K];G=L(this.chart.scales[K].getPixelForValue(at))}k=t.top,N=t.bottom,M=G+I,D=M+T}else if(e==="y"){if(c==="center")G=L((t.left+t.right)/2);else if(qt(c)){const K=Object.keys(c)[0],at=c[K];G=L(this.chart.scales[K].getPixelForValue(at))}rt=G-I,w=rt-T,P=t.left,z=t.right}const Ot=Dt(r.ticks.maxTicksLimit,y),Et=Math.max(1,Math.ceil(y/Ot));for(X=0;X<y;X+=Et){const K=this.getContext(X),at=o.setContext(K),ht=h.setContext(K),vt=at.lineWidth,Vt=at.color,U=ht.dash||[],tt=ht.dashOffset,lt=at.tickWidth,ct=at.tickColor,_t=at.tickBorderDash||[],bt=at.tickBorderDashOffset;Z=eP(this,X,f),Z!==void 0&&(W=ya(i,Z,vt),m?rt=w=P=z=W:M=D=k=N=W,x.push({tx1:rt,ty1:M,tx2:w,ty2:D,x1:P,y1:k,x2:z,y2:N,width:vt,color:Vt,borderDash:U,borderDashOffset:tt,tickWidth:lt,tickColor:ct,tickBorderDash:_t,tickBorderDashOffset:bt}))}return this._ticksLength=y,this._borderValue=G,x}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:_,mirror:y}=o,T=bc(i.grid),x=T+_,R=y?-_:x,C=-Ds(this.labelRotation),I=[];let L,G,X,Z,W,rt,M,w,D,P,k,z,N="middle";if(r==="top")rt=this.bottom-R,M=this._getXAxisLabelAlignment();else if(r==="bottom")rt=this.top+R,M=this._getXAxisLabelAlignment();else if(r==="left"){const Et=this._getYAxisLabelAlignment(T);M=Et.textAlign,W=Et.x}else if(r==="right"){const Et=this._getYAxisLabelAlignment(T);M=Et.textAlign,W=Et.x}else if(e==="x"){if(r==="center")rt=(t.top+t.bottom)/2+x;else if(qt(r)){const Et=Object.keys(r)[0],K=r[Et];rt=this.chart.scales[Et].getPixelForValue(K)+x}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")W=(t.left+t.right)/2-x;else if(qt(r)){const Et=Object.keys(r)[0],K=r[Et];W=this.chart.scales[Et].getPixelForValue(K)}M=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(f==="start"?N="top":f==="end"&&(N="bottom"));const Ot=this._getLabelSizes();for(L=0,G=h.length;L<G;++L){X=h[L],Z=X.label;const Et=o.setContext(this.getContext(L));w=this.getPixelForTick(L)+o.labelOffset,D=this._resolveTickFontOptions(L),P=D.lineHeight,k=je(Z)?Z.length:1;const K=k/2,at=Et.color,ht=Et.textStrokeColor,vt=Et.textStrokeWidth;let Vt=M;c?(W=w,M==="inner"&&(L===G-1?Vt=this.options.reverse?"left":"right":L===0?Vt=this.options.reverse?"right":"left":Vt="center"),r==="top"?m==="near"||C!==0?z=-k*P+P/2:m==="center"?z=-Ot.highest.height/2-K*P+P:z=-Ot.highest.height+P/2:m==="near"||C!==0?z=P/2:m==="center"?z=Ot.highest.height/2-K*P:z=Ot.highest.height-k*P,y&&(z*=-1),C!==0&&!Et.showLabelBackdrop&&(W+=P/2*Math.sin(C))):(rt=w,z=(1-k)*P/2);let U;if(Et.showLabelBackdrop){const tt=ti(Et.backdropPadding),lt=Ot.heights[L],ct=Ot.widths[L];let _t=z-tt.top,bt=0-tt.left;switch(N){case"middle":_t-=lt/2;break;case"bottom":_t-=lt;break}switch(M){case"center":bt-=ct/2;break;case"right":bt-=ct;break;case"inner":L===G-1?bt-=ct:L>0&&(bt-=ct/2);break}U={left:bt,top:_t,width:ct+tt.width,height:lt+tt.height,color:Et.backdropColor}}I.push({label:Z,font:D,textOffset:z,options:{rotation:C,color:at,strokeColor:ht,strokeWidth:vt,textAlign:Vt,textBaseline:N,translation:[W,rt],backdrop:U}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ds(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,_;return e==="left"?r?(_=this.right+o,i==="near"?m="left":i==="center"?(m="center",_+=f/2):(m="right",_+=f)):(_=this.right-h,i==="near"?m="right":i==="center"?(m="center",_-=f/2):(m="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?m="right":i==="center"?(m="center",_-=f/2):(m="left",_-=f)):(_=this.left+h,i==="near"?m="left":i==="center"?(m="center",_+=f/2):(m="right",_=this.right)):m="right",{textAlign:m,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,_,y,T;this.isHorizontal()?(m=ya(t,this.left,c)-c/2,_=ya(t,this.right,h)+h/2,y=T=f):(y=ya(t,this.top,c)-c/2,T=ya(t,this.bottom,h)+h/2,m=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,y),e.lineTo(_,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&P_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,_=c.textOffset;Jc(i,m,0,_,f,h)}r&&L_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=un(i.font),c=ti(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,je(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:_,maxWidth:y,rotation:T}=aP(this,f,e,h);Jc(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:T,textAlign:rP(h,e,r),textBaseline:"middle",translation:[m,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Dt(t.grid&&t.grid.z,-1),r=Dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ul.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return un(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class of{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;cP(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,oP(t,c,i),this.override&&Se.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Se[r]&&(delete Se[r][i],this.override&&delete Pa[i])}}function oP(n,t,e){const i=Xc(Object.create(null),[e?Se.get(e):{},Se.get(t),n.defaults]);Se.set(t,i),n.defaultRoutes&&lP(t,n.defaultRoutes),n.descriptors&&Se.describe(t,n.descriptors)}function lP(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Se.route(o,r,f,h)})}function cP(n){return"id"in n&&"defaults"in n}class uP{constructor(){this.controllers=new of(vd,"datasets",!0),this.elements=new of(zs,"elements"),this.plugins=new of(Object,"plugins"),this.scales=new of(ul,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=D_(t);ce(i["before"+r],[],i),e[t](i),ce(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var qi=new uP;class hP{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(ce(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Dt(i.options&&i.options.plugins,{}),o=fP(i);return r===!1&&!e?[]:mP(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function fP(n){const t={},e=[],i=Object.keys(qi.plugins.items);for(let o=0;o<i.length;o++)e.push(qi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function dP(n,t){return!t&&n===!1?null:n===!0?{}:n}function mP(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=dP(i[f],r);m!==null&&o.push({plugin:h,options:gP(n.config,{plugin:h,local:e[f]},m,c)})}return o}function gP(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rp(n,t){const e=Se.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function pP(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function _P(n,t){return n===t?"_index_":"_value_"}function FE(n){if(n==="x"||n==="y"||n==="r")return n}function yP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Cp(n,...t){if(FE(n))return n;for(const e of t){const i=e.axis||yP(e.position)||n.length>1&&FE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function HE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function vP(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return HE(n,"x",e[0])||HE(n,"y",e[0])}return{}}function bP(n,t){const e=Pa[n.type]||{scales:{}},i=t.scales||{},r=Rp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Cp(c,h,vP(c,n),Se.scales[h.type]),m=_P(f,r),_=e.scales||{};o[c]=Vc(Object.create(null),[{axis:f},h,_[f],_[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Rp(h,t),_=(Pa[h]||{}).scales||{};Object.keys(_).forEach(y=>{const T=pP(y,f),x=c[T+"AxisID"]||T;o[x]=o[x]||Object.create(null),Vc(o[x],[{axis:T},i[x],_[y]])})}),Object.keys(o).forEach(c=>{const h=o[c];Vc(h,[Se.scales[h.type],Se.scale])}),o}function E1(n){const t=n.options||(n.options={});t.plugins=Dt(t.plugins,{}),t.scales=bP(n,t)}function x1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function TP(n){return n=n||{},n.data=x1(n.data),E1(n),n}const qE=new Map,S1=new Set;function lf(n,t){let e=qE.get(n);return e||(e=t(),qE.set(n,e),S1.add(e)),e}const Tc=(n,t,e)=>{const i=Va(t,e);i!==void 0&&n.add(i)};class EP{constructor(t){this._config=TP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=x1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),E1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return lf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return lf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return lf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(y=>Tc(f,t,y))),_.forEach(y=>Tc(f,r,y)),_.forEach(y=>Tc(f,Pa[o]||{},y)),_.forEach(y=>Tc(f,Se,y)),_.forEach(y=>Tc(f,wp,y))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),S1.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Pa[e]||{},Se.datasets[e]||{},{type:e},Se,wp]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=GE(this._resolverCache,t,r);let f=c;if(SP(c,e)){o.$shared=!1,i=Ur(i)?i():i;const m=this.createResolver(t,i,h);f=nl(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=GE(this._resolverCache,t,i);return qt(e)?nl(o,e,void 0,r):o}}function GE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:U_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const xP=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>Ur(n[t]));function SP(n,t){const{isScriptable:e,isIndexable:i}=a1(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Ur(h)||xP(h))||c&&je(h))return!0}return!1}var wP="4.5.0";const AP=["top","bottom","left","right","chartArea"];function YE(n,t){return n==="top"||n==="bottom"||AP.indexOf(n)===-1&&t==="x"}function KE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function XE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ce(e&&e.onComplete,[n],t)}function RP(n){const t=n.chart,e=t.options.animation;ce(e&&e.onProgress,[n],t)}function w1(n){return F_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ef={},QE=n=>{const t=w1(n);return Object.values(Ef).filter(e=>e.canvas===t).pop()};function CP(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function IP(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let qa=class{static defaults=Se;static instances=Ef;static overrides=Pa;static registry=qi;static version=wP;static getChart=QE;static register(...t){qi.add(...t),$E()}static unregister(...t){qi.remove(...t),$E()}constructor(t,e){const i=this.config=new EP(e),r=w1(t),o=QE(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||KV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,_=f&&f.width;if(this.id=Tk(),this.ctx=h,this.canvas=f,this.width=_,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jk(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],Ef[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ws.listen(this,"complete",XE),ws.listen(this,"progress",RP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Qt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return qi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gE(this.canvas,this.ctx),this}stop(){return ws.stop(this),this}resize(t,e){ws.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,yE(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ce(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Cp(c,h),m=f==="r",_=f==="x";return{options:h,dposition:m?"chartArea":_?"bottom":"left",dtype:m?"radialLinear":_?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,m=Cp(f,h),_=Dt(h.type,c.dtype);(h.position===void 0||YE(h.position,m)!==YE(c.dposition))&&(h.position=c.dposition),r[f]=!0;let y=null;if(f in i&&i[f].type===_)y=i[f];else{const T=qi.getScale(_);y=new T({id:f,type:_,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(h,t)}),te(r,(c,h)=>{c||delete i[h]}),te(i,c=>{Wn.configure(this,c,c.options),Wn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(KE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Rp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=qi.getController(h),{datasetElementType:m,dataElementType:_}=Se.datasets[h];Object.assign(f,{dataElementType:qi.getElement(_),datasetElementType:m&&qi.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,_=this.data.datasets.length;m<_;m++){const{controller:y}=this.getDatasetMeta(m),T=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(T),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(KE("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{Wn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!rE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;CP(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!rE(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ur(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ws.has(this)?this.attached&&!ws.running(this)&&ws.start(this):(this.draw(),XE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=Y4(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&P_(e,r),t.controller.draw(),r&&L_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Zc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=AV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ha(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Qc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ws.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ef[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},r=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Yf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,m)=>f.filter(_=>!m.some(y=>_.datasetIndex===y.datasetIndex&&_.index===y.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=Rk(t),m=IP(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ce(o.onHover,[t,h,this],this),f&&ce(o.onClick,[t,h,this],this));const _=!Yf(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function $E(){return te(qa.instances,n=>n._plugins.invalidate())}function MP(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:m,borderJoinStyle:_}=f,y=Math.min(m/c,mi(i-e));if(n.beginPath(),n.arc(r,o,c-m/2,i+y/2,e-y/2),h>0){const T=Math.min(m/h,mi(i-e));n.arc(r,o,h+m/2,e-T/2,i+T/2,!0)}else{const T=Math.min(m/2,c*mi(i-e));if(_==="round")n.arc(r,o,T,e-ee/2,i+ee/2,!0);else if(_==="bevel"){const x=2*T*T,R=-x*Math.cos(e+ee/2)+r,C=-x*Math.sin(e+ee/2)+o,I=x*Math.cos(i+ee/2)+r,L=x*Math.sin(i+ee/2)+o;n.lineTo(R,C),n.lineTo(I,L)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function DP(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let m=r/h;n.beginPath(),n.arc(o,c,h,i-m,e+m),f>r?(m=r/f,n.arc(o,c,f,e+m,i-m,!0)):n.arc(o,c,r,e+Fe,i-Fe),n.closePath(),n.clip()}function OP(n){return z_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function NP(n,t,e,i){const r=OP(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const m=(e-Math.min(o,f))*i/2;return cn(f,0,Math.min(o,m))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:cn(r.innerStart,0,c),innerEnd:cn(r.innerEnd,0,c)}}function Lo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Zf(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:m,innerRadius:_}=t,y=Math.max(t.outerRadius+i+e-m,0),T=_>0?_+i+e+m:0;let x=0;const R=r-f;if(i){const Et=_>0?_-i:0,K=y>0?y-i:0,at=(Et+K)/2,ht=at!==0?R*at/(at+i):R;x=(R-ht)/2}const C=Math.max(.001,R*y-e/ee)/y,I=(R-C)/2,L=f+I+x,G=r-I-x,{outerStart:X,outerEnd:Z,innerStart:W,innerEnd:rt}=NP(t,T,y,G-L),M=y-X,w=y-Z,D=L+X/M,P=G-Z/w,k=T+W,z=T+rt,N=L+W/k,Ot=G-rt/z;if(n.beginPath(),o){const Et=(D+P)/2;if(n.arc(c,h,y,D,Et),n.arc(c,h,y,Et,P),Z>0){const vt=Lo(w,P,c,h);n.arc(vt.x,vt.y,Z,P,G+Fe)}const K=Lo(z,G,c,h);if(n.lineTo(K.x,K.y),rt>0){const vt=Lo(z,Ot,c,h);n.arc(vt.x,vt.y,rt,G+Fe,Ot+Math.PI)}const at=(G-rt/T+(L+W/T))/2;if(n.arc(c,h,T,G-rt/T,at,!0),n.arc(c,h,T,at,L+W/T,!0),W>0){const vt=Lo(k,N,c,h);n.arc(vt.x,vt.y,W,N+Math.PI,L-Fe)}const ht=Lo(M,L,c,h);if(n.lineTo(ht.x,ht.y),X>0){const vt=Lo(M,D,c,h);n.arc(vt.x,vt.y,X,L-Fe,D)}}else{n.moveTo(c,h);const Et=Math.cos(D)*y+c,K=Math.sin(D)*y+h;n.lineTo(Et,K);const at=Math.cos(P)*y+c,ht=Math.sin(P)*y+h;n.lineTo(at,ht)}n.closePath()}function kP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Zf(n,t,e,i,f,r);for(let m=0;m<o;++m)n.fill();isNaN(h)||(f=c+(h%ye||ye))}return Zf(n,t,e,i,f,r),n.fill(),f}function VP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:m,borderJoinStyle:_,borderDash:y,borderDashOffset:T,borderRadius:x}=f,R=f.borderAlign==="inner";if(!m)return;n.setLineDash(y||[]),n.lineDashOffset=T,R?(n.lineWidth=m*2,n.lineJoin=_||"round"):(n.lineWidth=m,n.lineJoin=_||"bevel");let C=t.endAngle;if(o){Zf(n,t,e,i,C,r);for(let I=0;I<o;++I)n.stroke();isNaN(h)||(C=c+(h%ye||ye))}R&&DP(n,t,C),f.selfJoin&&C-c>=ee&&x===0&&_!=="miter"&&MP(n,t,C),o||(Zf(n,t,e,i,C,r),n.stroke())}class PP extends zs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=Zw(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:_,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),T=(this.options.spacing+this.options.borderWidth)/2,x=Dt(y,f-h),R=Wc(o,h,f)&&h!==f,C=x>=ye||R,I=wr(c,m+T,_+T);return C&&I}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,_=(r+o)/2,y=(c+h+m+f)/2;return{x:e+Math.cos(_)*y,y:i+Math.sin(_)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ye?Math.floor(i/ye):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ee,i||0)),m=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,kP(t,this,m,o,c),VP(t,this,m,o,c),t.restore()}}function A1(n,t,e=t){n.lineCap=Dt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Dt(e.borderDash,t.borderDash)),n.lineDashOffset=Dt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Dt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Dt(e.borderWidth,t.borderWidth),n.strokeStyle=Dt(e.borderColor,t.borderColor)}function LP(n,t,e){n.lineTo(e.x,e.y)}function zP(n){return n.stepped?t4:n.tension||n.cubicInterpolationMode==="monotone"?e4:LP}function R1(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),m=Math.min(o,h),_=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:m<f&&!_?i+m-f:m-f}}function UP(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:m}=R1(r,e,i),_=zP(o);let{move:y=!0,reverse:T}=i||{},x,R,C;for(x=0;x<=m;++x)R=r[(h+(T?m-x:x))%c],!R.skip&&(y?(n.moveTo(R.x,R.y),y=!1):_(n,C,R,T,o.stepped),C=R);return f&&(R=r[(h+(T?m:0))%c],_(n,C,R,T,o.stepped)),!!f}function jP(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=R1(r,e,i),{move:f=!0,reverse:m}=i||{};let _=0,y=0,T,x,R,C,I,L;const G=Z=>(c+(m?h-Z:Z))%o,X=()=>{C!==I&&(n.lineTo(_,I),n.lineTo(_,C),n.lineTo(_,L))};for(f&&(x=r[G(0)],n.moveTo(x.x,x.y)),T=0;T<=h;++T){if(x=r[G(T)],x.skip)continue;const Z=x.x,W=x.y,rt=Z|0;rt===R?(W<C?C=W:W>I&&(I=W),_=(y*_+Z)/++y):(X(),n.lineTo(Z,W),R=rt,y=0,C=I=W),L=W}X()}function Ip(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?jP:UP}function BP(n){return n.stepped?N4:n.tension||n.cubicInterpolationMode==="monotone"?k4:Ea}function FP(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),A1(n,t.options),n.stroke(r)}function HP(n,t,e,i){const{segments:r,options:o}=t,c=Ip(t);for(const h of r)A1(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const qP=typeof Path2D=="function";function GP(n,t,e,i){qP&&!t.options.segment?FP(n,t,e,i):HP(n,t,e,i)}class YP extends zs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;w4(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=F4(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=U4(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=BP(i);let m,_;for(m=0,_=c.length;m<_;++m){const{start:y,end:T}=c[m],x=o[y],R=o[T];if(x===R){h.push(x);continue}const C=Math.abs((r-x[e])/(R[e]-x[e])),I=f(x,R,C,i.stepped);I[e]=t[e],h.push(I)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Ip(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Ip(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),GP(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function WE(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class KP extends zs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return WE(this,t,"x",e)}inYRange(t,e){return WE(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Zc(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Ap(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function C1(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,m,_,y;return n.horizontal?(y=c/2,h=Math.min(e,r),f=Math.max(e,r),m=i-y,_=i+y):(y=o/2,h=e-y,f=e+y,m=Math.min(i,r),_=Math.max(i,r)),{left:h,top:m,right:f,bottom:_}}function Ar(n,t,e,i){return n?0:cn(t,e,i)}function XP(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=r1(i);return{t:Ar(r.top,o.top,0,e),r:Ar(r.right,o.right,0,t),b:Ar(r.bottom,o.bottom,0,e),l:Ar(r.left,o.left,0,t)}}function QP(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Ko(r),c=Math.min(t,e),h=n.borderSkipped,f=i||qt(r);return{topLeft:Ar(!f||h.top||h.left,o.topLeft,0,c),topRight:Ar(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Ar(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Ar(!f||h.bottom||h.right,o.bottomRight,0,c)}}function $P(n){const t=C1(n),e=t.right-t.left,i=t.bottom-t.top,r=XP(n,e/2,i/2),o=QP(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Wg(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&C1(n,i);return h&&(r||wr(t,h.left,h.right))&&(o||wr(e,h.top,h.bottom))}function WP(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function ZP(n,t){n.rect(t.x,t.y,t.w,t.h)}function Zg(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class I1 extends zs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=$P(this),h=WP(c.radius)?Qf:ZP;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Zg(c,e,o)),t.clip(),h(t,Zg(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Zg(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Wg(this,t,e,i)}inXRange(t,e){return Wg(this,t,null,e)}inYRange(t,e){return Wg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const ZE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},JP=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class JE extends zs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=un(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=ZE(i,o);let m,_;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,m=this._fitCols(c,r,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],_=r+h;let y=t;o.textAlign="left",o.textBaseline="middle";let T=-1,x=-_;return this.legendItems.forEach((R,C)=>{const I=i+e/2+o.measureText(R.text).width;(C===0||m[m.length-1]+I+2*h>c)&&(y+=_,m[m.length-(C>0?0:1)]=0,x+=_,T++),f[C]={left:0,top:x,row:T,width:I,height:r},m[m.length-1]+=I+h}),y}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],_=c-t;let y=h,T=0,x=0,R=0,C=0;return this.legendItems.forEach((I,L)=>{const{itemWidth:G,itemHeight:X}=t6(i,e,o,I,r);L>0&&x+X+2*h>_&&(y+=T+h,m.push({width:T,height:x}),R+=T+h,C++,T=x=0),f[L]={left:R,top:x,col:C,width:G,height:X},T=Math.max(T,G),x+=X+h}),y+=T,m.push({width:T,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Xo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=an(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=an(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+r}else{let h=0,f=an(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=an(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;P_(t,this),this._draw(),L_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Se.color,f=Xo(t.rtl,this.left,this.width),m=un(c.font),{padding:_}=c,y=m.size,T=y/2;let x;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:R,boxHeight:C,itemHeight:I}=ZE(c,y),L=function(rt,M,w){if(isNaN(R)||R<=0||isNaN(C)||C<0)return;r.save();const D=Dt(w.lineWidth,1);if(r.fillStyle=Dt(w.fillStyle,h),r.lineCap=Dt(w.lineCap,"butt"),r.lineDashOffset=Dt(w.lineDashOffset,0),r.lineJoin=Dt(w.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Dt(w.strokeStyle,h),r.setLineDash(Dt(w.lineDash,[])),c.usePointStyle){const P={radius:C*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:D},k=f.xPlus(rt,R/2),z=M+T;s1(r,P,k,z,c.pointStyleWidth&&R)}else{const P=M+Math.max((y-C)/2,0),k=f.leftForLtr(rt,R),z=Ko(w.borderRadius);r.beginPath(),Object.values(z).some(N=>N!==0)?Qf(r,{x:k,y:P,w:R,h:C,radius:z}):r.rect(k,P,R,C),r.fill(),D!==0&&r.stroke()}r.restore()},G=function(rt,M,w){Jc(r,w.text,rt,M+I/2,m,{strikethrough:w.hidden,textAlign:f.textAlign(w.textAlign)})},X=this.isHorizontal(),Z=this._computeTitleHeight();X?x={x:an(o,this.left+_,this.right-i[0]),y:this.top+_+Z,line:0}:x={x:this.left+_,y:an(o,this.top+Z+_,this.bottom-e[0].height),line:0},h1(this.ctx,t.textDirection);const W=I+_;this.legendItems.forEach((rt,M)=>{r.strokeStyle=rt.fontColor,r.fillStyle=rt.fontColor;const w=r.measureText(rt.text).width,D=f.textAlign(rt.textAlign||(rt.textAlign=c.textAlign)),P=R+T+w;let k=x.x,z=x.y;f.setWidth(this.width),X?M>0&&k+P+_>this.right&&(z=x.y+=W,x.line++,k=x.x=an(o,this.left+_,this.right-i[x.line])):M>0&&z+W>this.bottom&&(k=x.x=k+e[x.line].width+_,x.line++,z=x.y=an(o,this.top+Z+_,this.bottom-e[x.line].height));const N=f.x(k);if(L(N,z,rt),k=Bk(D,k+R+T,X?k+P:this.right,t.rtl),G(f.x(k),z,rt),X)x.x+=P+_;else if(typeof rt.text!="string"){const Ot=m.lineHeight;x.y+=M1(rt,Ot)+_}else x.y+=W}),f1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=un(e.font),r=ti(e.padding);if(!e.display)return;const o=Xo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=r.top+f;let _,y=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),_=this.top+m,y=an(t.align,y,this.right-T);else{const R=this.columnSizes.reduce((C,I)=>Math.max(C,I.height),0);_=m+an(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const x=an(h,y,y+T);c.textAlign=o.textAlign(N_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Jc(c,e.text,x,_,i)}_computeTitleHeight(){const t=this.options.title,e=un(t.font),i=ti(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(wr(t,this.left,this.right)&&wr(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],wr(t,r.left,r.left+r.width)&&wr(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!i6(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=JP(r,i);r&&!o&&ce(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ce(e.onHover,[t,i,this],this)}else i&&ce(e.onClick,[t,i,this],this)}}function t6(n,t,e,i,r){const o=e6(i,n,t,e),c=n6(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function e6(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function n6(n,t,e){let i=n;return typeof t.text!="string"&&(i=M1(t,e)),i}function M1(n,t){const e=n.text?n.text.length:0;return t*e}function i6(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Td={id:"legend",_element:JE,start(n,t,e){const i=n.legend=new JE({ctx:n.ctx,options:e,chart:n});Wn.configure(n,i,e),Wn.addBox(n,i)},stop(n){Wn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Wn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),_=ti(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class D1 extends zs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=je(i.text)?i.text.length:1;this._padding=ti(i.padding);const o=r*un(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,m,_,y;return this.isHorizontal()?(_=an(h,i,o),y=e+t,m=o-i):(c.position==="left"?(_=i+t,y=an(h,r,e),f=ee*-.5):(_=o-t,y=an(h,e,r),f=ee*.5),m=r-e),{titleX:_,titleY:y,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=un(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);Jc(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:N_(e.align),textBaseline:"middle",translation:[c,h]})}}function s6(n,t){const e=new D1({ctx:n.ctx,options:t,chart:n});Wn.configure(n,e,t),Wn.addBox(n,e),n.titleBlock=e}var G_={id:"title",_element:D1,start(n,t,e){s6(n,e)},stop(n){const t=n.titleBlock;Wn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Wn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),_=Sp(t,m);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Hi(n,t){return t&&(je(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function As(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function r6(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function tx(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=un(t.bodyFont),m=un(t.titleFont),_=un(t.footerFont),y=o.length,T=r.length,x=i.length,R=ti(t.padding);let C=R.height,I=0,L=i.reduce((Z,W)=>Z+W.before.length+W.lines.length+W.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,y&&(C+=y*m.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),L){const Z=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;C+=x*Z+(L-x)*f.lineHeight+(L-1)*t.bodySpacing}T&&(C+=t.footerMarginTop+T*_.lineHeight+(T-1)*t.footerSpacing);let G=0;const X=function(Z){I=Math.max(I,e.measureText(Z).width+G)};return e.save(),e.font=m.string,te(n.title,X),e.font=f.string,te(n.beforeBody.concat(n.afterBody),X),G=t.displayColors?c+2+t.boxPadding:0,te(i,Z=>{te(Z.before,X),te(Z.lines,X),te(Z.after,X)}),G=0,e.font=_.string,te(n.footer,X),e.restore(),I+=R.width,{width:I,height:C}}function a6(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function o6(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function l6(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=r<=(h+f)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),o6(m,n,t,e)&&(m="center"),m}function ex(n,t,e){const i=e.yAlign||t.yAlign||a6(n,e);return{xAlign:e.xAlign||t.xAlign||l6(n,t,e,i),yAlign:i}}function c6(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function u6(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function nx(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=r+o,{topLeft:_,topRight:y,bottomLeft:T,bottomRight:x}=Ko(c);let R=c6(t,h);const C=u6(t,f,m);return f==="center"?h==="left"?R+=m:h==="right"&&(R-=m):h==="left"?R-=Math.max(_,T)+r:h==="right"&&(R+=Math.max(y,x)+r),{x:cn(R,0,i.width-t.width),y:cn(C,0,i.height-t.height)}}function cf(n,t,e){const i=ti(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function ix(n){return Hi([],As(n))}function h6(n,t,e){return Ha(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function sx(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const O1={beforeTitle:Ss,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ss,beforeBody:Ss,beforeLabel:Ss,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Qt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ss,afterBody:Ss,beforeFooter:Ss,footer:Ss,afterFooter:Ss};function En(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?O1[t].call(e,i):r}class rx extends zs{static positioners=Cc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new m1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=h6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=En(i,"beforeTitle",this,t),o=En(i,"title",this,t),c=En(i,"afterTitle",this,t);let h=[];return h=Hi(h,As(r)),h=Hi(h,As(o)),h=Hi(h,As(c)),h}getBeforeBody(t,e){return ix(En(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=sx(i,o);Hi(c.before,As(En(h,"beforeLabel",this,o))),Hi(c.lines,En(h,"label",this,o)),Hi(c.after,As(En(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return ix(En(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=En(i,"beforeFooter",this,t),o=En(i,"footer",this,t),c=En(i,"afterFooter",this,t);let h=[];return h=Hi(h,As(r)),h=Hi(h,As(o)),h=Hi(h,As(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(r6(this.chart,e[f]));return t.filter&&(h=h.filter((_,y,T)=>t.filter(_,y,T,i))),t.itemSort&&(h=h.sort((_,y)=>t.itemSort(_,y,i))),te(h,_=>{const y=sx(t.callbacks,_);r.push(En(y,"labelColor",this,_)),o.push(En(y,"labelPointStyle",this,_)),c.push(En(y,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Cc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=tx(this,i),m=Object.assign({},h,f),_=ex(this.chart,i,m),y=nx(i,m,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:_,bottomRight:y}=Ko(h),{x:T,y:x}=t,{width:R,height:C}=e;let I,L,G,X,Z,W;return o==="center"?(Z=x+C/2,r==="left"?(I=T,L=I-c,X=Z+c,W=Z-c):(I=T+R,L=I+c,X=Z-c,W=Z+c),G=I):(r==="left"?L=T+Math.max(f,_)+c:r==="right"?L=T+R-Math.max(m,y)-c:L=this.caretX,o==="top"?(X=x,Z=X-c,I=L-c,G=L+c):(X=x+C,Z=X+c,I=L+c,G=L-c),W=X),{x1:I,x2:L,x3:G,y1:X,y2:Z,y3:W}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const m=Xo(i.rtl,this.x,this.width);for(t.x=cf(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=un(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,_=un(o.bodyFont),y=cf(this,"left",o),T=r.x(y),x=f<_.lineHeight?(_.lineHeight-f)/2:0,R=e.y+x;if(o.usePointStyle){const C={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},I=r.leftForLtr(T,m)+m/2,L=R+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Ap(t,C,I,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Ap(t,C,I,L)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=r.leftForLtr(T,m),I=r.leftForLtr(r.xPlus(T,1),m-2),L=Ko(c.borderRadius);Object.values(L).some(G=>G!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Qf(t,{x:C,y:R,w:m,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Qf(t,{x:I,y:R+1,w:m-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,R,m,f),t.strokeRect(C,R,m,f),t.fillStyle=c.backgroundColor,t.fillRect(I,R+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:_}=i,y=un(i.bodyFont);let T=y.lineHeight,x=0;const R=Xo(i.rtl,this.x,this.width),C=function(w){e.fillText(w,R.x(t.x+x),t.y+T/2),t.y+=T+o},I=R.textAlign(c);let L,G,X,Z,W,rt,M;for(e.textAlign=c,e.textBaseline="middle",e.font=y.string,t.x=cf(this,I,i),e.fillStyle=i.bodyColor,te(this.beforeBody,C),x=h&&I!=="right"?c==="center"?m/2+_:m+2+_:0,Z=0,rt=r.length;Z<rt;++Z){for(L=r[Z],G=this.labelTextColors[Z],e.fillStyle=G,te(L.before,C),X=L.lines,h&&X.length&&(this._drawColorBox(e,t,Z,R,i),T=Math.max(y.lineHeight,f)),W=0,M=X.length;W<M;++W)C(X[W]),T=y.lineHeight;te(L.after,C)}x=0,T=y.lineHeight,te(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=Xo(i.rtl,this.x,this.width);for(t.x=cf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=un(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:_}=i,{topLeft:y,topRight:T,bottomLeft:x,bottomRight:R}=Ko(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+y,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-T,f),e.quadraticCurveTo(h+m,f,h+m,f+T),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,f+_-R),e.quadraticCurveTo(h+m,f+_,h+m-R,f+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+x,f+_),e.quadraticCurveTo(h,f+_,h,f+_-x),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+y),e.quadraticCurveTo(h,f,h+y,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Cc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=tx(this,t),f=Object.assign({},c,this._size),m=ex(e,t,f),_=nx(t,f,m,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ti(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),h1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),f1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!Yf(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Yf(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Cc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Ed={id:"tooltip",_element:rx,positioners:Cc,afterInit(n,t,e){e&&(n.tooltip=new rx({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:O1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const f6=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function d6(n,t,e,i){const r=n.indexOf(t);if(r===-1)return f6(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const m6=(n,t)=>n===null?null:cn(Math.round(n),0,t);function ax(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Y_ extends ul{static id="category";static defaults={ticks:{callback:ax}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Qt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:d6(i,t,Dt(e,t),this._addedLabels),m6(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return ax.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function g6(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:m,maxTicks:_,maxDigits:y,includeBounds:T}=n,x=o||1,R=_-1,{min:C,max:I}=t,L=!Qt(c),G=!Qt(h),X=!Qt(m),Z=(I-C)/(y+1);let W=oE((I-C)/R/x)*x,rt,M,w,D;if(W<1e-14&&!L&&!G)return[{value:C},{value:I}];D=Math.ceil(I/W)-Math.floor(C/W),D>R&&(W=oE(D*W/R/x)*x),Qt(f)||(rt=Math.pow(10,f),W=Math.ceil(W*rt)/rt),r==="ticks"?(M=Math.floor(C/W)*W,w=Math.ceil(I/W)*W):(M=C,w=I),L&&G&&o&&Ok((h-c)/o,W/1e3)?(D=Math.round(Math.min((h-c)/W,_)),W=(h-c)/D,M=c,w=h):X?(M=L?c:M,w=G?h:w,D=m-1,W=(w-M)/D):(D=(w-M)/W,Pc(D,Math.round(D),W/1e3)?D=Math.round(D):D=Math.ceil(D));const P=Math.max(lE(W),lE(M));rt=Math.pow(10,Qt(f)?P:f),M=Math.round(M*rt)/rt,w=Math.round(w*rt)/rt;let k=0;for(L&&(T&&M!==c?(e.push({value:c}),M<c&&k++,Pc(Math.round((M+k*W)*rt)/rt,c,ox(c,Z,n))&&k++):M<c&&k++);k<D;++k){const z=Math.round((M+k*W)*rt)/rt;if(G&&z>h)break;e.push({value:z})}return G&&T&&w!==h?e.length&&Pc(e[e.length-1].value,h,ox(h,Z,n))?e[e.length-1].value=h:e.push({value:h}):(!G||w===h)&&e.push({value:w}),e}function ox(n,t,{horizontal:e,minRotation:i}){const r=Ds(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class p6 extends ul{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Qt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=Zi(r),m=Zi(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=g6(r,o);return t.bounds==="ticks"&&Nk(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return V_(t,this.chart.options.locale,this.options.ticks.format)}}class K_ extends p6{static id="linear";static defaults={ticks:{callback:i1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Jn(t)?t:0,this.max=Jn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ds(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const xd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Sn=Object.keys(xd);function lx(n,t){return n-t}function cx(n,t){if(Qt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Jn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&($c(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function ux(n,t,e,i){const r=Sn.length;for(let o=Sn.indexOf(n);o<r-1;++o){const c=xd[Sn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Sn[o]}return Sn[r-1]}function _6(n,t,e,i,r){for(let o=Sn.length-1;o>=Sn.indexOf(e);o--){const c=Sn[o];if(xd[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Sn[e?Sn.indexOf(e):0]}function y6(n){for(let t=Sn.indexOf(n)+1,e=Sn.length;t<e;++t)if(xd[Sn[t]].common)return Sn[t]}function hx(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=O_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function v6(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function fx(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:v6(n,i,r,e)}class dx extends ul{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new TV._date(t.adapters.date);r.init(e),Vc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:cx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Jn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Jn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=zk(r,o,c);return this._unit=e.unit||(i.autoSkip?ux(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):_6(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:y6(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),fx(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=cn(e,0,c),i=cn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||ux(o.minUnit,e,i,this._getLabelCapacity(e)),h=Dt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=$c(f)||f===!0,_={};let y=e,T,x;if(m&&(y=+t.startOf(y,"isoWeek",f)),y=+t.startOf(y,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(T=y,x=0;T<i;T=+t.add(T,h,c),x++)hx(_,T,R);return(T===i||r.bounds==="ticks"||x===1)&&hx(_,T,R),Object.keys(_).sort(lx).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return ce(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,_=f&&h[f],y=m&&h[m],T=i[e],x=m&&y&&T&&T.major;return this._adapter.format(t,r||(x?y:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ds(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,fx(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(cx(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return t1(t.sort(lx))}}function uf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=wa(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=wa(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class q6 extends dx{static id="timeseries";static defaults=dx.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=uf(e,this.min),this._tableRange=uf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,m,_;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],f=r[c-1],m=r[c],Math.round((_+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(uf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return uf(this._table,i*this._tableRange+this._minPos,!0)}}const N1="label";function mx(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function b6(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function k1(n,t){n.labels=t}function V1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N1;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function T6(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N1;const e={labels:[],datasets:[]};return k1(e,n.labels),V1(e,n.datasets,t),e}function E6(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:_,updateMode:y,...T}=n,x=Mt.useRef(null),R=Mt.useRef(null),C=()=>{x.current&&(R.current=new qa(x.current,{type:c,data:T6(h,o),options:f&&{...f},plugins:m}),mx(t,R.current))},I=()=>{mx(t,null),R.current&&(R.current.destroy(),R.current=null)};return Mt.useEffect(()=>{!r&&R.current&&f&&b6(R.current,f)},[r,f]),Mt.useEffect(()=>{!r&&R.current&&k1(R.current.config.data,h.labels)},[r,h.labels]),Mt.useEffect(()=>{!r&&R.current&&h.datasets&&V1(R.current.config.data,h.datasets,o)},[r,h.datasets]),Mt.useEffect(()=>{R.current&&(r?(I(),setTimeout(C)):R.current.update(y))},[r,f,h.labels,h.datasets,y]),Mt.useEffect(()=>{R.current&&(I(),setTimeout(C))},[c]),Mt.useEffect(()=>(C(),()=>I()),[]),px.createElement("canvas",{ref:x,role:"img",height:e,width:i,...T},_)}const x6=Mt.forwardRef(E6);function X_(n,t){return qa.register(t),Mt.forwardRef((e,i)=>px.createElement(x6,{...e,ref:i,type:n}))}const S6=X_("line",bV),P1=X_("bar",_V),w6=X_("doughnut",vV);qa.register(Y_,K_,I1,G_,Ed,Td);const A6=({isDark:n})=>{const t={labels:["January","February","March"],datasets:[{label:"Fuel Consumption",data:[20,42,88],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption Overview",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return O.jsx(P1,{data:t,options:e})};qa.register(Y_,K_,KP,YP,G_,Ed,Td);const R6=({isDark:n})=>{const t={labels:["January","February","March","April"],datasets:[{label:"Mileage",data:[40,52,70,88],fill:!1,borderColor:"rgba(101, 119, 255, 1)",tension:.1}]},e={responsive:!0,plugins:{legend:{position:"top",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Mileage Efficiency",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return O.jsx(S6,{data:t,options:e})};qa.register(PP,Ed,Td);const C6=({isDark:n})=>{const t={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Total Expenses",color:n?"#FFFCE1":"#0E100F"},tooltip:{backgroundColor:n?"#0E100F":"#FFFCE1",titleColor:n?"#FFFCE1":"#0E100F",bodyColor:n?"#FFFCE1":"#0E100F",borderColor:n?"#555":"#ccc",borderWidth:1}}},e={labels:["January","February","March"],datasets:[{label:"Expenses",data:[300,50,100],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderColor:n?"#0E100F":"#FFFCE1",borderWidth:2}]};return O.jsx(w6,{data:e,options:t})};function I6({isDark:n}){const t=ei();return O.jsxs("div",{className:`flex-col
            fade-in flex items-center justify-center h-screen w-full p-[calc(0.4vw+0.6rem)]`,children:[O.jsx("section",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)]",children:O.jsxs("div",{className:`${t?"flex-col items-center gap-[calc(0.4vw+0.6rem)]":"flex-row items-center"}
                    h-auto w-full flex justify-center p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]`,children:[O.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("img",{src:n?Dp:xf,className:`h-[calc(6vw+6.4rem)] w-[calc(6vw+6.4rem)] cursor-pointer\r
                            filter hover:brightness-60 transition duration-300`,alt:""}),O.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),O.jsxs("div",{className:"flex-3 h-full flex flex-col items-start justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[O.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"Subscribe to our newsletter"}),O.jsxs("div",{className:"w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] pl-0",children:[O.jsx("input",{type:"email",placeholder:"Enter your email",className:`${n?"border-[var(--light-color)]":"border-[var(--dark-color)]"}
                                    w-full outline-none px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] border-b`}),O.jsx("i",{className:"bx bx-arrow-right-stroke-circle bx-spin-hover hovered text-[calc(1vw+1.4rem)] cursor-pointer"})]})]}),O.jsxs("div",{className:`${t?"pb-[calc(0.4vw+0.6rem)]":"p-[calc(0.4vw+0.6rem)]"}
                            flex-3 w-full flex items-center justify-center gap-[calc(1.4vw+1.6rem)]`,children:[O.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"About Us"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Mission"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Team"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"})]}),O.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Support"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Contact"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Support"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"FAQ's"})]}),O.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Social"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Facebook"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Instagram"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]})]})]})]})}),O.jsxs("section",{className:"w-full flex flex-row items-center justify-between flex-wrap",children:[O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Copyright  DriveSense 2025"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Terms of Service"}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"A100 Group 6 BSIT Mini-Capstone Project"}),O.jsxs("div",{className:"flex flex-row items-center justify-center",children:[O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Back to top"}),O.jsx("i",{className:"bx bx-arrow-up-square bx-tada-hover text-[calc(1vw+1.4rem)] cursor-pointer hovered",onClick:()=>{const e=document.getElementById("landing-section");e&&e.scrollIntoView({behavior:"smooth"})}})]})]})]})}function M6({isDark:n}){const t=ei();return O.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in h-screen w-full flex flex-col items-center justify-start overflow-y-scroll snap-y snap-mandatory scroll-smooth no-scrollbar`,children:[O.jsxs("section",{id:"landing-section",className:`${t?"flex-col min-h-screen w-full justify-center":"w-[90%] flex-row min-h-screen justify-around snap-start"}
                flex items-center border-b border-[var(--border-color)]`,children:[O.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:O.jsxs("div",{className:"flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(1.6vw+1.4rem)] font-bold cursor-pointer hovered",children:"Fuel Consumption and Vehicle Usage Monitoring System"}),!t&&O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),!t&&O.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--dark-color)] font-semibold`,children:"Get Started"}),O.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer font-semibold
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)]`,children:"Sign In"})]})]})}),O.jsx("div",{className:"relative h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:O.jsx("img",{src:R_,className:`${t?"h-[calc(18vw+16rem)] min-w-[calc(18vw+16rem)]":"h-[calc(18vw+16rem)] w-[calc(24vw+18rem)] mb-[48px]"}`,alt:""})}),t&&O.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:O.jsxs("div",{className:"w-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),O.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer`,children:"Get Started"}),O.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer font-semibold`,children:"Sign In"})]})]})})]}),O.jsxs("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)] border-b border-[var(--border-color)]`,children:[O.jsx("span",{className:"text-[calc(0.8vw+1rem)] cursor-pointer font-semibold hovered",children:"Why Use DriveSense?"}),O.jsxs("div",{className:`${n?"text-[var(--light-color)]":"text-[var(--dark-color)]"}
                        ${t?"flex-row items-center flex-wrap":"flex-row items-start"}
                        w-full flex justify-center gap-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)]`,children:[O.jsx(Qh,{icon:O.jsx("i",{className:"bx bx-petrol-pump bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Monitor Fuel Consumption",info:"Track fuel volume, cost and refusing data.",isDark:n}),O.jsx(Qh,{icon:O.jsx("i",{className:"bx bx-chart-bar-columns bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Analyze Efficiency",info:"Generate reports on vehicle mileage and performance.",isDark:n}),O.jsx(Qh,{icon:O.jsx("i",{className:"bx bx-car bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Manage Vehicles",info:"Register and update vehicle details with ease.",isDark:n}),O.jsx(Qh,{icon:O.jsx("i",{className:"bx bx-lock-keyhole bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Secure Access",info:"Role: based login for admin, driver and owner.",isDark:n})]}),O.jsxs("div",{className:`${t?"flex-col justify-start w-full":"flex-row justify-center h-[320px] w-full"}
                    h-auto flex items-center p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[O.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:O.jsx(A6,{isDark:n})}),O.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:O.jsx(R6,{isDark:n})}),O.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:O.jsx(C6,{isDark:n})})]})]}),O.jsx("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)]`,children:O.jsx(I6,{isDark:n})})]})}function D6({isLoggedIn:n,setIsLoggedIn:t,setUser:e}){const[i,r]=Mt.useState(!0);return O.jsxs("div",{className:`${i?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            h-screen w-screen overflow-hidden flex flex-col items-center justify-start`,children:[O.jsx(ZN,{isDark:i,setIsDark:r,isLoggedIn:n,setIsLoggedIn:t,setUser:e}),O.jsx(M6,{isDark:i})]})}const L1=({icon:n,title:t})=>O.jsxs(O.Fragment,{children:[O.jsx("i",{className:`${n} text-[calc(0.6vw+1rem)]`}),O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] hovered",children:t})]});function O6({isDark:n,setIsDark:t,activeIndex:e,setActiveIndex:i,user:r}){const o=ei(),[c,h]=Mt.useState(!1),f=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicle"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-map bx-tada-hover hovered",title:"Trip"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],m=r?.displayName?.split(" ")[0]??"Guest";return O.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[O.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&O.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(_=>!_)}),O.jsx("img",{src:n?Dp:xf,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),O.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),O.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[r&&O.jsx("img",{src:r?.photoURL??"",className:"rounded-full h-[calc(0.8vw+1.4rem)]  w-[calc(0.8vw+1.4rem)] cursor-pointer",alt:""}),!r&&O.jsx("i",{className:"bx bx-user-circle bx-tada-hover hovered text-[calc(1vw+1.2rem)] cursor-pointer"}),O.jsx("span",{className:`${o?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} 
                    cursor-pointer hovered`,children:o?m:r?.displayName??"Guest"}),O.jsx(_x,{isDark:n,setIsDark:t})]}),o&&c&&O.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:O.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[O.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(_=>!_)}),f.map((_,y)=>O.jsx("div",{className:`${e===y?"bg-[var(--border-color)]":""} flex flex-row items-center justify-start gap-[calc(0.4vw+0.6rem)] 
                            cursor-pointer transition duration-300 ease-in-out`,onClick:()=>i(y),children:O.jsx(L1,{icon:_.icon,title:_.title})},y))]})})]})}function vr({title:n,descrip:t,isDark:e}){return O.jsxs("div",{className:`
            text-[var(--light-color)] bg-[var(--purple-color)]
            h-auto w-full flex flex-col items-start justify-center rounded-lg
            p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer text-center",children:n}),O.jsx("span",{className:"text-[calc(0.6vw+1.2rem)] cursor-pointer",children:t})]})}qa.register(Y_,K_,I1,G_,Ed,Td);const N6=({isDark:n})=>{const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],datasets:[{label:"Fuel Consumption",data:[20,42,98,66,32,52,44,80,74],backgroundColor:["rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption",color:n?"#FFFCE1":"#0E100F",align:"start",font:{size:16}}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return O.jsx(P1,{data:t,options:e})};function gx({isDark:n,user:t}){const e=ei(),[i,r]=Mt.useState("0"),[o,c]=Mt.useState("0"),[h,f]=Mt.useState("0"),[m,_]=Mt.useState("0");return Mt.useEffect(()=>{(async()=>{try{if(!t||!t.uid){console.warn("User not available.");return}const T=b_(ka,"users",t?.uid,"dashboard-data"),R=(await Fw(T)).size;console.log(`Total documents in dashboard-data: ${R}`);const C=hu(ka,"users",t?.uid,"dashboard-data","2026 Ford Mustang"),I=await S_(C);if(I.exists()){const L=I.data();console.log("Dashboard data:",L),r(L.totalVehicle??R),c(L.fuelCost??"0"),f(L.mileAge??"0"),_(L.totalTrips??"0")}else console.log("No such document!");return R}catch(T){console.error("Error fetching dashboard data:",T)}})()},[]),O.jsxs("section",{id:"main",className:`${e?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
        flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:[O.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Dashboard"}),O.jsxs("span",{className:"text-[calc(0.4vw+0.8rem)] cursor-pointer hovered",children:["Welcome back, ",t?.displayName]}),!e&&O.jsxs("div",{className:"h-auto w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx(vr,{title:"Total Vehicles",descrip:i,isDark:n}),O.jsx(vr,{title:"Monthly Fuel Cost",descrip:o,isDark:n}),O.jsx(vr,{title:"Mileage Efficiency",descrip:h,isDark:n}),O.jsx(vr,{title:"Total Trips",descrip:m,isDark:n})]}),e&&O.jsxs("div",{className:"h-auto w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[O.jsx(vr,{title:"Total Vehicles",descrip:i,isDark:n}),O.jsx(vr,{title:"Monthly Fuel Cost",descrip:o,isDark:n})]}),O.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[O.jsx(vr,{title:"Mileage Efficiency",descrip:h,isDark:n}),O.jsx(vr,{title:"Total Trips",descrip:m,isDark:n})]})]})]}),O.jsxs("div",{className:`${e?"flex-col items-center mt-[calc(0.4vw+0.6rem)]":"flex-row items-start"}
                h-full w-full flex justify-start gap-[calc(0.4vw+0.6rem)]`,children:[O.jsx("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:O.jsx(N6,{isDark:n})}),O.jsxs("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:[O.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] p-[calc(0.4vw+0.6rem)] pl-0 cursor-pointer",children:"Recent Activity"}),O.jsxs("div",{className:"h-full w-full flex flex-row items-start justify-around py-[calc(0.4vw+0.6rem)]",children:[O.jsxs("div",{className:"h-full flex-1 flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]  text-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"hovered w-full p-[calc(0.3vw+0.4rem)] border-b border-[var(--border-color)] cursor-pointer pl-0",children:"Activity"}),O.jsx("span",{className:"cursor-pointer hovered",children:"Refuel"}),O.jsx("span",{className:"cursor-pointer hovered",children:"Trip"}),O.jsx("span",{className:"cursor-pointer hovered",children:"Maintenance"}),O.jsx("span",{className:"cursor-pointer hovered",children:"Refuel"})]}),O.jsxs("div",{className:"h-full flex-1 flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]  text-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:" hovered w-full p-[calc(0.3vw+0.4rem)] border-b border-[var(--border-color)] cursor-pointer pl-0",children:"Date"}),O.jsx("span",{className:"cursor-pointer hovered",children:"Sep 23, 2025"}),O.jsx("span",{className:"cursor-pointer hovered",children:"Sep 23, 2025"}),O.jsx("span",{className:"cursor-pointer hovered",children:"Oct 04, 2025"}),O.jsx("span",{className:"cursor-pointer hovered",children:"Oct 18, 2025"})]}),O.jsxs("div",{className:"h-full flex-1 flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]  text-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"hovered w-full p-[calc(0.3vw+0.4rem)] border-b border-[var(--border-color)] cursor-pointer pl-0",children:"Time"}),O.jsx("span",{className:"cursor-pointer hovered",children:"9:15 AM"}),O.jsx("span",{className:"cursor-pointer hovered",children:"1:20 PM"}),O.jsx("span",{className:"cursor-pointer hovered",children:"4:32 PM"}),O.jsx("span",{className:"cursor-pointer hovered",children:"8:44 PM"})]})]})]})]})]})}function k6({user:n,driverNames:t}){const[e,i]=Mt.useState(!1);console.log("driverNames:",t);const r=ei(),[o,c]=Mt.useState("");return O.jsx(O.Fragment,{children:!e&&O.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:O.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[O.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>i(h=>!h)}),O.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[O.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:O.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),O.jsx("div",{className:" w-full flex flex-col items-center justify-end ",children:O.jsx("img",{src:R_,className:`${r?"h-full min-wfull":"h-full w-full"}`,alt:""})}),O.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("input",{type:"text",placeholder:"Vehicle Name",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),O.jsxs("select",{id:"driver-names",value:o,className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-xl",onChange:h=>c(h.target.value),children:[O.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),t.map((h,f)=>O.jsx("option",{value:h,className:"cursor-pointer",children:h},f))]}),O.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,children:"Continue"})]})]})]})})})}function V6({isDark:n,user:t,driverNames:e}){const i=ei(),[r,o]=Mt.useState(!1);return O.jsxs("section",{id:"main",className:`${i?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
        
        flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[O.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Vehicle Information"}),O.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] bg-[var(--purple-color)] \r
                px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg cursor-pointer`,onClick:()=>o(c=>!c),children:"Add Vehicle"})]}),r&&O.jsx(k6,{user:t,driverNames:e}),O.jsx("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)] rounded-xl bordered"})]})}function P6({user:n,setDriverNames:t}){const[e,i]=Mt.useState(!1),r=ei(),[o,c]=Mt.useState(""),h=async()=>{try{if(!n?.uid)return;const f=o,m=b_(ka,"users",n?.uid,"drivers"),_=await yN(m,{name:f});console.log("Added the driver successfully: ",_),t(y=>[...y,o]),i(y=>!y)}catch(f){console.error("Can't add the driver.",f)}};return O.jsx(O.Fragment,{children:!e&&O.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:O.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[O.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>i(f=>!f)}),O.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[O.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:O.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new driver"})}),O.jsx("div",{className:" w-full flex flex-col items-center justify-end ",children:O.jsx("img",{src:R_,className:`${r?"h-full min-wfull":"h-full w-full"}`,alt:""})}),O.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("input",{type:"text",placeholder:"Driver Name",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:f=>c(f.target.value),required:!0}),O.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>h(),children:"Continue"})]})]})]})})})}function L6({user:n,setDriverNames:t,driverId:e,driverIndex:i,setDriverId:r}){const[o,c]=Mt.useState(!1),h=ei(),f=()=>{c(_=>!_)},m=async()=>{try{if(!n?.uid||!e)return;const _=hu(ka,"users",n?.uid,"drivers",e);await _N(_),t(y=>y.filter((T,x)=>x!==i)),r(y=>y.filter(T=>T!==e))}catch(_){console.error("Cant delete the driver.",_)}c(_=>!_),console.log("Updated driver ids: ",e)};return O.jsx(O.Fragment,{children:!o&&O.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:O.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[O.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>c(_=>!_)}),O.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[O.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:O.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this driver?"})}),O.jsxs("div",{className:`
                            flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]`,children:[O.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>f(),children:"No"}),O.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>m(),children:"Yes"})]})]})]})})})}function z6({isDark:n,user:t,driverNames:e,setDriverNames:i}){const r=ei(),[o,c]=Mt.useState(!1),[h,f]=Mt.useState(!1),[m,_]=Mt.useState([]),[y,T]=Mt.useState(null),[x,R]=Mt.useState(null);return Mt.useEffect(()=>{const C=async()=>{try{if(!t?.uid)return;const I=b_(ka,"users",t?.uid,"drivers"),L=await Fw(I),G=[];L.forEach(Z=>{G.push(Z.id),console.log("Driver name: ",Z.id),console.log(C)}),_(G);const X=[];try{if(G.length>0){for(const Z of G){const W=hu(ka,"users",t?.uid,"drivers",Z),rt=await S_(W);if(rt.exists()&&m){const M=rt.data();console.log(`Driver ID: ${Z}, Name: ${M.name}`),X.push(M.name),console.log(X)}}i(X)}}catch(Z){console.error("Bruh can't fetch the names :D",Z)}}catch(I){console.error("Can't fetch drivers :D",I)}};C()},[]),console.log(e),O.jsxs("section",{id:"main",className:`${r?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[O.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[O.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Driver Information"}),O.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] bg-[var(--purple-color)] \r
                px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg cursor-pointer`,onClick:()=>c(C=>!C),children:"Add Driver"})]}),o&&O.jsx(P6,{user:t,setDriverNames:i}),O.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[e.map((C,I)=>O.jsxs("div",{className:"h-auto w-full p-[calc(0.4vw+0.6rem)] flex flex-row items-start justify-start rounded-xl bordered",children:[O.jsxs("div",{className:"h-full flex flex-col items-start justify-center gap-[calc(0.6vw+1rem)]",children:[O.jsxs("span",{className:"hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:["Id: ",m[I]]}),O.jsxs("span",{className:"hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:["Name: ",C]})]}),O.jsxs("div",{className:"h-full flex flex-row items-end justify-center gap-[calc(0.4vw+0.6rem)] ml-auto",children:[O.jsx("i",{className:"bx bx-edit bx-tada-hover hovered text-[calc(0.8vw+1rem)] cursor-pointer"}),O.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out gap-[calc(0.4vw+0.6rem)] cursor-pointer",onClick:()=>{f(L=>!L),T(m[I]),R(I)}})]})]},I)),h&&y&&O.jsx(L6,{user:t,setDriverNames:i,setDriverId:i,driverId:y,driverIndex:x})]})]})}function U6({isDark:n,activeIndex:t,setActiveIndex:e,user:i,driverNames:r,setDriverNames:o}){const c=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-user bx-tada-hover hovered",title:"Drivers"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicles"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-map bx-tada-hover hovered",title:"Trip"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],h=[O.jsx(gx,{isDark:n,user:i}),O.jsx(z6,{isDark:n,user:i,driverNames:r,setDriverNames:o}),O.jsx(V6,{isDark:n,user:i,driverNames:r})],f=ei();return O.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            ${f?"h-auto":"h-screen"}
            fade-in w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]`,children:[!f&&O.jsx("section",{id:"side-nav",className:"h-full w-full flex-1",children:c.map((m,_)=>O.jsx("div",{className:`${t===_?"text-[var(--dark-color)] bg-[var(--border-color)]":""} flex flex-row items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] 
                        cursor-pointer transition duration-300 ease-in-out`,onClick:()=>e(_),children:O.jsx(L1,{icon:m.icon,title:m.title})},_))}),h[t]??O.jsx(gx,{isDark:n,user:i})]})}function j6({user:n,driverNames:t,setDriverNames:e}){const[i,r]=Mt.useState(!0),[o,c]=Mt.useState(0);return O.jsxs("div",{children:[O.jsx(O6,{isDark:i,setIsDark:r,activeIndex:o,setActiveIndex:c,user:n}),O.jsx(U6,{isDark:i,activeIndex:o,setActiveIndex:c,user:n,driverNames:t,setDriverNames:e})]})}function B6(){const[n,t]=Mt.useState(!1),[e,i]=Mt.useState(null),[r,o]=Mt.useState([]);return O.jsxs("div",{children:[!n&&O.jsx(D6,{isLoggedIn:n,setIsLoggedIn:t,setUser:i}),n&&O.jsx(j6,{user:e,driverNames:r,setDriverNames:o})]})}SR.createRoot(document.getElementById("root")).render(O.jsx(Mt.StrictMode,{children:O.jsx(B6,{})}));
