(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function hR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tg={exports:{}},gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function fR(){if(gb)return gc;gb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return gc.Fragment=t,gc.jsx=e,gc.jsxs=e,gc}var pb;function dR(){return pb||(pb=1,Tg.exports=fR()),Tg.exports}var S=dR(),Eg={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function mR(){if(_b)return Rt;_b=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function L(z,tt,at){this.props=z,this.context=tt,this.refs=D,this.updater=at||C}L.prototype.isReactComponent={},L.prototype.setState=function(z,tt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,tt,"setState")},L.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=L.prototype;function X(z,tt,at){this.props=z,this.context=tt,this.refs=D,this.updater=at||C}var Z=X.prototype=new F;Z.constructor=X,M(Z,L.prototype),Z.isPureReactComponent=!0;var W=Array.isArray;function st(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(z,tt,at){var lt=at.ref;return{$$typeof:n,type:z,key:tt,ref:lt!==void 0?lt:null,props:at}}function P(z,tt){return N(z.type,tt,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function j(z){var tt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(at){return tt[at]})}var O=/\/+/g;function Nt(z,tt){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):tt.toString(36)}function Et(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(st,st):(z.status="pending",z.then(function(tt){z.status==="pending"&&(z.status="fulfilled",z.value=tt)},function(tt){z.status==="pending"&&(z.status="rejected",z.reason=tt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function K(z,tt,at,lt,dt){var _t=typeof z;(_t==="undefined"||_t==="boolean")&&(z=null);var yt=!1;if(z===null)yt=!0;else switch(_t){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(z.$$typeof){case n:case t:yt=!0;break;case _:return yt=z._init,K(yt(z._payload),tt,at,lt,dt)}}if(yt)return dt=dt(z),yt=lt===""?"."+Nt(z,0):lt,W(dt)?(at="",yt!=null&&(at=yt.replace(O,"$&/")+"/"),K(dt,tt,at,"",function(rn){return rn})):dt!=null&&(k(dt)&&(dt=P(dt,at+(dt.key==null||z&&z.key===dt.key?"":(""+dt.key).replace(O,"$&/")+"/")+yt)),tt.push(dt)),1;yt=0;var qt=lt===""?".":lt+":";if(W(z))for(var Yt=0;Yt<z.length;Yt++)lt=z[Yt],_t=qt+Nt(lt,Yt),yt+=K(lt,tt,at,_t,dt);else if(Yt=E(z),typeof Yt=="function")for(z=Yt.call(z),Yt=0;!(lt=z.next()).done;)lt=lt.value,_t=qt+Nt(lt,Yt++),yt+=K(lt,tt,at,_t,dt);else if(_t==="object"){if(typeof z.then=="function")return K(Et(z),tt,at,lt,dt);throw tt=String(z),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return yt}function ot(z,tt,at){if(z==null)return z;var lt=[],dt=0;return K(z,lt,"","",function(_t){return tt.call(at,_t,dt++)}),lt}function ht(z){if(z._status===-1){var tt=z._result;tt=tt(),tt.then(function(at){(z._status===0||z._status===-1)&&(z._status=1,z._result=at)},function(at){(z._status===0||z._status===-1)&&(z._status=2,z._result=at)}),z._status===-1&&(z._status=0,z._result=tt)}if(z._status===1)return z._result.default;throw z._result}var bt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},kt={map:ot,forEach:function(z,tt,at){ot(z,function(){tt.apply(this,arguments)},at)},count:function(z){var tt=0;return ot(z,function(){tt++}),tt},toArray:function(z){return ot(z,function(tt){return tt})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Rt.Activity=y,Rt.Children=kt,Rt.Component=L,Rt.Fragment=e,Rt.Profiler=r,Rt.PureComponent=X,Rt.StrictMode=i,Rt.Suspense=f,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return I.H.useMemoCache(z)}},Rt.cache=function(z){return function(){return z.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(z,tt,at){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var lt=M({},z.props),dt=z.key;if(tt!=null)for(_t in tt.key!==void 0&&(dt=""+tt.key),tt)!A.call(tt,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&tt.ref===void 0||(lt[_t]=tt[_t]);var _t=arguments.length-2;if(_t===1)lt.children=at;else if(1<_t){for(var yt=Array(_t),qt=0;qt<_t;qt++)yt[qt]=arguments[qt+2];lt.children=yt}return N(z.type,dt,lt)},Rt.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Rt.createElement=function(z,tt,at){var lt,dt={},_t=null;if(tt!=null)for(lt in tt.key!==void 0&&(_t=""+tt.key),tt)A.call(tt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(dt[lt]=tt[lt]);var yt=arguments.length-2;if(yt===1)dt.children=at;else if(1<yt){for(var qt=Array(yt),Yt=0;Yt<yt;Yt++)qt[Yt]=arguments[Yt+2];dt.children=qt}if(z&&z.defaultProps)for(lt in yt=z.defaultProps,yt)dt[lt]===void 0&&(dt[lt]=yt[lt]);return N(z,_t,dt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(z){return{$$typeof:h,render:z}},Rt.isValidElement=k,Rt.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:ht}},Rt.memo=function(z,tt){return{$$typeof:m,type:z,compare:tt===void 0?null:tt}},Rt.startTransition=function(z){var tt=I.T,at={};I.T=at;try{var lt=z(),dt=I.S;dt!==null&&dt(at,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(st,bt)}catch(_t){bt(_t)}finally{tt!==null&&at.types!==null&&(tt.types=at.types),I.T=tt}},Rt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Rt.use=function(z){return I.H.use(z)},Rt.useActionState=function(z,tt,at){return I.H.useActionState(z,tt,at)},Rt.useCallback=function(z,tt){return I.H.useCallback(z,tt)},Rt.useContext=function(z){return I.H.useContext(z)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(z,tt){return I.H.useDeferredValue(z,tt)},Rt.useEffect=function(z,tt){return I.H.useEffect(z,tt)},Rt.useEffectEvent=function(z){return I.H.useEffectEvent(z)},Rt.useId=function(){return I.H.useId()},Rt.useImperativeHandle=function(z,tt,at){return I.H.useImperativeHandle(z,tt,at)},Rt.useInsertionEffect=function(z,tt){return I.H.useInsertionEffect(z,tt)},Rt.useLayoutEffect=function(z,tt){return I.H.useLayoutEffect(z,tt)},Rt.useMemo=function(z,tt){return I.H.useMemo(z,tt)},Rt.useOptimistic=function(z,tt){return I.H.useOptimistic(z,tt)},Rt.useReducer=function(z,tt,at){return I.H.useReducer(z,tt,at)},Rt.useRef=function(z){return I.H.useRef(z)},Rt.useState=function(z){return I.H.useState(z)},Rt.useSyncExternalStore=function(z,tt,at){return I.H.useSyncExternalStore(z,tt,at)},Rt.useTransition=function(){return I.H.useTransition()},Rt.version="19.2.0",Rt}var yb;function Op(){return yb||(yb=1,Eg.exports=mR()),Eg.exports}var ut=Op();const pE=hR(ut);var wg={exports:{}},pc={},Sg={exports:{}},Ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function gR(){return vb||(vb=1,(function(n){function t(K,ot){var ht=K.length;K.push(ot);t:for(;0<ht;){var bt=ht-1>>>1,kt=K[bt];if(0<r(kt,ot))K[bt]=ot,K[ht]=kt,ht=bt;else break t}}function e(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ot=K[0],ht=K.pop();if(ht!==ot){K[0]=ht;t:for(var bt=0,kt=K.length,z=kt>>>1;bt<z;){var tt=2*(bt+1)-1,at=K[tt],lt=tt+1,dt=K[lt];if(0>r(at,ht))lt<kt&&0>r(dt,at)?(K[bt]=dt,K[lt]=ht,bt=lt):(K[bt]=at,K[tt]=ht,bt=tt);else if(lt<kt&&0>r(dt,ht))K[bt]=dt,K[lt]=ht,bt=lt;else break t}}return ot}function r(K,ot){var ht=K.sortIndex-ot.sortIndex;return ht!==0?ht:K.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],_=1,y=null,b=3,E=!1,C=!1,M=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function Z(K){for(var ot=e(m);ot!==null;){if(ot.callback===null)i(m);else if(ot.startTime<=K)i(m),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=e(m)}}function W(K){if(M=!1,Z(K),!C)if(e(f)!==null)C=!0,st||(st=!0,j());else{var ot=e(m);ot!==null&&Et(W,ot.startTime-K)}}var st=!1,I=-1,A=5,N=-1;function P(){return D?!0:!(n.unstable_now()-N<A)}function k(){if(D=!1,st){var K=n.unstable_now();N=K;var ot=!0;try{t:{C=!1,M&&(M=!1,F(I),I=-1),E=!0;var ht=b;try{e:{for(Z(K),y=e(f);y!==null&&!(y.expirationTime>K&&P());){var bt=y.callback;if(typeof bt=="function"){y.callback=null,b=y.priorityLevel;var kt=bt(y.expirationTime<=K);if(K=n.unstable_now(),typeof kt=="function"){y.callback=kt,Z(K),ot=!0;break e}y===e(f)&&i(f),Z(K)}else i(f);y=e(f)}if(y!==null)ot=!0;else{var z=e(m);z!==null&&Et(W,z.startTime-K),ot=!1}}break t}finally{y=null,b=ht,E=!1}ot=void 0}}finally{ot?j():st=!1}}}var j;if(typeof X=="function")j=function(){X(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Nt=O.port2;O.port1.onmessage=k,j=function(){Nt.postMessage(null)}}else j=function(){L(k,0)};function Et(K,ot){I=L(function(){K(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var ht=b;b=ot;try{return K()}finally{b=ht}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(K,ot){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ht=b;b=K;try{return ot()}finally{b=ht}},n.unstable_scheduleCallback=function(K,ot,ht){var bt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?bt+ht:bt):ht=bt,K){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=ht+kt,K={id:_++,callback:ot,priorityLevel:K,startTime:ht,expirationTime:kt,sortIndex:-1},ht>bt?(K.sortIndex=ht,t(m,K),e(f)===null&&K===e(m)&&(M?(F(I),I=-1):M=!0,Et(W,ht-bt))):(K.sortIndex=kt,t(f,K),C||E||(C=!0,st||(st=!0,j()))),K},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(K){var ot=b;return function(){var ht=b;b=ot;try{return K.apply(this,arguments)}finally{b=ht}}}})(Ag)),Ag}var bb;function pR(){return bb||(bb=1,Sg.exports=gR()),Sg.exports}var Rg={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function _R(){if(xb)return an;xb=1;var n=Op();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(f,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,_)},an.flushSync=function(f){var m=c.T,_=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=_,i.d.f()}},an.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},an.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},an.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:E}):_==="script"&&i.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},an.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},an.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin);i.d.L(f,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},an.preloadModule=function(f,m){if(typeof f=="string")if(m){var _=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},an.requestFormReset=function(f){i.d.r(f)},an.unstable_batchedUpdates=function(f,m){return f(m)},an.useFormState=function(f,m,_){return c.H.useFormState(f,m,_)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.0",an}var Tb;function yR(){if(Tb)return Rg.exports;Tb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Rg.exports=_R(),Rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function vR(){if(Eb)return pc;Eb=1;var n=pR(),t=Op(),e=yR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var x=!1,w=g.child;w;){if(w===l){x=!0,l=g,u=p;break}if(w===u){x=!0,u=g,l=p;break}w=w.sibling}if(!x){for(w=p.child;w;){if(w===l){x=!0,l=p,u=g;break}if(w===u){x=!0,u=p,l=g;break}w=w.sibling}if(!x)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function _(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=_(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),X=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Nt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case L:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case st:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case X:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case Z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return a=s.displayName||null,a!==null?a:Nt(s.type)||"Memo";case A:a=s._payload,s=s._init;try{return Nt(s(a))}catch{}}return null}var Et=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},bt=[],kt=-1;function z(s){return{current:s}}function tt(s){0>kt||(s.current=bt[kt],bt[kt]=null,kt--)}function at(s,a){kt++,bt[kt]=s.current,s.current=a}var lt=z(null),dt=z(null),_t=z(null),yt=z(null);function qt(s,a){switch(at(_t,a),at(dt,s),at(lt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?j0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=j0(a),s=z0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}tt(lt),at(lt,s)}function Yt(){tt(lt),tt(dt),tt(_t)}function rn(s){s.memoizedState!==null&&at(yt,s);var a=lt.current,l=z0(a,s.type);a!==l&&(at(dt,s),at(lt,l))}function bi(s){dt.current===s&&(tt(lt),tt(dt)),yt.current===s&&(tt(yt),hc._currentValue=ht)}var Ya,Ka;function xi(s){if(Ya===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ya=a&&a[1]||"",Ka=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ya+s+Ka}var hl=!1;function Hr(s,a){if(!s||hl)return"";hl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var Y=Q}Reflect.construct(s,[],nt)}else{try{nt.call()}catch(Q){Y=Q}s.call(nt.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),x=p[0],w=p[1];if(x&&w){var V=x.split(`
`),G=w.split(`
`);for(g=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(u===V.length||g===G.length)for(u=V.length-1,g=G.length-1;1<=u&&0<=g&&V[u]!==G[g];)g--;for(;1<=u&&0<=g;u--,g--)if(V[u]!==G[g]){if(u!==1||g!==1)do if(u--,g--,0>g||V[u]!==G[g]){var J=`
`+V[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=g);break}}}finally{hl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?xi(l):""}function fl(s,a){switch(s.tag){case 26:case 27:case 5:return xi(s.type);case 16:return xi("Lazy");case 13:return s.child!==a&&a!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Hr(s.type,!1);case 11:return Hr(s.type.render,!1);case 1:return Hr(s.type,!0);case 31:return xi("Activity");default:return""}}function dl(s){try{var a="",l=null;do a+=fl(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ae=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,Bs=n.unstable_cancelCallback,wd=n.unstable_shouldYield,du=n.unstable_requestPaint,mn=n.unstable_now,qr=n.unstable_getCurrentPriorityLevel,ml=n.unstable_ImmediatePriority,gl=n.unstable_UserBlockingPriority,Fs=n.unstable_NormalPriority,Sd=n.unstable_LowPriority,mu=n.unstable_IdlePriority,gu=n.log,pu=n.unstable_setDisableYieldValue,ii=null,Xe=null;function Pn(s){if(typeof gu=="function"&&pu(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ii,s)}catch{}}var be=Math.clz32?Math.clz32:yu,_u=Math.log,Xa=Math.LN2;function yu(s){return s>>>=0,s===0?32:31-(_u(s)/Xa|0)|0}var Ti=256,Gr=262144,Re=4194304;function Ei(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function wi(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?g=Ei(u):(x&=w,x!==0?g=Ei(x):l||(l=w&~s,l!==0&&(g=Ei(l))))):(w=u&~p,w!==0?g=Ei(w):x!==0?g=Ei(x):l||(l=u&~s,l!==0&&(g=Ei(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function si(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ad(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var s=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),s}function Si(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Yr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Rd(s,a,l,u,g,p){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var w=s.entanglements,V=s.expirationTimes,G=s.hiddenUpdates;for(l=x&~l;0<l;){var J=31-be(l),nt=1<<J;w[J]=0,V[J]=-1;var Y=G[J];if(Y!==null)for(G[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}l&=~nt}u!==0&&Kr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(x&~a))}function Kr(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-be(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function pl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-be(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function _l(s,a){var l=a&-a;return l=(l&42)!==0?1:Xr(l),(l&(s.suspendedLanes|a))!==0?0:l}function Xr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function os(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function bu(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:lb(s.type))}function ri(s,a){var l=ot.p;try{return ot.p=s,a()}finally{ot.p=l}}var ai=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ai,qe="__reactProps$"+ai,Ai="__reactContainer$"+ai,$a="__reactEvents$"+ai,Cd="__reactListeners$"+ai,xu="__reactHandles$"+ai,Tu="__reactResources$"+ai,Ri="__reactMarker$"+ai;function Qa(s){delete s[Ce],delete s[qe],delete s[$a],delete s[Cd],delete s[xu]}function Ci(s){var a=s[Ce];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Ai]||l[Ce]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=Y0(s);s!==null;){if(l=s[Ce])return l;s=Y0(s)}return a}s=l,l=s.parentNode}return null}function Ln(s){if(s=s[Ce]||s[Ai]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Rn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ii(s){var a=s[Tu];return a||(a=s[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ie(s){s[Ri]=!0}var yl=new Set,vl={};function Mi(s,a){Di(s,a),Di(s+"Capture",a)}function Di(s,a){for(vl[s]=a,s=0;s<a.length;s++)yl.add(a[s])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Tl={};function Eu(s){return Ae.call(Tl,s)?!0:Ae.call(xl,s)?!1:bl.test(s)?Tl[s]=!0:(xl[s]=!0,!1)}function Wa(s,a,l){if(Eu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Cn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Me(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Ge(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Hs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function El(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){l=""+x,p.call(this,x)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Jt(s){if(!s._valueTracker){var a=Hs(s)?"checked":"value";s._valueTracker=El(s,a,""+s[a])}}function $r(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Hs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Ni(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Qr=/[\n"\\]/g;function _n(s){return s.replace(Qr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Za(s,a,l,u,g,p,x,w){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ge(a)):s.value!==""+Ge(a)&&(s.value=""+Ge(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?wl(s,x,Ge(a)):l!=null?wl(s,x,Ge(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+Ge(w):s.removeAttribute("name")}function wu(s,a,l,u,g,p,x,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Jt(s);return}l=l!=null?""+Ge(l):"",a=a!=null?""+Ge(a):l,w||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=w?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),Jt(s)}function wl(s,a,l){a==="number"&&Ni(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function qs(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ge(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Su(s,a,l){if(a!=null&&(a=""+Ge(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Ge(l):""}function Gs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Et(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ge(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Jt(s)}function yn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Au.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Al(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Sl(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Sl(s,p,a[p])}function Ja(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(s){return Ys.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function oi(){}var Rl=null;function jn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ks=null,Oi=null;function Wr(s){var a=Ln(s);if(a&&(s=a.stateNode)){var l=s[qe]||null;t:switch(s=a.stateNode,a.type){case"input":if(Za(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_n(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[qe]||null;if(!g)throw Error(i(90));Za(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&$r(u)}break t;case"textarea":Su(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&qs(s,!!l.multiple,a,!1)}}}var eo=!1;function Xs(s,a,l){if(eo)return s(a,l);eo=!0;try{var u=s(a);return u}finally{if(eo=!1,(Ks!==null||Oi!==null)&&(bh(),Ks&&(a=Ks,s=Oi,Oi=Ks=null,Wr(a),s)))for(a=0;a<s.length;a++)Wr(s[a])}}function li(s,a){var l=s.stateNode;if(l===null)return null;var u=l[qe]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zr=!1;if(zn)try{var se={};Object.defineProperty(se,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{Zr=!1}var ki=null,Cl=null,Jr=null;function Il(){if(Jr)return Jr;var s,a=Cl,l=a.length,u,g="value"in ki?ki.value:ki.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var x=l-s;for(u=1;u<=x&&a[l-u]===g[p-u];u++);return Jr=g.slice(s,1<u?1-u:void 0)}function ta(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ls(){return!0}function ci(){return!1}function $e(s){function a(l,u,g,p,x){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(l=s[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ls:ci,this.isPropagationStopped=ci,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),a}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=$e(cs),$s=y({},cs,{view:0,detail:0}),Ml=$e($s),Qs,no,Pi,io=y({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Pi&&(Pi&&s.type==="mousemove"?(Qs=s.screenX-Pi.screenX,no=s.screenY-Pi.screenY):no=Qs=0,Pi=s),Qs)},movementY:function(s){return"movementY"in s?s.movementY:no}}),Dl=$e(io),ea=y({},io,{dataTransfer:0}),Cu=$e(ea),Iu=y({},$s,{relatedTarget:0}),na=$e(Iu),Nl=y({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=$e(Nl),so=y({},cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Du=$e(so),Nu=y({},cs,{data:0}),Li=$e(Nu),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Vu[s])?!!a[s]:!1}function Ws(){return Pu}var gn=y({},$s,{key:function(s){if(s.key){var a=Ou[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ku[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(s){return s.type==="keypress"?ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Lu=$e(gn),ju=y({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=$e(ju),d=y({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),v=$e(d),T=y({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=$e(T),H=y({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$=$e(H),ct=y({},cs,{newState:0,oldState:0}),It=$e(ct),xe=[9,13,27,32],$t=zn&&"CompositionEvent"in window,me=null;zn&&"documentMode"in document&&(me=document.documentMode);var Un=zn&&"TextEvent"in window&&!me,ji=zn&&(!$t||me&&8<me&&11>=me),ui=" ",hi=!1;function ia(s,a){switch(s){case"keyup":return xe.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ao=!1;function V1(s,a){switch(s){case"compositionend":return ro(a);case"keypress":return a.which!==32?null:(hi=!0,ui);case"textInput":return s=a.data,s===ui&&hi?null:s;default:return null}}function P1(s,a){if(ao)return s==="compositionend"||!$t&&ia(s,a)?(s=Il(),Jr=Cl=ki=null,ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ji&&a.locale!=="ko"?null:a.data;default:return null}}var L1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!L1[s.type]:a==="textarea"}function Q_(s,a,l,u){Ks?Oi?Oi.push(u):Oi=[u]:Ks=u,a=Rh(a,"onChange"),0<a.length&&(l=new Vi("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Ol=null,kl=null;function j1(s){N0(s,0)}function zu(s){var a=Rn(s);if($r(a))return s}function W_(s,a){if(s==="change")return a}var Z_=!1;if(zn){var Id;if(zn){var Md="oninput"in document;if(!Md){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),Md=typeof J_.oninput=="function"}Id=Md}else Id=!1;Z_=Id&&(!document.documentMode||9<document.documentMode)}function ty(){Ol&&(Ol.detachEvent("onpropertychange",ey),kl=Ol=null)}function ey(s){if(s.propertyName==="value"&&zu(kl)){var a=[];Q_(a,kl,s,jn(s)),Xs(j1,a)}}function z1(s,a,l){s==="focusin"?(ty(),Ol=a,kl=l,Ol.attachEvent("onpropertychange",ey)):s==="focusout"&&ty()}function U1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zu(kl)}function B1(s,a){if(s==="click")return zu(a)}function F1(s,a){if(s==="input"||s==="change")return zu(a)}function H1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var In=typeof Object.is=="function"?Object.is:H1;function Vl(s,a){if(In(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ae.call(a,g)||!In(s[g],a[g]))return!1}return!0}function ny(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function iy(s,a){var l=ny(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=ny(l)}}function sy(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?sy(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ry(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Ni(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Ni(s.document)}return a}function Dd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var q1=zn&&"documentMode"in document&&11>=document.documentMode,oo=null,Nd=null,Pl=null,Od=!1;function ay(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Od||oo==null||oo!==Ni(u)||(u=oo,"selectionStart"in u&&Dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pl&&Vl(Pl,u)||(Pl=u,u=Rh(Nd,"onSelect"),0<u.length&&(a=new Vi("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=oo)))}function sa(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var lo={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},kd={},oy={};zn&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ra(s){if(kd[s])return kd[s];if(!lo[s])return s;var a=lo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in oy)return kd[s]=a[l];return s}var ly=ra("animationend"),cy=ra("animationiteration"),uy=ra("animationstart"),G1=ra("transitionrun"),Y1=ra("transitionstart"),K1=ra("transitioncancel"),hy=ra("transitionend"),fy=new Map,Vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vd.push("scrollEnd");function fi(s,a){fy.set(s,a),Mi(a,[s])}var Uu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Bn=[],co=0,Pd=0;function Bu(){for(var s=co,a=Pd=co=0;a<s;){var l=Bn[a];Bn[a++]=null;var u=Bn[a];Bn[a++]=null;var g=Bn[a];Bn[a++]=null;var p=Bn[a];if(Bn[a++]=null,u!==null&&g!==null){var x=u.pending;x===null?g.next=g:(g.next=x.next,x.next=g),u.pending=g}p!==0&&dy(l,g,p)}}function Fu(s,a,l,u){Bn[co++]=s,Bn[co++]=a,Bn[co++]=l,Bn[co++]=u,Pd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Ld(s,a,l,u){return Fu(s,a,l,u),Hu(s)}function aa(s,a){return Fu(s,null,null,a),Hu(s)}function dy(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-be(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Hu(s){if(50<sc)throw sc=0,Ym=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var uo={};function X1(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,a,l,u){return new X1(s,a,l,u)}function jd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,a){var l=s.alternate;return l===null?(l=Mn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function my(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function qu(s,a,l,u,g,p){var x=0;if(u=s,typeof s=="function")jd(s)&&(x=1);else if(typeof s=="string")x=JA(s,l,lt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=Mn(31,l,a,g),s.elementType=N,s.lanes=p,s;case M:return oa(l.children,g,p,a);case D:x=8,g|=24;break;case L:return s=Mn(12,l,a,g|2),s.elementType=L,s.lanes=p,s;case W:return s=Mn(13,l,a,g),s.elementType=W,s.lanes=p,s;case st:return s=Mn(19,l,a,g),s.elementType=st,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:x=10;break t;case F:x=9;break t;case Z:x=11;break t;case I:x=14;break t;case A:x=16,u=null;break t}x=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Mn(x,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function oa(s,a,l,u){return s=Mn(7,s,u,a),s.lanes=l,s}function zd(s,a,l){return s=Mn(6,s,null,a),s.lanes=l,s}function gy(s){var a=Mn(18,null,null,0);return a.stateNode=s,a}function Ud(s,a,l){return a=Mn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var py=new WeakMap;function Fn(s,a){if(typeof s=="object"&&s!==null){var l=py.get(s);return l!==void 0?l:(a={value:s,source:a,stack:dl(a)},py.set(s,a),a)}return{value:s,source:a,stack:dl(a)}}var ho=[],fo=0,Gu=null,Ll=0,Hn=[],qn=0,Zs=null,zi=1,Ui="";function fs(s,a){ho[fo++]=Ll,ho[fo++]=Gu,Gu=s,Ll=a}function _y(s,a,l){Hn[qn++]=zi,Hn[qn++]=Ui,Hn[qn++]=Zs,Zs=s;var u=zi;s=Ui;var g=32-be(u)-1;u&=~(1<<g),l+=1;var p=32-be(a)+g;if(30<p){var x=g-g%5;p=(u&(1<<x)-1).toString(32),u>>=x,g-=x,zi=1<<32-be(a)+g|l<<g|u,Ui=p+s}else zi=1<<p|l<<g|u,Ui=s}function Bd(s){s.return!==null&&(fs(s,1),_y(s,1,0))}function Fd(s){for(;s===Gu;)Gu=ho[--fo],ho[fo]=null,Ll=ho[--fo],ho[fo]=null;for(;s===Zs;)Zs=Hn[--qn],Hn[qn]=null,Ui=Hn[--qn],Hn[qn]=null,zi=Hn[--qn],Hn[qn]=null}function yy(s,a){Hn[qn++]=zi,Hn[qn++]=Ui,Hn[qn++]=Zs,zi=a.id,Ui=a.overflow,Zs=s}var Qe=null,ce=null,Ft=!1,Js=null,Gn=!1,Hd=Error(i(519));function tr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(Fn(a,s)),Hd}function vy(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Ce]=s,a[qe]=u,l){case"dialog":Pt("cancel",a),Pt("close",a);break;case"iframe":case"object":case"embed":Pt("load",a);break;case"video":case"audio":for(l=0;l<ac.length;l++)Pt(ac[l],a);break;case"source":Pt("error",a);break;case"img":case"image":case"link":Pt("error",a),Pt("load",a);break;case"details":Pt("toggle",a);break;case"input":Pt("invalid",a),wu(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",a);break;case"textarea":Pt("invalid",a),Gs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||P0(a.textContent,l)?(u.popover!=null&&(Pt("beforetoggle",a),Pt("toggle",a)),u.onScroll!=null&&Pt("scroll",a),u.onScrollEnd!=null&&Pt("scrollend",a),u.onClick!=null&&(a.onclick=oi),a=!0):a=!1,a||tr(s,!0)}function by(s){for(Qe=s.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Qe=Qe.return}}function mo(s){if(s!==Qe)return!1;if(!Ft)return by(s),Ft=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||og(s.type,s.memoizedProps)),l=!l),l&&ce&&tr(s),by(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=G0(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=G0(s)}else a===27?(a=ce,mr(s.type)?(s=fg,fg=null,ce=s):ce=a):ce=Qe?Kn(s.stateNode.nextSibling):null;return!0}function la(){ce=Qe=null,Ft=!1}function qd(){var s=Js;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),Js=null),s}function jl(s){Js===null?Js=[s]:Js.push(s)}var Gd=z(null),ca=null,ds=null;function er(s,a,l){at(Gd,a._currentValue),a._currentValue=l}function ms(s){s._currentValue=Gd.current,tt(Gd)}function Yd(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Kd(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var x=g.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=g;for(var V=0;V<a.length;V++)if(w.context===a[V]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),Yd(p.return,l,s),u||(x=null);break t}p=w.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(i(341));x.lanes|=l,p=x.alternate,p!==null&&(p.lanes|=l),Yd(x,l,s),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function go(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var w=g.type;In(g.pendingProps.value,x.value)||(s!==null?s.push(w):s=[w])}}else if(g===yt.current){if(x=g.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(hc):s=[hc])}g=g.return}s!==null&&Kd(a,s,l,u),a.flags|=262144}function Yu(s){for(s=s.firstContext;s!==null;){if(!In(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ua(s){ca=s,ds=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function We(s){return xy(ca,s)}function Ku(s,a){return ca===null&&ua(s),xy(s,a)}function xy(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ds===null){if(s===null)throw Error(i(308));ds=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ds=ds.next=a;return l}var $1=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Q1=n.unstable_scheduleCallback,W1=n.unstable_NormalPriority,De={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new $1,data:new Map,refCount:0}}function zl(s){s.refCount--,s.refCount===0&&Q1(W1,function(){s.controller.abort()})}var Ul=null,$d=0,po=0,_o=null;function Z1(s,a){if(Ul===null){var l=Ul=[];$d=0,po=Zm(),_o={status:"pending",value:void 0,then:function(u){l.push(u)}}}return $d++,a.then(Ty,Ty),a}function Ty(){if(--$d===0&&Ul!==null){_o!==null&&(_o.status="fulfilled");var s=Ul;Ul=null,po=0,_o=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function J1(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Ey=K.S;K.S=function(s,a){a0=mn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Z1(s,a),Ey!==null&&Ey(s,a)};var ha=z(null);function Qd(){var s=ha.current;return s!==null?s:le.pooledCache}function Xu(s,a){a===null?at(ha,ha.current):at(ha,a.pool)}function wy(){var s=Qd();return s===null?null:{parent:De._currentValue,pool:s}}var yo=Error(i(460)),Wd=Error(i(474)),$u=Error(i(542)),Qu={then:function(){}};function Sy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ay(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(oi,oi),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Cy(s),s;default:if(typeof a.status=="string")a.then(oi,oi);else{if(s=le,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Cy(s),s}throw da=a,yo}}function fa(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(da=l,yo):l}}var da=null;function Ry(){if(da===null)throw Error(i(459));var s=da;return da=null,s}function Cy(s){if(s===yo||s===$u)throw Error(i(483))}var vo=null,Bl=0;function Wu(s){var a=Bl;return Bl+=1,vo===null&&(vo=[]),Ay(vo,s,a)}function Fl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Zu(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Iy(s){function a(B,U){if(s){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function l(B,U){if(!s)return null;for(;U!==null;)a(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function g(B,U){return B=hs(B,U),B.index=0,B.sibling=null,B}function p(B,U,q){return B.index=q,s?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function x(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function w(B,U,q,et){return U===null||U.tag!==6?(U=zd(q,B.mode,et),U.return=B,U):(U=g(U,q),U.return=B,U)}function V(B,U,q,et){var vt=q.type;return vt===M?J(B,U,q.props.children,et,q.key):U!==null&&(U.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&fa(vt)===U.type)?(U=g(U,q.props),Fl(U,q),U.return=B,U):(U=qu(q.type,q.key,q.props,null,B.mode,et),Fl(U,q),U.return=B,U)}function G(B,U,q,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Ud(q,B.mode,et),U.return=B,U):(U=g(U,q.children||[]),U.return=B,U)}function J(B,U,q,et,vt){return U===null||U.tag!==7?(U=oa(q,B.mode,et,vt),U.return=B,U):(U=g(U,q),U.return=B,U)}function nt(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=zd(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return q=qu(U.type,U.key,U.props,null,B.mode,q),Fl(q,U),q.return=B,q;case C:return U=Ud(U,B.mode,q),U.return=B,U;case A:return U=fa(U),nt(B,U,q)}if(Et(U)||j(U))return U=oa(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return nt(B,Wu(U),q);if(U.$$typeof===X)return nt(B,Ku(B,U),q);Zu(B,U)}return null}function Y(B,U,q,et){var vt=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return vt!==null?null:w(B,U,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return q.key===vt?V(B,U,q,et):null;case C:return q.key===vt?G(B,U,q,et):null;case A:return q=fa(q),Y(B,U,q,et)}if(Et(q)||j(q))return vt!==null?null:J(B,U,q,et,null);if(typeof q.then=="function")return Y(B,U,Wu(q),et);if(q.$$typeof===X)return Y(B,U,Ku(B,q),et);Zu(B,q)}return null}function Q(B,U,q,et,vt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(q)||null,w(U,B,""+et,vt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case E:return B=B.get(et.key===null?q:et.key)||null,V(U,B,et,vt);case C:return B=B.get(et.key===null?q:et.key)||null,G(U,B,et,vt);case A:return et=fa(et),Q(B,U,q,et,vt)}if(Et(et)||j(et))return B=B.get(q)||null,J(U,B,et,vt,null);if(typeof et.then=="function")return Q(B,U,q,Wu(et),vt);if(et.$$typeof===X)return Q(B,U,q,Ku(U,et),vt);Zu(U,et)}return null}function mt(B,U,q,et){for(var vt=null,Kt=null,gt=U,Dt=U=0,jt=null;gt!==null&&Dt<q.length;Dt++){gt.index>Dt?(jt=gt,gt=null):jt=gt.sibling;var Xt=Y(B,gt,q[Dt],et);if(Xt===null){gt===null&&(gt=jt);break}s&&gt&&Xt.alternate===null&&a(B,gt),U=p(Xt,U,Dt),Kt===null?vt=Xt:Kt.sibling=Xt,Kt=Xt,gt=jt}if(Dt===q.length)return l(B,gt),Ft&&fs(B,Dt),vt;if(gt===null){for(;Dt<q.length;Dt++)gt=nt(B,q[Dt],et),gt!==null&&(U=p(gt,U,Dt),Kt===null?vt=gt:Kt.sibling=gt,Kt=gt);return Ft&&fs(B,Dt),vt}for(gt=u(gt);Dt<q.length;Dt++)jt=Q(gt,B,Dt,q[Dt],et),jt!==null&&(s&&jt.alternate!==null&&gt.delete(jt.key===null?Dt:jt.key),U=p(jt,U,Dt),Kt===null?vt=jt:Kt.sibling=jt,Kt=jt);return s&&gt.forEach(function(vr){return a(B,vr)}),Ft&&fs(B,Dt),vt}function Tt(B,U,q,et){if(q==null)throw Error(i(151));for(var vt=null,Kt=null,gt=U,Dt=U=0,jt=null,Xt=q.next();gt!==null&&!Xt.done;Dt++,Xt=q.next()){gt.index>Dt?(jt=gt,gt=null):jt=gt.sibling;var vr=Y(B,gt,Xt.value,et);if(vr===null){gt===null&&(gt=jt);break}s&&gt&&vr.alternate===null&&a(B,gt),U=p(vr,U,Dt),Kt===null?vt=vr:Kt.sibling=vr,Kt=vr,gt=jt}if(Xt.done)return l(B,gt),Ft&&fs(B,Dt),vt;if(gt===null){for(;!Xt.done;Dt++,Xt=q.next())Xt=nt(B,Xt.value,et),Xt!==null&&(U=p(Xt,U,Dt),Kt===null?vt=Xt:Kt.sibling=Xt,Kt=Xt);return Ft&&fs(B,Dt),vt}for(gt=u(gt);!Xt.done;Dt++,Xt=q.next())Xt=Q(gt,B,Dt,Xt.value,et),Xt!==null&&(s&&Xt.alternate!==null&&gt.delete(Xt.key===null?Dt:Xt.key),U=p(Xt,U,Dt),Kt===null?vt=Xt:Kt.sibling=Xt,Kt=Xt);return s&&gt.forEach(function(uR){return a(B,uR)}),Ft&&fs(B,Dt),vt}function oe(B,U,q,et){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case E:t:{for(var vt=q.key;U!==null;){if(U.key===vt){if(vt=q.type,vt===M){if(U.tag===7){l(B,U.sibling),et=g(U,q.props.children),et.return=B,B=et;break t}}else if(U.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&fa(vt)===U.type){l(B,U.sibling),et=g(U,q.props),Fl(et,q),et.return=B,B=et;break t}l(B,U);break}else a(B,U);U=U.sibling}q.type===M?(et=oa(q.props.children,B.mode,et,q.key),et.return=B,B=et):(et=qu(q.type,q.key,q.props,null,B.mode,et),Fl(et,q),et.return=B,B=et)}return x(B);case C:t:{for(vt=q.key;U!==null;){if(U.key===vt)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){l(B,U.sibling),et=g(U,q.children||[]),et.return=B,B=et;break t}else{l(B,U);break}else a(B,U);U=U.sibling}et=Ud(q,B.mode,et),et.return=B,B=et}return x(B);case A:return q=fa(q),oe(B,U,q,et)}if(Et(q))return mt(B,U,q,et);if(j(q)){if(vt=j(q),typeof vt!="function")throw Error(i(150));return q=vt.call(q),Tt(B,U,q,et)}if(typeof q.then=="function")return oe(B,U,Wu(q),et);if(q.$$typeof===X)return oe(B,U,Ku(B,q),et);Zu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(l(B,U.sibling),et=g(U,q),et.return=B,B=et):(l(B,U),et=zd(q,B.mode,et),et.return=B,B=et),x(B)):l(B,U)}return function(B,U,q,et){try{Bl=0;var vt=oe(B,U,q,et);return vo=null,vt}catch(gt){if(gt===yo||gt===$u)throw gt;var Kt=Mn(29,gt,null,B.mode);return Kt.lanes=et,Kt.return=B,Kt}finally{}}}var ma=Iy(!0),My=Iy(!1),nr=!1;function Zd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ir(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function sr(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Hu(s),dy(s,null,l),a}return Fu(s,u,a,l),Hu(s)}function Hl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,pl(s,l)}}function tm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=x:p=p.next=x,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var em=!1;function ql(){if(em){var s=_o;if(s!==null)throw s}}function Gl(s,a,l,u){em=!1;var g=s.updateQueue;nr=!1;var p=g.firstBaseUpdate,x=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var V=w,G=V.next;V.next=null,x===null?p=G:x.next=G,x=V;var J=s.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==x&&(w===null?J.firstBaseUpdate=G:w.next=G,J.lastBaseUpdate=V))}if(p!==null){var nt=g.baseState;x=0,J=G=V=null,w=p;do{var Y=w.lane&-536870913,Q=Y!==w.lane;if(Q?(Lt&Y)===Y:(u&Y)===Y){Y!==0&&Y===po&&(em=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var mt=s,Tt=w;Y=a;var oe=l;switch(Tt.tag){case 1:if(mt=Tt.payload,typeof mt=="function"){nt=mt.call(oe,nt,Y);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Tt.payload,Y=typeof mt=="function"?mt.call(oe,nt,Y):mt,Y==null)break t;nt=y({},nt,Y);break t;case 2:nr=!0}}Y=w.callback,Y!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=g.callbacks,Q===null?g.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(G=J=Q,V=nt):J=J.next=Q,x|=Y;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,g.lastBaseUpdate=Q,g.shared.pending=null}}while(!0);J===null&&(V=nt),g.baseState=V,g.firstBaseUpdate=G,g.lastBaseUpdate=J,p===null&&(g.shared.lanes=0),cr|=x,s.lanes=x,s.memoizedState=nt}}function Dy(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Ny(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Dy(l[s],a)}var bo=z(null),Ju=z(0);function Oy(s,a){s=Es,at(Ju,s),at(bo,a),Es=s|a.baseLanes}function nm(){at(Ju,Es),at(bo,bo.current)}function im(){Es=Ju.current,tt(bo),tt(Ju)}var Dn=z(null),Yn=null;function rr(s){var a=s.alternate;at(Te,Te.current&1),at(Dn,s),Yn===null&&(a===null||bo.current!==null||a.memoizedState!==null)&&(Yn=s)}function sm(s){at(Te,Te.current),at(Dn,s),Yn===null&&(Yn=s)}function ky(s){s.tag===22?(at(Te,Te.current),at(Dn,s),Yn===null&&(Yn=s)):ar()}function ar(){at(Te,Te.current),at(Dn,Dn.current)}function Nn(s){tt(Dn),Yn===s&&(Yn=null),tt(Te)}var Te=z(0);function th(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ug(l)||hg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var gs=0,Mt=null,re=null,Ne=null,eh=!1,xo=!1,ga=!1,nh=0,Yl=0,To=null,tA=0;function _e(){throw Error(i(321))}function rm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!In(s[l],a[l]))return!1;return!0}function am(s,a,l,u,g,p){return gs=p,Mt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=s===null||s.memoizedState===null?_v:xm,ga=!1,p=l(u,g),ga=!1,xo&&(p=Py(a,l,u,g)),Vy(s),p}function Vy(s){K.H=$l;var a=re!==null&&re.next!==null;if(gs=0,Ne=re=Mt=null,eh=!1,Yl=0,To=null,a)throw Error(i(300));s===null||Oe||(s=s.dependencies,s!==null&&Yu(s)&&(Oe=!0))}function Py(s,a,l,u){Mt=s;var g=0;do{if(xo&&(To=null),Yl=0,xo=!1,25<=g)throw Error(i(301));if(g+=1,Ne=re=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=yv,p=a(l,u)}while(xo);return p}function eA(){var s=K.H,a=s.useState()[0];return a=typeof a.then=="function"?Kl(a):a,s=s.useState()[0],(re!==null?re.memoizedState:null)!==s&&(Mt.flags|=1024),a}function om(){var s=nh!==0;return nh=0,s}function lm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function cm(s){if(eh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}eh=!1}gs=0,Ne=re=Mt=null,xo=!1,Yl=nh=0,To=null}function pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Mt.memoizedState=Ne=s:Ne=Ne.next=s,Ne}function Ee(){if(re===null){var s=Mt.alternate;s=s!==null?s.memoizedState:null}else s=re.next;var a=Ne===null?Mt.memoizedState:Ne.next;if(a!==null)Ne=a,re=s;else{if(s===null)throw Mt.alternate===null?Error(i(467)):Error(i(310));re=s,s={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Ne===null?Mt.memoizedState=Ne=s:Ne=Ne.next=s}return Ne}function ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(s){var a=Yl;return Yl+=1,To===null&&(To=[]),s=Ay(To,s,a),a=Mt,(Ne===null?a.memoizedState:Ne.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?_v:xm),s}function sh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Kl(s);if(s.$$typeof===X)return We(s)}throw Error(i(438,String(s)))}function um(s){var a=null,l=Mt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Mt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ih(),Mt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function ps(s,a){return typeof a=="function"?a(s):a}function rh(s){var a=Ee();return hm(a,re,s)}function hm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var x=g.next;g.next=p.next,p.next=x}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var w=x=null,V=null,G=a,J=!1;do{var nt=G.lane&-536870913;if(nt!==G.lane?(Lt&nt)===nt:(gs&nt)===nt){var Y=G.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),nt===po&&(J=!0);else if((gs&Y)===Y){G=G.next,Y===po&&(J=!0);continue}else nt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(w=V=nt,x=p):V=V.next=nt,Mt.lanes|=Y,cr|=Y;nt=G.action,ga&&l(p,nt),p=G.hasEagerState?G.eagerState:l(p,nt)}else Y={lane:nt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(w=V=Y,x=p):V=V.next=Y,Mt.lanes|=nt,cr|=nt;G=G.next}while(G!==null&&G!==a);if(V===null?x=p:V.next=w,!In(p,s.memoizedState)&&(Oe=!0,J&&(l=_o,l!==null)))throw l;s.memoizedState=p,s.baseState=x,s.baseQueue=V,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function fm(s){var a=Ee(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var x=g=g.next;do p=s(p,x.action),x=x.next;while(x!==g);In(p,a.memoizedState)||(Oe=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function Ly(s,a,l){var u=Mt,g=Ee(),p=Ft;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var x=!In((re||g).memoizedState,l);if(x&&(g.memoizedState=l,Oe=!0),g=g.queue,gm(Uy.bind(null,u,g,s),[s]),g.getSnapshot!==a||x||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,Eo(9,{destroy:void 0},zy.bind(null,u,g,l,a),null),le===null)throw Error(i(349));p||(gs&127)!==0||jy(u,a,l)}return l}function jy(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Mt.updateQueue,a===null?(a=ih(),Mt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function zy(s,a,l,u){a.value=l,a.getSnapshot=u,By(a)&&Fy(s)}function Uy(s,a,l){return l(function(){By(a)&&Fy(s)})}function By(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!In(s,l)}catch{return!0}}function Fy(s){var a=aa(s,2);a!==null&&En(a,s,2)}function dm(s){var a=pn();if(typeof s=="function"){var l=s;if(s=l(),ga){Pn(!0);try{l()}finally{Pn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:s},a}function Hy(s,a,l,u){return s.baseState=l,hm(s,re,typeof u=="function"?u:ps)}function nA(s,a,l,u,g){if(lh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};K.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,qy(a,p)):(p.next=l.next,a.pending=l.next=p)}}function qy(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=K.T,x={};K.T=x;try{var w=l(g,u),V=K.S;V!==null&&V(x,w),Gy(s,a,w)}catch(G){mm(s,a,G)}finally{p!==null&&x.types!==null&&(p.types=x.types),K.T=p}}else try{p=l(g,u),Gy(s,a,p)}catch(G){mm(s,a,G)}}function Gy(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Yy(s,a,u)},function(u){return mm(s,a,u)}):Yy(s,a,l)}function Yy(s,a,l){a.status="fulfilled",a.value=l,Ky(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,qy(s,l)))}function mm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Ky(a),a=a.next;while(a!==u)}s.action=null}function Ky(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Xy(s,a){return a}function $y(s,a){if(Ft){var l=le.formState;if(l!==null){t:{var u=Mt;if(Ft){if(ce){e:{for(var g=ce,p=Gn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Kn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){ce=Kn(g.nextSibling),u=g.data==="F!";break t}}tr(u)}u=!1}u&&(a=l[0])}}return l=pn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:a},l.queue=u,l=mv.bind(null,Mt,u),u.dispatch=l,u=dm(!1),p=bm.bind(null,Mt,!1,u.queue),u=pn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=nA.bind(null,Mt,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function Qy(s){var a=Ee();return Wy(a,re,s)}function Wy(s,a,l){if(a=hm(s,a,Xy)[0],s=rh(ps)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Kl(a)}catch(x){throw x===yo?$u:x}else u=a;a=Ee();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(Mt.flags|=2048,Eo(9,{destroy:void 0},iA.bind(null,g,l),null)),[u,p,s]}function iA(s,a){s.action=a}function Zy(s){var a=Ee(),l=re;if(l!==null)return Wy(a,l,s);Ee(),a=a.memoizedState,l=Ee();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Eo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Mt.updateQueue,a===null&&(a=ih(),Mt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Jy(){return Ee().memoizedState}function ah(s,a,l,u){var g=pn();Mt.flags|=s,g.memoizedState=Eo(1|a,{destroy:void 0},l,u===void 0?null:u)}function oh(s,a,l,u){var g=Ee();u=u===void 0?null:u;var p=g.memoizedState.inst;re!==null&&u!==null&&rm(u,re.memoizedState.deps)?g.memoizedState=Eo(a,p,l,u):(Mt.flags|=s,g.memoizedState=Eo(1|a,p,l,u))}function tv(s,a){ah(8390656,8,s,a)}function gm(s,a){oh(2048,8,s,a)}function sA(s){Mt.flags|=4;var a=Mt.updateQueue;if(a===null)a=ih(),Mt.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function ev(s){var a=Ee().memoizedState;return sA({ref:a,nextImpl:s}),function(){if((Qt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function nv(s,a){return oh(4,2,s,a)}function iv(s,a){return oh(4,4,s,a)}function sv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function rv(s,a,l){l=l!=null?l.concat([s]):null,oh(4,4,sv.bind(null,a,s),l)}function pm(){}function av(s,a){var l=Ee();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&rm(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function ov(s,a){var l=Ee();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&rm(a,u[1]))return u[0];if(u=s(),ga){Pn(!0);try{s()}finally{Pn(!1)}}return l.memoizedState=[u,a],u}function _m(s,a,l){return l===void 0||(gs&1073741824)!==0&&(Lt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=l0(),Mt.lanes|=s,cr|=s,l)}function lv(s,a,l,u){return In(l,a)?l:bo.current!==null?(s=_m(s,l,u),In(s,a)||(Oe=!0),s):(gs&42)===0||(gs&1073741824)!==0&&(Lt&261930)===0?(Oe=!0,s.memoizedState=l):(s=l0(),Mt.lanes|=s,cr|=s,a)}function cv(s,a,l,u,g){var p=ot.p;ot.p=p!==0&&8>p?p:8;var x=K.T,w={};K.T=w,bm(s,!1,a,l);try{var V=g(),G=K.S;if(G!==null&&G(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=J1(V,u);Xl(s,a,J,Vn(s))}else Xl(s,a,u,Vn(s))}catch(nt){Xl(s,a,{then:function(){},status:"rejected",reason:nt},Vn())}finally{ot.p=p,x!==null&&w.types!==null&&(x.types=w.types),K.T=x}}function rA(){}function ym(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=uv(s).queue;cv(s,g,a,ht,l===null?rA:function(){return hv(s),l(u)})}function uv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:ht},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function hv(s){var a=uv(s);a.next===null&&(a=s.alternate.memoizedState),Xl(s,a.next.queue,{},Vn())}function vm(){return We(hc)}function fv(){return Ee().memoizedState}function dv(){return Ee().memoizedState}function aA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Vn();s=ir(l);var u=sr(a,s,l);u!==null&&(En(u,a,l),Hl(u,a,l)),a={cache:Xd()},s.payload=a;return}a=a.return}}function oA(s,a,l){var u=Vn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},lh(s)?gv(a,l):(l=Ld(s,a,l,u),l!==null&&(En(l,s,u),pv(l,a,u)))}function mv(s,a,l){var u=Vn();Xl(s,a,l,u)}function Xl(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(lh(s))gv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var x=a.lastRenderedState,w=p(x,l);if(g.hasEagerState=!0,g.eagerState=w,In(w,x))return Fu(s,a,g,0),le===null&&Bu(),!1}catch{}finally{}if(l=Ld(s,a,g,u),l!==null)return En(l,s,u),pv(l,a,u),!0}return!1}function bm(s,a,l,u){if(u={lane:2,revertLane:Zm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lh(s)){if(a)throw Error(i(479))}else a=Ld(s,l,u,2),a!==null&&En(a,s,2)}function lh(s){var a=s.alternate;return s===Mt||a!==null&&a===Mt}function gv(s,a){xo=eh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function pv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,pl(s,l)}}var $l={readContext:We,use:sh,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};$l.useEffectEvent=_e;var _v={readContext:We,use:sh,useCallback:function(s,a){return pn().memoizedState=[s,a===void 0?null:a],s},useContext:We,useEffect:tv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,ah(4194308,4,sv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return ah(4194308,4,s,a)},useInsertionEffect:function(s,a){ah(4,2,s,a)},useMemo:function(s,a){var l=pn();a=a===void 0?null:a;var u=s();if(ga){Pn(!0);try{s()}finally{Pn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=pn();if(l!==void 0){var g=l(a);if(ga){Pn(!0);try{l(a)}finally{Pn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=oA.bind(null,Mt,s),[u.memoizedState,s]},useRef:function(s){var a=pn();return s={current:s},a.memoizedState=s},useState:function(s){s=dm(s);var a=s.queue,l=mv.bind(null,Mt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:pm,useDeferredValue:function(s,a){var l=pn();return _m(l,s,a)},useTransition:function(){var s=dm(!1);return s=cv.bind(null,Mt,s.queue,!0,!1),pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Mt,g=pn();if(Ft){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),le===null)throw Error(i(349));(Lt&127)!==0||jy(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,tv(Uy.bind(null,u,p,s),[s]),u.flags|=2048,Eo(9,{destroy:void 0},zy.bind(null,u,p,l,a),null),l},useId:function(){var s=pn(),a=le.identifierPrefix;if(Ft){var l=Ui,u=zi;l=(u&~(1<<32-be(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=nh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=tA++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:vm,useFormState:$y,useActionState:$y,useOptimistic:function(s){var a=pn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=bm.bind(null,Mt,!0,l),l.dispatch=a,[s,a]},useMemoCache:um,useCacheRefresh:function(){return pn().memoizedState=aA.bind(null,Mt)},useEffectEvent:function(s){var a=pn(),l={impl:s};return a.memoizedState=l,function(){if((Qt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},xm={readContext:We,use:sh,useCallback:av,useContext:We,useEffect:gm,useImperativeHandle:rv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:rh,useRef:Jy,useState:function(){return rh(ps)},useDebugValue:pm,useDeferredValue:function(s,a){var l=Ee();return lv(l,re.memoizedState,s,a)},useTransition:function(){var s=rh(ps)[0],a=Ee().memoizedState;return[typeof s=="boolean"?s:Kl(s),a]},useSyncExternalStore:Ly,useId:fv,useHostTransitionStatus:vm,useFormState:Qy,useActionState:Qy,useOptimistic:function(s,a){var l=Ee();return Hy(l,re,s,a)},useMemoCache:um,useCacheRefresh:dv};xm.useEffectEvent=ev;var yv={readContext:We,use:sh,useCallback:av,useContext:We,useEffect:gm,useImperativeHandle:rv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:fm,useRef:Jy,useState:function(){return fm(ps)},useDebugValue:pm,useDeferredValue:function(s,a){var l=Ee();return re===null?_m(l,s,a):lv(l,re.memoizedState,s,a)},useTransition:function(){var s=fm(ps)[0],a=Ee().memoizedState;return[typeof s=="boolean"?s:Kl(s),a]},useSyncExternalStore:Ly,useId:fv,useHostTransitionStatus:vm,useFormState:Zy,useActionState:Zy,useOptimistic:function(s,a){var l=Ee();return re!==null?Hy(l,re,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:um,useCacheRefresh:dv};yv.useEffectEvent=ev;function Tm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Em={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Vn(),g=ir(u);g.payload=a,l!=null&&(g.callback=l),a=sr(s,g,u),a!==null&&(En(a,s,u),Hl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Vn(),g=ir(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=sr(s,g,u),a!==null&&(En(a,s,u),Hl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Vn(),u=ir(l);u.tag=2,a!=null&&(u.callback=a),a=sr(s,u,l),a!==null&&(En(a,s,l),Hl(a,s,l))}};function vv(s,a,l,u,g,p,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,x):a.prototype&&a.prototype.isPureReactComponent?!Vl(l,u)||!Vl(g,p):!0}function bv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Em.enqueueReplaceState(a,a.state,null)}function pa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function xv(s){Uu(s)}function Tv(s){console.error(s)}function Ev(s){Uu(s)}function ch(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function wv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function wm(s,a,l){return l=ir(l),l.tag=3,l.payload={element:null},l.callback=function(){ch(s,a)},l}function Sv(s){return s=ir(s),s.tag=3,s}function Av(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){wv(a,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){wv(a,l,u),typeof g!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function lA(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&go(a,l,g,!0),l=Dn.current,l!==null){switch(l.tag){case 31:case 13:return Yn===null?xh():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Qu?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),$m(s,u,g)),!1;case 22:return l.flags|=65536,u===Qu?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),$m(s,u,g)),!1}throw Error(i(435,l.tag))}return $m(s,u,g),xh(),!1}if(Ft)return a=Dn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==Hd&&(s=Error(i(422),{cause:u}),jl(Fn(s,l)))):(u!==Hd&&(a=Error(i(423),{cause:u}),jl(Fn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Fn(u,l),g=wm(s.stateNode,u,g),tm(s,g),ye!==4&&(ye=2)),!1;var p=Error(i(520),{cause:u});if(p=Fn(p,l),ic===null?ic=[p]:ic.push(p),ye!==4&&(ye=2),a===null)return!0;u=Fn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=wm(l.stateNode,u,s),tm(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ur===null||!ur.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Sv(g),Av(g,s,l,u),tm(l,g),!1}l=l.return}while(l!==null);return!1}var Sm=Error(i(461)),Oe=!1;function Ze(s,a,l,u){a.child=s===null?My(a,null,l,u):ma(a,s.child,l,u)}function Rv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var x={};for(var w in u)w!=="ref"&&(x[w]=u[w])}else x=u;return ua(a),u=am(s,a,l,x,p,g),w=om(),s!==null&&!Oe?(lm(s,a,g),_s(s,a,g)):(Ft&&w&&Bd(a),a.flags|=1,Ze(s,a,u,g),a.child)}function Cv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!jd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Iv(s,a,p,u,g)):(s=qu(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Om(s,g)){var x=p.memoizedProps;if(l=l.compare,l=l!==null?l:Vl,l(x,u)&&s.ref===a.ref)return _s(s,a,g)}return a.flags|=1,s=hs(p,u),s.ref=a.ref,s.return=a,a.child=s}function Iv(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(Vl(p,u)&&s.ref===a.ref)if(Oe=!1,a.pendingProps=u=p,Om(s,g))(s.flags&131072)!==0&&(Oe=!0);else return a.lanes=s.lanes,_s(s,a,g)}return Am(s,a,l,u,g)}function Mv(s,a,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Dv(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Xu(a,p!==null?p.cachePool:null),p!==null?Oy(a,p):nm(),ky(a);else return u=a.lanes=536870912,Dv(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Xu(a,p.cachePool),Oy(a,p),ar(),a.memoizedState=null):(s!==null&&Xu(a,null),nm(),ar());return Ze(s,a,g,l),a.child}function Ql(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Dv(s,a,l,u,g){var p=Qd();return p=p===null?null:{parent:De._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Xu(a,null),nm(),ky(a),s!==null&&go(s,a,u,!0),a.childLanes=g,null}function uh(s,a){return a=fh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Nv(s,a,l){return ma(a,s.child,null,l),s=uh(a,a.pendingProps),s.flags|=2,Nn(a),a.memoizedState=null,s}function cA(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Ft){if(u.mode==="hidden")return s=uh(a,u),a.lanes=536870912,Ql(null,s);if(sm(a),(s=ce)?(s=q0(s,Gn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Zs!==null?{id:zi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},l=gy(s),l.return=a,a.child=l,Qe=a,ce=null)):s=null,s===null)throw tr(a);return a.lanes=536870912,null}return uh(a,u)}var p=s.memoizedState;if(p!==null){var x=p.dehydrated;if(sm(a),g)if(a.flags&256)a.flags&=-257,a=Nv(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Oe||go(s,a,l,!1),g=(l&s.childLanes)!==0,Oe||g){if(u=le,u!==null&&(x=_l(u,l),x!==0&&x!==p.retryLane))throw p.retryLane=x,aa(s,x),En(u,s,x),Sm;xh(),a=Nv(s,a,l)}else s=p.treeContext,ce=Kn(x.nextSibling),Qe=a,Ft=!0,Js=null,Gn=!1,s!==null&&yy(a,s),a=uh(a,u),a.flags|=4096;return a}return s=hs(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function hh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Am(s,a,l,u,g){return ua(a),l=am(s,a,l,u,void 0,g),u=om(),s!==null&&!Oe?(lm(s,a,g),_s(s,a,g)):(Ft&&u&&Bd(a),a.flags|=1,Ze(s,a,l,g),a.child)}function Ov(s,a,l,u,g,p){return ua(a),a.updateQueue=null,l=Py(a,u,l,g),Vy(s),u=om(),s!==null&&!Oe?(lm(s,a,p),_s(s,a,p)):(Ft&&u&&Bd(a),a.flags|=1,Ze(s,a,l,p),a.child)}function kv(s,a,l,u,g){if(ua(a),a.stateNode===null){var p=uo,x=l.contextType;typeof x=="object"&&x!==null&&(p=We(x)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Em,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Zd(a),x=l.contextType,p.context=typeof x=="object"&&x!==null?We(x):uo,p.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Tm(a,l,x,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Em.enqueueReplaceState(p,p.state,null),Gl(a,u,p,g),ql(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var w=a.memoizedProps,V=pa(l,w);p.props=V;var G=p.context,J=l.contextType;x=uo,typeof J=="object"&&J!==null&&(x=We(J));var nt=l.getDerivedStateFromProps;J=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||G!==x)&&bv(a,p,u,x),nr=!1;var Y=a.memoizedState;p.state=Y,Gl(a,u,p,g),ql(),G=a.memoizedState,w||Y!==G||nr?(typeof nt=="function"&&(Tm(a,l,nt,u),G=a.memoizedState),(V=nr||vv(a,l,V,u,Y,G,x))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=G),p.props=u,p.state=G,p.context=x,u=V):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Jd(s,a),x=a.memoizedProps,J=pa(l,x),p.props=J,nt=a.pendingProps,Y=p.context,G=l.contextType,V=uo,typeof G=="object"&&G!==null&&(V=We(G)),w=l.getDerivedStateFromProps,(G=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==nt||Y!==V)&&bv(a,p,u,V),nr=!1,Y=a.memoizedState,p.state=Y,Gl(a,u,p,g),ql();var Q=a.memoizedState;x!==nt||Y!==Q||nr||s!==null&&s.dependencies!==null&&Yu(s.dependencies)?(typeof w=="function"&&(Tm(a,l,w,u),Q=a.memoizedState),(J=nr||vv(a,l,J,u,Y,Q,V)||s!==null&&s.dependencies!==null&&Yu(s.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Q,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Q,V)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Q),p.props=u,p.state=Q,p.context=V,u=J):(typeof p.componentDidUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,hh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=ma(a,s.child,null,g),a.child=ma(a,null,l,g)):Ze(s,a,l,g),a.memoizedState=p.state,s=a.child):s=_s(s,a,g),s}function Vv(s,a,l,u){return la(),a.flags|=256,Ze(s,a,l,u),a.child}var Rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cm(s){return{baseLanes:s,cachePool:wy()}}function Im(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=kn),s}function Pv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,x;if((x=p)||(x=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),x&&(g=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ft){if(g?rr(a):ar(),(s=ce)?(s=q0(s,Gn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Zs!==null?{id:zi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},l=gy(s),l.return=a,a.child=l,Qe=a,ce=null)):s=null,s===null)throw tr(a);return hg(s)?a.lanes=32:a.lanes=536870912,null}var w=u.children;return u=u.fallback,g?(ar(),g=a.mode,w=fh({mode:"hidden",children:w},g),u=oa(u,g,l,null),w.return=a,u.return=a,w.sibling=u,a.child=w,u=a.child,u.memoizedState=Cm(l),u.childLanes=Im(s,x,l),a.memoizedState=Rm,Ql(null,u)):(rr(a),Mm(a,w))}var V=s.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(p)a.flags&256?(rr(a),a.flags&=-257,a=Dm(s,a,l)):a.memoizedState!==null?(ar(),a.child=s.child,a.flags|=128,a=null):(ar(),w=u.fallback,g=a.mode,u=fh({mode:"visible",children:u.children},g),w=oa(w,g,l,null),w.flags|=2,u.return=a,w.return=a,u.sibling=w,a.child=u,ma(a,s.child,null,l),u=a.child,u.memoizedState=Cm(l),u.childLanes=Im(s,x,l),a.memoizedState=Rm,a=Ql(null,u));else if(rr(a),hg(w)){if(x=w.nextSibling&&w.nextSibling.dataset,x)var G=x.dgst;x=G,u=Error(i(419)),u.stack="",u.digest=x,jl({value:u,source:null,stack:null}),a=Dm(s,a,l)}else if(Oe||go(s,a,l,!1),x=(l&s.childLanes)!==0,Oe||x){if(x=le,x!==null&&(u=_l(x,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,aa(s,u),En(x,s,u),Sm;ug(w)||xh(),a=Dm(s,a,l)}else ug(w)?(a.flags|=192,a.child=s.child,a=null):(s=V.treeContext,ce=Kn(w.nextSibling),Qe=a,Ft=!0,Js=null,Gn=!1,s!==null&&yy(a,s),a=Mm(a,u.children),a.flags|=4096);return a}return g?(ar(),w=u.fallback,g=a.mode,V=s.child,G=V.sibling,u=hs(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,G!==null?w=hs(G,w):(w=oa(w,g,l,null),w.flags|=2),w.return=a,u.return=a,u.sibling=w,a.child=u,Ql(null,u),u=a.child,w=s.child.memoizedState,w===null?w=Cm(l):(g=w.cachePool,g!==null?(V=De._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=wy(),w={baseLanes:w.baseLanes|l,cachePool:g}),u.memoizedState=w,u.childLanes=Im(s,x,l),a.memoizedState=Rm,Ql(s.child,u)):(rr(a),l=s.child,s=l.sibling,l=hs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=l,a.memoizedState=null,l)}function Mm(s,a){return a=fh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function fh(s,a){return s=Mn(22,s,null,a),s.lanes=0,s}function Dm(s,a,l){return ma(a,s.child,null,l),s=Mm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Lv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Yd(s.return,a,l)}function Nm(s,a,l,u,g,p){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=g,x.treeForkCount=p)}function jv(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var x=Te.current,w=(x&2)!==0;if(w?(x=x&1|2,a.flags|=128):x&=1,at(Te,x),Ze(s,a,u,l),u=Ft?Ll:0,!w&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lv(s,l,a);else if(s.tag===19)Lv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&th(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Nm(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&th(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Nm(a,!0,l,null,p,u);break;case"together":Nm(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function _s(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),cr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(go(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=hs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=hs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Om(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Yu(s)))}function uA(s,a,l){switch(a.tag){case 3:qt(a,a.stateNode.containerInfo),er(a,De,s.memoizedState.cache),la();break;case 27:case 5:rn(a);break;case 4:qt(a,a.stateNode.containerInfo);break;case 10:er(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,sm(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(rr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Pv(s,a,l):(rr(a),s=_s(s,a,l),s!==null?s.sibling:null);rr(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(go(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return jv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(Te,Te.current),u)break;return null;case 22:return a.lanes=0,Mv(s,a,l,a.pendingProps);case 24:er(a,De,s.memoizedState.cache)}return _s(s,a,l)}function zv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Oe=!0;else{if(!Om(s,l)&&(a.flags&128)===0)return Oe=!1,uA(s,a,l);Oe=(s.flags&131072)!==0}else Oe=!1,Ft&&(a.flags&1048576)!==0&&_y(a,Ll,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=fa(a.elementType),a.type=s,typeof s=="function")jd(s)?(u=pa(s,u),a.tag=1,a=kv(null,a,s,u,l)):(a.tag=0,a=Am(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===Z){a.tag=11,a=Rv(null,a,s,u,l);break t}else if(g===I){a.tag=14,a=Cv(null,a,s,u,l);break t}}throw a=Nt(s)||s,Error(i(306,a,""))}}return a;case 0:return Am(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=pa(u,a.pendingProps),kv(s,a,u,g,l);case 3:t:{if(qt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,Jd(s,a),Gl(a,u,null,l);var x=a.memoizedState;if(u=x.cache,er(a,De,u),u!==p.cache&&Kd(a,[De],l,!0),ql(),u=x.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Vv(s,a,u,l);break t}else if(u!==g){g=Fn(Error(i(424)),a),jl(g),a=Vv(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ce=Kn(s.firstChild),Qe=a,Ft=!0,Js=null,Gn=!0,l=My(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(la(),u===g){a=_s(s,a,l);break t}Ze(s,a,u,l)}a=a.child}return a;case 26:return hh(s,a),s===null?(l=Q0(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ft||(l=a.type,s=a.pendingProps,u=Ch(_t.current).createElement(l),u[Ce]=a,u[qe]=s,Je(u,l,s),Ie(u),a.stateNode=u):a.memoizedState=Q0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return rn(a),s===null&&Ft&&(u=a.stateNode=K0(a.type,a.pendingProps,_t.current),Qe=a,Gn=!0,g=ce,mr(a.type)?(fg=g,ce=Kn(u.firstChild)):ce=g),Ze(s,a,a.pendingProps.children,l),hh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ft&&((g=u=ce)&&(u=UA(u,a.type,a.pendingProps,Gn),u!==null?(a.stateNode=u,Qe=a,ce=Kn(u.firstChild),Gn=!1,g=!0):g=!1),g||tr(a)),rn(a),g=a.type,p=a.pendingProps,x=s!==null?s.memoizedProps:null,u=p.children,og(g,p)?u=null:x!==null&&og(g,x)&&(a.flags|=32),a.memoizedState!==null&&(g=am(s,a,eA,null,null,l),hc._currentValue=g),hh(s,a),Ze(s,a,u,l),a.child;case 6:return s===null&&Ft&&((s=l=ce)&&(l=BA(l,a.pendingProps,Gn),l!==null?(a.stateNode=l,Qe=a,ce=null,s=!0):s=!1),s||tr(a)),null;case 13:return Pv(s,a,l);case 4:return qt(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=ma(a,null,u,l):Ze(s,a,u,l),a.child;case 11:return Rv(s,a,a.type,a.pendingProps,l);case 7:return Ze(s,a,a.pendingProps,l),a.child;case 8:return Ze(s,a,a.pendingProps.children,l),a.child;case 12:return Ze(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,er(a,a.type,u.value),Ze(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,ua(a),g=We(g),u=u(g),a.flags|=1,Ze(s,a,u,l),a.child;case 14:return Cv(s,a,a.type,a.pendingProps,l);case 15:return Iv(s,a,a.type,a.pendingProps,l);case 19:return jv(s,a,l);case 31:return cA(s,a,l);case 22:return Mv(s,a,l,a.pendingProps);case 24:return ua(a),u=We(De),s===null?(g=Qd(),g===null&&(g=le,p=Xd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},Zd(a),er(a,De,g)):((s.lanes&l)!==0&&(Jd(s,a),Gl(a,null,null,l),ql()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),er(a,De,u)):(u=p.cache,er(a,De,u),u!==g.cache&&Kd(a,[De],l,!0))),Ze(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ys(s){s.flags|=4}function km(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(f0())s.flags|=8192;else throw da=Qu,Wd}else s.flags&=-16777217}function Uv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!eb(a))if(f0())s.flags|=8192;else throw da=Qu,Wd}function dh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?vu():536870912,s.lanes|=a,Ro|=a)}function Wl(s,a){if(!Ft)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ue(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function hA(s,a,l){var u=a.pendingProps;switch(Fd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(a),null;case 1:return ue(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ms(De),Yt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(mo(a)?ys(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qd())),ue(a),null;case 26:var g=a.type,p=a.memoizedState;return s===null?(ys(a),p!==null?(ue(a),Uv(a,p)):(ue(a),km(a,g,null,u,l))):p?p!==s.memoizedState?(ys(a),ue(a),Uv(a,p)):(ue(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&ys(a),ue(a),km(a,g,s,u,l)),null;case 27:if(bi(a),l=_t.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}s=lt.current,mo(a)?vy(a):(s=K0(g,u,l),a.stateNode=s,ys(a))}return ue(a),null;case 5:if(bi(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}if(p=lt.current,mo(a))vy(a);else{var x=Ch(_t.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?x.createElement(g,{is:u.is}):x.createElement(g)}}p[Ce]=a,p[qe]=u;t:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break t;for(;x.sibling===null;){if(x.return===null||x.return===a)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=p;t:switch(Je(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ys(a)}}return ue(a),km(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=_t.current,mo(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=Qe,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Ce]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||P0(s.nodeValue,l)),s||tr(a,!0)}else s=Ch(s).createTextNode(u),s[Ce]=a,a.stateNode=s}return ue(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=mo(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ce]=a}else la(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),s=!1}else l=qd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Nn(a),a):(Nn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ue(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=mo(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ce]=a}else la(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),g=!1}else g=qd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Nn(a),a):(Nn(a),null)}return Nn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),dh(a,a.updateQueue),ue(a),null);case 4:return Yt(),s===null&&ng(a.stateNode.containerInfo),ue(a),null;case 10:return ms(a.type),ue(a),null;case 19:if(tt(Te),u=a.memoizedState,u===null)return ue(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)Wl(u,!1);else{if(ye!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=th(s),p!==null){for(a.flags|=128,Wl(u,!1),s=p.updateQueue,a.updateQueue=s,dh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)my(l,s),l=l.sibling;return at(Te,Te.current&1|2),Ft&&fs(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&mn()>yh&&(a.flags|=128,g=!0,Wl(u,!1),a.lanes=4194304)}else{if(!g)if(s=th(p),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,dh(a,s),Wl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ft)return ue(a),null}else 2*mn()-u.renderingStartTime>yh&&l!==536870912&&(a.flags|=128,g=!0,Wl(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=mn(),s.sibling=null,l=Te.current,at(Te,g?l&1|2:l&1),Ft&&fs(a,u.treeForkCount),s):(ue(a),null);case 22:case 23:return Nn(a),im(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ue(a),a.subtreeFlags&6&&(a.flags|=8192)):ue(a),l=a.updateQueue,l!==null&&dh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&tt(ha),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ms(De),ue(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function fA(s,a){switch(Fd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ms(De),Yt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return bi(a),null;case 31:if(a.memoizedState!==null){if(Nn(a),a.alternate===null)throw Error(i(340));la()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Nn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));la()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return tt(Te),null;case 4:return Yt(),null;case 10:return ms(a.type),null;case 22:case 23:return Nn(a),im(),s!==null&&tt(ha),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ms(De),null;case 25:return null;default:return null}}function Bv(s,a){switch(Fd(a),a.tag){case 3:ms(De),Yt();break;case 26:case 27:case 5:bi(a);break;case 4:Yt();break;case 31:a.memoizedState!==null&&Nn(a);break;case 13:Nn(a);break;case 19:tt(Te);break;case 10:ms(a.type);break;case 22:case 23:Nn(a),im(),s!==null&&tt(ha);break;case 24:ms(De)}}function Zl(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,x=l.inst;u=p(),x.destroy=u}l=l.next}while(l!==g)}}catch(w){ee(a,a.return,w)}}function or(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var x=u.inst,w=x.destroy;if(w!==void 0){x.destroy=void 0,g=a;var V=l,G=w;try{G()}catch(J){ee(g,V,J)}}}u=u.next}while(u!==p)}}catch(J){ee(a,a.return,J)}}function Fv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Ny(a,l)}catch(u){ee(s,s.return,u)}}}function Hv(s,a,l){l.props=pa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){ee(s,a,u)}}function Jl(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){ee(s,a,g)}}function Bi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){ee(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ee(s,a,g)}else l.current=null}function qv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){ee(s,s.return,g)}}function Vm(s,a,l){try{var u=s.stateNode;kA(u,s.type,l,a),u[qe]=a}catch(g){ee(s,s.return,g)}}function Gv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&mr(s.type)||s.tag===4}function Pm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Gv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&mr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=oi));else if(u!==4&&(u===27&&mr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Lm(s,a,l),s=s.sibling;s!==null;)Lm(s,a,l),s=s.sibling}function mh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&mr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(mh(s,a,l),s=s.sibling;s!==null;)mh(s,a,l),s=s.sibling}function Yv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Je(a,u,l),a[Ce]=s,a[qe]=l}catch(p){ee(s,s.return,p)}}var vs=!1,ke=!1,jm=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function dA(s,a){if(s=s.containerInfo,rg=Vh,s=ry(s),Dd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var x=0,w=-1,V=-1,G=0,J=0,nt=s,Y=null;e:for(;;){for(var Q;nt!==l||g!==0&&nt.nodeType!==3||(w=x+g),nt!==p||u!==0&&nt.nodeType!==3||(V=x+u),nt.nodeType===3&&(x+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)Y=nt,nt=Q;for(;;){if(nt===s)break e;if(Y===l&&++G===g&&(w=x),Y===p&&++J===u&&(V=x),(Q=nt.nextSibling)!==null)break;nt=Y,Y=nt.parentNode}nt=Q}l=w===-1||V===-1?null:{start:w,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(ag={focusedElem:s,selectionRange:l},Vh=!1,Ye=a;Ye!==null;)if(a=Ye,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ye=s;else for(;Ye!==null;){switch(a=Ye,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var mt=pa(l.type,g);s=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(Tt){ee(l,l.return,Tt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)cg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":cg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ye=s;break}Ye=a.return}}function Xv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:xs(s,l),u&4&&Zl(5,l);break;case 1:if(xs(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(x){ee(l,l.return,x)}else{var g=pa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){ee(l,l.return,x)}}u&64&&Fv(l),u&512&&Jl(l,l.return);break;case 3:if(xs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Ny(s,a)}catch(x){ee(l,l.return,x)}}break;case 27:a===null&&u&4&&Yv(l);case 26:case 5:xs(s,l),a===null&&u&4&&qv(l),u&512&&Jl(l,l.return);break;case 12:xs(s,l);break;case 31:xs(s,l),u&4&&Wv(s,l);break;case 13:xs(s,l),u&4&&Zv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=TA.bind(null,l),FA(s,l))));break;case 22:if(u=l.memoizedState!==null||vs,!u){a=a!==null&&a.memoizedState!==null||ke,g=vs;var p=ke;vs=u,(ke=a)&&!p?Ts(s,l,(l.subtreeFlags&8772)!==0):xs(s,l),vs=g,ke=p}break;case 30:break;default:xs(s,l)}}function $v(s){var a=s.alternate;a!==null&&(s.alternate=null,$v(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Qa(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ge=null,vn=!1;function bs(s,a,l){for(l=l.child;l!==null;)Qv(s,a,l),l=l.sibling}function Qv(s,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ii,l)}catch{}switch(l.tag){case 26:ke||Bi(l,a),bs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ke||Bi(l,a);var u=ge,g=vn;mr(l.type)&&(ge=l.stateNode,vn=!1),bs(s,a,l),lc(l.stateNode),ge=u,vn=g;break;case 5:ke||Bi(l,a);case 6:if(u=ge,g=vn,ge=null,bs(s,a,l),ge=u,vn=g,ge!==null)if(vn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(l.stateNode)}catch(p){ee(l,a,p)}else try{ge.removeChild(l.stateNode)}catch(p){ee(l,a,p)}break;case 18:ge!==null&&(vn?(s=ge,F0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Vo(s)):F0(ge,l.stateNode));break;case 4:u=ge,g=vn,ge=l.stateNode.containerInfo,vn=!0,bs(s,a,l),ge=u,vn=g;break;case 0:case 11:case 14:case 15:or(2,l,a),ke||or(4,l,a),bs(s,a,l);break;case 1:ke||(Bi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Hv(l,a,u)),bs(s,a,l);break;case 21:bs(s,a,l);break;case 22:ke=(u=ke)||l.memoizedState!==null,bs(s,a,l),ke=u;break;default:bs(s,a,l)}}function Wv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Vo(s)}catch(l){ee(a,a.return,l)}}}function Zv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vo(s)}catch(l){ee(a,a.return,l)}}function mA(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Kv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Kv),a;default:throw Error(i(435,s.tag))}}function gh(s,a){var l=mA(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=EA.bind(null,s,u);u.then(g,g)}})}function bn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,x=a,w=x;t:for(;w!==null;){switch(w.tag){case 27:if(mr(w.type)){ge=w.stateNode,vn=!1;break t}break;case 5:ge=w.stateNode,vn=!1;break t;case 3:case 4:ge=w.stateNode.containerInfo,vn=!0;break t}w=w.return}if(ge===null)throw Error(i(160));Qv(p,x,g),ge=null,vn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Jv(a,s),a=a.sibling}var di=null;function Jv(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:bn(a,s),xn(s),u&4&&(or(3,s,s.return),Zl(3,s),or(5,s,s.return));break;case 1:bn(a,s),xn(s),u&512&&(ke||l===null||Bi(l,l.return)),u&64&&vs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=di;if(bn(a,s),xn(s),u&512&&(ke||l===null||Bi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Ri]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Je(p,u,l),p[Ce]=s,Ie(p),u=p;break t;case"link":var x=J0("link","href",g).get(u+(l.href||""));if(x){for(var w=0;w<x.length;w++)if(p=x[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(w,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;case"meta":if(x=J0("meta","content",g).get(u+(l.content||""))){for(w=0;w<x.length;w++)if(p=x[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(w,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ce]=s,Ie(p),u=p}s.stateNode=u}else tb(g,s.type,s.stateNode);else s.stateNode=Z0(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?tb(g,s.type,s.stateNode):Z0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Vm(s,s.memoizedProps,l.memoizedProps)}break;case 27:bn(a,s),xn(s),u&512&&(ke||l===null||Bi(l,l.return)),l!==null&&u&4&&Vm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(bn(a,s),xn(s),u&512&&(ke||l===null||Bi(l,l.return)),s.flags&32){g=s.stateNode;try{yn(g,"")}catch(mt){ee(s,s.return,mt)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Vm(s,g,l!==null?l.memoizedProps:g)),u&1024&&(jm=!0);break;case 6:if(bn(a,s),xn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(mt){ee(s,s.return,mt)}}break;case 3:if(Dh=null,g=di,di=Ih(a.containerInfo),bn(a,s),di=g,xn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Vo(a.containerInfo)}catch(mt){ee(s,s.return,mt)}jm&&(jm=!1,t0(s));break;case 4:u=di,di=Ih(s.stateNode.containerInfo),bn(a,s),xn(s),di=u;break;case 12:bn(a,s),xn(s);break;case 31:bn(a,s),xn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 13:bn(a,s),xn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_h=mn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 22:g=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,G=vs,J=ke;if(vs=G||g,ke=J||V,bn(a,s),ke=J,vs=G,xn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||V||vs||ke||_a(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){V=l=a;try{if(p=V.stateNode,g)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{w=V.stateNode;var nt=V.memoizedProps.style,Y=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(mt){ee(V,V.return,mt)}}}else if(a.tag===6){if(l===null){V=a;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(mt){ee(V,V.return,mt)}}}else if(a.tag===18){if(l===null){V=a;try{var Q=V.stateNode;g?H0(Q,!0):H0(V.stateNode,!1)}catch(mt){ee(V,V.return,mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,gh(s,l))));break;case 19:bn(a,s),xn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gh(s,u)));break;case 30:break;case 21:break;default:bn(a,s),xn(s)}}function xn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Gv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=Pm(s);mh(s,p,g);break;case 5:var x=l.stateNode;l.flags&32&&(yn(x,""),l.flags&=-33);var w=Pm(s);mh(s,w,x);break;case 3:case 4:var V=l.stateNode.containerInfo,G=Pm(s);Lm(s,G,V);break;default:throw Error(i(161))}}catch(J){ee(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function t0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;t0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function xs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Xv(s,a.alternate,a),a=a.sibling}function _a(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:or(4,a,a.return),_a(a);break;case 1:Bi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Hv(a,a.return,l),_a(a);break;case 27:lc(a.stateNode);case 26:case 5:Bi(a,a.return),_a(a);break;case 22:a.memoizedState===null&&_a(a);break;case 30:_a(a);break;default:_a(a)}s=s.sibling}}function Ts(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,x=p.flags;switch(p.tag){case 0:case 11:case 15:Ts(g,p,l),Zl(4,p);break;case 1:if(Ts(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){ee(u,u.return,G)}if(u=p,g=u.updateQueue,g!==null){var w=u.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)Dy(V[g],w)}catch(G){ee(u,u.return,G)}}l&&x&64&&Fv(p),Jl(p,p.return);break;case 27:Yv(p);case 26:case 5:Ts(g,p,l),l&&u===null&&x&4&&qv(p),Jl(p,p.return);break;case 12:Ts(g,p,l);break;case 31:Ts(g,p,l),l&&x&4&&Wv(g,p);break;case 13:Ts(g,p,l),l&&x&4&&Zv(g,p);break;case 22:p.memoizedState===null&&Ts(g,p,l),Jl(p,p.return);break;case 30:break;default:Ts(g,p,l)}a=a.sibling}}function zm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&zl(l))}function Um(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&zl(s))}function mi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)e0(s,a,l,u),a=a.sibling}function e0(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:mi(s,a,l,u),g&2048&&Zl(9,a);break;case 1:mi(s,a,l,u);break;case 3:mi(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&zl(s)));break;case 12:if(g&2048){mi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,x=p.id,w=p.onPostCommit;typeof w=="function"&&w(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){ee(a,a.return,V)}}else mi(s,a,l,u);break;case 31:mi(s,a,l,u);break;case 13:mi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,x=a.alternate,a.memoizedState!==null?p._visibility&2?mi(s,a,l,u):tc(s,a):p._visibility&2?mi(s,a,l,u):(p._visibility|=2,wo(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&zm(x,a);break;case 24:mi(s,a,l,u),g&2048&&Um(a.alternate,a);break;default:mi(s,a,l,u)}}function wo(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,x=a,w=l,V=u,G=x.flags;switch(x.tag){case 0:case 11:case 15:wo(p,x,w,V,g),Zl(8,x);break;case 23:break;case 22:var J=x.stateNode;x.memoizedState!==null?J._visibility&2?wo(p,x,w,V,g):tc(p,x):(J._visibility|=2,wo(p,x,w,V,g)),g&&G&2048&&zm(x.alternate,x);break;case 24:wo(p,x,w,V,g),g&&G&2048&&Um(x.alternate,x);break;default:wo(p,x,w,V,g)}a=a.sibling}}function tc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:tc(l,u),g&2048&&zm(u.alternate,u);break;case 24:tc(l,u),g&2048&&Um(u.alternate,u);break;default:tc(l,u)}a=a.sibling}}var ec=8192;function So(s,a,l){if(s.subtreeFlags&ec)for(s=s.child;s!==null;)n0(s,a,l),s=s.sibling}function n0(s,a,l){switch(s.tag){case 26:So(s,a,l),s.flags&ec&&s.memoizedState!==null&&tR(l,di,s.memoizedState,s.memoizedProps);break;case 5:So(s,a,l);break;case 3:case 4:var u=di;di=Ih(s.stateNode.containerInfo),So(s,a,l),di=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=ec,ec=16777216,So(s,a,l),ec=u):So(s,a,l));break;default:So(s,a,l)}}function i0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function nc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,r0(u,s)}i0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)s0(s),s=s.sibling}function s0(s){switch(s.tag){case 0:case 11:case 15:nc(s),s.flags&2048&&or(9,s,s.return);break;case 3:nc(s);break;case 12:nc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,ph(s)):nc(s);break;default:nc(s)}}function ph(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,r0(u,s)}i0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:or(8,a,a.return),ph(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ph(a));break;default:ph(a)}s=s.sibling}}function r0(s,a){for(;Ye!==null;){var l=Ye;switch(l.tag){case 0:case 11:case 15:or(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:zl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ye=u;else t:for(l=s;Ye!==null;){u=Ye;var g=u.sibling,p=u.return;if($v(u),u===l){Ye=null;break t}if(g!==null){g.return=p,Ye=g;break t}Ye=p}}}var gA={getCacheForType:function(s){var a=We(De),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return We(De).controller.signal}},pA=typeof WeakMap=="function"?WeakMap:Map,Qt=0,le=null,Vt=null,Lt=0,te=0,On=null,lr=!1,Ao=!1,Bm=!1,Es=0,ye=0,cr=0,ya=0,Fm=0,kn=0,Ro=0,ic=null,Tn=null,Hm=!1,_h=0,a0=0,yh=1/0,vh=null,ur=null,je=0,hr=null,Co=null,ws=0,qm=0,Gm=null,o0=null,sc=0,Ym=null;function Vn(){return(Qt&2)!==0&&Lt!==0?Lt&-Lt:K.T!==null?Zm():bu()}function l0(){if(kn===0)if((Lt&536870912)===0||Ft){var s=Gr;Gr<<=1,(Gr&3932160)===0&&(Gr=262144),kn=s}else kn=536870912;return s=Dn.current,s!==null&&(s.flags|=32),kn}function En(s,a,l){(s===le&&(te===2||te===9)||s.cancelPendingCommit!==null)&&(Io(s,0),fr(s,Lt,kn,!1)),Yr(s,l),((Qt&2)===0||s!==le)&&(s===le&&((Qt&2)===0&&(ya|=l),ye===4&&fr(s,Lt,kn,!1)),Fi(s))}function c0(s,a,l){if((Qt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||si(s,a),g=u?vA(s,a):Xm(s,a,!0),p=u;do{if(g===0){Ao&&!u&&fr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!_A(l)){g=Xm(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var w=s;g=ic;var V=w.current.memoizedState.isDehydrated;if(V&&(Io(w,x).flags|=256),x=Xm(w,x,!1),x!==2){if(Bm&&!V){w.errorRecoveryDisabledLanes|=p,ya|=p,g=4;break t}p=Tn,Tn=g,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}g=x}if(p=!1,g!==2)continue}}if(g===1){Io(s,0),fr(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:fr(u,a,kn,!lr);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=_h+300-mn(),10<g)){if(fr(u,a,kn,!lr),wi(u,0,!0)!==0)break t;ws=a,u.timeoutHandle=U0(u0.bind(null,u,l,Tn,vh,Hm,a,kn,ya,Ro,lr,p,"Throttled",-0,0),g);break t}u0(u,l,Tn,vh,Hm,a,kn,ya,Ro,lr,p,null,-0,0)}}break}while(!0);Fi(s)}function u0(s,a,l,u,g,p,x,w,V,G,J,nt,Y,Q){if(s.timeoutHandle=-1,nt=a.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},n0(a,p,nt);var mt=(p&62914560)===p?_h-mn():(p&4194048)===p?a0-mn():0;if(mt=eR(nt,mt),mt!==null){ws=p,s.cancelPendingCommit=mt(y0.bind(null,s,a,p,l,u,g,x,w,V,J,nt,null,Y,Q)),fr(s,p,x,!G);return}}y0(s,a,p,l,u,g,x,w,V)}function _A(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!In(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fr(s,a,l,u){a&=~Fm,a&=~ya,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-be(g),x=1<<p;u[p]=-1,g&=~x}l!==0&&Kr(s,l,a)}function bh(){return(Qt&6)===0?(rc(0),!1):!0}function Km(){if(Vt!==null){if(te===0)var s=Vt.return;else s=Vt,ds=ca=null,cm(s),vo=null,Bl=0,s=Vt;for(;s!==null;)Bv(s.alternate,s),s=s.return;Vt=null}}function Io(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,LA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ws=0,Km(),le=s,Vt=l=hs(s.current,null),Lt=a,te=0,On=null,lr=!1,Ao=si(s,a),Bm=!1,Ro=kn=Fm=ya=cr=ye=0,Tn=ic=null,Hm=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-be(u),p=1<<g;a|=s[g],u&=~p}return Es=a,Bu(),l}function h0(s,a){Mt=null,K.H=$l,a===yo||a===$u?(a=Ry(),te=3):a===Wd?(a=Ry(),te=4):te=a===Sm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,On=a,Vt===null&&(ye=1,ch(s,Fn(a,s.current)))}function f0(){var s=Dn.current;return s===null?!0:(Lt&4194048)===Lt?Yn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?s===Yn:!1}function d0(){var s=K.H;return K.H=$l,s===null?$l:s}function m0(){var s=K.A;return K.A=gA,s}function xh(){ye=4,lr||(Lt&4194048)!==Lt&&Dn.current!==null||(Ao=!0),(cr&134217727)===0&&(ya&134217727)===0||le===null||fr(le,Lt,kn,!1)}function Xm(s,a,l){var u=Qt;Qt|=2;var g=d0(),p=m0();(le!==s||Lt!==a)&&(vh=null,Io(s,a)),a=!1;var x=ye;t:do try{if(te!==0&&Vt!==null){var w=Vt,V=On;switch(te){case 8:Km(),x=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(a=!0);var G=te;if(te=0,On=null,Mo(s,w,V,G),l&&Ao){x=0;break t}break;default:G=te,te=0,On=null,Mo(s,w,V,G)}}yA(),x=ye;break}catch(J){h0(s,J)}while(!0);return a&&s.shellSuspendCounter++,ds=ca=null,Qt=u,K.H=g,K.A=p,Vt===null&&(le=null,Lt=0,Bu()),x}function yA(){for(;Vt!==null;)g0(Vt)}function vA(s,a){var l=Qt;Qt|=2;var u=d0(),g=m0();le!==s||Lt!==a?(vh=null,yh=mn()+500,Io(s,a)):Ao=si(s,a);t:do try{if(te!==0&&Vt!==null){a=Vt;var p=On;e:switch(te){case 1:te=0,On=null,Mo(s,a,p,1);break;case 2:case 9:if(Sy(p)){te=0,On=null,p0(a);break}a=function(){te!==2&&te!==9||le!==s||(te=7),Fi(s)},p.then(a,a);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Sy(p)?(te=0,On=null,p0(a)):(te=0,On=null,Mo(s,a,p,7));break;case 5:var x=null;switch(Vt.tag){case 26:x=Vt.memoizedState;case 5:case 27:var w=Vt;if(x?eb(x):w.stateNode.complete){te=0,On=null;var V=w.sibling;if(V!==null)Vt=V;else{var G=w.return;G!==null?(Vt=G,Th(G)):Vt=null}break e}}te=0,On=null,Mo(s,a,p,5);break;case 6:te=0,On=null,Mo(s,a,p,6);break;case 8:Km(),ye=6;break t;default:throw Error(i(462))}}bA();break}catch(J){h0(s,J)}while(!0);return ds=ca=null,K.H=u,K.A=g,Qt=l,Vt!==null?0:(le=null,Lt=0,Bu(),ye)}function bA(){for(;Vt!==null&&!wd();)g0(Vt)}function g0(s){var a=zv(s.alternate,s,Es);s.memoizedProps=s.pendingProps,a===null?Th(s):Vt=a}function p0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Ov(l,a,a.pendingProps,a.type,void 0,Lt);break;case 11:a=Ov(l,a,a.pendingProps,a.type.render,a.ref,Lt);break;case 5:cm(a);default:Bv(l,a),a=Vt=my(a,Es),a=zv(l,a,Es)}s.memoizedProps=s.pendingProps,a===null?Th(s):Vt=a}function Mo(s,a,l,u){ds=ca=null,cm(a),vo=null,Bl=0;var g=a.return;try{if(lA(s,g,a,l,Lt)){ye=1,ch(s,Fn(l,s.current)),Vt=null;return}}catch(p){if(g!==null)throw Vt=g,p;ye=1,ch(s,Fn(l,s.current)),Vt=null;return}a.flags&32768?(Ft||u===1?s=!0:Ao||(Lt&536870912)!==0?s=!1:(lr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Dn.current,u!==null&&u.tag===13&&(u.flags|=16384))),_0(a,s)):Th(a)}function Th(s){var a=s;do{if((a.flags&32768)!==0){_0(a,lr);return}s=a.return;var l=hA(a.alternate,a,Es);if(l!==null){Vt=l;return}if(a=a.sibling,a!==null){Vt=a;return}Vt=a=s}while(a!==null);ye===0&&(ye=5)}function _0(s,a){do{var l=fA(s.alternate,s);if(l!==null){l.flags&=32767,Vt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Vt=s;return}Vt=s=l}while(s!==null);ye=6,Vt=null}function y0(s,a,l,u,g,p,x,w,V){s.cancelPendingCommit=null;do Eh();while(je!==0);if((Qt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Pd,Rd(s,l,p,x,w,V),s===le&&(Vt=le=null,Lt=0),Co=a,hr=s,ws=l,qm=p,Gm=g,o0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,wA(Fs,function(){return E0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,g=ot.p,ot.p=2,x=Qt,Qt|=4;try{dA(s,a,l)}finally{Qt=x,ot.p=g,K.T=u}}je=1,v0(),b0(),x0()}}function v0(){if(je===1){je=0;var s=hr,a=Co,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=ot.p;ot.p=2;var g=Qt;Qt|=4;try{Jv(a,s);var p=ag,x=ry(s.containerInfo),w=p.focusedElem,V=p.selectionRange;if(x!==w&&w&&w.ownerDocument&&sy(w.ownerDocument.documentElement,w)){if(V!==null&&Dd(w)){var G=V.start,J=V.end;if(J===void 0&&(J=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(J,w.value.length);else{var nt=w.ownerDocument||document,Y=nt&&nt.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),mt=w.textContent.length,Tt=Math.min(V.start,mt),oe=V.end===void 0?Tt:Math.min(V.end,mt);!Q.extend&&Tt>oe&&(x=oe,oe=Tt,Tt=x);var B=iy(w,Tt),U=iy(w,oe);if(B&&U&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var q=nt.createRange();q.setStart(B.node,B.offset),Q.removeAllRanges(),Tt>oe?(Q.addRange(q),Q.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),Q.addRange(q))}}}}for(nt=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var et=nt[w];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Vh=!!rg,ag=rg=null}finally{Qt=g,ot.p=u,K.T=l}}s.current=a,je=2}}function b0(){if(je===2){je=0;var s=hr,a=Co,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=ot.p;ot.p=2;var g=Qt;Qt|=4;try{Xv(s,a.alternate,a)}finally{Qt=g,ot.p=u,K.T=l}}je=3}}function x0(){if(je===4||je===3){je=0,du();var s=hr,a=Co,l=ws,u=o0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?je=5:(je=0,Co=hr=null,T0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ur=null),os(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ii,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=K.T,g=ot.p,ot.p=2,K.T=null;try{for(var p=s.onRecoverableError,x=0;x<u.length;x++){var w=u[x];p(w.value,{componentStack:w.stack})}}finally{K.T=a,ot.p=g}}(ws&3)!==0&&Eh(),Fi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Ym?sc++:(sc=0,Ym=s):sc=0,rc(0)}}function T0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,zl(a)))}function Eh(){return v0(),b0(),x0(),E0()}function E0(){if(je!==5)return!1;var s=hr,a=qm;qm=0;var l=os(ws),u=K.T,g=ot.p;try{ot.p=32>l?32:l,K.T=null,l=Gm,Gm=null;var p=hr,x=ws;if(je=0,Co=hr=null,ws=0,(Qt&6)!==0)throw Error(i(331));var w=Qt;if(Qt|=4,s0(p.current),e0(p,p.current,x,l),Qt=w,rc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ii,p)}catch{}return!0}finally{ot.p=g,K.T=u,T0(s,a)}}function w0(s,a,l){a=Fn(l,a),a=wm(s.stateNode,a,2),s=sr(s,a,2),s!==null&&(Yr(s,2),Fi(s))}function ee(s,a,l){if(s.tag===3)w0(s,s,l);else for(;a!==null;){if(a.tag===3){w0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ur===null||!ur.has(u))){s=Fn(l,s),l=Sv(2),u=sr(a,l,2),u!==null&&(Av(l,u,a,s),Yr(u,2),Fi(u));break}}a=a.return}}function $m(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new pA;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(Bm=!0,g.add(l),s=xA.bind(null,s,a,l),a.then(s,s))}function xA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,le===s&&(Lt&l)===l&&(ye===4||ye===3&&(Lt&62914560)===Lt&&300>mn()-_h?(Qt&2)===0&&Io(s,0):Fm|=l,Ro===Lt&&(Ro=0)),Fi(s)}function S0(s,a){a===0&&(a=vu()),s=aa(s,a),s!==null&&(Yr(s,a),Fi(s))}function TA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),S0(s,l)}function EA(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),S0(s,l)}function wA(s,a){return Le(s,a)}var wh=null,Do=null,Qm=!1,Sh=!1,Wm=!1,dr=0;function Fi(s){s!==Do&&s.next===null&&(Do===null?wh=Do=s:Do=Do.next=s),Sh=!0,Qm||(Qm=!0,AA())}function rc(s,a){if(!Wm&&Sh){Wm=!0;do for(var l=!1,u=wh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var x=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-be(42|s)+1)-1,p&=g&~(x&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,I0(u,p))}else p=Lt,p=wi(u,u===le?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||si(u,p)||(l=!0,I0(u,p));u=u.next}while(l);Wm=!1}}function SA(){A0()}function A0(){Sh=Qm=!1;var s=0;dr!==0&&PA()&&(s=dr);for(var a=mn(),l=null,u=wh;u!==null;){var g=u.next,p=R0(u,a);p===0?(u.next=null,l===null?wh=g:l.next=g,g===null&&(Do=l)):(l=u,(s!==0||(p&3)!==0)&&(Sh=!0)),u=g}je!==0&&je!==5||rc(s),dr!==0&&(dr=0)}function R0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var x=31-be(p),w=1<<x,V=g[x];V===-1?((w&l)===0||(w&u)!==0)&&(g[x]=Ad(w,a)):V<=a&&(s.expiredLanes|=w),p&=~w}if(a=le,l=Lt,l=wi(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(te===2||te===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Bs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||si(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Bs(u),os(l)){case 2:case 8:l=gl;break;case 32:l=Fs;break;case 268435456:l=mu;break;default:l=Fs}return u=C0.bind(null,s),l=Le(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Bs(u),s.callbackPriority=2,s.callbackNode=null,2}function C0(s,a){if(je!==0&&je!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Eh()&&s.callbackNode!==l)return null;var u=Lt;return u=wi(s,s===le?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(c0(s,u,a),R0(s,mn()),s.callbackNode!=null&&s.callbackNode===l?C0.bind(null,s):null)}function I0(s,a){if(Eh())return null;c0(s,a,!0)}function AA(){jA(function(){(Qt&6)!==0?Le(ml,SA):A0()})}function Zm(){if(dr===0){var s=po;s===0&&(s=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),dr=s}return dr}function M0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:to(""+s)}function D0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function RA(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=M0((g[qe]||null).action),x=u.submitter;x&&(a=(a=x[qe]||null)?M0(a.formAction):x.getAttribute("formAction"),a!==null&&(p=a,x=null));var w=new Vi("action","action",null,u,g);s.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(dr!==0){var V=x?D0(g,x):new FormData(g);ym(l,{pending:!0,data:V,method:g.method,action:p},null,V)}}else typeof p=="function"&&(w.preventDefault(),V=x?D0(g,x):new FormData(g),ym(l,{pending:!0,data:V,method:g.method,action:p},p,V))},currentTarget:g}]})}}for(var Jm=0;Jm<Vd.length;Jm++){var tg=Vd[Jm],CA=tg.toLowerCase(),IA=tg[0].toUpperCase()+tg.slice(1);fi(CA,"on"+IA)}fi(ly,"onAnimationEnd"),fi(cy,"onAnimationIteration"),fi(uy,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(G1,"onTransitionRun"),fi(Y1,"onTransitionStart"),fi(K1,"onTransitionCancel"),fi(hy,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function N0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var x=u.length-1;0<=x;x--){var w=u[x],V=w.instance,G=w.currentTarget;if(w=w.listener,V!==p&&g.isPropagationStopped())break t;p=w,g.currentTarget=G;try{p(g)}catch(J){Uu(J)}g.currentTarget=null,p=V}else for(x=0;x<u.length;x++){if(w=u[x],V=w.instance,G=w.currentTarget,w=w.listener,V!==p&&g.isPropagationStopped())break t;p=w,g.currentTarget=G;try{p(g)}catch(J){Uu(J)}g.currentTarget=null,p=V}}}}function Pt(s,a){var l=a[$a];l===void 0&&(l=a[$a]=new Set);var u=s+"__bubble";l.has(u)||(O0(a,s,2,!1),l.add(u))}function eg(s,a,l){var u=0;a&&(u|=4),O0(l,s,u,a)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function ng(s){if(!s[Ah]){s[Ah]=!0,yl.forEach(function(l){l!=="selectionchange"&&(MA.has(l)||eg(l,!1,s),eg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ah]||(a[Ah]=!0,eg("selectionchange",!1,a))}}function O0(s,a,l,u){switch(lb(a)){case 2:var g=sR;break;case 8:g=rR;break;default:g=_g}l=g.bind(null,a,l,s),g=void 0,!Zr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function ig(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var w=u.stateNode.containerInfo;if(w===g)break;if(x===4)for(x=u.return;x!==null;){var V=x.tag;if((V===3||V===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;w!==null;){if(x=Ci(w),x===null)return;if(V=x.tag,V===5||V===6||V===26||V===27){u=p=x;continue t}w=w.parentNode}}u=u.return}Xs(function(){var G=p,J=jn(l),nt=[];t:{var Y=fy.get(s);if(Y!==void 0){var Q=Vi,mt=s;switch(s){case"keypress":if(ta(l)===0)break t;case"keydown":case"keyup":Q=Lu;break;case"focusin":mt="focus",Q=na;break;case"focusout":mt="blur",Q=na;break;case"beforeblur":case"afterblur":Q=na;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v;break;case ly:case cy:case uy:Q=Mu;break;case hy:Q=R;break;case"scroll":case"scrollend":Q=Ml;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=us;break;case"toggle":case"beforetoggle":Q=It}var Tt=(a&4)!==0,oe=!Tt&&(s==="scroll"||s==="scrollend"),B=Tt?Y!==null?Y+"Capture":null:Y;Tt=[];for(var U=G,q;U!==null;){var et=U;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||B===null||(et=li(U,B),et!=null&&Tt.push(oc(U,et,q))),oe)break;U=U.return}0<Tt.length&&(Y=new Q(Y,mt,null,l,J),nt.push({event:Y,listeners:Tt}))}}if((a&7)===0){t:{if(Y=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",Y&&l!==Rl&&(mt=l.relatedTarget||l.fromElement)&&(Ci(mt)||mt[Ai]))break t;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(mt=l.relatedTarget||l.toElement,Q=G,mt=mt?Ci(mt):null,mt!==null&&(oe=o(mt),Tt=mt.tag,mt!==oe||Tt!==5&&Tt!==27&&Tt!==6)&&(mt=null)):(Q=null,mt=G),Q!==mt)){if(Tt=Dl,et="onMouseLeave",B="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(Tt=us,et="onPointerLeave",B="onPointerEnter",U="pointer"),oe=Q==null?Y:Rn(Q),q=mt==null?Y:Rn(mt),Y=new Tt(et,U+"leave",Q,l,J),Y.target=oe,Y.relatedTarget=q,et=null,Ci(J)===G&&(Tt=new Tt(B,U+"enter",mt,l,J),Tt.target=q,Tt.relatedTarget=oe,et=Tt),oe=et,Q&&mt)e:{for(Tt=DA,B=Q,U=mt,q=0,et=B;et;et=Tt(et))q++;et=0;for(var vt=U;vt;vt=Tt(vt))et++;for(;0<q-et;)B=Tt(B),q--;for(;0<et-q;)U=Tt(U),et--;for(;q--;){if(B===U||U!==null&&B===U.alternate){Tt=B;break e}B=Tt(B),U=Tt(U)}Tt=null}else Tt=null;Q!==null&&k0(nt,Y,Q,Tt,!1),mt!==null&&oe!==null&&k0(nt,oe,mt,Tt,!0)}}t:{if(Y=G?Rn(G):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Kt=W_;else if($_(Y))if(Z_)Kt=F1;else{Kt=U1;var gt=z1}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Ja(G.elementType)&&(Kt=W_):Kt=B1;if(Kt&&(Kt=Kt(s,G))){Q_(nt,Kt,l,J);break t}gt&&gt(s,Y,G),s==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&wl(Y,"number",Y.value)}switch(gt=G?Rn(G):window,s){case"focusin":($_(gt)||gt.contentEditable==="true")&&(oo=gt,Nd=G,Pl=null);break;case"focusout":Pl=Nd=oo=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,ay(nt,l,J);break;case"selectionchange":if(q1)break;case"keydown":case"keyup":ay(nt,l,J)}var Dt;if($t)t:{switch(s){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else ao?ia(s,l)&&(jt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(ji&&l.locale!=="ko"&&(ao||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ao&&(Dt=Il()):(ki=J,Cl="value"in ki?ki.value:ki.textContent,ao=!0)),gt=Rh(G,jt),0<gt.length&&(jt=new Li(jt,s,null,l,J),nt.push({event:jt,listeners:gt}),Dt?jt.data=Dt:(Dt=ro(l),Dt!==null&&(jt.data=Dt)))),(Dt=Un?V1(s,l):P1(s,l))&&(jt=Rh(G,"onBeforeInput"),0<jt.length&&(gt=new Li("onBeforeInput","beforeinput",null,l,J),nt.push({event:gt,listeners:jt}),gt.data=Dt)),RA(nt,s,G,l,J)}N0(nt,a)})}function oc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Rh(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=li(s,l),g!=null&&u.unshift(oc(s,g,p)),g=li(s,a),g!=null&&u.push(oc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function DA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function k0(s,a,l,u,g){for(var p=a._reactName,x=[];l!==null&&l!==u;){var w=l,V=w.alternate,G=w.stateNode;if(w=w.tag,V!==null&&V===u)break;w!==5&&w!==26&&w!==27||G===null||(V=G,g?(G=li(l,p),G!=null&&x.unshift(oc(l,G,V))):g||(G=li(l,p),G!=null&&x.push(oc(l,G,V)))),l=l.return}x.length!==0&&s.push({event:a,listeners:x})}var NA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function V0(s){return(typeof s=="string"?s:""+s).replace(NA,`
`).replace(OA,"")}function P0(s,a){return a=V0(a),V0(s)===a}function ae(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||yn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&yn(s,""+u);break;case"className":Cn(s,"class",u);break;case"tabIndex":Cn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(s,l,u);break;case"style":Al(s,u,p);break;case"data":if(a!=="object"){Cn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=to(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ae(s,a,"name",g.name,g,null),ae(s,a,"formEncType",g.formEncType,g,null),ae(s,a,"formMethod",g.formMethod,g,null),ae(s,a,"formTarget",g.formTarget,g,null)):(ae(s,a,"encType",g.encType,g,null),ae(s,a,"method",g.method,g,null),ae(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=to(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=oi);break;case"onScroll":u!=null&&Pt("scroll",s);break;case"onScrollEnd":u!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=to(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),Wa(s,"popover",u);break;case"xlinkActuate":Me(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Me(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Me(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Me(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Me(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Me(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Me(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Me(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Me(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ru.get(l)||l,Wa(s,l,u))}}function sg(s,a,l,u,g,p){switch(l){case"style":Al(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?yn(s,u):(typeof u=="number"||typeof u=="bigint")&&yn(s,""+u);break;case"onScroll":u!=null&&Pt("scroll",s);break;case"onScrollEnd":u!=null&&Pt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[qe]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Wa(s,l,u)}}}function Je(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var x=l[p];if(x!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ae(s,a,p,x,l,null)}}g&&ae(s,a,"srcSet",l.srcSet,l,null),u&&ae(s,a,"src",l.src,l,null);return;case"input":Pt("invalid",s);var w=p=x=g=null,V=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":g=J;break;case"type":x=J;break;case"checked":V=J;break;case"defaultChecked":G=J;break;case"value":p=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:ae(s,a,u,J,l,null)}}wu(s,p,w,V,G,x,g,!1);return;case"select":Pt("invalid",s),u=x=p=null;for(g in l)if(l.hasOwnProperty(g)&&(w=l[g],w!=null))switch(g){case"value":p=w;break;case"defaultValue":x=w;break;case"multiple":u=w;default:ae(s,a,g,w,l,null)}a=p,l=x,s.multiple=!!u,a!=null?qs(s,!!u,a,!1):l!=null&&qs(s,!!u,l,!0);return;case"textarea":Pt("invalid",s),p=g=u=null;for(x in l)if(l.hasOwnProperty(x)&&(w=l[x],w!=null))switch(x){case"value":u=w;break;case"defaultValue":g=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ae(s,a,x,w,l,null)}Gs(s,u,g,p);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ae(s,a,V,u,l,null)}return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(u=0;u<ac.length;u++)Pt(ac[u],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ae(s,a,G,u,l,null)}return;default:if(Ja(a)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&sg(s,a,J,u,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(u=l[w],u!=null&&ae(s,a,w,u,l,null))}function kA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,x=null,w=null,V=null,G=null,J=null;for(Q in l){var nt=l[Q];if(l.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=nt;default:u.hasOwnProperty(Q)||ae(s,a,Q,null,u,nt)}}for(var Y in u){var Q=u[Y];if(nt=l[Y],u.hasOwnProperty(Y)&&(Q!=null||nt!=null))switch(Y){case"type":p=Q;break;case"name":g=Q;break;case"checked":G=Q;break;case"defaultChecked":J=Q;break;case"value":x=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==nt&&ae(s,a,Y,Q,u,nt)}}Za(s,x,w,V,G,J,p,g);return;case"select":Q=x=w=Y=null;for(p in l)if(V=l[p],l.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":Q=V;default:u.hasOwnProperty(p)||ae(s,a,p,null,u,V)}for(g in u)if(p=u[g],V=l[g],u.hasOwnProperty(g)&&(p!=null||V!=null))switch(g){case"value":Y=p;break;case"defaultValue":w=p;break;case"multiple":x=p;default:p!==V&&ae(s,a,g,p,u,V)}a=w,l=x,u=Q,Y!=null?qs(s,!!l,Y,!1):!!u!=!!l&&(a!=null?qs(s,!!l,a,!0):qs(s,!!l,l?[]:"",!1));return;case"textarea":Q=Y=null;for(w in l)if(g=l[w],l.hasOwnProperty(w)&&g!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ae(s,a,w,null,u,g)}for(x in u)if(g=u[x],p=l[x],u.hasOwnProperty(x)&&(g!=null||p!=null))switch(x){case"value":Y=g;break;case"defaultValue":Q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&ae(s,a,x,g,u,p)}Su(s,Y,Q);return;case"option":for(var mt in l)if(Y=l[mt],l.hasOwnProperty(mt)&&Y!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":s.selected=!1;break;default:ae(s,a,mt,null,u,Y)}for(V in u)if(Y=u[V],Q=l[V],u.hasOwnProperty(V)&&Y!==Q&&(Y!=null||Q!=null))switch(V){case"selected":s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ae(s,a,V,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in l)Y=l[Tt],l.hasOwnProperty(Tt)&&Y!=null&&!u.hasOwnProperty(Tt)&&ae(s,a,Tt,null,u,Y);for(G in u)if(Y=u[G],Q=l[G],u.hasOwnProperty(G)&&Y!==Q&&(Y!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:ae(s,a,G,Y,u,Q)}return;default:if(Ja(a)){for(var oe in l)Y=l[oe],l.hasOwnProperty(oe)&&Y!==void 0&&!u.hasOwnProperty(oe)&&sg(s,a,oe,void 0,u,Y);for(J in u)Y=u[J],Q=l[J],!u.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||sg(s,a,J,Y,u,Q);return}}for(var B in l)Y=l[B],l.hasOwnProperty(B)&&Y!=null&&!u.hasOwnProperty(B)&&ae(s,a,B,null,u,Y);for(nt in u)Y=u[nt],Q=l[nt],!u.hasOwnProperty(nt)||Y===Q||Y==null&&Q==null||ae(s,a,nt,Y,u,Q)}function L0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VA(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,x=g.initiatorType,w=g.duration;if(p&&w&&L0(x)){for(x=0,w=g.responseEnd,u+=1;u<l.length;u++){var V=l[u],G=V.startTime;if(G>w)break;var J=V.transferSize,nt=V.initiatorType;J&&L0(nt)&&(V=V.responseEnd,x+=J*(V<w?1:(w-G)/(V-G)))}if(--u,a+=8*(p+x)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var rg=null,ag=null;function Ch(s){return s.nodeType===9?s:s.ownerDocument}function j0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function og(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lg=null;function PA(){var s=window.event;return s&&s.type==="popstate"?s===lg?!1:(lg=s,!0):(lg=null,!1)}var U0=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(s){return B0.resolve(null).then(s).catch(zA)}:U0;function zA(s){setTimeout(function(){throw s})}function mr(s){return s==="head"}function F0(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),Vo(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")lc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,lc(l);for(var p=l.firstChild;p;){var x=p.nextSibling,w=p.nodeName;p[Ri]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=x}}else l==="body"&&lc(s.ownerDocument.body);l=g}while(l);Vo(a)}function H0(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function cg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":cg(l),Qa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function UA(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ri])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Kn(s.nextSibling),s===null)break}return null}function BA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Kn(s.nextSibling),s===null))return null;return s}function q0(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Kn(s.nextSibling),s===null))return null;return s}function ug(s){return s.data==="$?"||s.data==="$~"}function hg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function FA(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Kn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var fg=null;function G0(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Kn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function Y0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function K0(s,a,l){switch(a=Ch(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function lc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Qa(s)}var Xn=new Map,X0=new Set;function Ih(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ss=ot.d;ot.d={f:HA,r:qA,D:GA,C:YA,L:KA,m:XA,X:QA,S:$A,M:WA};function HA(){var s=Ss.f(),a=bh();return s||a}function qA(s){var a=Ln(s);a!==null&&a.tag===5&&a.type==="form"?hv(a):Ss.r(s)}var No=typeof document>"u"?null:document;function $0(s,a,l){var u=No;if(u&&typeof a=="string"&&a){var g=_n(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),X0.has(g)||(X0.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Je(a,"link",s),Ie(a),u.head.appendChild(a)))}}function GA(s){Ss.D(s),$0("dns-prefetch",s,null)}function YA(s,a){Ss.C(s,a),$0("preconnect",s,a)}function KA(s,a,l){Ss.L(s,a,l);var u=No;if(u&&s&&a){var g='link[rel="preload"][as="'+_n(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+_n(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+_n(l.imageSizes)+'"]')):g+='[href="'+_n(s)+'"]';var p=g;switch(a){case"style":p=Oo(s);break;case"script":p=ko(s)}Xn.has(p)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Xn.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(cc(p))||a==="script"&&u.querySelector(uc(p))||(a=u.createElement("link"),Je(a,"link",s),Ie(a),u.head.appendChild(a)))}}function XA(s,a){Ss.m(s,a);var l=No;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ko(s)}if(!Xn.has(p)&&(s=y({rel:"modulepreload",href:s},a),Xn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uc(p)))return}u=l.createElement("link"),Je(u,"link",s),Ie(u),l.head.appendChild(u)}}}function $A(s,a,l){Ss.S(s,a,l);var u=No;if(u&&s){var g=Ii(u).hoistableStyles,p=Oo(s);a=a||"default";var x=g.get(p);if(!x){var w={loading:0,preload:null};if(x=u.querySelector(cc(p)))w.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Xn.get(p))&&dg(s,l);var V=x=u.createElement("link");Ie(V),Je(V,"link",s),V._p=new Promise(function(G,J){V.onload=G,V.onerror=J}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Mh(x,a,u)}x={type:"stylesheet",instance:x,count:1,state:w},g.set(p,x)}}}function QA(s,a){Ss.X(s,a);var l=No;if(l&&s){var u=Ii(l).hoistableScripts,g=ko(s),p=u.get(g);p||(p=l.querySelector(uc(g)),p||(s=y({src:s,async:!0},a),(a=Xn.get(g))&&mg(s,a),p=l.createElement("script"),Ie(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function WA(s,a){Ss.M(s,a);var l=No;if(l&&s){var u=Ii(l).hoistableScripts,g=ko(s),p=u.get(g);p||(p=l.querySelector(uc(g)),p||(s=y({src:s,async:!0,type:"module"},a),(a=Xn.get(g))&&mg(s,a),p=l.createElement("script"),Ie(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function Q0(s,a,l,u){var g=(g=_t.current)?Ih(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Oo(l.href),l=Ii(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Oo(l.href);var p=Ii(g).hoistableStyles,x=p.get(s);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,x),(p=g.querySelector(cc(s)))&&!p._p&&(x.instance=p,x.state.loading=5),Xn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xn.set(s,l),p||ZA(g,s,l,x.state))),a&&u===null)throw Error(i(528,""));return x}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ko(l),l=Ii(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Oo(s){return'href="'+_n(s)+'"'}function cc(s){return'link[rel="stylesheet"]['+s+"]"}function W0(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function ZA(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Je(a,"link",l),Ie(a),s.head.appendChild(a))}function ko(s){return'[src="'+_n(s)+'"]'}function uc(s){return"script[async]"+s}function Z0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+_n(l.href)+'"]');if(u)return a.instance=u,Ie(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ie(u),Je(u,"style",g),Mh(u,l.precedence,s),a.instance=u;case"stylesheet":g=Oo(l.href);var p=s.querySelector(cc(g));if(p)return a.state.loading|=4,a.instance=p,Ie(p),p;u=W0(l),(g=Xn.get(g))&&dg(u,g),p=(s.ownerDocument||s).createElement("link"),Ie(p);var x=p;return x._p=new Promise(function(w,V){x.onload=w,x.onerror=V}),Je(p,"link",u),a.state.loading|=4,Mh(p,l.precedence,s),a.instance=p;case"script":return p=ko(l.src),(g=s.querySelector(uc(p)))?(a.instance=g,Ie(g),g):(u=l,(g=Xn.get(p))&&(u=y({},l),mg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ie(g),Je(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Mh(u,l.precedence,s));return a.instance}function Mh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,x=0;x<u.length;x++){var w=u[x];if(w.dataset.precedence===a)p=w;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function dg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function mg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Dh=null;function J0(s,a,l){if(Dh===null){var u=new Map,g=Dh=new Map;g.set(l,u)}else g=Dh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Ri]||p[Ce]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(a)||"";x=s+x;var w=u.get(x);w?w.push(p):u.set(x,[p])}}return u}function tb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function JA(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function eb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function tR(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Oo(u.href),p=a.querySelector(cc(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Nh.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ie(p);return}p=a.ownerDocument||a,u=W0(u),(g=Xn.get(g))&&dg(u,g),p=p.createElement("link"),Ie(p);var x=p;x._p=new Promise(function(w,V){x.onload=w,x.onerror=V}),Je(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Nh.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var gg=0;function eR(s,a){return s.stylesheets&&s.count===0&&kh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&kh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&gg===0&&(gg=62500*VA());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&kh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>gg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Oh=null;function kh(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Oh=new Map,a.forEach(nR,s),Oh=null,Nh.call(s))}function nR(s,a){if(!(a.state.loading&4)){var l=Oh.get(s);if(l)var u=l.get(null);else{l=new Map,Oh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var x=g[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}g=a.instance,x=g.getAttribute("data-precedence"),p=l.get(x)||u,p===u&&l.set(null,g),l.set(x,g),this.count++,u=Nh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var hc={$$typeof:X,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function iR(s,a,l,u,g,p,x,w,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function nb(s,a,l,u,g,p,x,w,V,G,J,nt){return s=new iR(s,a,l,x,V,G,J,nt,w),a=1,p===!0&&(a|=24),p=Mn(3,null,null,a),s.current=p,p.stateNode=s,a=Xd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Zd(p),s}function ib(s){return s?(s=uo,s):uo}function sb(s,a,l,u,g,p){g=ib(g),u.context===null?u.context=g:u.pendingContext=g,u=ir(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=sr(s,u,a),l!==null&&(En(l,s,a),Hl(l,s,a))}function rb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function pg(s,a){rb(s,a),(s=s.alternate)&&rb(s,a)}function ab(s){if(s.tag===13||s.tag===31){var a=aa(s,67108864);a!==null&&En(a,s,67108864),pg(s,67108864)}}function ob(s){if(s.tag===13||s.tag===31){var a=Vn();a=Xr(a);var l=aa(s,a);l!==null&&En(l,s,a),pg(s,a)}}var Vh=!0;function sR(s,a,l,u){var g=K.T;K.T=null;var p=ot.p;try{ot.p=2,_g(s,a,l,u)}finally{ot.p=p,K.T=g}}function rR(s,a,l,u){var g=K.T;K.T=null;var p=ot.p;try{ot.p=8,_g(s,a,l,u)}finally{ot.p=p,K.T=g}}function _g(s,a,l,u){if(Vh){var g=yg(u);if(g===null)ig(s,a,u,Ph,l),cb(s,u);else if(oR(g,s,a,l,u))u.stopPropagation();else if(cb(s,u),a&4&&-1<aR.indexOf(s)){for(;g!==null;){var p=Ln(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=Ei(p.pendingLanes);if(x!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;x;){var V=1<<31-be(x);w.entanglements[1]|=V,x&=~V}Fi(p),(Qt&6)===0&&(yh=mn()+500,rc(0))}}break;case 31:case 13:w=aa(p,2),w!==null&&En(w,p,2),bh(),pg(p,2)}if(p=yg(u),p===null&&ig(s,a,u,Ph,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else ig(s,a,u,null,l)}}function yg(s){return s=jn(s),vg(s)}var Ph=null;function vg(s){if(Ph=null,s=Ci(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Ph=s,null}function lb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qr()){case ml:return 2;case gl:return 8;case Fs:case Sd:return 32;case mu:return 268435456;default:return 32}default:return 32}}var bg=!1,gr=null,pr=null,_r=null,fc=new Map,dc=new Map,yr=[],aR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cb(s,a){switch(s){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":fc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(a.pointerId)}}function mc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Ln(a),a!==null&&ab(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function oR(s,a,l,u,g){switch(a){case"focusin":return gr=mc(gr,s,a,l,u,g),!0;case"dragenter":return pr=mc(pr,s,a,l,u,g),!0;case"mouseover":return _r=mc(_r,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return fc.set(p,mc(fc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,dc.set(p,mc(dc.get(p)||null,s,a,l,u,g)),!0}return!1}function ub(s){var a=Ci(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,ri(s.priority,function(){ob(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,ri(s.priority,function(){ob(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=yg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Rl=u,l.target.dispatchEvent(u),Rl=null}else return a=Ln(l),a!==null&&ab(a),s.blockedOn=l,!1;a.shift()}return!0}function hb(s,a,l){Lh(s)&&l.delete(a)}function lR(){bg=!1,gr!==null&&Lh(gr)&&(gr=null),pr!==null&&Lh(pr)&&(pr=null),_r!==null&&Lh(_r)&&(_r=null),fc.forEach(hb),dc.forEach(hb)}function jh(s,a){s.blockedOn===a&&(s.blockedOn=null,bg||(bg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lR)))}var zh=null;function fb(s){zh!==s&&(zh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zh===s&&(zh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(vg(u||l)===null)continue;break}var p=Ln(l);p!==null&&(s.splice(a,3),a-=3,ym(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Vo(s){function a(V){return jh(V,s)}gr!==null&&jh(gr,s),pr!==null&&jh(pr,s),_r!==null&&jh(_r,s),fc.forEach(a),dc.forEach(a);for(var l=0;l<yr.length;l++){var u=yr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<yr.length&&(l=yr[0],l.blockedOn===null);)ub(l),l.blockedOn===null&&yr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],x=g[qe]||null;if(typeof p=="function")x||fb(l);else if(x){var w=null;if(p&&p.hasAttribute("formAction")){if(g=p,x=p[qe]||null)w=x.formAction;else if(vg(g)!==null)continue}else w=x.action;typeof w=="function"?l[u+1]=w:(l.splice(u,3),u-=3),fb(l)}}}function db(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return g=x})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function xg(s){this._internalRoot=s}Uh.prototype.render=xg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Vn();sb(l,u,s,a,null,null)},Uh.prototype.unmount=xg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;sb(s.current,2,null,s,null,null),bh(),a[Ai]=null}};function Uh(s){this._internalRoot=s}Uh.prototype.unstable_scheduleHydration=function(s){if(s){var a=bu();s={blockedOn:null,target:s,priority:a};for(var l=0;l<yr.length&&a!==0&&a<yr[l].priority;l++);yr.splice(l,0,s),l===0&&ub(s)}};var mb=t.version;if(mb!=="19.2.0")throw Error(i(527,mb,"19.2.0"));ot.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var cR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{ii=Bh.inject(cR),Xe=Bh}catch{}}return pc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=xv,p=Tv,x=Ev;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=nb(s,1,!1,null,null,l,u,null,g,p,x,db),s[Ai]=a.current,ng(s),new xg(a)},pc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=xv,x=Tv,w=Ev,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),a=nb(s,1,!0,a,l??null,u,g,V,p,x,w,db),a.context=ib(null),l=a.current,u=Vn(),u=Xr(u),g=ir(u),g.callback=null,sr(l,g,u),l=u,a.current.lanes=l,Yr(a,l),Fi(a),s[Ai]=a.current,ng(s),new Uh(a)},pc.version="19.2.0",pc}var wb;function bR(){if(wb)return wg.exports;wb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),wg.exports=vR(),wg.exports}var xR=bR();function _E({isDark:n,setIsDark:t}){return S.jsx("div",{className:`flex flex-row items-center justify-center
        `,title:"Switch Theme",onClick:()=>t(e=>!e),children:S.jsx("i",{className:n?"bx bx-sun bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--light-color)] hovered":"bx bx-moon bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--dark-color)] hovered"})})}const kp="/DriveSense/assets/dark-icon-B2t9_VsN.png",Ef="/DriveSense/assets/light-icon-CCshSbAW.png";function sn(n=768){const[t,e]=ut.useState(typeof window<"u"?window.innerWidth<n:!1);return ut.useEffect(()=>{const i=()=>{e(window.innerWidth<n)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),t}const TR=()=>{};var Sb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},ER=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,m=f?n[r+2]:0,_=o>>2,y=(o&3)<<4|h>>4;let b=(h&15)<<2|m>>6,E=m&63;f||(E=64,c||(b=64)),i.push(e[_],e[y],e[b],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(yE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):ER(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||y==null)throw new wR;const b=o<<2|h>>4;if(i.push(b),m!==64){const E=h<<4&240|m>>2;if(i.push(E),y!==64){const C=m<<6&192|y;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SR=function(n){const t=yE(n);return vE.encodeByteArray(t,!0)},wf=function(n){return SR(n).replace(/\./g,"")},bE=function(n){try{return vE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>AR().__FIREBASE_DEFAULTS__,CR=()=>{if(typeof process>"u"||typeof Sb>"u")return;const n=Sb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&bE(n[1]);return t&&JSON.parse(t)},Jf=()=>{try{return TR()||RR()||CR()||IR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xE=n=>Jf()?.emulatorHosts?.[n],TE=n=>{const t=xE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},EE=()=>Jf()?.config,wE=n=>Jf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wf(JSON.stringify(e)),wf(JSON.stringify(c)),""].join(".")}const Ic={};function DR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Ic))Ic[t]?n.emulator.push(t):n.prod.push(t);return n}function NR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Ab=!1;function Pp(n,t){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||Ic[n]===t||Ic[n]||Ab)return;Ic[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=DR().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Ab=!0,c()},b}function _(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=NR(i),E=e("text"),C=document.getElementById(E)||document.createElement("span"),M=e("learnmore"),D=document.getElementById(M)||document.createElement("a"),L=e("preprendIcon"),F=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;h(X),_(D,M);const Z=m();f(F,L),X.append(F,C,D,Z),document.body.appendChild(X)}o?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function kR(){const n=Jf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jR(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UR(){try{return typeof indexedDB=="object"}catch{return!1}}function BR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FirebaseError";class rs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=FR,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?HR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new rs(r,h,i)}}function HR(n,t){return n.replace(qR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const qR=/\{\$([^}]+)}/g;function GR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Da(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(Rb(o)&&Rb(c)){if(!Da(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Rb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function YR(n,t){const e=new KR(n,t);return e.subscribe.bind(e)}class KR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");XR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Cg),r.error===void 0&&(r.error=Cg),r.complete===void 0&&(r.complete=Cg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n){return n&&n._delegate?n._delegate:n}class kr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new MR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WR(t))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ta){return this.instances.has(t)}getOptions(t=Ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ta){return this.component?this.component.multipleInstances?t:Ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QR(n){return n===Ta?void 0:n}function WR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new $R(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zt||(zt={}));const JR={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},tC=zt.INFO,eC={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},nC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=eC[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lp{constructor(t){this.name=t,this._logLevel=tC,this._logHandler=nC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const iC=(n,t)=>t.some(e=>n instanceof e);let Cb,Ib;function sC(){return Cb||(Cb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rC(){return Ib||(Ib=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,Jg=new WeakMap,RE=new WeakMap,Ig=new WeakMap,jp=new WeakMap;function aC(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Ir(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&AE.set(e,n)}).catch(()=>{}),jp.set(t,n),t}function oC(n){if(Jg.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Jg.set(n,t)}let tp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Jg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||RE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ir(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function lC(n){tp=n(tp)}function cC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Mg(this),t,...e);return RE.set(i,t.sort?t.sort():[t]),Ir(i)}:rC().includes(n)?function(...t){return n.apply(Mg(this),t),Ir(AE.get(this))}:function(...t){return Ir(n.apply(Mg(this),t))}}function uC(n){return typeof n=="function"?cC(n):(n instanceof IDBTransaction&&oC(n),iC(n,sC())?new Proxy(n,tp):n)}function Ir(n){if(n instanceof IDBRequest)return aC(n);if(Ig.has(n))return Ig.get(n);const t=uC(n);return t!==n&&(Ig.set(n,t),jp.set(t,n)),t}const Mg=n=>jp.get(n);function hC(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Ir(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Ir(c.result),f.oldVersion,f.newVersion,Ir(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const fC=["get","getKey","getAll","getAllKeys","count"],dC=["put","add","delete","clear"],Dg=new Map;function Mb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Dg.get(t))return Dg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=dC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||fC.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&f.done]))[0]};return Dg.set(t,o),o}lC(n=>({...n,get:(t,e,i)=>Mb(t,e)||n.get(t,e,i),has:(t,e)=>!!Mb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(gC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function gC(n){return n.getComponent()?.type==="VERSION"}const ep="@firebase/app",Db="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Lp("@firebase/app"),pC="@firebase/app-compat",_C="@firebase/analytics-compat",yC="@firebase/analytics",vC="@firebase/app-check-compat",bC="@firebase/app-check",xC="@firebase/auth",TC="@firebase/auth-compat",EC="@firebase/database",wC="@firebase/data-connect",SC="@firebase/database-compat",AC="@firebase/functions",RC="@firebase/functions-compat",CC="@firebase/installations",IC="@firebase/installations-compat",MC="@firebase/messaging",DC="@firebase/messaging-compat",NC="@firebase/performance",OC="@firebase/performance-compat",kC="@firebase/remote-config",VC="@firebase/remote-config-compat",PC="@firebase/storage",LC="@firebase/storage-compat",jC="@firebase/firestore",zC="@firebase/ai",UC="@firebase/firestore-compat",BC="firebase",FC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",HC={[ep]:"fire-core",[pC]:"fire-core-compat",[yC]:"fire-analytics",[_C]:"fire-analytics-compat",[bC]:"fire-app-check",[vC]:"fire-app-check-compat",[xC]:"fire-auth",[TC]:"fire-auth-compat",[EC]:"fire-rtdb",[wC]:"fire-data-connect",[SC]:"fire-rtdb-compat",[AC]:"fire-fn",[RC]:"fire-fn-compat",[CC]:"fire-iid",[IC]:"fire-iid-compat",[MC]:"fire-fcm",[DC]:"fire-fcm-compat",[NC]:"fire-perf",[OC]:"fire-perf-compat",[kC]:"fire-rc",[VC]:"fire-rc-compat",[PC]:"fire-gcs",[LC]:"fire-gcs-compat",[jC]:"fire-fst",[UC]:"fire-fst-compat",[zC]:"fire-vertex","fire-js":"fire-js",[BC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,qC=new Map,ip=new Map;function Nb(n,t){try{n.container.addComponent(t)}catch(e){Ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Na(n){const t=n.name;if(ip.has(t))return Ps.debug(`There were multiple attempts to register component ${t}.`),!1;ip.set(t,n);for(const e of Sf.values())Nb(e,n);for(const e of qC.values())Nb(e,n);return!0}function td(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Qn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new eu("app","Firebase",GC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=FC;function CE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:np,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Mr.create("bad-app-name",{appName:String(r)});if(e||(e=EE()),!e)throw Mr.create("no-options");const o=Sf.get(r);if(o){if(Da(e,o.options)&&Da(i,o.config))return o;throw Mr.create("duplicate-app",{appName:r})}const c=new ZR(r);for(const f of ip.values())c.addComponent(f);const h=new YC(e,i,c);return Sf.set(r,h),h}function zp(n=np){const t=Sf.get(n);if(!t&&n===np&&EE())return CE();if(!t)throw Mr.create("no-app",{appName:n});return t}function Ki(n,t,e){let i=HC[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ps.warn(c.join(" "));return}Na(new kr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="firebase-heartbeat-database",XC=1,zc="firebase-heartbeat-store";let Ng=null;function IE(){return Ng||(Ng=hC(KC,XC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(zc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Mr.create("idb-open",{originalErrorMessage:n.message})})),Ng}async function $C(n){try{const e=(await IE()).transaction(zc),i=await e.objectStore(zc).get(ME(n));return await e.done,i}catch(t){if(t instanceof rs)Ps.warn(t.message);else{const e=Mr.create("idb-get",{originalErrorMessage:t?.message});Ps.warn(e.message)}}}async function Ob(n,t){try{const i=(await IE()).transaction(zc,"readwrite");await i.objectStore(zc).put(t,ME(n)),await i.done}catch(e){if(e instanceof rs)Ps.warn(e.message);else{const i=Mr.create("idb-set",{originalErrorMessage:e?.message});Ps.warn(i.message)}}}function ME(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=1024,WC=30;class ZC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new t2(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>WC){const r=e2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kb(),{heartbeatsToSend:e,unsentEntries:i}=JC(this._heartbeatsCache.heartbeats),r=wf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ps.warn(t),""}}}function kb(){return new Date().toISOString().substring(0,10)}function JC(n,t=QC){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Vb(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Vb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class t2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UR()?BR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await $C(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ob(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ob(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Vb(n){return wf(JSON.stringify({version:2,heartbeats:n})).length}function e2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n){Na(new kr("platform-logger",t=>new mC(t),"PRIVATE")),Na(new kr("heartbeat",t=>new ZC(t),"PRIVATE")),Ki(ep,Db,n),Ki(ep,Db,"esm2020"),Ki("fire-js","")}n2("");var i2="firebase",s2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(i2,s2,"app");function DE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r2=DE,NE=new eu("auth","Firebase",DE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Lp("@firebase/auth");function a2(n,...t){Af.logLevel<=zt.WARN&&Af.warn(`Auth (${za}): ${n}`,...t)}function hf(n,...t){Af.logLevel<=zt.ERROR&&Af.error(`Auth (${za}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,...t){throw Bp(n,...t)}function vi(n,...t){return Bp(n,...t)}function Up(n,t,e){const i={...r2(),[t]:e};return new eu("auth","Firebase",i).create(t,{appName:n.name})}function Ca(n){return Up(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o2(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&es(n,"argument-error"),Up(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return NE.create(n,...t)}function St(n,t,...e){if(!n)throw Bp(t,...e)}function Ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw hf(t),new Error(t)}function Ls(n,t){n||Ds(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){return typeof self<"u"&&self.location?.href||""}function l2(){return Pb()==="http:"||Pb()==="https:"}function Pb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l2()||PR()||"connection"in navigator)?navigator.onLine:!0}function u2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ls(e>t,"Short delay should be less than long delay!"),this.isMobile=OR()||LR()}get(){return c2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n,t){Ls(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d2=new iu(3e4,6e4);function Hp(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function rl(n,t,e,i,r={}){return kE(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=nu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return VR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ja(n.emulatorConfig.host)&&(m.credentials="include"),OE.fetch()(await VE(n,n.config.apiHost,e,h),m)})}async function kE(n,t,e){n._canInitEmulator=!1;const i={...h2,...t};try{const r=new g2(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Fh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Fh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Fh(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Up(n,_,m);es(n,_)}}catch(r){if(r instanceof rs)throw r;es(n,"network-request-failed",{message:String(r)})}}async function m2(n,t,e,i,r={}){const o=await rl(n,t,e,i,r);return"mfaPendingCredential"in o&&es(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function VE(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Fp(n.config,r):`${n.config.apiScheme}://${r}`;return f2.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class g2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(vi(this.auth,"network-request-failed")),d2.get())})}}function Fh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=vi(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(n,t){return rl(n,"POST","/v1/accounts:delete",t)}async function Rf(n,t){return rl(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _2(n,t=!1){const e=ti(n),i=await e.getIdToken(t),r=qp(i);St(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Mc(Og(r.auth_time)),issuedAtTime:Mc(Og(r.iat)),expirationTime:Mc(Og(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Og(n){return Number(n)*1e3}function qp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const r=bE(e);return r?JSON.parse(r):(hf("Failed to decode base64 JWT payload"),null)}catch(r){return hf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Lb(n){const t=qp(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof rs&&y2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function y2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(n){const t=n.auth,e=await n.getIdToken(),i=await Uc(n,Rf(t,{idToken:e}));St(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?PE(r.providerUserInfo):[],c=x2(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,m=h?f:!1,_={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new rp(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function b2(n){const t=ti(n);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function x2(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function PE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(n,t){const e=await kE(n,{},async()=>{const i=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await VE(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&ja(n.emulatorConfig.host)&&(f.credentials="include"),OE.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function E2(n,t){return rl(n,"POST","/v2/accounts:revokeToken",Hp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Lb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=Lb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await T2(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Fo;return i&&(St(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(St(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(St(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class pi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new v2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new rp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Uc(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return _2(this,t)}reload(){return b2(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Cf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Ca(this.auth));const t=await this.getIdToken();return await Uc(this,p2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:E,providerData:C,stsTokenManager:M}=e;St(y&&M,t,"internal-error");const D=Fo.fromJSON(this.name,M);St(typeof y=="string",t,"internal-error"),br(i,t.name),br(r,t.name),St(typeof b=="boolean",t,"internal-error"),St(typeof E=="boolean",t,"internal-error"),br(o,t.name),br(c,t.name),br(h,t.name),br(f,t.name),br(m,t.name),br(_,t.name);const L=new pi({uid:y,auth:t,email:r,emailVerified:b,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:D,createdAt:m,lastLoginAt:_});return C&&Array.isArray(C)&&(L.providerData=C.map(F=>({...F}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(t,e,i=!1){const r=new Fo;r.updateFromServerResponse(e);const o=new pi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Cf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];St(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?PE(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Fo;h.updateFromIdToken(i);const f=new pi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new rp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;function Ns(n){Ls(n instanceof Function,"Expected a class definition");let t=jb.get(n);return t?(Ls(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,jb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}LE.type="NONE";const zb=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n,t,e){return`firebase:${n}:${t}:${e}`}class Ho{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=ff(this.userKey,r.apiKey,o),this.fullPersistenceKey=ff("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Rf(this.auth,{idToken:t}).catch(()=>{});return e?pi._fromGetAccountInfoResponse(this.auth,e,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Ho(Ns(zb),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Ns(zb);const c=ff(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const _=await m._get(c);if(_){let y;if(typeof _=="string"){const b=await Rf(t,{idToken:_}).catch(()=>{});if(!b)break;y=await pi._fromGetAccountInfoResponse(t,b,_)}else y=pi._fromJSON(t,_);m!==o&&(h=y),o=m;break}}catch{}const f=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ho(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Ho(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HE(t))return"Blackberry";if(qE(t))return"Webos";if(zE(t))return"Safari";if((t.includes("chrome/")||UE(t))&&!t.includes("edge/"))return"Chrome";if(FE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function jE(n=dn()){return/firefox\//i.test(n)}function zE(n=dn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UE(n=dn()){return/crios\//i.test(n)}function BE(n=dn()){return/iemobile/i.test(n)}function FE(n=dn()){return/android/i.test(n)}function HE(n=dn()){return/blackberry/i.test(n)}function qE(n=dn()){return/webos/i.test(n)}function Gp(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function w2(n=dn()){return Gp(n)&&!!window.navigator?.standalone}function S2(){return jR()&&document.documentMode===10}function GE(n=dn()){return Gp(n)||FE(n)||qE(n)||HE(n)||/windows phone/i.test(n)||BE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n,t=[]){let e;switch(n){case"Browser":e=Ub(dn());break;case"Worker":e=`${Ub(dn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${za}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(n,t={}){return rl(n,"GET","/v2/passwordPolicy",Hp(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=6;class I2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??C2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bb(this),this.idTokenSubscription=new Bb(this),this.beforeStateQueue=new A2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ns(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ho.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Rf(this,{idToken:t}),i=await pi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=u2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(Ca(this));const e=t?ti(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await R2(this),e=new I2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new eu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await E2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ns(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Ns(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&a2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ed(n){return ti(n)}class Bb{constructor(t){this.auth=t,this.observer=null,this.addObserver=YR(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D2(n){Yp=n}function N2(n){return Yp.loadJS(n)}function O2(){return Yp.gapiScript}function k2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(n,t){const e=td(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Da(o,t??{}))return r;es(r,"already-initialized")}return e.initialize({options:t})}function P2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ns);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function L2(n,t,e){const i=ed(n);St(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=KE(t),{host:c,port:h}=j2(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){St(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),St(Da(m,i.config.emulator)&&Da(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,ja(c)?(Vp(`${o}//${c}${f}`),Pp("Auth",!0)):z2()}function KE(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function j2(n){const t=KE(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Fb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Fb(c)}}}function Fb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function z2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ds("not implemented")}_getIdTokenResponse(t){return Ds("not implemented")}_linkToIdToken(t,e){return Ds("not implemented")}_getReauthenticationResolver(t){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n,t){return m2(n,"POST","/v1/accounts:signInWithIdp",Hp(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="http://localhost";class Oa extends XE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):es("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Oa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return qo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,qo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,qo(t,e)}buildRequest(){const t={requestUri:U2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=nu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Kp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends su{constructor(){super("facebook.com")}static credential(t){return Oa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Oa._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ms.credential(e,i)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends su{constructor(){super("github.com")}static credential(t){return Oa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends su{constructor(){super("twitter.com")}static credential(t,e){return Oa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return wr.credential(e,i)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await pi._fromIdTokenResponse(t,i,r),c=Hb(i);return new $o({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Hb(i);return new $o({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Hb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends rs{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,If.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new If(t,e,i,r)}}function $E(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(n,o,t,i):o})}async function B2(n,t,e=!1){const i=await Uc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return $o._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(n,t,e=!1){const{auth:i}=n;if(Qn(i.app))return Promise.reject(Ca(i));const r="reauthenticate";try{const o=await Uc(n,$E(i,r,t,n),e);St(o.idToken,i,"internal-error");const c=qp(o.idToken);St(c,i,"internal-error");const{sub:h}=c;return St(n.uid===h,i,"user-mismatch"),$o._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&es(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(n,t,e=!1){if(Qn(n.app))return Promise.reject(Ca(n));const i="signIn",r=await $E(n,i,t),o=await $o._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}function q2(n,t,e,i){return ti(n).onIdTokenChanged(t,e,i)}function G2(n,t,e){return ti(n).beforeAuthStateChanged(t,e)}const Mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=1e3,K2=10;class WE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);S2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,K2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}WE.type="LOCAL";const X2=WE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}ZE.type="SESSION";const JE=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new nd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await $2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=Xp("",20);r.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(y){const b=y;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function W2(n){Xi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function Z2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J2(){return navigator?.serviceWorker?.controller||null}function tI(){return tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firebaseLocalStorageDb",eI=1,Df="firebaseLocalStorage",nw="fbase_key";class ru{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function id(n,t){return n.transaction([Df],t?"readwrite":"readonly").objectStore(Df)}function nI(){const n=indexedDB.deleteDatabase(ew);return new ru(n).toPromise()}function ap(){const n=indexedDB.open(ew,eI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Df,{keyPath:nw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Df)?t(i):(i.close(),await nI(),t(await ap()))})})}async function qb(n,t,e){const i=id(n,!0).put({[nw]:t,value:e});return new ru(i).toPromise()}async function iI(n,t){const e=id(n,!1).get(t),i=await new ru(e).toPromise();return i===void 0?null:i.value}function Gb(n,t){const e=id(n,!0).delete(t);return new ru(e).toPromise()}const sI=800,rI=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>rI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(tI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Z2(),!this.activeServiceWorker)return;this.sender=new Q2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||J2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ap();return await qb(t,Mf,"1"),await Gb(t,Mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>qb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>iI(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Gb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=id(r,!1).getAll();return new ru(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const aI=iw;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,t){return t?Ns(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends XE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return qo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return qo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function oI(n){return H2(n.auth,new $p(n),n.bypassAuthState)}function lI(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),F2(e,new $p(n),n.bypassAuthState)}async function cI(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),B2(e,new $p(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oI;case"linkViaPopup":case"linkViaRedirect":return cI;case"reauthViaPopup":case"reauthViaRedirect":return lI;default:es(this.auth,"internal-error")}}resolve(t){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new iu(2e3,1e4);async function hI(n,t,e){if(Qn(n.app))return Promise.reject(vi(n,"operation-not-supported-in-this-environment"));const i=ed(n);o2(n,t,Kp);const r=sw(i,e);return new Sa(i,"signInViaPopup",t,r).executeNotNull()}class Sa extends rw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const t=Xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uI.get())};t()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="pendingRedirect",df=new Map;class dI extends rw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=df.get(this.auth._key());if(!t){try{const i=await mI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}df.set(this.auth._key(),t)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mI(n,t){const e=_I(t),i=pI(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function gI(n,t){df.set(n._key(),t)}function pI(n){return Ns(n._redirectPersistence)}function _I(n){return ff(fI,n.config.apiKey,n.name)}async function yI(n,t,e=!1){if(Qn(n.app))return Promise.reject(Ca(n));const i=ed(n),r=sw(i,t),c=await new dI(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=600*1e3;class bI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!aw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(vi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yb(t))}saveEventToCache(t){this.cachedEventUids.add(Yb(t)),this.lastProcessedEventTime=Date.now()}}function Yb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function aw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function xI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(n,t={}){return rl(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wI=/^https?/;async function SI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await TI(n);for(const e of t)try{if(AI(e))return}catch{}es(n,"unauthorized-domain")}function AI(n){const t=sp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!wI.test(e))return!1;if(EI.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new iu(3e4,6e4);function Kb(){const n=Xi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function CI(n){return new Promise((t,e)=>{function i(){Kb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kb(),e(vi(n,"network-request-failed"))},timeout:RI.get()})}if(Xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Xi().gapi?.load)i();else{const r=k2("iframefcb");return Xi()[r]=()=>{gapi.load?i():e(vi(n,"network-request-failed"))},N2(`${O2()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw mf=null,t})}let mf=null;function II(n){return mf=mf||CI(n),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new iu(5e3,15e3),DI="__/auth/iframe",NI="emulator/auth/iframe",OI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VI(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Fp(t,NI):`https://${n.config.authDomain}/${DI}`,i={apiKey:t.apiKey,appName:n.name,v:za},r=kI.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${nu(i).slice(1)}`}async function PI(n){const t=await II(n),e=Xi().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:VI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OI,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=vi(n,"network-request-failed"),h=Xi().setTimeout(()=>{o(c)},MI.get());function f(){Xi().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jI=500,zI=600,UI="_blank",BI="http://localhost";class Xb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FI(n,t,e,i=jI,r=zI){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...LI,width:i.toString(),height:r.toString(),top:o,left:c},m=dn().toLowerCase();e&&(h=UE(m)?UI:e),jE(m)&&(t=t||BI,f.scrollbars="yes");const _=Object.entries(f).reduce((b,[E,C])=>`${b}${E}=${C},`,"");if(w2(m)&&h!=="_self")return HI(t||"",h),new Xb(null);const y=window.open(t||"",h,_);St(y,n,"popup-blocked");try{y.focus()}catch{}return new Xb(y)}function HI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="__/auth/handler",GI="emulator/auth/handler",YI=encodeURIComponent("fac");async function $b(n,t,e,i,r,o){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:za,eventId:r};if(t instanceof Kp){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",GR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,y]of Object.entries({}))c[_]=y}if(t instanceof su){const _=t.getScopes().filter(y=>y!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),m=f?`#${YI}=${encodeURIComponent(f)}`:"";return`${KI(n)}?${nu(h).slice(1)}${m}`}function KI({config:n}){return n.emulator?Fp(n,GI):`https://${n.authDomain}/${qI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="webStorageSupport";class XI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JE,this._completeRedirectFn=yI,this._overrideRedirectResult=gI}async _openPopup(t,e,i,r){Ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await $b(t,e,i,sp(),r);return FI(t,o,Xp())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await $b(t,e,i,sp(),r);return W2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Ls(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await PI(t),i=new bI(t);return e.register("authEvent",r=>(St(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(kg,{type:kg},r=>{const o=r?.[0]?.[kg];o!==void 0&&e(!!o),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=SI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return GE()||zE()||Gp()}}const $I=XI;var Qb="@firebase/auth",Wb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZI(n){Na(new kr("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(n)},m=new M2(i,r,o,f);return P2(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Na(new kr("auth-internal",t=>{const e=ed(t.getProvider("auth").getImmediate());return(i=>new QI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(Qb,Wb,WI(n)),Ki(Qb,Wb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=300,tM=wE("authIdTokenMaxAge")||JI;let Zb=null;const eM=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>tM)return;const r=e?.token;Zb!==r&&(Zb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function nM(n=zp()){const t=td(n,"auth");if(t.isInitialized())return t.getImmediate();const e=V2(n,{popupRedirectResolver:$I,persistence:[aI,X2,JE]}),i=wE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=eM(o.toString());G2(e,c,()=>c(e.currentUser)),q2(e,h=>c(h))}}const r=xE("auth");return r&&L2(e,`http://${r}`),e}function iM(){return document.getElementsByTagName("head")?.[0]??document}D2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=vi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",iM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZI("Browser");var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dr,ow;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,A){function N(){}N.prototype=A.prototype,I.F=A.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(P,k,j){for(var O=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)O[Nt-2]=arguments[Nt];return A.prototype[k].apply(P,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,A,N){N||(N=0);const P=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)P[k]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(k=0;k<16;++k)P[k]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=I.g[0],N=I.g[1],k=I.g[2];let j=I.g[3],O;O=A+(j^N&(k^j))+P[0]+3614090360&4294967295,A=N+(O<<7&4294967295|O>>>25),O=j+(k^A&(N^k))+P[1]+3905402710&4294967295,j=A+(O<<12&4294967295|O>>>20),O=k+(N^j&(A^N))+P[2]+606105819&4294967295,k=j+(O<<17&4294967295|O>>>15),O=N+(A^k&(j^A))+P[3]+3250441966&4294967295,N=k+(O<<22&4294967295|O>>>10),O=A+(j^N&(k^j))+P[4]+4118548399&4294967295,A=N+(O<<7&4294967295|O>>>25),O=j+(k^A&(N^k))+P[5]+1200080426&4294967295,j=A+(O<<12&4294967295|O>>>20),O=k+(N^j&(A^N))+P[6]+2821735955&4294967295,k=j+(O<<17&4294967295|O>>>15),O=N+(A^k&(j^A))+P[7]+4249261313&4294967295,N=k+(O<<22&4294967295|O>>>10),O=A+(j^N&(k^j))+P[8]+1770035416&4294967295,A=N+(O<<7&4294967295|O>>>25),O=j+(k^A&(N^k))+P[9]+2336552879&4294967295,j=A+(O<<12&4294967295|O>>>20),O=k+(N^j&(A^N))+P[10]+4294925233&4294967295,k=j+(O<<17&4294967295|O>>>15),O=N+(A^k&(j^A))+P[11]+2304563134&4294967295,N=k+(O<<22&4294967295|O>>>10),O=A+(j^N&(k^j))+P[12]+1804603682&4294967295,A=N+(O<<7&4294967295|O>>>25),O=j+(k^A&(N^k))+P[13]+4254626195&4294967295,j=A+(O<<12&4294967295|O>>>20),O=k+(N^j&(A^N))+P[14]+2792965006&4294967295,k=j+(O<<17&4294967295|O>>>15),O=N+(A^k&(j^A))+P[15]+1236535329&4294967295,N=k+(O<<22&4294967295|O>>>10),O=A+(k^j&(N^k))+P[1]+4129170786&4294967295,A=N+(O<<5&4294967295|O>>>27),O=j+(N^k&(A^N))+P[6]+3225465664&4294967295,j=A+(O<<9&4294967295|O>>>23),O=k+(A^N&(j^A))+P[11]+643717713&4294967295,k=j+(O<<14&4294967295|O>>>18),O=N+(j^A&(k^j))+P[0]+3921069994&4294967295,N=k+(O<<20&4294967295|O>>>12),O=A+(k^j&(N^k))+P[5]+3593408605&4294967295,A=N+(O<<5&4294967295|O>>>27),O=j+(N^k&(A^N))+P[10]+38016083&4294967295,j=A+(O<<9&4294967295|O>>>23),O=k+(A^N&(j^A))+P[15]+3634488961&4294967295,k=j+(O<<14&4294967295|O>>>18),O=N+(j^A&(k^j))+P[4]+3889429448&4294967295,N=k+(O<<20&4294967295|O>>>12),O=A+(k^j&(N^k))+P[9]+568446438&4294967295,A=N+(O<<5&4294967295|O>>>27),O=j+(N^k&(A^N))+P[14]+3275163606&4294967295,j=A+(O<<9&4294967295|O>>>23),O=k+(A^N&(j^A))+P[3]+4107603335&4294967295,k=j+(O<<14&4294967295|O>>>18),O=N+(j^A&(k^j))+P[8]+1163531501&4294967295,N=k+(O<<20&4294967295|O>>>12),O=A+(k^j&(N^k))+P[13]+2850285829&4294967295,A=N+(O<<5&4294967295|O>>>27),O=j+(N^k&(A^N))+P[2]+4243563512&4294967295,j=A+(O<<9&4294967295|O>>>23),O=k+(A^N&(j^A))+P[7]+1735328473&4294967295,k=j+(O<<14&4294967295|O>>>18),O=N+(j^A&(k^j))+P[12]+2368359562&4294967295,N=k+(O<<20&4294967295|O>>>12),O=A+(N^k^j)+P[5]+4294588738&4294967295,A=N+(O<<4&4294967295|O>>>28),O=j+(A^N^k)+P[8]+2272392833&4294967295,j=A+(O<<11&4294967295|O>>>21),O=k+(j^A^N)+P[11]+1839030562&4294967295,k=j+(O<<16&4294967295|O>>>16),O=N+(k^j^A)+P[14]+4259657740&4294967295,N=k+(O<<23&4294967295|O>>>9),O=A+(N^k^j)+P[1]+2763975236&4294967295,A=N+(O<<4&4294967295|O>>>28),O=j+(A^N^k)+P[4]+1272893353&4294967295,j=A+(O<<11&4294967295|O>>>21),O=k+(j^A^N)+P[7]+4139469664&4294967295,k=j+(O<<16&4294967295|O>>>16),O=N+(k^j^A)+P[10]+3200236656&4294967295,N=k+(O<<23&4294967295|O>>>9),O=A+(N^k^j)+P[13]+681279174&4294967295,A=N+(O<<4&4294967295|O>>>28),O=j+(A^N^k)+P[0]+3936430074&4294967295,j=A+(O<<11&4294967295|O>>>21),O=k+(j^A^N)+P[3]+3572445317&4294967295,k=j+(O<<16&4294967295|O>>>16),O=N+(k^j^A)+P[6]+76029189&4294967295,N=k+(O<<23&4294967295|O>>>9),O=A+(N^k^j)+P[9]+3654602809&4294967295,A=N+(O<<4&4294967295|O>>>28),O=j+(A^N^k)+P[12]+3873151461&4294967295,j=A+(O<<11&4294967295|O>>>21),O=k+(j^A^N)+P[15]+530742520&4294967295,k=j+(O<<16&4294967295|O>>>16),O=N+(k^j^A)+P[2]+3299628645&4294967295,N=k+(O<<23&4294967295|O>>>9),O=A+(k^(N|~j))+P[0]+4096336452&4294967295,A=N+(O<<6&4294967295|O>>>26),O=j+(N^(A|~k))+P[7]+1126891415&4294967295,j=A+(O<<10&4294967295|O>>>22),O=k+(A^(j|~N))+P[14]+2878612391&4294967295,k=j+(O<<15&4294967295|O>>>17),O=N+(j^(k|~A))+P[5]+4237533241&4294967295,N=k+(O<<21&4294967295|O>>>11),O=A+(k^(N|~j))+P[12]+1700485571&4294967295,A=N+(O<<6&4294967295|O>>>26),O=j+(N^(A|~k))+P[3]+2399980690&4294967295,j=A+(O<<10&4294967295|O>>>22),O=k+(A^(j|~N))+P[10]+4293915773&4294967295,k=j+(O<<15&4294967295|O>>>17),O=N+(j^(k|~A))+P[1]+2240044497&4294967295,N=k+(O<<21&4294967295|O>>>11),O=A+(k^(N|~j))+P[8]+1873313359&4294967295,A=N+(O<<6&4294967295|O>>>26),O=j+(N^(A|~k))+P[15]+4264355552&4294967295,j=A+(O<<10&4294967295|O>>>22),O=k+(A^(j|~N))+P[6]+2734768916&4294967295,k=j+(O<<15&4294967295|O>>>17),O=N+(j^(k|~A))+P[13]+1309151649&4294967295,N=k+(O<<21&4294967295|O>>>11),O=A+(k^(N|~j))+P[4]+4149444226&4294967295,A=N+(O<<6&4294967295|O>>>26),O=j+(N^(A|~k))+P[11]+3174756917&4294967295,j=A+(O<<10&4294967295|O>>>22),O=k+(A^(j|~N))+P[2]+718787259&4294967295,k=j+(O<<15&4294967295|O>>>17),O=N+(j^(k|~A))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+j&4294967295}i.prototype.v=function(I,A){A===void 0&&(A=I.length);const N=A-this.blockSize,P=this.C;let k=this.h,j=0;for(;j<A;){if(k==0)for(;j<=N;)r(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<A;)if(P[k++]=I.charCodeAt(j++),k==this.blockSize){r(this,P),k=0;break}}else for(;j<A;)if(P[k++]=I[j++],k==this.blockSize){r(this,P),k=0;break}}this.h=k,this.o+=A},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)I[A++]=this.g[N]>>>P&255;return I};function o(I,A){var N=h;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=A(I)}function c(I,A){this.h=A;const N=[];let P=!0;for(let k=I.length-1;k>=0;k--){const j=I[k]|0;P&&j==A||(N[k]=j,P=!1)}this.g=N}var h={};function f(I){return-128<=I&&I<128?o(I,function(A){return new c([A|0],A<0?-1:0)}):new c([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return y;if(I<0)return D(m(-I));const A=[];let N=1;for(let P=0;I>=N;P++)A[P]=I/N|0,N*=4294967296;return new c(A,0)}function _(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return D(_(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=m(Math.pow(A,8));let P=y;for(let j=0;j<I.length;j+=8){var k=Math.min(8,I.length-j);const O=parseInt(I.substring(j,j+k),A);k<8?(k=m(Math.pow(A,k)),P=P.j(k).add(m(O))):(P=P.j(N),P=P.add(m(O)))}return P}var y=f(0),b=f(1),E=f(16777216);n=c.prototype,n.m=function(){if(M(this))return-D(this).m();let I=0,A=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);I+=(P>=0?P:4294967296+P)*A,A*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(M(this))return"-"+D(this).toString(I);const A=m(Math.pow(I,6));var N=this;let P="";for(;;){const k=Z(N,A).g;N=L(N,k.j(A));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=k,C(N))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=L(this,I),M(I)?-1:C(I)?0:1};function D(I){const A=I.g.length,N=[];for(let P=0;P<A;P++)N[P]=~I.g[P];return new c(N,~I.h).add(b)}n.abs=function(){return M(this)?D(this):this},n.add=function(I){const A=Math.max(this.g.length,I.g.length),N=[];let P=0;for(let k=0;k<=A;k++){let j=P+(this.i(k)&65535)+(I.i(k)&65535),O=(j>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);P=O>>>16,j&=65535,O&=65535,N[k]=O<<16|j}return new c(N,N[N.length-1]&-2147483648?-1:0)};function L(I,A){return I.add(D(A))}n.j=function(I){if(C(this)||C(I))return y;if(M(this))return M(I)?D(this).j(D(I)):D(D(this).j(I));if(M(I))return D(this.j(D(I)));if(this.l(E)<0&&I.l(E)<0)return m(this.m()*I.m());const A=this.g.length+I.g.length,N=[];for(var P=0;P<2*A;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<I.g.length;k++){const j=this.i(P)>>>16,O=this.i(P)&65535,Nt=I.i(k)>>>16,Et=I.i(k)&65535;N[2*P+2*k]+=O*Et,F(N,2*P+2*k),N[2*P+2*k+1]+=j*Et,F(N,2*P+2*k+1),N[2*P+2*k+1]+=O*Nt,F(N,2*P+2*k+1),N[2*P+2*k+2]+=j*Nt,F(N,2*P+2*k+2)}for(I=0;I<A;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=A;I<2*A;I++)N[I]=0;return new c(N,0)};function F(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function X(I,A){this.g=I,this.h=A}function Z(I,A){if(C(A))throw Error("division by zero");if(C(I))return new X(y,y);if(M(I))return A=Z(D(I),A),new X(D(A.g),D(A.h));if(M(A))return A=Z(I,D(A)),new X(D(A.g),A.h);if(I.g.length>30){if(M(I)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var N=b,P=A;P.l(I)<=0;)N=W(N),P=W(P);var k=st(N,1),j=st(P,1);for(P=st(P,2),N=st(N,2);!C(P);){var O=j.add(P);O.l(I)<=0&&(k=k.add(N),j=O),P=st(P,1),N=st(N,1)}return A=L(I,k.j(A)),new X(k,A)}for(k=y;I.l(A)>=0;){for(N=Math.max(1,Math.floor(I.m()/A.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=m(N),O=j.j(A);M(O)||O.l(I)>0;)N-=P,j=m(N),O=j.j(A);C(j)&&(j=b),k=k.add(j),I=L(I,O)}return new X(k,I)}n.B=function(I){return Z(this,I).h},n.and=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)&I.i(P);return new c(N,this.h&I.h)},n.or=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)|I.i(P);return new c(N,this.h|I.h)},n.xor=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)^I.i(P);return new c(N,this.h^I.h)};function W(I){const A=I.g.length+1,N=[];for(let P=0;P<A;P++)N[P]=I.i(P)<<1|I.i(P-1)>>>31;return new c(N,I.h)}function st(I,A){const N=A>>5;A%=32;const P=I.g.length-N,k=[];for(let j=0;j<P;j++)k[j]=A>0?I.i(j+N)>>>A|I.i(j+N+1)<<32-A:I.i(j+N);return new c(k,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ow=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Dr=c}).apply(typeof Jb<"u"?Jb:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lw,Tc,cw,gf,op,uw,hw,fw;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var T=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var H=d[R];if(!(H in T))break t;T=T[H]}d=d[d.length-1],R=T[d],v=v(R),v!=R&&v!=null&&t(T,d,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(d){return d||function(v){var T=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&T.push([R,v[R]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,T){return d.call.apply(d.bind,arguments)}function m(d,v,T){return m=f,m.apply(null,arguments)}function _(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function y(d,v){function T(){}T.prototype=v.prototype,d.Z=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(R,H,$){for(var ct=Array(arguments.length-2),It=2;It<arguments.length;It++)ct[It-2]=arguments[It];return v.prototype[H].apply(R,ct)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function E(d){const v=d.length;if(v>0){const T=Array(v);for(let R=0;R<v;R++)T[R]=d[R];return T}return[]}function C(d,v){for(let R=1;R<arguments.length;R++){const H=arguments[R];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=d.length||0;const $=H.length||0;d.length=T+$;for(let ct=0;ct<$;ct++)d[T+ct]=H[ct]}else d.push(H)}}class M{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function D(d){c.setTimeout(()=>{throw d},0)}function L(){var d=I;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,T){const R=X.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var X=new M(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let W,st=!1,I=new F,A=()=>{const d=Promise.resolve(void 0);W=()=>{d.then(N)}};function N(){for(var d;d=L();){try{d.h.call(d.g)}catch(T){D(T)}var v=X;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}st=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Nt(d,v){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}y(Nt,k),Nt.prototype.init=function(d,v){const T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Nt.Z.h.call(this)},Nt.prototype.h=function(){Nt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),K=0;function ot(d,v,T,R,H){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=H,this.key=++K,this.da=this.fa=!1}function ht(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function bt(d,v,T){for(const R in d)v.call(T,d[R],R,d)}function kt(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function z(d){const v={};for(const T in d)v[T]=d[T];return v}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(d,v){let T,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(T in R)d[T]=R[T];for(let $=0;$<tt.length;$++)T=tt[$],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function lt(d){this.src=d,this.g={},this.h=0}lt.prototype.add=function(d,v,T,R,H){const $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);const ct=_t(d,v,R,H);return ct>-1?(v=d[ct],T||(v.fa=!1)):(v=new ot(v,this.src,$,!!R,H),v.fa=T,d.push(v)),v};function dt(d,v){const T=v.type;if(T in d.g){var R=d.g[T],H=Array.prototype.indexOf.call(R,v,void 0),$;($=H>=0)&&Array.prototype.splice.call(R,H,1),$&&(ht(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function _t(d,v,T,R){for(let H=0;H<d.length;++H){const $=d[H];if(!$.da&&$.listener==v&&$.capture==!!T&&$.ha==R)return H}return-1}var yt="closure_lm_"+(Math.random()*1e6|0),qt={};function Yt(d,v,T,R,H){if(Array.isArray(v)){for(let $=0;$<v.length;$++)Yt(d,v[$],T,R,H);return null}return T=dl(T),d&&d[Et]?d.J(v,T,h(R)?!!R.capture:!1,H):rn(d,v,T,!1,R,H)}function rn(d,v,T,R,H,$){if(!v)throw Error("Invalid event type");const ct=h(H)?!!H.capture:!!H;let It=Hr(d);if(It||(d[yt]=It=new lt(d)),T=It.add(v,T,R,ct,$),T.proxy)return T;if(R=bi(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)j||(H=ct),H===void 0&&(H=!1),d.addEventListener(v.toString(),R,H);else if(d.attachEvent)d.attachEvent(xi(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function bi(){function d(T){return v.call(d.src,d.listener,T)}const v=hl;return d}function Ya(d,v,T,R,H){if(Array.isArray(v))for(var $=0;$<v.length;$++)Ya(d,v[$],T,R,H);else R=h(R)?!!R.capture:!!R,T=dl(T),d&&d[Et]?(d=d.i,$=String(v).toString(),$ in d.g&&(v=d.g[$],T=_t(v,T,R,H),T>-1&&(ht(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete d.g[$],d.h--)))):d&&(d=Hr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=_t(v,T,R,H)),(T=d>-1?v[d]:null)&&Ka(T))}function Ka(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Et])dt(v.i,d);else{var T=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(T,R,d.capture):v.detachEvent?v.detachEvent(xi(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=Hr(v))?(dt(T,d),T.h==0&&(T.src=null,v[yt]=null)):ht(d)}}}function xi(d){return d in qt?qt[d]:qt[d]="on"+d}function hl(d,v){if(d.da)d=!0;else{v=new Nt(v,this);const T=d.listener,R=d.ha||d.src;d.fa&&Ka(d),d=T.call(R,v)}return d}function Hr(d){return d=d[yt],d instanceof lt?d:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(d){return typeof d=="function"?d:(d[fl]||(d[fl]=function(v){return d.handleEvent(v)}),d[fl])}function Ae(){P.call(this),this.i=new lt(this),this.M=this,this.G=null}y(Ae,P),Ae.prototype[Et]=!0,Ae.prototype.removeEventListener=function(d,v,T,R){Ya(this,d,v,T,R)};function Le(d,v){var T,R=d.G;if(R)for(T=[];R;R=R.G)T.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new k(v,d);else if(v instanceof k)v.target=v.target||d;else{var H=v;v=new k(R,d),at(v,H)}H=!0;let $,ct;if(T)for(ct=T.length-1;ct>=0;ct--)$=v.g=T[ct],H=Bs($,R,!0,v)&&H;if($=v.g=d,H=Bs($,R,!0,v)&&H,H=Bs($,R,!1,v)&&H,T)for(ct=0;ct<T.length;ct++)$=v.g=T[ct],H=Bs($,R,!1,v)&&H}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const T=d.g[v];for(let R=0;R<T.length;R++)ht(T[R]);delete d.g[v],d.h--}}this.G=null},Ae.prototype.J=function(d,v,T,R){return this.i.add(String(d),v,!1,T,R)},Ae.prototype.K=function(d,v,T,R){return this.i.add(String(d),v,!0,T,R)};function Bs(d,v,T,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let $=0;$<v.length;++$){const ct=v[$];if(ct&&!ct.da&&ct.capture==T){const It=ct.listener,xe=ct.ha||ct.src;ct.fa&&dt(d.i,ct),H=It.call(xe,R)!==!1&&H}}return H&&!R.defaultPrevented}function wd(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(d,v||0)}function du(d){d.g=wd(()=>{d.g=null,d.i&&(d.i=!1,du(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class mn extends P{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(d){P.call(this),this.h=d,this.g={}}y(qr,P);var ml=[];function gl(d){bt(d.g,function(v,T){this.g.hasOwnProperty(T)&&Ka(v)},d),d.g={}}qr.prototype.N=function(){qr.Z.N.call(this),gl(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=c.JSON.stringify,Sd=c.JSON.parse,mu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function gu(){}function pu(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){k.call(this,"d")}y(Xe,k);function Pn(){k.call(this,"c")}y(Pn,k);var be={},_u=null;function Xa(){return _u=_u||new Ae}be.Ia="serverreachability";function yu(d){k.call(this,be.Ia,d)}y(yu,k);function Ti(d){const v=Xa();Le(v,new yu(v))}be.STAT_EVENT="statevent";function Gr(d,v){k.call(this,be.STAT_EVENT,d),this.stat=v}y(Gr,k);function Re(d){const v=Xa();Le(v,new Gr(v,d))}be.Ja="timingevent";function Ei(d,v){k.call(this,be.Ja,d),this.size=v}y(Ei,k);function wi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function Ad(d,v,T,R,H,$){d.info(function(){if(d.g)if($){var ct="",It=$.split("&");for(let $t=0;$t<It.length;$t++){var xe=It[$t].split("=");if(xe.length>1){const me=xe[0];xe=xe[1];const Un=me.split("_");ct=Un.length>=2&&Un[1]=="type"?ct+(me+"="+xe+"&"):ct+(me+"=redacted&")}}}else ct=null;else ct=$;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+T+`
`+ct})}function vu(d,v,T,R,H,$,ct){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+T+`
`+$+" "+ct})}function Si(d,v,T,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Rd(d,T)+(R?" "+R:"")})}function Yr(d,v){d.info(function(){return"TIMEOUT: "+v})}si.prototype.info=function(){};function Rd(d,v){if(!d.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(d=0;d<$.length;d++)if(Array.isArray($[d])){var T=$[d];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var H=R[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ct=1;ct<R.length;ct++)R[ct]=""}}}}return Fs($)}catch{return v}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function Xr(){}y(Xr,gu),Xr.prototype.g=function(){return new XMLHttpRequest},_l=new Xr;function os(d){return encodeURIComponent(String(d))}function bu(d){var v=1;d=d.split(":");const T=[];for(;v>0&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function ri(d,v,T,R){this.j=d,this.i=v,this.l=T,this.S=R||1,this.V=new qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Ce={},qe={};function Ai(d,v,T){d.M=1,d.A=$r(Me(v)),d.u=T,d.R=!0,$a(d,null)}function $a(d,v){d.F=Date.now(),Ri(d),d.B=Me(d.A);var T=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),Ja(T.i,"t",R),d.C=0,T=d.j.L,d.h=new ai,d.g=Vu(d.j,T?v:null,!d.u),d.P>0&&(d.O=new mn(m(d.Y,d,d.g),d.P)),v=d.V,T=d.g,R=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(ml[0]=H.toString()),H=ml);for(let $=0;$<H.length;$++){const ct=Yt(T,H[$],R||v.handleEvent,!1,v.h||v);if(!ct)break;v.g[ct.key]=ct}v=d.J?z(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Ti(),Ad(d.i,d.v,d.B,d.l,d.S,d.u)}ri.prototype.ba=function(d){d=d.target;const v=this.O;v&&ci(d)==3?v.j():this.Y(d)},ri.prototype.Y=function(d){try{if(d==this.g)t:{const It=ci(this.g),xe=this.g.ya(),$t=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||It!=4||xe==7||(xe==8||$t<=0?Ti(3):Ti(2)),Ci(this);var v=this.g.ca();this.X=v;var T=Cd(this);if(this.o=v==200,vu(this.i,this.v,this.B,this.l,this.S,It,v),this.o){if(this.U&&!this.L){e:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var $=R;break e}}$=null}if(d=$)Si(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,d);else{this.o=!1,this.m=3,Re(12),Rn(this),Ln(this);break t}}if(this.R){d=!0;let me;for(;!this.K&&this.C<T.length;)if(me=Tu(this,T),me==qe){It==4&&(this.m=4,Re(14),d=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ce){this.m=4,Re(15),Si(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Si(this.i,this.l,me,null),Ii(this,me);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||T.length!=0||this.h.h||(this.m=1,Re(16),d=!1),this.o=this.o&&d,!d)Si(this.i,this.l,T,"[Invalid Chunked Response]"),Rn(this),Ln(this);else if(T.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Nl(ct),ct.P=!0,Re(11))}}else Si(this.i,this.l,T,null),Ii(this,T);It==4&&Rn(this),this.o&&!this.K&&(It==4?Du(this.j,this):(this.o=!1,Ri(this)))}else cs(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Rn(this),Ln(this)}}}catch{}finally{}};function Cd(d){if(!xu(d))return d.g.la();const v=$e(d.g);if(v==="")return"";let T="";const R=v.length,H=ci(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Rn(d),Ln(d),"";d.h.i=new c.TextDecoder}for(let $=0;$<R;$++)d.h.h=!0,T+=d.h.i.decode(v[$],{stream:!(H&&$==R-1)});return v.length=0,d.h.g+=T,d.C=0,d.h.g}function xu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Tu(d,v){var T=d.C,R=v.indexOf(`
`,T);return R==-1?qe:(T=Number(v.substring(T,R)),isNaN(T)?Ce:(R+=1,R+T>v.length?qe:(v=v.slice(R,R+T),d.C=R+T,v)))}ri.prototype.cancel=function(){this.K=!0,Rn(this)};function Ri(d){d.T=Date.now()+d.H,Qa(d,d.H)}function Qa(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=wi(m(d.aa,d),v)}function Ci(d){d.D&&(c.clearTimeout(d.D),d.D=null)}ri.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Yr(this.i,this.B),this.M!=2&&(Ti(),Re(17)),Rn(this),this.m=2,Ln(this)):Qa(this,this.T-d)};function Ln(d){d.j.I==0||d.K||Du(d.j,d)}function Rn(d){Ci(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,gl(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ii(d,v){try{var T=d.j;if(T.I!=0&&(T.g==d||Di(T.h,d))){if(!d.L&&Di(T.h,d)&&T.I==3){try{var R=T.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)so(T),Qs(T);else break t;na(T),Re(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=wi(m(T.Va,T),6e3));Mi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Li(T,11)}else if((d.L||T.g==d)&&so(T),!O(v))for(H=T.Ba.g.parse(v),v=0;v<H.length;v++){let $t=H[v];const me=$t[0];if(!(me<=T.K))if(T.K=me,$t=$t[1],T.I==2)if($t[0]=="c"){T.M=$t[1],T.ba=$t[2];const Un=$t[3];Un!=null&&(T.ka=Un,T.j.info("VER="+T.ka));const ji=$t[4];ji!=null&&(T.za=ji,T.j.info("SVER="+T.za));const ui=$t[5];ui!=null&&typeof ui=="number"&&ui>0&&(R=1.5*ui,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const hi=d.g;if(hi){const ia=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var $=R.h;$.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(bl($,$.h),$.h=null))}if(R.G){const ro=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(R.wa=ro,Jt(R.J,R.G,ro))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ct=d;if(R.na=ku(R,R.L?R.ba:null,R.W),ct.L){xl(R.h,ct);var It=ct,xe=R.O;xe&&(It.H=xe),It.D&&(Ci(It),Ri(It)),R.g=ct}else Iu(R);T.i.length>0&&Pi(T)}else $t[0]!="stop"&&$t[0]!="close"||Li(T,7);else T.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Li(T,7):Ml(T):$t[0]!="noop"&&T.l&&T.l.qa($t),T.A=0)}}Ti(4)}catch{}}var Ie=class{constructor(d,v){this.g=d,this.map=v}};function yl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Mi(d){return d.h?1:d.g?d.g.size:0}function Di(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function bl(d,v){d.g?d.g.add(v):d.h=v}function xl(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Tl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.G);return v}return E(d.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(d,v){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const R=d[T].indexOf("=");let H,$=null;R>=0?(H=d[T].substring(0,R),$=d[T].substring(R+1)):H=d[T],v(H,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Cn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Cn?(this.l=d.l,Ge(this,d.j),this.o=d.o,this.g=d.g,Hs(this,d.u),this.h=d.h,El(this,Ru(d.i)),this.m=d.m):d&&(v=String(d).match(Eu))?(this.l=!1,Ge(this,v[1]||"",!0),this.o=Ni(v[2]||""),this.g=Ni(v[3]||"",!0),Hs(this,v[4]),this.h=Ni(v[5]||"",!0),El(this,v[6]||"",!0),this.m=Ni(v[7]||"")):(this.l=!1,this.i=new Gs(null,this.l))}Cn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Qr(v,Za,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Qr(v,Za,!0),"@"),d.push(os(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Qr(T,T.charAt(0)=="/"?wl:wu,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Qr(T,Su)),d.join("")},Cn.prototype.resolve=function(d){const v=Me(this);let T=!!d.j;T?Ge(v,d.j):T=!!d.o,T?v.o=d.o:T=!!d.g,T?v.g=d.g:T=d.u!=null;var R=d.h;if(T)Hs(v,d.u);else if(T=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var H=v.h.lastIndexOf("/");H!=-1&&(R=v.h.slice(0,H+1)+R)}if(H=R,H==".."||H==".")R="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){R=H.lastIndexOf("/",0)==0,H=H.split("/");const $=[];for(let ct=0;ct<H.length;){const It=H[ct++];It=="."?R&&ct==H.length&&$.push(""):It==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),R&&ct==H.length&&$.push("")):($.push(It),R=!0)}R=$.join("/")}else R=H}return T?v.h=R:T=d.i.toString()!=="",T?El(v,Ru(d.i)):T=!!d.m,T&&(v.m=d.m),v};function Me(d){return new Cn(d)}function Ge(d,v,T){d.j=T?Ni(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Hs(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function El(d,v,T){v instanceof Gs?(d.i=v,to(d.i,d.l)):(T||(v=Qr(v,qs)),d.i=new Gs(v,d.l))}function Jt(d,v,T){d.i.set(v,T)}function $r(d){return Jt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ni(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qr(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,_n),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function _n(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Za=/[#\/\?@]/g,wu=/[#\?:]/g,wl=/[#\?]/g,qs=/[#\?@]/g,Su=/#/g;function Gs(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function yn(d){d.g||(d.g=new Map,d.h=0,d.i&&Wa(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Gs.prototype,n.add=function(d,v){yn(this),this.i=null,d=Ys(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function Au(d,v){yn(d),v=Ys(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Sl(d,v){return yn(d),v=Ys(d,v),d.g.has(v)}n.forEach=function(d,v){yn(this),this.g.forEach(function(T,R){T.forEach(function(H){d.call(v,H,R,this)},this)},this)};function Al(d,v){yn(d);let T=[];if(typeof v=="string")Sl(d,v)&&(T=T.concat(d.g.get(Ys(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)T=T.concat(d[v]);return T}n.set=function(d,v){return yn(this),this.i=null,d=Ys(this,d),Sl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=Al(this,d),d.length>0?String(d[0]):v):v};function Ja(d,v,T){Au(d,v),T.length>0&&(d.i=null,d.g.set(Ys(d,v),E(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var T=v[R];const H=os(T);T=Al(this,T);for(let $=0;$<T.length;$++){let ct=H;T[$]!==""&&(ct+="="+os(T[$])),d.push(ct)}}return this.i=d.join("&")};function Ru(d){const v=new Gs;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Ys(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function to(d,v){v&&!d.j&&(yn(d),d.i=null,d.g.forEach(function(T,R){const H=R.toLowerCase();R!=H&&(Au(this,R),Ja(this,H,T))},d)),d.j=v}function oi(d,v){const T=new si;if(c.Image){const R=new Image;R.onload=_(jn,T,"TestLoadImage: loaded",!0,v,R),R.onerror=_(jn,T,"TestLoadImage: error",!1,v,R),R.onabort=_(jn,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=_(jn,T,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function Rl(d,v){const T=new si,R=new AbortController,H=setTimeout(()=>{R.abort(),jn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then($=>{clearTimeout(H),$.ok?jn(T,"TestPingServer: ok",!0,v):jn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),jn(T,"TestPingServer: error",!1,v)})}function jn(d,v,T,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(T)}catch{}}function Ks(){this.g=new mu}function Oi(d){this.i=d.Sb||null,this.h=d.ab||!1}y(Oi,gu),Oi.prototype.g=function(){return new Wr(this.i,this.h)};function Wr(d,v){Ae.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Wr,Ae),n=Wr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,li(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function eo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Xs(this):li(this),this.readyState==3&&eo(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Xs(this))},n.Na=function(d){this.g&&(this.response=d,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,li(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function li(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function zn(d){let v="";return bt(d,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function Zr(d,v,T){t:{for(R in T){var R=!1;break t}R=!0}R||(T=zn(T),typeof d=="string"?T!=null&&os(T):Jt(d,v,T))}function se(d){Ae.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(se,Ae);var ki=/^https?$/i,Cl=["POST","PUT"];n=se.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch($){Jr(this,$);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)T.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())T.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Cl,v,void 0)>=0)||R||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ct]of T)this.g.setRequestHeader($,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch($){Jr(this,$)}};function Jr(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Il(d),ls(d)}function Il(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Le(this,"complete"),Le(this,"abort"),ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),se.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},n.Xa=function(){ta(this)};function ta(d){if(d.h&&typeof o<"u"){if(d.v&&ci(d)==4)setTimeout(d.Ca.bind(d),0);else if(Le(d,"readystatechange"),ci(d)==4){d.h=!1;try{const $=d.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var R;if(R=$===0){let ct=String(d.D).match(Eu)[1]||null;!ct&&c.self&&c.self.location&&(ct=c.self.location.protocol.slice(0,-1)),R=!ki.test(ct?ct.toLowerCase():"")}T=R}if(T)Le(d,"complete"),Le(d,"success");else{d.o=6;try{var H=ci(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",Il(d)}}finally{ls(d)}}}}function ls(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,v||Le(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ci(d){return d.g?d.g.readyState:0}n.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Sd(v)}};function $e(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(d){const v={};d=(d.g&&ci(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(O(d[R]))continue;var T=bu(d[R]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=v[H]||[];v[H]=$,$.push(T)}kt(v,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function $s(d){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,d),this.Za=Vi("retryDelaySeedMs",1e4,d),this.Ta=Vi("forwardChannelMaxRetries",2,d),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(d&&d.concurrentRequestLimit),this.Ba=new Ks,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=$s.prototype,n.ka=8,n.I=1,n.connect=function(d,v,T,R){Re(0),this.W=d,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=ku(this,null,this.W),Pi(this)};function Ml(d){if(no(d),d.I==3){var v=d.V++,T=Me(d.J);if(Jt(T,"SID",d.M),Jt(T,"RID",v),Jt(T,"TYPE","terminate"),ea(d,T),v=new ri(d,d.j,v),v.M=2,v.A=$r(Me(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=Vu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ri(v)}Ou(d)}function Qs(d){d.g&&(Nl(d),d.g.cancel(),d.g=null)}function no(d){Qs(d),d.v&&(c.clearTimeout(d.v),d.v=null),so(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Pi(d){if(!vl(d.h)&&!d.m){d.m=!0;var v=d.Ea;W||A(),st||(W(),st=!0),I.add(v,d),d.D=0}}function io(d,v){return Mi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=wi(m(d.Ea,d,v),Nu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new ri(this,this.j,d);let $=this.o;if(this.U&&($?($=z($),at($,this.U)):$=this.U),this.u!==null||this.R||(H.J=$,$=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Cu(this,H,v),T=Me(this.J),Jt(T,"RID",d),Jt(T,"CVER",22),this.G&&Jt(T,"X-HTTP-Session-Id",this.G),ea(this,T),$&&(this.R?v="headers="+os(zn($))+"&"+v:this.u&&Zr(T,this.u,$)),bl(this.h,H),this.Ra&&Jt(T,"TYPE","init"),this.S?(Jt(T,"$req",v),Jt(T,"SID","null"),H.U=!0,Ai(H,T,null)):Ai(H,T,v),this.I=2}}else this.I==3&&(d?Dl(this,d):this.i.length==0||vl(this.h)||Dl(this))};function Dl(d,v){var T;v?T=v.l:T=d.V++;const R=Me(d.J);Jt(R,"SID",d.M),Jt(R,"RID",T),Jt(R,"AID",d.K),ea(d,R),d.u&&d.o&&Zr(R,d.u,d.o),T=new ri(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Cu(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),bl(d.h,T),Ai(T,R,v)}function ea(d,v){d.H&&bt(d.H,function(T,R){Jt(v,R,T)}),d.l&&bt({},function(T,R){Jt(v,R,T)})}function Cu(d,v,T){T=Math.min(d.i.length,T);const R=d.l?m(d.l.Ka,d.l,d):null;t:{var H=d.i;let It=-1;for(;;){const xe=["count="+T];It==-1?T>0?(It=H[0].g,xe.push("ofs="+It)):It=0:xe.push("ofs="+It);let $t=!0;for(let me=0;me<T;me++){var $=H[me].g;const Un=H[me].map;if($-=It,$<0)It=Math.max(0,H[me].g-100),$t=!1;else try{$="req"+$+"_"||"";try{var ct=Un instanceof Map?Un:Object.entries(Un);for(const[ji,ui]of ct){let hi=ui;h(ui)&&(hi=Fs(ui)),xe.push($+ji+"="+encodeURIComponent(hi))}}catch(ji){throw xe.push($+"type="+encodeURIComponent("_badmap")),ji}}catch{R&&R(Un)}}if($t){ct=xe.join("&");break t}}ct=void 0}return d=d.i.splice(0,T),v.G=d,ct}function Iu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;W||A(),st||(W(),st=!0),I.add(v,d),d.A=0}}function na(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=wi(m(d.Da,d),Nu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=wi(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Qs(this),Mu(this))};function Nl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Mu(d){d.g=new ri(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Me(d.na);Jt(v,"RID","rpc"),Jt(v,"SID",d.M),Jt(v,"AID",d.K),Jt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Jt(v,"TO",d.ia),Jt(v,"TYPE","xmlhttp"),ea(d,v),d.u&&d.o&&Zr(v,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=$r(Me(v)),T.u=null,T.R=!0,$a(T,d)}n.Va=function(){this.C!=null&&(this.C=null,Qs(this),na(this),Re(19))};function so(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Du(d,v){var T=null;if(d.g==v){so(d),Nl(d),d.g=null;var R=2}else if(Di(d.h,v))T=v.G,xl(d.h,v),R=1;else return;if(d.I!=0){if(v.o)if(R==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var H=d.D;R=Xa(),Le(R,new Ei(R,T)),Pi(d)}else Iu(d);else if(H=v.m,H==3||H==0&&v.X>0||!(R==1&&io(d,v)||R==2&&na(d)))switch(T&&T.length>0&&(v=d.h,v.i=v.i.concat(T)),H){case 1:Li(d,5);break;case 4:Li(d,10);break;case 3:Li(d,6);break;default:Li(d,2)}}}function Nu(d,v){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*v}function Li(d,v){if(d.j.info("Error code "+v),v==2){var T=m(d.bb,d),R=d.Ua;const H=!R;R=new Cn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ge(R,"https"),$r(R),H?oi(R.toString(),T):Rl(R.toString(),T)}else Re(2);d.I=0,d.l&&d.l.pa(v),Ou(d),no(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Ou(d){if(d.I=0,d.ja=[],d.l){const v=Tl(d.h);(v.length!=0||d.i.length!=0)&&(C(d.ja,v),C(d.ja,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.oa()}}function ku(d,v,T){var R=T instanceof Cn?Me(T):new Cn(T);if(R.g!="")v&&(R.g=v+"."+R.g),Hs(R,R.u);else{var H=c.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const $=new Cn(null);R&&Ge($,R),v&&($.g=v),H&&Hs($,H),T&&($.h=T),R=$}return T=d.G,v=d.wa,T&&v&&Jt(R,T,v),Jt(R,"VER",d.ka),ea(d,R),R}function Vu(d,v,T){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new se(new Oi({ab:T})):new se(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}n=Pu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ws(){}Ws.prototype.g=function(d,v){return new gn(d,v)};function gn(d,v){Ae.call(this),this.g=new $s(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!O(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new us(this)}y(gn,Ae),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Ml(this.g)},gn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=Fs(d),d=T);v.i.push(new Ie(v.Ya++,d)),v.I==3&&Pi(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,gn.Z.N.call(this)};function Lu(d){Xe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const T in v){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}y(Lu,Xe);function ju(){Pn.call(this),this.status=1}y(ju,Pn);function us(d){this.g=d}y(us,Pu),us.prototype.ra=function(){Le(this.g,"a")},us.prototype.qa=function(d){Le(this.g,new Lu(d))},us.prototype.pa=function(d){Le(this.g,new ju)},us.prototype.oa=function(){Le(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,fw=function(){return new Ws},hw=function(){return Xa()},uw=be,op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,gf=Kr,pl.COMPLETE="complete",cw=pl,pu.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Tc=pu,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,lw=se}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const tx="@firebase/firestore",ex="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Lp("@firebase/firestore");function jo(){return ka.logLevel}function ft(n,...t){if(ka.logLevel<=zt.DEBUG){const e=t.map(Qp);ka.debug(`Firestore (${al}): ${n}`,...e)}}function js(n,...t){if(ka.logLevel<=zt.ERROR){const e=t.map(Qp);ka.error(`Firestore (${al}): ${n}`,...e)}}function Qo(n,...t){if(ka.logLevel<=zt.WARN){const e=t.map(Qp);ka.warn(`Firestore (${al}): ${n}`,...e)}}function Qp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,dw(n,i,e)}function dw(n,t,e){let i=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw js(i),new Error(i)}function Zt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||dw(t,r,i)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends rs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cn.UNAUTHENTICATED)))}shutdown(){}}class rM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class aM{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Zt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vs,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vs)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Zt(typeof i.accessToken=="string",31837,{l:i}),new mw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class oM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new oM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Zt(this.o===void 0,3512);const i=o=>{o.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Zt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new nx(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=uM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ut(n,t){return n<t?-1:n>t?1:0}function lp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Vg(r)===Vg(o)?Ut(r,o):Vg(r)?1:-1}return Ut(n.length,t.length)}const hM=55296,fM=57343;function Vg(n){const t=n.charCodeAt(0);return t>=hM&&t<=fM}function Wo(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="__name__";class Yi{constructor(t,e,i){e===void 0?e=0:e>t.length&&wt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&wt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Yi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Yi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Yi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ut(t.length,e.length)}static compareSegments(t,e){const i=Yi.isNumericId(t),r=Yi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Yi.extractNumericId(t).compare(Yi.extractNumericId(e)):lp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Dr.fromString(t.substring(4,t.length-2))}}class fe extends Yi{construct(t,e,i){return new fe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new pt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new fe(e)}static emptyPath(){return new fe([])}}const dM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Yi{construct(t,e,i){return new en(t,e,i)}static isValidIdentifier(t){return dM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ix}static keyField(){return new en([ix])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new pt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new pt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new pt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.path=t}static fromPath(t){return new xt(fe.fromString(t))}static fromName(t){return new xt(fe.fromString(t).popFirst(5))}static empty(){return new xt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return fe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n,t,e){if(!e)throw new pt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function mM(n,t,e,i){if(t===!0&&i===!0)throw new pt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function sx(n){if(!xt.isDocumentKey(n))throw new pt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rx(n){if(xt.isDocumentKey(n))throw new pt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Zp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":wt(12329,{type:typeof n})}function Vr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Zp(n);throw new pt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n,t){const e={typeString:n};return t&&(e.value=t),e}function au(n,t){if(!pw(n))throw new pt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new pt(rt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=-62135596800,ox=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*ox);return new de(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<ax)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ox}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(au(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ax;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Pe("string",de._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new de(0,0))}static max(){return new At(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function gM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(i===1e9?new de(e+1,0):new de(e,i));return new Pr(r,xt.empty(),t)}function pM(n){return new Pr(n.readTime,n.key,Bc)}class Pr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Pr(At.min(),xt.empty(),Bc)}static max(){return new Pr(At.max(),xt.empty(),Bc)}}function _M(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=xt.comparator(n.documentKey,t.documentKey),e!==0?e:Ut(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==yM)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,i)=>{e(t)}))}static reject(t){return new it(((e,i)=>{i(t)}))}static waitFor(t){return new it(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=it.resolve(!1);for(const i of t)e=e.next((r=>r?it.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new it(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((_=>{c[m]=_,++h,h===o&&i(c)}),(_=>r(_)))}}))}static doWhile(t,e){return new it(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function bM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ll(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function rd(n){return n==null}function Nf(n){return n===0&&1/n==-1/0}function xM(n){return typeof n=="number"&&Number.isInteger(n)&&!Nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="";function TM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=lx(t)),t=EM(n.get(e),t);return lx(t)}function EM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case _w:e+="";break;default:e+=o}}return e}function lx(n){return n+_w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ua(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new pe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qh(this.root,t,this.comparator,!0)}}class qh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=r??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new tn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ux(this.data.getIterator())}getIteratorFrom(t){return new ux(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class ux{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new _i([])}unionWith(t){let e=new He(en.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new _i(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wo(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vw("Invalid base64 string: "+o):o}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const wM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(n){if(Zt(!!n,39018),typeof n=="string"){let t=0;const e=wM.exec(n);if(Zt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(n.seconds),nanos:we(n.nanos)}}function we(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function jr(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="server_timestamp",xw="__type__",Tw="__previous_value__",Ew="__local_write_time__";function t_(n){return(n?.mapValue?.fields||{})[xw]?.stringValue===bw}function ad(n){const t=n.mapValue.fields[Tw];return t_(t)?ad(t):t}function Fc(n){const t=Lr(n.mapValue.fields[Ew].timestampValue);return new de(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,e,i,r,o,c,h,f,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=_}}const Of="(default)";class Hc{constructor(t,e){this.projectId=t,this.database=e||Of}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===Of}isEqual(t){return t instanceof Hc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="__type__",AM="__max__",Gh={mapValue:{}},Sw="__vector__",kf="value";function zr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?t_(n)?4:CM(n)?9007199254740991:RM(n)?10:11:wt(28295,{value:n})}function ns(n,t){if(n===t)return!0;const e=zr(n);if(e!==zr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Fc(n).isEqual(Fc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Lr(r.timestampValue),h=Lr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return jr(r.bytesValue).isEqual(jr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return we(r.geoPointValue.latitude)===we(o.geoPointValue.latitude)&&we(r.geoPointValue.longitude)===we(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return we(r.integerValue)===we(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=we(r.doubleValue),h=we(o.doubleValue);return c===h?Nf(c)===Nf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Wo(n.arrayValue.values||[],t.arrayValue.values||[],ns);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(cx(c)!==cx(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ns(c[f],h[f])))return!1;return!0})(n,t);default:return wt(52216,{left:n})}}function qc(n,t){return(n.values||[]).find((e=>ns(e,t)))!==void 0}function Zo(n,t){if(n===t)return 0;const e=zr(n),i=zr(t);if(e!==i)return Ut(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=we(o.integerValue||o.doubleValue),f=we(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return hx(n.timestampValue,t.timestampValue);case 4:return hx(Fc(n),Fc(t));case 5:return lp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=jr(o),f=jr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const _=Ut(h[m],f[m]);if(_!==0)return _}return Ut(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Ut(we(o.latitude),we(c.latitude));return h!==0?h:Ut(we(o.longitude),we(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return fx(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[kf]?.arrayValue,_=f[kf]?.arrayValue,y=Ut(m?.values?.length||0,_?.values?.length||0);return y!==0?y:fx(m,_)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Gh.mapValue&&c===Gh.mapValue)return 0;if(o===Gh.mapValue)return 1;if(c===Gh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let y=0;y<f.length&&y<_.length;++y){const b=lp(f[y],_[y]);if(b!==0)return b;const E=Zo(h[f[y]],m[_[y]]);if(E!==0)return E}return Ut(f.length,_.length)})(n.mapValue,t.mapValue);default:throw wt(23264,{he:e})}}function hx(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const e=Lr(n),i=Lr(t),r=Ut(e.seconds,i.seconds);return r!==0?r:Ut(e.nanos,i.nanos)}function fx(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Zo(e[r],i[r]);if(o)return o}return Ut(e.length,i.length)}function Jo(n){return cp(n)}function cp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Lr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return jr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return xt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=cp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${cp(e.fields[c])}`;return r+"}"})(n.mapValue):wt(61005,{value:n})}function pf(n){switch(zr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ad(n);return t?16+pf(t):16;case 5:return 2*n.stringValue.length;case 6:return jr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+pf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Ua(i.fields,((o,c)=>{r+=o.length+pf(c)})),r})(n.mapValue);default:throw wt(13486,{value:n})}}function up(n){return!!n&&"integerValue"in n}function e_(n){return!!n&&"arrayValue"in n}function dx(n){return!!n&&"nullValue"in n}function mx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function RM(n){return(n?.mapValue?.fields||{})[ww]?.stringValue===Sw}function Dc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ua(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Dc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Dc(n.arrayValue.values[e]);return t}return{...n}}function CM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.value=t}static empty(){return new Wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!_f(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dc(e)}setAll(t){let e=en.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Dc(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());_f(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ns(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];_f(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ua(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Wn(Dc(this.value))}}function Aw(n){const t=[];return Ua(n.fields,((e,i)=>{const r=new en([e]);if(_f(i)){const o=Aw(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new _i(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new un(t,0,At.min(),At.min(),At.min(),Wn.empty(),0)}static newFoundDocument(t,e,i,r){return new un(t,1,e,At.min(),i,r,0)}static newNoDocument(t,e){return new un(t,2,e,At.min(),At.min(),Wn.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,At.min(),At.min(),Wn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e){this.position=t,this.inclusive=e}}function gx(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=xt.comparator(xt.fromName(c.referenceValue),e.key):i=Zo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function px(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ns(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,e="asc"){this.field=t,this.dir=e}}function IM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{}class ze extends Rw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new DM(t,e,i):e==="array-contains"?new kM(t,i):e==="in"?new VM(t,i):e==="not-in"?new PM(t,i):e==="array-contains-any"?new LM(t,i):new ze(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new NM(t,i):new OM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Zo(e,this.value)):e!==null&&zr(this.value)===zr(e)&&this.matchesComparison(Zo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends Rw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new is(t,e)}matches(t){return Cw(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cw(n){return n.op==="and"}function Iw(n){return MM(n)&&Cw(n)}function MM(n){for(const t of n.filters)if(t instanceof is)return!1;return!0}function hp(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+Jo(n.value);if(Iw(n))return n.filters.map((t=>hp(t))).join(",");{const t=n.filters.map((e=>hp(e))).join(",");return`${n.op}(${t})`}}function Mw(n,t){return n instanceof ze?(function(i,r){return r instanceof ze&&i.op===r.op&&i.field.isEqual(r.field)&&ns(i.value,r.value)})(n,t):n instanceof is?(function(i,r){return r instanceof is&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&Mw(c,r.filters[h])),!0):!1})(n,t):void wt(19439)}function Dw(n){return n instanceof ze?(function(e){return`${e.field.canonicalString()} ${e.op} ${Jo(e.value)}`})(n):n instanceof is?(function(e){return e.op.toString()+" {"+e.getFilters().map(Dw).join(" ,")+"}"})(n):"Filter"}class DM extends ze{constructor(t,e,i){super(t,e,i),this.key=xt.fromName(i.referenceValue)}matches(t){const e=xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class NM extends ze{constructor(t,e){super(t,"in",e),this.keys=Nw("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class OM extends ze{constructor(t,e){super(t,"not-in",e),this.keys=Nw("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Nw(n,t){return(t.arrayValue?.values||[]).map((e=>xt.fromName(e.referenceValue)))}class kM extends ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return e_(e)&&qc(e.arrayValue,this.value)}}class VM extends ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&qc(this.value.arrayValue,e)}}class PM extends ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!qc(this.value.arrayValue,e)}}class LM extends ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!e_(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>qc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function _x(n,t=null,e=[],i=[],r=null,o=null,c=null){return new jM(n,t,e,i,r,o,c)}function n_(n){const t=Ct(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>hp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),rd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Jo(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Jo(i))).join(",")),t.Te=e}return t.Te}function i_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!IM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Mw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!px(n.startAt,t.startAt)&&px(n.endAt,t.endAt)}function fp(n){return xt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zM(n,t,e,i,r,o,c,h){return new od(n,t,e,i,r,o,c,h)}function s_(n){return new od(n)}function yx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UM(n){return n.collectionGroup!==null}function Nc(n){const t=Ct(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new He(en.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Pf(o,i))})),e.has(en.keyField().canonicalString())||t.Ie.push(new Pf(en.keyField(),i))}return t.Ie}function $i(n){const t=Ct(n);return t.Ee||(t.Ee=BM(t,Nc(n))),t.Ee}function BM(n,t){if(n.limitType==="F")return _x(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Pf(r.field,o)}));const e=n.endAt?new Vf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vf(n.startAt.position,n.startAt.inclusive):null;return _x(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function dp(n,t,e){return new od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ld(n,t){return i_($i(n),$i(t))&&n.limitType===t.limitType}function Ow(n){return`${n_($i(n))}|lt:${n.limitType}`}function zo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>Dw(r))).join(", ")}]`),rd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Jo(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Jo(r))).join(",")),`Target(${i})`})($i(n))}; limitType=${n.limitType})`}function cd(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):xt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Nc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const m=gx(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,Nc(i),r)||i.endAt&&!(function(c,h,f){const m=gx(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,Nc(i),r))})(n,t)}function FM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kw(n){return(t,e)=>{let i=!1;for(const r of Nc(n)){const o=HM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function HM(n,t,e){const i=n.field.isKeyField()?xt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Zo(f,m):wt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return wt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ua(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return yw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new pe(xt.comparator);function zs(){return qM}const Vw=new pe(xt.comparator);function Ec(...n){let t=Vw;for(const e of n)t=t.insert(e.key,e);return t}function Pw(n){let t=Vw;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Aa(){return Oc()}function Lw(){return Oc()}function Oc(){return new Ba((n=>n.toString()),((n,t)=>n.isEqual(t)))}const GM=new pe(xt.comparator),YM=new He(xt.comparator);function Bt(...n){let t=YM;for(const e of n)t=t.add(e);return t}const KM=new He(Ut);function XM(){return KM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(t)?"-0":t}}function jw(n){return{integerValue:""+n}}function $M(n,t){return xM(t)?jw(t):r_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this._=void 0}}function QM(n,t,e){return n instanceof Lf?(function(r,o){const c={fields:{[xw]:{stringValue:bw},[Ew]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&t_(o)&&(o=ad(o)),o&&(c.fields[Tw]=o),{mapValue:c}})(e,t):n instanceof Gc?Uw(n,t):n instanceof Yc?Bw(n,t):(function(r,o){const c=zw(r,o),h=vx(c)+vx(r.Ae);return up(c)&&up(r.Ae)?jw(h):r_(r.serializer,h)})(n,t)}function WM(n,t,e){return n instanceof Gc?Uw(n,t):n instanceof Yc?Bw(n,t):e}function zw(n,t){return n instanceof jf?(function(i){return up(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Lf extends ud{}class Gc extends ud{constructor(t){super(),this.elements=t}}function Uw(n,t){const e=Fw(t);for(const i of n.elements)e.some((r=>ns(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Yc extends ud{constructor(t){super(),this.elements=t}}function Bw(n,t){let e=Fw(t);for(const i of n.elements)e=e.filter((r=>!ns(r,i)));return{arrayValue:{values:e}}}class jf extends ud{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function vx(n){return we(n.integerValue||n.doubleValue)}function Fw(n){return e_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ZM(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Gc&&r instanceof Gc||i instanceof Yc&&r instanceof Yc?Wo(i.elements,r.elements,ns):i instanceof jf&&r instanceof jf?ns(i.Ae,r.Ae):i instanceof Lf&&r instanceof Lf})(n.transform,t.transform)}class JM{constructor(t,e){this.version=t,this.transformResults=e}}class Qi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Qi}static exists(t){return new Qi(void 0,t)}static updateTime(t){return new Qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class hd{}function Hw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new a_(n.key,Qi.none()):new ou(n.key,n.data,Qi.none());{const e=n.data,i=Wn.empty();let r=new He(en.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Fa(n.key,i,new _i(r.toArray()),Qi.none())}}function tD(n,t,e){n instanceof ou?(function(r,o,c){const h=r.value.clone(),f=xx(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Fa?(function(r,o,c){if(!yf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=xx(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(qw(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function kc(n,t,e,i){return n instanceof ou?(function(o,c,h,f){if(!yf(o.precondition,c))return h;const m=o.value.clone(),_=Tx(o.fieldTransforms,f,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof Fa?(function(o,c,h,f){if(!yf(o.precondition,c))return h;const m=Tx(o.fieldTransforms,f,c),_=c.data;return _.setAll(qw(o)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,t,e,i):(function(o,c,h){return yf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function eD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=zw(i.transform,r||null);o!=null&&(e===null&&(e=Wn.empty()),e.set(i.field,o))}return e||null}function bx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Wo(i,r,((o,c)=>ZM(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ou extends hd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fa extends hd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qw(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function xx(n,t,e){const i=new Map;Zt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,WM(c,h,e[r]))}return i}function Tx(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,QM(o,c,t))}return i}class a_ extends hd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nD extends hd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&tD(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=kc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=kc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Lw();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=Hw(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(At.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&Wo(this.mutations,t.mutations,((e,i)=>bx(e,i)))&&Wo(this.baseMutations,t.baseMutations,((e,i)=>bx(e,i)))}}class o_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Zt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return GM})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new o_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Ht;function aD(n){switch(n){case rt.OK:return wt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return wt(15467,{code:n})}}function Gw(n){if(n===void 0)return js("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Ve.OK:return rt.OK;case Ve.CANCELLED:return rt.CANCELLED;case Ve.UNKNOWN:return rt.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return rt.INTERNAL;case Ve.UNAVAILABLE:return rt.UNAVAILABLE;case Ve.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ve.NOT_FOUND:return rt.NOT_FOUND;case Ve.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ve.ABORTED:return rt.ABORTED;case Ve.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ve.DATA_LOSS:return rt.DATA_LOSS;default:return wt(39323,{code:n})}}(Ht=Ve||(Ve={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new Dr([4294967295,4294967295],0);function Ex(n){const t=oD().encode(n),e=new ow;return e.update(t),new Uint8Array(e.digest())}function wx(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Dr([e,i],0),new Dr([r,o],0)]}class l_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new wc(`Invalid padding: ${e}`);if(i<0)throw new wc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new wc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Dr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Dr.fromNumber(i)));return r.compare(lD)===1&&(r=new Dr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Ex(t),[i,r]=wx(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new l_(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=Ex(t),[i,r]=wx(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,lu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new fd(At.min(),r,new pe(Ut),zs(),Bt())}}class lu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new lu(i,e,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class Yw{constructor(t,e){this.targetId=t,this.Ce=e}}class Kw{constructor(t,e,i=nn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Sx{constructor(){this.ve=0,this.Fe=Ax(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),e=Bt(),i=Bt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:wt(38017,{changeType:o})}})),new lu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=Ax()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cD{constructor(t){this.Ge=t,this.ze=new Map,this.je=zs(),this.Je=Yh(),this.He=Yh(),this.Ye=new pe(Ut)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(fp(o))if(i===0){const c=new xt(o.path);this.et(e,c,un.newNoDocument(c,At.min()))}else Zt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=jr(i).toUint8Array()}catch(f){if(f instanceof vw)return Qo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new l_(c,r,o)}catch(f){return Qo(f instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&fp(h.target)){const f=new xt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,un.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Bt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new fd(t,e,this.Ye,this.je,i);return this.je=zs(),this.Je=Yh(),this.He=Yh(),this.Ye=new pe(Ut),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Sx,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new He(Ut),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new He(Ut),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Sx),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Yh(){return new pe(xt.comparator)}function Ax(){return new pe(xt.comparator)}const uD={asc:"ASCENDING",desc:"DESCENDING"},hD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fD={and:"AND",or:"OR"};class dD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function mp(n,t){return n.useProto3Json||rd(t)?t:{value:t}}function zf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function mD(n,t){return zf(n,t.toTimestamp())}function Wi(n){return Zt(!!n,49232),At.fromTimestamp((function(e){const i=Lr(e);return new de(i.seconds,i.nanos)})(n))}function c_(n,t){return gp(n,t).canonicalString()}function gp(n,t){const e=(function(r){return new fe(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function $w(n){const t=fe.fromString(n);return Zt(tS(t),10190,{key:t.toString()}),t}function pp(n,t){return c_(n.databaseId,t.path)}function Pg(n,t){const e=$w(t);if(e.get(1)!==n.databaseId.projectId)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new xt(Ww(e))}function Qw(n,t){return c_(n.databaseId,t)}function gD(n){const t=$w(n);return t.length===4?fe.emptyPath():Ww(t)}function _p(n){return new fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ww(n){return Zt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Rx(n,t,e){return{name:pp(n,t),fields:e.value.mapValue.fields}}function pD(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:wt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(m,_){return m.useProto3Json?(Zt(_===void 0||typeof _=="string",58123),nn.fromBase64String(_||"")):(Zt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),nn.fromUint8Array(_||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const _=m.code===void 0?rt.UNKNOWN:Gw(m.code);return new pt(_,m.message||"")})(c);e=new Kw(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Pg(n,i.document.name),o=Wi(i.document.updateTime),c=i.document.createTime?Wi(i.document.createTime):At.min(),h=new Wn({mapValue:{fields:i.document.fields}}),f=un.newFoundDocument(r,o,c,h),m=i.targetIds||[],_=i.removedTargetIds||[];e=new vf(m,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Pg(n,i.document),o=i.readTime?Wi(i.readTime):At.min(),c=un.newNoDocument(r,o),h=i.removedTargetIds||[];e=new vf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Pg(n,i.document),o=i.removedTargetIds||[];e=new vf([],o,r,null)}else{if(!("filter"in t))return wt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new rD(r,o),h=i.targetId;e=new Yw(h,c)}}return e}function _D(n,t){let e;if(t instanceof ou)e={update:Rx(n,t.key,t.value)};else if(t instanceof a_)e={delete:pp(n,t.key)};else if(t instanceof Fa)e={update:Rx(n,t.key,t.data),updateMask:AD(t.fieldMask)};else{if(!(t instanceof nD))return wt(16599,{Vt:t.type});e={verify:pp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Gc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof jf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw wt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:mD(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:wt(27497)})(n,t.precondition)),e}function yD(n,t){return n&&n.length>0?(Zt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?Wi(r.updateTime):Wi(o);return c.isEqual(At.min())&&(c=Wi(o)),new JM(c,r.transformResults||[])})(e,t)))):[]}function vD(n,t){return{documents:[Qw(n,t.path)]}}function bD(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Qw(n,r);const o=(function(m){if(m.length!==0)return Jw(is.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((_=>(function(b){return{field:Uo(b.field),direction:ED(b.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=mp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:r}}function xD(n){let t=gD(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Zt(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=(function(y){const b=Zw(y);return b instanceof is&&Iw(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(y){return y.map((b=>(function(C){return new Pf(Bo(C.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(e.orderBy));let h=null;e.limit&&(h=(function(y){let b;return b=typeof y=="object"?y.value:y,rd(b)?null:b})(e.limit));let f=null;e.startAt&&(f=(function(y){const b=!!y.before,E=y.values||[];return new Vf(E,b)})(e.startAt));let m=null;return e.endAt&&(m=(function(y){const b=!y.before,E=y.values||[];return new Vf(E,b)})(e.endAt)),zM(t,r,c,o,h,"F",f,m)}function TD(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Zw(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Bo(e.unaryFilter.field);return ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Bo(e.unaryFilter.field);return ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bo(e.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(e.unaryFilter.field);return ze.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ze.create(Bo(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return is.create(e.compositeFilter.filters.map((i=>Zw(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(e.compositeFilter.op))})(n):wt(30097,{filter:n})}function ED(n){return uD[n]}function wD(n){return hD[n]}function SD(n){return fD[n]}function Uo(n){return{fieldPath:n.canonicalString()}}function Bo(n){return en.fromServerFormat(n.fieldPath)}function Jw(n){return n instanceof ze?(function(e){if(e.op==="=="){if(mx(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NAN"}};if(dx(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(mx(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NAN"}};if(dx(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(e.field),op:wD(e.op),value:e.value}}})(n):n instanceof is?(function(e){const i=e.getFilters().map((r=>Jw(r)));return i.length===1?i[0]:{compositeFilter:{op:SD(e.op),filters:i}}})(n):wt(54877,{filter:n})}function AD(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function tS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,e,i,r,o=At.min(),c=At.min(),h=nn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t){this.yt=t}}function CD(n){const t=xD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.Cn=new MD}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(Pr.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(Pr.min())}updateCollectionGroup(t,e,i){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class MD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new He(fe.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new He(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eS=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(eS,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="LruGarbageCollector",DD=1048576;function Mx([n,t],[e,i]){const r=Ut(n,e);return r===0?Ut(t,i):r}class ND{constructor(t){this.Ir=t,this.buffer=new He(Mx),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Mx(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class OD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(Ix,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ll(e)?ft(Ix,"Ignoring IndexedDB error during garbage collection: ",e):await ol(e)}await this.Vr(3e5)}))}}class kD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(sd.ce);const i=new ND(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(Cx)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cx):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,c=Date.now(),this.nthSequenceNumber(t,r)))).next((y=>(i=y,h=Date.now(),this.removeTargets(t,i,e)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((y=>(m=Date.now(),jo()<=zt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${y} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y}))))}}function VD(n,t){return new kD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.changes=new Ba((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?it.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&kc(i.mutation,r,_i.empty(),de.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Bt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Bt()){const r=Aa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=Ec();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Aa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Bt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=zs();const c=Oc(),h=(function(){return Oc()})();return e.forEach(((f,m)=>{const _=i.get(m.key);r.has(m.key)&&(_===void 0||_.mutation instanceof Fa)?o=o.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),kc(_.mutation,m,_.mutation.getFieldMask(),de.now())):c.set(m.key,_i.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,_)=>c.set(m,_))),e.forEach(((m,_)=>h.set(m,new LD(_,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Oc();let r=new pe(((c,h)=>c-h)),o=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let _=i.get(f)||_i.empty();_=h.applyToLocalView(m,_),i.set(f,_);const y=(r.get(h.batchId)||Bt()).add(f);r=r.insert(h.batchId,y)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,_=f.value,y=Lw();_.forEach((b=>{if(!o.has(b)){const E=Hw(e.get(b),i.get(b));E!==null&&y.set(b,E),o=o.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,y))}return it.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return xt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):UM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):it.resolve(Aa());let h=Bc,f=o;return c.next((m=>it.forEach(m,((_,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(_)?it.resolve():this.remoteDocumentCache.getEntry(t,_).next((b=>{f=f.insert(_,b)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,Bt()))).next((_=>({batchId:h,changes:Pw(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xt(e)).next((i=>{let r=Ec();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Ec();return this.indexManager.getCollectionParents(t,o).next((h=>it.forEach(h,(f=>{const m=(function(y,b){return new od(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next((_=>{_.forEach(((y,b)=>{c=c.insert(y,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,un.newInvalidDocument(_)))}));let h=Ec();return c.forEach(((f,m)=>{const _=o.get(f);_!==void 0&&kc(_.mutation,m,_i.empty(),de.now()),cd(e,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return it.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Wi(r.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:CD(r.bundledQuery),readTime:Wi(r.readTime)}})(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.overlays=new pe(xt.comparator),this.qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Aa();return it.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),it.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),it.resolve()}getOverlaysForCollection(t,e,i){const r=Aa(),o=e.length+1,c=new xt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return it.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new pe(((m,_)=>m-_));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let _=o.get(m.largestBatchId);_===null&&(_=Aa(),o=o.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=Aa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,_)=>h.set(m,_))),!(h.size()>=r)););return it.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new sD(e,i));let o=this.qr.get(e);o===void 0&&(o=Bt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.Qr=new He(Ke.$r),this.Ur=new He(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Ke(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Ke(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new xt(new fe([])),i=new Ke(e,t),r=new Ke(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new xt(new fe([])),i=new Ke(e,t),r=new Ke(e,t+1);let o=Bt();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Ke(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ke{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return xt.comparator(t.key,e.key)||Ut(t.Yr,e.Yr)}static Kr(t,e){return Ut(t.Yr,e.Yr)||xt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ke.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new iD(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Ke(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,e){return it.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return it.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Jp:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ke(e,0),r=new Ke(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),it.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(Ut);return e.forEach((r=>{const o=new Ke(r,0),c=new Ke(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),it.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;xt.isDocumentKey(o)||(o=o.child(""));const c=new Ke(new xt(o),0);let h=new He(Ut);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(f.Yr)),!0)}),c),it.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Zt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return it.forEach(e.mutations,(r=>{const o=new Ke(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Ke(e,0),r=this.Zr.firstAfterOrEqual(i);return it.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t){this.ri=t,this.docs=(function(){return new pe(xt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return it.resolve(i?i.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let i=zs();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():un.newInvalidDocument(r))})),it.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=zs();const c=e.path,h=new xt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||_M(pM(_),i)<=0||(r.has(_.key)||cd(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return it.resolve(o)}getAllFromCollectionGroup(t,e,i,r){wt(9500)}ii(t,e){return it.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new qD(this)}getSize(t){return it.resolve(this.size)}}class qD extends PD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),it.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.persistence=t,this.si=new Ba((e=>n_(e)),i_),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new u_,this.targetCount=0,this.ai=tl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),it.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new tl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Pr(e),it.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),it.waitFor(o).next((()=>r))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return it.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),it.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),it.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return it.resolve(i)}containsKey(t,e){return it.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,e){this.ui={},this.overlays={},this.ci=new sd(0),this.li=!1,this.li=!0,this.hi=new BD,this.referenceDelegate=t(this),this.Pi=new GD(this),this.indexManager=new ID,this.remoteDocumentCache=(function(r){return new HD(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new RD(e),this.Ii=new zD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new UD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new FD(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ft("MemoryPersistence","Starting transaction:",t);const r=new YD(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return it.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class YD extends vM{constructor(t){super(),this.currentSequenceNumber=t}}class h_{constructor(t){this.persistence=t,this.Ri=new u_,this.Vi=null}static mi(t){return new h_(t)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),it.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(i=>{const r=xt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,At.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Uf{constructor(t,e){this.persistence=t,this.pi=new Ba((i=>TM(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=VD(this,e)}static mi(t,e){return new Uf(t,e)}Ei(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return it.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?it.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,At.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=pf(t.data.value)),e}br(t,e,i){return it.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return it.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Bt(),r=Bt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new f_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zR()?8:bM(dn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new KD;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(jo()<=zt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",zo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(jo()<=zt.DEBUG&&ft("QueryEngine","Query:",zo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(jo()<=zt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",zo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$i(e))):it.resolve())}ys(t,e){if(yx(e))return it.resolve(null);let i=$i(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=dp(e,null,"F"),i=$i(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Bt(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,dp(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,i,r){return yx(e)||r.isEqual(At.min())?it.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?it.resolve(null):(jo()<=zt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zo(e)),this.vs(t,c,e,gM(r,Bc)).next((h=>h)))}))}Ds(t,e){let i=new He(kw(t));return e.forEach(((r,o)=>{cd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return jo()<=zt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",zo(e)),this.ps.getDocumentsMatchingQuery(t,e,Pr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LocalStore",$D=3e8;class QD{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new pe(Ut),this.xs=new Ba((o=>n_(o)),i_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function WD(n,t,e,i){return new QD(n,t,e,i)}async function iS(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Bt();for(const m of r){c.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of o){h.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function ZD(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,_){const y=m.batch,b=y.keys();let E=it.resolve();return b.forEach((C=>{E=E.next((()=>_.getEntry(f,C))).next((M=>{const D=m.docVersions.get(C);Zt(D!==null,48541),M.version.compareTo(D)<0&&(y.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),_.addEntry(M)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,y)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Bt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function sS(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function JD(n,t){const e=Ct(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((_,y)=>{const b=r.get(y);if(!b)return;h.push(e.Pi.removeMatchingKeys(o,_.removedDocuments,y).next((()=>e.Pi.addMatchingKeys(o,_.addedDocuments,y))));let E=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?E=E.withResumeToken(nn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):_.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(_.resumeToken,i)),r=r.insert(y,E),(function(M,D,L){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=$D?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(b,E,_)&&h.push(e.Pi.updateTargetData(o,E))}));let f=zs(),m=Bt();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))})),h.push(tN(o,c,t.documentUpdates).next((_=>{f=_.ks,m=_.qs}))),!i.isEqual(At.min())){const _=e.Pi.getLastRemoteSnapshotVersion(o).next((y=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(_)}return it.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function tN(n,t,e){let i=Bt(),r=Bt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=zs();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(At.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ft(d_,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function eN(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Jp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function nN(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,it.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new Sr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function yp(n,t,e){const i=Ct(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ll(c))throw c;ft(d_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function Dx(n,t,e){const i=Ct(n);let r=At.min(),o=Bt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,_){const y=Ct(f),b=y.xs.get(_);return b!==void 0?it.resolve(y.Ms.get(b)):y.Pi.getTargetData(m,_)})(i,c,$i(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:At.min(),e?o:Bt()))).next((h=>(iN(i,FM(t),h),{documents:h,Qs:o})))))}function iN(n,t,e){let i=n.Os.get(t)||At.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class Nx{constructor(){this.activeTargetIds=XM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sN{constructor(){this.Mo=new Nx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Nx,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="ConnectivityMonitor";class kx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(Ox,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(Ox,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function vp(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="RestConnection",aN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Of?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=vp(),h=this.zo(t,e.toUriEncodedString());ft(Lg,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:m}=new URL(h),_=ja(m);return this.Jo(t,h,f,i,_).then((y=>(ft(Lg,`Received RPC '${t}' ${c}: `,y),y)),(y=>{throw Qo(Lg,`RPC '${t}' ${c} failed with error: `,y,"url: ",h,"request:",i),y}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=aN[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class cN extends oN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=vp();return new Promise(((h,f)=>{const m=new lw;m.setWithCredentials(!0),m.listenOnce(cw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case gf.NO_ERROR:const y=m.getResponseJson();ft(on,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(y)),h(y);break;case gf.TIMEOUT:ft(on,`RPC '${t}' ${c} timed out`),f(new pt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const b=m.getStatus();if(ft(on,`RPC '${t}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E?.error;if(C&&C.status&&C.message){const M=(function(L){const F=L.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(F)>=0?F:rt.UNKNOWN})(C.status);f(new pt(M,C.message))}else f(new pt(rt.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pt(rt.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ft(on,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(r);ft(on,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",_,i,15)}))}T_(t,e,i){const r=vp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=fw(),h=hw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=o.join("");ft(on,`Creating RPC '${t}' stream ${r}: ${_}`,f);const y=c.createWebChannel(_,f);this.I_(y);let b=!1,E=!1;const C=new lN({Yo:D=>{E?ft(on,`Not sending because RPC '${t}' stream ${r} is closed:`,D):(b||(ft(on,`Opening RPC '${t}' stream ${r} transport.`),y.open(),b=!0),ft(on,`RPC '${t}' stream ${r} sending:`,D),y.send(D))},Zo:()=>y.close()}),M=(D,L,F)=>{D.listen(L,(X=>{try{F(X)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return M(y,Tc.EventType.OPEN,(()=>{E||(ft(on,`RPC '${t}' stream ${r} transport opened.`),C.o_())})),M(y,Tc.EventType.CLOSE,(()=>{E||(E=!0,ft(on,`RPC '${t}' stream ${r} transport closed`),C.a_(),this.E_(y))})),M(y,Tc.EventType.ERROR,(D=>{E||(E=!0,Qo(on,`RPC '${t}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),C.a_(new pt(rt.UNAVAILABLE,"The operation could not be completed")))})),M(y,Tc.EventType.MESSAGE,(D=>{if(!E){const L=D.data[0];Zt(!!L,16349);const F=L,X=F?.error||F[0]?.error;if(X){ft(on,`RPC '${t}' stream ${r} received error:`,X);const Z=X.status;let W=(function(A){const N=Ve[A];if(N!==void 0)return Gw(N)})(Z),st=X.message;W===void 0&&(W=rt.INTERNAL,st="Unknown error status: "+Z+" with message "+X.message),E=!0,C.a_(new pt(W,st)),y.close()}else ft(on,`RPC '${t}' stream ${r} received:`,L),C.u_(L)}})),M(h,uw.STAT_EVENT,(D=>{D.stat===op.PROXY?ft(on,`RPC '${t}' stream ${r} detected buffering proxy`):D.stat===op.NOPROXY&&ft(on,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){return new dD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="PersistentStream";class aS{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(js(e.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new pt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(Vx,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ft(Vx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uN extends aS{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=pD(this.serializer,t),i=(function(o){if(!("targetChange"in o))return At.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Wi(c.readTime):At.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=_p(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=fp(f)?{documents:vD(o,f)}:{query:bD(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Xw(o,c.resumeToken);const m=mp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(At.min())>0){h.readTime=zf(o,c.snapshotVersion.toTimestamp());const m=mp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=TD(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=_p(this.serializer),e.removeTarget=t,this.q_(e)}}class hN extends aS{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=yD(t.writeResults,t.commitTime),i=Wi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=_p(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>_D(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{}class dN extends fN{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,gp(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(rt.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,gp(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(js(e),this.aa=!1):ft("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class gN{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ha(this)&&(ft(Va,"Restarting streams for network reachability change."),await(async function(f){const m=Ct(f);m.Ea.add(4),await cu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await md(m)})(this))}))})),this.Ra=new mN(i,r)}}async function md(n){if(Ha(n))for(const t of n.da)await t(!0)}async function cu(n){for(const t of n.da)await t(!1)}function oS(n,t){const e=Ct(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),__(e)?p_(e):cl(e).O_()&&g_(e,t))}function m_(n,t){const e=Ct(n),i=cl(e);e.Ia.delete(t),i.O_()&&lS(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ha(e)&&e.Ra.set("Unknown"))}function g_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}cl(n).Y_(t)}function lS(n,t){n.Va.Ue(t),cl(n).Z_(t)}function p_(n){n.Va=new cD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),cl(n).start(),n.Ra.ua()}function __(n){return Ha(n)&&!cl(n).x_()&&n.Ia.size>0}function Ha(n){return Ct(n).Ea.size===0}function cS(n){n.Va=void 0}async function pN(n){n.Ra.set("Online")}async function _N(n){n.Ia.forEach(((t,e)=>{g_(n,t)}))}async function yN(n,t){cS(n),__(n)?(n.Ra.ha(t),p_(n)):n.Ra.set("Unknown")}async function vN(n,t,e){if(n.Ra.set("Online"),t instanceof Kw&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ft(Va,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Bf(n,i)}else if(t instanceof vf?n.Va.Ze(t):t instanceof Yw?n.Va.st(t):n.Va.tt(t),!e.isEqual(At.min()))try{const i=await sS(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.Ia.get(m);_&&o.Ia.set(m,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const _=o.Ia.get(f);if(!_)return;o.Ia.set(f,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),lS(o,f);const y=new Sr(_.target,f,m,_.sequenceNumber);g_(o,y)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ft(Va,"Failed to raise snapshot:",i),await Bf(n,i)}}async function Bf(n,t,e){if(!ll(t))throw t;n.Ea.add(1),await cu(n),n.Ra.set("Offline"),e||(e=()=>sS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ft(Va,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await md(n)}))}function uS(n,t){return t().catch((e=>Bf(n,e,t)))}async function gd(n){const t=Ct(n),e=Ur(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Jp;for(;bN(t);)try{const r=await eN(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,xN(t,r)}catch(r){await Bf(t,r)}hS(t)&&fS(t)}function bN(n){return Ha(n)&&n.Ta.length<10}function xN(n,t){n.Ta.push(t);const e=Ur(n);e.O_()&&e.X_&&e.ea(t.mutations)}function hS(n){return Ha(n)&&!Ur(n).x_()&&n.Ta.length>0}function fS(n){Ur(n).start()}async function TN(n){Ur(n).ra()}async function EN(n){const t=Ur(n);for(const e of n.Ta)t.ea(e.mutations)}async function wN(n,t,e){const i=n.Ta.shift(),r=o_.from(i,t,e);await uS(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await gd(n)}async function SN(n,t){t&&Ur(n).X_&&await(async function(i,r){if((function(c){return aD(c)&&c!==rt.ABORTED})(r.code)){const o=i.Ta.shift();Ur(i).B_(),await uS(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await gd(i)}})(n,t),hS(n)&&fS(n)}async function Px(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),ft(Va,"RemoteStore received new credentials");const i=Ha(e);e.Ea.add(3),await cu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await md(e)}async function AN(n,t){const e=Ct(n);t?(e.Ea.delete(2),await md(e)):t||(e.Ea.add(2),await cu(e),e.Ra.set("Unknown"))}function cl(n){return n.ma||(n.ma=(function(e,i,r){const o=Ct(e);return o.sa(),new uN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:pN.bind(null,n),t_:_N.bind(null,n),r_:yN.bind(null,n),H_:vN.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),__(n)?p_(n):n.Ra.set("Unknown")):(await n.ma.stop(),cS(n))}))),n.ma}function Ur(n){return n.fa||(n.fa=(function(e,i,r){const o=Ct(e);return o.sa(),new hN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:TN.bind(null,n),r_:SN.bind(null,n),ta:EN.bind(null,n),na:wN.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await gd(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(Va,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new y_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v_(n,t){if(js("AsyncQueue",`${t}: ${n}`),ll(n))return new pt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(t){return new Go(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||xt.comparator(e.key,i.key):(e,i)=>xt.comparator(e.key,i.key),this.keyedMap=Ec(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Go)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Go;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.ga=new pe(xt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):wt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class el{constructor(t,e,i,r,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new el(t,e,Go.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ld(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class CN{constructor(){this.queries=jx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Ct(e),o=r.queries;r.queries=jx(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new pt(rt.ABORTED,"Firestore shutting down"))}}function jx(){return new Ba((n=>Ow(n)),ld)}async function dS(n,t){const e=Ct(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new RN,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=v_(c,`Initialization of query '${zo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&b_(e)}async function mS(n,t){const e=Ct(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function IN(n,t){const e=Ct(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&b_(e)}function MN(n,t,e){const i=Ct(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function b_(n){n.Ca.forEach((t=>{t.next()}))}var bp,zx;(zx=bp||(bp={})).Ma="default",zx.Cache="cache";class gS{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new el(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.key=t}}class _S{constructor(t){this.key=t}}class DN{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=kw(t),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new Lx,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((_,y)=>{const b=r.get(_),E=cd(this.query,y)?y:null,C=!!b&&this.mutatedKeys.has(b.key),M=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;b&&E?b.data.isEqual(E.data)?C!==M&&(i.track({type:3,doc:E}),D=!0):this.su(b,E)||(i.track({type:2,doc:E}),D=!0,(f&&this.eu(E,f)>0||m&&this.eu(E,m)<0)&&(h=!0)):!b&&E?(i.track({type:0,doc:E}),D=!0):b&&!E&&(i.track({type:1,doc:b}),D=!0,(f||m)&&(h=!0)),D&&(E?(c=c.add(E),o=M?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,y)=>(function(E,C){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:D})}};return M(E)-M(C)})(_.type,y.type)||this.eu(_.doc,y.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new el(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new _S(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new pS(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Bt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const x_="SyncEngine";class NN{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class ON{constructor(t){this.key=t,this.hu=!1}}class kN{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((h=>Ow(h)),ld),this.Iu=new Map,this.Eu=new Set,this.du=new pe(xt.comparator),this.Au=new Map,this.Ru=new u_,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VN(n,t,e=!0){const i=ES(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await yS(i,t,e,!0),r}async function PN(n,t){const e=ES(n);await yS(e,t,!0,!1)}async function yS(n,t,e,i){const r=await nN(n.localStore,$i(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await LN(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&oS(n.remoteStore,r),h}async function LN(n,t,e,i,r){n.pu=(y,b,E)=>(async function(M,D,L,F){let X=D.view.ru(L);X.Cs&&(X=await Dx(M.localStore,D.query,!1).then((({documents:I})=>D.view.ru(I,X))));const Z=F&&F.targetChanges.get(D.targetId),W=F&&F.targetMismatches.get(D.targetId)!=null,st=D.view.applyChanges(X,M.isPrimaryClient,Z,W);return Bx(M,D.targetId,st.au),st.snapshot})(n,y,b,E);const o=await Dx(n.localStore,t,!0),c=new DN(t,o.Qs),h=c.ru(o.documents),f=lu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,f);Bx(n,e,m.au);const _=new NN(t,e,c);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function jN(n,t,e){const i=Ct(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!ld(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await yp(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&m_(i.remoteStore,r.targetId),xp(i,r.targetId)})).catch(ol)):(xp(i,r.targetId),await yp(i.localStore,r.targetId,!0))}async function zN(n,t){const e=Ct(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),m_(e.remoteStore,i.targetId))}async function UN(n,t,e){const i=KN(n);try{const r=await(function(c,h){const f=Ct(c),m=de.now(),_=h.reduce(((E,C)=>E.add(C.key)),Bt());let y,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let C=zs(),M=Bt();return f.Ns.getEntries(E,_).next((D=>{C=D,C.forEach(((L,F)=>{F.isValidDocument()||(M=M.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,C))).next((D=>{y=D;const L=[];for(const F of h){const X=eD(F,y.get(F.key).overlayedDocument);X!=null&&L.push(new Fa(F.key,X,Aw(X.value.mapValue),Qi.exists(!0)))}return f.mutationQueue.addMutationBatch(E,m,L,h)})).next((D=>{b=D;const L=D.applyToLocalDocumentSet(y,M);return f.documentOverlayCache.saveOverlays(E,D.batchId,L)}))})).then((()=>({batchId:b.batchId,changes:Pw(y)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new pe(Ut)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(i,r.batchId,e),await uu(i,r.changes),await gd(i.remoteStore)}catch(r){const o=v_(r,"Failed to persist write");e.reject(o)}}async function vS(n,t){const e=Ct(n);try{const i=await JD(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Zt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Zt(c.hu,14607):r.removedDocuments.size>0&&(Zt(c.hu,42227),c.hu=!1))})),await uu(e,i,t)}catch(i){await ol(i)}}function Ux(n,t,e){const i=Ct(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Ct(c);f.onlineState=h;let m=!1;f.queries.forEach(((_,y)=>{for(const b of y.Sa)b.va(h)&&(m=!0)})),m&&b_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function BN(n,t,e){const i=Ct(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new pe(xt.comparator);c=c.insert(o,un.newNoDocument(o,At.min()));const h=Bt().add(o),f=new fd(At.min(),new Map,new pe(Ut),c,h);await vS(i,f),i.du=i.du.remove(o),i.Au.delete(t),T_(i)}else await yp(i.localStore,t,!1).then((()=>xp(i,t,e))).catch(ol)}async function FN(n,t){const e=Ct(n),i=t.batch.batchId;try{const r=await ZD(e.localStore,t);xS(e,i,null),bS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await uu(e,r)}catch(r){await ol(r)}}async function HN(n,t,e){const i=Ct(n);try{const r=await(function(c,h){const f=Ct(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return f.mutationQueue.lookupMutationBatch(m,h).next((y=>(Zt(y!==null,37113),_=y.keys(),f.mutationQueue.removeMutationBatch(m,y)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>f.localDocuments.getDocuments(m,_)))}))})(i.localStore,t);xS(i,t,e),bS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await uu(i,r)}catch(r){await ol(r)}}function bS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function xS(n,t,e){const i=Ct(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function xp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||TS(n,i)}))}function TS(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(m_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),T_(n))}function Bx(n,t,e){for(const i of e)i instanceof pS?(n.Ru.addReference(i.key,t),qN(n,i)):i instanceof _S?(ft(x_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||TS(n,i.key)):wt(19791,{wu:i})}function qN(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ft(x_,"New document in limbo: "+e),n.Eu.add(i),T_(n))}function T_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new xt(fe.fromString(t)),i=n.fu.next();n.Au.set(i,new ON(e)),n.du=n.du.insert(e,i),oS(n.remoteStore,new Sr($i(s_(e.path)),i,"TargetPurposeLimboResolution",sd.ce))}}async function uu(n,t,e){const i=Ct(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const _=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){r.push(m);const _=f_.As(f.targetId,m);o.push(_)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,m){const _=Ct(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>it.forEach(m,(b=>it.forEach(b.Es,(E=>_.persistence.referenceDelegate.addReference(y,b.targetId,E))).next((()=>it.forEach(b.ds,(E=>_.persistence.referenceDelegate.removeReference(y,b.targetId,E)))))))))}catch(y){if(!ll(y))throw y;ft(d_,"Failed to update sequence numbers: "+y)}for(const y of m){const b=y.targetId;if(!y.fromCache){const E=_.Ms.get(b),C=E.snapshotVersion,M=E.withLastLimboFreeSnapshotVersion(C);_.Ms=_.Ms.insert(b,M)}}})(i.localStore,o))}async function GN(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){ft(x_,"User change. New user:",t.toKey());const i=await iS(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new pt(rt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await uu(e,i.Ls)}}function YN(n,t){const e=Ct(n),i=e.Au.get(t);if(i&&i.hu)return Bt().add(i.key);{let r=Bt();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function ES(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BN.bind(null,t),t.Pu.H_=IN.bind(null,t.eventManager),t.Pu.yu=MN.bind(null,t.eventManager),t}function KN(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HN.bind(null,t),t}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return WD(this.persistence,new XD,t.initialUser,this.serializer)}Cu(t){return new nS(h_.mi,this.serializer)}Du(t){return new sN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class XN extends Ff{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Zt(this.persistence.referenceDelegate instanceof Uf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OD(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new nS((i=>Uf.mi(i,e)),this.serializer)}}class Tp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ux(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GN.bind(null,this.syncEngine),await AN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new CN})()}createDatastore(t){const e=dd(t.databaseInfo.databaseId),i=(function(o){return new cN(o)})(t.databaseInfo);return(function(o,c,h,f){return new dN(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new gN(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>Ux(this.syncEngine,e,0)),(function(){return kx.v()?new kx:new rN})())}createSyncEngine(t,e){return(function(r,o,c,h,f,m,_){const y=new kN(r,o,c,h,f,m);return _&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Ct(e);ft(Va,"RemoteStore shutting down."),i.Ea.add(5),await cu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tp.provider={build:()=>new Tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):js("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class $N{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=cn.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ft(Br,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ft(Br,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=v_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function zg(n,t){n.asyncQueue.verifyOperationInProgress(),ft(Br,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await iS(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Fx(n,t){n.asyncQueue.verifyOperationInProgress();const e=await QN(n);ft(Br,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Px(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>Px(t.remoteStore,r))),n._onlineComponents=t}async function QN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(Br,"Using user provided OfflineComponentProvider");try{await zg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Qo("Error using user provided cache. Falling back to memory cache: "+e),await zg(n,new Ff)}}else ft(Br,"Using default OfflineComponentProvider"),await zg(n,new XN(void 0));return n._offlineComponents}async function SS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(Br,"Using user provided OnlineComponentProvider"),await Fx(n,n._uninitializedComponentsProvider._online)):(ft(Br,"Using default OnlineComponentProvider"),await Fx(n,new Tp))),n._onlineComponents}function WN(n){return SS(n).then((t=>t.syncEngine))}async function AS(n){const t=await SS(n),e=t.eventManager;return e.onListen=VN.bind(null,t.syncEngine),e.onUnlisten=jN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=PN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=zN.bind(null,t.syncEngine),e}function ZN(n,t,e={}){const i=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const _=new wS({next:b=>{_.Nu(),c.enqueueAndForget((()=>mS(o,y)));const E=b.docs.has(h);!E&&b.fromCache?m.reject(new pt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&f&&f.source==="server"?m.reject(new pt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),y=new gS(s_(h.path),_,{includeMetadataChanges:!0,qa:!0});return dS(o,y)})(await AS(n),n.asyncQueue,t,e,i))),i.promise}function JN(n,t,e={}){const i=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const _=new wS({next:b=>{_.Nu(),c.enqueueAndForget((()=>mS(o,y))),b.fromCache&&f.source==="server"?m.reject(new pt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),y=new gS(h,_,{includeMetadataChanges:!0,qa:!0});return dS(o,y)})(await AS(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firestore.googleapis.com",qx=!0;class Gx{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CS,this.ssl=qx}else this.host=t.host,this.ssl=t.ssl??qx;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<DD)throw new pt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RS(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pd{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gx(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new sM;switch(i.type){case"firstParty":return new lM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=Hx.get(e);i&&(ft("ComponentProvider","Removing Datastore"),Hx.delete(e),i.terminate())})(this),Promise.resolve()}}function tO(n,t,e,i={}){n=Vr(n,pd);const r=ja(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Vp(`https://${h}`),Pp("Firestore",!0)),o.host!==CS&&o.host!==h&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!Da(f,c)&&(n._setSettings(f),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=cn.MOCK_USER;else{m=SE(i.mockUserToken,n._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new pt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new cn(y)}n._authCredentials=new rM(new mw(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _d(this.firestore,t,this._query)}}class Be{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(au(e,Be._jsonSchema))return new Be(t,i||null,new xt(fe.fromString(e.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Pe("string",Be._jsonSchemaVersion),referencePath:Pe("string")};class Nr extends _d{constructor(t,e,i){super(t,e,s_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new xt(t))}withConverter(t){return new Nr(this.firestore,t,this._path)}}function Ep(n,t,...e){if(n=ti(n),gw("collection","path",t),n instanceof pd){const i=fe.fromString(t,...e);return rx(i),new Nr(n,null,i)}{if(!(n instanceof Be||n instanceof Nr))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fe.fromString(t,...e));return rx(i),new Nr(n.firestore,null,i)}}function nl(n,t,...e){if(n=ti(n),arguments.length===1&&(t=Wp.newId()),gw("doc","path",t),n instanceof pd){const i=fe.fromString(t,...e);return sx(i),new Be(n,null,new xt(i))}{if(!(n instanceof Be||n instanceof Nr))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fe.fromString(t,...e));return sx(i),new Be(n.firestore,n instanceof Nr?n.converter:null,new xt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="AsyncQueue";class Kx{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rS(this,"async_queue_retry"),this._c=()=>{const i=jg();i&&ft(Yx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=jg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=jg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ll(t))throw t;ft(Yx,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,js("INTERNAL UNHANDLED ERROR: ",Xx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=y_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&wt(47125,{Pc:Xx(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Xx(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class hu extends pd{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Kx,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kx(t),this._firestoreClient=void 0,await t}}}function eO(n,t){const e=typeof n=="object"?n:zp(),i=typeof n=="string"?n:Of,r=td(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=TE("firestore");o&&tO(r,...o)}return r}function E_(n){if(n._terminated)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nO(n),n._firestoreClient}function nO(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new SM(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new $N(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(nn.fromBase64String(t))}catch(e){throw new pt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Zn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(au(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Pe("string",Zn._jsonSchemaVersion),bytes:Pe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new pt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new pt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(t){if(au(t,Zi._jsonSchema))return new Zi(t.latitude,t.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:Pe("string",Zi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(au(t,Ji._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ji(t.vectorValues);throw new pt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:Pe("string",Ji._jsonSchemaVersion),vectorValues:Pe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/^__.*__$/;class sO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Fa(t,this.data,this.fieldMask,e,this.fieldTransforms):new ou(t,this.data,e,this.fieldTransforms)}}function MS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:n})}}class S_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new S_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Hf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(MS(this.Ac)&&iO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class rO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||dd(t)}Cc(t,e,i,r=!1){return new S_({Ac:t,methodName:e,Dc:i,path:en.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aO(n){const t=n._freezeSettings(),e=dd(n._databaseId);return new rO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function oO(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);kS("Data must be an object, but it was:",c,i);const h=NS(i,c);let f,m;if(o.merge)f=new _i(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const y of o.mergeFields){const b=lO(t,y,e);if(!c.contains(b))throw new pt(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);uO(_,b)||_.push(b)}f=new _i(_),m=c.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,m=c.fieldTransforms;return new sO(new Wn(h),f,m)}function DS(n,t){if(OS(n=ti(n)))return kS("Unsupported field value:",t,n),NS(n,t);if(n instanceof IS)return(function(i,r){if(!MS(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=DS(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=ti(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $M(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=de.fromDate(i);return{timestampValue:zf(r.serializer,o)}}if(i instanceof de){const o=new de(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zf(r.serializer,o)}}if(i instanceof Zi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zn)return{bytesValue:Xw(r.serializer,i._byteString)};if(i instanceof Be){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:c_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ji)return(function(c,h){return{mapValue:{fields:{[ww]:{stringValue:Sw},[kf]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return r_(h.serializer,m)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Zp(i)}`)})(n,t)}function NS(n,t){const e={};return yw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ua(n,((i,r)=>{const o=DS(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function OS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof de||n instanceof Zi||n instanceof Zn||n instanceof Be||n instanceof IS||n instanceof Ji)}function kS(n,t,e){if(!OS(e)||!pw(e)){const i=Zp(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function lO(n,t,e){if((t=ti(t))instanceof w_)return t._internalPath;if(typeof t=="string")return VS(n,t);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,e)}const cO=new RegExp("[~\\*/\\[\\]]");function VS(n,t,e){if(t.search(cO)>=0)throw Hf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new w_(...t.split("."))._internalPath}catch{throw Hf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Hf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new pt(rt.INVALID_ARGUMENT,h+n+f)}function uO(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(LS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class hO extends PS{data(){return super.data()}}function LS(n,t){return typeof t=="string"?VS(n,t):t instanceof w_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dO{convertValue(t,e="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ua(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[kf].arrayValue?.values?.map((i=>we(i.doubleValue)));return new Ji(e)}convertGeoPoint(t){return new Zi(we(t.latitude),we(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ad(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Fc(t));default:return null}}convertTimestamp(t){const e=Lr(t);return new de(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fe.fromString(t);Zt(tS(i),9688,{name:t});const r=new Hc(i.get(1),i.get(3)),o=new xt(i.popFirst(5));return r.isEqual(e)||js(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Sc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ia extends PS{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(LS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ia._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:Pe("string",Ia._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class bf extends Ia{data(t={}){return super.data(t)}}class Yo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Sc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new bf(this._firestore,this._userDataWriter,i.key,i,new Sc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new bf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Sc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new bf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Sc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,_=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:gO(h.type),doc:f,oldIndex:m,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Yo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function gO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n){n=Vr(n,Be);const t=Vr(n.firestore,hu);return ZN(E_(t),n._key).then((e=>_O(t,n,e)))}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:Pe("string",Yo._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class jS extends dO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}function Sp(n){n=Vr(n,_d);const t=Vr(n.firestore,hu),e=E_(t),i=new jS(t);return fO(n._query),JN(e,n._query).then((r=>new Yo(t,i,n,r)))}function A_(n,t,e){n=Vr(n,Be);const i=Vr(n.firestore,hu),r=mO(n.converter,t);return zS(i,[oO(aO(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Qi.none())])}function pO(n){return zS(Vr(n.firestore,hu),[new a_(n._key,Qi.none())])}function zS(n,t){return(function(i,r){const o=new Vs;return i.asyncQueue.enqueueAndForget((async()=>UN(await WN(i),r,o))),o.promise})(E_(n),t)}function _O(n,t,e){const i=e.docs.get(t._key),r=new jS(n);return new Ia(n,r,t._key,i,new Sc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){al=r})(za),Na(new kr("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new hu(new aM(i.getProvider("auth-internal")),new cM(c,i.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(m.options.projectId,_)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ki(tx,ex,t),Ki(tx,ex,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firebasestorage.googleapis.com",yO="storageBucket",vO=120*1e3,bO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends rs{constructor(t,e,i=0){super(Ug(t),`Firebase Storage: ${e} (${Ug(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,as.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ug(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ss;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ss||(ss={}));function Ug(n){return"storage/"+n}function xO(){const n="An unknown error occurred, please check the error payload for server response.";return new as(ss.UNKNOWN,n)}function TO(){return new as(ss.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EO(){return new as(ss.CANCELED,"User canceled the upload/download.")}function wO(n){return new as(ss.INVALID_URL,"Invalid URL '"+n+"'.")}function SO(n){return new as(ss.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $x(n){return new as(ss.INVALID_ARGUMENT,n)}function BS(){return new as(ss.APP_DELETED,"The Firebase app was deleted.")}function AO(n){return new as(ss.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=yi.makeFromUrl(t,e)}catch{return new yi(t,"")}if(i.path==="")return i;throw SO(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}const _="v[A-Za-z0-9_]+",y=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${_}/b/${r}/o${b}`,"i"),C={bucket:1,path:3},M=e===US?"(?:storage.googleapis.com|storage.cloud.google.com)":e,D="([^?#]*)",L=new RegExp(`^https?://${M}/${r}/${D}`,"i"),X=[{regex:h,indices:f,postModify:o},{regex:E,indices:C,postModify:m},{regex:L,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<X.length;Z++){const W=X[Z],st=W.regex.exec(t);if(st){const I=st[W.indices.bucket];let A=st[W.indices.path];A||(A=""),i=new yi(I,A),W.postModify(i);break}}if(i==null)throw wO(t);return i}}class RO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let m=!1;function _(...D){m||(m=!0,t.apply(null,D))}function y(D){r=setTimeout(()=>{r=null,n(E,f())},D)}function b(){o&&clearTimeout(o)}function E(D,...L){if(m){b();return}if(D){b(),_.call(null,D,...L);return}if(f()||c){b(),_.call(null,D,...L);return}i<64&&(i*=2);let X;h===1?(h=2,X=0):X=(i+Math.random())*1e3,y(X)}let C=!1;function M(D){C||(C=!0,b(),!m&&(r!==null?(D||(h=2),clearTimeout(r),y(0)):D||(h=1)))}return y(0),o=setTimeout(()=>{c=!0,M(!0)},e),M}function IO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(n){return n!==void 0}function Qx(n,t,e,i){if(i<t)throw $x(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw $x(`Invalid value for '${n}'. Expected ${e} or less.`)}function DO(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var qf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(qf||(qf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,e,i,r,o,c,h,f,m,_,y,b=!0,E=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=y,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Xh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===qf.NO_ERROR,f=o.getStatus();if(!h||NO(f,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===qf.ABORT;i(!1,new Xh(!1,null,_));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Xh(m,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());MO(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=xO();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?BS():EO();c(f)}else{const f=TO();c(f)}};this.canceled_?e(!1,new Xh(!1,null,!0)):this.backoffId_=CO(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&IO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xh{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function kO(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function VO(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function PO(n,t){t&&(n["X-Firebase-GMPID"]=t)}function LO(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function jO(n,t,e,i,r,o,c=!0,h=!1){const f=DO(n.urlParams),m=n.url+f,_=Object.assign({},n.headers);return PO(_,t),kO(_,e),VO(_,o),LO(_,i),new OO(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function UO(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,e){this._service=t,e instanceof yi?this._location=e:this._location=yi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Gf(t,e)}get root(){const t=new yi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UO(this._location.path)}get storage(){return this._service}get parent(){const t=zO(this._location.path);if(t===null)return null;const e=new yi(this._location.bucket,t);return new Gf(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw AO(t)}}function Wx(n,t){const e=t?.[yO];return e==null?null:yi.makeFromBucketSpec(e,n)}function BO(n,t,e,i={}){n.host=`${t}:${e}`;const r=ja(t);r&&(Vp(`https://${n.host}/b`),Pp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:SE(o,n.app.options.projectId))}class FO{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=US,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vO,this._maxUploadRetryTime=bO,this._requests=new Set,r!=null?this._bucket=yi.makeFromBucketSpec(r,this._host):this._bucket=Wx(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=yi.makeFromBucketSpec(this._url,t):this._bucket=Wx(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Qx("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Qx("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gf(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new RO(BS());{const c=jO(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const Zx="@firebase/storage",Jx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="storage";function HO(n=zp(),t){n=ti(n);const i=td(n,FS).getImmediate({identifier:t}),r=TE("storage");return r&&qO(i,...r),i}function qO(n,t,e,i={}){BO(n,t,e,i)}function GO(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new FO(e,i,r,t,za)}function YO(){Na(new kr(FS,GO,"PUBLIC").setMultipleInstances(!0)),Ki(Zx,Jx,""),Ki(Zx,Jx,"esm2020")}YO();const KO={apiKey:"AIzaSyBpLnEBDMz-FXoSYWN9EWsUuMAIu-Dpt9M",authDomain:"drivesense-7cac6.firebaseapp.com",projectId:"drivesense-7cac6",storageBucket:"drivesense-7cac6.firebasestorage.app",messagingSenderId:"751400174977",appId:"1:751400174977:web:c1d4109794ca4d41bb5480"},R_=CE(KO),XO=nM(R_),Os=eO(R_);HO(R_);const $O=({isLoggedIn:n,setIsLoggedIn:t,setUser:e})=>{const i=async()=>{const r=new Ms;try{const c=(await hI(XO,r)).user;e({displayName:c.displayName,email:c.email,photoURL:c.photoURL,uid:c.uid});const h=nl(Os,"users",c.uid);(await wp(h)).exists()||await A_(h,{uid:c.uid,name:c.displayName,email:c.email,photoURL:c.photoURL,createdAt:new Date().toISOString()}),t(m=>!m),n&&console.log("Google Sign-In successful:",c)}catch(o){console.error("Google Sign-In error:",o)}};return S.jsxs("div",{className:`flex flex-row items-center justify-center px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)]  \r
            bg-[var(--blue-color)] text-[var(--light-color)] cursor-pointer rounded-full gap-[calc(0.2vw+0.3rem)] \r
            hover:bg-[var(--purple-color)] hover:text-[var(--dark-color)] transition duration-300 ease-in-out`,children:[S.jsx("i",{className:"bxl bx-google bx-tada-hover text-[calc(0.4vw+0.8rem)]"}),S.jsx("span",{onClick:i,className:"text-[calc(0.4vw+0.5rem)]",children:"Sign in with Google"})]})};function QO({isDark:n,setIsDark:t,isLoggedIn:e,setIsLoggedIn:i,setUser:r}){const o=sn(),[c,h]=ut.useState(!1),[f,m]=ut.useState(!1),_=()=>{m(y=>!y)};return S.jsxs("div",{className:`
            ${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[S.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&S.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(y=>!y)}),S.jsx("img",{src:n?kp:Ef,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),S.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),!o&&S.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Home"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Features"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]}),S.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"}),S.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)] text-[calc(0.4vw+0.5rem)]":"text-[var(--light-color)] bg-[var(--dark-color)] text-[calc(0.4vw+0.5rem)]"}
                    px-[calc(0.4vw+0.6rem)] py-[calc(0.2vw+0.3rem)] rounded-md cursor-pointer
                    hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)] font-semibold`,onClick:()=>_(),children:"Sign In"}),f&&S.jsx("div",{className:"fade-in absolute top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:S.jsxs("div",{className:"h-[420px] w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-start relative rounded-xl rounded-tr-none",children:[S.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                            flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>m(y=>!y)}),S.jsxs("div",{className:"w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[S.jsx("img",{src:Ef,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer",alt:""}),S.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Sign in to your account"}),S.jsx($O,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),S.jsx("span",{className:"text-[calc(0.4vw+0.5rem)]",children:"Or continue with"}),S.jsx("input",{type:"email",placeholder:"Email",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),S.jsx("input",{type:"password",placeholder:"Password",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),S.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,children:"Continue"}),S.jsxs("span",{className:"text-[calc(0.4vw+0.5rem)]",children:["Don't have an account?",S.jsx("span",{className:"text-[calc(0.4vw+0.5rem)] text-[var(--blue-color)] hovered cursor-pointer",children:" Sign Up"})]})]})]})}),S.jsx(_E,{isDark:n,setIsDark:t})]}),o&&c&&S.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:S.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[S.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(y=>!y)}),S.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Home"}),S.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Features"}),S.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Github"})]})})]})}const WO="/DriveSense/assets/car-img-DqpG-dY6.png",$h=({icon:n,title:t,info:e,isDark:i})=>{const r=sn();return S.jsxs("div",{className:`
            ${r?"w-[152px] h-[240px]":"flex-1"}
            flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)] 
            p-[calc(0.4vw+0.6rem)] rounded-lg border border-[var(--border-color)]`,children:[n,S.jsx("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} font-semibold text-center`,children:t}),S.jsxs("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} text-center`,children:[e,"."]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fu(n){return n+.5|0}const Ar=(n,t,e)=>Math.max(Math.min(n,e),t);function Ac(n){return Ar(fu(n*2.55),0,255)}function Or(n){return Ar(fu(n*255),0,255)}function Is(n){return Ar(fu(n/2.55)/100,0,1)}function tT(n){return Ar(fu(n*100),0,100)}const $n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ap=[..."0123456789ABCDEF"],ZO=n=>Ap[n&15],JO=n=>Ap[(n&240)>>4]+Ap[n&15],Qh=n=>(n&240)>>4===(n&15),t4=n=>Qh(n.r)&&Qh(n.g)&&Qh(n.b)&&Qh(n.a);function e4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&$n[n[1]]*17,g:255&$n[n[2]]*17,b:255&$n[n[3]]*17,a:t===5?$n[n[4]]*17:255}:(t===7||t===9)&&(e={r:$n[n[1]]<<4|$n[n[2]],g:$n[n[3]]<<4|$n[n[4]],b:$n[n[5]]<<4|$n[n[6]],a:t===9?$n[n[7]]<<4|$n[n[8]]:255})),e}const n4=(n,t)=>n<255?t(n):"";function i4(n){var t=t4(n)?ZO:JO;return n?"#"+t(n.r)+t(n.g)+t(n.b)+n4(n.a,t):void 0}const s4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function HS(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function r4(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function a4(n,t,e){const i=HS(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function o4(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function C_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,m,_;return o!==c&&(_=o-c,m=h>.5?_/(2-o-c):_/(o+c),f=o4(e,i,r,_,o),f=f*60+.5),[f|0,m||0,h]}function I_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Or)}function M_(n,t,e){return I_(HS,n,t,e)}function l4(n,t,e){return I_(a4,n,t,e)}function c4(n,t,e){return I_(r4,n,t,e)}function qS(n){return(n%360+360)%360}function u4(n){const t=s4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Ac(+t[5]):Or(+t[5]));const r=qS(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=l4(r,o,c):t[1]==="hsv"?i=c4(r,o,c):i=M_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function h4(n,t){var e=C_(n);e[0]=qS(e[0]+t),e=M_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function f4(n){if(!n)return;const t=C_(n),e=t[0],i=tT(t[1]),r=tT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Is(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const eT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function d4(){const n={},t=Object.keys(nT),e=Object.keys(eT);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,eT[o]);o=parseInt(nT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Wh;function m4(n){Wh||(Wh=d4(),Wh.transparent=[0,0,0,0]);const t=Wh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const g4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function p4(n){const t=g4.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Ac(c):Ar(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Ac(i):Ar(i,0,255)),r=255&(t[4]?Ac(r):Ar(r,0,255)),o=255&(t[6]?Ac(o):Ar(o,0,255)),{r:i,g:r,b:o,a:e}}}function _4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Is(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Bg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Po=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function y4(n,t,e){const i=Po(Is(n.r)),r=Po(Is(n.g)),o=Po(Is(n.b));return{r:Or(Bg(i+e*(Po(Is(t.r))-i))),g:Or(Bg(r+e*(Po(Is(t.g))-r))),b:Or(Bg(o+e*(Po(Is(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Zh(n,t,e){if(n){let i=C_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=M_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function GS(n,t){return n&&Object.assign(t||{},n)}function iT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Or(n[3]))):(t=GS(n,{r:0,g:0,b:0,a:1}),t.a=Or(t.a)),t}function v4(n){return n.charAt(0)==="r"?p4(n):u4(n)}class Kc{constructor(t){if(t instanceof Kc)return t;const e=typeof t;let i;e==="object"?i=iT(t):e==="string"&&(i=e4(t)||m4(t)||v4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=GS(this._rgb);return t&&(t.a=Is(t.a)),t}set rgb(t){this._rgb=iT(t)}rgbString(){return this._valid?_4(this._rgb):void 0}hexString(){return this._valid?i4(this._rgb):void 0}hslString(){return this._valid?f4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=y4(this._rgb,t._rgb,e)),this}clone(){return new Kc(this.rgb)}alpha(t){return this._rgb.a=Or(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=fu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zh(this._rgb,2,t),this}darken(t){return Zh(this._rgb,2,-t),this}saturate(t){return Zh(this._rgb,1,t),this}desaturate(t){return Zh(this._rgb,1,-t),this}rotate(t){return h4(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function As(){}const b4=(()=>{let n=0;return()=>n++})();function Wt(n){return n==null}function Ue(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Gt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ei(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Hi(n,t){return ei(n)?n:t}function Ot(n,t){return typeof n>"u"?t:n}const x4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,YS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function he(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ne(n,t,e,i){let r,o,c;if(Ue(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Gt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Yf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Kf(n){if(Ue(n))return n.map(Kf);if(Gt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Kf(n[e[r]]);return t}return n}function KS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function T4(n,t,e,i){if(!KS(n))return;const r=t[n],o=e[n];Gt(r)&&Gt(o)?Xc(r,o,i):t[n]=Kf(o)}function Xc(n,t,e){const i=Ue(t)?t:[t],r=i.length;if(!Gt(n))return n;e=e||{};const o=e.merger||T4;let c;for(let h=0;h<r;++h){if(c=i[h],!Gt(c))continue;const f=Object.keys(c);for(let m=0,_=f.length;m<_;++m)o(f[m],n,c,e)}return n}function Vc(n,t){return Xc(n,t,{merger:E4})}function E4(n,t,e){if(!KS(n))return;const i=t[n],r=e[n];Gt(i)&&Gt(r)?Vc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Kf(r))}const sT={"":n=>n,x:n=>n.x,y:n=>n.y};function w4(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function S4(n){const t=w4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Pa(n,t){return(sT[t]||(sT[t]=S4(t)))(n)}function D_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const $c=n=>typeof n<"u",Fr=n=>typeof n=="function",rT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function A4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ie=Math.PI,ve=2*ie,R4=ve+ie,Xf=Number.POSITIVE_INFINITY,C4=ie/180,Fe=ie/2,va=ie/4,aT=ie*2/3,XS=Math.log10,ts=Math.sign;function Pc(n,t,e){return Math.abs(n-t)<e}function oT(n){const t=Math.round(n);n=Pc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(XS(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function I4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function M4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Qc(n){return!M4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function D4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function N4(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ks(n){return n*(ie/180)}function O4(n){return n*(180/ie)}function lT(n){if(!ei(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function $S(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ie&&(o+=ve),{angle:o,distance:r}}function Rp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function k4(n,t){return(n-t+R4)%ve-ie}function gi(n){return(n%ve+ve)%ve}function Wc(n,t,e,i){const r=gi(n),o=gi(t),c=gi(e),h=gi(o-r),f=gi(c-r),m=gi(r-o),_=gi(r-c);return r===o||r===c||i&&o===c||h>f&&m<_}function hn(n,t,e){return Math.max(t,Math.min(e,n))}function V4(n){return hn(n,-32768,32767)}function Rr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function N_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Ra=(n,t,e,i)=>N_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),P4=(n,t,e)=>N_(n,e,i=>n[i][t]>=e);function L4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const QS=["push","pop","shift","splice","unshift"];function j4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),QS.forEach(e=>{const i="_onData"+D_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function cT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(QS.forEach(o=>{delete n[o]}),delete n._chartjs)}function WS(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const ZS=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function JS(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,ZS.call(window,()=>{i=!1,n.apply(t,e)}))}}function z4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const O_=n=>n==="start"?"left":n==="end"?"right":"center",ln=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,U4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function B4(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,_=c.axis,{min:y,max:b,minDefined:E,maxDefined:C}=c.getUserBounds();if(E){if(r=Math.min(Ra(f,_,y).lo,e?i:Ra(t,_,c.getPixelForValue(y)).lo),m){const M=f.slice(0,r+1).reverse().findIndex(D=>!Wt(D[h.axis]));r-=Math.max(0,M)}r=hn(r,0,i-1)}if(C){let M=Math.max(Ra(f,c.axis,b,!0).hi+1,e?0:Ra(t,_,c.getPixelForValue(b),!0).hi+1);if(m){const D=f.slice(M-1).findIndex(L=>!Wt(L[h.axis]));M+=Math.max(0,D)}o=hn(M,r,i)-r}else o=i-r}return{start:r,count:o}}function F4(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Jh=n=>n===0||n===1,uT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ve/e)),hT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ve/e)+1,Lc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Fe)+1,easeOutSine:n=>Math.sin(n*Fe),easeInOutSine:n=>-.5*(Math.cos(ie*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Jh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Jh(n)?n:uT(n,.075,.3),easeOutElastic:n=>Jh(n)?n:hT(n,.075,.3),easeInOutElastic(n){return Jh(n)?n:n<.5?.5*uT(n*2,.1125,.45):.5+.5*hT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Lc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Lc.easeInBounce(n*2)*.5:Lc.easeOutBounce(n*2-1)*.5+.5};function k_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fT(n){return k_(n)?n:new Kc(n)}function Fg(n){return k_(n)?n:new Kc(n).saturate(.5).darken(.1).hexString()}const H4=["x","y","borderWidth","radius","tension"],q4=["color","borderColor","backgroundColor"];function G4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:q4},numbers:{type:"number",properties:H4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Y4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dT=new Map;function K4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=dT.get(e);return i||(i=new Intl.NumberFormat(n,t),dT.set(e,i)),i}function V_(n,t,e){return K4(t,e).format(n)}const X4={values(n){return Ue(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=$4(n,e)}const c=XS(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),V_(n,i,f)}};function $4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var t1={formatters:X4};function Q4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:t1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const La=Object.create(null),Cp=Object.create(null);function jc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Hg(n,t,e){return typeof t=="string"?Xc(jc(n,t),e):Xc(jc(n,""),t)}class W4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Fg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Fg(r.borderColor),this.hoverColor=(i,r)=>Fg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Hg(this,t,e)}get(t){return jc(this,t)}describe(t,e){return Hg(Cp,t,e)}override(t,e){return Hg(La,t,e)}route(t,e,i,r){const o=jc(this,t),c=jc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[r];return Gt(f)?Object.assign({},m,f):Ot(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Se=new W4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[G4,Y4,Q4]);function Z4(n){return!n||Wt(n.size)||Wt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function mT(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function ba(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function gT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ip(n,t,e,i){e1(n,t,e,i,null)}function e1(n,t,e,i,r){let o,c,h,f,m,_,y,b;const E=t.pointStyle,C=t.rotation,M=t.radius;let D=(C||0)*C4;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(D),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(M)||M<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,M,0,0,ve):n.arc(e,i,M,0,ve),n.closePath();break;case"triangle":_=r?r/2:M,n.moveTo(e+Math.sin(D)*_,i-Math.cos(D)*M),D+=aT,n.lineTo(e+Math.sin(D)*_,i-Math.cos(D)*M),D+=aT,n.lineTo(e+Math.sin(D)*_,i-Math.cos(D)*M),n.closePath();break;case"rectRounded":m=M*.516,f=M-m,c=Math.cos(D+va)*f,y=Math.cos(D+va)*(r?r/2-m:f),h=Math.sin(D+va)*f,b=Math.sin(D+va)*(r?r/2-m:f),n.arc(e-y,i-h,m,D-ie,D-Fe),n.arc(e+b,i-c,m,D-Fe,D),n.arc(e+y,i+h,m,D,D+Fe),n.arc(e-b,i+c,m,D+Fe,D+ie),n.closePath();break;case"rect":if(!C){f=Math.SQRT1_2*M,_=r?r/2:f,n.rect(e-_,i-f,2*_,2*f);break}D+=va;case"rectRot":y=Math.cos(D)*(r?r/2:M),c=Math.cos(D)*M,h=Math.sin(D)*M,b=Math.sin(D)*(r?r/2:M),n.moveTo(e-y,i-h),n.lineTo(e+b,i-c),n.lineTo(e+y,i+h),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":D+=va;case"cross":y=Math.cos(D)*(r?r/2:M),c=Math.cos(D)*M,h=Math.sin(D)*M,b=Math.sin(D)*(r?r/2:M),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":y=Math.cos(D)*(r?r/2:M),c=Math.cos(D)*M,h=Math.sin(D)*M,b=Math.sin(D)*(r?r/2:M),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),D+=va,y=Math.cos(D)*(r?r/2:M),c=Math.cos(D)*M,h=Math.sin(D)*M,b=Math.sin(D)*(r?r/2:M),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(D)*M,h=Math.sin(D)*M,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(D)*(r?r/2:M),i+Math.sin(D)*M);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Zc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function P_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function L_(n){n.restore()}function J4(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function tk(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function ek(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Wt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function nk(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function ik(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Jc(n,t,e,i,r,o={}){const c=Ue(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=r.string,ek(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&ik(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Wt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),nk(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function $f(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ie,ie,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ie,Fe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Fe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Fe,!0),n.lineTo(e+c.topLeft,i)}const sk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ak(n,t){const e=(""+n).match(sk);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const ok=n=>+n||0;function j_(n,t){const e={},i=Gt(t),r=i?Object.keys(t):t,o=Gt(n)?i?c=>Ot(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=ok(o(c));return e}function n1(n){return j_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ko(n){return j_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ni(n){const t=n1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fn(n,t){n=n||{},t=t||Se.font;let e=Ot(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ot(n.style,t.style);i&&!(""+i).match(rk)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ot(n.family,t.family),lineHeight:ak(Ot(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ot(n.weight,t.weight),string:""};return r.string=Z4(r),r}function tf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function lk(n,t,e){const{min:i,max:r}=n,o=YS(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function qa(n,t){return Object.assign(Object.create(n),t)}function z_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=a1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>z_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return s1(h,f,()=>pk(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return _T(h).includes(f)},ownKeys(h){return _T(h)},set(h,f,m){const _=h._storage||(h._storage=r());return h[f]=_[f]=m,delete h._keys,!0}})}function il(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:i1(n,i),setContext:o=>il(n,o,e,i),override:o=>il(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return s1(o,c,()=>uk(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function i1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Fr(e)?e:()=>e,isIndexable:Fr(i)?i:()=>i}}const ck=(n,t)=>n?n+D_(t):t,U_=(n,t)=>Gt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function s1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function uk(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Fr(h)&&c.isScriptable(t)&&(h=hk(t,h,n,e)),Ue(h)&&h.length&&(h=fk(t,h,n,c.isIndexable)),U_(t,h)&&(h=il(h,r,o&&o[t],c)),h}function hk(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),U_(n,f)&&(f=B_(r._scopes,r,n,f)),f}function fk(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Gt(t[0])){const f=t,m=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const y=B_(m,r,n,_);t.push(il(y,o,c&&c[n],h))}}return t}function r1(n,t,e){return Fr(n)?n(t,e):n}const dk=(n,t)=>n===!0?t:typeof n=="string"?Pa(t,n):void 0;function mk(n,t,e,i,r){for(const o of t){const c=dk(e,o);if(c){n.add(c);const h=r1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function B_(n,t,e,i){const r=t._rootScopes,o=r1(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=pT(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=pT(h,c,o,f,i),f===null)?!1:z_(Array.from(h),[""],r,o,()=>gk(t,e,i))}function pT(n,t,e,i,r){for(;e;)e=mk(n,t,e,i,r);return e}function gk(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Ue(r)&&Gt(e)?e:r||{}}function pk(n,t,e,i){let r;for(const o of t)if(r=a1(ck(o,n),e),typeof r<"u")return U_(n,r)?B_(e,i,n,r):r}function a1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function _T(n){let t=n._keys;return t||(t=n._keys=_k(n._scopes)),t}function _k(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const yk=Number.EPSILON||1e-14,sl=(n,t)=>t<n.length&&!n[t].skip&&n[t],o1=n=>n==="x"?"y":"x";function vk(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=Rp(o,r),f=Rp(c,o);let m=h/(h+f),_=f/(h+f);m=isNaN(m)?0:m,_=isNaN(_)?0:_;const y=i*m,b=i*_;return{previous:{x:o.x-y*(c.x-r.x),y:o.y-y*(c.y-r.y)},next:{x:o.x+b*(c.x-r.x),y:o.y+b*(c.y-r.y)}}}function bk(n,t,e){const i=n.length;let r,o,c,h,f,m=sl(n,0);for(let _=0;_<i-1;++_)if(f=m,m=sl(n,_+1),!(!f||!m)){if(Pc(t[_],0,yk)){e[_]=e[_+1]=0;continue}r=e[_]/t[_],o=e[_+1]/t[_],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[_]=r*c*t[_],e[_+1]=o*c*t[_])}}function xk(n,t,e="x"){const i=o1(e),r=n.length;let o,c,h,f=sl(n,0);for(let m=0;m<r;++m){if(c=h,h=f,f=sl(n,m+1),!h)continue;const _=h[e],y=h[i];c&&(o=(_-c[e])/3,h[`cp1${e}`]=_-o,h[`cp1${i}`]=y-o*t[m]),f&&(o=(f[e]-_)/3,h[`cp2${e}`]=_+o,h[`cp2${i}`]=y+o*t[m])}}function Tk(n,t="x"){const e=o1(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,m=sl(n,0);for(c=0;c<i;++c)if(h=f,f=m,m=sl(n,c+1),!!f){if(m){const _=m[t]-f[t];r[c]=_!==0?(m[e]-f[e])/_:0}o[c]=h?m?ts(r[c-1])!==ts(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}bk(n,r,o),xk(n,o,t)}function ef(n,t,e){return Math.max(Math.min(n,e),t)}function Ek(n,t){let e,i,r,o,c,h=Zc(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&Zc(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=ef(r.cp1x,t.left,t.right),r.cp1y=ef(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=ef(r.cp2x,t.left,t.right),r.cp2y=ef(r.cp2y,t.top,t.bottom)))}function wk(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")Tk(n,r);else{let m=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=vk(m,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,m=h}t.capBezierPoints&&Ek(n,e)}function F_(){return typeof window<"u"&&typeof document<"u"}function H_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Qf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const yd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Sk(n,t){return yd(n).getPropertyValue(t)}const Ak=["top","right","bottom","left"];function Ma(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=Ak[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Rk=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Ck(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(Rk(r,o,n.target))h=r,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function Ea(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=yd(e),o=r.boxSizing==="border-box",c=Ma(r,"padding"),h=Ma(r,"border","width"),{x:f,y:m,box:_}=Ck(n,e),y=c.left+(_&&h.left),b=c.top+(_&&h.top);let{width:E,height:C}=t;return o&&(E-=c.width+h.width,C-=c.height+h.height),{x:Math.round((f-y)/E*e.width/i),y:Math.round((m-b)/C*e.height/i)}}function Ik(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&H_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=yd(o),f=Ma(h,"border","width"),m=Ma(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=Qf(h.maxWidth,o,"clientWidth"),r=Qf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Xf,maxHeight:r||Xf}}const nf=n=>Math.round(n*10)/10;function Mk(n,t,e,i){const r=yd(n),o=Ma(r,"margin"),c=Qf(r.maxWidth,n,"clientWidth")||Xf,h=Qf(r.maxHeight,n,"clientHeight")||Xf,f=Ik(n,t,e);let{width:m,height:_}=f;if(r.boxSizing==="content-box"){const b=Ma(r,"border","width"),E=Ma(r,"padding");m-=E.width+b.width,_-=E.height+b.height}return m=Math.max(0,m-o.width),_=Math.max(0,i?m/i:_-o.height),m=nf(Math.min(m,c,f.maxWidth)),_=nf(Math.min(_,h,f.maxHeight)),m&&!_&&(_=nf(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,m=nf(Math.floor(_*i))),{width:m,height:_}}function yT(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Dk=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};F_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function vT(n,t){const e=Sk(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wa(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Nk(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Ok(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=wa(n,r,e),h=wa(r,o,e),f=wa(o,t,e),m=wa(c,h,e),_=wa(h,f,e);return wa(m,_,e)}const kk=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Vk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Xo(n,t,e){return n?kk(t,e):Vk()}function l1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function c1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function u1(n){return n==="angle"?{between:Wc,compare:k4,normalize:gi}:{between:Rr,compare:(t,e)=>t-e,normalize:t=>t}}function bT({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function Pk(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=u1(i),f=t.length;let{start:m,end:_,loop:y}=n,b,E;if(y){for(m+=f,_+=f,b=0,E=f;b<E&&c(h(t[m%f][i]),r,o);++b)m--,_--;m%=f,_%=f}return _<m&&(_+=f),{start:m,end:_,loop:y,style:n.style}}function Lk(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:m}=u1(i),{start:_,end:y,loop:b,style:E}=Pk(n,t,e),C=[];let M=!1,D=null,L,F,X;const Z=()=>f(r,X,L)&&h(r,X)!==0,W=()=>h(o,L)===0||f(o,X,L),st=()=>M||Z(),I=()=>!M||W();for(let A=_,N=_;A<=y;++A)F=t[A%c],!F.skip&&(L=m(F[i]),L!==X&&(M=f(L,r,o),D===null&&st()&&(D=h(L,r)===0?A:N),D!==null&&I()&&(C.push(bT({start:D,end:A,loop:b,count:c,style:E})),D=null),N=A,X=L));return D!==null&&C.push(bT({start:D,end:y,loop:b,count:c,style:E})),C}function jk(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=Lk(i[r],n.points,t);o.length&&e.push(...o)}return e}function zk(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function Uk(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const m=n[f%r];m.skip||m.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=m.stop?f:null):(c=f,h.skip&&(t=f)),h=m}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function Bk(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=zk(e,r,o,i);if(i===!0)return xT(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,m=!!n._fullLoop&&c===0&&h===r-1;return xT(n,Uk(e,c,f,m),e,t)}function xT(n,t,e,i){return!i||!i.setContext||!e?t:Fk(n,t,e,i)}function Fk(n,t,e,i){const r=n._chart.getContext(),o=TT(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,m=[];let _=o,y=t[0].start,b=y;function E(C,M,D,L){const F=h?-1:1;if(C!==M){for(C+=f;e[C%f].skip;)C-=F;for(;e[M%f].skip;)M+=F;C%f!==M%f&&(m.push({start:C%f,end:M%f,loop:D,style:L}),_=L,y=M%f)}}for(const C of t){y=h?y:C.start;let M=e[y%f],D;for(b=y+1;b<=C.end;b++){const L=e[b%f];D=TT(i.setContext(qa(r,{type:"segment",p0:M,p1:L,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),Hk(D,_)&&E(y,b-1,C.loop,_),M=L,_=D}y<b-1&&E(y,b-1,C.loop,_)}return m}function TT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Hk(n,t){if(!t)return!1;const e=[],i=function(r,o){return k_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function sf(n,t,e){return n.options.clip?n[e]:t[e]}function qk(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:sf(e,t,"left"),right:sf(e,t,"right"),top:sf(i,t,"top"),bottom:sf(i,t,"bottom")}:t}function Gk(n,t){const e=t._clip;if(e.disabled)return!1;const i=qk(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Yk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=ZS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Rs=new Yk;const ET="transparent",Kk={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=fT(n||ET),r=i.valid&&fT(t||ET);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Xk{constructor(t,e,i,r){const o=e[i];r=tf([t.to,r,o,t.from]);const c=tf([t.from,o,r]);this._active=!0,this._fn=t.fn||Kk[t.type||typeof c],this._easing=Lc[t.easing]||Lc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=tf([t.to,e,r,t.from]),this._from=tf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class h1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Gt(t))return;const e=Object.keys(Se.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Gt(o))return;const c={};for(const h of e)c[h]=o[h];(Ue(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=Qk(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&$k(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[m];let y=o[m];const b=i.get(m);if(y)if(b&&y.active()){y.update(b,_,h);continue}else y.cancel();if(!b||!b.duration){t[m]=_;continue}o[m]=y=new Xk(b,t,m,_),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Rs.add(this._chart,i),!0}}function $k(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function Qk(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function wT(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function Wk(n,t,e){if(e===!1)return!1;const i=wT(n,e),r=wT(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Zk(n){let t,e,i,r;return Gt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function f1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function ST(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(_=!0,i.all)continue;break}m=n.values[f],ei(m)&&(o||t===0||ts(t)===ts(m))&&(t+=m)}return!_&&!i.all?0:t}function Jk(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,_;for(f=0,m=c.length;f<m;++f)_=c[f],h[f]={[r]:_,[o]:n[_]};return h}function qg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function tV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function eV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function nV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function AT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function RT(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,_=tV(o,c,i),y=t.length;let b;for(let E=0;E<y;++E){const C=t[E],{[f]:M,[m]:D}=C,L=C._stacks||(C._stacks={});b=L[m]=nV(r,_,M),b[h]=D,b._top=AT(b,c,!0,i.type),b._bottom=AT(b,c,!1,i.type);const F=b._visualValues||(b._visualValues={});F[h]=D}}function Gg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function iV(n,t){return qa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function sV(n,t,e){return qa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function _c(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Yg=n=>n==="reset"||n==="none",CT=(n,t)=>t?n:Object.assign({},n),rV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:f1(e,!0),values:null};class vd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=qg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&_c(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,b,E,C)=>y==="x"?b:y==="r"?C:E,o=e.xAxisID=Ot(i.xAxisID,Gg(t,"x")),c=e.yAxisID=Ot(i.yAxisID,Gg(t,"y")),h=e.rAxisID=Ot(i.rAxisID,Gg(t,"r")),f=e.indexAxis,m=e.iAxisID=r(f,o,c,h),_=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cT(this._data,this),t._stacked&&_c(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Gt(e)){const r=this._cachedMeta;this._data=Jk(e,r)}else if(i!==e){if(i){cT(i,this);const r=this._cachedMeta;_c(r),r._parsed=[]}e&&Object.isExtensible(e)&&j4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=qg(e.vScale,e),e.stack!==i.stack&&(r=!0,_c(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(RT(this,e._parsed),e._stacked=qg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],_,y,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Ue(r[t])?b=this.parseArrayData(i,r,t,e):Gt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const E=()=>y[h]===null||m&&y[h]<m[h];for(_=0;_<e;++_)i._parsed[_+t]=y=b[_],f&&(E()&&(f=!1),m=y);i._sorted=f}c&&RT(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),_=o===c,y=new Array(r);let b,E,C;for(b=0,E=r;b<E;++b)C=b+i,y[b]={[h]:_||o.parse(m[C],C),[f]:c.parse(e[C],C)};return y}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,m,_,y;for(f=0,m=r;f<m;++f)_=f+i,y=e[_],h[f]={x:o.parse(y[0],_),y:c.parse(y[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(r);let _,y,b,E;for(_=0,y=r;_<y;++_)b=_+i,E=e[b],m[_]={x:o.parse(Pa(E,h),b),y:c.parse(Pa(E,f),b)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:f1(r,!0),values:e._stacks[t.axis]._visualValues};return ST(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=ST(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=rV(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:y}=eV(h);let b,E;function C(){E=r[b];const M=E[h.axis];return!ei(E[t.axis])||_>M||y<M}for(b=0;b<c&&!(!C()&&(this.updateRangeFromParsed(m,t,E,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!C()){this.updateRangeFromParsed(m,t,E,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ei(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Zk(Ot(this.options.clip,Wk(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const y=r[_];y.hidden||(y.active&&m?c.push(y):y.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=sV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=iV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&$c(i);if(h)return CT(h,f);const m=this.chart.config,_=m.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],b=m.getOptionScopes(this.getDataset(),_),E=Object.keys(Se.elements[t]),C=()=>this.getContext(i,r,e),M=m.resolveNamedOptions(b,E,C,y);return M.$shared&&(M.$shared=f,o[c]=Object.freeze(CT(M,f))),M}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,y=_.datasetAnimationScopeKeys(this._type,e),b=_.getOptionScopes(this.getDataset(),y);f=_.createResolver(b,this.getContext(t,i,e))}const m=new h1(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Yg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Yg(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Yg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&_c(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function aV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=WS(i.sort((r,o)=>r-o))}return n._cache.$bar}function oV(n){const t=n.iScale,e=aV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||($c(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function lV(n,t,e,i){const r=e.barThickness;let o,c;return Wt(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function cV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:m}}function uV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:r,end:o,min:c,max:h}}function d1(n,t,e,i){return Ue(n)?uV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function IT(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let m,_,y,b;for(m=e,_=e+i;m<_;++m)b=t[m],y={},y[r.axis]=h||r.parse(c[m],m),f.push(d1(b,y,o,m));return f}function Kg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function hV(n,t,e){return n!==0?ts(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function fV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function dV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:_}=fV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=_:(o[MT(_,c,h,f)]=!0,r=m)),o[MT(r,c,h,f)]=!0,n.borderSkipped=o}function MT(n,t,e,i){return i?(n=mV(n,t,e),n=DT(n,e,t)):n=DT(n,t,e),n}function mV(n,t,e){return n===t?e:n===e?t:n}function DT(n,t,e){return n==="start"?t:n==="end"?e:n}function gV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class pV extends vd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return IT(t,e,i,r)}parseArrayData(t,e,i,r){return IT(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?h:f,_=c.axis==="x"?h:f,y=[];let b,E,C,M;for(b=i,E=i+r;b<E;++b)M=e[b],C={},C[o.axis]=o.parse(Pa(M,m),b),y.push(d1(Pa(M,_),C,c,b));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Kg(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),_=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(e,r);for(let E=e;E<e+i;E++){const C=this.getParsed(E),M=o||Wt(C[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(E),D=this._calculateBarIndexPixels(E,_),L=(C._stacks||{})[h.axis],F={horizontal:m,base:M.base,enableBorderRadius:!L||Kg(C._custom)||c===L._top||c===L._bottom,x:m?M.head:D.center,y:m?D.center:M.head,height:m?D.size:Math.abs(M.size),width:m?Math.abs(M.size):D.size};b&&(F.options=y||this.resolveDataElementOptions(E,t[E].active?"active":r));const X=F.options||t[E].options;dV(F,X,L,c),gV(F,X,_.ratio),this.updateElement(t[E],E,F,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],m=_=>{const y=_._parsed.find(E=>E[i.axis]===f),b=y&&y[_.vScale.axis];if(Wt(b)||isNaN(b))return!0};for(const _ of r)if(!(e!==void 0&&m(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ot(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||oV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),m=f._custom,_=Kg(m);let y=f[e.axis],b=0,E=i?this.applyStack(e,f,i):y,C,M;E!==y&&(b=E-y,E=y),_&&(y=m.barStart,E=m.barEnd-m.barStart,y!==0&&ts(y)!==ts(m.barEnd)&&(b=0),b+=y);const D=!Wt(o)&&!_?o:b;let L=e.getPixelForValue(D);if(this.chart.getDataVisibility(t)?C=e.getPixelForValue(b+E):C=L,M=C-L,Math.abs(M)<c){M=hV(M,e,h)*c,y===h&&(L-=M/2);const F=e.getPixelForDecimal(0),X=e.getPixelForDecimal(1),Z=Math.min(F,X),W=Math.max(F,X);L=Math.max(Math.min(L,W),Z),C=L+M,i&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(C)-e.getValueForPixel(L))}if(L===e.getPixelForValue(h)){const F=ts(M)*e.getLineWidthForValue(h)/2;L+=F,M-=F}return{size:M,base:L,head:C,center:C+M/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Ot(r.maxBarThickness,1/0);let h,f;const m=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?cV(t,e,r,_*m):lV(t,e,r,_*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Ot(b,this.getFirstScaleIdForIndexAxis())),C=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+E;h=y.start+y.chunk*C+y.chunk/2,f=Math.min(c,y.chunk*y.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function _V(n,t,e){let i=1,r=1,o=0,c=0;if(t<ve){const h=n,f=h+t,m=Math.cos(h),_=Math.sin(h),y=Math.cos(f),b=Math.sin(f),E=(X,Z,W)=>Wc(X,h,f,!0)?1:Math.max(Z,Z*e,W,W*e),C=(X,Z,W)=>Wc(X,h,f,!0)?-1:Math.min(Z,Z*e,W,W*e),M=E(0,m,y),D=E(Fe,_,b),L=C(ie,m,y),F=C(ie+Fe,_,b);i=(M-L)/2,r=(D-F)/2,o=-(M+L)/2,c=-(D+F)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class yV extends vd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Gt(i[t])){const{key:f="value"}=this._parsing;o=m=>+Pa(i[m],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return ks(this.options.rotation-90)}_getCircumference(){return ks(this.options.circumference)}_getRotationExtents(){let t=ve,e=-ve;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(x4(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:_,rotation:y}=this._getRotationExtents(),{ratioX:b,ratioY:E,offsetX:C,offsetY:M}=_V(y,_,f),D=(i.width-c)/b,L=(i.height-c)/E,F=Math.max(Math.min(D,L)/2,0),X=YS(this.options.radius,F),Z=Math.max(X*f,0),W=(X-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=C*X,this.offsetY=M*X,r.total=this.calculateTotal(),this.outerRadius=X-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ve)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,_=(h.left+h.right)/2,y=(h.top+h.bottom)/2,b=o&&m.animateScale,E=b?0:this.innerRadius,C=b?0:this.outerRadius,{sharedOptions:M,includeOptions:D}=this._getSharedOptions(e,r);let L=this._getRotation(),F;for(F=0;F<e;++F)L+=this._circumference(F,o);for(F=e;F<e+i;++F){const X=this._circumference(F,o),Z=t[F],W={x:_+this.offsetX,y:y+this.offsetY,startAngle:L,endAngle:L+X,circumference:X,outerRadius:C,innerRadius:E};D&&(W.options=M||this.resolveDataElementOptions(F,Z.active?"active":r)),L+=X,this.updateElement(Z,F,W,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ve*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=V_(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ot(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class vV extends vd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=B4(e,r,c);this._drawStart=h,this._drawCount=f,F4(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:_,includeOptions:y}=this._getSharedOptions(e,r),b=c.axis,E=h.axis,{spanGaps:C,segment:M}=this.options,D=Qc(C)?C:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none",F=e+i,X=t.length;let Z=e>0&&this.getParsed(e-1);for(let W=0;W<X;++W){const st=t[W],I=L?st:{};if(W<e||W>=F){I.skip=!0;continue}const A=this.getParsed(W),N=Wt(A[E]),P=I[b]=c.getPixelForValue(A[b],W),k=I[E]=o||N?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,A,f):A[E],W);I.skip=isNaN(P)||isNaN(k)||N,I.stop=W>0&&Math.abs(A[b]-Z[b])>D,M&&(I.parsed=A,I.raw=m.data[W]),y&&(I.options=_||this.resolveDataElementOptions(W,st.active?"active":r)),L||this.updateElement(st,W,I,r),Z=A}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function xa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class q_{static override(t){Object.assign(q_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return xa()}parse(){return xa()}format(){return xa()}add(){return xa()}diff(){return xa()}startOf(){return xa()}endOf(){return xa()}}var bV={_date:q_};function xV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?P4:Ra;if(i){if(r._sharedOptions){const _=o[0],y=typeof _.getRange=="function"&&_.getRange(t);if(y){const b=m(o,t,e-y),E=m(o,t,e+y);return{lo:b.lo,hi:E.hi}}}}else{const _=m(o,t,e);if(f){const{vScale:y}=r._cachedMeta,{_parsed:b}=n,E=b.slice(0,_.lo+1).reverse().findIndex(M=>!Wt(M[y.axis]));_.lo-=Math.max(0,E);const C=b.slice(_.hi).findIndex(M=>!Wt(M[y.axis]));_.hi+=Math.max(0,C)}return _}}return{lo:0,hi:o.length-1}}function bd(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:_}=o[h],{lo:y,hi:b}=xV(o[h],t,c,r);for(let E=y;E<=b;++E){const C=_[E];C.skip||i(C,m,E)}}}function TV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Xg(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||bd(n,e,t,function(h,f,m){!r&&!Zc(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function EV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:m,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:y}=$S(c,{x:t.x,y:t.y});Wc(y,m,_)&&r.push({element:c,datasetIndex:h,index:f})}return bd(n,e,t,o),r}function wV(n,t,e,i,r,o){let c=[];const h=TV(e);let f=Number.POSITIVE_INFINITY;function m(_,y,b){const E=_.inRange(t.x,t.y,r);if(i&&!E)return;const C=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(C))&&!E)return;const D=h(t,C);D<f?(c=[{element:_,datasetIndex:y,index:b}],f=D):D===f&&c.push({element:_,datasetIndex:y,index:b})}return bd(n,e,t,m),c}function $g(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?EV(n,t,e,r):wV(n,t,e,i,r,o)}function NT(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return bd(n,e,t,(f,m,_)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:m,index:_}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var SV={modes:{index(n,t,e,i){const r=Ea(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Xg(n,r,o,i,c):$g(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const _=h[0].index,y=m.data[_];y&&!y.skip&&f.push({element:y,datasetIndex:m.index,index:_})}),f):[]},dataset(n,t,e,i){const r=Ea(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Xg(n,r,o,i,c):$g(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let _=0;_<m.length;++_)h.push({element:m[_],datasetIndex:f,index:_})}return h},point(n,t,e,i){const r=Ea(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Xg(n,r,o,i,c)},nearest(n,t,e,i){const r=Ea(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return $g(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ea(t,n);return NT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ea(t,n);return NT(n,r,"y",e.intersect,i)}}};const m1=["left","top","right","bottom"];function yc(n,t){return n.filter(e=>e.pos===t)}function OT(n,t){return n.filter(e=>m1.indexOf(e.pos)===-1&&e.box.axis===t)}function vc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function AV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function RV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!m1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function CV(n,t){const e=RV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],_=m&&h.stackWeight/m.weight;h.horizontal?(h.width=_?_*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:f&&t.availableHeight)}return e}function IV(n){const t=AV(n),e=vc(t.filter(m=>m.box.fullSize),!0),i=vc(yc(t,"left"),!0),r=vc(yc(t,"right")),o=vc(yc(t,"top"),!0),c=vc(yc(t,"bottom")),h=OT(t,"x"),f=OT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:yc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function kT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function g1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function MV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!Gt(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[r]+=e.size}o.getPadding&&g1(c,o.getPadding());const h=Math.max(0,t.outerWidth-kT(c,n,"left","right")),f=Math.max(0,t.outerHeight-kT(c,n,"top","bottom")),m=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:_}:{same:_,other:m}}function DV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function NV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Rc(n,t,e,i){const r=[];let o,c,h,f,m,_;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,NV(h.horizontal,t));const{same:y,other:b}=MV(t,e,h,i);m|=y&&r.length,_=_||b,f.fullSize||r.push(h)}return m&&Rc(r,t,e,i)||_}function rf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function VT(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/m.weight||1;if(h.horizontal){const y=t.w*_,b=m.size||f.height;$c(m.start)&&(c=m.start),f.fullSize?rf(f,r.left,c,e.outerWidth-r.right-r.left,b):rf(f,t.left+m.placed,c,y,b),m.start=c,m.placed+=y,c=f.bottom}else{const y=t.h*_,b=m.size||f.width;$c(m.start)&&(o=m.start),f.fullSize?rf(f,o,r.top,b,e.outerHeight-r.bottom-r.top):rf(f,o,t.top+m.placed,b,y),m.start=o,m.placed+=y,o=f.right}}t.x=o,t.y=c}var Jn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ni(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=IV(n.boxes),f=h.vertical,m=h.horizontal;ne(n.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const _=f.reduce((M,D)=>D.box.options&&D.box.options.display===!1?M:M+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),b=Object.assign({},r);g1(b,ni(i));const E=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),C=CV(f.concat(m),y);Rc(h.fullSize,E,y,C),Rc(f,E,y,C),Rc(m,E,y,C)&&Rc(f,E,y,C),DV(E),VT(h.leftAndTop,E,y,C),E.x+=E.w,E.y+=E.h,VT(h.rightAndBottom,E,y,C),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},ne(h.chartArea,M=>{const D=M.box;Object.assign(D,n.chartArea),D.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class p1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class OV extends p1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const xf="$chartjs",kV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PT=n=>n===null||n==="";function VV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[xf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",PT(r)){const o=vT(n,"width");o!==void 0&&(n.width=o)}if(PT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=vT(n,"height");o!==void 0&&(n.height=o)}return n}const _1=Dk?{passive:!0}:!1;function PV(n,t,e){n&&n.addEventListener(t,e,_1)}function LV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,_1)}function jV(n,t){const e=kV[n.type]||n.type,{x:i,y:r}=Ea(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Wf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function zV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Wf(h.addedNodes,i),c=c&&!Wf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function UV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Wf(h.removedNodes,i),c=c&&!Wf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const tu=new Map;let LT=0;function y1(){const n=window.devicePixelRatio;n!==LT&&(LT=n,tu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function BV(n,t){tu.size||window.addEventListener("resize",y1),tu.set(n,t)}function FV(n){tu.delete(n),tu.size||window.removeEventListener("resize",y1)}function HV(n,t,e){const i=n.canvas,r=i&&H_(i);if(!r)return;const o=JS((h,f)=>{const m=r.clientWidth;e(h,f),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,_=f.contentRect.height;m===0&&_===0||o(m,_)});return c.observe(r),BV(n,o),c}function Qg(n,t,e){e&&e.disconnect(),t==="resize"&&FV(n)}function qV(n,t,e){const i=n.canvas,r=JS(o=>{n.ctx!==null&&e(jV(o,n))},n);return PV(i,t,r),r}class GV extends p1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(VV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[xf])return!1;const i=e[xf].initial;["height","width"].forEach(o=>{const c=i[o];Wt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[xf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:zV,detach:UV,resize:HV}[e]||qV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Qg,detach:Qg,resize:Qg}[e]||LV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return Mk(t,e,i,r)}isAttached(t){const e=t&&H_(t);return!!(e&&e.isConnected)}}function YV(n){return!F_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?OV:GV}class Us{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Qc(this.x)&&Qc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function KV(n,t){const e=n.options.ticks,i=XV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?QV(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>r)return WV(t,m,o,c/r),m;const _=$V(o,t,r);if(c>0){let y,b;const E=c>1?Math.round((f-h)/(c-1)):null;for(af(t,m,_,Wt(E)?0:h-E,h),y=0,b=c-1;y<b;y++)af(t,m,_,o[y],o[y+1]);return af(t,m,_,f,Wt(E)?t.length:f+E),m}return af(t,m,_),m}function XV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function $V(n,t,e){const i=ZV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=I4(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function QV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function WV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function af(n,t,e,i,r){const o=Ot(i,0),c=Math.min(Ot(r,n.length),n.length);let h=0,f,m,_;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===_&&(t.push(n[m]),h++,_=Math.round(o+h*e))}function ZV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const JV=n=>n==="left"?"right":n==="right"?"left":n,jT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,zT=(n,t)=>Math.min(t||n,n);function UT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function t6(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(r-1))/2,f+=r<t?m:-m,f<o-h||f>c+h)))return f}function e6(n,t){ne(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function bc(n){return n.drawTicks?n.tickLength:0}function BT(n,t){if(!n.display)return 0;const e=fn(n.font,t),i=ni(n.padding);return(Ue(n.text)?n.text.length:1)*e.lineHeight+i.height}function n6(n,t){return qa(n,{scale:t,type:"scale"})}function i6(n,t,e){return qa(n,{tick:e,index:t,type:"tick"})}function s6(n,t,e){let i=O_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=JV(i)),i}function r6(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:_}=f;let y=0,b,E,C;const M=c-r,D=h-o;if(n.isHorizontal()){if(E=ln(i,o,h),Gt(e)){const L=Object.keys(e)[0],F=e[L];C=_[L].getPixelForValue(F)+M-t}else e==="center"?C=(m.bottom+m.top)/2+M-t:C=jT(n,e,t);b=h-o}else{if(Gt(e)){const L=Object.keys(e)[0],F=e[L];E=_[L].getPixelForValue(F)-D+t}else e==="center"?E=(m.left+m.right)/2-D+t:E=jT(n,e,t);C=ln(i,c,r),y=e==="left"?-Fe:Fe}return{titleX:E,titleY:C,maxWidth:b,rotation:y}}class ul extends Us{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Hi(t,Number.POSITIVE_INFINITY),e=Hi(e,Number.NEGATIVE_INFINITY),i=Hi(i,Number.POSITIVE_INFINITY),r=Hi(r,Number.NEGATIVE_INFINITY),{min:Hi(t,i),max:Hi(e,r),minDefined:ei(t),maxDefined:ei(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Hi(e,Hi(i,e)),max:Hi(i,Hi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=lk(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?UT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=KV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),he(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=he(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=zT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),y=_.widest.width,b=_.highest.height,E=hn(this.chart.width-y,0,this.maxWidth);h=t.offset?this.maxWidth/i:E/(i-1),y+6>h&&(h=E/(i-(t.offset?.5:1)),f=this.maxHeight-bc(t.grid)-e.padding-BT(t.title,this.chart.options.font),m=Math.sqrt(y*y+b*b),c=O4(Math.min(Math.asin(hn((_.highest.height+6)/h,-1,1)),Math.asin(hn(f/m,-1,1))-Math.asin(hn(b/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=BT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=bc(o)+f):(t.height=this.maxHeight,t.width=bc(o)+f),i.display&&this.ticks.length){const{first:m,last:_,widest:y,highest:b}=this._getLabelSizes(),E=i.padding*2,C=ks(this.labelRotation),M=Math.cos(C),D=Math.sin(C);if(h){const L=i.mirror?0:D*y.width+M*b.height;t.height=Math.min(this.maxHeight,t.height+L+E)}else{const L=i.mirror?0:M*y.width+D*b.height;t.width=Math.min(this.maxWidth,t.width+L+E)}this._calculatePadding(m,_,D,M)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,E=0;f?m?(b=r*t.width,E=i*e.height):(b=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,E=e.width/2),this.paddingLeft=Math.max((b-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((E-y+c)*this.width/(this.width-y),0)}else{let _=e.height/2,y=t.height/2;o==="start"?(_=0,y=t.height):o==="end"&&(_=e.height,y=0),this.paddingTop=_+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Wt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=UT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/zT(e,i));let m=0,_=0,y,b,E,C,M,D,L,F,X,Z,W;for(y=0;y<e;y+=f){if(C=t[y].label,M=this._resolveTickFontOptions(y),r.font=D=M.string,L=o[D]=o[D]||{data:{},gc:[]},F=M.lineHeight,X=Z=0,!Wt(C)&&!Ue(C))X=mT(r,L.data,L.gc,X,C),Z=F;else if(Ue(C))for(b=0,E=C.length;b<E;++b)W=C[b],!Wt(W)&&!Ue(W)&&(X=mT(r,L.data,L.gc,X,W),Z+=F);c.push(X),h.push(Z),m=Math.max(X,m),_=Math.max(Z,_)}e6(o,e);const st=c.indexOf(m),I=h.indexOf(_),A=N=>({width:c[N]||0,height:h[N]||0});return{first:A(0),last:A(e-1),widest:A(st),highest:A(I),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return V4(this._alignToPixels?ba(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=i6(this.getContext(),t,i))}return this.$context||(this.$context=n6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ks(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,m=this.isHorizontal(),y=this.ticks.length+(f?1:0),b=bc(o),E=[],C=h.setContext(this.getContext()),M=C.display?C.width:0,D=M/2,L=function(K){return ba(i,K,M)};let F,X,Z,W,st,I,A,N,P,k,j,O;if(c==="top")F=L(this.bottom),I=this.bottom-b,N=F-D,k=L(t.top)+D,O=t.bottom;else if(c==="bottom")F=L(this.top),k=t.top,O=L(t.bottom)-D,I=F+D,N=this.top+b;else if(c==="left")F=L(this.right),st=this.right-b,A=F-D,P=L(t.left)+D,j=t.right;else if(c==="right")F=L(this.left),P=t.left,j=L(t.right)-D,st=F+D,A=this.left+b;else if(e==="x"){if(c==="center")F=L((t.top+t.bottom)/2+.5);else if(Gt(c)){const K=Object.keys(c)[0],ot=c[K];F=L(this.chart.scales[K].getPixelForValue(ot))}k=t.top,O=t.bottom,I=F+D,N=I+b}else if(e==="y"){if(c==="center")F=L((t.left+t.right)/2);else if(Gt(c)){const K=Object.keys(c)[0],ot=c[K];F=L(this.chart.scales[K].getPixelForValue(ot))}st=F-D,A=st-b,P=t.left,j=t.right}const Nt=Ot(r.ticks.maxTicksLimit,y),Et=Math.max(1,Math.ceil(y/Nt));for(X=0;X<y;X+=Et){const K=this.getContext(X),ot=o.setContext(K),ht=h.setContext(K),bt=ot.lineWidth,kt=ot.color,z=ht.dash||[],tt=ht.dashOffset,at=ot.tickWidth,lt=ot.tickColor,dt=ot.tickBorderDash||[],_t=ot.tickBorderDashOffset;Z=t6(this,X,f),Z!==void 0&&(W=ba(i,Z,bt),m?st=A=P=j=W:I=N=k=O=W,E.push({tx1:st,ty1:I,tx2:A,ty2:N,x1:P,y1:k,x2:j,y2:O,width:bt,color:kt,borderDash:z,borderDashOffset:tt,tickWidth:at,tickColor:lt,tickBorderDash:dt,tickBorderDashOffset:_t}))}return this._ticksLength=y,this._borderValue=F,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:_,mirror:y}=o,b=bc(i.grid),E=b+_,C=y?-_:E,M=-ks(this.labelRotation),D=[];let L,F,X,Z,W,st,I,A,N,P,k,j,O="middle";if(r==="top")st=this.bottom-C,I=this._getXAxisLabelAlignment();else if(r==="bottom")st=this.top+C,I=this._getXAxisLabelAlignment();else if(r==="left"){const Et=this._getYAxisLabelAlignment(b);I=Et.textAlign,W=Et.x}else if(r==="right"){const Et=this._getYAxisLabelAlignment(b);I=Et.textAlign,W=Et.x}else if(e==="x"){if(r==="center")st=(t.top+t.bottom)/2+E;else if(Gt(r)){const Et=Object.keys(r)[0],K=r[Et];st=this.chart.scales[Et].getPixelForValue(K)+E}I=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")W=(t.left+t.right)/2-E;else if(Gt(r)){const Et=Object.keys(r)[0],K=r[Et];W=this.chart.scales[Et].getPixelForValue(K)}I=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const Nt=this._getLabelSizes();for(L=0,F=h.length;L<F;++L){X=h[L],Z=X.label;const Et=o.setContext(this.getContext(L));A=this.getPixelForTick(L)+o.labelOffset,N=this._resolveTickFontOptions(L),P=N.lineHeight,k=Ue(Z)?Z.length:1;const K=k/2,ot=Et.color,ht=Et.textStrokeColor,bt=Et.textStrokeWidth;let kt=I;c?(W=A,I==="inner"&&(L===F-1?kt=this.options.reverse?"left":"right":L===0?kt=this.options.reverse?"right":"left":kt="center"),r==="top"?m==="near"||M!==0?j=-k*P+P/2:m==="center"?j=-Nt.highest.height/2-K*P+P:j=-Nt.highest.height+P/2:m==="near"||M!==0?j=P/2:m==="center"?j=Nt.highest.height/2-K*P:j=Nt.highest.height-k*P,y&&(j*=-1),M!==0&&!Et.showLabelBackdrop&&(W+=P/2*Math.sin(M))):(st=A,j=(1-k)*P/2);let z;if(Et.showLabelBackdrop){const tt=ni(Et.backdropPadding),at=Nt.heights[L],lt=Nt.widths[L];let dt=j-tt.top,_t=0-tt.left;switch(O){case"middle":dt-=at/2;break;case"bottom":dt-=at;break}switch(I){case"center":_t-=lt/2;break;case"right":_t-=lt;break;case"inner":L===F-1?_t-=lt:L>0&&(_t-=lt/2);break}z={left:_t,top:dt,width:lt+tt.width,height:at+tt.height,color:Et.backdropColor}}D.push({label:Z,font:N,textOffset:j,options:{rotation:M,color:ot,strokeColor:ht,strokeWidth:bt,textAlign:kt,textBaseline:O,translation:[W,st],backdrop:z}})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ks(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,_;return e==="left"?r?(_=this.right+o,i==="near"?m="left":i==="center"?(m="center",_+=f/2):(m="right",_+=f)):(_=this.right-h,i==="near"?m="right":i==="center"?(m="center",_-=f/2):(m="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?m="right":i==="center"?(m="center",_-=f/2):(m="left",_-=f)):(_=this.left+h,i==="near"?m="left":i==="center"?(m="center",_+=f/2):(m="right",_=this.right)):m="right",{textAlign:m,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,_,y,b;this.isHorizontal()?(m=ba(t,this.left,c)-c/2,_=ba(t,this.right,h)+h/2,y=b=f):(y=ba(t,this.top,c)-c/2,b=ba(t,this.bottom,h)+h/2,m=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,y),e.lineTo(_,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&P_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,_=c.textOffset;Jc(i,m,0,_,f,h)}r&&L_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=fn(i.font),c=ni(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Gt(e)?(f+=c.bottom,Ue(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:_,maxWidth:y,rotation:b}=r6(this,f,e,h);Jc(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:b,textAlign:s6(h,e,r),textBaseline:"middle",translation:[m,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ot(t.grid&&t.grid.z,-1),r=Ot(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ul.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return fn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class of{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;l6(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,a6(t,c,i),this.override&&Se.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Se[r]&&(delete Se[r][i],this.override&&delete La[i])}}function a6(n,t,e){const i=Xc(Object.create(null),[e?Se.get(e):{},Se.get(t),n.defaults]);Se.set(t,i),n.defaultRoutes&&o6(t,n.defaultRoutes),n.descriptors&&Se.describe(t,n.descriptors)}function o6(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Se.route(o,r,f,h)})}function l6(n){return"id"in n&&"defaults"in n}class c6{constructor(){this.controllers=new of(vd,"datasets",!0),this.elements=new of(Us,"elements"),this.plugins=new of(Object,"plugins"),this.scales=new of(ul,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ne(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=D_(t);he(i["before"+r],[],i),e[t](i),he(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Gi=new c6;class u6{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(he(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Wt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ot(i.options&&i.options.plugins,{}),o=h6(i);return r===!1&&!e?[]:d6(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function h6(n){const t={},e=[],i=Object.keys(Gi.plugins.items);for(let o=0;o<i.length;o++)e.push(Gi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function f6(n,t){return!t&&n===!1?null:n===!0?{}:n}function d6(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=f6(i[f],r);m!==null&&o.push({plugin:h,options:m6(n.config,{plugin:h,local:e[f]},m,c)})}return o}function m6(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mp(n,t){const e=Se.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function g6(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function p6(n,t){return n===t?"_index_":"_value_"}function FT(n){if(n==="x"||n==="y"||n==="r")return n}function _6(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Dp(n,...t){if(FT(n))return n;for(const e of t){const i=e.axis||_6(e.position)||n.length>1&&FT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function HT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function y6(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return HT(n,"x",e[0])||HT(n,"y",e[0])}return{}}function v6(n,t){const e=La[n.type]||{scales:{}},i=t.scales||{},r=Mp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Gt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Dp(c,h,y6(c,n),Se.scales[h.type]),m=p6(f,r),_=e.scales||{};o[c]=Vc(Object.create(null),[{axis:f},h,_[f],_[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Mp(h,t),_=(La[h]||{}).scales||{};Object.keys(_).forEach(y=>{const b=g6(y,f),E=c[b+"AxisID"]||b;o[E]=o[E]||Object.create(null),Vc(o[E],[{axis:b},i[E],_[y]])})}),Object.keys(o).forEach(c=>{const h=o[c];Vc(h,[Se.scales[h.type],Se.scale])}),o}function v1(n){const t=n.options||(n.options={});t.plugins=Ot(t.plugins,{}),t.scales=v6(n,t)}function b1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function b6(n){return n=n||{},n.data=b1(n.data),v1(n),n}const qT=new Map,x1=new Set;function lf(n,t){let e=qT.get(n);return e||(e=t(),qT.set(n,e),x1.add(e)),e}const xc=(n,t,e)=>{const i=Pa(t,e);i!==void 0&&n.add(i)};class x6{constructor(t){this._config=b6(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=b1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),v1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return lf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return lf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return lf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(y=>xc(f,t,y))),_.forEach(y=>xc(f,r,y)),_.forEach(y=>xc(f,La[o]||{},y)),_.forEach(y=>xc(f,Se,y)),_.forEach(y=>xc(f,Cp,y))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),x1.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,La[e]||{},Se.datasets[e]||{},{type:e},Se,Cp]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=GT(this._resolverCache,t,r);let f=c;if(E6(c,e)){o.$shared=!1,i=Fr(i)?i():i;const m=this.createResolver(t,i,h);f=il(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=GT(this._resolverCache,t,i);return Gt(e)?il(o,e,void 0,r):o}}function GT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:z_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const T6=n=>Gt(n)&&Object.getOwnPropertyNames(n).some(t=>Fr(n[t]));function E6(n,t){const{isScriptable:e,isIndexable:i}=i1(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Fr(h)||T6(h))||c&&Ue(h))return!0}return!1}var w6="4.5.0";const S6=["top","bottom","left","right","chartArea"];function YT(n,t){return n==="top"||n==="bottom"||S6.indexOf(n)===-1&&t==="x"}function KT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function XT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),he(e&&e.onComplete,[n],t)}function A6(n){const t=n.chart,e=t.options.animation;he(e&&e.onProgress,[n],t)}function T1(n){return F_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Tf={},$T=n=>{const t=T1(n);return Object.values(Tf).filter(e=>e.canvas===t).pop()};function R6(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function C6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Ga=class{static defaults=Se;static instances=Tf;static overrides=La;static registry=Gi;static version=w6;static getChart=$T;static register(...t){Gi.add(...t),QT()}static unregister(...t){Gi.remove(...t),QT()}constructor(t,e){const i=this.config=new x6(e),r=T1(t),o=$T(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||YV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,_=f&&f.width;if(this.id=b4(),this.ctx=h,this.canvas=f,this.width=_,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new u6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=z4(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],Tf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Rs.listen(this,"complete",XT),Rs.listen(this,"progress",A6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Wt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gT(this.canvas,this.ctx),this}stop(){return Rs.stop(this),this}resize(t,e){Rs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,yT(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),he(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ne(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Dp(c,h),m=f==="r",_=f==="x";return{options:h,dposition:m?"chartArea":_?"bottom":"left",dtype:m?"radialLinear":_?"category":"linear"}}))),ne(o,c=>{const h=c.options,f=h.id,m=Dp(f,h),_=Ot(h.type,c.dtype);(h.position===void 0||YT(h.position,m)!==YT(c.dposition))&&(h.position=c.dposition),r[f]=!0;let y=null;if(f in i&&i[f].type===_)y=i[f];else{const b=Gi.getScale(_);y=new b({id:f,type:_,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(h,t)}),ne(r,(c,h)=>{c||delete i[h]}),ne(i,c=>{Jn.configure(this,c,c.options),Jn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(KT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Mp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Gi.getController(h),{datasetElementType:m,dataElementType:_}=Se.datasets[h];Object.assign(f,{dataElementType:Gi.getElement(_),datasetElementType:m&&Gi.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ne(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,_=this.data.datasets.length;m<_;m++){const{controller:y}=this.getDatasetMeta(m),b=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(b),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||ne(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(KT("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){ne(this.scales,t=>{Jn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!rT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;R6(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!rT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ne(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Fr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rs.has(this)?this.attached&&!Rs.running(this)&&Rs.start(this):(this.draw(),XT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=Gk(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&P_(e,r),t.controller.draw(),r&&L_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Zc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=SV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=qa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);$c(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Rs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Tf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};ne(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},r=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){ne(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ne(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Yf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,m)=>f.filter(_=>!m.some(y=>_.datasetIndex===y.datasetIndex&&_.index===y.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=A4(t),m=C6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,he(o.onHover,[t,h,this],this),f&&he(o.onClick,[t,h,this],this));const _=!Yf(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function QT(){return ne(Ga.instances,n=>n._plugins.invalidate())}function I6(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:m,borderJoinStyle:_}=f,y=Math.min(m/c,gi(i-e));if(n.beginPath(),n.arc(r,o,c-m/2,i+y/2,e-y/2),h>0){const b=Math.min(m/h,gi(i-e));n.arc(r,o,h+m/2,e-b/2,i+b/2,!0)}else{const b=Math.min(m/2,c*gi(i-e));if(_==="round")n.arc(r,o,b,e-ie/2,i+ie/2,!0);else if(_==="bevel"){const E=2*b*b,C=-E*Math.cos(e+ie/2)+r,M=-E*Math.sin(e+ie/2)+o,D=E*Math.cos(i+ie/2)+r,L=E*Math.sin(i+ie/2)+o;n.lineTo(C,M),n.lineTo(D,L)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function M6(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let m=r/h;n.beginPath(),n.arc(o,c,h,i-m,e+m),f>r?(m=r/f,n.arc(o,c,f,e+m,i-m,!0)):n.arc(o,c,r,e+Fe,i-Fe),n.closePath(),n.clip()}function D6(n){return j_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function N6(n,t,e,i){const r=D6(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const m=(e-Math.min(o,f))*i/2;return hn(f,0,Math.min(o,m))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:hn(r.innerStart,0,c),innerEnd:hn(r.innerEnd,0,c)}}function Lo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Zf(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:m,innerRadius:_}=t,y=Math.max(t.outerRadius+i+e-m,0),b=_>0?_+i+e+m:0;let E=0;const C=r-f;if(i){const Et=_>0?_-i:0,K=y>0?y-i:0,ot=(Et+K)/2,ht=ot!==0?C*ot/(ot+i):C;E=(C-ht)/2}const M=Math.max(.001,C*y-e/ie)/y,D=(C-M)/2,L=f+D+E,F=r-D-E,{outerStart:X,outerEnd:Z,innerStart:W,innerEnd:st}=N6(t,b,y,F-L),I=y-X,A=y-Z,N=L+X/I,P=F-Z/A,k=b+W,j=b+st,O=L+W/k,Nt=F-st/j;if(n.beginPath(),o){const Et=(N+P)/2;if(n.arc(c,h,y,N,Et),n.arc(c,h,y,Et,P),Z>0){const bt=Lo(A,P,c,h);n.arc(bt.x,bt.y,Z,P,F+Fe)}const K=Lo(j,F,c,h);if(n.lineTo(K.x,K.y),st>0){const bt=Lo(j,Nt,c,h);n.arc(bt.x,bt.y,st,F+Fe,Nt+Math.PI)}const ot=(F-st/b+(L+W/b))/2;if(n.arc(c,h,b,F-st/b,ot,!0),n.arc(c,h,b,ot,L+W/b,!0),W>0){const bt=Lo(k,O,c,h);n.arc(bt.x,bt.y,W,O+Math.PI,L-Fe)}const ht=Lo(I,L,c,h);if(n.lineTo(ht.x,ht.y),X>0){const bt=Lo(I,N,c,h);n.arc(bt.x,bt.y,X,L-Fe,N)}}else{n.moveTo(c,h);const Et=Math.cos(N)*y+c,K=Math.sin(N)*y+h;n.lineTo(Et,K);const ot=Math.cos(P)*y+c,ht=Math.sin(P)*y+h;n.lineTo(ot,ht)}n.closePath()}function O6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Zf(n,t,e,i,f,r);for(let m=0;m<o;++m)n.fill();isNaN(h)||(f=c+(h%ve||ve))}return Zf(n,t,e,i,f,r),n.fill(),f}function k6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:m,borderJoinStyle:_,borderDash:y,borderDashOffset:b,borderRadius:E}=f,C=f.borderAlign==="inner";if(!m)return;n.setLineDash(y||[]),n.lineDashOffset=b,C?(n.lineWidth=m*2,n.lineJoin=_||"round"):(n.lineWidth=m,n.lineJoin=_||"bevel");let M=t.endAngle;if(o){Zf(n,t,e,i,M,r);for(let D=0;D<o;++D)n.stroke();isNaN(h)||(M=c+(h%ve||ve))}C&&M6(n,t,M),f.selfJoin&&M-c>=ie&&E===0&&_!=="miter"&&I6(n,t,M),o||(Zf(n,t,e,i,M,r),n.stroke())}class V6 extends Us{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=$S(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:_,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,E=Ot(y,f-h),C=Wc(o,h,f)&&h!==f,M=E>=ve||C,D=Rr(c,m+b,_+b);return M&&D}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,_=(r+o)/2,y=(c+h+m+f)/2;return{x:e+Math.cos(_)*y,y:i+Math.sin(_)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ve?Math.floor(i/ve):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ie,i||0)),m=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,O6(t,this,m,o,c),k6(t,this,m,o,c),t.restore()}}function E1(n,t,e=t){n.lineCap=Ot(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ot(e.borderDash,t.borderDash)),n.lineDashOffset=Ot(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ot(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ot(e.borderWidth,t.borderWidth),n.strokeStyle=Ot(e.borderColor,t.borderColor)}function P6(n,t,e){n.lineTo(e.x,e.y)}function L6(n){return n.stepped?J4:n.tension||n.cubicInterpolationMode==="monotone"?tk:P6}function w1(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),m=Math.min(o,h),_=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:m<f&&!_?i+m-f:m-f}}function j6(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:m}=w1(r,e,i),_=L6(o);let{move:y=!0,reverse:b}=i||{},E,C,M;for(E=0;E<=m;++E)C=r[(h+(b?m-E:E))%c],!C.skip&&(y?(n.moveTo(C.x,C.y),y=!1):_(n,M,C,b,o.stepped),M=C);return f&&(C=r[(h+(b?m:0))%c],_(n,M,C,b,o.stepped)),!!f}function z6(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=w1(r,e,i),{move:f=!0,reverse:m}=i||{};let _=0,y=0,b,E,C,M,D,L;const F=Z=>(c+(m?h-Z:Z))%o,X=()=>{M!==D&&(n.lineTo(_,D),n.lineTo(_,M),n.lineTo(_,L))};for(f&&(E=r[F(0)],n.moveTo(E.x,E.y)),b=0;b<=h;++b){if(E=r[F(b)],E.skip)continue;const Z=E.x,W=E.y,st=Z|0;st===C?(W<M?M=W:W>D&&(D=W),_=(y*_+Z)/++y):(X(),n.lineTo(Z,W),C=st,y=0,M=D=W),L=W}X()}function Np(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?z6:j6}function U6(n){return n.stepped?Nk:n.tension||n.cubicInterpolationMode==="monotone"?Ok:wa}function B6(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),E1(n,t.options),n.stroke(r)}function F6(n,t,e,i){const{segments:r,options:o}=t,c=Np(t);for(const h of r)E1(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const H6=typeof Path2D=="function";function q6(n,t,e,i){H6&&!t.options.segment?B6(n,t,e,i):F6(n,t,e,i)}class G6 extends Us{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;wk(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Bk(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=jk(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=U6(i);let m,_;for(m=0,_=c.length;m<_;++m){const{start:y,end:b}=c[m],E=o[y],C=o[b];if(E===C){h.push(E);continue}const M=Math.abs((r-E[e])/(C[e]-E[e])),D=f(E,C,M,i.stepped);D[e]=t[e],h.push(D)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Np(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Np(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),q6(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function WT(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class Y6 extends Us{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return WT(this,t,"x",e)}inYRange(t,e){return WT(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Zc(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Ip(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function S1(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,m,_,y;return n.horizontal?(y=c/2,h=Math.min(e,r),f=Math.max(e,r),m=i-y,_=i+y):(y=o/2,h=e-y,f=e+y,m=Math.min(i,r),_=Math.max(i,r)),{left:h,top:m,right:f,bottom:_}}function Cr(n,t,e,i){return n?0:hn(t,e,i)}function K6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=n1(i);return{t:Cr(r.top,o.top,0,e),r:Cr(r.right,o.right,0,t),b:Cr(r.bottom,o.bottom,0,e),l:Cr(r.left,o.left,0,t)}}function X6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Ko(r),c=Math.min(t,e),h=n.borderSkipped,f=i||Gt(r);return{topLeft:Cr(!f||h.top||h.left,o.topLeft,0,c),topRight:Cr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Cr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Cr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function $6(n){const t=S1(n),e=t.right-t.left,i=t.bottom-t.top,r=K6(n,e/2,i/2),o=X6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Wg(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&S1(n,i);return h&&(r||Rr(t,h.left,h.right))&&(o||Rr(e,h.top,h.bottom))}function Q6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function W6(n,t){n.rect(t.x,t.y,t.w,t.h)}function Zg(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class A1 extends Us{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=$6(this),h=Q6(c.radius)?$f:W6;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Zg(c,e,o)),t.clip(),h(t,Zg(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Zg(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Wg(this,t,e,i)}inXRange(t,e){return Wg(this,t,null,e)}inYRange(t,e){return Wg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const ZT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},Z6=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class JT extends Us{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=he(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=fn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=ZT(i,o);let m,_;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,m=this._fitCols(c,r,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],_=r+h;let y=t;o.textAlign="left",o.textBaseline="middle";let b=-1,E=-_;return this.legendItems.forEach((C,M)=>{const D=i+e/2+o.measureText(C.text).width;(M===0||m[m.length-1]+D+2*h>c)&&(y+=_,m[m.length-(M>0?0:1)]=0,E+=_,b++),f[M]={left:0,top:E,row:b,width:D,height:r},m[m.length-1]+=D+h}),y}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],_=c-t;let y=h,b=0,E=0,C=0,M=0;return this.legendItems.forEach((D,L)=>{const{itemWidth:F,itemHeight:X}=J6(i,e,o,D,r);L>0&&E+X+2*h>_&&(y+=b+h,m.push({width:b,height:E}),C+=b+h,M++,b=E=0),f[L]={left:C,top:E,col:M,width:F,height:X},b=Math.max(b,F),E+=X+h}),y+=b,m.push({width:b,height:E}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Xo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=ln(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=ln(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+r}else{let h=0,f=ln(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=ln(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;P_(t,this),this._draw(),L_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Se.color,f=Xo(t.rtl,this.left,this.width),m=fn(c.font),{padding:_}=c,y=m.size,b=y/2;let E;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:C,boxHeight:M,itemHeight:D}=ZT(c,y),L=function(st,I,A){if(isNaN(C)||C<=0||isNaN(M)||M<0)return;r.save();const N=Ot(A.lineWidth,1);if(r.fillStyle=Ot(A.fillStyle,h),r.lineCap=Ot(A.lineCap,"butt"),r.lineDashOffset=Ot(A.lineDashOffset,0),r.lineJoin=Ot(A.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=Ot(A.strokeStyle,h),r.setLineDash(Ot(A.lineDash,[])),c.usePointStyle){const P={radius:M*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:N},k=f.xPlus(st,C/2),j=I+b;e1(r,P,k,j,c.pointStyleWidth&&C)}else{const P=I+Math.max((y-M)/2,0),k=f.leftForLtr(st,C),j=Ko(A.borderRadius);r.beginPath(),Object.values(j).some(O=>O!==0)?$f(r,{x:k,y:P,w:C,h:M,radius:j}):r.rect(k,P,C,M),r.fill(),N!==0&&r.stroke()}r.restore()},F=function(st,I,A){Jc(r,A.text,st,I+D/2,m,{strikethrough:A.hidden,textAlign:f.textAlign(A.textAlign)})},X=this.isHorizontal(),Z=this._computeTitleHeight();X?E={x:ln(o,this.left+_,this.right-i[0]),y:this.top+_+Z,line:0}:E={x:this.left+_,y:ln(o,this.top+Z+_,this.bottom-e[0].height),line:0},l1(this.ctx,t.textDirection);const W=D+_;this.legendItems.forEach((st,I)=>{r.strokeStyle=st.fontColor,r.fillStyle=st.fontColor;const A=r.measureText(st.text).width,N=f.textAlign(st.textAlign||(st.textAlign=c.textAlign)),P=C+b+A;let k=E.x,j=E.y;f.setWidth(this.width),X?I>0&&k+P+_>this.right&&(j=E.y+=W,E.line++,k=E.x=ln(o,this.left+_,this.right-i[E.line])):I>0&&j+W>this.bottom&&(k=E.x=k+e[E.line].width+_,E.line++,j=E.y=ln(o,this.top+Z+_,this.bottom-e[E.line].height));const O=f.x(k);if(L(O,j,st),k=U4(N,k+C+b,X?k+P:this.right,t.rtl),F(f.x(k),j,st),X)E.x+=P+_;else if(typeof st.text!="string"){const Nt=m.lineHeight;E.y+=R1(st,Nt)+_}else E.y+=W}),c1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=fn(e.font),r=ni(e.padding);if(!e.display)return;const o=Xo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=r.top+f;let _,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),_=this.top+m,y=ln(t.align,y,this.right-b);else{const C=this.columnSizes.reduce((M,D)=>Math.max(M,D.height),0);_=m+ln(t.align,this.top,this.bottom-C-t.labels.padding-this._computeTitleHeight())}const E=ln(h,y,y+b);c.textAlign=o.textAlign(O_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Jc(c,e.text,E,_,i)}_computeTitleHeight(){const t=this.options.title,e=fn(t.font),i=ni(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Rr(t,this.left,this.right)&&Rr(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Rr(t,r.left,r.left+r.width)&&Rr(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!nP(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=Z6(r,i);r&&!o&&he(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&he(e.onHover,[t,i,this],this)}else i&&he(e.onClick,[t,i,this],this)}}function J6(n,t,e,i,r){const o=tP(i,n,t,e),c=eP(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function tP(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function eP(n,t,e){let i=n;return typeof t.text!="string"&&(i=R1(t,e)),i}function R1(n,t){const e=n.text?n.text.length:0;return t*e}function nP(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var xd={id:"legend",_element:JT,start(n,t,e){const i=n.legend=new JT({ctx:n.ctx,options:e,chart:n});Jn.configure(n,i,e),Jn.addBox(n,i)},stop(n){Jn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Jn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),_=ni(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class C1 extends Us{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Ue(i.text)?i.text.length:1;this._padding=ni(i.padding);const o=r*fn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,m,_,y;return this.isHorizontal()?(_=ln(h,i,o),y=e+t,m=o-i):(c.position==="left"?(_=i+t,y=ln(h,r,e),f=ie*-.5):(_=o-t,y=ln(h,e,r),f=ie*.5),m=r-e),{titleX:_,titleY:y,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=fn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);Jc(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:O_(e.align),textBaseline:"middle",translation:[c,h]})}}function iP(n,t){const e=new C1({ctx:n.ctx,options:t,chart:n});Jn.configure(n,e,t),Jn.addBox(n,e),n.titleBlock=e}var G_={id:"title",_element:C1,start(n,t,e){iP(n,e)},stop(n){const t=n.titleBlock;Jn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Jn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),_=Rp(t,m);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function qi(n,t){return t&&(Ue(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Cs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function sP(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function tE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=fn(t.bodyFont),m=fn(t.titleFont),_=fn(t.footerFont),y=o.length,b=r.length,E=i.length,C=ni(t.padding);let M=C.height,D=0,L=i.reduce((Z,W)=>Z+W.before.length+W.lines.length+W.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,y&&(M+=y*m.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),L){const Z=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;M+=E*Z+(L-E)*f.lineHeight+(L-1)*t.bodySpacing}b&&(M+=t.footerMarginTop+b*_.lineHeight+(b-1)*t.footerSpacing);let F=0;const X=function(Z){D=Math.max(D,e.measureText(Z).width+F)};return e.save(),e.font=m.string,ne(n.title,X),e.font=f.string,ne(n.beforeBody.concat(n.afterBody),X),F=t.displayColors?c+2+t.boxPadding:0,ne(i,Z=>{ne(Z.before,X),ne(Z.lines,X),ne(Z.after,X)}),F=0,e.font=_.string,ne(n.footer,X),e.restore(),D+=C.width,{width:D,height:M}}function rP(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function aP(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function oP(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=r<=(h+f)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),aP(m,n,t,e)&&(m="center"),m}function eE(n,t,e){const i=e.yAlign||t.yAlign||rP(n,e);return{xAlign:e.xAlign||t.xAlign||oP(n,t,e,i),yAlign:i}}function lP(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function cP(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function nE(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=r+o,{topLeft:_,topRight:y,bottomLeft:b,bottomRight:E}=Ko(c);let C=lP(t,h);const M=cP(t,f,m);return f==="center"?h==="left"?C+=m:h==="right"&&(C-=m):h==="left"?C-=Math.max(_,b)+r:h==="right"&&(C+=Math.max(y,E)+r),{x:hn(C,0,i.width-t.width),y:hn(M,0,i.height-t.height)}}function cf(n,t,e){const i=ni(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function iE(n){return qi([],Cs(n))}function uP(n,t,e){return qa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function sE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const I1={beforeTitle:As,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:As,beforeBody:As,beforeLabel:As,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Wt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:As,afterBody:As,beforeFooter:As,footer:As,afterFooter:As};function wn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?I1[t].call(e,i):r}class rE extends Us{static positioners=Cc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new h1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=uP(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=wn(i,"beforeTitle",this,t),o=wn(i,"title",this,t),c=wn(i,"afterTitle",this,t);let h=[];return h=qi(h,Cs(r)),h=qi(h,Cs(o)),h=qi(h,Cs(c)),h}getBeforeBody(t,e){return iE(wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return ne(t,o=>{const c={before:[],lines:[],after:[]},h=sE(i,o);qi(c.before,Cs(wn(h,"beforeLabel",this,o))),qi(c.lines,wn(h,"label",this,o)),qi(c.after,Cs(wn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return iE(wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=wn(i,"beforeFooter",this,t),o=wn(i,"footer",this,t),c=wn(i,"afterFooter",this,t);let h=[];return h=qi(h,Cs(r)),h=qi(h,Cs(o)),h=qi(h,Cs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(sP(this.chart,e[f]));return t.filter&&(h=h.filter((_,y,b)=>t.filter(_,y,b,i))),t.itemSort&&(h=h.sort((_,y)=>t.itemSort(_,y,i))),ne(h,_=>{const y=sE(t.callbacks,_);r.push(wn(y,"labelColor",this,_)),o.push(wn(y,"labelPointStyle",this,_)),c.push(wn(y,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Cc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=tE(this,i),m=Object.assign({},h,f),_=eE(this.chart,i,m),y=nE(i,m,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:_,bottomRight:y}=Ko(h),{x:b,y:E}=t,{width:C,height:M}=e;let D,L,F,X,Z,W;return o==="center"?(Z=E+M/2,r==="left"?(D=b,L=D-c,X=Z+c,W=Z-c):(D=b+C,L=D+c,X=Z-c,W=Z+c),F=D):(r==="left"?L=b+Math.max(f,_)+c:r==="right"?L=b+C-Math.max(m,y)-c:L=this.caretX,o==="top"?(X=E,Z=X-c,D=L-c,F=L+c):(X=E+M,Z=X+c,D=L+c,F=L-c),W=X),{x1:D,x2:L,x3:F,y1:X,y2:Z,y3:W}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const m=Xo(i.rtl,this.x,this.width);for(t.x=cf(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=fn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,_=fn(o.bodyFont),y=cf(this,"left",o),b=r.x(y),E=f<_.lineHeight?(_.lineHeight-f)/2:0,C=e.y+E;if(o.usePointStyle){const M={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},D=r.leftForLtr(b,m)+m/2,L=C+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Ip(t,M,D,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Ip(t,M,D,L)}else{t.lineWidth=Gt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const M=r.leftForLtr(b,m),D=r.leftForLtr(r.xPlus(b,1),m-2),L=Ko(c.borderRadius);Object.values(L).some(F=>F!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,$f(t,{x:M,y:C,w:m,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),$f(t,{x:D,y:C+1,w:m-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(M,C,m,f),t.strokeRect(M,C,m,f),t.fillStyle=c.backgroundColor,t.fillRect(D,C+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:_}=i,y=fn(i.bodyFont);let b=y.lineHeight,E=0;const C=Xo(i.rtl,this.x,this.width),M=function(A){e.fillText(A,C.x(t.x+E),t.y+b/2),t.y+=b+o},D=C.textAlign(c);let L,F,X,Z,W,st,I;for(e.textAlign=c,e.textBaseline="middle",e.font=y.string,t.x=cf(this,D,i),e.fillStyle=i.bodyColor,ne(this.beforeBody,M),E=h&&D!=="right"?c==="center"?m/2+_:m+2+_:0,Z=0,st=r.length;Z<st;++Z){for(L=r[Z],F=this.labelTextColors[Z],e.fillStyle=F,ne(L.before,M),X=L.lines,h&&X.length&&(this._drawColorBox(e,t,Z,C,i),b=Math.max(y.lineHeight,f)),W=0,I=X.length;W<I;++W)M(X[W]),b=y.lineHeight;ne(L.after,M)}E=0,b=y.lineHeight,ne(this.afterBody,M),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=Xo(i.rtl,this.x,this.width);for(t.x=cf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=fn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:_}=i,{topLeft:y,topRight:b,bottomLeft:E,bottomRight:C}=Ko(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+y,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-b,f),e.quadraticCurveTo(h+m,f,h+m,f+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,f+_-C),e.quadraticCurveTo(h+m,f+_,h+m-C,f+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+E,f+_),e.quadraticCurveTo(h,f+_,h,f+_-E),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+y),e.quadraticCurveTo(h,f,h+y,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Cc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=tE(this,t),f=Object.assign({},c,this._size),m=eE(e,t,f),_=nE(t,f,m,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ni(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),l1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),c1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!Yf(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Yf(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Cc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Td={id:"tooltip",_element:rE,positioners:Cc,afterInit(n,t,e){e&&(n.tooltip=new rE({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:I1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const hP=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function fP(n,t,e,i){const r=n.indexOf(t);if(r===-1)return hP(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const dP=(n,t)=>n===null?null:hn(Math.round(n),0,t);function aE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Y_ extends ul{static id="category";static defaults={ticks:{callback:aE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Wt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:fP(i,t,Ot(e,t),this._addedLabels),dP(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return aE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function mP(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:m,maxTicks:_,maxDigits:y,includeBounds:b}=n,E=o||1,C=_-1,{min:M,max:D}=t,L=!Wt(c),F=!Wt(h),X=!Wt(m),Z=(D-M)/(y+1);let W=oT((D-M)/C/E)*E,st,I,A,N;if(W<1e-14&&!L&&!F)return[{value:M},{value:D}];N=Math.ceil(D/W)-Math.floor(M/W),N>C&&(W=oT(N*W/C/E)*E),Wt(f)||(st=Math.pow(10,f),W=Math.ceil(W*st)/st),r==="ticks"?(I=Math.floor(M/W)*W,A=Math.ceil(D/W)*W):(I=M,A=D),L&&F&&o&&D4((h-c)/o,W/1e3)?(N=Math.round(Math.min((h-c)/W,_)),W=(h-c)/N,I=c,A=h):X?(I=L?c:I,A=F?h:A,N=m-1,W=(A-I)/N):(N=(A-I)/W,Pc(N,Math.round(N),W/1e3)?N=Math.round(N):N=Math.ceil(N));const P=Math.max(lT(W),lT(I));st=Math.pow(10,Wt(f)?P:f),I=Math.round(I*st)/st,A=Math.round(A*st)/st;let k=0;for(L&&(b&&I!==c?(e.push({value:c}),I<c&&k++,Pc(Math.round((I+k*W)*st)/st,c,oE(c,Z,n))&&k++):I<c&&k++);k<N;++k){const j=Math.round((I+k*W)*st)/st;if(F&&j>h)break;e.push({value:j})}return F&&b&&A!==h?e.length&&Pc(e[e.length-1].value,h,oE(h,Z,n))?e[e.length-1].value=h:e.push({value:h}):(!F||A===h)&&e.push({value:A}),e}function oE(n,t,{horizontal:e,minRotation:i}){const r=ks(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class gP extends ul{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Wt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=ts(r),m=ts(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=mP(r,o);return t.bounds==="ticks"&&N4(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return V_(t,this.chart.options.locale,this.options.ticks.format)}}class K_ extends gP{static id="linear";static defaults={ticks:{callback:t1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ei(t)?t:0,this.max=ei(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ks(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ed={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},An=Object.keys(Ed);function lE(n,t){return n-t}function cE(n,t){if(Wt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ei(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Qc(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function uE(n,t,e,i){const r=An.length;for(let o=An.indexOf(n);o<r-1;++o){const c=Ed[An[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return An[o]}return An[r-1]}function pP(n,t,e,i,r){for(let o=An.length-1;o>=An.indexOf(e);o--){const c=An[o];if(Ed[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return An[e?An.indexOf(e):0]}function _P(n){for(let t=An.indexOf(n)+1,e=An.length;t<e;++t)if(Ed[An[t]].common)return An[t]}function hE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=N_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function yP(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function fE(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:yP(n,i,r,e)}class dE extends ul{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new bV._date(t.adapters.date);r.init(e),Vc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:cE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=ei(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ei(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=L4(r,o,c);return this._unit=e.unit||(i.autoSkip?uE(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):pP(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:_P(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),fE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=hn(e,0,c),i=hn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||uE(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ot(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Qc(f)||f===!0,_={};let y=e,b,E;if(m&&(y=+t.startOf(y,"isoWeek",f)),y=+t.startOf(y,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const C=r.ticks.source==="data"&&this.getDataTimestamps();for(b=y,E=0;b<i;b=+t.add(b,h,c),E++)hE(_,b,C);return(b===i||r.bounds==="ticks"||E===1)&&hE(_,b,C),Object.keys(_).sort(lE).map(M=>+M)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return he(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,_=f&&h[f],y=m&&h[m],b=i[e],E=m&&y&&b&&b.major;return this._adapter.format(t,r||(E?y:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=ks(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,fE(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(cE(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return WS(t.sort(lE))}}function uf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ra(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ra(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class XP extends dE{static id="timeseries";static defaults=dE.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=uf(e,this.min),this._tableRange=uf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,m,_;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],f=r[c-1],m=r[c],Math.round((_+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(uf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return uf(this._table,i*this._tableRange+this._minPos,!0)}}const M1="label";function mE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function vP(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function D1(n,t){n.labels=t}function N1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M1;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function bP(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M1;const e={labels:[],datasets:[]};return D1(e,n.labels),N1(e,n.datasets,t),e}function xP(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:_,updateMode:y,...b}=n,E=ut.useRef(null),C=ut.useRef(null),M=()=>{E.current&&(C.current=new Ga(E.current,{type:c,data:bP(h,o),options:f&&{...f},plugins:m}),mE(t,C.current))},D=()=>{mE(t,null),C.current&&(C.current.destroy(),C.current=null)};return ut.useEffect(()=>{!r&&C.current&&f&&vP(C.current,f)},[r,f]),ut.useEffect(()=>{!r&&C.current&&D1(C.current.config.data,h.labels)},[r,h.labels]),ut.useEffect(()=>{!r&&C.current&&h.datasets&&N1(C.current.config.data,h.datasets,o)},[r,h.datasets]),ut.useEffect(()=>{C.current&&(r?(D(),setTimeout(M)):C.current.update(y))},[r,f,h.labels,h.datasets,y]),ut.useEffect(()=>{C.current&&(D(),setTimeout(M))},[c]),ut.useEffect(()=>(M(),()=>D()),[]),pE.createElement("canvas",{ref:E,role:"img",height:e,width:i,...b},_)}const TP=ut.forwardRef(xP);function X_(n,t){return Ga.register(t),ut.forwardRef((e,i)=>pE.createElement(TP,{...e,ref:i,type:n}))}const EP=X_("line",vV),O1=X_("bar",pV),wP=X_("doughnut",yV);Ga.register(Y_,K_,A1,G_,Td,xd);const SP=({isDark:n})=>{const t={labels:["January","February","March"],datasets:[{label:"Fuel Consumption",data:[20,42,88],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption Overview",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return S.jsx(O1,{data:t,options:e})};Ga.register(Y_,K_,Y6,G6,G_,Td,xd);const AP=({isDark:n})=>{const t={labels:["January","February","March","April"],datasets:[{label:"Mileage",data:[40,52,70,88],fill:!1,borderColor:"rgba(101, 119, 255, 1)",tension:.1}]},e={responsive:!0,plugins:{legend:{position:"top",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Mileage Efficiency",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return S.jsx(EP,{data:t,options:e})};Ga.register(V6,Td,xd);const RP=({isDark:n})=>{const t={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Total Expenses",color:n?"#FFFCE1":"#0E100F"},tooltip:{backgroundColor:n?"#0E100F":"#FFFCE1",titleColor:n?"#FFFCE1":"#0E100F",bodyColor:n?"#FFFCE1":"#0E100F",borderColor:n?"#555":"#ccc",borderWidth:1}}},e={labels:["January","February","March"],datasets:[{label:"Expenses",data:[300,50,100],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderColor:n?"#0E100F":"#FFFCE1",borderWidth:2}]};return S.jsx(wP,{data:e,options:t})};function CP({isDark:n}){const t=sn();return S.jsxs("div",{className:`flex-col
            fade-in flex items-center justify-center h-screen w-full p-[calc(0.4vw+0.6rem)]`,children:[S.jsx("section",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)]",children:S.jsxs("div",{className:`${t?"flex-col items-center gap-[calc(0.4vw+0.6rem)]":"flex-row items-center"}
                    h-auto w-full flex justify-center p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]`,children:[S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("img",{src:n?kp:Ef,className:`h-[calc(6vw+6.4rem)] w-[calc(6vw+6.4rem)] cursor-pointer\r
                            filter hover:brightness-60 transition duration-300`,alt:""}),S.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),S.jsxs("div",{className:"flex-3 h-full flex flex-col items-start justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[S.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"Subscribe to our newsletter"}),S.jsxs("div",{className:"w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] pl-0",children:[S.jsx("input",{type:"email",placeholder:"Enter your email",className:`${n?"border-[var(--light-color)]":"border-[var(--dark-color)]"}
                                    w-full outline-none px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] border-b`}),S.jsx("i",{className:"bx bx-arrow-right-stroke-circle bx-spin-hover hovered text-[calc(1vw+1.4rem)] cursor-pointer"})]})]}),S.jsxs("div",{className:`${t?"pb-[calc(0.4vw+0.6rem)]":"p-[calc(0.4vw+0.6rem)]"}
                            flex-3 w-full flex items-center justify-center gap-[calc(1.4vw+1.6rem)]`,children:[S.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"About Us"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Mission"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Team"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"})]}),S.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Support"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Contact"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Support"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"FAQ's"})]}),S.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Social"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Facebook"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Instagram"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]})]})]})]})}),S.jsxs("section",{className:"w-full flex flex-row items-center justify-between flex-wrap",children:[S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Copyright  DriveSense 2025"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Terms of Service"}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"A100 Group 6 BSIT Mini-Capstone Project"}),S.jsxs("div",{className:"flex flex-row items-center justify-center",children:[S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Back to top"}),S.jsx("i",{className:"bx bx-arrow-up-square bx-tada-hover text-[calc(1vw+1.4rem)] cursor-pointer hovered",onClick:()=>{const e=document.getElementById("landing-section");e&&e.scrollIntoView({behavior:"smooth"})}})]})]})]})}function IP({isDark:n}){const t=sn();return S.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in h-screen w-full flex flex-col items-center justify-start overflow-y-scroll snap-y snap-mandatory scroll-smooth no-scrollbar`,children:[S.jsxs("section",{id:"landing-section",className:`${t?"flex-col min-h-screen w-full justify-center":"w-[90%] flex-row min-h-screen justify-around snap-start"}
                flex items-center border-b border-[var(--border-color)]`,children:[S.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:S.jsxs("div",{className:"flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(1.6vw+1.4rem)] font-bold cursor-pointer hovered",children:"Fuel Consumption and Vehicle Usage Monitoring System"}),!t&&S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),!t&&S.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--dark-color)] font-semibold`,children:"Get Started"}),S.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer font-semibold
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)]`,children:"Sign In"})]})]})}),S.jsx("div",{className:"relative h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:S.jsx("img",{src:WO,className:`${t?"h-[calc(18vw+16rem)] min-w-[calc(18vw+16rem)]":"h-[calc(18vw+16rem)] w-[calc(24vw+18rem)] mb-[48px]"}`,alt:""})}),t&&S.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:S.jsxs("div",{className:"w-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),S.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer`,children:"Get Started"}),S.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer font-semibold`,children:"Sign In"})]})]})})]}),S.jsxs("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)] border-b border-[var(--border-color)]`,children:[S.jsx("span",{className:"text-[calc(0.8vw+1rem)] cursor-pointer font-semibold hovered",children:"Why Use DriveSense?"}),S.jsxs("div",{className:`${n?"text-[var(--light-color)]":"text-[var(--dark-color)]"}
                        ${t?"flex-row items-center flex-wrap":"flex-row items-start"}
                        w-full flex justify-center gap-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)]`,children:[S.jsx($h,{icon:S.jsx("i",{className:"bx bx-petrol-pump bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Monitor Fuel Consumption",info:"Track fuel volume, cost and refusing data.",isDark:n}),S.jsx($h,{icon:S.jsx("i",{className:"bx bx-chart-bar-columns bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Analyze Efficiency",info:"Generate reports on vehicle mileage and performance.",isDark:n}),S.jsx($h,{icon:S.jsx("i",{className:"bx bx-car bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Manage Vehicles",info:"Register and update vehicle details with ease.",isDark:n}),S.jsx($h,{icon:S.jsx("i",{className:"bx bx-lock-keyhole bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Secure Access",info:"Role: based login for admin, driver and owner.",isDark:n})]}),S.jsxs("div",{className:`${t?"flex-col justify-start w-full":"flex-row justify-center h-[320px] w-full"}
                    h-auto flex items-center p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[S.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:S.jsx(SP,{isDark:n})}),S.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:S.jsx(AP,{isDark:n})}),S.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:S.jsx(RP,{isDark:n})})]})]}),S.jsx("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)]`,children:S.jsx(CP,{isDark:n})})]})}function MP({isLoggedIn:n,setIsLoggedIn:t,setUser:e}){const[i,r]=ut.useState(!0);return S.jsxs("div",{className:`${i?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            h-screen w-screen overflow-hidden flex flex-col items-center justify-start`,children:[S.jsx(QO,{isDark:i,setIsDark:r,isLoggedIn:n,setIsLoggedIn:t,setUser:e}),S.jsx(IP,{isDark:i})]})}const k1=({icon:n,title:t})=>S.jsxs(S.Fragment,{children:[S.jsx("i",{className:`${n} text-[calc(0.6vw+1rem)]`}),S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] hovered",children:t})]});function DP({isDark:n,setIsDark:t,activeIndex:e,setActiveIndex:i,user:r,isLoggedIn:o,setIsLoggedIn:c}){const h=sn(),[f,m]=ut.useState(!1),_=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicle"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],y=r?.displayName?.split(" ")[0]??"Guest";return S.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[S.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[h&&S.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>m(b=>!b)}),S.jsx("img",{src:n?kp:Ef,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),S.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),S.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[r&&S.jsx("img",{src:r?.photoURL??"",className:"rounded-full h-[calc(0.8vw+1.4rem)]  w-[calc(0.8vw+1.4rem)] cursor-pointer",alt:""}),!r&&S.jsx("i",{className:"bx bx-user-circle bx-tada-hover hovered text-[calc(1vw+1.2rem)] cursor-pointer"}),S.jsx("span",{className:`${h?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} 
                    cursor-pointer hovered`,children:h?y:r?.displayName??"Guest"}),S.jsx(_E,{isDark:n,setIsDark:t}),o&&S.jsx("i",{className:"bx bx-arrow-out-right-square-half bx-tada-hover text-[calc(0.4vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out cursor-pointer",onClick:()=>c(b=>!b)})]}),h&&f&&S.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:S.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[S.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>m(b=>!b)}),_.map((b,E)=>S.jsx("div",{className:`${e===E?"bg-[var(--border-color)]":""} flex flex-row items-center justify-start gap-[calc(0.4vw+0.6rem)] 
                            cursor-pointer transition duration-300 ease-in-out`,onClick:()=>i(E),children:S.jsx(k1,{icon:b.icon,title:b.title})},E))]})})]})}function xr({title:n,descrip:t,isDark:e}){return S.jsxs("div",{className:`
            text-[var(--light-color)] bg-[var(--purple-color)]
            h-auto w-full flex flex-col items-start justify-center rounded-lg
            p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer text-center",children:n}),S.jsx("span",{className:"text-[calc(0.6vw+1.2rem)] cursor-pointer",children:t})]})}Ga.register(Y_,K_,A1,G_,Td,xd);const NP=({isDark:n})=>{const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],datasets:[{label:"Fuel Consumption",data:[20,42,98,66,32,52,44,80,74],backgroundColor:["rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption",color:n?"#FFFCE1":"#0E100F",align:"start",font:{size:16}}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return S.jsx(O1,{data:t,options:e})};function gE({isDark:n,user:t}){const e=sn(),[i,r]=ut.useState("0"),[o,c]=ut.useState("0"),[h,f]=ut.useState("0"),[m,_]=ut.useState("0"),y=async()=>{try{if(!t||!t.uid){console.warn("User not available.");return}const b=Ep(Os,"users",t?.uid,"vehicles"),C=(await Sp(b)).size;return r(String(C)??"0"),c("0"),f("0"),_("0"),C}catch(b){console.error("Error fetching dashboard data:",b)}};return ut.useEffect(()=>{y()},[y]),S.jsxs("section",{id:"main",className:`${e?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
        flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:[S.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Dashboard"}),S.jsxs("span",{className:"text-[calc(0.4vw+0.8rem)] cursor-pointer hovered",children:["Welcome back, ",t?.displayName]}),!e&&S.jsxs("div",{className:"h-auto w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx(xr,{title:"Total Vehicles",descrip:i,isDark:n}),S.jsx(xr,{title:"Monthly Fuel Cost",descrip:o,isDark:n}),S.jsx(xr,{title:"Mileage Efficiency",descrip:h,isDark:n}),S.jsx(xr,{title:"Total Trips",descrip:m,isDark:n})]}),e&&S.jsxs("div",{className:"h-auto w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[S.jsx(xr,{title:"Total Vehicles",descrip:i,isDark:n}),S.jsx(xr,{title:"Monthly Fuel Cost",descrip:o,isDark:n})]}),S.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[S.jsx(xr,{title:"Mileage Efficiency",descrip:h,isDark:n}),S.jsx(xr,{title:"Total Trips",descrip:m,isDark:n})]})]})]}),S.jsxs("div",{className:`${e?"flex-col items-center mt-[calc(0.4vw+0.6rem)]":"flex-row items-start"}
                h-full w-full flex justify-start gap-[calc(0.4vw+0.6rem)]`,children:[S.jsx("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:S.jsx(NP,{isDark:n})}),S.jsxs("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:[S.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] p-[calc(0.4vw+0.6rem)] pl-0 cursor-pointer",children:"Recent Activity"}),S.jsx("div",{className:"h-full w-full flex flex-row items-start justify-around py-[calc(0.4vw+0.6rem)]",children:S.jsxs("div",{className:"w-full flex flex-row items-center justify-start",children:[S.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Activity"}),S.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Date"}),S.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Time"})]})})]})]})]})}function OP({user:n,driverInfo:t,isDark:e,vehicleInfo:i,setVehicleInfo:r}){const[o,c]=ut.useState(!1),h=sn(),[f,m]=ut.useState(null);ut.useEffect(()=>{if(console.log("driverInfo prop:",t),t&&Array.isArray(t)){const L=t.map(F=>F.name??"null");m(L)}},[t]),ut.useEffect(()=>{console.log("Driver Names: ",f)},[f]);const[_,y]=ut.useState(null),[b,E]=ut.useState(null),[C,M]=ut.useState(null),D=async()=>{if(!n?.uid)return;const L=new Date,F=`${L.toLocaleDateString()} ${L.toLocaleTimeString()}`,X=(i.length+1).toString(),Z=nl(Os,"users",n?.uid,"vehicles",X),W=await A_(Z,{id:X,plateNumber:_,model:b,driver:C,createdAt:F}),st={id:X,plateNumber:_,model:b,driver:C,createdAt:F};r(I=>[...I,st]),console.log(i),console.log("Added the vehicle successfully: ",W),c(I=>!I)};return S.jsx(S.Fragment,{children:!o&&S.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:S.jsxs("div",{className:`${e?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[S.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>c(L=>!L)}),S.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[S.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:S.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),S.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("input",{type:"text",placeholder:"Plate Number",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:L=>y(L.target.value),required:!0}),S.jsx("input",{type:"text",placeholder:"Model",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:L=>E(L.target.value),required:!0}),S.jsxs("select",{id:"driver-names",value:C??"",className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",onChange:L=>M(L.target.value),children:[S.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),f?.map((L,F)=>S.jsx("option",{value:L,className:"text-[var(--dark-color)] cursor-pointer",children:L},F))]}),S.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>D(),children:"Continue"})]})]})]})})})}function kP({isDark:n,user:t,driverInfo:e,vehicleInfo:i,setVehicleInfo:r,fetchVehicles:o}){const c=sn(),[h,f]=ut.useState(!1);return S.jsxs("section",{id:"main",className:`${c?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[S.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Vehicle Information"}),S.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>f(m=>!m),children:[S.jsx("i",{className:"bx bx-plus bx-tada-hover"}),S.jsx("span",{className:"",children:"Add Vehicle"})]})]}),h&&S.jsx(OP,{user:t,driverInfo:e,isDark:n,vehicleInfo:i,setVehicleInfo:r}),S.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:S.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Id"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Driver"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Plate no."}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Model"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Created At"}),S.jsx("div",{className:"flex-1 flex flex-row itens-center justify-end cursor-pointer text-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:S.jsx("i",{title:"Refresh",className:"bxr bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] text-[calc(0.6vw+1rem)] transition duration-300 ease-in-out cursor-pointer",onClick:()=>o()})})]})}),i.map(m=>S.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]",children:S.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start ",children:[S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:m.id??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:m.driver??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:m.plateNumber??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:m.model??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:m.createdAt??"null"}),S.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end cursor-pointer text-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("i",{className:"bx bx-edit bx-tada-hover hovered text-[calc(0.8vw+1rem)] cursor-pointer"}),S.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out gap-[calc(0.4vw+0.6rem)] cursor-pointer"})]})]})},m.id))]})]})}function VP({user:n,driverInfo:t,setDriverInfo:e}){const[i,r]=ut.useState(!1),o=sn(),[c,h]=ut.useState(null),[f,m]=ut.useState(null),[_,y]=ut.useState(null),b=async()=>{try{if(!n?.uid)return;const E=(t.length+1).toString(),C=c,M=f,D=_,L=nl(Os,"users",n?.uid,"drivers",E),F=await A_(L,{customId:E,name:C,contact:M,license:D});console.log("Added the driver successfully: ",F);const X={id:E,name:C,contact:M,license:D};e(Z=>[...Z,X]),console.log(t),r(Z=>!Z)}catch(E){console.error("Can't add the driver.",E)}};return S.jsx(S.Fragment,{children:!i&&S.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:S.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[S.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>r(E=>!E)}),S.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]`,children:[S.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:S.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new driver"})}),S.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("input",{type:"text",placeholder:"Name",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>h(E.target.value),required:!0}),S.jsx("input",{type:"text",placeholder:"Contact",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>m(E.target.value),required:!0}),S.jsx("input",{type:"text",placeholder:"License",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:E=>y(E.target.value),required:!0}),S.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>b(),children:"Continue"})]})]})]})})})}function PP({user:n,driverId:t,driverIndex:e,driverInfo:i,setDriverInfo:r}){const[o,c]=ut.useState(!1),h=sn(),f=async()=>{try{if(!n?.uid||!t)return;const m=nl(Os,"users",n?.uid,"drivers",t);await pO(m),r(_=>_.filter((y,b)=>b!==e))}catch(m){console.error("Cant delete the driver.",m)}c(m=>!m),console.log("Updated driver info: ",i)};return S.jsx(S.Fragment,{children:!o&&S.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:S.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[S.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>c(m=>!m)}),S.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[S.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:S.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this driver?"})}),S.jsxs("div",{className:`
                            flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]`,children:[S.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>c(!1),children:"No"}),S.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>f(),children:"Yes"})]})]})]})})})}function LP({isDark:n,user:t,driverInfo:e,setDriverInfo:i,fetchDrivers:r}){const o=sn(),[c,h]=ut.useState(!1),[f,m]=ut.useState(!1),[_,y]=ut.useState(null),[b,E]=ut.useState(null);return S.jsxs("section",{id:"main",className:`${o?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[S.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Driver Information"}),S.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-lg cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>h(C=>!C),children:[S.jsx("i",{className:"bx bx-plus bx-tada-hover"}),S.jsx("span",{className:"",children:"Add Driver"})]})]}),c&&S.jsx(VP,{user:t,driverInfo:e,setDriverInfo:i}),S.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:S.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start gap-[calc(0.6vw+1rem)]",children:[S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Id"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Name"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Contact"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"License"}),S.jsx("div",{className:"flex-1 flex flex-row itens-center justify-end cursor-pointer text-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:S.jsx("i",{title:"Refresh",className:"bxr bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] text-[calc(0.6vw+1rem)] transition duration-300 ease-in-out cursor-pointer",onClick:r})})]})}),e.map((C,M)=>S.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]",children:S.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start gap-[calc(0.6vw+1rem)]",children:[S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:C.id??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:C.name??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:C.contact??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:C.license??"null"}),S.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end cursor-pointer text-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("i",{className:"bx bx-edit bx-tada-hover hovered text-[calc(0.8vw+1rem)] cursor-pointer"}),S.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out gap-[calc(0.4vw+0.6rem)] cursor-pointer",onClick:()=>{m(!0),y(C.id?C.id.toLocaleString():"null"),E(M)}})]})]})},C.id??M)),f&&_&&S.jsx(PP,{user:t,driverInfo:e,setDriverInfo:i,driverId:_,driverIndex:b})]})]})}function jP({isDark:n,driverInfo:t,vehicleInfo:e}){const i=sn(),[r,o]=ut.useState(null),[c,h]=ut.useState(null),[f,m]=ut.useState([]),[_,y]=ut.useState([]),[b,E]=ut.useState([]),[C,M]=ut.useState([]),[D,L]=ut.useState([]),[F,X]=ut.useState([]),[Z,W]=ut.useState([]);return ut.useEffect(()=>{if(t&&Array.isArray(t)){const st=t.map(I=>I.name??"null");o(st)}},[t]),ut.useEffect(()=>{if(e&&Array.isArray(e)){const st=e.map(I=>I.model??"null");h(st)}},[e]),S.jsxs("section",{id:"main",className:`${i?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[S.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Fuel Logs"}),S.jsxs("div",{className:`flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[calc(0.4vw+0.5rem)] \r
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,children:[S.jsx("i",{className:"bx bx-plus bx-tada-hover"}),S.jsx("span",{className:"",children:"Add Fuel Log"})]})]}),S.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:S.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Id"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Vehicle"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Volume(L)"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Cost"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Added By"}),S.jsx("span",{className:"flex-1 cursor-pointer text-[calc(0.4vw+0.6rem)]",children:"Log Date"}),S.jsx("div",{className:"flex-1 flex flex-row itens-center justify-end cursor-pointer text-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:S.jsx("i",{title:"Refresh",className:"bxr bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] text-[calc(0.6vw+1rem)] transition duration-300 ease-in-out cursor-pointer"})})]})}),f?.map((st,I)=>S.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]",children:S.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start ",children:[S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:_[I]??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:b[I]??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:C[I]??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:D[I]??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:F[I]??"null"}),S.jsx("span",{className:"flex-1 hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:Z[I]??"null"}),S.jsxs("div",{className:"flex-1 flex flex-row itens-center justify-end cursor-pointer text-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:[S.jsx("i",{className:"bx bx-edit bx-tada-hover hovered text-[calc(0.8vw+1rem)] cursor-pointer"}),S.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out gap-[calc(0.4vw+0.6rem)] cursor-pointer"})]})]})},st))]})]})}function zP({isDark:n}){const t=sn();return S.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Maintenance Tab"})}function UP({isDark:n}){const t=sn();return S.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Reports Tab"})}function BP({isDark:n}){const t=sn();return S.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Users Tab"})}function FP({isDark:n}){const t=sn();return S.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Settings Tab"})}function HP({isDark:n,activeIndex:t,setActiveIndex:e,user:i,driverInfo:r,setDriverInfo:o,fuelInfo:c,setFuelInfo:h,vehicleInfo:f,setVehicleInfo:m}){const[_,y]=ut.useState(null),[b,E]=ut.useState(null),[C,M]=ut.useState([]),[D,L]=ut.useState([]),[F,X]=ut.useState([]),[Z,W]=ut.useState([]),[st,I]=ut.useState([]),[A,N]=ut.useState([]),[P,k]=ut.useState([]),[j,O]=ut.useState([]),[Nt,Et]=ut.useState([]),[K,ot]=ut.useState([]),ht=async()=>{try{if(!i?.uid)return;const at=Ep(Os,"users",i?.uid,"drivers"),lt=await Sp(at),dt=[];lt.forEach(yt=>{dt.push(yt.id)}),M(dt);const _t=[];try{if(dt.length>0){for(const yt of dt){const qt=nl(Os,"users",i?.uid,"drivers",yt),Yt=await wp(qt);if(Yt.exists()&&yt){const rn=Yt.data(),bi={id:Yt.id??null,name:rn.name??null,contact:rn.contact??null,license:rn.license??null};_t.push(bi)}}o(_t)}}catch(yt){console.error("Bruh can't fetch the names :D",yt)}}catch(at){console.error("Can't fetch drivers :D",at)}};ut.useEffect(()=>{ht()},[ht]),ut.useEffect(()=>{const at=r.map(yt=>yt.id?yt.id.toLocaleString():"null");M(at);const lt=r.map(yt=>yt.name??"null");L(lt);const dt=r.map(yt=>yt.contact??"null");X(dt);const _t=r.map(yt=>yt.license??"null");W(_t)},[r]);const bt=async()=>{if(i?.uid)try{const at=Ep(Os,"users",i?.uid,"vehicles"),lt=await Sp(at),dt=[];lt.forEach(yt=>{dt.push(yt.id)}),I(dt);const _t=[];try{if(st.length>0){for(const yt of dt){const qt=nl(Os,"users",i?.uid,"vehicles",yt),Yt=await wp(qt);if(Yt.exists()&&yt){const rn=Yt.data(),bi={id:Yt.id??null,plateNumber:rn.plateNumber??null,model:rn.model??null,driver:rn.driver??null,createdAt:rn.createdAt??null};_t.push(bi)}}m(_t)}}catch(yt){console.error("Cant fetch vehicle fields",yt)}}catch(at){console.error("Can't fetech the vehicles :(",at)}};ut.useEffect(()=>{bt()},[bt]),ut.useEffect(()=>{const at=f.map(qt=>String(qt.id??"null"));N(at);const lt=f.map(qt=>qt.plateNumber??"null");k(lt);const dt=f.map(qt=>qt.model??"null");O(dt);const _t=f.map(qt=>qt.driver??"null");Et(_t);const yt=f.map(qt=>qt.createdAt??"null");ot(yt)},[f]),ut.useEffect(()=>{if(r&&Array.isArray(r)){const at=r.map(lt=>lt.name??"null");y(at)}},[r]),ut.useEffect(()=>{},[_]),ut.useEffect(()=>{if(f&&Array.isArray(f)){const at=f.map(lt=>lt.model??"null");E(at)}},[f]),ut.useEffect(()=>{},[b]);const kt=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-user bx-tada-hover hovered",title:"Drivers"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicles"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],z=[S.jsx(gE,{isDark:n,user:i,vehicleInfo:f}),S.jsx(LP,{isDark:n,user:i,driverInfo:r,setDriverInfo:o,fetchDrivers:ht}),S.jsx(kP,{isDark:n,user:i,driverInfo:r,vehicleInfo:f,setVehicleInfo:m,fetchVehicles:bt}),S.jsx(jP,{isDark:n,user:i,driverInfo:r,vehicleInfo:f,fuelInfo:c,setFuelInfo:h}),S.jsx(zP,{isDark:n}),S.jsx(UP,{isDark:n}),S.jsx(BP,{isDark:n}),S.jsx(FP,{isDark:n})],tt=sn();return S.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            ${tt?"h-auto":"h-screen"}
            fade-in w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]`,children:[!tt&&S.jsx("section",{id:"side-nav",className:"h-full w-full flex-1",children:kt.map((at,lt)=>S.jsx("div",{className:`${t===lt?"text-[var(--dark-color)] bg-[var(--border-color)]":""} flex flex-row items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] 
                        cursor-pointer transition duration-300 ease-in-out`,onClick:()=>e(lt),children:S.jsx(k1,{icon:at.icon,title:at.title})},lt))}),z[t]??S.jsx(gE,{isDark:n,user:i,vehicleInfo:f})]})}function qP({user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,fuelInfo:o,setFuelInfo:c,isLoggedIn:h,setIsLoggedIn:f}){const[m,_]=ut.useState(!0),[y,b]=ut.useState(0);return S.jsxs("div",{children:[S.jsx(DP,{isDark:m,setIsDark:_,activeIndex:y,setActiveIndex:b,user:n,isLoggedIn:h,setIsLoggedIn:f}),S.jsx(HP,{isDark:m,activeIndex:y,setActiveIndex:b,user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,fuelInfo:o,setFuelInfo:c})]})}function GP(){const[n,t]=ut.useState(!1),[e,i]=ut.useState(null),[r,o]=ut.useState([]),[c,h]=ut.useState([]),[f,m]=ut.useState([]);return S.jsxs("div",{children:[!n&&S.jsx(MP,{isLoggedIn:n,setIsLoggedIn:t,setUser:i}),n&&S.jsx(qP,{user:e,isLoggedIn:n,setIsLoggedIn:t,driverInfo:r,setDriverInfo:o,vehicleInfo:c,setVehicleInfo:h,fuelInfo:f,setFuelInfo:m})]})}xR.createRoot(document.getElementById("root")).render(S.jsx(ut.StrictMode,{children:S.jsx(GP,{})}));
