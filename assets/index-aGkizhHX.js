(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function uR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tg={exports:{}},dc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function hR(){if(fb)return dc;fb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return dc.Fragment=t,dc.jsx=e,dc.jsxs=e,dc}var db;function fR(){return db||(db=1,Tg.exports=hR()),Tg.exports}var N=fR(),Eg={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function dR(){if(mb)return wt;mb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),T=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function L(U,J,lt){this.props=U,this.context=J,this.refs=I,this.updater=lt||R}L.prototype.isReactComponent={},L.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},L.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function $(U,J,lt){this.props=U,this.context=J,this.refs=I,this.updater=lt||R}var et=$.prototype=new Y;et.constructor=$,C(et,L.prototype),et.isPureReactComponent=!0;var W=Array.isArray;function rt(){}var M={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(U,J,lt){var ct=lt.ref;return{$$typeof:n,type:U,key:J,ref:ct!==void 0?ct:null,props:lt}}function P(U,J){return D(U.type,J,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function z(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(lt){return J[lt]})}var O=/\/+/g;function Dt(U,J){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):J.toString(36)}function Et(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(rt,rt):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function K(U,J,lt,ct,_t){var bt=typeof U;(bt==="undefined"||bt==="boolean")&&(U=null);var Bt=!1;if(U===null)Bt=!0;else switch(bt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(U.$$typeof){case n:case t:Bt=!0;break;case _:return Bt=U._init,K(Bt(U._payload),J,lt,ct,_t)}}if(Bt)return _t=_t(U),Bt=ct===""?"."+Dt(U,0):ct,W(_t)?(lt="",Bt!=null&&(lt=Bt.replace(O,"$&/")+"/"),K(_t,J,lt,"",function(Ur){return Ur})):_t!=null&&(k(_t)&&(_t=P(_t,lt+(_t.key==null||U&&U.key===_t.key?"":(""+_t.key).replace(O,"$&/")+"/")+Bt)),J.push(_t)),1;Bt=0;var Pe=ct===""?".":ct+":";if(W(U))for(var fe=0;fe<U.length;fe++)ct=U[fe],bt=Pe+Dt(ct,fe),Bt+=K(ct,J,lt,bt,_t);else if(fe=x(U),typeof fe=="function")for(U=fe.call(U),fe=0;!(ct=U.next()).done;)ct=ct.value,bt=Pe+Dt(ct,fe++),Bt+=K(ct,J,lt,bt,_t);else if(bt==="object"){if(typeof U.then=="function")return K(Et(U),J,lt,ct,_t);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function at(U,J,lt){if(U==null)return U;var ct=[],_t=0;return K(U,ct,"","",function(bt){return J.call(lt,bt,_t++)}),ct}function ht(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(lt){(U._status===0||U._status===-1)&&(U._status=1,U._result=lt)},function(lt){(U._status===0||U._status===-1)&&(U._status=2,U._result=lt)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var vt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},kt={map:at,forEach:function(U,J,lt){at(U,function(){J.apply(this,arguments)},lt)},count:function(U){var J=0;return at(U,function(){J++}),J},toArray:function(U){return at(U,function(J){return J})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return wt.Activity=y,wt.Children=kt,wt.Component=L,wt.Fragment=e,wt.Profiler=r,wt.PureComponent=$,wt.StrictMode=i,wt.Suspense=f,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,wt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return M.H.useMemoCache(U)}},wt.cache=function(U){return function(){return U.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(U,J,lt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ct=C({},U.props),_t=U.key;if(J!=null)for(bt in J.key!==void 0&&(_t=""+J.key),J)!w.call(J,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&J.ref===void 0||(ct[bt]=J[bt]);var bt=arguments.length-2;if(bt===1)ct.children=lt;else if(1<bt){for(var Bt=Array(bt),Pe=0;Pe<bt;Pe++)Bt[Pe]=arguments[Pe+2];ct.children=Bt}return D(U.type,_t,ct)},wt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},wt.createElement=function(U,J,lt){var ct,_t={},bt=null;if(J!=null)for(ct in J.key!==void 0&&(bt=""+J.key),J)w.call(J,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(_t[ct]=J[ct]);var Bt=arguments.length-2;if(Bt===1)_t.children=lt;else if(1<Bt){for(var Pe=Array(Bt),fe=0;fe<Bt;fe++)Pe[fe]=arguments[fe+2];_t.children=Pe}if(U&&U.defaultProps)for(ct in Bt=U.defaultProps,Bt)_t[ct]===void 0&&(_t[ct]=Bt[ct]);return D(U,bt,_t)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(U){return{$$typeof:h,render:U}},wt.isValidElement=k,wt.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:ht}},wt.memo=function(U,J){return{$$typeof:m,type:U,compare:J===void 0?null:J}},wt.startTransition=function(U){var J=M.T,lt={};M.T=lt;try{var ct=U(),_t=M.S;_t!==null&&_t(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(rt,vt)}catch(bt){vt(bt)}finally{J!==null&&lt.types!==null&&(J.types=lt.types),M.T=J}},wt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},wt.use=function(U){return M.H.use(U)},wt.useActionState=function(U,J,lt){return M.H.useActionState(U,J,lt)},wt.useCallback=function(U,J){return M.H.useCallback(U,J)},wt.useContext=function(U){return M.H.useContext(U)},wt.useDebugValue=function(){},wt.useDeferredValue=function(U,J){return M.H.useDeferredValue(U,J)},wt.useEffect=function(U,J){return M.H.useEffect(U,J)},wt.useEffectEvent=function(U){return M.H.useEffectEvent(U)},wt.useId=function(){return M.H.useId()},wt.useImperativeHandle=function(U,J,lt){return M.H.useImperativeHandle(U,J,lt)},wt.useInsertionEffect=function(U,J){return M.H.useInsertionEffect(U,J)},wt.useLayoutEffect=function(U,J){return M.H.useLayoutEffect(U,J)},wt.useMemo=function(U,J){return M.H.useMemo(U,J)},wt.useOptimistic=function(U,J){return M.H.useOptimistic(U,J)},wt.useReducer=function(U,J,lt){return M.H.useReducer(U,J,lt)},wt.useRef=function(U){return M.H.useRef(U)},wt.useState=function(U){return M.H.useState(U)},wt.useSyncExternalStore=function(U,J,lt){return M.H.useSyncExternalStore(U,J,lt)},wt.useTransition=function(){return M.H.useTransition()},wt.version="19.2.0",wt}var gb;function Ip(){return gb||(gb=1,Eg.exports=dR()),Eg.exports}var Ht=Ip();const dx=uR(Ht);var xg={exports:{}},mc={},Sg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function mR(){return pb||(pb=1,(function(n){function t(K,at){var ht=K.length;K.push(at);t:for(;0<ht;){var vt=ht-1>>>1,kt=K[vt];if(0<r(kt,at))K[vt]=at,K[ht]=kt,ht=vt;else break t}}function e(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var at=K[0],ht=K.pop();if(ht!==at){K[0]=ht;t:for(var vt=0,kt=K.length,U=kt>>>1;vt<U;){var J=2*(vt+1)-1,lt=K[J],ct=J+1,_t=K[ct];if(0>r(lt,ht))ct<kt&&0>r(_t,lt)?(K[vt]=_t,K[ct]=ht,vt=ct):(K[vt]=lt,K[J]=ht,vt=J);else if(ct<kt&&0>r(_t,ht))K[vt]=_t,K[ct]=ht,vt=ct;else break t}}return at}function r(K,at){var ht=K.sortIndex-at.sortIndex;return ht!==0?ht:K.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],_=1,y=null,T=3,x=!1,R=!1,C=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function et(K){for(var at=e(m);at!==null;){if(at.callback===null)i(m);else if(at.startTime<=K)i(m),at.sortIndex=at.expirationTime,t(f,at);else break;at=e(m)}}function W(K){if(C=!1,et(K),!R)if(e(f)!==null)R=!0,rt||(rt=!0,z());else{var at=e(m);at!==null&&Et(W,at.startTime-K)}}var rt=!1,M=-1,w=5,D=-1;function P(){return I?!0:!(n.unstable_now()-D<w)}function k(){if(I=!1,rt){var K=n.unstable_now();D=K;var at=!0;try{t:{R=!1,C&&(C=!1,Y(M),M=-1),x=!0;var ht=T;try{e:{for(et(K),y=e(f);y!==null&&!(y.expirationTime>K&&P());){var vt=y.callback;if(typeof vt=="function"){y.callback=null,T=y.priorityLevel;var kt=vt(y.expirationTime<=K);if(K=n.unstable_now(),typeof kt=="function"){y.callback=kt,et(K),at=!0;break e}y===e(f)&&i(f),et(K)}else i(f);y=e(f)}if(y!==null)at=!0;else{var U=e(m);U!==null&&Et(W,U.startTime-K),at=!1}}break t}finally{y=null,T=ht,x=!1}at=void 0}}finally{at?z():rt=!1}}}var z;if(typeof $=="function")z=function(){$(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Dt=O.port2;O.port1.onmessage=k,z=function(){Dt.postMessage(null)}}else z=function(){L(k,0)};function Et(K,at){M=L(function(){K(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(K){switch(T){case 1:case 2:case 3:var at=3;break;default:at=T}var ht=T;T=at;try{return K()}finally{T=ht}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ht=T;T=K;try{return at()}finally{T=ht}},n.unstable_scheduleCallback=function(K,at,ht){var vt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?vt+ht:vt):ht=vt,K){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=ht+kt,K={id:_++,callback:at,priorityLevel:K,startTime:ht,expirationTime:kt,sortIndex:-1},ht>vt?(K.sortIndex=ht,t(m,K),e(f)===null&&K===e(m)&&(C?(Y(M),M=-1):C=!0,Et(W,ht-vt))):(K.sortIndex=kt,t(f,K),R||x||(R=!0,rt||(rt=!0,z()))),K},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(K){var at=T;return function(){var ht=T;T=at;try{return K.apply(this,arguments)}finally{T=ht}}}})(wg)),wg}var _b;function gR(){return _b||(_b=1,Sg.exports=mR()),Sg.exports}var Ag={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function pR(){if(yb)return sn;yb=1;var n=Ip();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(f,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,_)},sn.flushSync=function(f){var m=c.T,_=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=_,i.d.f()}},sn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},sn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},sn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:T,fetchPriority:x}):_==="script"&&i.d.X(f,{crossOrigin:y,integrity:T,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},sn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin);i.d.L(f,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sn.preloadModule=function(f,m){if(typeof f=="string")if(m){var _=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},sn.requestFormReset=function(f){i.d.r(f)},sn.unstable_batchedUpdates=function(f,m){return f(m)},sn.useFormState=function(f,m,_){return c.H.useFormState(f,m,_)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var vb;function _R(){if(vb)return Ag.exports;vb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ag.exports=pR(),Ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function yR(){if(bb)return mc;bb=1;var n=gR(),t=Ip(),e=_R();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var b=!1,S=g.child;S;){if(S===l){b=!0,l=g,u=p;break}if(S===u){b=!0,u=g,l=p;break}S=S.sibling}if(!b){for(S=p.child;S;){if(S===l){b=!0,l=p,u=g;break}if(S===u){b=!0,u=p,l=g;break}S=S.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function _(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=_(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case L:return"Profiler";case I:return"StrictMode";case W:return"Suspense";case rt:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case $:return s.displayName||"Context";case Y:return(s._context.displayName||"Context")+".Consumer";case et:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case w:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var Et=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},vt=[],kt=-1;function U(s){return{current:s}}function J(s){0>kt||(s.current=vt[kt],vt[kt]=null,kt--)}function lt(s,a){kt++,vt[kt]=s.current,s.current=a}var ct=U(null),_t=U(null),bt=U(null),Bt=U(null);function Pe(s,a){switch(lt(bt,a),lt(_t,s),lt(ct,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?V0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=V0(a),s=P0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(ct),lt(ct,s)}function fe(){J(ct),J(_t),J(bt)}function Ur(s){s.memoizedState!==null&&lt(Bt,s);var a=ct.current,l=P0(a,s.type);a!==l&&(lt(_t,s),lt(ct,l))}function qa(s){_t.current===s&&(J(ct),J(_t)),Bt.current===s&&(J(Bt),cc._currentValue=ht)}var Ga,Ya;function vi(s){if(Ga===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ga=a&&a[1]||"",Ya=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+s+Ya}var cl=!1;function jr(s,a){if(!s||cl)return"";cl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var G=Q}Reflect.construct(s,[],nt)}else{try{nt.call()}catch(Q){G=Q}s.call(nt.prototype)}}else{try{throw Error()}catch(Q){G=Q}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],S=p[1];if(b&&S){var V=b.split(`
`),q=S.split(`
`);for(g=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;if(u===V.length||g===q.length)for(u=V.length-1,g=q.length-1;1<=u&&0<=g&&V[u]!==q[g];)g--;for(;1<=u&&0<=g;u--,g--)if(V[u]!==q[g]){if(u!==1||g!==1)do if(u--,g--,0>g||V[u]!==q[g]){var Z=`
`+V[u].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=u&&0<=g);break}}}finally{cl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?vi(l):""}function ul(s,a){switch(s.tag){case 26:case 27:case 5:return vi(s.type);case 16:return vi("Lazy");case 13:return s.child!==a&&a!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return jr(s.type,!1);case 11:return jr(s.type.render,!1);case 1:return jr(s.type,!0);case 31:return vi("Activity");default:return""}}function hl(s){try{var a="",l=null;do a+=ul(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var we=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,zs=n.unstable_cancelCallback,xd=n.unstable_shouldYield,hu=n.unstable_requestPaint,fn=n.unstable_now,Br=n.unstable_getCurrentPriorityLevel,fl=n.unstable_ImmediatePriority,dl=n.unstable_UserBlockingPriority,Us=n.unstable_NormalPriority,Sd=n.unstable_LowPriority,fu=n.unstable_IdlePriority,du=n.log,mu=n.unstable_setDisableYieldValue,ei=null,Xe=null;function kn(s){if(typeof du=="function"&&mu(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ei,s)}catch{}}var ve=Math.clz32?Math.clz32:pu,gu=Math.log,Ka=Math.LN2;function pu(s){return s>>>=0,s===0?32:31-(gu(s)/Ka|0)|0}var bi=256,Fr=262144,Ae=4194304;function Ti(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ei(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=Ti(u):(b&=S,b!==0?g=Ti(b):l||(l=S&~s,l!==0&&(g=Ti(l))))):(S=u&~p,S!==0?g=Ti(S):b!==0?g=Ti(b):l||(l=u&~s,l!==0&&(g=Ti(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function ni(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function wd(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function xi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Hr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ad(s,a,l,u,g,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,V=s.expirationTimes,q=s.hiddenUpdates;for(l=b&~l;0<l;){var Z=31-ve(l),nt=1<<Z;S[Z]=0,V[Z]=-1;var G=q[Z];if(G!==null)for(q[Z]=null,Z=0;Z<G.length;Z++){var Q=G[Z];Q!==null&&(Q.lane&=-536870913)}l&=~nt}u!==0&&qr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~a))}function qr(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-ve(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function ml(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-ve(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function gl(s,a){var l=a&-a;return l=(l&42)!==0?1:Gr(l),(l&(s.suspendedLanes|a))!==0?0:l}function Gr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ss(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function yu(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:rb(s.type))}function ii(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var si=Math.random().toString(36).slice(2),Re="__reactFiber$"+si,qe="__reactProps$"+si,Si="__reactContainer$"+si,Xa="__reactEvents$"+si,Rd="__reactListeners$"+si,vu="__reactHandles$"+si,bu="__reactResources$"+si,wi="__reactMarker$"+si;function Qa(s){delete s[Re],delete s[qe],delete s[Xa],delete s[Rd],delete s[vu]}function Ai(s){var a=s[Re];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Si]||l[Re]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=H0(s);s!==null;){if(l=s[Re])return l;s=H0(s)}return a}s=l,l=s.parentNode}return null}function Vn(s){if(s=s[Re]||s[Si]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function wn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ri(s){var a=s[bu];return a||(a=s[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ce(s){s[wi]=!0}var pl=new Set,_l={};function Ci(s,a){Ii(s,a),Ii(s+"Capture",a)}function Ii(s,a){for(_l[s]=a,s=0;s<a.length;s++)pl.add(a[s])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},bl={};function Tu(s){return we.call(bl,s)?!0:we.call(vl,s)?!1:yl.test(s)?bl[s]=!0:(vl[s]=!0,!1)}function $a(s,a,l){if(Tu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function An(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ie(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Ge(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function js(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Tl(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Wt(s){if(!s._valueTracker){var a=js(s)?"checked":"value";s._valueTracker=Tl(s,a,""+s[a])}}function Yr(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=js(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Mi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Kr=/[\n"\\]/g;function gn(s){return s.replace(Kr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Wa(s,a,l,u,g,p,b,S){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),a!=null?b==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ge(a)):s.value!==""+Ge(a)&&(s.value=""+Ge(a)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),a!=null?El(s,b,Ge(a)):l!=null?El(s,b,Ge(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Ge(S):s.removeAttribute("name")}function Eu(s,a,l,u,g,p,b,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Wt(s);return}l=l!=null?""+Ge(l):"",a=a!=null?""+Ge(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),Wt(s)}function El(s,a,l){a==="number"&&Mi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Bs(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ge(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function xu(s,a,l){if(a!=null&&(a=""+Ge(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Ge(l):""}function Fs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Et(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ge(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Wt(s)}function pn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Su.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Sl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&xl(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&xl(s,p,a[p])}function Za(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(s){return Hs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ri(){}var wl=null;function Pn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qs=null,Di=null;function Xr(s){var a=Vn(s);if(a&&(s=a.stateNode)){var l=s[qe]||null;t:switch(s=a.stateNode,a.type){case"input":if(Wa(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+gn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[qe]||null;if(!g)throw Error(i(90));Wa(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&Yr(u)}break t;case"textarea":xu(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Bs(s,!!l.multiple,a,!1)}}}var to=!1;function Gs(s,a,l){if(to)return s(a,l);to=!0;try{var u=s(a);return u}finally{if(to=!1,(qs!==null||Di!==null)&&(yh(),qs&&(a=qs,s=Di,Di=qs=null,Xr(a),s)))for(a=0;a<s.length;a++)Xr(s[a])}}function ai(s,a){var l=s.stateNode;if(l===null)return null;var u=l[qe]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(Ln)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Qr=!1}var Oi=null,Al=null,$r=null;function Rl(){if($r)return $r;var s,a=Al,l=a.length,u,g="value"in Oi?Oi.value:Oi.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var b=l-s;for(u=1;u<=b&&a[l-u]===g[p-u];u++);return $r=g.slice(s,1<u?1-u:void 0)}function Wr(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function rs(){return!0}function oi(){return!1}function Qe(s){function a(l,u,g,p,b){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?rs:oi,this.isPropagationStopped=oi,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),a}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Qe(as),Ys=y({},as,{view:0,detail:0}),Cl=Qe(Ys),Ks,eo,ki,no=y({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ki&&(ki&&s.type==="mousemove"?(Ks=s.screenX-ki.screenX,eo=s.screenY-ki.screenY):eo=Ks=0,ki=s),Ks)},movementY:function(s){return"movementY"in s?s.movementY:eo}}),Il=Qe(no),Zr=y({},no,{dataTransfer:0}),Au=Qe(Zr),Ru=y({},Ys,{relatedTarget:0}),Jr=Qe(Ru),Ml=y({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=Qe(Ml),io=y({},as,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Iu=Qe(io),Mu=y({},as,{data:0}),Vi=Qe(Mu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Nu[s])?!!a[s]:!1}function Xs(){return ku}var dn=y({},Ys,{key:function(s){if(s.key){var a=Du[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Wr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ou[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(s){return s.type==="keypress"?Wr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Vu=Qe(dn),Pu=y({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=Qe(Pu),d=y({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),v=Qe(d),E=y({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Qe(E),F=y({},no,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Qe(F),ot=y({},as,{newState:0,oldState:0}),Rt=Qe(ot),be=[9,13,27,32],Kt=Ln&&"CompositionEvent"in window,de=null;Ln&&"documentMode"in document&&(de=document.documentMode);var zn=Ln&&"TextEvent"in window&&!de,Pi=Ln&&(!Kt||de&&8<de&&11>=de),li=" ",ci=!1;function ta(s,a){switch(s){case"keyup":return be.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ro=!1;function kw(s,a){switch(s){case"compositionend":return so(a);case"keypress":return a.which!==32?null:(ci=!0,li);case"textInput":return s=a.data,s===li&&ci?null:s;default:return null}}function Vw(s,a){if(ro)return s==="compositionend"||!Kt&&ta(s,a)?(s=Rl(),$r=Al=Oi=null,ro=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Pi&&a.locale!=="ko"?null:a.data;default:return null}}var Pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Pw[s.type]:a==="textarea"}function K_(s,a,l,u){qs?Di?Di.push(u):Di=[u]:qs=u,a=wh(a,"onChange"),0<a.length&&(l=new Ni("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Dl=null,Ol=null;function Lw(s){I0(s,0)}function Lu(s){var a=wn(s);if(Yr(a))return s}function X_(s,a){if(s==="change")return a}var Q_=!1;if(Ln){var Cd;if(Ln){var Id="oninput"in document;if(!Id){var $_=document.createElement("div");$_.setAttribute("oninput","return;"),Id=typeof $_.oninput=="function"}Cd=Id}else Cd=!1;Q_=Cd&&(!document.documentMode||9<document.documentMode)}function W_(){Dl&&(Dl.detachEvent("onpropertychange",Z_),Ol=Dl=null)}function Z_(s){if(s.propertyName==="value"&&Lu(Ol)){var a=[];K_(a,Ol,s,Pn(s)),Gs(Lw,a)}}function zw(s,a,l){s==="focusin"?(W_(),Dl=a,Ol=l,Dl.attachEvent("onpropertychange",Z_)):s==="focusout"&&W_()}function Uw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lu(Ol)}function jw(s,a){if(s==="click")return Lu(a)}function Bw(s,a){if(s==="input"||s==="change")return Lu(a)}function Fw(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Rn=typeof Object.is=="function"?Object.is:Fw;function Nl(s,a){if(Rn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!we.call(a,g)||!Rn(s[g],a[g]))return!1}return!0}function J_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ty(s,a){var l=J_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=J_(l)}}function ey(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?ey(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ny(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Mi(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Mi(s.document)}return a}function Md(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Hw=Ln&&"documentMode"in document&&11>=document.documentMode,ao=null,Dd=null,kl=null,Od=!1;function iy(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Od||ao==null||ao!==Mi(u)||(u=ao,"selectionStart"in u&&Md(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),kl&&Nl(kl,u)||(kl=u,u=wh(Dd,"onSelect"),0<u.length&&(a=new Ni("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=ao)))}function ea(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var oo={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Nd={},sy={};Ln&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function na(s){if(Nd[s])return Nd[s];if(!oo[s])return s;var a=oo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in sy)return Nd[s]=a[l];return s}var ry=na("animationend"),ay=na("animationiteration"),oy=na("animationstart"),qw=na("transitionrun"),Gw=na("transitionstart"),Yw=na("transitioncancel"),ly=na("transitionend"),cy=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function ui(s,a){cy.set(s,a),Ci(a,[s])}var zu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Un=[],lo=0,Vd=0;function Uu(){for(var s=lo,a=Vd=lo=0;a<s;){var l=Un[a];Un[a++]=null;var u=Un[a];Un[a++]=null;var g=Un[a];Un[a++]=null;var p=Un[a];if(Un[a++]=null,u!==null&&g!==null){var b=u.pending;b===null?g.next=g:(g.next=b.next,b.next=g),u.pending=g}p!==0&&uy(l,g,p)}}function ju(s,a,l,u){Un[lo++]=s,Un[lo++]=a,Un[lo++]=l,Un[lo++]=u,Vd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Pd(s,a,l,u){return ju(s,a,l,u),Bu(s)}function ia(s,a){return ju(s,null,null,a),Bu(s)}function uy(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-ve(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Bu(s){if(50<nc)throw nc=0,Gm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var co={};function Kw(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(s,a,l,u){return new Kw(s,a,l,u)}function Ld(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ls(s,a){var l=s.alternate;return l===null?(l=Cn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function hy(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Fu(s,a,l,u,g,p){var b=0;if(u=s,typeof s=="function")Ld(s)&&(b=1);else if(typeof s=="string")b=ZA(s,l,ct.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=Cn(31,l,a,g),s.elementType=D,s.lanes=p,s;case C:return sa(l.children,g,p,a);case I:b=8,g|=24;break;case L:return s=Cn(12,l,a,g|2),s.elementType=L,s.lanes=p,s;case W:return s=Cn(13,l,a,g),s.elementType=W,s.lanes=p,s;case rt:return s=Cn(19,l,a,g),s.elementType=rt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:b=10;break t;case Y:b=9;break t;case et:b=11;break t;case M:b=14;break t;case w:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Cn(b,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function sa(s,a,l,u){return s=Cn(7,s,u,a),s.lanes=l,s}function zd(s,a,l){return s=Cn(6,s,null,a),s.lanes=l,s}function fy(s){var a=Cn(18,null,null,0);return a.stateNode=s,a}function Ud(s,a,l){return a=Cn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var dy=new WeakMap;function jn(s,a){if(typeof s=="object"&&s!==null){var l=dy.get(s);return l!==void 0?l:(a={value:s,source:a,stack:hl(a)},dy.set(s,a),a)}return{value:s,source:a,stack:hl(a)}}var uo=[],ho=0,Hu=null,Vl=0,Bn=[],Fn=0,Qs=null,Li=1,zi="";function cs(s,a){uo[ho++]=Vl,uo[ho++]=Hu,Hu=s,Vl=a}function my(s,a,l){Bn[Fn++]=Li,Bn[Fn++]=zi,Bn[Fn++]=Qs,Qs=s;var u=Li;s=zi;var g=32-ve(u)-1;u&=~(1<<g),l+=1;var p=32-ve(a)+g;if(30<p){var b=g-g%5;p=(u&(1<<b)-1).toString(32),u>>=b,g-=b,Li=1<<32-ve(a)+g|l<<g|u,zi=p+s}else Li=1<<p|l<<g|u,zi=s}function jd(s){s.return!==null&&(cs(s,1),my(s,1,0))}function Bd(s){for(;s===Hu;)Hu=uo[--ho],uo[ho]=null,Vl=uo[--ho],uo[ho]=null;for(;s===Qs;)Qs=Bn[--Fn],Bn[Fn]=null,zi=Bn[--Fn],Bn[Fn]=null,Li=Bn[--Fn],Bn[Fn]=null}function gy(s,a){Bn[Fn++]=Li,Bn[Fn++]=zi,Bn[Fn++]=Qs,Li=a.id,zi=a.overflow,Qs=s}var $e=null,oe=null,jt=!1,$s=null,Hn=!1,Fd=Error(i(519));function Ws(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(jn(a,s)),Fd}function py(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Re]=s,a[qe]=u,l){case"dialog":Nt("cancel",a),Nt("close",a);break;case"iframe":case"object":case"embed":Nt("load",a);break;case"video":case"audio":for(l=0;l<sc.length;l++)Nt(sc[l],a);break;case"source":Nt("error",a);break;case"img":case"image":case"link":Nt("error",a),Nt("load",a);break;case"details":Nt("toggle",a);break;case"input":Nt("invalid",a),Eu(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Nt("invalid",a);break;case"textarea":Nt("invalid",a),Fs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||N0(a.textContent,l)?(u.popover!=null&&(Nt("beforetoggle",a),Nt("toggle",a)),u.onScroll!=null&&Nt("scroll",a),u.onScrollEnd!=null&&Nt("scrollend",a),u.onClick!=null&&(a.onclick=ri),a=!0):a=!1,a||Ws(s,!0)}function _y(s){for($e=s.return;$e;)switch($e.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:$e=$e.return}}function fo(s){if(s!==$e)return!1;if(!jt)return _y(s),jt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||ag(s.type,s.memoizedProps)),l=!l),l&&oe&&Ws(s),_y(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=F0(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=F0(s)}else a===27?(a=oe,hr(s.type)?(s=hg,hg=null,oe=s):oe=a):oe=$e?Gn(s.stateNode.nextSibling):null;return!0}function ra(){oe=$e=null,jt=!1}function Hd(){var s=$s;return s!==null&&(bn===null?bn=s:bn.push.apply(bn,s),$s=null),s}function Pl(s){$s===null?$s=[s]:$s.push(s)}var qd=U(null),aa=null,us=null;function Zs(s,a,l){lt(qd,a._currentValue),a._currentValue=l}function hs(s){s._currentValue=qd.current,J(qd)}function Gd(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Yd(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var b=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var V=0;V<a.length;V++)if(S.context===a[V]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),Gd(p.return,l,s),u||(b=null);break t}p=S.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Gd(b,l,s),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function mo(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=g.type;Rn(g.pendingProps.value,b.value)||(s!==null?s.push(S):s=[S])}}else if(g===Bt.current){if(b=g.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(cc):s=[cc])}g=g.return}s!==null&&Yd(a,s,l,u),a.flags|=262144}function qu(s){for(s=s.firstContext;s!==null;){if(!Rn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function oa(s){aa=s,us=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function We(s){return yy(aa,s)}function Gu(s,a){return aa===null&&oa(s),yy(s,a)}function yy(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},us===null){if(s===null)throw Error(i(308));us=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else us=us.next=a;return l}var Xw=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Qw=n.unstable_scheduleCallback,$w=n.unstable_NormalPriority,Me={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new Xw,data:new Map,refCount:0}}function Ll(s){s.refCount--,s.refCount===0&&Qw($w,function(){s.controller.abort()})}var zl=null,Xd=0,go=0,po=null;function Ww(s,a){if(zl===null){var l=zl=[];Xd=0,go=Wm(),po={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Xd++,a.then(vy,vy),a}function vy(){if(--Xd===0&&zl!==null){po!==null&&(po.status="fulfilled");var s=zl;zl=null,go=0,po=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Zw(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var by=K.S;K.S=function(s,a){i0=fn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Ww(s,a),by!==null&&by(s,a)};var la=U(null);function Qd(){var s=la.current;return s!==null?s:ae.pooledCache}function Yu(s,a){a===null?lt(la,la.current):lt(la,a.pool)}function Ty(){var s=Qd();return s===null?null:{parent:Me._currentValue,pool:s}}var _o=Error(i(460)),$d=Error(i(474)),Ku=Error(i(542)),Xu={then:function(){}};function Ey(s){return s=s.status,s==="fulfilled"||s==="rejected"}function xy(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(ri,ri),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,wy(s),s;default:if(typeof a.status=="string")a.then(ri,ri);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,wy(s),s}throw ua=a,_o}}function ca(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ua=l,_o):l}}var ua=null;function Sy(){if(ua===null)throw Error(i(459));var s=ua;return ua=null,s}function wy(s){if(s===_o||s===Ku)throw Error(i(483))}var yo=null,Ul=0;function Qu(s){var a=Ul;return Ul+=1,yo===null&&(yo=[]),xy(yo,s,a)}function jl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function $u(s,a){throw a.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Ay(s){function a(B,j){if(s){var H=B.deletions;H===null?(B.deletions=[j],B.flags|=16):H.push(j)}}function l(B,j){if(!s)return null;for(;j!==null;)a(B,j),j=j.sibling;return null}function u(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function g(B,j){return B=ls(B,j),B.index=0,B.sibling=null,B}function p(B,j,H){return B.index=H,s?(H=B.alternate,H!==null?(H=H.index,H<j?(B.flags|=67108866,j):H):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function b(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function S(B,j,H,tt){return j===null||j.tag!==6?(j=zd(H,B.mode,tt),j.return=B,j):(j=g(j,H),j.return=B,j)}function V(B,j,H,tt){var gt=H.type;return gt===C?Z(B,j,H.props.children,tt,H.key):j!==null&&(j.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&ca(gt)===j.type)?(j=g(j,H.props),jl(j,H),j.return=B,j):(j=Fu(H.type,H.key,H.props,null,B.mode,tt),jl(j,H),j.return=B,j)}function q(B,j,H,tt){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=Ud(H,B.mode,tt),j.return=B,j):(j=g(j,H.children||[]),j.return=B,j)}function Z(B,j,H,tt,gt){return j===null||j.tag!==7?(j=sa(H,B.mode,tt,gt),j.return=B,j):(j=g(j,H),j.return=B,j)}function nt(B,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=zd(""+j,B.mode,H),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return H=Fu(j.type,j.key,j.props,null,B.mode,H),jl(H,j),H.return=B,H;case R:return j=Ud(j,B.mode,H),j.return=B,j;case w:return j=ca(j),nt(B,j,H)}if(Et(j)||z(j))return j=sa(j,B.mode,H,null),j.return=B,j;if(typeof j.then=="function")return nt(B,Qu(j),H);if(j.$$typeof===$)return nt(B,Gu(B,j),H);$u(B,j)}return null}function G(B,j,H,tt){var gt=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return gt!==null?null:S(B,j,""+H,tt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===gt?V(B,j,H,tt):null;case R:return H.key===gt?q(B,j,H,tt):null;case w:return H=ca(H),G(B,j,H,tt)}if(Et(H)||z(H))return gt!==null?null:Z(B,j,H,tt,null);if(typeof H.then=="function")return G(B,j,Qu(H),tt);if(H.$$typeof===$)return G(B,j,Gu(B,H),tt);$u(B,H)}return null}function Q(B,j,H,tt,gt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(H)||null,S(j,B,""+tt,gt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:return B=B.get(tt.key===null?H:tt.key)||null,V(j,B,tt,gt);case R:return B=B.get(tt.key===null?H:tt.key)||null,q(j,B,tt,gt);case w:return tt=ca(tt),Q(B,j,H,tt,gt)}if(Et(tt)||z(tt))return B=B.get(H)||null,Z(j,B,tt,gt,null);if(typeof tt.then=="function")return Q(B,j,H,Qu(tt),gt);if(tt.$$typeof===$)return Q(B,j,H,Gu(j,tt),gt);$u(j,tt)}return null}function ft(B,j,H,tt){for(var gt=null,Gt=null,dt=j,It=j=0,Pt=null;dt!==null&&It<H.length;It++){dt.index>It?(Pt=dt,dt=null):Pt=dt.sibling;var Yt=G(B,dt,H[It],tt);if(Yt===null){dt===null&&(dt=Pt);break}s&&dt&&Yt.alternate===null&&a(B,dt),j=p(Yt,j,It),Gt===null?gt=Yt:Gt.sibling=Yt,Gt=Yt,dt=Pt}if(It===H.length)return l(B,dt),jt&&cs(B,It),gt;if(dt===null){for(;It<H.length;It++)dt=nt(B,H[It],tt),dt!==null&&(j=p(dt,j,It),Gt===null?gt=dt:Gt.sibling=dt,Gt=dt);return jt&&cs(B,It),gt}for(dt=u(dt);It<H.length;It++)Pt=Q(dt,B,It,H[It],tt),Pt!==null&&(s&&Pt.alternate!==null&&dt.delete(Pt.key===null?It:Pt.key),j=p(Pt,j,It),Gt===null?gt=Pt:Gt.sibling=Pt,Gt=Pt);return s&&dt.forEach(function(pr){return a(B,pr)}),jt&&cs(B,It),gt}function yt(B,j,H,tt){if(H==null)throw Error(i(151));for(var gt=null,Gt=null,dt=j,It=j=0,Pt=null,Yt=H.next();dt!==null&&!Yt.done;It++,Yt=H.next()){dt.index>It?(Pt=dt,dt=null):Pt=dt.sibling;var pr=G(B,dt,Yt.value,tt);if(pr===null){dt===null&&(dt=Pt);break}s&&dt&&pr.alternate===null&&a(B,dt),j=p(pr,j,It),Gt===null?gt=pr:Gt.sibling=pr,Gt=pr,dt=Pt}if(Yt.done)return l(B,dt),jt&&cs(B,It),gt;if(dt===null){for(;!Yt.done;It++,Yt=H.next())Yt=nt(B,Yt.value,tt),Yt!==null&&(j=p(Yt,j,It),Gt===null?gt=Yt:Gt.sibling=Yt,Gt=Yt);return jt&&cs(B,It),gt}for(dt=u(dt);!Yt.done;It++,Yt=H.next())Yt=Q(dt,B,It,Yt.value,tt),Yt!==null&&(s&&Yt.alternate!==null&&dt.delete(Yt.key===null?It:Yt.key),j=p(Yt,j,It),Gt===null?gt=Yt:Gt.sibling=Yt,Gt=Yt);return s&&dt.forEach(function(cR){return a(B,cR)}),jt&&cs(B,It),gt}function re(B,j,H,tt){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:t:{for(var gt=H.key;j!==null;){if(j.key===gt){if(gt=H.type,gt===C){if(j.tag===7){l(B,j.sibling),tt=g(j,H.props.children),tt.return=B,B=tt;break t}}else if(j.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&ca(gt)===j.type){l(B,j.sibling),tt=g(j,H.props),jl(tt,H),tt.return=B,B=tt;break t}l(B,j);break}else a(B,j);j=j.sibling}H.type===C?(tt=sa(H.props.children,B.mode,tt,H.key),tt.return=B,B=tt):(tt=Fu(H.type,H.key,H.props,null,B.mode,tt),jl(tt,H),tt.return=B,B=tt)}return b(B);case R:t:{for(gt=H.key;j!==null;){if(j.key===gt)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){l(B,j.sibling),tt=g(j,H.children||[]),tt.return=B,B=tt;break t}else{l(B,j);break}else a(B,j);j=j.sibling}tt=Ud(H,B.mode,tt),tt.return=B,B=tt}return b(B);case w:return H=ca(H),re(B,j,H,tt)}if(Et(H))return ft(B,j,H,tt);if(z(H)){if(gt=z(H),typeof gt!="function")throw Error(i(150));return H=gt.call(H),yt(B,j,H,tt)}if(typeof H.then=="function")return re(B,j,Qu(H),tt);if(H.$$typeof===$)return re(B,j,Gu(B,H),tt);$u(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(l(B,j.sibling),tt=g(j,H),tt.return=B,B=tt):(l(B,j),tt=zd(H,B.mode,tt),tt.return=B,B=tt),b(B)):l(B,j)}return function(B,j,H,tt){try{Ul=0;var gt=re(B,j,H,tt);return yo=null,gt}catch(dt){if(dt===_o||dt===Ku)throw dt;var Gt=Cn(29,dt,null,B.mode);return Gt.lanes=tt,Gt.return=B,Gt}finally{}}}var ha=Ay(!0),Ry=Ay(!1),Js=!1;function Wd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zd(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function tr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function er(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Bu(s),uy(s,null,l),a}return ju(s,u,a,l),Bu(s)}function Bl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,ml(s,l)}}function Jd(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var tm=!1;function Fl(){if(tm){var s=po;if(s!==null)throw s}}function Hl(s,a,l,u){tm=!1;var g=s.updateQueue;Js=!1;var p=g.firstBaseUpdate,b=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var V=S,q=V.next;V.next=null,b===null?p=q:b.next=q,b=V;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==b&&(S===null?Z.firstBaseUpdate=q:S.next=q,Z.lastBaseUpdate=V))}if(p!==null){var nt=g.baseState;b=0,Z=q=V=null,S=p;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(Vt&G)===G:(u&G)===G){G!==0&&G===go&&(tm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=s,yt=S;G=a;var re=l;switch(yt.tag){case 1:if(ft=yt.payload,typeof ft=="function"){nt=ft.call(re,nt,G);break t}nt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=yt.payload,G=typeof ft=="function"?ft.call(re,nt,G):ft,G==null)break t;nt=y({},nt,G);break t;case 2:Js=!0}}G=S.callback,G!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=g.callbacks,Q===null?g.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(q=Z=Q,V=nt):Z=Z.next=Q,b|=G;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,g.lastBaseUpdate=Q,g.shared.pending=null}}while(!0);Z===null&&(V=nt),g.baseState=V,g.firstBaseUpdate=q,g.lastBaseUpdate=Z,p===null&&(g.shared.lanes=0),ar|=b,s.lanes=b,s.memoizedState=nt}}function Cy(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Iy(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Cy(l[s],a)}var vo=U(null),Wu=U(0);function My(s,a){s=bs,lt(Wu,s),lt(vo,a),bs=s|a.baseLanes}function em(){lt(Wu,bs),lt(vo,vo.current)}function nm(){bs=Wu.current,J(vo),J(Wu)}var In=U(null),qn=null;function nr(s){var a=s.alternate;lt(Te,Te.current&1),lt(In,s),qn===null&&(a===null||vo.current!==null||a.memoizedState!==null)&&(qn=s)}function im(s){lt(Te,Te.current),lt(In,s),qn===null&&(qn=s)}function Dy(s){s.tag===22?(lt(Te,Te.current),lt(In,s),qn===null&&(qn=s)):ir()}function ir(){lt(Te,Te.current),lt(In,In.current)}function Mn(s){J(In),qn===s&&(qn=null),J(Te)}var Te=U(0);function Zu(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||cg(l)||ug(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var fs=0,Ct=null,ie=null,De=null,Ju=!1,bo=!1,fa=!1,th=0,ql=0,To=null,Jw=0;function pe(){throw Error(i(321))}function sm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Rn(s[l],a[l]))return!1;return!0}function rm(s,a,l,u,g,p){return fs=p,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=s===null||s.memoizedState===null?mv:bm,fa=!1,p=l(u,g),fa=!1,bo&&(p=Ny(a,l,u,g)),Oy(s),p}function Oy(s){K.H=Kl;var a=ie!==null&&ie.next!==null;if(fs=0,De=ie=Ct=null,Ju=!1,ql=0,To=null,a)throw Error(i(300));s===null||Oe||(s=s.dependencies,s!==null&&qu(s)&&(Oe=!0))}function Ny(s,a,l,u){Ct=s;var g=0;do{if(bo&&(To=null),ql=0,bo=!1,25<=g)throw Error(i(301));if(g+=1,De=ie=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=gv,p=a(l,u)}while(bo);return p}function tA(){var s=K.H,a=s.useState()[0];return a=typeof a.then=="function"?Gl(a):a,s=s.useState()[0],(ie!==null?ie.memoizedState:null)!==s&&(Ct.flags|=1024),a}function am(){var s=th!==0;return th=0,s}function om(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function lm(s){if(Ju){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ju=!1}fs=0,De=ie=Ct=null,bo=!1,ql=th=0,To=null}function mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ct.memoizedState=De=s:De=De.next=s,De}function Ee(){if(ie===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=ie.next;var a=De===null?Ct.memoizedState:De.next;if(a!==null)De=a,ie=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));ie=s,s={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},De===null?Ct.memoizedState=De=s:De=De.next=s}return De}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(s){var a=ql;return ql+=1,To===null&&(To=[]),s=xy(To,s,a),a=Ct,(De===null?a.memoizedState:De.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?mv:bm),s}function nh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gl(s);if(s.$$typeof===$)return We(s)}throw Error(i(438,String(s)))}function cm(s){var a=null,l=Ct.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=eh(),Ct.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function ds(s,a){return typeof a=="function"?a(s):a}function ih(s){var a=Ee();return um(a,ie,s)}function um(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var b=g.next;g.next=p.next,p.next=b}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var S=b=null,V=null,q=a,Z=!1;do{var nt=q.lane&-536870913;if(nt!==q.lane?(Vt&nt)===nt:(fs&nt)===nt){var G=q.revertLane;if(G===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),nt===go&&(Z=!0);else if((fs&G)===G){q=q.next,G===go&&(Z=!0);continue}else nt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(S=V=nt,b=p):V=V.next=nt,Ct.lanes|=G,ar|=G;nt=q.action,fa&&l(p,nt),p=q.hasEagerState?q.eagerState:l(p,nt)}else G={lane:nt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(S=V=G,b=p):V=V.next=G,Ct.lanes|=nt,ar|=nt;q=q.next}while(q!==null&&q!==a);if(V===null?b=p:V.next=S,!Rn(p,s.memoizedState)&&(Oe=!0,Z&&(l=po,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=V,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function hm(s){var a=Ee(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do p=s(p,b.action),b=b.next;while(b!==g);Rn(p,a.memoizedState)||(Oe=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function ky(s,a,l){var u=Ct,g=Ee(),p=jt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var b=!Rn((ie||g).memoizedState,l);if(b&&(g.memoizedState=l,Oe=!0),g=g.queue,mm(Ly.bind(null,u,g,s),[s]),g.getSnapshot!==a||b||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,Eo(9,{destroy:void 0},Py.bind(null,u,g,l,a),null),ae===null)throw Error(i(349));p||(fs&127)!==0||Vy(u,a,l)}return l}function Vy(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ct.updateQueue,a===null?(a=eh(),Ct.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Py(s,a,l,u){a.value=l,a.getSnapshot=u,zy(a)&&Uy(s)}function Ly(s,a,l){return l(function(){zy(a)&&Uy(s)})}function zy(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Rn(s,l)}catch{return!0}}function Uy(s){var a=ia(s,2);a!==null&&Tn(a,s,2)}function fm(s){var a=mn();if(typeof s=="function"){var l=s;if(s=l(),fa){kn(!0);try{l()}finally{kn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:s},a}function jy(s,a,l,u){return s.baseState=l,um(s,ie,typeof u=="function"?u:ds)}function eA(s,a,l,u,g){if(ah(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};K.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,By(a,p)):(p.next=l.next,a.pending=l.next=p)}}function By(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=K.T,b={};K.T=b;try{var S=l(g,u),V=K.S;V!==null&&V(b,S),Fy(s,a,S)}catch(q){dm(s,a,q)}finally{p!==null&&b.types!==null&&(p.types=b.types),K.T=p}}else try{p=l(g,u),Fy(s,a,p)}catch(q){dm(s,a,q)}}function Fy(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Hy(s,a,u)},function(u){return dm(s,a,u)}):Hy(s,a,l)}function Hy(s,a,l){a.status="fulfilled",a.value=l,qy(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,By(s,l)))}function dm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,qy(a),a=a.next;while(a!==u)}s.action=null}function qy(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Gy(s,a){return a}function Yy(s,a){if(jt){var l=ae.formState;if(l!==null){t:{var u=Ct;if(jt){if(oe){e:{for(var g=oe,p=Hn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Gn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){oe=Gn(g.nextSibling),u=g.data==="F!";break t}}Ws(u)}u=!1}u&&(a=l[0])}}return l=mn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:a},l.queue=u,l=hv.bind(null,Ct,u),u.dispatch=l,u=fm(!1),p=vm.bind(null,Ct,!1,u.queue),u=mn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=eA.bind(null,Ct,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function Ky(s){var a=Ee();return Xy(a,ie,s)}function Xy(s,a,l){if(a=um(s,a,Gy)[0],s=ih(ds)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Gl(a)}catch(b){throw b===_o?Ku:b}else u=a;a=Ee();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(Ct.flags|=2048,Eo(9,{destroy:void 0},nA.bind(null,g,l),null)),[u,p,s]}function nA(s,a){s.action=a}function Qy(s){var a=Ee(),l=ie;if(l!==null)return Xy(a,l,s);Ee(),a=a.memoizedState,l=Ee();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Eo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Ct.updateQueue,a===null&&(a=eh(),Ct.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function $y(){return Ee().memoizedState}function sh(s,a,l,u){var g=mn();Ct.flags|=s,g.memoizedState=Eo(1|a,{destroy:void 0},l,u===void 0?null:u)}function rh(s,a,l,u){var g=Ee();u=u===void 0?null:u;var p=g.memoizedState.inst;ie!==null&&u!==null&&sm(u,ie.memoizedState.deps)?g.memoizedState=Eo(a,p,l,u):(Ct.flags|=s,g.memoizedState=Eo(1|a,p,l,u))}function Wy(s,a){sh(8390656,8,s,a)}function mm(s,a){rh(2048,8,s,a)}function iA(s){Ct.flags|=4;var a=Ct.updateQueue;if(a===null)a=eh(),Ct.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function Zy(s){var a=Ee().memoizedState;return iA({ref:a,nextImpl:s}),function(){if((Xt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Jy(s,a){return rh(4,2,s,a)}function tv(s,a){return rh(4,4,s,a)}function ev(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function nv(s,a,l){l=l!=null?l.concat([s]):null,rh(4,4,ev.bind(null,a,s),l)}function gm(){}function iv(s,a){var l=Ee();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&sm(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function sv(s,a){var l=Ee();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&sm(a,u[1]))return u[0];if(u=s(),fa){kn(!0);try{s()}finally{kn(!1)}}return l.memoizedState=[u,a],u}function pm(s,a,l){return l===void 0||(fs&1073741824)!==0&&(Vt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=r0(),Ct.lanes|=s,ar|=s,l)}function rv(s,a,l,u){return Rn(l,a)?l:vo.current!==null?(s=pm(s,l,u),Rn(s,a)||(Oe=!0),s):(fs&42)===0||(fs&1073741824)!==0&&(Vt&261930)===0?(Oe=!0,s.memoizedState=l):(s=r0(),Ct.lanes|=s,ar|=s,a)}function av(s,a,l,u,g){var p=at.p;at.p=p!==0&&8>p?p:8;var b=K.T,S={};K.T=S,vm(s,!1,a,l);try{var V=g(),q=K.S;if(q!==null&&q(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=Zw(V,u);Yl(s,a,Z,Nn(s))}else Yl(s,a,u,Nn(s))}catch(nt){Yl(s,a,{then:function(){},status:"rejected",reason:nt},Nn())}finally{at.p=p,b!==null&&S.types!==null&&(b.types=S.types),K.T=b}}function sA(){}function _m(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=ov(s).queue;av(s,g,a,ht,l===null?sA:function(){return lv(s),l(u)})}function ov(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:ht},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function lv(s){var a=ov(s);a.next===null&&(a=s.alternate.memoizedState),Yl(s,a.next.queue,{},Nn())}function ym(){return We(cc)}function cv(){return Ee().memoizedState}function uv(){return Ee().memoizedState}function rA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Nn();s=tr(l);var u=er(a,s,l);u!==null&&(Tn(u,a,l),Bl(u,a,l)),a={cache:Kd()},s.payload=a;return}a=a.return}}function aA(s,a,l){var u=Nn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ah(s)?fv(a,l):(l=Pd(s,a,l,u),l!==null&&(Tn(l,s,u),dv(l,a,u)))}function hv(s,a,l){var u=Nn();Yl(s,a,l,u)}function Yl(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ah(s))fv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,S=p(b,l);if(g.hasEagerState=!0,g.eagerState=S,Rn(S,b))return ju(s,a,g,0),ae===null&&Uu(),!1}catch{}finally{}if(l=Pd(s,a,g,u),l!==null)return Tn(l,s,u),dv(l,a,u),!0}return!1}function vm(s,a,l,u){if(u={lane:2,revertLane:Wm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ah(s)){if(a)throw Error(i(479))}else a=Pd(s,l,u,2),a!==null&&Tn(a,s,2)}function ah(s){var a=s.alternate;return s===Ct||a!==null&&a===Ct}function fv(s,a){bo=Ju=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function dv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,ml(s,l)}}var Kl={readContext:We,use:nh,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Kl.useEffectEvent=pe;var mv={readContext:We,use:nh,useCallback:function(s,a){return mn().memoizedState=[s,a===void 0?null:a],s},useContext:We,useEffect:Wy,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,sh(4194308,4,ev.bind(null,a,s),l)},useLayoutEffect:function(s,a){return sh(4194308,4,s,a)},useInsertionEffect:function(s,a){sh(4,2,s,a)},useMemo:function(s,a){var l=mn();a=a===void 0?null:a;var u=s();if(fa){kn(!0);try{s()}finally{kn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=mn();if(l!==void 0){var g=l(a);if(fa){kn(!0);try{l(a)}finally{kn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=aA.bind(null,Ct,s),[u.memoizedState,s]},useRef:function(s){var a=mn();return s={current:s},a.memoizedState=s},useState:function(s){s=fm(s);var a=s.queue,l=hv.bind(null,Ct,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:gm,useDeferredValue:function(s,a){var l=mn();return pm(l,s,a)},useTransition:function(){var s=fm(!1);return s=av.bind(null,Ct,s.queue,!0,!1),mn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Ct,g=mn();if(jt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ae===null)throw Error(i(349));(Vt&127)!==0||Vy(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,Wy(Ly.bind(null,u,p,s),[s]),u.flags|=2048,Eo(9,{destroy:void 0},Py.bind(null,u,p,l,a),null),l},useId:function(){var s=mn(),a=ae.identifierPrefix;if(jt){var l=zi,u=Li;l=(u&~(1<<32-ve(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=th++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Jw++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:ym,useFormState:Yy,useActionState:Yy,useOptimistic:function(s){var a=mn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=vm.bind(null,Ct,!0,l),l.dispatch=a,[s,a]},useMemoCache:cm,useCacheRefresh:function(){return mn().memoizedState=rA.bind(null,Ct)},useEffectEvent:function(s){var a=mn(),l={impl:s};return a.memoizedState=l,function(){if((Xt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},bm={readContext:We,use:nh,useCallback:iv,useContext:We,useEffect:mm,useImperativeHandle:nv,useInsertionEffect:Jy,useLayoutEffect:tv,useMemo:sv,useReducer:ih,useRef:$y,useState:function(){return ih(ds)},useDebugValue:gm,useDeferredValue:function(s,a){var l=Ee();return rv(l,ie.memoizedState,s,a)},useTransition:function(){var s=ih(ds)[0],a=Ee().memoizedState;return[typeof s=="boolean"?s:Gl(s),a]},useSyncExternalStore:ky,useId:cv,useHostTransitionStatus:ym,useFormState:Ky,useActionState:Ky,useOptimistic:function(s,a){var l=Ee();return jy(l,ie,s,a)},useMemoCache:cm,useCacheRefresh:uv};bm.useEffectEvent=Zy;var gv={readContext:We,use:nh,useCallback:iv,useContext:We,useEffect:mm,useImperativeHandle:nv,useInsertionEffect:Jy,useLayoutEffect:tv,useMemo:sv,useReducer:hm,useRef:$y,useState:function(){return hm(ds)},useDebugValue:gm,useDeferredValue:function(s,a){var l=Ee();return ie===null?pm(l,s,a):rv(l,ie.memoizedState,s,a)},useTransition:function(){var s=hm(ds)[0],a=Ee().memoizedState;return[typeof s=="boolean"?s:Gl(s),a]},useSyncExternalStore:ky,useId:cv,useHostTransitionStatus:ym,useFormState:Qy,useActionState:Qy,useOptimistic:function(s,a){var l=Ee();return ie!==null?jy(l,ie,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:cm,useCacheRefresh:uv};gv.useEffectEvent=Zy;function Tm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Em={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Nn(),g=tr(u);g.payload=a,l!=null&&(g.callback=l),a=er(s,g,u),a!==null&&(Tn(a,s,u),Bl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Nn(),g=tr(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=er(s,g,u),a!==null&&(Tn(a,s,u),Bl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Nn(),u=tr(l);u.tag=2,a!=null&&(u.callback=a),a=er(s,u,l),a!==null&&(Tn(a,s,l),Bl(a,s,l))}};function pv(s,a,l,u,g,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):a.prototype&&a.prototype.isPureReactComponent?!Nl(l,u)||!Nl(g,p):!0}function _v(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Em.enqueueReplaceState(a,a.state,null)}function da(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function yv(s){zu(s)}function vv(s){console.error(s)}function bv(s){zu(s)}function oh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Tv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function xm(s,a,l){return l=tr(l),l.tag=3,l.payload={element:null},l.callback=function(){oh(s,a)},l}function Ev(s){return s=tr(s),s.tag=3,s}function xv(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){Tv(a,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){Tv(a,l,u),typeof g!="function"&&(or===null?or=new Set([this]):or.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function oA(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&mo(a,l,g,!0),l=In.current,l!==null){switch(l.tag){case 31:case 13:return qn===null?vh():l.alternate===null&&_e===0&&(_e=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Xu?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Xm(s,u,g)),!1;case 22:return l.flags|=65536,u===Xu?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Xm(s,u,g)),!1}throw Error(i(435,l.tag))}return Xm(s,u,g),vh(),!1}if(jt)return a=In.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==Fd&&(s=Error(i(422),{cause:u}),Pl(jn(s,l)))):(u!==Fd&&(a=Error(i(423),{cause:u}),Pl(jn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=jn(u,l),g=xm(s.stateNode,u,g),Jd(s,g),_e!==4&&(_e=2)),!1;var p=Error(i(520),{cause:u});if(p=jn(p,l),ec===null?ec=[p]:ec.push(p),_e!==4&&(_e=2),a===null)return!0;u=jn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=xm(l.stateNode,u,s),Jd(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(or===null||!or.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Ev(g),xv(g,s,l,u),Jd(l,g),!1}l=l.return}while(l!==null);return!1}var Sm=Error(i(461)),Oe=!1;function Ze(s,a,l,u){a.child=s===null?Ry(a,null,l,u):ha(a,s.child,l,u)}function Sv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return oa(a),u=rm(s,a,l,b,p,g),S=am(),s!==null&&!Oe?(om(s,a,g),ms(s,a,g)):(jt&&S&&jd(a),a.flags|=1,Ze(s,a,u,g),a.child)}function wv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Ld(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Av(s,a,p,u,g)):(s=Fu(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Om(s,g)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Nl,l(b,u)&&s.ref===a.ref)return ms(s,a,g)}return a.flags|=1,s=ls(p,u),s.ref=a.ref,s.return=a,a.child=s}function Av(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(Nl(p,u)&&s.ref===a.ref)if(Oe=!1,a.pendingProps=u=p,Om(s,g))(s.flags&131072)!==0&&(Oe=!0);else return a.lanes=s.lanes,ms(s,a,g)}return wm(s,a,l,u,g)}function Rv(s,a,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Cv(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yu(a,p!==null?p.cachePool:null),p!==null?My(a,p):em(),Dy(a);else return u=a.lanes=536870912,Cv(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Yu(a,p.cachePool),My(a,p),ir(),a.memoizedState=null):(s!==null&&Yu(a,null),em(),ir());return Ze(s,a,g,l),a.child}function Xl(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Cv(s,a,l,u,g){var p=Qd();return p=p===null?null:{parent:Me._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Yu(a,null),em(),Dy(a),s!==null&&mo(s,a,u,!0),a.childLanes=g,null}function lh(s,a){return a=uh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Iv(s,a,l){return ha(a,s.child,null,l),s=lh(a,a.pendingProps),s.flags|=2,Mn(a),a.memoizedState=null,s}function lA(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(jt){if(u.mode==="hidden")return s=lh(a,u),a.lanes=536870912,Xl(null,s);if(im(a),(s=oe)?(s=B0(s,Hn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Qs!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=fy(s),l.return=a,a.child=l,$e=a,oe=null)):s=null,s===null)throw Ws(a);return a.lanes=536870912,null}return lh(a,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(im(a),g)if(a.flags&256)a.flags&=-257,a=Iv(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Oe||mo(s,a,l,!1),g=(l&s.childLanes)!==0,Oe||g){if(u=ae,u!==null&&(b=gl(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,ia(s,b),Tn(u,s,b),Sm;vh(),a=Iv(s,a,l)}else s=p.treeContext,oe=Gn(b.nextSibling),$e=a,jt=!0,$s=null,Hn=!1,s!==null&&gy(a,s),a=lh(a,u),a.flags|=4096;return a}return s=ls(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function ch(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function wm(s,a,l,u,g){return oa(a),l=rm(s,a,l,u,void 0,g),u=am(),s!==null&&!Oe?(om(s,a,g),ms(s,a,g)):(jt&&u&&jd(a),a.flags|=1,Ze(s,a,l,g),a.child)}function Mv(s,a,l,u,g,p){return oa(a),a.updateQueue=null,l=Ny(a,u,l,g),Oy(s),u=am(),s!==null&&!Oe?(om(s,a,p),ms(s,a,p)):(jt&&u&&jd(a),a.flags|=1,Ze(s,a,l,p),a.child)}function Dv(s,a,l,u,g){if(oa(a),a.stateNode===null){var p=co,b=l.contextType;typeof b=="object"&&b!==null&&(p=We(b)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Em,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Wd(a),b=l.contextType,p.context=typeof b=="object"&&b!==null?We(b):co,p.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Tm(a,l,b,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Em.enqueueReplaceState(p,p.state,null),Hl(a,u,p,g),Fl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var S=a.memoizedProps,V=da(l,S);p.props=V;var q=p.context,Z=l.contextType;b=co,typeof Z=="object"&&Z!==null&&(b=We(Z));var nt=l.getDerivedStateFromProps;Z=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||q!==b)&&_v(a,p,u,b),Js=!1;var G=a.memoizedState;p.state=G,Hl(a,u,p,g),Fl(),q=a.memoizedState,S||G!==q||Js?(typeof nt=="function"&&(Tm(a,l,nt,u),q=a.memoizedState),(V=Js||pv(a,l,V,u,G,q,b))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=q),p.props=u,p.state=q,p.context=b,u=V):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Zd(s,a),b=a.memoizedProps,Z=da(l,b),p.props=Z,nt=a.pendingProps,G=p.context,q=l.contextType,V=co,typeof q=="object"&&q!==null&&(V=We(q)),S=l.getDerivedStateFromProps,(q=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==nt||G!==V)&&_v(a,p,u,V),Js=!1,G=a.memoizedState,p.state=G,Hl(a,u,p,g),Fl();var Q=a.memoizedState;b!==nt||G!==Q||Js||s!==null&&s.dependencies!==null&&qu(s.dependencies)?(typeof S=="function"&&(Tm(a,l,S,u),Q=a.memoizedState),(Z=Js||pv(a,l,Z,u,G,Q,V)||s!==null&&s.dependencies!==null&&qu(s.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Q,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Q,V)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Q),p.props=u,p.state=Q,p.context=V,u=Z):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,ch(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=ha(a,s.child,null,g),a.child=ha(a,null,l,g)):Ze(s,a,l,g),a.memoizedState=p.state,s=a.child):s=ms(s,a,g),s}function Ov(s,a,l,u){return ra(),a.flags|=256,Ze(s,a,l,u),a.child}var Am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rm(s){return{baseLanes:s,cachePool:Ty()}}function Cm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=On),s}function Nv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),b&&(g=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,s===null){if(jt){if(g?nr(a):ir(),(s=oe)?(s=B0(s,Hn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Qs!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=fy(s),l.return=a,a.child=l,$e=a,oe=null)):s=null,s===null)throw Ws(a);return ug(s)?a.lanes=32:a.lanes=536870912,null}var S=u.children;return u=u.fallback,g?(ir(),g=a.mode,S=uh({mode:"hidden",children:S},g),u=sa(u,g,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,u=a.child,u.memoizedState=Rm(l),u.childLanes=Cm(s,b,l),a.memoizedState=Am,Xl(null,u)):(nr(a),Im(a,S))}var V=s.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(p)a.flags&256?(nr(a),a.flags&=-257,a=Mm(s,a,l)):a.memoizedState!==null?(ir(),a.child=s.child,a.flags|=128,a=null):(ir(),S=u.fallback,g=a.mode,u=uh({mode:"visible",children:u.children},g),S=sa(S,g,l,null),S.flags|=2,u.return=a,S.return=a,u.sibling=S,a.child=u,ha(a,s.child,null,l),u=a.child,u.memoizedState=Rm(l),u.childLanes=Cm(s,b,l),a.memoizedState=Am,a=Xl(null,u));else if(nr(a),ug(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var q=b.dgst;b=q,u=Error(i(419)),u.stack="",u.digest=b,Pl({value:u,source:null,stack:null}),a=Mm(s,a,l)}else if(Oe||mo(s,a,l,!1),b=(l&s.childLanes)!==0,Oe||b){if(b=ae,b!==null&&(u=gl(b,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,ia(s,u),Tn(b,s,u),Sm;cg(S)||vh(),a=Mm(s,a,l)}else cg(S)?(a.flags|=192,a.child=s.child,a=null):(s=V.treeContext,oe=Gn(S.nextSibling),$e=a,jt=!0,$s=null,Hn=!1,s!==null&&gy(a,s),a=Im(a,u.children),a.flags|=4096);return a}return g?(ir(),S=u.fallback,g=a.mode,V=s.child,q=V.sibling,u=ls(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,q!==null?S=ls(q,S):(S=sa(S,g,l,null),S.flags|=2),S.return=a,u.return=a,u.sibling=S,a.child=u,Xl(null,u),u=a.child,S=s.child.memoizedState,S===null?S=Rm(l):(g=S.cachePool,g!==null?(V=Me._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=Ty(),S={baseLanes:S.baseLanes|l,cachePool:g}),u.memoizedState=S,u.childLanes=Cm(s,b,l),a.memoizedState=Am,Xl(s.child,u)):(nr(a),l=s.child,s=l.sibling,l=ls(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(b=a.deletions,b===null?(a.deletions=[s],a.flags|=16):b.push(s)),a.child=l,a.memoizedState=null,l)}function Im(s,a){return a=uh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function uh(s,a){return s=Cn(22,s,null,a),s.lanes=0,s}function Mm(s,a,l){return ha(a,s.child,null,l),s=Im(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function kv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Gd(s.return,a,l)}function Dm(s,a,l,u,g,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=g,b.treeForkCount=p)}function Vv(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var b=Te.current,S=(b&2)!==0;if(S?(b=b&1|2,a.flags|=128):b&=1,lt(Te,b),Ze(s,a,u,l),u=jt?Vl:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&kv(s,l,a);else if(s.tag===19)kv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&Zu(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Dm(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Zu(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Dm(a,!0,l,null,p,u);break;case"together":Dm(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ms(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ar|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(mo(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=ls(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=ls(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Om(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&qu(s)))}function cA(s,a,l){switch(a.tag){case 3:Pe(a,a.stateNode.containerInfo),Zs(a,Me,s.memoizedState.cache),ra();break;case 27:case 5:Ur(a);break;case 4:Pe(a,a.stateNode.containerInfo);break;case 10:Zs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,im(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(nr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Nv(s,a,l):(nr(a),s=ms(s,a,l),s!==null?s.sibling:null);nr(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(mo(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return Vv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(Te,Te.current),u)break;return null;case 22:return a.lanes=0,Rv(s,a,l,a.pendingProps);case 24:Zs(a,Me,s.memoizedState.cache)}return ms(s,a,l)}function Pv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Oe=!0;else{if(!Om(s,l)&&(a.flags&128)===0)return Oe=!1,cA(s,a,l);Oe=(s.flags&131072)!==0}else Oe=!1,jt&&(a.flags&1048576)!==0&&my(a,Vl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=ca(a.elementType),a.type=s,typeof s=="function")Ld(s)?(u=da(s,u),a.tag=1,a=Dv(null,a,s,u,l)):(a.tag=0,a=wm(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===et){a.tag=11,a=Sv(null,a,s,u,l);break t}else if(g===M){a.tag=14,a=wv(null,a,s,u,l);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return wm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=da(u,a.pendingProps),Dv(s,a,u,g,l);case 3:t:{if(Pe(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,Zd(s,a),Hl(a,u,null,l);var b=a.memoizedState;if(u=b.cache,Zs(a,Me,u),u!==p.cache&&Yd(a,[Me],l,!0),Fl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Ov(s,a,u,l);break t}else if(u!==g){g=jn(Error(i(424)),a),Pl(g),a=Ov(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(oe=Gn(s.firstChild),$e=a,jt=!0,$s=null,Hn=!0,l=Ry(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ra(),u===g){a=ms(s,a,l);break t}Ze(s,a,u,l)}a=a.child}return a;case 26:return ch(s,a),s===null?(l=K0(a.type,null,a.pendingProps,null))?a.memoizedState=l:jt||(l=a.type,s=a.pendingProps,u=Ah(bt.current).createElement(l),u[Re]=a,u[qe]=s,Je(u,l,s),Ce(u),a.stateNode=u):a.memoizedState=K0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ur(a),s===null&&jt&&(u=a.stateNode=q0(a.type,a.pendingProps,bt.current),$e=a,Hn=!0,g=oe,hr(a.type)?(hg=g,oe=Gn(u.firstChild)):oe=g),Ze(s,a,a.pendingProps.children,l),ch(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&jt&&((g=u=oe)&&(u=UA(u,a.type,a.pendingProps,Hn),u!==null?(a.stateNode=u,$e=a,oe=Gn(u.firstChild),Hn=!1,g=!0):g=!1),g||Ws(a)),Ur(a),g=a.type,p=a.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,ag(g,p)?u=null:b!==null&&ag(g,b)&&(a.flags|=32),a.memoizedState!==null&&(g=rm(s,a,tA,null,null,l),cc._currentValue=g),ch(s,a),Ze(s,a,u,l),a.child;case 6:return s===null&&jt&&((s=l=oe)&&(l=jA(l,a.pendingProps,Hn),l!==null?(a.stateNode=l,$e=a,oe=null,s=!0):s=!1),s||Ws(a)),null;case 13:return Nv(s,a,l);case 4:return Pe(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=ha(a,null,u,l):Ze(s,a,u,l),a.child;case 11:return Sv(s,a,a.type,a.pendingProps,l);case 7:return Ze(s,a,a.pendingProps,l),a.child;case 8:return Ze(s,a,a.pendingProps.children,l),a.child;case 12:return Ze(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Zs(a,a.type,u.value),Ze(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,oa(a),g=We(g),u=u(g),a.flags|=1,Ze(s,a,u,l),a.child;case 14:return wv(s,a,a.type,a.pendingProps,l);case 15:return Av(s,a,a.type,a.pendingProps,l);case 19:return Vv(s,a,l);case 31:return lA(s,a,l);case 22:return Rv(s,a,l,a.pendingProps);case 24:return oa(a),u=We(Me),s===null?(g=Qd(),g===null&&(g=ae,p=Kd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},Wd(a),Zs(a,Me,g)):((s.lanes&l)!==0&&(Zd(s,a),Hl(a,null,null,l),Fl()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Zs(a,Me,u)):(u=p.cache,Zs(a,Me,u),u!==g.cache&&Yd(a,[Me],l,!0))),Ze(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function gs(s){s.flags|=4}function Nm(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(c0())s.flags|=8192;else throw ua=Xu,$d}else s.flags&=-16777217}function Lv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Z0(a))if(c0())s.flags|=8192;else throw ua=Xu,$d}function hh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?_u():536870912,s.lanes|=a,Ao|=a)}function Ql(s,a){if(!jt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function le(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function uA(s,a,l){var u=a.pendingProps;switch(Bd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(a),null;case 1:return le(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),hs(Me),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(fo(a)?gs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Hd())),le(a),null;case 26:var g=a.type,p=a.memoizedState;return s===null?(gs(a),p!==null?(le(a),Lv(a,p)):(le(a),Nm(a,g,null,u,l))):p?p!==s.memoizedState?(gs(a),le(a),Lv(a,p)):(le(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&gs(a),le(a),Nm(a,g,s,u,l)),null;case 27:if(qa(a),l=bt.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&gs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}s=ct.current,fo(a)?py(a):(s=q0(g,u,l),a.stateNode=s,gs(a))}return le(a),null;case 5:if(qa(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&gs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}if(p=ct.current,fo(a))py(a);else{var b=Ah(bt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(g,{is:u.is}):b.createElement(g)}}p[Re]=a,p[qe]=u;t:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break t;for(;b.sibling===null;){if(b.return===null||b.return===a)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;t:switch(Je(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&gs(a)}}return le(a),Nm(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&gs(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=bt.current,fo(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=$e,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Re]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||N0(s.nodeValue,l)),s||Ws(a,!0)}else s=Ah(s).createTextNode(u),s[Re]=a,a.stateNode=s}return le(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=fo(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Re]=a}else ra(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),s=!1}else l=Hd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Mn(a),a):(Mn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return le(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=fo(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Re]=a}else ra(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),g=!1}else g=Hd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Mn(a),a):(Mn(a),null)}return Mn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),hh(a,a.updateQueue),le(a),null);case 4:return fe(),s===null&&eg(a.stateNode.containerInfo),le(a),null;case 10:return hs(a.type),le(a),null;case 19:if(J(Te),u=a.memoizedState,u===null)return le(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)Ql(u,!1);else{if(_e!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=Zu(s),p!==null){for(a.flags|=128,Ql(u,!1),s=p.updateQueue,a.updateQueue=s,hh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)hy(l,s),l=l.sibling;return lt(Te,Te.current&1|2),jt&&cs(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&fn()>ph&&(a.flags|=128,g=!0,Ql(u,!1),a.lanes=4194304)}else{if(!g)if(s=Zu(p),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,hh(a,s),Ql(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!jt)return le(a),null}else 2*fn()-u.renderingStartTime>ph&&l!==536870912&&(a.flags|=128,g=!0,Ql(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=fn(),s.sibling=null,l=Te.current,lt(Te,g?l&1|2:l&1),jt&&cs(a,u.treeForkCount),s):(le(a),null);case 22:case 23:return Mn(a),nm(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(le(a),a.subtreeFlags&6&&(a.flags|=8192)):le(a),l=a.updateQueue,l!==null&&hh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&J(la),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),hs(Me),le(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function hA(s,a){switch(Bd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return hs(Me),fe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return qa(a),null;case 31:if(a.memoizedState!==null){if(Mn(a),a.alternate===null)throw Error(i(340));ra()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Mn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ra()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return J(Te),null;case 4:return fe(),null;case 10:return hs(a.type),null;case 22:case 23:return Mn(a),nm(),s!==null&&J(la),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return hs(Me),null;case 25:return null;default:return null}}function zv(s,a){switch(Bd(a),a.tag){case 3:hs(Me),fe();break;case 26:case 27:case 5:qa(a);break;case 4:fe();break;case 31:a.memoizedState!==null&&Mn(a);break;case 13:Mn(a);break;case 19:J(Te);break;case 10:hs(a.type);break;case 22:case 23:Mn(a),nm(),s!==null&&J(la);break;case 24:hs(Me)}}function $l(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==g)}}catch(S){Jt(a,a.return,S)}}function sr(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,g=a;var V=l,q=S;try{q()}catch(Z){Jt(g,V,Z)}}}u=u.next}while(u!==p)}}catch(Z){Jt(a,a.return,Z)}}function Uv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Iy(a,l)}catch(u){Jt(s,s.return,u)}}}function jv(s,a,l){l.props=da(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,a,u)}}function Wl(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,a,g)}}function Ui(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,a,g)}else l.current=null}function Bv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function km(s,a,l){try{var u=s.stateNode;NA(u,s.type,l,a),u[qe]=a}catch(g){Jt(s,s.return,g)}}function Fv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&hr(s.type)||s.tag===4}function Vm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Fv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&hr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ri));else if(u!==4&&(u===27&&hr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Pm(s,a,l),s=s.sibling;s!==null;)Pm(s,a,l),s=s.sibling}function fh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&hr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(fh(s,a,l),s=s.sibling;s!==null;)fh(s,a,l),s=s.sibling}function Hv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Je(a,u,l),a[Re]=s,a[qe]=l}catch(p){Jt(s,s.return,p)}}var ps=!1,Ne=!1,Lm=!1,qv=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function fA(s,a){if(s=s.containerInfo,sg=Nh,s=ny(s),Md(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,S=-1,V=-1,q=0,Z=0,nt=s,G=null;e:for(;;){for(var Q;nt!==l||g!==0&&nt.nodeType!==3||(S=b+g),nt!==p||u!==0&&nt.nodeType!==3||(V=b+u),nt.nodeType===3&&(b+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)G=nt,nt=Q;for(;;){if(nt===s)break e;if(G===l&&++q===g&&(S=b),G===p&&++Z===u&&(V=b),(Q=nt.nextSibling)!==null)break;nt=G,G=nt.parentNode}nt=Q}l=S===-1||V===-1?null:{start:S,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(rg={focusedElem:s,selectionRange:l},Nh=!1,Ye=a;Ye!==null;)if(a=Ye,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ye=s;else for(;Ye!==null;){switch(a=Ye,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ft=da(l.type,g);s=u.getSnapshotBeforeUpdate(ft,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(yt){Jt(l,l.return,yt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)lg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":lg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ye=s;break}Ye=a.return}}function Gv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ys(s,l),u&4&&$l(5,l);break;case 1:if(ys(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(b){Jt(l,l.return,b)}else{var g=da(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(l,l.return,b)}}u&64&&Uv(l),u&512&&Wl(l,l.return);break;case 3:if(ys(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Iy(s,a)}catch(b){Jt(l,l.return,b)}}break;case 27:a===null&&u&4&&Hv(l);case 26:case 5:ys(s,l),a===null&&u&4&&Bv(l),u&512&&Wl(l,l.return);break;case 12:ys(s,l);break;case 31:ys(s,l),u&4&&Xv(s,l);break;case 13:ys(s,l),u&4&&Qv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=TA.bind(null,l),BA(s,l))));break;case 22:if(u=l.memoizedState!==null||ps,!u){a=a!==null&&a.memoizedState!==null||Ne,g=ps;var p=Ne;ps=u,(Ne=a)&&!p?vs(s,l,(l.subtreeFlags&8772)!==0):ys(s,l),ps=g,Ne=p}break;case 30:break;default:ys(s,l)}}function Yv(s){var a=s.alternate;a!==null&&(s.alternate=null,Yv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Qa(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var me=null,_n=!1;function _s(s,a,l){for(l=l.child;l!==null;)Kv(s,a,l),l=l.sibling}function Kv(s,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ei,l)}catch{}switch(l.tag){case 26:Ne||Ui(l,a),_s(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ne||Ui(l,a);var u=me,g=_n;hr(l.type)&&(me=l.stateNode,_n=!1),_s(s,a,l),ac(l.stateNode),me=u,_n=g;break;case 5:Ne||Ui(l,a);case 6:if(u=me,g=_n,me=null,_s(s,a,l),me=u,_n=g,me!==null)if(_n)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(l.stateNode)}catch(p){Jt(l,a,p)}else try{me.removeChild(l.stateNode)}catch(p){Jt(l,a,p)}break;case 18:me!==null&&(_n?(s=me,U0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),ko(s)):U0(me,l.stateNode));break;case 4:u=me,g=_n,me=l.stateNode.containerInfo,_n=!0,_s(s,a,l),me=u,_n=g;break;case 0:case 11:case 14:case 15:sr(2,l,a),Ne||sr(4,l,a),_s(s,a,l);break;case 1:Ne||(Ui(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&jv(l,a,u)),_s(s,a,l);break;case 21:_s(s,a,l);break;case 22:Ne=(u=Ne)||l.memoizedState!==null,_s(s,a,l),Ne=u;break;default:_s(s,a,l)}}function Xv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ko(s)}catch(l){Jt(a,a.return,l)}}}function Qv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ko(s)}catch(l){Jt(a,a.return,l)}}function dA(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new qv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new qv),a;default:throw Error(i(435,s.tag))}}function dh(s,a){var l=dA(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=EA.bind(null,s,u);u.then(g,g)}})}function yn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,b=a,S=b;t:for(;S!==null;){switch(S.tag){case 27:if(hr(S.type)){me=S.stateNode,_n=!1;break t}break;case 5:me=S.stateNode,_n=!1;break t;case 3:case 4:me=S.stateNode.containerInfo,_n=!0;break t}S=S.return}if(me===null)throw Error(i(160));Kv(p,b,g),me=null,_n=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)$v(a,s),a=a.sibling}var hi=null;function $v(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:yn(a,s),vn(s),u&4&&(sr(3,s,s.return),$l(3,s),sr(5,s,s.return));break;case 1:yn(a,s),vn(s),u&512&&(Ne||l===null||Ui(l,l.return)),u&64&&ps&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=hi;if(yn(a,s),vn(s),u&512&&(Ne||l===null||Ui(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[wi]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Je(p,u,l),p[Re]=s,Ce(p),u=p;break t;case"link":var b=$0("link","href",g).get(u+(l.href||""));if(b){for(var S=0;S<b.length;S++)if(p=b[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(S,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;case"meta":if(b=$0("meta","content",g).get(u+(l.content||""))){for(S=0;S<b.length;S++)if(p=b[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(S,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Re]=s,Ce(p),u=p}s.stateNode=u}else W0(g,s.type,s.stateNode);else s.stateNode=Q0(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?W0(g,s.type,s.stateNode):Q0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&km(s,s.memoizedProps,l.memoizedProps)}break;case 27:yn(a,s),vn(s),u&512&&(Ne||l===null||Ui(l,l.return)),l!==null&&u&4&&km(s,s.memoizedProps,l.memoizedProps);break;case 5:if(yn(a,s),vn(s),u&512&&(Ne||l===null||Ui(l,l.return)),s.flags&32){g=s.stateNode;try{pn(g,"")}catch(ft){Jt(s,s.return,ft)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,km(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Lm=!0);break;case 6:if(yn(a,s),vn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ft){Jt(s,s.return,ft)}}break;case 3:if(Ih=null,g=hi,hi=Rh(a.containerInfo),yn(a,s),hi=g,vn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ko(a.containerInfo)}catch(ft){Jt(s,s.return,ft)}Lm&&(Lm=!1,Wv(s));break;case 4:u=hi,hi=Rh(s.stateNode.containerInfo),yn(a,s),vn(s),hi=u;break;case 12:yn(a,s),vn(s);break;case 31:yn(a,s),vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,dh(s,u)));break;case 13:yn(a,s),vn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gh=fn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,dh(s,u)));break;case 22:g=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,q=ps,Z=Ne;if(ps=q||g,Ne=Z||V,yn(a,s),Ne=Z,ps=q,vn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||V||ps||Ne||ma(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){V=l=a;try{if(p=V.stateNode,g)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=V.stateNode;var nt=V.memoizedProps.style,G=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ft){Jt(V,V.return,ft)}}}else if(a.tag===6){if(l===null){V=a;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(ft){Jt(V,V.return,ft)}}}else if(a.tag===18){if(l===null){V=a;try{var Q=V.stateNode;g?j0(Q,!0):j0(V.stateNode,!1)}catch(ft){Jt(V,V.return,ft)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,dh(s,l))));break;case 19:yn(a,s),vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,dh(s,u)));break;case 30:break;case 21:break;default:yn(a,s),vn(s)}}function vn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Fv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=Vm(s);fh(s,p,g);break;case 5:var b=l.stateNode;l.flags&32&&(pn(b,""),l.flags&=-33);var S=Vm(s);fh(s,S,b);break;case 3:case 4:var V=l.stateNode.containerInfo,q=Vm(s);Pm(s,q,V);break;default:throw Error(i(161))}}catch(Z){Jt(s,s.return,Z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Wv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Wv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ys(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Gv(s,a.alternate,a),a=a.sibling}function ma(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:sr(4,a,a.return),ma(a);break;case 1:Ui(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&jv(a,a.return,l),ma(a);break;case 27:ac(a.stateNode);case 26:case 5:Ui(a,a.return),ma(a);break;case 22:a.memoizedState===null&&ma(a);break;case 30:ma(a);break;default:ma(a)}s=s.sibling}}function vs(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:vs(g,p,l),$l(4,p);break;case 1:if(vs(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(q){Jt(u,u.return,q)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)Cy(V[g],S)}catch(q){Jt(u,u.return,q)}}l&&b&64&&Uv(p),Wl(p,p.return);break;case 27:Hv(p);case 26:case 5:vs(g,p,l),l&&u===null&&b&4&&Bv(p),Wl(p,p.return);break;case 12:vs(g,p,l);break;case 31:vs(g,p,l),l&&b&4&&Xv(g,p);break;case 13:vs(g,p,l),l&&b&4&&Qv(g,p);break;case 22:p.memoizedState===null&&vs(g,p,l),Wl(p,p.return);break;case 30:break;default:vs(g,p,l)}a=a.sibling}}function zm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ll(l))}function Um(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ll(s))}function fi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Zv(s,a,l,u),a=a.sibling}function Zv(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:fi(s,a,l,u),g&2048&&$l(9,a);break;case 1:fi(s,a,l,u);break;case 3:fi(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ll(s)));break;case 12:if(g&2048){fi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,b=p.id,S=p.onPostCommit;typeof S=="function"&&S(b,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){Jt(a,a.return,V)}}else fi(s,a,l,u);break;case 31:fi(s,a,l,u);break;case 13:fi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?fi(s,a,l,u):Zl(s,a):p._visibility&2?fi(s,a,l,u):(p._visibility|=2,xo(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&zm(b,a);break;case 24:fi(s,a,l,u),g&2048&&Um(a.alternate,a);break;default:fi(s,a,l,u)}}function xo(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,b=a,S=l,V=u,q=b.flags;switch(b.tag){case 0:case 11:case 15:xo(p,b,S,V,g),$l(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?xo(p,b,S,V,g):Zl(p,b):(Z._visibility|=2,xo(p,b,S,V,g)),g&&q&2048&&zm(b.alternate,b);break;case 24:xo(p,b,S,V,g),g&&q&2048&&Um(b.alternate,b);break;default:xo(p,b,S,V,g)}a=a.sibling}}function Zl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:Zl(l,u),g&2048&&zm(u.alternate,u);break;case 24:Zl(l,u),g&2048&&Um(u.alternate,u);break;default:Zl(l,u)}a=a.sibling}}var Jl=8192;function So(s,a,l){if(s.subtreeFlags&Jl)for(s=s.child;s!==null;)Jv(s,a,l),s=s.sibling}function Jv(s,a,l){switch(s.tag){case 26:So(s,a,l),s.flags&Jl&&s.memoizedState!==null&&JA(l,hi,s.memoizedState,s.memoizedProps);break;case 5:So(s,a,l);break;case 3:case 4:var u=hi;hi=Rh(s.stateNode.containerInfo),So(s,a,l),hi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Jl,Jl=16777216,So(s,a,l),Jl=u):So(s,a,l));break;default:So(s,a,l)}}function t0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function tc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,n0(u,s)}t0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)e0(s),s=s.sibling}function e0(s){switch(s.tag){case 0:case 11:case 15:tc(s),s.flags&2048&&sr(9,s,s.return);break;case 3:tc(s);break;case 12:tc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,mh(s)):tc(s);break;default:tc(s)}}function mh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ye=u,n0(u,s)}t0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:sr(8,a,a.return),mh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,mh(a));break;default:mh(a)}s=s.sibling}}function n0(s,a){for(;Ye!==null;){var l=Ye;switch(l.tag){case 0:case 11:case 15:sr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ll(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ye=u;else t:for(l=s;Ye!==null;){u=Ye;var g=u.sibling,p=u.return;if(Yv(u),u===l){Ye=null;break t}if(g!==null){g.return=p,Ye=g;break t}Ye=p}}}var mA={getCacheForType:function(s){var a=We(Me),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return We(Me).controller.signal}},gA=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,Ot=null,Vt=0,Zt=0,Dn=null,rr=!1,wo=!1,jm=!1,bs=0,_e=0,ar=0,ga=0,Bm=0,On=0,Ao=0,ec=null,bn=null,Fm=!1,gh=0,i0=0,ph=1/0,_h=null,or=null,ze=0,lr=null,Ro=null,Ts=0,Hm=0,qm=null,s0=null,nc=0,Gm=null;function Nn(){return(Xt&2)!==0&&Vt!==0?Vt&-Vt:K.T!==null?Wm():yu()}function r0(){if(On===0)if((Vt&536870912)===0||jt){var s=Fr;Fr<<=1,(Fr&3932160)===0&&(Fr=262144),On=s}else On=536870912;return s=In.current,s!==null&&(s.flags|=32),On}function Tn(s,a,l){(s===ae&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Co(s,0),cr(s,Vt,On,!1)),Hr(s,l),((Xt&2)===0||s!==ae)&&(s===ae&&((Xt&2)===0&&(ga|=l),_e===4&&cr(s,Vt,On,!1)),ji(s))}function a0(s,a,l){if((Xt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||ni(s,a),g=u?yA(s,a):Km(s,a,!0),p=u;do{if(g===0){wo&&!u&&cr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!pA(l)){g=Km(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;t:{var S=s;g=ec;var V=S.current.memoizedState.isDehydrated;if(V&&(Co(S,b).flags|=256),b=Km(S,b,!1),b!==2){if(jm&&!V){S.errorRecoveryDisabledLanes|=p,ga|=p,g=4;break t}p=bn,bn=g,p!==null&&(bn===null?bn=p:bn.push.apply(bn,p))}g=b}if(p=!1,g!==2)continue}}if(g===1){Co(s,0),cr(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:cr(u,a,On,!rr);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=gh+300-fn(),10<g)){if(cr(u,a,On,!rr),Ei(u,0,!0)!==0)break t;Ts=a,u.timeoutHandle=L0(o0.bind(null,u,l,bn,_h,Fm,a,On,ga,Ao,rr,p,"Throttled",-0,0),g);break t}o0(u,l,bn,_h,Fm,a,On,ga,Ao,rr,p,null,-0,0)}}break}while(!0);ji(s)}function o0(s,a,l,u,g,p,b,S,V,q,Z,nt,G,Q){if(s.timeoutHandle=-1,nt=a.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},Jv(a,p,nt);var ft=(p&62914560)===p?gh-fn():(p&4194048)===p?i0-fn():0;if(ft=tR(nt,ft),ft!==null){Ts=p,s.cancelPendingCommit=ft(g0.bind(null,s,a,p,l,u,g,b,S,V,Z,nt,null,G,Q)),cr(s,p,b,!q);return}}g0(s,a,p,l,u,g,b,S,V)}function pA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Rn(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function cr(s,a,l,u){a&=~Bm,a&=~ga,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-ve(g),b=1<<p;u[p]=-1,g&=~b}l!==0&&qr(s,l,a)}function yh(){return(Xt&6)===0?(ic(0),!1):!0}function Ym(){if(Ot!==null){if(Zt===0)var s=Ot.return;else s=Ot,us=aa=null,lm(s),yo=null,Ul=0,s=Ot;for(;s!==null;)zv(s.alternate,s),s=s.return;Ot=null}}function Co(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,PA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ts=0,Ym(),ae=s,Ot=l=ls(s.current,null),Vt=a,Zt=0,Dn=null,rr=!1,wo=ni(s,a),jm=!1,Ao=On=Bm=ga=ar=_e=0,bn=ec=null,Fm=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-ve(u),p=1<<g;a|=s[g],u&=~p}return bs=a,Uu(),l}function l0(s,a){Ct=null,K.H=Kl,a===_o||a===Ku?(a=Sy(),Zt=3):a===$d?(a=Sy(),Zt=4):Zt=a===Sm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Dn=a,Ot===null&&(_e=1,oh(s,jn(a,s.current)))}function c0(){var s=In.current;return s===null?!0:(Vt&4194048)===Vt?qn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?s===qn:!1}function u0(){var s=K.H;return K.H=Kl,s===null?Kl:s}function h0(){var s=K.A;return K.A=mA,s}function vh(){_e=4,rr||(Vt&4194048)!==Vt&&In.current!==null||(wo=!0),(ar&134217727)===0&&(ga&134217727)===0||ae===null||cr(ae,Vt,On,!1)}function Km(s,a,l){var u=Xt;Xt|=2;var g=u0(),p=h0();(ae!==s||Vt!==a)&&(_h=null,Co(s,a)),a=!1;var b=_e;t:do try{if(Zt!==0&&Ot!==null){var S=Ot,V=Dn;switch(Zt){case 8:Ym(),b=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(a=!0);var q=Zt;if(Zt=0,Dn=null,Io(s,S,V,q),l&&wo){b=0;break t}break;default:q=Zt,Zt=0,Dn=null,Io(s,S,V,q)}}_A(),b=_e;break}catch(Z){l0(s,Z)}while(!0);return a&&s.shellSuspendCounter++,us=aa=null,Xt=u,K.H=g,K.A=p,Ot===null&&(ae=null,Vt=0,Uu()),b}function _A(){for(;Ot!==null;)f0(Ot)}function yA(s,a){var l=Xt;Xt|=2;var u=u0(),g=h0();ae!==s||Vt!==a?(_h=null,ph=fn()+500,Co(s,a)):wo=ni(s,a);t:do try{if(Zt!==0&&Ot!==null){a=Ot;var p=Dn;e:switch(Zt){case 1:Zt=0,Dn=null,Io(s,a,p,1);break;case 2:case 9:if(Ey(p)){Zt=0,Dn=null,d0(a);break}a=function(){Zt!==2&&Zt!==9||ae!==s||(Zt=7),ji(s)},p.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Ey(p)?(Zt=0,Dn=null,d0(a)):(Zt=0,Dn=null,Io(s,a,p,7));break;case 5:var b=null;switch(Ot.tag){case 26:b=Ot.memoizedState;case 5:case 27:var S=Ot;if(b?Z0(b):S.stateNode.complete){Zt=0,Dn=null;var V=S.sibling;if(V!==null)Ot=V;else{var q=S.return;q!==null?(Ot=q,bh(q)):Ot=null}break e}}Zt=0,Dn=null,Io(s,a,p,5);break;case 6:Zt=0,Dn=null,Io(s,a,p,6);break;case 8:Ym(),_e=6;break t;default:throw Error(i(462))}}vA();break}catch(Z){l0(s,Z)}while(!0);return us=aa=null,K.H=u,K.A=g,Xt=l,Ot!==null?0:(ae=null,Vt=0,Uu(),_e)}function vA(){for(;Ot!==null&&!xd();)f0(Ot)}function f0(s){var a=Pv(s.alternate,s,bs);s.memoizedProps=s.pendingProps,a===null?bh(s):Ot=a}function d0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Mv(l,a,a.pendingProps,a.type,void 0,Vt);break;case 11:a=Mv(l,a,a.pendingProps,a.type.render,a.ref,Vt);break;case 5:lm(a);default:zv(l,a),a=Ot=hy(a,bs),a=Pv(l,a,bs)}s.memoizedProps=s.pendingProps,a===null?bh(s):Ot=a}function Io(s,a,l,u){us=aa=null,lm(a),yo=null,Ul=0;var g=a.return;try{if(oA(s,g,a,l,Vt)){_e=1,oh(s,jn(l,s.current)),Ot=null;return}}catch(p){if(g!==null)throw Ot=g,p;_e=1,oh(s,jn(l,s.current)),Ot=null;return}a.flags&32768?(jt||u===1?s=!0:wo||(Vt&536870912)!==0?s=!1:(rr=s=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),m0(a,s)):bh(a)}function bh(s){var a=s;do{if((a.flags&32768)!==0){m0(a,rr);return}s=a.return;var l=uA(a.alternate,a,bs);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);_e===0&&(_e=5)}function m0(s,a){do{var l=hA(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);_e=6,Ot=null}function g0(s,a,l,u,g,p,b,S,V){s.cancelPendingCommit=null;do Th();while(ze!==0);if((Xt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Vd,Ad(s,l,p,b,S,V),s===ae&&(Ot=ae=null,Vt=0),Ro=a,lr=s,Ts=l,Hm=p,qm=g,s0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,xA(Us,function(){return b0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,g=at.p,at.p=2,b=Xt,Xt|=4;try{fA(s,a,l)}finally{Xt=b,at.p=g,K.T=u}}ze=1,p0(),_0(),y0()}}function p0(){if(ze===1){ze=0;var s=lr,a=Ro,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=at.p;at.p=2;var g=Xt;Xt|=4;try{$v(a,s);var p=rg,b=ny(s.containerInfo),S=p.focusedElem,V=p.selectionRange;if(b!==S&&S&&S.ownerDocument&&ey(S.ownerDocument.documentElement,S)){if(V!==null&&Md(S)){var q=V.start,Z=V.end;if(Z===void 0&&(Z=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(Z,S.value.length);else{var nt=S.ownerDocument||document,G=nt&&nt.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ft=S.textContent.length,yt=Math.min(V.start,ft),re=V.end===void 0?yt:Math.min(V.end,ft);!Q.extend&&yt>re&&(b=re,re=yt,yt=b);var B=ty(S,yt),j=ty(S,re);if(B&&j&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var H=nt.createRange();H.setStart(B.node,B.offset),Q.removeAllRanges(),yt>re?(Q.addRange(H),Q.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),Q.addRange(H))}}}}for(nt=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var tt=nt[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Nh=!!sg,rg=sg=null}finally{Xt=g,at.p=u,K.T=l}}s.current=a,ze=2}}function _0(){if(ze===2){ze=0;var s=lr,a=Ro,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=at.p;at.p=2;var g=Xt;Xt|=4;try{Gv(s,a.alternate,a)}finally{Xt=g,at.p=u,K.T=l}}ze=3}}function y0(){if(ze===4||ze===3){ze=0,hu();var s=lr,a=Ro,l=Ts,u=s0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ze=5:(ze=0,Ro=lr=null,v0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(or=null),ss(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ei,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=K.T,g=at.p,at.p=2,K.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var S=u[b];p(S.value,{componentStack:S.stack})}}finally{K.T=a,at.p=g}}(Ts&3)!==0&&Th(),ji(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Gm?nc++:(nc=0,Gm=s):nc=0,ic(0)}}function v0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ll(a)))}function Th(){return p0(),_0(),y0(),b0()}function b0(){if(ze!==5)return!1;var s=lr,a=Hm;Hm=0;var l=ss(Ts),u=K.T,g=at.p;try{at.p=32>l?32:l,K.T=null,l=qm,qm=null;var p=lr,b=Ts;if(ze=0,Ro=lr=null,Ts=0,(Xt&6)!==0)throw Error(i(331));var S=Xt;if(Xt|=4,e0(p.current),Zv(p,p.current,b,l),Xt=S,ic(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ei,p)}catch{}return!0}finally{at.p=g,K.T=u,v0(s,a)}}function T0(s,a,l){a=jn(l,a),a=xm(s.stateNode,a,2),s=er(s,a,2),s!==null&&(Hr(s,2),ji(s))}function Jt(s,a,l){if(s.tag===3)T0(s,s,l);else for(;a!==null;){if(a.tag===3){T0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(or===null||!or.has(u))){s=jn(l,s),l=Ev(2),u=er(a,l,2),u!==null&&(xv(l,u,a,s),Hr(u,2),ji(u));break}}a=a.return}}function Xm(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new gA;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(jm=!0,g.add(l),s=bA.bind(null,s,a,l),a.then(s,s))}function bA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Vt&l)===l&&(_e===4||_e===3&&(Vt&62914560)===Vt&&300>fn()-gh?(Xt&2)===0&&Co(s,0):Bm|=l,Ao===Vt&&(Ao=0)),ji(s)}function E0(s,a){a===0&&(a=_u()),s=ia(s,a),s!==null&&(Hr(s,a),ji(s))}function TA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),E0(s,l)}function EA(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),E0(s,l)}function xA(s,a){return Le(s,a)}var Eh=null,Mo=null,Qm=!1,xh=!1,$m=!1,ur=0;function ji(s){s!==Mo&&s.next===null&&(Mo===null?Eh=Mo=s:Mo=Mo.next=s),xh=!0,Qm||(Qm=!0,wA())}function ic(s,a){if(!$m&&xh){$m=!0;do for(var l=!1,u=Eh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var b=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-ve(42|s)+1)-1,p&=g&~(b&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,A0(u,p))}else p=Vt,p=Ei(u,u===ae?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ni(u,p)||(l=!0,A0(u,p));u=u.next}while(l);$m=!1}}function SA(){x0()}function x0(){xh=Qm=!1;var s=0;ur!==0&&VA()&&(s=ur);for(var a=fn(),l=null,u=Eh;u!==null;){var g=u.next,p=S0(u,a);p===0?(u.next=null,l===null?Eh=g:l.next=g,g===null&&(Mo=l)):(l=u,(s!==0||(p&3)!==0)&&(xh=!0)),u=g}ze!==0&&ze!==5||ic(s),ur!==0&&(ur=0)}function S0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-ve(p),S=1<<b,V=g[b];V===-1?((S&l)===0||(S&u)!==0)&&(g[b]=wd(S,a)):V<=a&&(s.expiredLanes|=S),p&=~S}if(a=ae,l=Vt,l=Ei(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&zs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ni(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&zs(u),ss(l)){case 2:case 8:l=dl;break;case 32:l=Us;break;case 268435456:l=fu;break;default:l=Us}return u=w0.bind(null,s),l=Le(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&zs(u),s.callbackPriority=2,s.callbackNode=null,2}function w0(s,a){if(ze!==0&&ze!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Th()&&s.callbackNode!==l)return null;var u=Vt;return u=Ei(s,s===ae?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(a0(s,u,a),S0(s,fn()),s.callbackNode!=null&&s.callbackNode===l?w0.bind(null,s):null)}function A0(s,a){if(Th())return null;a0(s,a,!0)}function wA(){LA(function(){(Xt&6)!==0?Le(fl,SA):x0()})}function Wm(){if(ur===0){var s=go;s===0&&(s=bi,bi<<=1,(bi&261888)===0&&(bi=256)),ur=s}return ur}function R0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ja(""+s)}function C0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function AA(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=R0((g[qe]||null).action),b=u.submitter;b&&(a=(a=b[qe]||null)?R0(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var S=new Ni("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ur!==0){var V=b?C0(g,b):new FormData(g);_m(l,{pending:!0,data:V,method:g.method,action:p},null,V)}}else typeof p=="function"&&(S.preventDefault(),V=b?C0(g,b):new FormData(g),_m(l,{pending:!0,data:V,method:g.method,action:p},p,V))},currentTarget:g}]})}}for(var Zm=0;Zm<kd.length;Zm++){var Jm=kd[Zm],RA=Jm.toLowerCase(),CA=Jm[0].toUpperCase()+Jm.slice(1);ui(RA,"on"+CA)}ui(ry,"onAnimationEnd"),ui(ay,"onAnimationIteration"),ui(oy,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(qw,"onTransitionRun"),ui(Gw,"onTransitionStart"),ui(Yw,"onTransitionCancel"),ui(ly,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function I0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var b=u.length-1;0<=b;b--){var S=u[b],V=S.instance,q=S.currentTarget;if(S=S.listener,V!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=q;try{p(g)}catch(Z){zu(Z)}g.currentTarget=null,p=V}else for(b=0;b<u.length;b++){if(S=u[b],V=S.instance,q=S.currentTarget,S=S.listener,V!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=q;try{p(g)}catch(Z){zu(Z)}g.currentTarget=null,p=V}}}}function Nt(s,a){var l=a[Xa];l===void 0&&(l=a[Xa]=new Set);var u=s+"__bubble";l.has(u)||(M0(a,s,2,!1),l.add(u))}function tg(s,a,l){var u=0;a&&(u|=4),M0(l,s,u,a)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function eg(s){if(!s[Sh]){s[Sh]=!0,pl.forEach(function(l){l!=="selectionchange"&&(IA.has(l)||tg(l,!1,s),tg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Sh]||(a[Sh]=!0,tg("selectionchange",!1,a))}}function M0(s,a,l,u){switch(rb(a)){case 2:var g=iR;break;case 8:g=sR;break;default:g=pg}l=g.bind(null,a,l,s),g=void 0,!Qr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function ng(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===g)break;if(b===4)for(b=u.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;S!==null;){if(b=Ai(S),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){u=p=b;continue t}S=S.parentNode}}u=u.return}Gs(function(){var q=p,Z=Pn(l),nt=[];t:{var G=cy.get(s);if(G!==void 0){var Q=Ni,ft=s;switch(s){case"keypress":if(Wr(l)===0)break t;case"keydown":case"keyup":Q=Vu;break;case"focusin":ft="focus",Q=Jr;break;case"focusout":ft="blur",Q=Jr;break;case"beforeblur":case"afterblur":Q=Jr;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v;break;case ry:case ay:case oy:Q=Cu;break;case ly:Q=A;break;case"scroll":case"scrollend":Q=Cl;break;case"wheel":Q=X;break;case"copy":case"cut":case"paste":Q=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=os;break;case"toggle":case"beforetoggle":Q=Rt}var yt=(a&4)!==0,re=!yt&&(s==="scroll"||s==="scrollend"),B=yt?G!==null?G+"Capture":null:G;yt=[];for(var j=q,H;j!==null;){var tt=j;if(H=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||H===null||B===null||(tt=ai(j,B),tt!=null&&yt.push(rc(j,tt,H))),re)break;j=j.return}0<yt.length&&(G=new Q(G,ft,null,l,Z),nt.push({event:G,listeners:yt}))}}if((a&7)===0){t:{if(G=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",G&&l!==wl&&(ft=l.relatedTarget||l.fromElement)&&(Ai(ft)||ft[Si]))break t;if((Q||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ft=l.relatedTarget||l.toElement,Q=q,ft=ft?Ai(ft):null,ft!==null&&(re=o(ft),yt=ft.tag,ft!==re||yt!==5&&yt!==27&&yt!==6)&&(ft=null)):(Q=null,ft=q),Q!==ft)){if(yt=Il,tt="onMouseLeave",B="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(yt=os,tt="onPointerLeave",B="onPointerEnter",j="pointer"),re=Q==null?G:wn(Q),H=ft==null?G:wn(ft),G=new yt(tt,j+"leave",Q,l,Z),G.target=re,G.relatedTarget=H,tt=null,Ai(Z)===q&&(yt=new yt(B,j+"enter",ft,l,Z),yt.target=H,yt.relatedTarget=re,tt=yt),re=tt,Q&&ft)e:{for(yt=MA,B=Q,j=ft,H=0,tt=B;tt;tt=yt(tt))H++;tt=0;for(var gt=j;gt;gt=yt(gt))tt++;for(;0<H-tt;)B=yt(B),H--;for(;0<tt-H;)j=yt(j),tt--;for(;H--;){if(B===j||j!==null&&B===j.alternate){yt=B;break e}B=yt(B),j=yt(j)}yt=null}else yt=null;Q!==null&&D0(nt,G,Q,yt,!1),ft!==null&&re!==null&&D0(nt,re,ft,yt,!0)}}t:{if(G=q?wn(q):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Gt=X_;else if(Y_(G))if(Q_)Gt=Bw;else{Gt=Uw;var dt=zw}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Za(q.elementType)&&(Gt=X_):Gt=jw;if(Gt&&(Gt=Gt(s,q))){K_(nt,Gt,l,Z);break t}dt&&dt(s,G,q),s==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&El(G,"number",G.value)}switch(dt=q?wn(q):window,s){case"focusin":(Y_(dt)||dt.contentEditable==="true")&&(ao=dt,Dd=q,kl=null);break;case"focusout":kl=Dd=ao=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,iy(nt,l,Z);break;case"selectionchange":if(Hw)break;case"keydown":case"keyup":iy(nt,l,Z)}var It;if(Kt)t:{switch(s){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else ro?ta(s,l)&&(Pt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Pt="onCompositionStart");Pt&&(Pi&&l.locale!=="ko"&&(ro||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ro&&(It=Rl()):(Oi=Z,Al="value"in Oi?Oi.value:Oi.textContent,ro=!0)),dt=wh(q,Pt),0<dt.length&&(Pt=new Vi(Pt,s,null,l,Z),nt.push({event:Pt,listeners:dt}),It?Pt.data=It:(It=so(l),It!==null&&(Pt.data=It)))),(It=zn?kw(s,l):Vw(s,l))&&(Pt=wh(q,"onBeforeInput"),0<Pt.length&&(dt=new Vi("onBeforeInput","beforeinput",null,l,Z),nt.push({event:dt,listeners:Pt}),dt.data=It)),AA(nt,s,q,l,Z)}I0(nt,a)})}function rc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function wh(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=ai(s,l),g!=null&&u.unshift(rc(s,g,p)),g=ai(s,a),g!=null&&u.push(rc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function MA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function D0(s,a,l,u,g){for(var p=a._reactName,b=[];l!==null&&l!==u;){var S=l,V=S.alternate,q=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||q===null||(V=q,g?(q=ai(l,p),q!=null&&b.unshift(rc(l,q,V))):g||(q=ai(l,p),q!=null&&b.push(rc(l,q,V)))),l=l.return}b.length!==0&&s.push({event:a,listeners:b})}var DA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function O0(s){return(typeof s=="string"?s:""+s).replace(DA,`
`).replace(OA,"")}function N0(s,a){return a=O0(a),O0(s)===a}function se(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||pn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&pn(s,""+u);break;case"className":An(s,"class",u);break;case"tabIndex":An(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(s,l,u);break;case"style":Sl(s,u,p);break;case"data":if(a!=="object"){An(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Ja(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&se(s,a,"name",g.name,g,null),se(s,a,"formEncType",g.formEncType,g,null),se(s,a,"formMethod",g.formMethod,g,null),se(s,a,"formTarget",g.formTarget,g,null)):(se(s,a,"encType",g.encType,g,null),se(s,a,"method",g.method,g,null),se(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Ja(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=ri);break;case"onScroll":u!=null&&Nt("scroll",s);break;case"onScrollEnd":u!=null&&Nt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Ja(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Nt("beforetoggle",s),Nt("toggle",s),$a(s,"popover",u);break;case"xlinkActuate":Ie(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$a(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=wu.get(l)||l,$a(s,l,u))}}function ig(s,a,l,u,g,p){switch(l){case"style":Sl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?pn(s,u):(typeof u=="number"||typeof u=="bigint")&&pn(s,""+u);break;case"onScroll":u!=null&&Nt("scroll",s);break;case"onScrollEnd":u!=null&&Nt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[qe]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):$a(s,l,u)}}}function Je(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",s),Nt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,p,b,l,null)}}g&&se(s,a,"srcSet",l.srcSet,l,null),u&&se(s,a,"src",l.src,l,null);return;case"input":Nt("invalid",s);var S=p=b=g=null,V=null,q=null;for(u in l)if(l.hasOwnProperty(u)){var Z=l[u];if(Z!=null)switch(u){case"name":g=Z;break;case"type":b=Z;break;case"checked":V=Z;break;case"defaultChecked":q=Z;break;case"value":p=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:se(s,a,u,Z,l,null)}}Eu(s,p,S,V,q,b,g,!1);return;case"select":Nt("invalid",s),u=b=p=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:se(s,a,g,S,l,null)}a=p,l=b,s.multiple=!!u,a!=null?Bs(s,!!u,a,!1):l!=null&&Bs(s,!!u,l,!0);return;case"textarea":Nt("invalid",s),p=g=u=null;for(b in l)if(l.hasOwnProperty(b)&&(S=l[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:se(s,a,b,S,l,null)}Fs(s,u,g,p);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:se(s,a,V,u,l,null)}return;case"dialog":Nt("beforetoggle",s),Nt("toggle",s),Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":Nt("load",s);break;case"video":case"audio":for(u=0;u<sc.length;u++)Nt(sc[u],s);break;case"image":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"embed":case"source":case"link":Nt("error",s),Nt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(u=l[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,q,u,l,null)}return;default:if(Za(a)){for(Z in l)l.hasOwnProperty(Z)&&(u=l[Z],u!==void 0&&ig(s,a,Z,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&se(s,a,S,u,l,null))}function NA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,b=null,S=null,V=null,q=null,Z=null;for(Q in l){var nt=l[Q];if(l.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=nt;default:u.hasOwnProperty(Q)||se(s,a,Q,null,u,nt)}}for(var G in u){var Q=u[G];if(nt=l[G],u.hasOwnProperty(G)&&(Q!=null||nt!=null))switch(G){case"type":p=Q;break;case"name":g=Q;break;case"checked":q=Q;break;case"defaultChecked":Z=Q;break;case"value":b=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==nt&&se(s,a,G,Q,u,nt)}}Wa(s,b,S,V,q,Z,p,g);return;case"select":Q=b=S=G=null;for(p in l)if(V=l[p],l.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":Q=V;default:u.hasOwnProperty(p)||se(s,a,p,null,u,V)}for(g in u)if(p=u[g],V=l[g],u.hasOwnProperty(g)&&(p!=null||V!=null))switch(g){case"value":G=p;break;case"defaultValue":S=p;break;case"multiple":b=p;default:p!==V&&se(s,a,g,p,u,V)}a=S,l=b,u=Q,G!=null?Bs(s,!!l,G,!1):!!u!=!!l&&(a!=null?Bs(s,!!l,a,!0):Bs(s,!!l,l?[]:"",!1));return;case"textarea":Q=G=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(s,a,S,null,u,g)}for(b in u)if(g=u[b],p=l[b],u.hasOwnProperty(b)&&(g!=null||p!=null))switch(b){case"value":G=g;break;case"defaultValue":Q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&se(s,a,b,g,u,p)}xu(s,G,Q);return;case"option":for(var ft in l)if(G=l[ft],l.hasOwnProperty(ft)&&G!=null&&!u.hasOwnProperty(ft))switch(ft){case"selected":s.selected=!1;break;default:se(s,a,ft,null,u,G)}for(V in u)if(G=u[V],Q=l[V],u.hasOwnProperty(V)&&G!==Q&&(G!=null||Q!=null))switch(V){case"selected":s.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:se(s,a,V,G,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in l)G=l[yt],l.hasOwnProperty(yt)&&G!=null&&!u.hasOwnProperty(yt)&&se(s,a,yt,null,u,G);for(q in u)if(G=u[q],Q=l[q],u.hasOwnProperty(q)&&G!==Q&&(G!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:se(s,a,q,G,u,Q)}return;default:if(Za(a)){for(var re in l)G=l[re],l.hasOwnProperty(re)&&G!==void 0&&!u.hasOwnProperty(re)&&ig(s,a,re,void 0,u,G);for(Z in u)G=u[Z],Q=l[Z],!u.hasOwnProperty(Z)||G===Q||G===void 0&&Q===void 0||ig(s,a,Z,G,u,Q);return}}for(var B in l)G=l[B],l.hasOwnProperty(B)&&G!=null&&!u.hasOwnProperty(B)&&se(s,a,B,null,u,G);for(nt in u)G=u[nt],Q=l[nt],!u.hasOwnProperty(nt)||G===Q||G==null&&Q==null||se(s,a,nt,G,u,Q)}function k0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kA(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,b=g.initiatorType,S=g.duration;if(p&&S&&k0(b)){for(b=0,S=g.responseEnd,u+=1;u<l.length;u++){var V=l[u],q=V.startTime;if(q>S)break;var Z=V.transferSize,nt=V.initiatorType;Z&&k0(nt)&&(V=V.responseEnd,b+=Z*(V<S?1:(S-q)/(V-q)))}if(--u,a+=8*(p+b)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var sg=null,rg=null;function Ah(s){return s.nodeType===9?s:s.ownerDocument}function V0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function ag(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var og=null;function VA(){var s=window.event;return s&&s.type==="popstate"?s===og?!1:(og=s,!0):(og=null,!1)}var L0=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,LA=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(s){return z0.resolve(null).then(s).catch(zA)}:L0;function zA(s){setTimeout(function(){throw s})}function hr(s){return s==="head"}function U0(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),ko(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")ac(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,ac(l);for(var p=l.firstChild;p;){var b=p.nextSibling,S=p.nodeName;p[wi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&ac(s.ownerDocument.body);l=g}while(l);ko(a)}function j0(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function lg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":lg(l),Qa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function UA(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[wi])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Gn(s.nextSibling),s===null)break}return null}function jA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Gn(s.nextSibling),s===null))return null;return s}function B0(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Gn(s.nextSibling),s===null))return null;return s}function cg(s){return s.data==="$?"||s.data==="$~"}function ug(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function BA(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Gn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var hg=null;function F0(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Gn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function H0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function q0(s,a,l){switch(a=Ah(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ac(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Qa(s)}var Yn=new Map,G0=new Set;function Rh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Es=at.d;at.d={f:FA,r:HA,D:qA,C:GA,L:YA,m:KA,X:QA,S:XA,M:$A};function FA(){var s=Es.f(),a=yh();return s||a}function HA(s){var a=Vn(s);a!==null&&a.tag===5&&a.type==="form"?lv(a):Es.r(s)}var Do=typeof document>"u"?null:document;function Y0(s,a,l){var u=Do;if(u&&typeof a=="string"&&a){var g=gn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),G0.has(g)||(G0.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Je(a,"link",s),Ce(a),u.head.appendChild(a)))}}function qA(s){Es.D(s),Y0("dns-prefetch",s,null)}function GA(s,a){Es.C(s,a),Y0("preconnect",s,a)}function YA(s,a,l){Es.L(s,a,l);var u=Do;if(u&&s&&a){var g='link[rel="preload"][as="'+gn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+gn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+gn(l.imageSizes)+'"]')):g+='[href="'+gn(s)+'"]';var p=g;switch(a){case"style":p=Oo(s);break;case"script":p=No(s)}Yn.has(p)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Yn.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(oc(p))||a==="script"&&u.querySelector(lc(p))||(a=u.createElement("link"),Je(a,"link",s),Ce(a),u.head.appendChild(a)))}}function KA(s,a){Es.m(s,a);var l=Do;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=No(s)}if(!Yn.has(p)&&(s=y({rel:"modulepreload",href:s},a),Yn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(lc(p)))return}u=l.createElement("link"),Je(u,"link",s),Ce(u),l.head.appendChild(u)}}}function XA(s,a,l){Es.S(s,a,l);var u=Do;if(u&&s){var g=Ri(u).hoistableStyles,p=Oo(s);a=a||"default";var b=g.get(p);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(oc(p)))S.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Yn.get(p))&&fg(s,l);var V=b=u.createElement("link");Ce(V),Je(V,"link",s),V._p=new Promise(function(q,Z){V.onload=q,V.onerror=Z}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ch(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:S},g.set(p,b)}}}function QA(s,a){Es.X(s,a);var l=Do;if(l&&s){var u=Ri(l).hoistableScripts,g=No(s),p=u.get(g);p||(p=l.querySelector(lc(g)),p||(s=y({src:s,async:!0},a),(a=Yn.get(g))&&dg(s,a),p=l.createElement("script"),Ce(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function $A(s,a){Es.M(s,a);var l=Do;if(l&&s){var u=Ri(l).hoistableScripts,g=No(s),p=u.get(g);p||(p=l.querySelector(lc(g)),p||(s=y({src:s,async:!0,type:"module"},a),(a=Yn.get(g))&&dg(s,a),p=l.createElement("script"),Ce(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function K0(s,a,l,u){var g=(g=bt.current)?Rh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Oo(l.href),l=Ri(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Oo(l.href);var p=Ri(g).hoistableStyles,b=p.get(s);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=g.querySelector(oc(s)))&&!p._p&&(b.instance=p,b.state.loading=5),Yn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Yn.set(s,l),p||WA(g,s,l,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=No(l),l=Ri(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Oo(s){return'href="'+gn(s)+'"'}function oc(s){return'link[rel="stylesheet"]['+s+"]"}function X0(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function WA(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Je(a,"link",l),Ce(a),s.head.appendChild(a))}function No(s){return'[src="'+gn(s)+'"]'}function lc(s){return"script[async]"+s}function Q0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+gn(l.href)+'"]');if(u)return a.instance=u,Ce(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ce(u),Je(u,"style",g),Ch(u,l.precedence,s),a.instance=u;case"stylesheet":g=Oo(l.href);var p=s.querySelector(oc(g));if(p)return a.state.loading|=4,a.instance=p,Ce(p),p;u=X0(l),(g=Yn.get(g))&&fg(u,g),p=(s.ownerDocument||s).createElement("link"),Ce(p);var b=p;return b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),Je(p,"link",u),a.state.loading|=4,Ch(p,l.precedence,s),a.instance=p;case"script":return p=No(l.src),(g=s.querySelector(lc(p)))?(a.instance=g,Ce(g),g):(u=l,(g=Yn.get(p))&&(u=y({},l),dg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ce(g),Je(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Ch(u,l.precedence,s));return a.instance}function Ch(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===a)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function fg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function dg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Ih=null;function $0(s,a,l){if(Ih===null){var u=new Map,g=Ih=new Map;g.set(l,u)}else g=Ih,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[wi]||p[Re]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=s+b;var S=u.get(b);S?S.push(p):u.set(b,[p])}}return u}function W0(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function ZA(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Z0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function JA(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Oo(u.href),p=a.querySelector(oc(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Mh.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ce(p);return}p=a.ownerDocument||a,u=X0(u),(g=Yn.get(g))&&fg(u,g),p=p.createElement("link"),Ce(p);var b=p;b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),Je(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Mh.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var mg=0;function tR(s,a){return s.stylesheets&&s.count===0&&Oh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Oh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&mg===0&&(mg=62500*kA());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Oh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>mg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Dh=null;function Oh(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Dh=new Map,a.forEach(eR,s),Dh=null,Mh.call(s))}function eR(s,a){if(!(a.state.loading&4)){var l=Dh.get(s);if(l)var u=l.get(null);else{l=new Map,Dh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var b=g[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}g=a.instance,b=g.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,g),l.set(b,g),this.count++,u=Mh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var cc={$$typeof:$,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function nR(s,a,l,u,g,p,b,S,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function J0(s,a,l,u,g,p,b,S,V,q,Z,nt){return s=new nR(s,a,l,b,V,q,Z,nt,S),a=1,p===!0&&(a|=24),p=Cn(3,null,null,a),s.current=p,p.stateNode=s,a=Kd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Wd(p),s}function tb(s){return s?(s=co,s):co}function eb(s,a,l,u,g,p){g=tb(g),u.context===null?u.context=g:u.pendingContext=g,u=tr(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=er(s,u,a),l!==null&&(Tn(l,s,a),Bl(l,s,a))}function nb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function gg(s,a){nb(s,a),(s=s.alternate)&&nb(s,a)}function ib(s){if(s.tag===13||s.tag===31){var a=ia(s,67108864);a!==null&&Tn(a,s,67108864),gg(s,67108864)}}function sb(s){if(s.tag===13||s.tag===31){var a=Nn();a=Gr(a);var l=ia(s,a);l!==null&&Tn(l,s,a),gg(s,a)}}var Nh=!0;function iR(s,a,l,u){var g=K.T;K.T=null;var p=at.p;try{at.p=2,pg(s,a,l,u)}finally{at.p=p,K.T=g}}function sR(s,a,l,u){var g=K.T;K.T=null;var p=at.p;try{at.p=8,pg(s,a,l,u)}finally{at.p=p,K.T=g}}function pg(s,a,l,u){if(Nh){var g=_g(u);if(g===null)ng(s,a,u,kh,l),ab(s,u);else if(aR(g,s,a,l,u))u.stopPropagation();else if(ab(s,u),a&4&&-1<rR.indexOf(s)){for(;g!==null;){var p=Vn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Ti(p.pendingLanes);if(b!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var V=1<<31-ve(b);S.entanglements[1]|=V,b&=~V}ji(p),(Xt&6)===0&&(ph=fn()+500,ic(0))}}break;case 31:case 13:S=ia(p,2),S!==null&&Tn(S,p,2),yh(),gg(p,2)}if(p=_g(u),p===null&&ng(s,a,u,kh,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else ng(s,a,u,null,l)}}function _g(s){return s=Pn(s),yg(s)}var kh=null;function yg(s){if(kh=null,s=Ai(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return kh=s,null}function rb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case fl:return 2;case dl:return 8;case Us:case Sd:return 32;case fu:return 268435456;default:return 32}default:return 32}}var vg=!1,fr=null,dr=null,mr=null,uc=new Map,hc=new Map,gr=[],rR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ab(s,a){switch(s){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":uc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(a.pointerId)}}function fc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Vn(a),a!==null&&ib(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function aR(s,a,l,u,g){switch(a){case"focusin":return fr=fc(fr,s,a,l,u,g),!0;case"dragenter":return dr=fc(dr,s,a,l,u,g),!0;case"mouseover":return mr=fc(mr,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return uc.set(p,fc(uc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,hc.set(p,fc(hc.get(p)||null,s,a,l,u,g)),!0}return!1}function ob(s){var a=Ai(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,ii(s.priority,function(){sb(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,ii(s.priority,function(){sb(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=_g(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);wl=u,l.target.dispatchEvent(u),wl=null}else return a=Vn(l),a!==null&&ib(a),s.blockedOn=l,!1;a.shift()}return!0}function lb(s,a,l){Vh(s)&&l.delete(a)}function oR(){vg=!1,fr!==null&&Vh(fr)&&(fr=null),dr!==null&&Vh(dr)&&(dr=null),mr!==null&&Vh(mr)&&(mr=null),uc.forEach(lb),hc.forEach(lb)}function Ph(s,a){s.blockedOn===a&&(s.blockedOn=null,vg||(vg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oR)))}var Lh=null;function cb(s){Lh!==s&&(Lh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lh===s&&(Lh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(yg(u||l)===null)continue;break}var p=Vn(l);p!==null&&(s.splice(a,3),a-=3,_m(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function ko(s){function a(V){return Ph(V,s)}fr!==null&&Ph(fr,s),dr!==null&&Ph(dr,s),mr!==null&&Ph(mr,s),uc.forEach(a),hc.forEach(a);for(var l=0;l<gr.length;l++){var u=gr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<gr.length&&(l=gr[0],l.blockedOn===null);)ob(l),l.blockedOn===null&&gr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],b=g[qe]||null;if(typeof p=="function")b||cb(l);else if(b){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,b=p[qe]||null)S=b.formAction;else if(yg(g)!==null)continue}else S=b.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),cb(l)}}}function ub(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return g=b})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function bg(s){this._internalRoot=s}zh.prototype.render=bg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Nn();eb(l,u,s,a,null,null)},zh.prototype.unmount=bg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;eb(s.current,2,null,s,null,null),yh(),a[Si]=null}};function zh(s){this._internalRoot=s}zh.prototype.unstable_scheduleHydration=function(s){if(s){var a=yu();s={blockedOn:null,target:s,priority:a};for(var l=0;l<gr.length&&a!==0&&a<gr[l].priority;l++);gr.splice(l,0,s),l===0&&ob(s)}};var hb=t.version;if(hb!=="19.2.0")throw Error(i(527,hb,"19.2.0"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var lR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{ei=Uh.inject(lR),Xe=Uh}catch{}}return mc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=yv,p=vv,b=bv;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=J0(s,1,!1,null,null,l,u,null,g,p,b,ub),s[Si]=a.current,eg(s),new bg(a)},mc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=yv,b=vv,S=bv,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),a=J0(s,1,!0,a,l??null,u,g,V,p,b,S,ub),a.context=tb(null),l=a.current,u=Nn(),u=Gr(u),g=tr(u),g.callback=null,er(l,g,u),l=u,a.current.lanes=l,Hr(a,l),ji(a),s[Si]=a.current,eg(s),new zh(a)},mc.version="19.2.0",mc}var Tb;function vR(){if(Tb)return xg.exports;Tb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),xg.exports=yR(),xg.exports}var bR=vR();function mx({isDark:n,setIsDark:t}){return N.jsx("div",{className:`flex flex-row items-center justify-center
        `,title:"Switch Theme",onClick:()=>t(e=>!e),children:N.jsx("i",{className:n?"bx bx-sun bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--light-color)] hovered":"bx bx-moon bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--dark-color)] hovered"})})}const Mp="/DriveSense/assets/dark-icon-B2t9_VsN.png",Tf="/DriveSense/assets/light-icon-CCshSbAW.png";function yi(n=768){const[t,e]=Ht.useState(typeof window<"u"?window.innerWidth<n:!1);return Ht.useEffect(()=>{const i=()=>{e(window.innerWidth<n)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),t}const TR=()=>{};var Eb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},ER=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,m=f?n[r+2]:0,_=o>>2,y=(o&3)<<4|h>>4;let T=(h&15)<<2|m>>6,x=m&63;f||(x=64,c||(T=64)),i.push(e[_],e[y],e[T],e[x])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(gx(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):ER(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||y==null)throw new xR;const T=o<<2|h>>4;if(i.push(T),m!==64){const x=h<<4&240|m>>2;if(i.push(x),y!==64){const R=m<<6&192|y;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SR=function(n){const t=gx(n);return px.encodeByteArray(t,!0)},Ef=function(n){return SR(n).replace(/\./g,"")},_x=function(n){try{return px.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=()=>wR().__FIREBASE_DEFAULTS__,RR=()=>{if(typeof process>"u"||typeof Eb>"u")return;const n=Eb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},CR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&_x(n[1]);return t&&JSON.parse(t)},Wf=()=>{try{return TR()||AR()||RR()||CR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yx=n=>Wf()?.emulatorHosts?.[n],vx=n=>{const t=yx(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},bx=()=>Wf()?.config,Tx=n=>Wf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ef(JSON.stringify(e)),Ef(JSON.stringify(c)),""].join(".")}const Rc={};function MR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Rc))Rc[t]?n.emulator.push(t):n.prod.push(t);return n}function DR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let xb=!1;function Op(n,t){if(typeof window>"u"||typeof document>"u"||!Pa(window.location.host)||Rc[n]===t||Rc[n]||xb)return;Rc[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=MR().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{xb=!0,c()},T}function _(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function y(){const T=DR(i),x=e("text"),R=document.getElementById(x)||document.createElement("span"),C=e("learnmore"),I=document.getElementById(C)||document.createElement("a"),L=e("preprendIcon"),Y=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const $=T.element;h($),_(I,C);const et=m();f(Y,L),$.append(Y,R,I,et),document.body.appendChild($)}o?(R.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function NR(){const n=Wf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LR(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zR(){return!NR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UR(){try{return typeof indexedDB=="object"}catch{return!1}}function jR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="FirebaseError";class ns extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=BR,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?FR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new ns(r,h,i)}}function FR(n,t){return n.replace(HR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const HR=/\{\$([^}]+)}/g;function qR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ca(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(Sb(o)&&Sb(c)){if(!Ca(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Sb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function GR(n,t){const e=new YR(n,t);return e.subscribe.bind(e)}class YR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");KR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Rg),r.error===void 0&&(r.error=Rg),r.complete===void 0&&(r.complete=Rg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(n){return n&&n._delegate?n._delegate:n}class Dr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new IR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($R(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QR(n){return n===va?void 0:n}function $R(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new XR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const ZR={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},JR=Lt.INFO,tC={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},eC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=tC[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Np{constructor(t){this.name=t,this._logLevel=JR,this._logHandler=eC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ZR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const nC=(n,t)=>t.some(e=>n instanceof e);let wb,Ab;function iC(){return wb||(wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sC(){return Ab||(Ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xx=new WeakMap,Zg=new WeakMap,Sx=new WeakMap,Cg=new WeakMap,kp=new WeakMap;function rC(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Ar(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&xx.set(e,n)}).catch(()=>{}),kp.set(t,n),t}function aC(n){if(Zg.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Zg.set(n,t)}let Jg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Zg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Sx.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ar(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function oC(n){Jg=n(Jg)}function lC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Ig(this),t,...e);return Sx.set(i,t.sort?t.sort():[t]),Ar(i)}:sC().includes(n)?function(...t){return n.apply(Ig(this),t),Ar(xx.get(this))}:function(...t){return Ar(n.apply(Ig(this),t))}}function cC(n){return typeof n=="function"?lC(n):(n instanceof IDBTransaction&&aC(n),nC(n,iC())?new Proxy(n,Jg):n)}function Ar(n){if(n instanceof IDBRequest)return rC(n);if(Cg.has(n))return Cg.get(n);const t=cC(n);return t!==n&&(Cg.set(n,t),kp.set(t,n)),t}const Ig=n=>kp.get(n);function uC(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Ar(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Ar(c.result),f.oldVersion,f.newVersion,Ar(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const hC=["get","getKey","getAll","getAllKeys","count"],fC=["put","add","delete","clear"],Mg=new Map;function Rb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Mg.get(t))return Mg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=fC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||hC.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&f.done]))[0]};return Mg.set(t,o),o}oC(n=>({...n,get:(t,e,i)=>Rb(t,e)||n.get(t,e,i),has:(t,e)=>!!Rb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(mC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function mC(n){return n.getComponent()?.type==="VERSION"}const tp="@firebase/app",Cb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Np("@firebase/app"),gC="@firebase/app-compat",pC="@firebase/analytics-compat",_C="@firebase/analytics",yC="@firebase/app-check-compat",vC="@firebase/app-check",bC="@firebase/auth",TC="@firebase/auth-compat",EC="@firebase/database",xC="@firebase/data-connect",SC="@firebase/database-compat",wC="@firebase/functions",AC="@firebase/functions-compat",RC="@firebase/installations",CC="@firebase/installations-compat",IC="@firebase/messaging",MC="@firebase/messaging-compat",DC="@firebase/performance",OC="@firebase/performance-compat",NC="@firebase/remote-config",kC="@firebase/remote-config-compat",VC="@firebase/storage",PC="@firebase/storage-compat",LC="@firebase/firestore",zC="@firebase/ai",UC="@firebase/firestore-compat",jC="firebase",BC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",FC={[tp]:"fire-core",[gC]:"fire-core-compat",[_C]:"fire-analytics",[pC]:"fire-analytics-compat",[vC]:"fire-app-check",[yC]:"fire-app-check-compat",[bC]:"fire-auth",[TC]:"fire-auth-compat",[EC]:"fire-rtdb",[xC]:"fire-data-connect",[SC]:"fire-rtdb-compat",[wC]:"fire-fn",[AC]:"fire-fn-compat",[RC]:"fire-iid",[CC]:"fire-iid-compat",[IC]:"fire-fcm",[MC]:"fire-fcm-compat",[DC]:"fire-perf",[OC]:"fire-perf-compat",[NC]:"fire-rc",[kC]:"fire-rc-compat",[VC]:"fire-gcs",[PC]:"fire-gcs-compat",[LC]:"fire-fst",[UC]:"fire-fst-compat",[zC]:"fire-vertex","fire-js":"fire-js",[jC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Map,HC=new Map,np=new Map;function Ib(n,t){try{n.container.addComponent(t)}catch(e){Ns.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ia(n){const t=n.name;if(np.has(t))return Ns.debug(`There were multiple attempts to register component ${t}.`),!1;np.set(t,n);for(const e of xf.values())Ib(e,n);for(const e of HC.values())Ib(e,n);return!0}function Zf(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new tu("app","Firebase",qC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=BC;function wx(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:ep,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Rr.create("bad-app-name",{appName:String(r)});if(e||(e=bx()),!e)throw Rr.create("no-options");const o=xf.get(r);if(o){if(Ca(e,o.options)&&Ca(i,o.config))return o;throw Rr.create("duplicate-app",{appName:r})}const c=new WR(r);for(const f of np.values())c.addComponent(f);const h=new GC(e,i,c);return xf.set(r,h),h}function Vp(n=ep){const t=xf.get(n);if(!t&&n===ep&&bx())return wx();if(!t)throw Rr.create("no-app",{appName:n});return t}function Gi(n,t,e){let i=FC[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ns.warn(c.join(" "));return}Ia(new Dr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="firebase-heartbeat-database",KC=1,Lc="firebase-heartbeat-store";let Dg=null;function Ax(){return Dg||(Dg=uC(YC,KC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Lc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Rr.create("idb-open",{originalErrorMessage:n.message})})),Dg}async function XC(n){try{const e=(await Ax()).transaction(Lc),i=await e.objectStore(Lc).get(Rx(n));return await e.done,i}catch(t){if(t instanceof ns)Ns.warn(t.message);else{const e=Rr.create("idb-get",{originalErrorMessage:t?.message});Ns.warn(e.message)}}}async function Mb(n,t){try{const i=(await Ax()).transaction(Lc,"readwrite");await i.objectStore(Lc).put(t,Rx(n)),await i.done}catch(e){if(e instanceof ns)Ns.warn(e.message);else{const i=Rr.create("idb-set",{originalErrorMessage:e?.message});Ns.warn(i.message)}}}function Rx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=1024,$C=30;class WC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new JC(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Db();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>$C){const r=t2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Db(),{heartbeatsToSend:e,unsentEntries:i}=ZC(this._heartbeatsCache.heartbeats),r=Ef(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ns.warn(t),""}}}function Db(){return new Date().toISOString().substring(0,10)}function ZC(n,t=QC){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Ob(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Ob(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class JC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UR()?jR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await XC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Mb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Mb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Ob(n){return Ef(JSON.stringify({version:2,heartbeats:n})).length}function t2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n){Ia(new Dr("platform-logger",t=>new dC(t),"PRIVATE")),Ia(new Dr("heartbeat",t=>new WC(t),"PRIVATE")),Gi(tp,Cb,n),Gi(tp,Cb,"esm2020"),Gi("fire-js","")}e2("");var n2="firebase",i2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(n2,i2,"app");function Cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s2=Cx,Ix=new tu("auth","Firebase",Cx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Np("@firebase/auth");function r2(n,...t){Sf.logLevel<=Lt.WARN&&Sf.warn(`Auth (${La}): ${n}`,...t)}function cf(n,...t){Sf.logLevel<=Lt.ERROR&&Sf.error(`Auth (${La}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(n,...t){throw Lp(n,...t)}function _i(n,...t){return Lp(n,...t)}function Pp(n,t,e){const i={...s2(),[t]:e};return new tu("auth","Firebase",i).create(t,{appName:n.name})}function wa(n){return Pp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a2(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Zi(n,"argument-error"),Pp(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Ix.create(n,...t)}function xt(n,t,...e){if(!n)throw Lp(t,...e)}function Cs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw cf(t),new Error(t)}function ks(n,t){n||Cs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){return typeof self<"u"&&self.location?.href||""}function o2(){return Nb()==="http:"||Nb()==="https:"}function Nb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o2()||VR()||"connection"in navigator)?navigator.onLine:!0}function c2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ks(e>t,"Short delay should be less than long delay!"),this.isMobile=OR()||PR()}get(){return l2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n,t){ks(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f2=new nu(3e4,6e4);function Up(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function il(n,t,e,i,r={}){return Dx(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=eu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return kR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Pa(n.emulatorConfig.host)&&(m.credentials="include"),Mx.fetch()(await Ox(n,n.config.apiHost,e,h),m)})}async function Dx(n,t,e){n._canInitEmulator=!1;const i={...u2,...t};try{const r=new m2(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw jh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw jh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw jh(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Pp(n,_,m);Zi(n,_)}}catch(r){if(r instanceof ns)throw r;Zi(n,"network-request-failed",{message:String(r)})}}async function d2(n,t,e,i,r={}){const o=await il(n,t,e,i,r);return"mfaPendingCredential"in o&&Zi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Ox(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?zp(n.config,r):`${n.config.apiScheme}://${r}`;return h2.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class m2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(_i(this.auth,"network-request-failed")),f2.get())})}}function jh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=_i(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(n,t){return il(n,"POST","/v1/accounts:delete",t)}async function wf(n,t){return il(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function p2(n,t=!1){const e=Zn(n),i=await e.getIdToken(t),r=jp(i);xt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Cc(Og(r.auth_time)),issuedAtTime:Cc(Og(r.iat)),expirationTime:Cc(Og(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Og(n){return Number(n)*1e3}function jp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const r=_x(e);return r?JSON.parse(r):(cf("Failed to decode base64 JWT payload"),null)}catch(r){return cf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function kb(n){const t=jp(n);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ns&&_2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function _2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(n){const t=n.auth,e=await n.getIdToken(),i=await zc(n,wf(t,{idToken:e}));xt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?Nx(r.providerUserInfo):[],c=b2(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,m=h?f:!1,_={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new sp(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function v2(n){const t=Zn(n);await Af(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function b2(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Nx(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(n,t){const e=await Dx(n,{},async()=>{const i=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await Ox(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Pa(n.emulatorConfig.host)&&(f.credentials="include"),Mx.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function E2(n,t){return il(n,"POST","/v2/accounts:revokeToken",Up(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):kb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const e=kb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await T2(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Bo;return i&&(xt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(xt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(xt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(n,t){xt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class mi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new sp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await zc(this,this.stsTokenManager.getToken(this.auth,t));return xt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return p2(this,t)}reload(){return v2(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new mi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Af(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(wa(this.auth));const t=await this.getIdToken();return await zc(this,g2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:y,emailVerified:T,isAnonymous:x,providerData:R,stsTokenManager:C}=e;xt(y&&C,t,"internal-error");const I=Bo.fromJSON(this.name,C);xt(typeof y=="string",t,"internal-error"),_r(i,t.name),_r(r,t.name),xt(typeof T=="boolean",t,"internal-error"),xt(typeof x=="boolean",t,"internal-error"),_r(o,t.name),_r(c,t.name),_r(h,t.name),_r(f,t.name),_r(m,t.name),_r(_,t.name);const L=new mi({uid:y,auth:t,email:r,emailVerified:T,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:I,createdAt:m,lastLoginAt:_});return R&&Array.isArray(R)&&(L.providerData=R.map(Y=>({...Y}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(t,e,i=!1){const r=new Bo;r.updateFromServerResponse(e);const o=new mi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Af(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];xt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Nx(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Bo;h.updateFromIdToken(i);const f=new mi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new sp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Map;function Is(n){ks(n instanceof Function,"Expected a class definition");let t=Vb.get(n);return t?(ks(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Vb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}kx.type="NONE";const Pb=kx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(n,t,e){return`firebase:${n}:${t}:${e}`}class Fo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=uf(this.userKey,r.apiKey,o),this.fullPersistenceKey=uf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await wf(this.auth,{idToken:t}).catch(()=>{});return e?mi._fromGetAccountInfoResponse(this.auth,e,t):null}return mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Fo(Is(Pb),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Is(Pb);const c=uf(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const _=await m._get(c);if(_){let y;if(typeof _=="string"){const T=await wf(t,{idToken:_}).catch(()=>{});if(!T)break;y=await mi._fromGetAccountInfoResponse(t,T,_)}else y=mi._fromJSON(t,_);m!==o&&(h=y),o=m;break}}catch{}const f=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Fo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Fo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jx(t))return"Blackberry";if(Bx(t))return"Webos";if(Px(t))return"Safari";if((t.includes("chrome/")||Lx(t))&&!t.includes("edge/"))return"Chrome";if(Ux(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function Vx(n=hn()){return/firefox\//i.test(n)}function Px(n=hn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Lx(n=hn()){return/crios\//i.test(n)}function zx(n=hn()){return/iemobile/i.test(n)}function Ux(n=hn()){return/android/i.test(n)}function jx(n=hn()){return/blackberry/i.test(n)}function Bx(n=hn()){return/webos/i.test(n)}function Bp(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function x2(n=hn()){return Bp(n)&&!!window.navigator?.standalone}function S2(){return LR()&&document.documentMode===10}function Fx(n=hn()){return Bp(n)||Ux(n)||Bx(n)||jx(n)||/windows phone/i.test(n)||zx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(n,t=[]){let e;switch(n){case"Browser":e=Lb(hn());break;case"Worker":e=`${Lb(hn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${La}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(n,t={}){return il(n,"GET","/v2/passwordPolicy",Up(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=6;class C2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??R2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zb(this),this.idTokenSubscription=new zb(this),this.beforeStateQueue=new w2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ix,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Is(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await wf(this,{idToken:t}),i=await mi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Af(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=c2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(wa(this));const e=t?Zn(t):null;return e&&xt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await A2(this),e=new C2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new tu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await E2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Is(t)||this._popupRedirectResolver;xt(e,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Is(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Hx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&r2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Jf(n){return Zn(n)}class zb{constructor(t){this.auth=t,this.observer=null,this.addObserver=GR(e=>this.observer=e)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M2(n){Fp=n}function D2(n){return Fp.loadJS(n)}function O2(){return Fp.gapiScript}function N2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n,t){const e=Zf(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Ca(o,t??{}))return r;Zi(r,"already-initialized")}return e.initialize({options:t})}function V2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Is);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function P2(n,t,e){const i=Jf(n);xt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=qx(t),{host:c,port:h}=L2(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xt(Ca(m,i.config.emulator)&&Ca(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Pa(c)?(Dp(`${o}//${c}${f}`),Op("Auth",!0)):z2()}function qx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function L2(n){const t=qx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Ub(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Ub(c)}}}function Ub(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function z2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Cs("not implemented")}_getIdTokenResponse(t){return Cs("not implemented")}_linkToIdToken(t,e){return Cs("not implemented")}_getReauthenticationResolver(t){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n,t){return d2(n,"POST","/v1/accounts:signInWithIdp",Up(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="http://localhost";class Ma extends Gx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ma(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Zi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Ma(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Ho(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ho(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ho(t,e)}buildRequest(){const t={requestUri:U2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=eu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Hp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends iu{constructor(){super("facebook.com")}static credential(t){return Ma._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ma._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Rs.credentialFromTaggedObject(t)}static credentialFromError(t){return Rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Rs.credential(e,i)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends iu{constructor(){super("github.com")}static credential(t){return Ma._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return br.credential(t.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends iu{constructor(){super("twitter.com")}static credential(t,e){return Ma._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Tr.credential(e,i)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await mi._fromIdTokenResponse(t,i,r),c=jb(i);return new Xo({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=jb(i);return new Xo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function jb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends ns{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Rf(t,e,i,r)}}function Yx(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(n,o,t,i):o})}async function j2(n,t,e=!1){const i=await zc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Xo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(n,t,e=!1){const{auth:i}=n;if(Xn(i.app))return Promise.reject(wa(i));const r="reauthenticate";try{const o=await zc(n,Yx(i,r,t,n),e);xt(o.idToken,i,"internal-error");const c=jp(o.idToken);xt(c,i,"internal-error");const{sub:h}=c;return xt(n.uid===h,i,"user-mismatch"),Xo._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Zi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(n,t,e=!1){if(Xn(n.app))return Promise.reject(wa(n));const i="signIn",r=await Yx(n,i,t),o=await Xo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}function H2(n,t,e,i){return Zn(n).onIdTokenChanged(t,e,i)}function q2(n,t,e){return Zn(n).beforeAuthStateChanged(t,e)}const Cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=1e3,Y2=10;class Xx extends Kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);S2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,Y2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},G2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Xx.type="LOCAL";const K2=Xx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx extends Kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Qx.type="SESSION";const $x=Qx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new td(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await X2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=qp("",20);r.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(y){const T=y;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function $2(n){Yi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function W2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z2(){return navigator?.serviceWorker?.controller||null}function J2(){return Wx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firebaseLocalStorageDb",tI=1,If="firebaseLocalStorage",Jx="fbase_key";class su{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ed(n,t){return n.transaction([If],t?"readwrite":"readonly").objectStore(If)}function eI(){const n=indexedDB.deleteDatabase(Zx);return new su(n).toPromise()}function rp(){const n=indexedDB.open(Zx,tI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(If,{keyPath:Jx})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(If)?t(i):(i.close(),await eI(),t(await rp()))})})}async function Bb(n,t,e){const i=ed(n,!0).put({[Jx]:t,value:e});return new su(i).toPromise()}async function nI(n,t){const e=ed(n,!1).get(t),i=await new su(e).toPromise();return i===void 0?null:i.value}function Fb(n,t){const e=ed(n,!0).delete(t);return new su(e).toPromise()}const iI=800,sI=3;class tS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>sI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(J2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await W2(),!this.activeServiceWorker)return;this.sender=new Q2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Z2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rp();return await Bb(t,Cf,"1"),await Fb(t,Cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>nI(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Fb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=ed(r,!1).getAll();return new su(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tS.type="LOCAL";const rI=tS;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n,t){return t?Is(t):(xt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Gx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ho(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ho(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ho(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function aI(n){return F2(n.auth,new Gp(n),n.bypassAuthState)}function oI(n){const{auth:t,user:e}=n;return xt(e,t,"internal-error"),B2(e,new Gp(n),n.bypassAuthState)}async function lI(n){const{auth:t,user:e}=n;return xt(e,t,"internal-error"),j2(e,new Gp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aI;case"linkViaPopup":case"linkViaRedirect":return lI;case"reauthViaPopup":case"reauthViaRedirect":return oI;default:Zi(this.auth,"internal-error")}}resolve(t){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new nu(2e3,1e4);async function uI(n,t,e){if(Xn(n.app))return Promise.reject(_i(n,"operation-not-supported-in-this-environment"));const i=Jf(n);a2(n,t,Hp);const r=eS(i,e);return new Ea(i,"signInViaPopup",t,r).executeNotNull()}class Ea extends nS{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const t=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cI.get())};t()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="pendingRedirect",hf=new Map;class fI extends nS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=hf.get(this.auth._key());if(!t){try{const i=await dI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}hf.set(this.auth._key(),t)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dI(n,t){const e=pI(t),i=gI(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function mI(n,t){hf.set(n._key(),t)}function gI(n){return Is(n._redirectPersistence)}function pI(n){return uf(hI,n.config.apiKey,n.name)}async function _I(n,t,e=!1){if(Xn(n.app))return Promise.reject(wa(n));const i=Jf(n),r=eS(i,t),c=await new fI(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=600*1e3;class vI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!iS(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(_i(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hb(t))}saveEventToCache(t){this.cachedEventUids.add(Hb(t)),this.lastProcessedEventTime=Date.now()}}function Hb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function iS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function bI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(n,t={}){return il(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xI=/^https?/;async function SI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await TI(n);for(const e of t)try{if(wI(e))return}catch{}Zi(n,"unauthorized-domain")}function wI(n){const t=ip(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!xI.test(e))return!1;if(EI.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new nu(3e4,6e4);function qb(){const n=Yi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function RI(n){return new Promise((t,e)=>{function i(){qb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qb(),e(_i(n,"network-request-failed"))},timeout:AI.get()})}if(Yi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Yi().gapi?.load)i();else{const r=N2("iframefcb");return Yi()[r]=()=>{gapi.load?i():e(_i(n,"network-request-failed"))},D2(`${O2()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw ff=null,t})}let ff=null;function CI(n){return ff=ff||RI(n),ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new nu(5e3,15e3),MI="__/auth/iframe",DI="emulator/auth/iframe",OI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kI(n){const t=n.config;xt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?zp(t,DI):`https://${n.config.authDomain}/${MI}`,i={apiKey:t.apiKey,appName:n.name,v:La},r=NI.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${eu(i).slice(1)}`}async function VI(n){const t=await CI(n),e=Yi().gapi;return xt(e,n,"internal-error"),t.open({where:document.body,url:kI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OI,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=_i(n,"network-request-failed"),h=Yi().setTimeout(()=>{o(c)},II.get());function f(){Yi().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LI=500,zI=600,UI="_blank",jI="http://localhost";class Gb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BI(n,t,e,i=LI,r=zI){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...PI,width:i.toString(),height:r.toString(),top:o,left:c},m=hn().toLowerCase();e&&(h=Lx(m)?UI:e),Vx(m)&&(t=t||jI,f.scrollbars="yes");const _=Object.entries(f).reduce((T,[x,R])=>`${T}${x}=${R},`,"");if(x2(m)&&h!=="_self")return FI(t||"",h),new Gb(null);const y=window.open(t||"",h,_);xt(y,n,"popup-blocked");try{y.focus()}catch{}return new Gb(y)}function FI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="__/auth/handler",qI="emulator/auth/handler",GI=encodeURIComponent("fac");async function Yb(n,t,e,i,r,o){xt(n.config.authDomain,n,"auth-domain-config-required"),xt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:La,eventId:r};if(t instanceof Hp){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",qR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,y]of Object.entries({}))c[_]=y}if(t instanceof iu){const _=t.getScopes().filter(y=>y!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),m=f?`#${GI}=${encodeURIComponent(f)}`:"";return`${YI(n)}?${eu(h).slice(1)}${m}`}function YI({config:n}){return n.emulator?zp(n,qI):`https://${n.authDomain}/${HI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class KI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$x,this._completeRedirectFn=_I,this._overrideRedirectResult=mI}async _openPopup(t,e,i,r){ks(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Yb(t,e,i,ip(),r);return BI(t,o,qp())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await Yb(t,e,i,ip(),r);return $2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(ks(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await VI(t),i=new vI(t);return e.register("authEvent",r=>(xt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ng,{type:Ng},r=>{const o=r?.[0]?.[Ng];o!==void 0&&e(!!o),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=SI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Fx()||Px()||Bp()}}const XI=KI;var Kb="@firebase/auth",Xb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WI(n){Ia(new Dr("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;xt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hx(n)},m=new I2(i,r,o,f);return V2(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ia(new Dr("auth-internal",t=>{const e=Jf(t.getProvider("auth").getImmediate());return(i=>new QI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(Kb,Xb,$I(n)),Gi(Kb,Xb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=300,JI=Tx("authIdTokenMaxAge")||ZI;let Qb=null;const tM=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>JI)return;const r=e?.token;Qb!==r&&(Qb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function eM(n=Vp()){const t=Zf(n,"auth");if(t.isInitialized())return t.getImmediate();const e=k2(n,{popupRedirectResolver:XI,persistence:[rI,K2,$x]}),i=Tx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=tM(o.toString());q2(e,c,()=>c(e.currentUser)),H2(e,h=>c(h))}}const r=yx("auth");return r&&P2(e,`http://${r}`),e}function nM(){return document.getElementsByTagName("head")?.[0]??document}M2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=_i("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",nM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WI("Browser");var $b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,sS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function D(){}D.prototype=w.prototype,M.F=w.prototype,M.prototype=new D,M.prototype.constructor=M,M.D=function(P,k,z){for(var O=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)O[Dt-2]=arguments[Dt];return w.prototype[k].apply(P,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,w,D){D||(D=0);const P=Array(16);if(typeof w=="string")for(var k=0;k<16;++k)P[k]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(k=0;k<16;++k)P[k]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=M.g[0],D=M.g[1],k=M.g[2];let z=M.g[3],O;O=w+(z^D&(k^z))+P[0]+3614090360&4294967295,w=D+(O<<7&4294967295|O>>>25),O=z+(k^w&(D^k))+P[1]+3905402710&4294967295,z=w+(O<<12&4294967295|O>>>20),O=k+(D^z&(w^D))+P[2]+606105819&4294967295,k=z+(O<<17&4294967295|O>>>15),O=D+(w^k&(z^w))+P[3]+3250441966&4294967295,D=k+(O<<22&4294967295|O>>>10),O=w+(z^D&(k^z))+P[4]+4118548399&4294967295,w=D+(O<<7&4294967295|O>>>25),O=z+(k^w&(D^k))+P[5]+1200080426&4294967295,z=w+(O<<12&4294967295|O>>>20),O=k+(D^z&(w^D))+P[6]+2821735955&4294967295,k=z+(O<<17&4294967295|O>>>15),O=D+(w^k&(z^w))+P[7]+4249261313&4294967295,D=k+(O<<22&4294967295|O>>>10),O=w+(z^D&(k^z))+P[8]+1770035416&4294967295,w=D+(O<<7&4294967295|O>>>25),O=z+(k^w&(D^k))+P[9]+2336552879&4294967295,z=w+(O<<12&4294967295|O>>>20),O=k+(D^z&(w^D))+P[10]+4294925233&4294967295,k=z+(O<<17&4294967295|O>>>15),O=D+(w^k&(z^w))+P[11]+2304563134&4294967295,D=k+(O<<22&4294967295|O>>>10),O=w+(z^D&(k^z))+P[12]+1804603682&4294967295,w=D+(O<<7&4294967295|O>>>25),O=z+(k^w&(D^k))+P[13]+4254626195&4294967295,z=w+(O<<12&4294967295|O>>>20),O=k+(D^z&(w^D))+P[14]+2792965006&4294967295,k=z+(O<<17&4294967295|O>>>15),O=D+(w^k&(z^w))+P[15]+1236535329&4294967295,D=k+(O<<22&4294967295|O>>>10),O=w+(k^z&(D^k))+P[1]+4129170786&4294967295,w=D+(O<<5&4294967295|O>>>27),O=z+(D^k&(w^D))+P[6]+3225465664&4294967295,z=w+(O<<9&4294967295|O>>>23),O=k+(w^D&(z^w))+P[11]+643717713&4294967295,k=z+(O<<14&4294967295|O>>>18),O=D+(z^w&(k^z))+P[0]+3921069994&4294967295,D=k+(O<<20&4294967295|O>>>12),O=w+(k^z&(D^k))+P[5]+3593408605&4294967295,w=D+(O<<5&4294967295|O>>>27),O=z+(D^k&(w^D))+P[10]+38016083&4294967295,z=w+(O<<9&4294967295|O>>>23),O=k+(w^D&(z^w))+P[15]+3634488961&4294967295,k=z+(O<<14&4294967295|O>>>18),O=D+(z^w&(k^z))+P[4]+3889429448&4294967295,D=k+(O<<20&4294967295|O>>>12),O=w+(k^z&(D^k))+P[9]+568446438&4294967295,w=D+(O<<5&4294967295|O>>>27),O=z+(D^k&(w^D))+P[14]+3275163606&4294967295,z=w+(O<<9&4294967295|O>>>23),O=k+(w^D&(z^w))+P[3]+4107603335&4294967295,k=z+(O<<14&4294967295|O>>>18),O=D+(z^w&(k^z))+P[8]+1163531501&4294967295,D=k+(O<<20&4294967295|O>>>12),O=w+(k^z&(D^k))+P[13]+2850285829&4294967295,w=D+(O<<5&4294967295|O>>>27),O=z+(D^k&(w^D))+P[2]+4243563512&4294967295,z=w+(O<<9&4294967295|O>>>23),O=k+(w^D&(z^w))+P[7]+1735328473&4294967295,k=z+(O<<14&4294967295|O>>>18),O=D+(z^w&(k^z))+P[12]+2368359562&4294967295,D=k+(O<<20&4294967295|O>>>12),O=w+(D^k^z)+P[5]+4294588738&4294967295,w=D+(O<<4&4294967295|O>>>28),O=z+(w^D^k)+P[8]+2272392833&4294967295,z=w+(O<<11&4294967295|O>>>21),O=k+(z^w^D)+P[11]+1839030562&4294967295,k=z+(O<<16&4294967295|O>>>16),O=D+(k^z^w)+P[14]+4259657740&4294967295,D=k+(O<<23&4294967295|O>>>9),O=w+(D^k^z)+P[1]+2763975236&4294967295,w=D+(O<<4&4294967295|O>>>28),O=z+(w^D^k)+P[4]+1272893353&4294967295,z=w+(O<<11&4294967295|O>>>21),O=k+(z^w^D)+P[7]+4139469664&4294967295,k=z+(O<<16&4294967295|O>>>16),O=D+(k^z^w)+P[10]+3200236656&4294967295,D=k+(O<<23&4294967295|O>>>9),O=w+(D^k^z)+P[13]+681279174&4294967295,w=D+(O<<4&4294967295|O>>>28),O=z+(w^D^k)+P[0]+3936430074&4294967295,z=w+(O<<11&4294967295|O>>>21),O=k+(z^w^D)+P[3]+3572445317&4294967295,k=z+(O<<16&4294967295|O>>>16),O=D+(k^z^w)+P[6]+76029189&4294967295,D=k+(O<<23&4294967295|O>>>9),O=w+(D^k^z)+P[9]+3654602809&4294967295,w=D+(O<<4&4294967295|O>>>28),O=z+(w^D^k)+P[12]+3873151461&4294967295,z=w+(O<<11&4294967295|O>>>21),O=k+(z^w^D)+P[15]+530742520&4294967295,k=z+(O<<16&4294967295|O>>>16),O=D+(k^z^w)+P[2]+3299628645&4294967295,D=k+(O<<23&4294967295|O>>>9),O=w+(k^(D|~z))+P[0]+4096336452&4294967295,w=D+(O<<6&4294967295|O>>>26),O=z+(D^(w|~k))+P[7]+1126891415&4294967295,z=w+(O<<10&4294967295|O>>>22),O=k+(w^(z|~D))+P[14]+2878612391&4294967295,k=z+(O<<15&4294967295|O>>>17),O=D+(z^(k|~w))+P[5]+4237533241&4294967295,D=k+(O<<21&4294967295|O>>>11),O=w+(k^(D|~z))+P[12]+1700485571&4294967295,w=D+(O<<6&4294967295|O>>>26),O=z+(D^(w|~k))+P[3]+2399980690&4294967295,z=w+(O<<10&4294967295|O>>>22),O=k+(w^(z|~D))+P[10]+4293915773&4294967295,k=z+(O<<15&4294967295|O>>>17),O=D+(z^(k|~w))+P[1]+2240044497&4294967295,D=k+(O<<21&4294967295|O>>>11),O=w+(k^(D|~z))+P[8]+1873313359&4294967295,w=D+(O<<6&4294967295|O>>>26),O=z+(D^(w|~k))+P[15]+4264355552&4294967295,z=w+(O<<10&4294967295|O>>>22),O=k+(w^(z|~D))+P[6]+2734768916&4294967295,k=z+(O<<15&4294967295|O>>>17),O=D+(z^(k|~w))+P[13]+1309151649&4294967295,D=k+(O<<21&4294967295|O>>>11),O=w+(k^(D|~z))+P[4]+4149444226&4294967295,w=D+(O<<6&4294967295|O>>>26),O=z+(D^(w|~k))+P[11]+3174756917&4294967295,z=w+(O<<10&4294967295|O>>>22),O=k+(w^(z|~D))+P[2]+718787259&4294967295,k=z+(O<<15&4294967295|O>>>17),O=D+(z^(k|~w))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+z&4294967295}i.prototype.v=function(M,w){w===void 0&&(w=M.length);const D=w-this.blockSize,P=this.C;let k=this.h,z=0;for(;z<w;){if(k==0)for(;z<=D;)r(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<w;)if(P[k++]=M.charCodeAt(z++),k==this.blockSize){r(this,P),k=0;break}}else for(;z<w;)if(P[k++]=M[z++],k==this.blockSize){r(this,P),k=0;break}}this.h=k,this.o+=w},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;w=this.o*8;for(var D=M.length-8;D<M.length;++D)M[D]=w&255,w/=256;for(this.v(M),M=Array(16),w=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)M[w++]=this.g[D]>>>P&255;return M};function o(M,w){var D=h;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=w(M)}function c(M,w){this.h=w;const D=[];let P=!0;for(let k=M.length-1;k>=0;k--){const z=M[k]|0;P&&z==w||(D[k]=z,P=!1)}this.g=D}var h={};function f(M){return-128<=M&&M<128?o(M,function(w){return new c([w|0],w<0?-1:0)}):new c([M|0],M<0?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return y;if(M<0)return I(m(-M));const w=[];let D=1;for(let P=0;M>=D;P++)w[P]=M/D|0,D*=4294967296;return new c(w,0)}function _(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return I(_(M.substring(1),w));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(w,8));let P=y;for(let z=0;z<M.length;z+=8){var k=Math.min(8,M.length-z);const O=parseInt(M.substring(z,z+k),w);k<8?(k=m(Math.pow(w,k)),P=P.j(k).add(m(O))):(P=P.j(D),P=P.add(m(O)))}return P}var y=f(0),T=f(1),x=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-I(this).m();let M=0,w=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);M+=(P>=0?P:4294967296+P)*w,w*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(C(this))return"-"+I(this).toString(M);const w=m(Math.pow(M,6));var D=this;let P="";for(;;){const k=et(D,w).g;D=L(D,k.j(w));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(M);if(D=k,R(D))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(let w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function C(M){return M.h==-1}n.l=function(M){return M=L(this,M),C(M)?-1:R(M)?0:1};function I(M){const w=M.g.length,D=[];for(let P=0;P<w;P++)D[P]=~M.g[P];return new c(D,~M.h).add(T)}n.abs=function(){return C(this)?I(this):this},n.add=function(M){const w=Math.max(this.g.length,M.g.length),D=[];let P=0;for(let k=0;k<=w;k++){let z=P+(this.i(k)&65535)+(M.i(k)&65535),O=(z>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);P=O>>>16,z&=65535,O&=65535,D[k]=O<<16|z}return new c(D,D[D.length-1]&-2147483648?-1:0)};function L(M,w){return M.add(I(w))}n.j=function(M){if(R(this)||R(M))return y;if(C(this))return C(M)?I(this).j(I(M)):I(I(this).j(M));if(C(M))return I(this.j(I(M)));if(this.l(x)<0&&M.l(x)<0)return m(this.m()*M.m());const w=this.g.length+M.g.length,D=[];for(var P=0;P<2*w;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<M.g.length;k++){const z=this.i(P)>>>16,O=this.i(P)&65535,Dt=M.i(k)>>>16,Et=M.i(k)&65535;D[2*P+2*k]+=O*Et,Y(D,2*P+2*k),D[2*P+2*k+1]+=z*Et,Y(D,2*P+2*k+1),D[2*P+2*k+1]+=O*Dt,Y(D,2*P+2*k+1),D[2*P+2*k+2]+=z*Dt,Y(D,2*P+2*k+2)}for(M=0;M<w;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=w;M<2*w;M++)D[M]=0;return new c(D,0)};function Y(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function $(M,w){this.g=M,this.h=w}function et(M,w){if(R(w))throw Error("division by zero");if(R(M))return new $(y,y);if(C(M))return w=et(I(M),w),new $(I(w.g),I(w.h));if(C(w))return w=et(M,I(w)),new $(I(w.g),w.h);if(M.g.length>30){if(C(M)||C(w))throw Error("slowDivide_ only works with positive integers.");for(var D=T,P=w;P.l(M)<=0;)D=W(D),P=W(P);var k=rt(D,1),z=rt(P,1);for(P=rt(P,2),D=rt(D,2);!R(P);){var O=z.add(P);O.l(M)<=0&&(k=k.add(D),z=O),P=rt(P,1),D=rt(D,1)}return w=L(M,k.j(w)),new $(k,w)}for(k=y;M.l(w)>=0;){for(D=Math.max(1,Math.floor(M.m()/w.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=m(D),O=z.j(w);C(O)||O.l(M)>0;)D-=P,z=m(D),O=z.j(w);R(z)&&(z=T),k=k.add(z),M=L(M,O)}return new $(k,M)}n.B=function(M){return et(this,M).h},n.and=function(M){const w=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<w;P++)D[P]=this.i(P)&M.i(P);return new c(D,this.h&M.h)},n.or=function(M){const w=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<w;P++)D[P]=this.i(P)|M.i(P);return new c(D,this.h|M.h)},n.xor=function(M){const w=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<w;P++)D[P]=this.i(P)^M.i(P);return new c(D,this.h^M.h)};function W(M){const w=M.g.length+1,D=[];for(let P=0;P<w;P++)D[P]=M.i(P)<<1|M.i(P-1)>>>31;return new c(D,M.h)}function rt(M,w){const D=w>>5;w%=32;const P=M.g.length-D,k=[];for(let z=0;z<P;z++)k[z]=w>0?M.i(z+D)>>>w|M.i(z+D+1)<<32-w:M.i(z+D);return new c(k,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,sS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Cr=c}).apply(typeof $b<"u"?$b:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rS,bc,aS,df,ap,oS,lS,cS;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var E=i;d=d.split(".");for(var A=0;A<d.length-1;A++){var F=d[A];if(!(F in E))break t;E=E[F]}d=d[d.length-1],A=E[d],v=v(A),v!=A&&v!=null&&t(E,d,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(d){return d||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,E){return d.call.apply(d.bind,arguments)}function m(d,v,E){return m=f,m.apply(null,arguments)}function _(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function y(d,v){function E(){}E.prototype=v.prototype,d.Z=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(A,F,X){for(var ot=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ot[Rt-2]=arguments[Rt];return v.prototype[F].apply(A,ot)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function x(d){const v=d.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=d[A];return E}return[]}function R(d,v){for(let A=1;A<arguments.length;A++){const F=arguments[A];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=d.length||0;const X=F.length||0;d.length=E+X;for(let ot=0;ot<X;ot++)d[E+ot]=F[ot]}else d.push(F)}}class C{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function I(d){c.setTimeout(()=>{throw d},0)}function L(){var d=M;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,E){const A=$.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new C(()=>new et,d=>d.reset());class et{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let W,rt=!1,M=new Y,w=()=>{const d=Promise.resolve(void 0);W=()=>{d.then(D)}};function D(){for(var d;d=L();){try{d.h.call(d.g)}catch(E){I(E)}var v=$;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}rt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Dt(d,v){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}y(Dt,k),Dt.prototype.init=function(d,v){const E=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),K=0;function at(d,v,E,A,F){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=F,this.key=++K,this.da=this.fa=!1}function ht(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function vt(d,v,E){for(const A in d)v.call(E,d[A],A,d)}function kt(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function U(d){const v={};for(const E in d)v[E]=d[E];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(d,v){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)d[E]=A[E];for(let X=0;X<J.length;X++)E=J[X],Object.prototype.hasOwnProperty.call(A,E)&&(d[E]=A[E])}}function ct(d){this.src=d,this.g={},this.h=0}ct.prototype.add=function(d,v,E,A,F){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const ot=bt(d,v,A,F);return ot>-1?(v=d[ot],E||(v.fa=!1)):(v=new at(v,this.src,X,!!A,F),v.fa=E,d.push(v)),v};function _t(d,v){const E=v.type;if(E in d.g){var A=d.g[E],F=Array.prototype.indexOf.call(A,v,void 0),X;(X=F>=0)&&Array.prototype.splice.call(A,F,1),X&&(ht(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function bt(d,v,E,A){for(let F=0;F<d.length;++F){const X=d[F];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==A)return F}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Pe={};function fe(d,v,E,A,F){if(Array.isArray(v)){for(let X=0;X<v.length;X++)fe(d,v[X],E,A,F);return null}return E=hl(E),d&&d[Et]?d.J(v,E,h(A)?!!A.capture:!1,F):Ur(d,v,E,!1,A,F)}function Ur(d,v,E,A,F,X){if(!v)throw Error("Invalid event type");const ot=h(F)?!!F.capture:!!F;let Rt=jr(d);if(Rt||(d[Bt]=Rt=new ct(d)),E=Rt.add(v,E,A,ot,X),E.proxy)return E;if(A=qa(),E.proxy=A,A.src=d,A.listener=E,d.addEventListener)z||(F=ot),F===void 0&&(F=!1),d.addEventListener(v.toString(),A,F);else if(d.attachEvent)d.attachEvent(vi(v.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qa(){function d(E){return v.call(d.src,d.listener,E)}const v=cl;return d}function Ga(d,v,E,A,F){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ga(d,v[X],E,A,F);else A=h(A)?!!A.capture:!!A,E=hl(E),d&&d[Et]?(d=d.i,X=String(v).toString(),X in d.g&&(v=d.g[X],E=bt(v,E,A,F),E>-1&&(ht(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete d.g[X],d.h--)))):d&&(d=jr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=bt(v,E,A,F)),(E=d>-1?v[d]:null)&&Ya(E))}function Ya(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Et])_t(v.i,d);else{var E=d.type,A=d.proxy;v.removeEventListener?v.removeEventListener(E,A,d.capture):v.detachEvent?v.detachEvent(vi(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=jr(v))?(_t(E,d),E.h==0&&(E.src=null,v[Bt]=null)):ht(d)}}}function vi(d){return d in Pe?Pe[d]:Pe[d]="on"+d}function cl(d,v){if(d.da)d=!0;else{v=new Dt(v,this);const E=d.listener,A=d.ha||d.src;d.fa&&Ya(d),d=E.call(A,v)}return d}function jr(d){return d=d[Bt],d instanceof ct?d:null}var ul="__closure_events_fn_"+(Math.random()*1e9>>>0);function hl(d){return typeof d=="function"?d:(d[ul]||(d[ul]=function(v){return d.handleEvent(v)}),d[ul])}function we(){P.call(this),this.i=new ct(this),this.M=this,this.G=null}y(we,P),we.prototype[Et]=!0,we.prototype.removeEventListener=function(d,v,E,A){Ga(this,d,v,E,A)};function Le(d,v){var E,A=d.G;if(A)for(E=[];A;A=A.G)E.push(A);if(d=d.M,A=v.type||v,typeof v=="string")v=new k(v,d);else if(v instanceof k)v.target=v.target||d;else{var F=v;v=new k(A,d),lt(v,F)}F=!0;let X,ot;if(E)for(ot=E.length-1;ot>=0;ot--)X=v.g=E[ot],F=zs(X,A,!0,v)&&F;if(X=v.g=d,F=zs(X,A,!0,v)&&F,F=zs(X,A,!1,v)&&F,E)for(ot=0;ot<E.length;ot++)X=v.g=E[ot],F=zs(X,A,!1,v)&&F}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const E=d.g[v];for(let A=0;A<E.length;A++)ht(E[A]);delete d.g[v],d.h--}}this.G=null},we.prototype.J=function(d,v,E,A){return this.i.add(String(d),v,!1,E,A)},we.prototype.K=function(d,v,E,A){return this.i.add(String(d),v,!0,E,A)};function zs(d,v,E,A){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let X=0;X<v.length;++X){const ot=v[X];if(ot&&!ot.da&&ot.capture==E){const Rt=ot.listener,be=ot.ha||ot.src;ot.fa&&_t(d.i,ot),F=Rt.call(be,A)!==!1&&F}}return F&&!A.defaultPrevented}function xd(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(d,v||0)}function hu(d){d.g=xd(()=>{d.g=null,d.i&&(d.i=!1,hu(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class fn extends P{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(d){P.call(this),this.h=d,this.g={}}y(Br,P);var fl=[];function dl(d){vt(d.g,function(v,E){this.g.hasOwnProperty(E)&&Ya(v)},d),d.g={}}Br.prototype.N=function(){Br.Z.N.call(this),dl(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=c.JSON.stringify,Sd=c.JSON.parse,fu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function du(){}function mu(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){k.call(this,"d")}y(Xe,k);function kn(){k.call(this,"c")}y(kn,k);var ve={},gu=null;function Ka(){return gu=gu||new we}ve.Ia="serverreachability";function pu(d){k.call(this,ve.Ia,d)}y(pu,k);function bi(d){const v=Ka();Le(v,new pu(v))}ve.STAT_EVENT="statevent";function Fr(d,v){k.call(this,ve.STAT_EVENT,d),this.stat=v}y(Fr,k);function Ae(d){const v=Ka();Le(v,new Fr(v,d))}ve.Ja="timingevent";function Ti(d,v){k.call(this,ve.Ja,d),this.size=v}y(Ti,k);function Ei(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function wd(d,v,E,A,F,X){d.info(function(){if(d.g)if(X){var ot="",Rt=X.split("&");for(let Kt=0;Kt<Rt.length;Kt++){var be=Rt[Kt].split("=");if(be.length>1){const de=be[0];be=be[1];const zn=de.split("_");ot=zn.length>=2&&zn[1]=="type"?ot+(de+"="+be+"&"):ot+(de+"=redacted&")}}}else ot=null;else ot=X;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+E+`
`+ot})}function _u(d,v,E,A,F,X,ot){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+E+`
`+X+" "+ot})}function xi(d,v,E,A){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ad(d,E)+(A?" "+A:"")})}function Hr(d,v){d.info(function(){return"TIMEOUT: "+v})}ni.prototype.info=function(){};function Ad(d,v){if(!d.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var E=X[d];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return Us(X)}catch{return v}}var qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function Gr(){}y(Gr,du),Gr.prototype.g=function(){return new XMLHttpRequest},gl=new Gr;function ss(d){return encodeURIComponent(String(d))}function yu(d){var v=1;d=d.split(":");const E=[];for(;v>0&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function ii(d,v,E,A){this.j=d,this.i=v,this.l=E,this.S=A||1,this.V=new Br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var Re={},qe={};function Si(d,v,E){d.M=1,d.A=Yr(Ie(v)),d.u=E,d.R=!0,Xa(d,null)}function Xa(d,v){d.F=Date.now(),wi(d),d.B=Ie(d.A);var E=d.B,A=d.S;Array.isArray(A)||(A=[String(A)]),Za(E.i,"t",A),d.C=0,E=d.j.L,d.h=new si,d.g=Nu(d.j,E?v:null,!d.u),d.P>0&&(d.O=new fn(m(d.Y,d,d.g),d.P)),v=d.V,E=d.g,A=d.ba;var F="readystatechange";Array.isArray(F)||(F&&(fl[0]=F.toString()),F=fl);for(let X=0;X<F.length;X++){const ot=fe(E,F[X],A||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=d.J?U(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),bi(),wd(d.i,d.v,d.B,d.l,d.S,d.u)}ii.prototype.ba=function(d){d=d.target;const v=this.O;v&&oi(d)==3?v.j():this.Y(d)},ii.prototype.Y=function(d){try{if(d==this.g)t:{const Rt=oi(this.g),be=this.g.ya(),Kt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Rt!=4||be==7||(be==8||Kt<=0?bi(3):bi(2)),Ai(this);var v=this.g.ca();this.X=v;var E=Rd(this);if(this.o=v==200,_u(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(A)){var X=A;break e}}X=null}if(d=X)xi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,d);else{this.o=!1,this.m=3,Ae(12),wn(this),Vn(this);break t}}if(this.R){d=!0;let de;for(;!this.K&&this.C<E.length;)if(de=bu(this,E),de==qe){Rt==4&&(this.m=4,Ae(14),d=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Re){this.m=4,Ae(15),xi(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else xi(this.i,this.l,de,null),Ri(this,de);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),d=!1),this.o=this.o&&d,!d)xi(this.i,this.l,E,"[Invalid Chunked Response]"),wn(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ml(ot),ot.P=!0,Ae(11))}}else xi(this.i,this.l,E,null),Ri(this,E);Rt==4&&wn(this),this.o&&!this.K&&(Rt==4?Iu(this.j,this):(this.o=!1,wi(this)))}else as(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),wn(this),Vn(this)}}}catch{}finally{}};function Rd(d){if(!vu(d))return d.g.la();const v=Qe(d.g);if(v==="")return"";let E="";const A=v.length,F=oi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return wn(d),Vn(d),"";d.h.i=new c.TextDecoder}for(let X=0;X<A;X++)d.h.h=!0,E+=d.h.i.decode(v[X],{stream:!(F&&X==A-1)});return v.length=0,d.h.g+=E,d.C=0,d.h.g}function vu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function bu(d,v){var E=d.C,A=v.indexOf(`
`,E);return A==-1?qe:(E=Number(v.substring(E,A)),isNaN(E)?Re:(A+=1,A+E>v.length?qe:(v=v.slice(A,A+E),d.C=A+E,v)))}ii.prototype.cancel=function(){this.K=!0,wn(this)};function wi(d){d.T=Date.now()+d.H,Qa(d,d.H)}function Qa(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ei(m(d.aa,d),v)}function Ai(d){d.D&&(c.clearTimeout(d.D),d.D=null)}ii.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Hr(this.i,this.B),this.M!=2&&(bi(),Ae(17)),wn(this),this.m=2,Vn(this)):Qa(this,this.T-d)};function Vn(d){d.j.I==0||d.K||Iu(d.j,d)}function wn(d){Ai(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,dl(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ri(d,v){try{var E=d.j;if(E.I!=0&&(E.g==d||Ii(E.h,d))){if(!d.L&&Ii(E.h,d)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)io(E),Ks(E);else break t;Jr(E),Ae(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ei(m(E.Va,E),6e3));Ci(E.h)<=1&&E.ta&&(E.ta=void 0)}else Vi(E,11)}else if((d.L||E.g==d)&&io(E),!O(v))for(F=E.Ba.g.parse(v),v=0;v<F.length;v++){let Kt=F[v];const de=Kt[0];if(!(de<=E.K))if(E.K=de,Kt=Kt[1],E.I==2)if(Kt[0]=="c"){E.M=Kt[1],E.ba=Kt[2];const zn=Kt[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Pi=Kt[4];Pi!=null&&(E.za=Pi,E.j.info("SVER="+E.za));const li=Kt[5];li!=null&&typeof li=="number"&&li>0&&(A=1.5*li,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ci=d.g;if(ci){const ta=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var X=A.h;X.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(yl(X,X.h),X.h=null))}if(A.G){const so=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(A.wa=so,Wt(A.J,A.G,so))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ot=d;if(A.na=Ou(A,A.L?A.ba:null,A.W),ot.L){vl(A.h,ot);var Rt=ot,be=A.O;be&&(Rt.H=be),Rt.D&&(Ai(Rt),wi(Rt)),A.g=ot}else Ru(A);E.i.length>0&&ki(E)}else Kt[0]!="stop"&&Kt[0]!="close"||Vi(E,7);else E.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Vi(E,7):Cl(E):Kt[0]!="noop"&&E.l&&E.l.qa(Kt),E.A=0)}}bi(4)}catch{}}var Ce=class{constructor(d,v){this.g=d,this.map=v}};function pl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ci(d){return d.h?1:d.g?d.g.size:0}function Ii(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function yl(d,v){d.g?d.g.add(v):d.h=v}function vl(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}pl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function bl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.G);return v}return x(d.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(d,v){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const A=d[E].indexOf("=");let F,X=null;A>=0?(F=d[E].substring(0,A),X=d[E].substring(A+1)):F=d[E],v(F,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function An(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof An?(this.l=d.l,Ge(this,d.j),this.o=d.o,this.g=d.g,js(this,d.u),this.h=d.h,Tl(this,wu(d.i)),this.m=d.m):d&&(v=String(d).match(Tu))?(this.l=!1,Ge(this,v[1]||"",!0),this.o=Mi(v[2]||""),this.g=Mi(v[3]||"",!0),js(this,v[4]),this.h=Mi(v[5]||"",!0),Tl(this,v[6]||"",!0),this.m=Mi(v[7]||"")):(this.l=!1,this.i=new Fs(null,this.l))}An.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Kr(v,Wa,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Kr(v,Wa,!0),"@"),d.push(ss(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Kr(E,E.charAt(0)=="/"?El:Eu,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Kr(E,xu)),d.join("")},An.prototype.resolve=function(d){const v=Ie(this);let E=!!d.j;E?Ge(v,d.j):E=!!d.o,E?v.o=d.o:E=!!d.g,E?v.g=d.g:E=d.u!=null;var A=d.h;if(E)js(v,d.u);else if(E=!!d.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=v.h.lastIndexOf("/");F!=-1&&(A=v.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const X=[];for(let ot=0;ot<F.length;){const Rt=F[ot++];Rt=="."?A&&ot==F.length&&X.push(""):Rt==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ot==F.length&&X.push("")):(X.push(Rt),A=!0)}A=X.join("/")}else A=F}return E?v.h=A:E=d.i.toString()!=="",E?Tl(v,wu(d.i)):E=!!d.m,E&&(v.m=d.m),v};function Ie(d){return new An(d)}function Ge(d,v,E){d.j=E?Mi(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function js(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Tl(d,v,E){v instanceof Fs?(d.i=v,Ja(d.i,d.l)):(E||(v=Kr(v,Bs)),d.i=new Fs(v,d.l))}function Wt(d,v,E){d.i.set(v,E)}function Yr(d){return Wt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Mi(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Kr(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,gn),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function gn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Wa=/[#\/\?@]/g,Eu=/[#\?:]/g,El=/[#\?]/g,Bs=/[#\?@]/g,xu=/#/g;function Fs(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function pn(d){d.g||(d.g=new Map,d.h=0,d.i&&$a(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Fs.prototype,n.add=function(d,v){pn(this),this.i=null,d=Hs(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function Su(d,v){pn(d),v=Hs(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function xl(d,v){return pn(d),v=Hs(d,v),d.g.has(v)}n.forEach=function(d,v){pn(this),this.g.forEach(function(E,A){E.forEach(function(F){d.call(v,F,A,this)},this)},this)};function Sl(d,v){pn(d);let E=[];if(typeof v=="string")xl(d,v)&&(E=E.concat(d.g.get(Hs(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)E=E.concat(d[v]);return E}n.set=function(d,v){return pn(this),this.i=null,d=Hs(this,d),xl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=Sl(this,d),d.length>0?String(d[0]):v):v};function Za(d,v,E){Su(d,v),E.length>0&&(d.i=null,d.g.set(Hs(d,v),x(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const F=ss(E);E=Sl(this,E);for(let X=0;X<E.length;X++){let ot=F;E[X]!==""&&(ot+="="+ss(E[X])),d.push(ot)}}return this.i=d.join("&")};function wu(d){const v=new Fs;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Hs(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Ja(d,v){v&&!d.j&&(pn(d),d.i=null,d.g.forEach(function(E,A){const F=A.toLowerCase();A!=F&&(Su(this,A),Za(this,F,E))},d)),d.j=v}function ri(d,v){const E=new ni;if(c.Image){const A=new Image;A.onload=_(Pn,E,"TestLoadImage: loaded",!0,v,A),A.onerror=_(Pn,E,"TestLoadImage: error",!1,v,A),A.onabort=_(Pn,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=_(Pn,E,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else v(!1)}function wl(d,v){const E=new ni,A=new AbortController,F=setTimeout(()=>{A.abort(),Pn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:A.signal}).then(X=>{clearTimeout(F),X.ok?Pn(E,"TestPingServer: ok",!0,v):Pn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Pn(E,"TestPingServer: error",!1,v)})}function Pn(d,v,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function qs(){this.g=new fu}function Di(d){this.i=d.Sb||null,this.h=d.ab||!1}y(Di,du),Di.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(d,v){we.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Xr,we),n=Xr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,ai(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Gs(this):ai(this),this.readyState==3&&to(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Gs(this))},n.Na=function(d){this.g&&(this.response=d,Gs(this))},n.ga=function(){this.g&&Gs(this)};function Gs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ai(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function ai(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ln(d){let v="";return vt(d,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function Qr(d,v,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=Ln(E),typeof d=="string"?E!=null&&ss(E):Wt(d,v,E))}function ne(d){we.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(ne,we);var Oi=/^https?$/i,Al=["POST","PUT"];n=ne.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){$r(this,X);return}if(d=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),F=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Al,v,void 0)>=0)||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of E)this.g.setRequestHeader(X,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){$r(this,X)}};function $r(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Rl(d),rs(d)}function Rl(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Le(this,"complete"),Le(this,"abort"),rs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},n.Xa=function(){Wr(this)};function Wr(d){if(d.h&&typeof o<"u"){if(d.v&&oi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Le(d,"readystatechange"),oi(d)==4){d.h=!1;try{const X=d.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var A;if(A=X===0){let ot=String(d.D).match(Tu)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),A=!Oi.test(ot?ot.toLowerCase():"")}E=A}if(E)Le(d,"complete"),Le(d,"success");else{d.o=6;try{var F=oi(d)>2?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.ca()+"]",Rl(d)}}finally{rs(d)}}}}function rs(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,v||Le(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function oi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Sd(v)}};function Qe(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function as(d){const v={};d=(d.g&&oi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(O(d[A]))continue;var E=yu(d[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[F]||[];v[F]=X,X.push(E)}kt(v,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function Ys(d){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,d),this.Za=Ni("retryDelaySeedMs",1e4,d),this.Ta=Ni("forwardChannelMaxRetries",2,d),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(d&&d.concurrentRequestLimit),this.Ba=new qs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ys.prototype,n.ka=8,n.I=1,n.connect=function(d,v,E,A){Ae(0),this.W=d,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Ou(this,null,this.W),ki(this)};function Cl(d){if(eo(d),d.I==3){var v=d.V++,E=Ie(d.J);if(Wt(E,"SID",d.M),Wt(E,"RID",v),Wt(E,"TYPE","terminate"),Zr(d,E),v=new ii(d,d.j,v),v.M=2,v.A=Yr(Ie(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Nu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wi(v)}Du(d)}function Ks(d){d.g&&(Ml(d),d.g.cancel(),d.g=null)}function eo(d){Ks(d),d.v&&(c.clearTimeout(d.v),d.v=null),io(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function ki(d){if(!_l(d.h)&&!d.m){d.m=!0;var v=d.Ea;W||w(),rt||(W(),rt=!0),M.add(v,d),d.D=0}}function no(d,v){return Ci(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ei(m(d.Ea,d,v),Mu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const F=new ii(this,this.j,d);let X=this.o;if(this.U&&(X?(X=U(X),lt(X,this.U)):X=this.U),this.u!==null||this.R||(F.J=X,X=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Au(this,F,v),E=Ie(this.J),Wt(E,"RID",d),Wt(E,"CVER",22),this.G&&Wt(E,"X-HTTP-Session-Id",this.G),Zr(this,E),X&&(this.R?v="headers="+ss(Ln(X))+"&"+v:this.u&&Qr(E,this.u,X)),yl(this.h,F),this.Ra&&Wt(E,"TYPE","init"),this.S?(Wt(E,"$req",v),Wt(E,"SID","null"),F.U=!0,Si(F,E,null)):Si(F,E,v),this.I=2}}else this.I==3&&(d?Il(this,d):this.i.length==0||_l(this.h)||Il(this))};function Il(d,v){var E;v?E=v.l:E=d.V++;const A=Ie(d.J);Wt(A,"SID",d.M),Wt(A,"RID",E),Wt(A,"AID",d.K),Zr(d,A),d.u&&d.o&&Qr(A,d.u,d.o),E=new ii(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Au(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),yl(d.h,E),Si(E,A,v)}function Zr(d,v){d.H&&vt(d.H,function(E,A){Wt(v,A,E)}),d.l&&vt({},function(E,A){Wt(v,A,E)})}function Au(d,v,E){E=Math.min(d.i.length,E);const A=d.l?m(d.l.Ka,d.l,d):null;t:{var F=d.i;let Rt=-1;for(;;){const be=["count="+E];Rt==-1?E>0?(Rt=F[0].g,be.push("ofs="+Rt)):Rt=0:be.push("ofs="+Rt);let Kt=!0;for(let de=0;de<E;de++){var X=F[de].g;const zn=F[de].map;if(X-=Rt,X<0)Rt=Math.max(0,F[de].g-100),Kt=!1;else try{X="req"+X+"_"||"";try{var ot=zn instanceof Map?zn:Object.entries(zn);for(const[Pi,li]of ot){let ci=li;h(li)&&(ci=Us(li)),be.push(X+Pi+"="+encodeURIComponent(ci))}}catch(Pi){throw be.push(X+"type="+encodeURIComponent("_badmap")),Pi}}catch{A&&A(zn)}}if(Kt){ot=be.join("&");break t}}ot=void 0}return d=d.i.splice(0,E),v.G=d,ot}function Ru(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;W||w(),rt||(W(),rt=!0),M.add(v,d),d.A=0}}function Jr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ei(m(d.Da,d),Mu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ei(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Ks(this),Cu(this))};function Ml(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Cu(d){d.g=new ii(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Ie(d.na);Wt(v,"RID","rpc"),Wt(v,"SID",d.M),Wt(v,"AID",d.K),Wt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Wt(v,"TO",d.ia),Wt(v,"TYPE","xmlhttp"),Zr(d,v),d.u&&d.o&&Qr(v,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=Yr(Ie(v)),E.u=null,E.R=!0,Xa(E,d)}n.Va=function(){this.C!=null&&(this.C=null,Ks(this),Jr(this),Ae(19))};function io(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Iu(d,v){var E=null;if(d.g==v){io(d),Ml(d),d.g=null;var A=2}else if(Ii(d.h,v))E=v.G,vl(d.h,v),A=1;else return;if(d.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var F=d.D;A=Ka(),Le(A,new Ti(A,E)),ki(d)}else Ru(d);else if(F=v.m,F==3||F==0&&v.X>0||!(A==1&&no(d,v)||A==2&&Jr(d)))switch(E&&E.length>0&&(v=d.h,v.i=v.i.concat(E)),F){case 1:Vi(d,5);break;case 4:Vi(d,10);break;case 3:Vi(d,6);break;default:Vi(d,2)}}}function Mu(d,v){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*v}function Vi(d,v){if(d.j.info("Error code "+v),v==2){var E=m(d.bb,d),A=d.Ua;const F=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ge(A,"https"),Yr(A),F?ri(A.toString(),E):wl(A.toString(),E)}else Ae(2);d.I=0,d.l&&d.l.pa(v),Du(d),eo(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Du(d){if(d.I=0,d.ja=[],d.l){const v=bl(d.h);(v.length!=0||d.i.length!=0)&&(R(d.ja,v),R(d.ja,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.oa()}}function Ou(d,v,E){var A=E instanceof An?Ie(E):new An(E);if(A.g!="")v&&(A.g=v+"."+A.g),js(A,A.u);else{var F=c.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const X=new An(null);A&&Ge(X,A),v&&(X.g=v),F&&js(X,F),E&&(X.h=E),A=X}return E=d.G,v=d.wa,E&&v&&Wt(A,E,v),Wt(A,"VER",d.ka),Zr(d,A),A}function Nu(d,v,E){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ne(new Di({ab:E})):new ne(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}n=ku.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Xs(){}Xs.prototype.g=function(d,v){return new dn(d,v)};function dn(d,v){we.call(this),this.g=new Ys(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!O(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new os(this)}y(dn,we),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Cl(this.g)},dn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Us(d),d=E);v.i.push(new Ce(v.Ya++,d)),v.I==3&&ki(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,dn.Z.N.call(this)};function Vu(d){Xe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const E in v){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}y(Vu,Xe);function Pu(){kn.call(this),this.status=1}y(Pu,kn);function os(d){this.g=d}y(os,ku),os.prototype.ra=function(){Le(this.g,"a")},os.prototype.qa=function(d){Le(this.g,new Vu(d))},os.prototype.pa=function(d){Le(this.g,new Pu)},os.prototype.oa=function(){Le(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,cS=function(){return new Xs},lS=function(){return Ka()},oS=ve,ap={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,df=qr,ml.COMPLETE="complete",aS=ml,mu.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",we.prototype.listen=we.prototype.J,bc=mu,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,rS=ne}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const Wb="@firebase/firestore",Zb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Np("@firebase/firestore");function Lo(){return Da.logLevel}function ut(n,...t){if(Da.logLevel<=Lt.DEBUG){const e=t.map(Yp);Da.debug(`Firestore (${sl}): ${n}`,...e)}}function Vs(n,...t){if(Da.logLevel<=Lt.ERROR){const e=t.map(Yp);Da.error(`Firestore (${sl}): ${n}`,...e)}}function Qo(n,...t){if(Da.logLevel<=Lt.WARN){const e=t.map(Yp);Da.warn(`Firestore (${sl}): ${n}`,...e)}}function Yp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,uS(n,i,e)}function uS(n,t,e){let i=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Vs(i),new Error(i)}function $t(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||uS(t,r,i)}function At(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends ns{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class iM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(on.UNAUTHENTICATED)))}shutdown(){}}class sM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class rM{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$t(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ds,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ds)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($t(typeof i.accessToken=="string",31837,{l:i}),new hS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class aM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new aM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){$t(this.o===void 0,3512);const i=o=>{o.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?($t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Jb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=cM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function op(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return kg(r)===kg(o)?zt(r,o):kg(r)?1:-1}return zt(n.length,t.length)}const uM=55296,hM=57343;function kg(n){const t=n.charCodeAt(0);return t>=uM&&t<=hM}function $o(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__name__";class qi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Tt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=qi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return zt(t.length,e.length)}static compareSegments(t,e){const i=qi.isNumericId(t),r=qi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?qi.extractNumericId(t).compare(qi.extractNumericId(e)):op(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class ue extends qi{construct(t,e,i){return new ue(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const fM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends qi{construct(t,e,i){return new en(t,e,i)}static isValidIdentifier(t){return fM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tT}static keyField(){return new en([tT])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new mt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new mt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new mt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ue.fromString(t))}static fromName(t){return new pt(ue.fromString(t).popFirst(5))}static empty(){return new pt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,t,e){if(!e)throw new mt(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function dM(n,t,e,i){if(t===!0&&i===!0)throw new mt(st.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function eT(n){if(!pt.isDocumentKey(n))throw new mt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nT(n){if(pt.isDocumentKey(n))throw new mt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Xp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function Oa(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Xp(n);throw new mt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,t){const e={typeString:n};return t&&(e.value=t),e}function ru(n,t){if(!dS(n))throw new mt(st.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new mt(st.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=-62135596800,sT=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*sT);return new he(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<iT)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sT}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ve("string",he._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new he(0,0))}static max(){return new St(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=-1;function mM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new he(e+1,0):new he(e,i));return new Or(r,pt.empty(),t)}function gM(n){return new Or(n.readTime,n.key,Uc)}class Or{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Or(St.min(),pt.empty(),Uc)}static max(){return new Or(St.max(),pt.empty(),Uc)}}function pM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=pt.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==_M)throw n;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,i)=>{e(t)}))}static reject(t){return new it(((e,i)=>{i(t)}))}static waitFor(t){return new it(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=it.resolve(!1);for(const i of t)e=e.next((r=>r?it.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new it(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((_=>{c[m]=_,++h,h===o&&i(c)}),(_=>r(_)))}}))}static doWhile(t,e){return new it(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function vM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function al(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function id(n){return n==null}function Mf(n){return n===0&&1/n==-1/0}function bM(n){return typeof n=="number"&&Number.isInteger(n)&&!Mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="";function TM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=rT(t)),t=EM(n.get(e),t);return rT(t)}function EM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case mS:e+="";break;default:e+=o}}return e}function rT(n){return n+mS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function za(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function gS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fh(this.root,t,this.comparator,!0)}}class Fh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=r??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new tn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(t){return new oT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class oT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new gi([])}unionWith(t){let e=new He(en.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new gi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $o(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pS("Invalid base64 string: "+o):o}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const xM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(n){if($t(!!n,39018),typeof n=="string"){let t=0;const e=xM.exec(n);if($t(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xe(n.seconds),nanos:xe(n.nanos)}}function xe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function kr(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="server_timestamp",yS="__type__",vS="__previous_value__",bS="__local_write_time__";function $p(n){return(n?.mapValue?.fields||{})[yS]?.stringValue===_S}function sd(n){const t=n.mapValue.fields[vS];return $p(t)?sd(t):t}function jc(n){const t=Nr(n.mapValue.fields[bS].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,e,i,r,o,c,h,f,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=_}}const Df="(default)";class Bc{constructor(t,e){this.projectId=t,this.database=e||Df}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database===Df}isEqual(t){return t instanceof Bc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="__type__",wM="__max__",Hh={mapValue:{}},ES="__vector__",Of="value";function Vr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$p(n)?4:RM(n)?9007199254740991:AM(n)?10:11:Tt(28295,{value:n})}function Ji(n,t){if(n===t)return!0;const e=Vr(n);if(e!==Vr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return jc(n).isEqual(jc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Nr(r.timestampValue),h=Nr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return kr(r.bytesValue).isEqual(kr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return xe(r.geoPointValue.latitude)===xe(o.geoPointValue.latitude)&&xe(r.geoPointValue.longitude)===xe(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return xe(r.integerValue)===xe(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=xe(r.doubleValue),h=xe(o.doubleValue);return c===h?Mf(c)===Mf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return $o(n.arrayValue.values||[],t.arrayValue.values||[],Ji);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(aT(c)!==aT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Ji(c[f],h[f])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function Fc(n,t){return(n.values||[]).find((e=>Ji(e,t)))!==void 0}function Wo(n,t){if(n===t)return 0;const e=Vr(n),i=Vr(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=xe(o.integerValue||o.doubleValue),f=xe(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return lT(n.timestampValue,t.timestampValue);case 4:return lT(jc(n),jc(t));case 5:return op(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=kr(o),f=kr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const _=zt(h[m],f[m]);if(_!==0)return _}return zt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=zt(xe(o.latitude),xe(c.latitude));return h!==0?h:zt(xe(o.longitude),xe(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return cT(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[Of]?.arrayValue,_=f[Of]?.arrayValue,y=zt(m?.values?.length||0,_?.values?.length||0);return y!==0?y:cT(m,_)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Hh.mapValue&&c===Hh.mapValue)return 0;if(o===Hh.mapValue)return 1;if(c===Hh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let y=0;y<f.length&&y<_.length;++y){const T=op(f[y],_[y]);if(T!==0)return T;const x=Wo(h[f[y]],m[_[y]]);if(x!==0)return x}return zt(f.length,_.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function lT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=Nr(n),i=Nr(t),r=zt(e.seconds,i.seconds);return r!==0?r:zt(e.nanos,i.nanos)}function cT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Wo(e[r],i[r]);if(o)return o}return zt(e.length,i.length)}function Zo(n){return lp(n)}function lp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Nr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return kr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return pt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=lp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${lp(e.fields[c])}`;return r+"}"})(n.mapValue):Tt(61005,{value:n})}function mf(n){switch(Vr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sd(n);return t?16+mf(t):16;case 5:return 2*n.stringValue.length;case 6:return kr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+mf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return za(i.fields,((o,c)=>{r+=o.length+mf(c)})),r})(n.mapValue);default:throw Tt(13486,{value:n})}}function cp(n){return!!n&&"integerValue"in n}function Wp(n){return!!n&&"arrayValue"in n}function uT(n){return!!n&&"nullValue"in n}function hT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gf(n){return!!n&&"mapValue"in n}function AM(n){return(n?.mapValue?.fields||{})[TS]?.stringValue===ES}function Ic(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return za(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Ic(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ic(n.arrayValue.values[e]);return t}return{...n}}function RM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!gf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ic(e)}setAll(t){let e=en.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Ic(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());gf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ji(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){za(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Qn(Ic(this.value))}}function xS(n){const t=[];return za(n.fields,((e,i)=>{const r=new en([e]);if(gf(i)){const o=xS(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new gi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ln(t,0,St.min(),St.min(),St.min(),Qn.empty(),0)}static newFoundDocument(t,e,i,r){return new ln(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new ln(t,2,e,St.min(),St.min(),Qn.empty(),0)}static newUnknownDocument(t,e){return new ln(t,3,e,St.min(),St.min(),Qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,e){this.position=t,this.inclusive=e}}function fT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=pt.comparator(pt.fromName(c.referenceValue),e.key):i=Wo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function dT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ji(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,e="asc"){this.field=t,this.dir=e}}function CM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{}class Ue extends SS{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new MM(t,e,i):e==="array-contains"?new NM(t,i):e==="in"?new kM(t,i):e==="not-in"?new VM(t,i):e==="array-contains-any"?new PM(t,i):new Ue(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new DM(t,i):new OM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Wo(e,this.value)):e!==null&&Vr(this.value)===Vr(e)&&this.matchesComparison(Wo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends SS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ts(t,e)}matches(t){return wS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wS(n){return n.op==="and"}function AS(n){return IM(n)&&wS(n)}function IM(n){for(const t of n.filters)if(t instanceof ts)return!1;return!0}function up(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+Zo(n.value);if(AS(n))return n.filters.map((t=>up(t))).join(",");{const t=n.filters.map((e=>up(e))).join(",");return`${n.op}(${t})`}}function RS(n,t){return n instanceof Ue?(function(i,r){return r instanceof Ue&&i.op===r.op&&i.field.isEqual(r.field)&&Ji(i.value,r.value)})(n,t):n instanceof ts?(function(i,r){return r instanceof ts&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&RS(c,r.filters[h])),!0):!1})(n,t):void Tt(19439)}function CS(n){return n instanceof Ue?(function(e){return`${e.field.canonicalString()} ${e.op} ${Zo(e.value)}`})(n):n instanceof ts?(function(e){return e.op.toString()+" {"+e.getFilters().map(CS).join(" ,")+"}"})(n):"Filter"}class MM extends Ue{constructor(t,e,i){super(t,e,i),this.key=pt.fromName(i.referenceValue)}matches(t){const e=pt.comparator(t.key,this.key);return this.matchesComparison(e)}}class DM extends Ue{constructor(t,e){super(t,"in",e),this.keys=IS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class OM extends Ue{constructor(t,e){super(t,"not-in",e),this.keys=IS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function IS(n,t){return(t.arrayValue?.values||[]).map((e=>pt.fromName(e.referenceValue)))}class NM extends Ue{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Wp(e)&&Fc(e.arrayValue,this.value)}}class kM extends Ue{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Fc(this.value.arrayValue,e)}}class VM extends Ue{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Fc(this.value.arrayValue,e)}}class PM extends Ue{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Wp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Fc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function mT(n,t=null,e=[],i=[],r=null,o=null,c=null){return new LM(n,t,e,i,r,o,c)}function Zp(n){const t=At(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>up(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),id(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Zo(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Zo(i))).join(",")),t.Te=e}return t.Te}function Jp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!CM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!RS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!dT(n.startAt,t.startAt)&&dT(n.endAt,t.endAt)}function hp(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zM(n,t,e,i,r,o,c,h){return new rd(n,t,e,i,r,o,c,h)}function t_(n){return new rd(n)}function gT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UM(n){return n.collectionGroup!==null}function Mc(n){const t=At(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new He(en.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new kf(o,i))})),e.has(en.keyField().canonicalString())||t.Ie.push(new kf(en.keyField(),i))}return t.Ie}function Ki(n){const t=At(n);return t.Ee||(t.Ee=jM(t,Mc(n))),t.Ee}function jM(n,t){if(n.limitType==="F")return mT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new kf(r.field,o)}));const e=n.endAt?new Nf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Nf(n.startAt.position,n.startAt.inclusive):null;return mT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function fp(n,t,e){return new rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ad(n,t){return Jp(Ki(n),Ki(t))&&n.limitType===t.limitType}function MS(n){return`${Zp(Ki(n))}|lt:${n.limitType}`}function zo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>CS(r))).join(", ")}]`),id(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Zo(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Zo(r))).join(",")),`Target(${i})`})(Ki(n))}; limitType=${n.limitType})`}function od(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Mc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const m=fT(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,Mc(i),r)||i.endAt&&!(function(c,h,f){const m=fT(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,Mc(i),r))})(n,t)}function BM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DS(n){return(t,e)=>{let i=!1;for(const r of Mc(n)){const o=FM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function FM(n,t,e){const i=n.field.isKeyField()?pt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Wo(f,m):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){za(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return gS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new ge(pt.comparator);function Ps(){return HM}const OS=new ge(pt.comparator);function Tc(...n){let t=OS;for(const e of n)t=t.insert(e.key,e);return t}function NS(n){let t=OS;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function xa(){return Dc()}function kS(){return Dc()}function Dc(){return new Ua((n=>n.toString()),((n,t)=>n.isEqual(t)))}const qM=new ge(pt.comparator),GM=new He(pt.comparator);function Ut(...n){let t=GM;for(const e of n)t=t.add(e);return t}const YM=new He(zt);function KM(){return YM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(t)?"-0":t}}function VS(n){return{integerValue:""+n}}function XM(n,t){return bM(t)?VS(t):e_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function QM(n,t,e){return n instanceof Vf?(function(r,o){const c={fields:{[yS]:{stringValue:_S},[bS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&$p(o)&&(o=sd(o)),o&&(c.fields[vS]=o),{mapValue:c}})(e,t):n instanceof Hc?LS(n,t):n instanceof qc?zS(n,t):(function(r,o){const c=PS(r,o),h=pT(c)+pT(r.Ae);return cp(c)&&cp(r.Ae)?VS(h):e_(r.serializer,h)})(n,t)}function $M(n,t,e){return n instanceof Hc?LS(n,t):n instanceof qc?zS(n,t):e}function PS(n,t){return n instanceof Pf?(function(i){return cp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Vf extends ld{}class Hc extends ld{constructor(t){super(),this.elements=t}}function LS(n,t){const e=US(t);for(const i of n.elements)e.some((r=>Ji(r,i)))||e.push(i);return{arrayValue:{values:e}}}class qc extends ld{constructor(t){super(),this.elements=t}}function zS(n,t){let e=US(t);for(const i of n.elements)e=e.filter((r=>!Ji(r,i)));return{arrayValue:{values:e}}}class Pf extends ld{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function pT(n){return xe(n.integerValue||n.doubleValue)}function US(n){return Wp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function WM(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Hc&&r instanceof Hc||i instanceof qc&&r instanceof qc?$o(i.elements,r.elements,Ji):i instanceof Pf&&r instanceof Pf?Ji(i.Ae,r.Ae):i instanceof Vf&&r instanceof Vf})(n.transform,t.transform)}class ZM{constructor(t,e){this.version=t,this.transformResults=e}}class Os{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Os}static exists(t){return new Os(void 0,t)}static updateTime(t){return new Os(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class cd{}function jS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new FS(n.key,Os.none()):new au(n.key,n.data,Os.none());{const e=n.data,i=Qn.empty();let r=new He(en.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new ja(n.key,i,new gi(r.toArray()),Os.none())}}function JM(n,t,e){n instanceof au?(function(r,o,c){const h=r.value.clone(),f=yT(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof ja?(function(r,o,c){if(!pf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=yT(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(BS(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Oc(n,t,e,i){return n instanceof au?(function(o,c,h,f){if(!pf(o.precondition,c))return h;const m=o.value.clone(),_=vT(o.fieldTransforms,f,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof ja?(function(o,c,h,f){if(!pf(o.precondition,c))return h;const m=vT(o.fieldTransforms,f,c),_=c.data;return _.setAll(BS(o)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,t,e,i):(function(o,c,h){return pf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function tD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=PS(i.transform,r||null);o!=null&&(e===null&&(e=Qn.empty()),e.set(i.field,o))}return e||null}function _T(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&$o(i,r,((o,c)=>WM(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class au extends cd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ja extends cd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function yT(n,t,e){const i=new Map;$t(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,$M(c,h,e[r]))}return i}function vT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,QM(o,c,t))}return i}class FS extends cd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eD extends cd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&JM(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Oc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Oc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=kS();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=jS(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(St.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&$o(this.mutations,t.mutations,((e,i)=>_T(e,i)))&&$o(this.baseMutations,t.baseMutations,((e,i)=>_T(e,i)))}}class n_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){$t(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return qM})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new n_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,Ft;function rD(n){switch(n){case st.OK:return Tt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function HS(n){if(n===void 0)return Vs("GRPC error has no .code"),st.UNKNOWN;switch(n){case ke.OK:return st.OK;case ke.CANCELLED:return st.CANCELLED;case ke.UNKNOWN:return st.UNKNOWN;case ke.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case ke.INTERNAL:return st.INTERNAL;case ke.UNAVAILABLE:return st.UNAVAILABLE;case ke.UNAUTHENTICATED:return st.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case ke.NOT_FOUND:return st.NOT_FOUND;case ke.ALREADY_EXISTS:return st.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return st.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case ke.ABORTED:return st.ABORTED;case ke.OUT_OF_RANGE:return st.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return st.UNIMPLEMENTED;case ke.DATA_LOSS:return st.DATA_LOSS;default:return Tt(39323,{code:n})}}(Ft=ke||(ke={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Cr([4294967295,4294967295],0);function bT(n){const t=aD().encode(n),e=new sS;return e.update(t),new Uint8Array(e.digest())}function TT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Cr([e,i],0),new Cr([r,o],0)]}class i_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ec(`Invalid padding: ${e}`);if(i<0)throw new Ec(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Cr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Cr.fromNumber(i)));return r.compare(oD)===1&&(r=new Cr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=bT(t),[i,r]=TT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new i_(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=bT(t),[i,r]=TT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new ud(St.min(),r,new ge(zt),Ps(),Ut())}}class ou{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ou(i,e,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class qS{constructor(t,e){this.targetId=t,this.Ce=e}}class GS{constructor(t,e,i=nn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class ET{constructor(){this.ve=0,this.Fe=xT(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),i=Ut();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Tt(38017,{changeType:o})}})),new ou(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=xT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lD{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ps(),this.Je=qh(),this.He=qh(),this.Ye=new ge(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(hp(o))if(i===0){const c=new pt(o.path);this.et(e,c,ln.newNoDocument(c,St.min()))}else $t(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=kr(i).toUint8Array()}catch(f){if(f instanceof pS)return Qo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new i_(c,r,o)}catch(f){return Qo(f instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&hp(h.target)){const f=new pt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ln.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ut();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new ud(t,e,this.Ye,this.je,i);return this.je=Ps(),this.Je=qh(),this.He=qh(),this.Ye=new ge(zt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new ET,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new He(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new He(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ut("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ET),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function qh(){return new ge(pt.comparator)}function xT(){return new ge(pt.comparator)}const cD={asc:"ASCENDING",desc:"DESCENDING"},uD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hD={and:"AND",or:"OR"};class fD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function dp(n,t){return n.useProto3Json||id(t)?t:{value:t}}function Lf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function dD(n,t){return Lf(n,t.toTimestamp())}function Xi(n){return $t(!!n,49232),St.fromTimestamp((function(e){const i=Nr(e);return new he(i.seconds,i.nanos)})(n))}function s_(n,t){return mp(n,t).canonicalString()}function mp(n,t){const e=(function(r){return new ue(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function KS(n){const t=ue.fromString(n);return $t(ZS(t),10190,{key:t.toString()}),t}function gp(n,t){return s_(n.databaseId,t.path)}function Vg(n,t){const e=KS(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new pt(QS(e))}function XS(n,t){return s_(n.databaseId,t)}function mD(n){const t=KS(n);return t.length===4?ue.emptyPath():QS(t)}function pp(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QS(n){return $t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ST(n,t,e){return{name:gp(n,t),fields:e.value.mapValue.fields}}function gD(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Tt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(m,_){return m.useProto3Json?($t(_===void 0||typeof _=="string",58123),nn.fromBase64String(_||"")):($t(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),nn.fromUint8Array(_||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const _=m.code===void 0?st.UNKNOWN:HS(m.code);return new mt(_,m.message||"")})(c);e=new GS(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Vg(n,i.document.name),o=Xi(i.document.updateTime),c=i.document.createTime?Xi(i.document.createTime):St.min(),h=new Qn({mapValue:{fields:i.document.fields}}),f=ln.newFoundDocument(r,o,c,h),m=i.targetIds||[],_=i.removedTargetIds||[];e=new _f(m,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Vg(n,i.document),o=i.readTime?Xi(i.readTime):St.min(),c=ln.newNoDocument(r,o),h=i.removedTargetIds||[];e=new _f([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Vg(n,i.document),o=i.removedTargetIds||[];e=new _f([],o,r,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new sD(r,o),h=i.targetId;e=new qS(h,c)}}return e}function pD(n,t){let e;if(t instanceof au)e={update:ST(n,t.key,t.value)};else if(t instanceof FS)e={delete:gp(n,t.key)};else if(t instanceof ja)e={update:ST(n,t.key,t.data),updateMask:wD(t.fieldMask)};else{if(!(t instanceof eD))return Tt(16599,{Vt:t.type});e={verify:gp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Vf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Hc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof qc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Pf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Tt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:dD(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Tt(27497)})(n,t.precondition)),e}function _D(n,t){return n&&n.length>0?($t(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?Xi(r.updateTime):Xi(o);return c.isEqual(St.min())&&(c=Xi(o)),new ZM(c,r.transformResults||[])})(e,t)))):[]}function yD(n,t){return{documents:[XS(n,t.path)]}}function vD(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=XS(n,r);const o=(function(m){if(m.length!==0)return WS(ts.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((_=>(function(T){return{field:Uo(T.field),direction:ED(T.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=dp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:r}}function bD(n){let t=mD(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){$t(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=(function(y){const T=$S(y);return T instanceof ts&&AS(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(y){return y.map((T=>(function(R){return new kf(jo(R.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(y){let T;return T=typeof y=="object"?y.value:y,id(T)?null:T})(e.limit));let f=null;e.startAt&&(f=(function(y){const T=!!y.before,x=y.values||[];return new Nf(x,T)})(e.startAt));let m=null;return e.endAt&&(m=(function(y){const T=!y.before,x=y.values||[];return new Nf(x,T)})(e.endAt)),zM(t,r,c,o,h,"F",f,m)}function TD(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function $S(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=jo(e.unaryFilter.field);return Ue.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=jo(e.unaryFilter.field);return Ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=jo(e.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=jo(e.unaryFilter.field);return Ue.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ue.create(jo(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ts.create(e.compositeFilter.filters.map((i=>$S(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function ED(n){return cD[n]}function xD(n){return uD[n]}function SD(n){return hD[n]}function Uo(n){return{fieldPath:n.canonicalString()}}function jo(n){return en.fromServerFormat(n.fieldPath)}function WS(n){return n instanceof Ue?(function(e){if(e.op==="=="){if(hT(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NAN"}};if(uT(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hT(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NAN"}};if(uT(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(e.field),op:xD(e.op),value:e.value}}})(n):n instanceof ts?(function(e){const i=e.getFilters().map((r=>WS(r)));return i.length===1?i[0]:{compositeFilter:{op:SD(e.op),filters:i}}})(n):Tt(54877,{filter:n})}function wD(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ZS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t,e,i,r,o=St.min(),c=St.min(),h=nn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t){this.yt=t}}function RD(n){const t=bD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.Cn=new ID}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(Or.min())}updateCollectionGroup(t,e,i){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class ID{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new He(ue.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new He(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JS=41943040;class xn{static withCacheSize(t){return new xn(t,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(JS,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Jo(0)}static cr(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="LruGarbageCollector",MD=1048576;function RT([n,t],[e,i]){const r=zt(n,e);return r===0?zt(t,i):r}class DD{constructor(t){this.Ir=t,this.buffer=new He(RT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();RT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class OD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(AT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){al(e)?ut(AT,"Ignoring IndexedDB error during garbage collection: ",e):await rl(e)}await this.Vr(3e5)}))}}class ND{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(nd.ce);const i=new DD(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(wT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,c=Date.now(),this.nthSequenceNumber(t,r)))).next((y=>(i=y,h=Date.now(),this.removeTargets(t,i,e)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((y=>(m=Date.now(),Lo()<=Lt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${y} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y}))))}}function kD(n,t){return new ND(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.changes=new Ua((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?it.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&Oc(i.mutation,r,gi.empty(),he.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ut()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ut()){const r=xa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=Tc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=xa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ut())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=Ps();const c=Dc(),h=(function(){return Dc()})();return e.forEach(((f,m)=>{const _=i.get(m.key);r.has(m.key)&&(_===void 0||_.mutation instanceof ja)?o=o.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),Oc(_.mutation,m,_.mutation.getFieldMask(),he.now())):c.set(m.key,gi.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,_)=>c.set(m,_))),e.forEach(((m,_)=>h.set(m,new PD(_,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Dc();let r=new ge(((c,h)=>c-h)),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let _=i.get(f)||gi.empty();_=h.applyToLocalView(m,_),i.set(f,_);const y=(r.get(h.batchId)||Ut()).add(f);r=r.insert(h.batchId,y)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,_=f.value,y=kS();_.forEach((T=>{if(!o.has(T)){const x=jS(e.get(T),i.get(T));x!==null&&y.set(T,x),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,y))}return it.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return pt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):UM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):it.resolve(xa());let h=Uc,f=o;return c.next((m=>it.forEach(m,((_,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(_)?it.resolve():this.remoteDocumentCache.getEntry(t,_).next((T=>{f=f.insert(_,T)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,Ut()))).next((_=>({batchId:h,changes:NS(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new pt(e)).next((i=>{let r=Tc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Tc();return this.indexManager.getCollectionParents(t,o).next((h=>it.forEach(h,(f=>{const m=(function(y,T){return new rd(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next((_=>{_.forEach(((y,T)=>{c=c.insert(y,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,ln.newInvalidDocument(_)))}));let h=Tc();return c.forEach(((f,m)=>{const _=o.get(f);_!==void 0&&Oc(_.mutation,m,gi.empty(),he.now()),od(e,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return it.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Xi(r.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:RD(r.bundledQuery),readTime:Xi(r.readTime)}})(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.overlays=new ge(pt.comparator),this.qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const i=xa();return it.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),it.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),it.resolve()}getOverlaysForCollection(t,e,i){const r=xa(),o=e.length+1,c=new pt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return it.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ge(((m,_)=>m-_));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let _=o.get(m.largestBatchId);_===null&&(_=xa(),o=o.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=xa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,_)=>h.set(m,_))),!(h.size()>=r)););return it.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new iD(e,i));let o=this.qr.get(e);o===void 0&&(o=Ut(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.Qr=new He(Ke.$r),this.Ur=new He(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Ke(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Ke(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new pt(new ue([])),i=new Ke(e,t),r=new Ke(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new pt(new ue([])),i=new Ke(e,t),r=new Ke(e,t+1);let o=Ut();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Ke(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ke{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return pt.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||pt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ke.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nD(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Ke(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,e){return it.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return it.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Qp:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ke(e,0),r=new Ke(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),it.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(zt);return e.forEach((r=>{const o=new Ke(r,0),c=new Ke(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),it.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;pt.isDocumentKey(o)||(o=o.child(""));const c=new Ke(new pt(o),0);let h=new He(zt);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(f.Yr)),!0)}),c),it.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){$t(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return it.forEach(e.mutations,(r=>{const o=new Ke(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Ke(e,0),r=this.Zr.firstAfterOrEqual(i);return it.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.ri=t,this.docs=(function(){return new ge(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return it.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(e))}getEntries(t,e){let i=Ps();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ln.newInvalidDocument(r))})),it.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ps();const c=e.path,h=new pt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||pM(gM(_),i)<=0||(r.has(_.key)||od(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return it.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Tt(9500)}ii(t,e){return it.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new HD(this)}getSize(t){return it.resolve(this.size)}}class HD extends VD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),it.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t){this.persistence=t,this.si=new Ua((e=>Zp(e)),Jp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new r_,this.targetCount=0,this.ai=Jo.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),it.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Jo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Pr(e),it.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),it.waitFor(o).next((()=>r))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return it.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),it.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),it.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return it.resolve(i)}containsKey(t,e){return it.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,e){this.ui={},this.overlays={},this.ci=new nd(0),this.li=!1,this.li=!0,this.hi=new jD,this.referenceDelegate=t(this),this.Pi=new qD(this),this.indexManager=new CD,this.remoteDocumentCache=(function(r){return new FD(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new AD(e),this.Ii=new zD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new UD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new BD(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ut("MemoryPersistence","Starting transaction:",t);const r=new GD(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return it.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class GD extends yM{constructor(t){super(),this.currentSequenceNumber=t}}class a_{constructor(t){this.persistence=t,this.Ri=new r_,this.Vi=null}static mi(t){return new a_(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),it.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(i=>{const r=pt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,St.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class zf{constructor(t,e){this.persistence=t,this.pi=new Ua((i=>TM(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=kD(this,e)}static mi(t,e){return new zf(t,e)}Ei(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return it.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?it.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,St.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=mf(t.data.value)),e}br(t,e,i){return it.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return it.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Ut(),r=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new o_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zR()?8:vM(hn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new YD;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Lo()<=Lt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",zo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Lo()<=Lt.DEBUG&&ut("QueryEngine","Query:",zo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Lo()<=Lt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",zo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ki(e))):it.resolve())}ys(t,e){if(gT(e))return it.resolve(null);let i=Ki(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=fp(e,null,"F"),i=Ki(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ut(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,fp(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,i,r){return gT(e)||r.isEqual(St.min())?it.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?it.resolve(null):(Lo()<=Lt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zo(e)),this.vs(t,c,e,mM(r,Uc)).next((h=>h)))}))}Ds(t,e){let i=new He(DS(t));return e.forEach(((r,o)=>{od(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Lo()<=Lt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",zo(e)),this.ps.getDocumentsMatchingQuery(t,e,Or.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="LocalStore",XD=3e8;class QD{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new ge(zt),this.xs=new Ua((o=>Zp(o)),Jp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function $D(n,t,e,i){return new QD(n,t,e,i)}async function e1(n,t){const e=At(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Ut();for(const m of r){c.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of o){h.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function WD(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,_){const y=m.batch,T=y.keys();let x=it.resolve();return T.forEach((R=>{x=x.next((()=>_.getEntry(f,R))).next((C=>{const I=m.docVersions.get(R);$t(I!==null,48541),C.version.compareTo(I)<0&&(y.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),_.addEntry(C)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(f,y)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ut();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function n1(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function ZD(n,t){const e=At(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((_,y)=>{const T=r.get(y);if(!T)return;h.push(e.Pi.removeMatchingKeys(o,_.removedDocuments,y).next((()=>e.Pi.addMatchingKeys(o,_.addedDocuments,y))));let x=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?x=x.withResumeToken(nn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,i)),r=r.insert(y,x),(function(C,I,L){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=XD?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,x,_)&&h.push(e.Pi.updateTargetData(o,x))}));let f=Ps(),m=Ut();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))})),h.push(JD(o,c,t.documentUpdates).next((_=>{f=_.ks,m=_.qs}))),!i.isEqual(St.min())){const _=e.Pi.getLastRemoteSnapshotVersion(o).next((y=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(_)}return it.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function JD(n,t,e){let i=Ut(),r=Ut();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Ps();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(St.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ut(l_,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function tO(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Qp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function eO(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,it.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new Er(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function _p(n,t,e){const i=At(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!al(c))throw c;ut(l_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function CT(n,t,e){const i=At(n);let r=St.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,_){const y=At(f),T=y.xs.get(_);return T!==void 0?it.resolve(y.Ms.get(T)):y.Pi.getTargetData(m,_)})(i,c,Ki(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:St.min(),e?o:Ut()))).next((h=>(nO(i,BM(t),h),{documents:h,Qs:o})))))}function nO(n,t,e){let i=n.Os.get(t)||St.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class IT{constructor(){this.activeTargetIds=KM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iO{constructor(){this.Mo=new IT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new IT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="ConnectivityMonitor";class DT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(MT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(MT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=null;function yp(){return Gh===null?Gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gh++,"0x"+Gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="RestConnection",rO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aO{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Df?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=yp(),h=this.zo(t,e.toUriEncodedString());ut(Pg,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:m}=new URL(h),_=Pa(m);return this.Jo(t,h,f,i,_).then((y=>(ut(Pg,`Received RPC '${t}' ${c}: `,y),y)),(y=>{throw Qo(Pg,`RPC '${t}' ${c} failed with error: `,y,"url: ",h,"request:",i),y}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=rO[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class lO extends aO{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=yp();return new Promise(((h,f)=>{const m=new rS;m.setWithCredentials(!0),m.listenOnce(aS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case df.NO_ERROR:const y=m.getResponseJson();ut(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(y)),h(y);break;case df.TIMEOUT:ut(rn,`RPC '${t}' ${c} timed out`),f(new mt(st.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const T=m.getStatus();if(ut(rn,`RPC '${t}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const R=x?.error;if(R&&R.status&&R.message){const C=(function(L){const Y=L.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Y)>=0?Y:st.UNKNOWN})(R.status);f(new mt(C,R.message))}else f(new mt(st.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new mt(st.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ut(rn,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(r);ut(rn,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",_,i,15)}))}T_(t,e,i){const r=yp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=cS(),h=lS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=o.join("");ut(rn,`Creating RPC '${t}' stream ${r}: ${_}`,f);const y=c.createWebChannel(_,f);this.I_(y);let T=!1,x=!1;const R=new oO({Yo:I=>{x?ut(rn,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(T||(ut(rn,`Opening RPC '${t}' stream ${r} transport.`),y.open(),T=!0),ut(rn,`RPC '${t}' stream ${r} sending:`,I),y.send(I))},Zo:()=>y.close()}),C=(I,L,Y)=>{I.listen(L,($=>{try{Y($)}catch(et){setTimeout((()=>{throw et}),0)}}))};return C(y,bc.EventType.OPEN,(()=>{x||(ut(rn,`RPC '${t}' stream ${r} transport opened.`),R.o_())})),C(y,bc.EventType.CLOSE,(()=>{x||(x=!0,ut(rn,`RPC '${t}' stream ${r} transport closed`),R.a_(),this.E_(y))})),C(y,bc.EventType.ERROR,(I=>{x||(x=!0,Qo(rn,`RPC '${t}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),R.a_(new mt(st.UNAVAILABLE,"The operation could not be completed")))})),C(y,bc.EventType.MESSAGE,(I=>{if(!x){const L=I.data[0];$t(!!L,16349);const Y=L,$=Y?.error||Y[0]?.error;if($){ut(rn,`RPC '${t}' stream ${r} received error:`,$);const et=$.status;let W=(function(w){const D=ke[w];if(D!==void 0)return HS(D)})(et),rt=$.message;W===void 0&&(W=st.INTERNAL,rt="Unknown error status: "+et+" with message "+$.message),x=!0,R.a_(new mt(W,rt)),y.close()}else ut(rn,`RPC '${t}' stream ${r} received:`,L),R.u_(L)}})),C(h,oS.STAT_EVENT,(I=>{I.stat===ap.PROXY?ut(rn,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===ap.NOPROXY&&ut(rn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(n){return new fD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ut("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="PersistentStream";class s1{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===st.RESOURCE_EXHAUSTED?(Vs(e.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new mt(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(OT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ut(OT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cO extends s1{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=gD(this.serializer,t),i=(function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Xi(c.readTime):St.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=pp(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=hp(f)?{documents:yD(o,f)}:{query:vD(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=YS(o,c.resumeToken);const m=dp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(St.min())>0){h.readTime=Lf(o,c.snapshotVersion.toTimestamp());const m=dp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=TD(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=pp(this.serializer),e.removeTarget=t,this.q_(e)}}class uO extends s1{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=_D(t.writeResults,t.commitTime),i=Xi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=pp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>pD(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{}class fO extends hO{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,mp(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(st.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,mp(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(e),this.aa=!1):ut("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class mO{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ba(this)&&(ut(Na,"Restarting streams for network reachability change."),await(async function(f){const m=At(f);m.Ea.add(4),await lu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await fd(m)})(this))}))})),this.Ra=new dO(i,r)}}async function fd(n){if(Ba(n))for(const t of n.da)await t(!0)}async function lu(n){for(const t of n.da)await t(!1)}function r1(n,t){const e=At(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),f_(e)?h_(e):ol(e).O_()&&u_(e,t))}function c_(n,t){const e=At(n),i=ol(e);e.Ia.delete(t),i.O_()&&a1(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ba(e)&&e.Ra.set("Unknown"))}function u_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ol(n).Y_(t)}function a1(n,t){n.Va.Ue(t),ol(n).Z_(t)}function h_(n){n.Va=new lD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ol(n).start(),n.Ra.ua()}function f_(n){return Ba(n)&&!ol(n).x_()&&n.Ia.size>0}function Ba(n){return At(n).Ea.size===0}function o1(n){n.Va=void 0}async function gO(n){n.Ra.set("Online")}async function pO(n){n.Ia.forEach(((t,e)=>{u_(n,t)}))}async function _O(n,t){o1(n),f_(n)?(n.Ra.ha(t),h_(n)):n.Ra.set("Unknown")}async function yO(n,t,e){if(n.Ra.set("Online"),t instanceof GS&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ut(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Uf(n,i)}else if(t instanceof _f?n.Va.Ze(t):t instanceof qS?n.Va.st(t):n.Va.tt(t),!e.isEqual(St.min()))try{const i=await n1(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.Ia.get(m);_&&o.Ia.set(m,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const _=o.Ia.get(f);if(!_)return;o.Ia.set(f,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),a1(o,f);const y=new Er(_.target,f,m,_.sequenceNumber);u_(o,y)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ut(Na,"Failed to raise snapshot:",i),await Uf(n,i)}}async function Uf(n,t,e){if(!al(t))throw t;n.Ea.add(1),await lu(n),n.Ra.set("Offline"),e||(e=()=>n1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ut(Na,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await fd(n)}))}function l1(n,t){return t().catch((e=>Uf(n,e,t)))}async function dd(n){const t=At(n),e=Pr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qp;for(;vO(t);)try{const r=await tO(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,bO(t,r)}catch(r){await Uf(t,r)}c1(t)&&u1(t)}function vO(n){return Ba(n)&&n.Ta.length<10}function bO(n,t){n.Ta.push(t);const e=Pr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function c1(n){return Ba(n)&&!Pr(n).x_()&&n.Ta.length>0}function u1(n){Pr(n).start()}async function TO(n){Pr(n).ra()}async function EO(n){const t=Pr(n);for(const e of n.Ta)t.ea(e.mutations)}async function xO(n,t,e){const i=n.Ta.shift(),r=n_.from(i,t,e);await l1(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await dd(n)}async function SO(n,t){t&&Pr(n).X_&&await(async function(i,r){if((function(c){return rD(c)&&c!==st.ABORTED})(r.code)){const o=i.Ta.shift();Pr(i).B_(),await l1(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await dd(i)}})(n,t),c1(n)&&u1(n)}async function NT(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),ut(Na,"RemoteStore received new credentials");const i=Ba(e);e.Ea.add(3),await lu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await fd(e)}async function wO(n,t){const e=At(n);t?(e.Ea.delete(2),await fd(e)):t||(e.Ea.add(2),await lu(e),e.Ra.set("Unknown"))}function ol(n){return n.ma||(n.ma=(function(e,i,r){const o=At(e);return o.sa(),new cO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:gO.bind(null,n),t_:pO.bind(null,n),r_:_O.bind(null,n),H_:yO.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),f_(n)?h_(n):n.Ra.set("Unknown")):(await n.ma.stop(),o1(n))}))),n.ma}function Pr(n){return n.fa||(n.fa=(function(e,i,r){const o=At(e);return o.sa(),new uO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:TO.bind(null,n),r_:SO.bind(null,n),ta:EO.bind(null,n),na:xO.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await dd(n)):(await n.fa.stop(),n.Ta.length>0&&(ut(Na,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new d_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m_(n,t){if(Vs("AsyncQueue",`${t}: ${n}`),al(n))return new mt(st.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(t){return new qo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||pt.comparator(e.key,i.key):(e,i)=>pt.comparator(e.key,i.key),this.keyedMap=Tc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof qo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new qo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.ga=new ge(pt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class tl{constructor(t,e,i,r,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new tl(t,e,qo.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ad(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class RO{constructor(){this.queries=VT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=At(e),o=r.queries;r.queries=VT(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new mt(st.ABORTED,"Firestore shutting down"))}}function VT(){return new Ua((n=>MS(n)),ad)}async function h1(n,t){const e=At(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new AO,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=m_(c,`Initialization of query '${zo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&g_(e)}async function f1(n,t){const e=At(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function CO(n,t){const e=At(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&g_(e)}function IO(n,t,e){const i=At(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function g_(n){n.Ca.forEach((t=>{t.next()}))}var vp,PT;(PT=vp||(vp={})).Ma="default",PT.Cache="cache";class d1{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new tl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=tl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t){this.key=t}}class g1{constructor(t){this.key=t}}class MO{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=DS(t),this.tu=new qo(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new kT,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((_,y)=>{const T=r.get(_),x=od(this.query,y)?y:null,R=!!T&&this.mutatedKeys.has(T.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;T&&x?T.data.isEqual(x.data)?R!==C&&(i.track({type:3,doc:x}),I=!0):this.su(T,x)||(i.track({type:2,doc:x}),I=!0,(f&&this.eu(x,f)>0||m&&this.eu(x,m)<0)&&(h=!0)):!T&&x?(i.track({type:0,doc:x}),I=!0):T&&!x&&(i.track({type:1,doc:T}),I=!0,(f||m)&&(h=!0)),I&&(x?(c=c.add(x),o=C?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,y)=>(function(x,R){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:I})}};return C(x)-C(R)})(_.type,y.type)||this.eu(_.doc,y.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new tl(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new g1(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new m1(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const p_="SyncEngine";class DO{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class OO{constructor(t){this.key=t,this.hu=!1}}class NO{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ua((h=>MS(h)),ad),this.Iu=new Map,this.Eu=new Set,this.du=new ge(pt.comparator),this.Au=new Map,this.Ru=new r_,this.Vu={},this.mu=new Map,this.fu=Jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kO(n,t,e=!0){const i=T1(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await p1(i,t,e,!0),r}async function VO(n,t){const e=T1(n);await p1(e,t,!0,!1)}async function p1(n,t,e,i){const r=await eO(n.localStore,Ki(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await PO(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&r1(n.remoteStore,r),h}async function PO(n,t,e,i,r){n.pu=(y,T,x)=>(async function(C,I,L,Y){let $=I.view.ru(L);$.Cs&&($=await CT(C.localStore,I.query,!1).then((({documents:M})=>I.view.ru(M,$))));const et=Y&&Y.targetChanges.get(I.targetId),W=Y&&Y.targetMismatches.get(I.targetId)!=null,rt=I.view.applyChanges($,C.isPrimaryClient,et,W);return zT(C,I.targetId,rt.au),rt.snapshot})(n,y,T,x);const o=await CT(n.localStore,t,!0),c=new MO(t,o.Qs),h=c.ru(o.documents),f=ou.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,f);zT(n,e,m.au);const _=new DO(t,e,c);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function LO(n,t,e){const i=At(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!ad(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await _p(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&c_(i.remoteStore,r.targetId),bp(i,r.targetId)})).catch(rl)):(bp(i,r.targetId),await _p(i.localStore,r.targetId,!0))}async function zO(n,t){const e=At(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),c_(e.remoteStore,i.targetId))}async function UO(n,t,e){const i=YO(n);try{const r=await(function(c,h){const f=At(c),m=he.now(),_=h.reduce(((x,R)=>x.add(R.key)),Ut());let y,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let R=Ps(),C=Ut();return f.Ns.getEntries(x,_).next((I=>{R=I,R.forEach(((L,Y)=>{Y.isValidDocument()||(C=C.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,R))).next((I=>{y=I;const L=[];for(const Y of h){const $=tD(Y,y.get(Y.key).overlayedDocument);$!=null&&L.push(new ja(Y.key,$,xS($.value.mapValue),Os.exists(!0)))}return f.mutationQueue.addMutationBatch(x,m,L,h)})).next((I=>{T=I;const L=I.applyToLocalDocumentSet(y,C);return f.documentOverlayCache.saveOverlays(x,I.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:NS(y)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new ge(zt)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(i,r.batchId,e),await cu(i,r.changes),await dd(i.remoteStore)}catch(r){const o=m_(r,"Failed to persist write");e.reject(o)}}async function _1(n,t){const e=At(n);try{const i=await ZD(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&($t(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?$t(c.hu,14607):r.removedDocuments.size>0&&($t(c.hu,42227),c.hu=!1))})),await cu(e,i,t)}catch(i){await rl(i)}}function LT(n,t,e){const i=At(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=At(c);f.onlineState=h;let m=!1;f.queries.forEach(((_,y)=>{for(const T of y.Sa)T.va(h)&&(m=!0)})),m&&g_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function jO(n,t,e){const i=At(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new ge(pt.comparator);c=c.insert(o,ln.newNoDocument(o,St.min()));const h=Ut().add(o),f=new ud(St.min(),new Map,new ge(zt),c,h);await _1(i,f),i.du=i.du.remove(o),i.Au.delete(t),__(i)}else await _p(i.localStore,t,!1).then((()=>bp(i,t,e))).catch(rl)}async function BO(n,t){const e=At(n),i=t.batch.batchId;try{const r=await WD(e.localStore,t);v1(e,i,null),y1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await cu(e,r)}catch(r){await rl(r)}}async function FO(n,t,e){const i=At(n);try{const r=await(function(c,h){const f=At(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return f.mutationQueue.lookupMutationBatch(m,h).next((y=>($t(y!==null,37113),_=y.keys(),f.mutationQueue.removeMutationBatch(m,y)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>f.localDocuments.getDocuments(m,_)))}))})(i.localStore,t);v1(i,t,e),y1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await cu(i,r)}catch(r){await rl(r)}}function y1(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function v1(n,t,e){const i=At(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function bp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||b1(n,i)}))}function b1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(c_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),__(n))}function zT(n,t,e){for(const i of e)i instanceof m1?(n.Ru.addReference(i.key,t),HO(n,i)):i instanceof g1?(ut(p_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||b1(n,i.key)):Tt(19791,{wu:i})}function HO(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ut(p_,"New document in limbo: "+e),n.Eu.add(i),__(n))}function __(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new pt(ue.fromString(t)),i=n.fu.next();n.Au.set(i,new OO(e)),n.du=n.du.insert(e,i),r1(n.remoteStore,new Er(Ki(t_(e.path)),i,"TargetPurposeLimboResolution",nd.ce))}}async function cu(n,t,e){const i=At(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const _=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){r.push(m);const _=o_.As(f.targetId,m);o.push(_)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,m){const _=At(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>it.forEach(m,(T=>it.forEach(T.Es,(x=>_.persistence.referenceDelegate.addReference(y,T.targetId,x))).next((()=>it.forEach(T.ds,(x=>_.persistence.referenceDelegate.removeReference(y,T.targetId,x)))))))))}catch(y){if(!al(y))throw y;ut(l_,"Failed to update sequence numbers: "+y)}for(const y of m){const T=y.targetId;if(!y.fromCache){const x=_.Ms.get(T),R=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(R);_.Ms=_.Ms.insert(T,C)}}})(i.localStore,o))}async function qO(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){ut(p_,"User change. New user:",t.toKey());const i=await e1(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new mt(st.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await cu(e,i.Ls)}}function GO(n,t){const e=At(n),i=e.Au.get(t);if(i&&i.hu)return Ut().add(i.key);{let r=Ut();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function T1(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=_1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jO.bind(null,t),t.Pu.H_=CO.bind(null,t.eventManager),t.Pu.yu=IO.bind(null,t.eventManager),t}function YO(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FO.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return $D(this.persistence,new KD,t.initialUser,this.serializer)}Cu(t){return new t1(a_.mi,this.serializer)}Du(t){return new iO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class KO extends jf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){$t(this.persistence.referenceDelegate instanceof zf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OD(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new t1((i=>zf.mi(i,e)),this.serializer)}}class Tp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qO.bind(null,this.syncEngine),await wO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new RO})()}createDatastore(t){const e=hd(t.databaseInfo.databaseId),i=(function(o){return new lO(o)})(t.databaseInfo);return(function(o,c,h,f){return new fO(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new mO(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>LT(this.syncEngine,e,0)),(function(){return DT.v()?new DT:new sO})())}createSyncEngine(t,e){return(function(r,o,c,h,f,m,_){const y=new NO(r,o,c,h,f,m);return _&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=At(e);ut(Na,"RemoteStore shutting down."),i.Ea.add(5),await lu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tp.provider={build:()=>new Tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class XO{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ut(Lr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ut(Lr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=m_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function zg(n,t){n.asyncQueue.verifyOperationInProgress(),ut(Lr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await e1(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function UT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await QO(n);ut(Lr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>NT(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>NT(t.remoteStore,r))),n._onlineComponents=t}async function QO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ut(Lr,"Using user provided OfflineComponentProvider");try{await zg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===st.FAILED_PRECONDITION||r.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Qo("Error using user provided cache. Falling back to memory cache: "+e),await zg(n,new jf)}}else ut(Lr,"Using default OfflineComponentProvider"),await zg(n,new KO(void 0));return n._offlineComponents}async function x1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ut(Lr,"Using user provided OnlineComponentProvider"),await UT(n,n._uninitializedComponentsProvider._online)):(ut(Lr,"Using default OnlineComponentProvider"),await UT(n,new Tp))),n._onlineComponents}function $O(n){return x1(n).then((t=>t.syncEngine))}async function S1(n){const t=await x1(n),e=t.eventManager;return e.onListen=kO.bind(null,t.syncEngine),e.onUnlisten=LO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=VO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=zO.bind(null,t.syncEngine),e}function WO(n,t,e={}){const i=new Ds;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const _=new E1({next:T=>{_.Nu(),c.enqueueAndForget((()=>f1(o,y)));const x=T.docs.has(h);!x&&T.fromCache?m.reject(new mt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&f&&f.source==="server"?m.reject(new mt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),y=new d1(t_(h.path),_,{includeMetadataChanges:!0,qa:!0});return h1(o,y)})(await S1(n),n.asyncQueue,t,e,i))),i.promise}function ZO(n,t,e={}){const i=new Ds;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const _=new E1({next:T=>{_.Nu(),c.enqueueAndForget((()=>f1(o,y))),T.fromCache&&f.source==="server"?m.reject(new mt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),y=new d1(h,_,{includeMetadataChanges:!0,qa:!0});return h1(o,y)})(await S1(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firestore.googleapis.com",BT=!0;class FT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A1,this.ssl=BT}else this.host=t.host,this.ssl=t.ssl??BT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MD)throw new mt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w1(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class md{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new iM;switch(i.type){case"firstParty":return new oM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=jT.get(e);i&&(ut("ComponentProvider","Removing Datastore"),jT.delete(e),i.terminate())})(this),Promise.resolve()}}function JO(n,t,e,i={}){n=Oa(n,md);const r=Pa(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Dp(`https://${h}`),Op("Firestore",!0)),o.host!==A1&&o.host!==h&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!Ca(f,c)&&(n._setSettings(f),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=on.MOCK_USER;else{m=Ex(i.mockUserToken,n._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new mt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new on(y)}n._authCredentials=new sM(new hS(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new gd(this.firestore,t,this._query)}}class Be{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(ru(e,Be._jsonSchema))return new Be(t,i||null,new pt(ue.fromString(e.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Ve("string",Be._jsonSchemaVersion),referencePath:Ve("string")};class Ir extends gd{constructor(t,e,i){super(t,e,t_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new pt(t))}withConverter(t){return new Ir(this.firestore,t,this._path)}}function R1(n,t,...e){if(n=Zn(n),fS("collection","path",t),n instanceof md){const i=ue.fromString(t,...e);return nT(i),new Ir(n,null,i)}{if(!(n instanceof Be||n instanceof Ir))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return nT(i),new Ir(n.firestore,null,i)}}function y_(n,t,...e){if(n=Zn(n),arguments.length===1&&(t=Kp.newId()),fS("doc","path",t),n instanceof md){const i=ue.fromString(t,...e);return eT(i),new Be(n,null,new pt(i))}{if(!(n instanceof Be||n instanceof Ir))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return eT(i),new Be(n.firestore,n instanceof Ir?n.converter:null,new pt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="AsyncQueue";class qT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i1(this,"async_queue_retry"),this._c=()=>{const i=Lg();i&&ut(HT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Lg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Lg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!al(t))throw t;ut(HT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",GT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=d_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Tt(47125,{Pc:GT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function GT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class pd extends md{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new qT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qT(t),this._firestoreClient=void 0,await t}}}function tN(n,t){const e=typeof n=="object"?n:Vp(),i=typeof n=="string"?n:Df,r=Zf(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=vx("firestore");o&&JO(r,...o)}return r}function v_(n){if(n._terminated)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eN(n),n._firestoreClient}function eN(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new SM(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,w1(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new XO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $n(nn.fromBase64String(t))}catch(e){throw new mt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new $n(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,$n._jsonSchema))return $n.fromBase64String(t.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ve("string",$n._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Ve("string",Qi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,$i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new $i(t.vectorValues);throw new mt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Ve("string",$i._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=/^__.*__$/;class iN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ja(t,this.data,this.fieldMask,e,this.fieldTransforms):new au(t,this.data,e,this.fieldTransforms)}}function I1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:n})}}class T_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new T_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Bf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(I1(this.Ac)&&nN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class sN{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||hd(t)}Cc(t,e,i,r=!1){return new T_({Ac:t,methodName:e,Dc:i,path:en.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rN(n){const t=n._freezeSettings(),e=hd(n._databaseId);return new sN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function aN(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);N1("Data must be an object, but it was:",c,i);const h=D1(i,c);let f,m;if(o.merge)f=new gi(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const y of o.mergeFields){const T=oN(t,y,e);if(!c.contains(T))throw new mt(st.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);cN(_,T)||_.push(T)}f=new gi(_),m=c.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,m=c.fieldTransforms;return new iN(new Qn(h),f,m)}function M1(n,t){if(O1(n=Zn(n)))return N1("Unsupported field value:",t,n),D1(n,t);if(n instanceof C1)return(function(i,r){if(!I1(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=M1(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Zn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=he.fromDate(i);return{timestampValue:Lf(r.serializer,o)}}if(i instanceof he){const o=new he(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lf(r.serializer,o)}}if(i instanceof Qi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $n)return{bytesValue:YS(r.serializer,i._byteString)};if(i instanceof Be){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:s_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof $i)return(function(c,h){return{mapValue:{fields:{[TS]:{stringValue:ES},[Of]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return e_(h.serializer,m)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Xp(i)}`)})(n,t)}function D1(n,t){const e={};return gS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):za(n,((i,r)=>{const o=M1(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function O1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof he||n instanceof Qi||n instanceof $n||n instanceof Be||n instanceof C1||n instanceof $i)}function N1(n,t,e){if(!O1(e)||!dS(e)){const i=Xp(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function oN(n,t,e){if((t=Zn(t))instanceof b_)return t._internalPath;if(typeof t=="string")return k1(n,t);throw Bf("Field path arguments must be of type string or ",n,!1,void 0,e)}const lN=new RegExp("[~\\*/\\[\\]]");function k1(n,t,e){if(t.search(lN)>=0)throw Bf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new b_(...t.split("."))._internalPath}catch{throw Bf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Bf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new mt(st.INVALID_ARGUMENT,h+n+f)}function cN(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(P1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class uN extends V1{data(){return super.data()}}function P1(n,t){return typeof t=="string"?k1(n,t):t instanceof b_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fN{convertValue(t,e="none"){switch(Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return za(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Of].arrayValue?.values?.map((i=>xe(i.doubleValue)));return new $i(e)}convertGeoPoint(t){return new Qi(xe(t.latitude),xe(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=sd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(jc(t));default:return null}}convertTimestamp(t){const e=Nr(t);return new he(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ue.fromString(t);$t(ZS(i),9688,{name:t});const r=new Bc(i.get(1),i.get(3)),o=new pt(i.popFirst(5));return r.isEqual(e)||Vs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class xc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Aa extends V1{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(P1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Aa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Ve("string",Aa._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class yf extends Aa{data(t={}){return super.data(t)}}class Go{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new yf(this._firestore,this._userDataWriter,i.key,i,new xc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new yf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new xc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new yf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new xc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,_=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:mN(h.type),doc:f,oldIndex:m,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Go._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function mN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(n){n=Oa(n,Be);const t=Oa(n.firestore,pd);return WO(v_(t),n._key).then((e=>_N(t,n,e)))}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:Ve("string",Go._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class L1 extends fN{constructor(t){super(),this.firestore=t}convertBytes(t){return new $n(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}function z1(n){n=Oa(n,gd);const t=Oa(n.firestore,pd),e=v_(t),i=new L1(t);return hN(n._query),ZO(e,n._query).then((r=>new Go(t,i,n,r)))}function gN(n,t,e){n=Oa(n,Be);const i=Oa(n.firestore,pd),r=dN(n.converter,t);return pN(i,[aN(rN(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Os.none())])}function pN(n,t){return(function(i,r){const o=new Ds;return i.asyncQueue.enqueueAndForget((async()=>UO(await $O(i),r,o))),o.promise})(v_(n),t)}function _N(n,t,e){const i=e.docs.get(t._key),r=new L1(n);return new Aa(n,r,t._key,i,new xc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){sl=r})(La),Ia(new Dr("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new pd(new rM(i.getProvider("auth-internal")),new lM(c,i.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new mt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(m.options.projectId,_)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Gi(Wb,Zb,t),Gi(Wb,Zb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="firebasestorage.googleapis.com",yN="storageBucket",vN=120*1e3,bN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends ns{constructor(t,e,i=0){super(Ug(t),`Firebase Storage: ${e} (${Ug(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,is.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ug(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var es;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(es||(es={}));function Ug(n){return"storage/"+n}function TN(){const n="An unknown error occurred, please check the error payload for server response.";return new is(es.UNKNOWN,n)}function EN(){return new is(es.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xN(){return new is(es.CANCELED,"User canceled the upload/download.")}function SN(n){return new is(es.INVALID_URL,"Invalid URL '"+n+"'.")}function wN(n){return new is(es.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function YT(n){return new is(es.INVALID_ARGUMENT,n)}function j1(){return new is(es.APP_DELETED,"The Firebase app was deleted.")}function AN(n){return new is(es.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=pi.makeFromUrl(t,e)}catch{return new pi(t,"")}if(i.path==="")return i;throw wN(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(et){et.path.charAt(et.path.length-1)==="/"&&(et.path_=et.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function m(et){et.path_=decodeURIComponent(et.path)}const _="v[A-Za-z0-9_]+",y=e.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",x=new RegExp(`^https?://${y}/${_}/b/${r}/o${T}`,"i"),R={bucket:1,path:3},C=e===U1?"(?:storage.googleapis.com|storage.cloud.google.com)":e,I="([^?#]*)",L=new RegExp(`^https?://${C}/${r}/${I}`,"i"),$=[{regex:h,indices:f,postModify:o},{regex:x,indices:R,postModify:m},{regex:L,indices:{bucket:1,path:2},postModify:m}];for(let et=0;et<$.length;et++){const W=$[et],rt=W.regex.exec(t);if(rt){const M=rt[W.indices.bucket];let w=rt[W.indices.path];w||(w=""),i=new pi(M,w),W.postModify(i);break}}if(i==null)throw SN(t);return i}}class RN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let m=!1;function _(...I){m||(m=!0,t.apply(null,I))}function y(I){r=setTimeout(()=>{r=null,n(x,f())},I)}function T(){o&&clearTimeout(o)}function x(I,...L){if(m){T();return}if(I){T(),_.call(null,I,...L);return}if(f()||c){T(),_.call(null,I,...L);return}i<64&&(i*=2);let $;h===1?(h=2,$=0):$=(i+Math.random())*1e3,y($)}let R=!1;function C(I){R||(R=!0,T(),!m&&(r!==null?(I||(h=2),clearTimeout(r),y(0)):I||(h=1)))}return y(0),o=setTimeout(()=>{c=!0,C(!0)},e),C}function IN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){return n!==void 0}function KT(n,t,e,i){if(i<t)throw YT(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw YT(`Invalid value for '${n}'. Expected ${e} or less.`)}function DN(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Ff;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ff||(Ff={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,e,i,r,o,c,h,f,m,_,y,T=!0,x=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=y,this.retry=T,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,C)=>{this.resolve_=R,this.reject_=C,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Yh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Ff.NO_ERROR,f=o.getStatus();if(!h||ON(f,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===Ff.ABORT;i(!1,new Yh(!1,null,_));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Yh(m,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());MN(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=TN();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?j1():xN();c(f)}else{const f=EN();c(f)}};this.canceled_?e(!1,new Yh(!1,null,!0)):this.backoffId_=CN(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&IN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yh{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function kN(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function VN(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function PN(n,t){t&&(n["X-Firebase-GMPID"]=t)}function LN(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function zN(n,t,e,i,r,o,c=!0,h=!1){const f=DN(n.urlParams),m=n.url+f,_=Object.assign({},n.headers);return PN(_,t),kN(_,e),VN(_,o),LN(_,i),new NN(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function jN(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,e){this._service=t,e instanceof pi?this._location=e:this._location=pi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Hf(t,e)}get root(){const t=new pi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jN(this._location.path)}get storage(){return this._service}get parent(){const t=UN(this._location.path);if(t===null)return null;const e=new pi(this._location.bucket,t);return new Hf(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw AN(t)}}function XT(n,t){const e=t?.[yN];return e==null?null:pi.makeFromBucketSpec(e,n)}function BN(n,t,e,i={}){n.host=`${t}:${e}`;const r=Pa(t);r&&(Dp(`https://${n.host}/b`),Op("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Ex(o,n.app.options.projectId))}class FN{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=U1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vN,this._maxUploadRetryTime=bN,this._requests=new Set,r!=null?this._bucket=pi.makeFromBucketSpec(r,this._host):this._bucket=XT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,t):this._bucket=XT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){KT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){KT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Hf(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new RN(j1());{const c=zN(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const QT="@firebase/storage",$T="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="storage";function HN(n=Vp(),t){n=Zn(n);const i=Zf(n,B1).getImmediate({identifier:t}),r=vx("storage");return r&&qN(i,...r),i}function qN(n,t,e,i={}){BN(n,t,e,i)}function GN(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new FN(e,i,r,t,La)}function YN(){Ia(new Dr(B1,GN,"PUBLIC").setMultipleInstances(!0)),Gi(QT,$T,""),Gi(QT,$T,"esm2020")}YN();const KN={apiKey:"AIzaSyBpLnEBDMz-FXoSYWN9EWsUuMAIu-Dpt9M",authDomain:"drivesense-7cac6.firebaseapp.com",projectId:"drivesense-7cac6",storageBucket:"drivesense-7cac6.firebasestorage.app",messagingSenderId:"751400174977",appId:"1:751400174977:web:c1d4109794ca4d41bb5480"},x_=wx(KN),XN=eM(x_),Gc=tN(x_);HN(x_);const QN=({isLoggedIn:n,setIsLoggedIn:t,setUser:e})=>{const i=async()=>{const r=new Rs;try{const c=(await uI(XN,r)).user;e({displayName:c.displayName,email:c.email,photoURL:c.photoURL,uid:c.uid});const h=y_(Gc,"users",c.uid);(await E_(h)).exists()||await gN(h,{uid:c.uid,name:c.displayName,email:c.email,photoURL:c.photoURL,createdAt:new Date().toISOString()}),t(m=>!m),n&&console.log("Google Sign-In successful:",c)}catch(o){console.error("Google Sign-In error:",o)}};return N.jsxs("div",{className:`flex flex-row items-center justify-center px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)]  \r
            bg-[var(--blue-color)] text-[var(--light-color)] cursor-pointer rounded-full gap-[calc(0.2vw+0.3rem)] \r
            hover:bg-[var(--purple-color)] hover:text-[var(--dark-color)] transition duration-300 ease-in-out`,children:[N.jsx("i",{className:"bxl bx-google bx-tada-hover text-[calc(0.4vw+0.8rem)]"}),N.jsx("span",{onClick:i,className:"text-[calc(0.4vw+0.5rem)]",children:"Sign in with Google"})]})};function $N({isDark:n,setIsDark:t,isLoggedIn:e,setIsLoggedIn:i,setUser:r}){const o=yi(),[c,h]=Ht.useState(!1),[f,m]=Ht.useState(!1),_=()=>{m(y=>!y)};return N.jsxs("div",{className:`
            ${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[N.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&N.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(y=>!y)}),N.jsx("img",{src:n?Mp:Tf,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),N.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),!o&&N.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Home"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Features"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]}),N.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"}),N.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)] text-[calc(0.4vw+0.5rem)]":"text-[var(--light-color)] bg-[var(--dark-color)] text-[calc(0.4vw+0.5rem)]"}
                    px-[calc(0.4vw+0.6rem)] py-[calc(0.2vw+0.3rem)] rounded-md cursor-pointer
                    hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)] font-semibold`,onClick:()=>_(),children:"Sign In"}),f&&N.jsx("div",{className:"fade-in absolute top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:N.jsxs("div",{className:"h-[420px] w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-start relative rounded-xl rounded-tr-none",children:[N.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                            flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>m(y=>!y)}),N.jsxs("div",{className:"w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[N.jsx("img",{src:Tf,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer",alt:""}),N.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Sign in to your account"}),N.jsx(QN,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),N.jsx("span",{className:"text-[calc(0.4vw+0.5rem)]",children:"Or continue with"}),N.jsx("input",{type:"email",placeholder:"Email",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),N.jsx("input",{type:"password",placeholder:"Password",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),N.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,children:"Continue"}),N.jsxs("span",{className:"text-[calc(0.4vw+0.5rem)]",children:["Don't have an account?",N.jsx("span",{className:"text-[calc(0.4vw+0.5rem)] text-[var(--blue-color)] hovered cursor-pointer",children:" Sign Up"})]})]})]})}),N.jsx(mx,{isDark:n,setIsDark:t})]}),o&&c&&N.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:N.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[N.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(y=>!y)}),N.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Home"}),N.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Features"}),N.jsx("span",{className:"text-[calc(0.5vw+0.6rem)] w-full cursor-pointer hovered font-semibold",children:"Github"})]})})]})}const S_="/DriveSense/assets/car-img-DqpG-dY6.png",Kh=({icon:n,title:t,info:e,isDark:i})=>{const r=yi();return N.jsxs("div",{className:`
            ${r?"w-[152px] h-[240px]":"flex-1"}
            flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)] 
            p-[calc(0.4vw+0.6rem)] rounded-lg border border-[var(--border-color)]`,children:[n,N.jsx("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} font-semibold text-center`,children:t}),N.jsxs("span",{className:`${r?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} text-center`,children:[e,"."]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function uu(n){return n+.5|0}const xr=(n,t,e)=>Math.max(Math.min(n,e),t);function Sc(n){return xr(uu(n*2.55),0,255)}function Mr(n){return xr(uu(n*255),0,255)}function As(n){return xr(uu(n/2.55)/100,0,1)}function WT(n){return xr(uu(n*100),0,100)}const Kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ep=[..."0123456789ABCDEF"],WN=n=>Ep[n&15],ZN=n=>Ep[(n&240)>>4]+Ep[n&15],Xh=n=>(n&240)>>4===(n&15),JN=n=>Xh(n.r)&&Xh(n.g)&&Xh(n.b)&&Xh(n.a);function tk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Kn[n[1]]*17,g:255&Kn[n[2]]*17,b:255&Kn[n[3]]*17,a:t===5?Kn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Kn[n[1]]<<4|Kn[n[2]],g:Kn[n[3]]<<4|Kn[n[4]],b:Kn[n[5]]<<4|Kn[n[6]],a:t===9?Kn[n[7]]<<4|Kn[n[8]]:255})),e}const ek=(n,t)=>n<255?t(n):"";function nk(n){var t=JN(n)?WN:ZN;return n?"#"+t(n.r)+t(n.g)+t(n.b)+ek(n.a,t):void 0}const ik=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function F1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function sk(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function rk(n,t,e){const i=F1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function ak(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function w_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,m,_;return o!==c&&(_=o-c,m=h>.5?_/(2-o-c):_/(o+c),f=ak(e,i,r,_,o),f=f*60+.5),[f|0,m||0,h]}function A_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Mr)}function R_(n,t,e){return A_(F1,n,t,e)}function ok(n,t,e){return A_(rk,n,t,e)}function lk(n,t,e){return A_(sk,n,t,e)}function H1(n){return(n%360+360)%360}function ck(n){const t=ik.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Sc(+t[5]):Mr(+t[5]));const r=H1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=ok(r,o,c):t[1]==="hsv"?i=lk(r,o,c):i=R_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function uk(n,t){var e=w_(n);e[0]=H1(e[0]+t),e=R_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function hk(n){if(!n)return;const t=w_(n),e=t[0],i=WT(t[1]),r=WT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${As(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const ZT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},JT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fk(){const n={},t=Object.keys(JT),e=Object.keys(ZT);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,ZT[o]);o=parseInt(JT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Qh;function dk(n){Qh||(Qh=fk(),Qh.transparent=[0,0,0,0]);const t=Qh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const mk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gk(n){const t=mk.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Sc(c):xr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Sc(i):xr(i,0,255)),r=255&(t[4]?Sc(r):xr(r,0,255)),o=255&(t[6]?Sc(o):xr(o,0,255)),{r:i,g:r,b:o,a:e}}}function pk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${As(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const jg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Vo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function _k(n,t,e){const i=Vo(As(n.r)),r=Vo(As(n.g)),o=Vo(As(n.b));return{r:Mr(jg(i+e*(Vo(As(t.r))-i))),g:Mr(jg(r+e*(Vo(As(t.g))-r))),b:Mr(jg(o+e*(Vo(As(t.b))-o))),a:n.a+e*(t.a-n.a)}}function $h(n,t,e){if(n){let i=w_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=R_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function q1(n,t){return n&&Object.assign(t||{},n)}function tE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Mr(n[3]))):(t=q1(n,{r:0,g:0,b:0,a:1}),t.a=Mr(t.a)),t}function yk(n){return n.charAt(0)==="r"?gk(n):ck(n)}class Yc{constructor(t){if(t instanceof Yc)return t;const e=typeof t;let i;e==="object"?i=tE(t):e==="string"&&(i=tk(t)||dk(t)||yk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=q1(this._rgb);return t&&(t.a=As(t.a)),t}set rgb(t){this._rgb=tE(t)}rgbString(){return this._valid?pk(this._rgb):void 0}hexString(){return this._valid?nk(this._rgb):void 0}hslString(){return this._valid?hk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=_k(this._rgb,t._rgb,e)),this}clone(){return new Yc(this.rgb)}alpha(t){return this._rgb.a=Mr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=uu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $h(this._rgb,2,t),this}darken(t){return $h(this._rgb,2,-t),this}saturate(t){return $h(this._rgb,1,t),this}desaturate(t){return $h(this._rgb,1,-t),this}rotate(t){return uk(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xs(){}const vk=(()=>{let n=0;return()=>n++})();function Qt(n){return n==null}function je(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Jn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Bi(n,t){return Jn(n)?n:t}function Mt(n,t){return typeof n>"u"?t:n}const bk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,G1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ce(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,c;if(je(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function qf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Gf(n){if(je(n))return n.map(Gf);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Gf(n[e[r]]);return t}return n}function Y1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Tk(n,t,e,i){if(!Y1(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?Kc(r,o,i):t[n]=Gf(o)}function Kc(n,t,e){const i=je(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||Tk;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let m=0,_=f.length;m<_;++m)o(f[m],n,c,e)}return n}function Nc(n,t){return Kc(n,t,{merger:Ek})}function Ek(n,t,e){if(!Y1(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?Nc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Gf(r))}const eE={"":n=>n,x:n=>n.x,y:n=>n.y};function xk(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Sk(n){const t=xk(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function ka(n,t){return(eE[t]||(eE[t]=Sk(t)))(n)}function C_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Xc=n=>typeof n<"u",zr=n=>typeof n=="function",nE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function wk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ee=Math.PI,ye=2*ee,Ak=ye+ee,Yf=Number.POSITIVE_INFINITY,Rk=ee/180,Fe=ee/2,pa=ee/4,iE=ee*2/3,K1=Math.log10,Wi=Math.sign;function kc(n,t,e){return Math.abs(n-t)<e}function sE(n){const t=Math.round(n);n=kc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(K1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Ck(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function Ik(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Qc(n){return!Ik(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Mk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Dk(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ms(n){return n*(ee/180)}function Ok(n){return n*(180/ee)}function rE(n){if(!Jn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function X1(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ee&&(o+=ye),{angle:o,distance:r}}function xp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Nk(n,t){return(n-t+Ak)%ye-ee}function di(n){return(n%ye+ye)%ye}function $c(n,t,e,i){const r=di(n),o=di(t),c=di(e),h=di(o-r),f=di(c-r),m=di(r-o),_=di(r-c);return r===o||r===c||i&&o===c||h>f&&m<_}function cn(n,t,e){return Math.max(t,Math.min(e,n))}function kk(n){return cn(n,-32768,32767)}function Sr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function I_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Sa=(n,t,e,i)=>I_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),Vk=(n,t,e)=>I_(n,e,i=>n[i][t]>=e);function Pk(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const Q1=["push","pop","shift","splice","unshift"];function Lk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Q1.forEach(e=>{const i="_onData"+C_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function aE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(Q1.forEach(o=>{delete n[o]}),delete n._chartjs)}function $1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const W1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Z1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,W1.call(window,()=>{i=!1,n.apply(t,e)}))}}function zk(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const M_=n=>n==="start"?"left":n==="end"?"right":"center",an=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Uk=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function jk(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,_=c.axis,{min:y,max:T,minDefined:x,maxDefined:R}=c.getUserBounds();if(x){if(r=Math.min(Sa(f,_,y).lo,e?i:Sa(t,_,c.getPixelForValue(y)).lo),m){const C=f.slice(0,r+1).reverse().findIndex(I=>!Qt(I[h.axis]));r-=Math.max(0,C)}r=cn(r,0,i-1)}if(R){let C=Math.max(Sa(f,c.axis,T,!0).hi+1,e?0:Sa(t,_,c.getPixelForValue(T),!0).hi+1);if(m){const I=f.slice(C-1).findIndex(L=>!Qt(L[h.axis]));C+=Math.max(0,I)}o=cn(C,r,i)-r}else o=i-r}return{start:r,count:o}}function Bk(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Wh=n=>n===0||n===1,oE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ye/e)),lE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ye/e)+1,Vc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Fe)+1,easeOutSine:n=>Math.sin(n*Fe),easeInOutSine:n=>-.5*(Math.cos(ee*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Wh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Wh(n)?n:oE(n,.075,.3),easeOutElastic:n=>Wh(n)?n:lE(n,.075,.3),easeInOutElastic(n){return Wh(n)?n:n<.5?.5*oE(n*2,.1125,.45):.5+.5*lE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Vc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Vc.easeInBounce(n*2)*.5:Vc.easeOutBounce(n*2-1)*.5+.5};function D_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function cE(n){return D_(n)?n:new Yc(n)}function Bg(n){return D_(n)?n:new Yc(n).saturate(.5).darken(.1).hexString()}const Fk=["x","y","borderWidth","radius","tension"],Hk=["color","borderColor","backgroundColor"];function qk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Hk},numbers:{type:"number",properties:Fk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Gk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const uE=new Map;function Yk(n,t){t=t||{};const e=n+JSON.stringify(t);let i=uE.get(e);return i||(i=new Intl.NumberFormat(n,t),uE.set(e,i)),i}function O_(n,t,e){return Yk(t,e).format(n)}const Kk={values(n){return je(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=Xk(n,e)}const c=K1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),O_(n,i,f)}};function Xk(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var J1={formatters:Kk};function Qk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:J1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Va=Object.create(null),Sp=Object.create(null);function Pc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Fg(n,t,e){return typeof t=="string"?Kc(Pc(n,t),e):Kc(Pc(n,""),t)}class $k{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Bg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Bg(r.borderColor),this.hoverColor=(i,r)=>Bg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Fg(this,t,e)}get(t){return Pc(this,t)}describe(t,e){return Fg(Sp,t,e)}override(t,e){return Fg(Va,t,e)}route(t,e,i,r){const o=Pc(this,t),c=Pc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[r];return qt(f)?Object.assign({},m,f):Mt(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Se=new $k({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qk,Gk,Qk]);function Wk(n){return!n||Qt(n.size)||Qt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function hE(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function _a(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function fE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function wp(n,t,e,i){tw(n,t,e,i,null)}function tw(n,t,e,i,r){let o,c,h,f,m,_,y,T;const x=t.pointStyle,R=t.rotation,C=t.radius;let I=(R||0)*Rk;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),x){default:r?n.ellipse(e,i,r/2,C,0,0,ye):n.arc(e,i,C,0,ye),n.closePath();break;case"triangle":_=r?r/2:C,n.moveTo(e+Math.sin(I)*_,i-Math.cos(I)*C),I+=iE,n.lineTo(e+Math.sin(I)*_,i-Math.cos(I)*C),I+=iE,n.lineTo(e+Math.sin(I)*_,i-Math.cos(I)*C),n.closePath();break;case"rectRounded":m=C*.516,f=C-m,c=Math.cos(I+pa)*f,y=Math.cos(I+pa)*(r?r/2-m:f),h=Math.sin(I+pa)*f,T=Math.sin(I+pa)*(r?r/2-m:f),n.arc(e-y,i-h,m,I-ee,I-Fe),n.arc(e+T,i-c,m,I-Fe,I),n.arc(e+y,i+h,m,I,I+Fe),n.arc(e-T,i+c,m,I+Fe,I+ee),n.closePath();break;case"rect":if(!R){f=Math.SQRT1_2*C,_=r?r/2:f,n.rect(e-_,i-f,2*_,2*f);break}I+=pa;case"rectRot":y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,T=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+T,i-c),n.lineTo(e+y,i+h),n.lineTo(e-T,i+c),n.closePath();break;case"crossRot":I+=pa;case"cross":y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,T=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"star":y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,T=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c),I+=pa,y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,T=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"line":c=r?r/2:Math.cos(I)*C,h=Math.sin(I)*C,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(r?r/2:C),i+Math.sin(I)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Wc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function N_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function k_(n){n.restore()}function Zk(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Jk(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function t4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Qt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function e4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function n4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Zc(n,t,e,i,r,o={}){const c=je(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=r.string,t4(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&n4(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Qt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),e4(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function Kf(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ee,ee,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ee,Fe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Fe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Fe,!0),n.lineTo(e+c.topLeft,i)}const i4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,s4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function r4(n,t){const e=(""+n).match(i4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const a4=n=>+n||0;function V_(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>Mt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=a4(o(c));return e}function ew(n){return V_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Yo(n){return V_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ti(n){const t=ew(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function un(n,t){n=n||{},t=t||Se.font;let e=Mt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Mt(n.style,t.style);i&&!(""+i).match(s4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Mt(n.family,t.family),lineHeight:r4(Mt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Mt(n.weight,t.weight),string:""};return r.string=Wk(r),r}function Zh(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function o4(n,t,e){const{min:i,max:r}=n,o=G1(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Fa(n,t){return Object.assign(Object.create(n),t)}function P_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=rw("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>P_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return iw(h,f,()=>g4(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return mE(h).includes(f)},ownKeys(h){return mE(h)},set(h,f,m){const _=h._storage||(h._storage=r());return h[f]=_[f]=m,delete h._keys,!0}})}function el(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:nw(n,i),setContext:o=>el(n,o,e,i),override:o=>el(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return iw(o,c,()=>c4(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function nw(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:zr(e)?e:()=>e,isIndexable:zr(i)?i:()=>i}}const l4=(n,t)=>n?n+C_(t):t,L_=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function iw(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function c4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return zr(h)&&c.isScriptable(t)&&(h=u4(t,h,n,e)),je(h)&&h.length&&(h=h4(t,h,n,c.isIndexable)),L_(t,h)&&(h=el(h,r,o&&o[t],c)),h}function u4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),L_(n,f)&&(f=z_(r._scopes,r,n,f)),f}function h4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,m=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const y=z_(m,r,n,_);t.push(el(y,o,c&&c[n],h))}}return t}function sw(n,t,e){return zr(n)?n(t,e):n}const f4=(n,t)=>n===!0?t:typeof n=="string"?ka(t,n):void 0;function d4(n,t,e,i,r){for(const o of t){const c=f4(e,o);if(c){n.add(c);const h=sw(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function z_(n,t,e,i){const r=t._rootScopes,o=sw(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=dE(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=dE(h,c,o,f,i),f===null)?!1:P_(Array.from(h),[""],r,o,()=>m4(t,e,i))}function dE(n,t,e,i,r){for(;e;)e=d4(n,t,e,i,r);return e}function m4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return je(r)&&qt(e)?e:r||{}}function g4(n,t,e,i){let r;for(const o of t)if(r=rw(l4(o,n),e),typeof r<"u")return L_(n,r)?z_(e,i,n,r):r}function rw(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function mE(n){let t=n._keys;return t||(t=n._keys=p4(n._scopes)),t}function p4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const _4=Number.EPSILON||1e-14,nl=(n,t)=>t<n.length&&!n[t].skip&&n[t],aw=n=>n==="x"?"y":"x";function y4(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=xp(o,r),f=xp(c,o);let m=h/(h+f),_=f/(h+f);m=isNaN(m)?0:m,_=isNaN(_)?0:_;const y=i*m,T=i*_;return{previous:{x:o.x-y*(c.x-r.x),y:o.y-y*(c.y-r.y)},next:{x:o.x+T*(c.x-r.x),y:o.y+T*(c.y-r.y)}}}function v4(n,t,e){const i=n.length;let r,o,c,h,f,m=nl(n,0);for(let _=0;_<i-1;++_)if(f=m,m=nl(n,_+1),!(!f||!m)){if(kc(t[_],0,_4)){e[_]=e[_+1]=0;continue}r=e[_]/t[_],o=e[_+1]/t[_],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[_]=r*c*t[_],e[_+1]=o*c*t[_])}}function b4(n,t,e="x"){const i=aw(e),r=n.length;let o,c,h,f=nl(n,0);for(let m=0;m<r;++m){if(c=h,h=f,f=nl(n,m+1),!h)continue;const _=h[e],y=h[i];c&&(o=(_-c[e])/3,h[`cp1${e}`]=_-o,h[`cp1${i}`]=y-o*t[m]),f&&(o=(f[e]-_)/3,h[`cp2${e}`]=_+o,h[`cp2${i}`]=y+o*t[m])}}function T4(n,t="x"){const e=aw(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,m=nl(n,0);for(c=0;c<i;++c)if(h=f,f=m,m=nl(n,c+1),!!f){if(m){const _=m[t]-f[t];r[c]=_!==0?(m[e]-f[e])/_:0}o[c]=h?m?Wi(r[c-1])!==Wi(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}v4(n,r,o),b4(n,o,t)}function Jh(n,t,e){return Math.max(Math.min(n,e),t)}function E4(n,t){let e,i,r,o,c,h=Wc(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&Wc(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=Jh(r.cp1x,t.left,t.right),r.cp1y=Jh(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=Jh(r.cp2x,t.left,t.right),r.cp2y=Jh(r.cp2y,t.top,t.bottom)))}function x4(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")T4(n,r);else{let m=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=y4(m,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,m=h}t.capBezierPoints&&E4(n,e)}function U_(){return typeof window<"u"&&typeof document<"u"}function j_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Xf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const _d=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function S4(n,t){return _d(n).getPropertyValue(t)}const w4=["top","right","bottom","left"];function Ra(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=w4[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const A4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function R4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(A4(r,o,n.target))h=r,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function ba(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=_d(e),o=r.boxSizing==="border-box",c=Ra(r,"padding"),h=Ra(r,"border","width"),{x:f,y:m,box:_}=R4(n,e),y=c.left+(_&&h.left),T=c.top+(_&&h.top);let{width:x,height:R}=t;return o&&(x-=c.width+h.width,R-=c.height+h.height),{x:Math.round((f-y)/x*e.width/i),y:Math.round((m-T)/R*e.height/i)}}function C4(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&j_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=_d(o),f=Ra(h,"border","width"),m=Ra(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=Xf(h.maxWidth,o,"clientWidth"),r=Xf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Yf,maxHeight:r||Yf}}const tf=n=>Math.round(n*10)/10;function I4(n,t,e,i){const r=_d(n),o=Ra(r,"margin"),c=Xf(r.maxWidth,n,"clientWidth")||Yf,h=Xf(r.maxHeight,n,"clientHeight")||Yf,f=C4(n,t,e);let{width:m,height:_}=f;if(r.boxSizing==="content-box"){const T=Ra(r,"border","width"),x=Ra(r,"padding");m-=x.width+T.width,_-=x.height+T.height}return m=Math.max(0,m-o.width),_=Math.max(0,i?m/i:_-o.height),m=tf(Math.min(m,c,f.maxWidth)),_=tf(Math.min(_,h,f.maxHeight)),m&&!_&&(_=tf(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,m=tf(Math.floor(_*i))),{width:m,height:_}}function gE(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const M4=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};U_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function pE(n,t){const e=S4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ta(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function D4(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function O4(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Ta(n,r,e),h=Ta(r,o,e),f=Ta(o,t,e),m=Ta(c,h,e),_=Ta(h,f,e);return Ta(m,_,e)}const N4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},k4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ko(n,t,e){return n?N4(t,e):k4()}function ow(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function lw(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function cw(n){return n==="angle"?{between:$c,compare:Nk,normalize:di}:{between:Sr,compare:(t,e)=>t-e,normalize:t=>t}}function _E({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function V4(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=cw(i),f=t.length;let{start:m,end:_,loop:y}=n,T,x;if(y){for(m+=f,_+=f,T=0,x=f;T<x&&c(h(t[m%f][i]),r,o);++T)m--,_--;m%=f,_%=f}return _<m&&(_+=f),{start:m,end:_,loop:y,style:n.style}}function P4(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:m}=cw(i),{start:_,end:y,loop:T,style:x}=V4(n,t,e),R=[];let C=!1,I=null,L,Y,$;const et=()=>f(r,$,L)&&h(r,$)!==0,W=()=>h(o,L)===0||f(o,$,L),rt=()=>C||et(),M=()=>!C||W();for(let w=_,D=_;w<=y;++w)Y=t[w%c],!Y.skip&&(L=m(Y[i]),L!==$&&(C=f(L,r,o),I===null&&rt()&&(I=h(L,r)===0?w:D),I!==null&&M()&&(R.push(_E({start:I,end:w,loop:T,count:c,style:x})),I=null),D=w,$=L));return I!==null&&R.push(_E({start:I,end:y,loop:T,count:c,style:x})),R}function L4(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=P4(i[r],n.points,t);o.length&&e.push(...o)}return e}function z4(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function U4(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const m=n[f%r];m.skip||m.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=m.stop?f:null):(c=f,h.skip&&(t=f)),h=m}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function j4(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=z4(e,r,o,i);if(i===!0)return yE(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,m=!!n._fullLoop&&c===0&&h===r-1;return yE(n,U4(e,c,f,m),e,t)}function yE(n,t,e,i){return!i||!i.setContext||!e?t:B4(n,t,e,i)}function B4(n,t,e,i){const r=n._chart.getContext(),o=vE(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,m=[];let _=o,y=t[0].start,T=y;function x(R,C,I,L){const Y=h?-1:1;if(R!==C){for(R+=f;e[R%f].skip;)R-=Y;for(;e[C%f].skip;)C+=Y;R%f!==C%f&&(m.push({start:R%f,end:C%f,loop:I,style:L}),_=L,y=C%f)}}for(const R of t){y=h?y:R.start;let C=e[y%f],I;for(T=y+1;T<=R.end;T++){const L=e[T%f];I=vE(i.setContext(Fa(r,{type:"segment",p0:C,p1:L,p0DataIndex:(T-1)%f,p1DataIndex:T%f,datasetIndex:c}))),F4(I,_)&&x(y,T-1,R.loop,_),C=L,_=I}y<T-1&&x(y,T-1,R.loop,_)}return m}function vE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function F4(n,t){if(!t)return!1;const e=[],i=function(r,o){return D_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function ef(n,t,e){return n.options.clip?n[e]:t[e]}function H4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:ef(e,t,"left"),right:ef(e,t,"right"),top:ef(i,t,"top"),bottom:ef(i,t,"bottom")}:t}function q4(n,t){const e=t._clip;if(e.disabled)return!1;const i=H4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class G4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=W1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ss=new G4;const bE="transparent",Y4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=cE(n||bE),r=i.valid&&cE(t||bE);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class K4{constructor(t,e,i,r){const o=e[i];r=Zh([t.to,r,o,t.from]);const c=Zh([t.from,o,r]);this._active=!0,this._fn=t.fn||Y4[t.type||typeof c],this._easing=Vc[t.easing]||Vc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Zh([t.to,e,r,t.from]),this._from=Zh([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class uw{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Se.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(je(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=Q4(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&X4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[m];let y=o[m];const T=i.get(m);if(y)if(T&&y.active()){y.update(T,_,h);continue}else y.cancel();if(!T||!T.duration){t[m]=_;continue}o[m]=y=new K4(T,t,m,_),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ss.add(this._chart,i),!0}}function X4(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function Q4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function TE(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function $4(n,t,e){if(e===!1)return!1;const i=TE(n,e),r=TE(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function W4(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function hw(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function EE(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(_=!0,i.all)continue;break}m=n.values[f],Jn(m)&&(o||t===0||Wi(t)===Wi(m))&&(t+=m)}return!_&&!i.all?0:t}function Z4(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,_;for(f=0,m=c.length;f<m;++f)_=c[f],h[f]={[r]:_,[o]:n[_]};return h}function Hg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function J4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function tV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function eV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function xE(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function SE(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,_=J4(o,c,i),y=t.length;let T;for(let x=0;x<y;++x){const R=t[x],{[f]:C,[m]:I}=R,L=R._stacks||(R._stacks={});T=L[m]=eV(r,_,C),T[h]=I,T._top=xE(T,c,!0,i.type),T._bottom=xE(T,c,!1,i.type);const Y=T._visualValues||(T._visualValues={});Y[h]=I}}function qg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function nV(n,t){return Fa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function iV(n,t,e){return Fa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function gc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Gg=n=>n==="reset"||n==="none",wE=(n,t)=>t?n:Object.assign({},n),sV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:hw(e,!0),values:null};class yd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Hg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&gc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,T,x,R)=>y==="x"?T:y==="r"?R:x,o=e.xAxisID=Mt(i.xAxisID,qg(t,"x")),c=e.yAxisID=Mt(i.yAxisID,qg(t,"y")),h=e.rAxisID=Mt(i.rAxisID,qg(t,"r")),f=e.indexAxis,m=e.iAxisID=r(f,o,c,h),_=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&aE(this._data,this),t._stacked&&gc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=Z4(e,r)}else if(i!==e){if(i){aE(i,this);const r=this._cachedMeta;gc(r),r._parsed=[]}e&&Object.isExtensible(e)&&Lk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Hg(e.vScale,e),e.stack!==i.stack&&(r=!0,gc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(SE(this,e._parsed),e._stacked=Hg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],_,y,T;if(this._parsing===!1)i._parsed=r,i._sorted=!0,T=r;else{je(r[t])?T=this.parseArrayData(i,r,t,e):qt(r[t])?T=this.parseObjectData(i,r,t,e):T=this.parsePrimitiveData(i,r,t,e);const x=()=>y[h]===null||m&&y[h]<m[h];for(_=0;_<e;++_)i._parsed[_+t]=y=T[_],f&&(x()&&(f=!1),m=y);i._sorted=f}c&&SE(this,T)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),_=o===c,y=new Array(r);let T,x,R;for(T=0,x=r;T<x;++T)R=T+i,y[T]={[h]:_||o.parse(m[R],R),[f]:c.parse(e[R],R)};return y}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,m,_,y;for(f=0,m=r;f<m;++f)_=f+i,y=e[_],h[f]={x:o.parse(y[0],_),y:c.parse(y[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(r);let _,y,T,x;for(_=0,y=r;_<y;++_)T=_+i,x=e[T],m[_]={x:o.parse(ka(x,h),T),y:c.parse(ka(x,f),T)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:hw(r,!0),values:e._stacks[t.axis]._visualValues};return EE(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=EE(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=sV(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:y}=tV(h);let T,x;function R(){x=r[T];const C=x[h.axis];return!Jn(x[t.axis])||_>C||y<C}for(T=0;T<c&&!(!R()&&(this.updateRangeFromParsed(m,t,x,f),o));++T);if(o){for(T=c-1;T>=0;--T)if(!R()){this.updateRangeFromParsed(m,t,x,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],Jn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=W4(Mt(this.options.clip,$4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const y=r[_];y.hidden||(y.active&&m?c.push(y):y.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=iV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=nV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Xc(i);if(h)return wE(h,f);const m=this.chart.config,_=m.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],T=m.getOptionScopes(this.getDataset(),_),x=Object.keys(Se.elements[t]),R=()=>this.getContext(i,r,e),C=m.resolveNamedOptions(T,x,R,y);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(wE(C,f))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,y=_.datasetAnimationScopeKeys(this._type,e),T=_.getOptionScopes(this.getDataset(),y);f=_.createResolver(T,this.getContext(t,i,e))}const m=new uw(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Gg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Gg(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Gg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&gc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function rV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=$1(i.sort((r,o)=>r-o))}return n._cache.$bar}function aV(n){const t=n.iScale,e=rV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Xc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function oV(n,t,e,i){const r=e.barThickness;let o,c;return Qt(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function lV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:m}}function cV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:r,end:o,min:c,max:h}}function fw(n,t,e,i){return je(n)?cV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function AE(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let m,_,y,T;for(m=e,_=e+i;m<_;++m)T=t[m],y={},y[r.axis]=h||r.parse(c[m],m),f.push(fw(T,y,o,m));return f}function Yg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function uV(n,t,e){return n!==0?Wi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function hV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function fV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:_}=hV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=_:(o[RE(_,c,h,f)]=!0,r=m)),o[RE(r,c,h,f)]=!0,n.borderSkipped=o}function RE(n,t,e,i){return i?(n=dV(n,t,e),n=CE(n,e,t)):n=CE(n,t,e),n}function dV(n,t,e){return n===t?e:n===e?t:n}function CE(n,t,e){return n==="start"?t:n==="end"?e:n}function mV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class gV extends yd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return AE(t,e,i,r)}parseArrayData(t,e,i,r){return AE(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?h:f,_=c.axis==="x"?h:f,y=[];let T,x,R,C;for(T=i,x=i+r;T<x;++T)C=e[T],R={},R[o.axis]=o.parse(ka(C,m),T),y.push(fw(ka(C,_),R,c,T));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Yg(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),_=this._getRuler(),{sharedOptions:y,includeOptions:T}=this._getSharedOptions(e,r);for(let x=e;x<e+i;x++){const R=this.getParsed(x),C=o||Qt(R[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(x),I=this._calculateBarIndexPixels(x,_),L=(R._stacks||{})[h.axis],Y={horizontal:m,base:C.base,enableBorderRadius:!L||Yg(R._custom)||c===L._top||c===L._bottom,x:m?C.head:I.center,y:m?I.center:C.head,height:m?I.size:Math.abs(C.size),width:m?Math.abs(C.size):I.size};T&&(Y.options=y||this.resolveDataElementOptions(x,t[x].active?"active":r));const $=Y.options||t[x].options;fV(Y,$,L,c),mV(Y,$,_.ratio),this.updateElement(t[x],x,Y,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],m=_=>{const y=_._parsed.find(x=>x[i.axis]===f),T=y&&y[_.vScale.axis];if(Qt(T)||isNaN(T))return!0};for(const _ of r)if(!(e!==void 0&&m(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Mt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||aV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),m=f._custom,_=Yg(m);let y=f[e.axis],T=0,x=i?this.applyStack(e,f,i):y,R,C;x!==y&&(T=x-y,x=y),_&&(y=m.barStart,x=m.barEnd-m.barStart,y!==0&&Wi(y)!==Wi(m.barEnd)&&(T=0),T+=y);const I=!Qt(o)&&!_?o:T;let L=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(T+x):R=L,C=R-L,Math.abs(C)<c){C=uV(C,e,h)*c,y===h&&(L-=C/2);const Y=e.getPixelForDecimal(0),$=e.getPixelForDecimal(1),et=Math.min(Y,$),W=Math.max(Y,$);L=Math.max(Math.min(L,W),et),R=L+C,i&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(R)-e.getValueForPixel(L))}if(L===e.getPixelForValue(h)){const Y=Wi(C)*e.getLineWidthForValue(h)/2;L+=Y,C-=Y}return{size:C,base:L,head:R,center:R+C/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Mt(r.maxBarThickness,1/0);let h,f;const m=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?lV(t,e,r,_*m):oV(t,e,r,_*m),T=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Mt(T,this.getFirstScaleIdForIndexAxis())),R=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+x;h=y.start+y.chunk*R+y.chunk/2,f=Math.min(c,y.chunk*y.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function pV(n,t,e){let i=1,r=1,o=0,c=0;if(t<ye){const h=n,f=h+t,m=Math.cos(h),_=Math.sin(h),y=Math.cos(f),T=Math.sin(f),x=($,et,W)=>$c($,h,f,!0)?1:Math.max(et,et*e,W,W*e),R=($,et,W)=>$c($,h,f,!0)?-1:Math.min(et,et*e,W,W*e),C=x(0,m,y),I=x(Fe,_,T),L=R(ee,m,y),Y=R(ee+Fe,_,T);i=(C-L)/2,r=(I-Y)/2,o=-(C+L)/2,c=-(I+Y)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class _V extends yd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(qt(i[t])){const{key:f="value"}=this._parsing;o=m=>+ka(i[m],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Ms(this.options.rotation-90)}_getCircumference(){return Ms(this.options.circumference)}_getRotationExtents(){let t=ye,e=-ye;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(bk(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:_,rotation:y}=this._getRotationExtents(),{ratioX:T,ratioY:x,offsetX:R,offsetY:C}=pV(y,_,f),I=(i.width-c)/T,L=(i.height-c)/x,Y=Math.max(Math.min(I,L)/2,0),$=G1(this.options.radius,Y),et=Math.max($*f,0),W=($-et)/this._getVisibleDatasetWeightTotal();this.offsetX=R*$,this.offsetY=C*$,r.total=this.calculateTotal(),this.outerRadius=$-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ye)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,_=(h.left+h.right)/2,y=(h.top+h.bottom)/2,T=o&&m.animateScale,x=T?0:this.innerRadius,R=T?0:this.outerRadius,{sharedOptions:C,includeOptions:I}=this._getSharedOptions(e,r);let L=this._getRotation(),Y;for(Y=0;Y<e;++Y)L+=this._circumference(Y,o);for(Y=e;Y<e+i;++Y){const $=this._circumference(Y,o),et=t[Y],W={x:_+this.offsetX,y:y+this.offsetY,startAngle:L,endAngle:L+$,circumference:$,outerRadius:R,innerRadius:x};I&&(W.options=C||this.resolveDataElementOptions(Y,et.active?"active":r)),L+=$,this.updateElement(et,Y,W,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ye*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=O_(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Mt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class yV extends yd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=jk(e,r,c);this._drawStart=h,this._drawCount=f,Bk(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:_,includeOptions:y}=this._getSharedOptions(e,r),T=c.axis,x=h.axis,{spanGaps:R,segment:C}=this.options,I=Qc(R)?R:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none",Y=e+i,$=t.length;let et=e>0&&this.getParsed(e-1);for(let W=0;W<$;++W){const rt=t[W],M=L?rt:{};if(W<e||W>=Y){M.skip=!0;continue}const w=this.getParsed(W),D=Qt(w[x]),P=M[T]=c.getPixelForValue(w[T],W),k=M[x]=o||D?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,w,f):w[x],W);M.skip=isNaN(P)||isNaN(k)||D,M.stop=W>0&&Math.abs(w[T]-et[T])>I,C&&(M.parsed=w,M.raw=m.data[W]),y&&(M.options=_||this.resolveDataElementOptions(W,rt.active?"active":r)),L||this.updateElement(rt,W,M,r),et=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function ya(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class B_{static override(t){Object.assign(B_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ya()}parse(){return ya()}format(){return ya()}add(){return ya()}diff(){return ya()}startOf(){return ya()}endOf(){return ya()}}var vV={_date:B_};function bV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?Vk:Sa;if(i){if(r._sharedOptions){const _=o[0],y=typeof _.getRange=="function"&&_.getRange(t);if(y){const T=m(o,t,e-y),x=m(o,t,e+y);return{lo:T.lo,hi:x.hi}}}}else{const _=m(o,t,e);if(f){const{vScale:y}=r._cachedMeta,{_parsed:T}=n,x=T.slice(0,_.lo+1).reverse().findIndex(C=>!Qt(C[y.axis]));_.lo-=Math.max(0,x);const R=T.slice(_.hi).findIndex(C=>!Qt(C[y.axis]));_.hi+=Math.max(0,R)}return _}}return{lo:0,hi:o.length-1}}function vd(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:_}=o[h],{lo:y,hi:T}=bV(o[h],t,c,r);for(let x=y;x<=T;++x){const R=_[x];R.skip||i(R,m,x)}}}function TV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Kg(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||vd(n,e,t,function(h,f,m){!r&&!Wc(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function EV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:m,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:y}=X1(c,{x:t.x,y:t.y});$c(y,m,_)&&r.push({element:c,datasetIndex:h,index:f})}return vd(n,e,t,o),r}function xV(n,t,e,i,r,o){let c=[];const h=TV(e);let f=Number.POSITIVE_INFINITY;function m(_,y,T){const x=_.inRange(t.x,t.y,r);if(i&&!x)return;const R=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!x)return;const I=h(t,R);I<f?(c=[{element:_,datasetIndex:y,index:T}],f=I):I===f&&c.push({element:_,datasetIndex:y,index:T})}return vd(n,e,t,m),c}function Xg(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?EV(n,t,e,r):xV(n,t,e,i,r,o)}function IE(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return vd(n,e,t,(f,m,_)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:m,index:_}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var SV={modes:{index(n,t,e,i){const r=ba(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Kg(n,r,o,i,c):Xg(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const _=h[0].index,y=m.data[_];y&&!y.skip&&f.push({element:y,datasetIndex:m.index,index:_})}),f):[]},dataset(n,t,e,i){const r=ba(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Kg(n,r,o,i,c):Xg(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let _=0;_<m.length;++_)h.push({element:m[_],datasetIndex:f,index:_})}return h},point(n,t,e,i){const r=ba(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Kg(n,r,o,i,c)},nearest(n,t,e,i){const r=ba(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Xg(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=ba(t,n);return IE(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=ba(t,n);return IE(n,r,"y",e.intersect,i)}}};const dw=["left","top","right","bottom"];function pc(n,t){return n.filter(e=>e.pos===t)}function ME(n,t){return n.filter(e=>dw.indexOf(e.pos)===-1&&e.box.axis===t)}function _c(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function wV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function AV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!dw.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function RV(n,t){const e=AV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],_=m&&h.stackWeight/m.weight;h.horizontal?(h.width=_?_*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:f&&t.availableHeight)}return e}function CV(n){const t=wV(n),e=_c(t.filter(m=>m.box.fullSize),!0),i=_c(pc(t,"left"),!0),r=_c(pc(t,"right")),o=_c(pc(t,"top"),!0),c=_c(pc(t,"bottom")),h=ME(t,"x"),f=ME(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:pc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function DE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function mw(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function IV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[r]+=e.size}o.getPadding&&mw(c,o.getPadding());const h=Math.max(0,t.outerWidth-DE(c,n,"left","right")),f=Math.max(0,t.outerHeight-DE(c,n,"top","bottom")),m=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:_}:{same:_,other:m}}function MV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function DV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function wc(n,t,e,i){const r=[];let o,c,h,f,m,_;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,DV(h.horizontal,t));const{same:y,other:T}=IV(t,e,h,i);m|=y&&r.length,_=_||T,f.fullSize||r.push(h)}return m&&wc(r,t,e,i)||_}function nf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function OE(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/m.weight||1;if(h.horizontal){const y=t.w*_,T=m.size||f.height;Xc(m.start)&&(c=m.start),f.fullSize?nf(f,r.left,c,e.outerWidth-r.right-r.left,T):nf(f,t.left+m.placed,c,y,T),m.start=c,m.placed+=y,c=f.bottom}else{const y=t.h*_,T=m.size||f.width;Xc(m.start)&&(o=m.start),f.fullSize?nf(f,o,r.top,T,e.outerHeight-r.bottom-r.top):nf(f,o,t.top+m.placed,T,y),m.start=o,m.placed+=y,o=f.right}}t.x=o,t.y=c}var Wn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ti(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=CV(n.boxes),f=h.vertical,m=h.horizontal;te(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const _=f.reduce((C,I)=>I.box.options&&I.box.options.display===!1?C:C+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),T=Object.assign({},r);mw(T,ti(i));const x=Object.assign({maxPadding:T,w:o,h:c,x:r.left,y:r.top},r),R=RV(f.concat(m),y);wc(h.fullSize,x,y,R),wc(f,x,y,R),wc(m,x,y,R)&&wc(f,x,y,R),MV(x),OE(h.leftAndTop,x,y,R),x.x+=x.w,x.y+=x.h,OE(h.rightAndBottom,x,y,R),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},te(h.chartArea,C=>{const I=C.box;Object.assign(I,n.chartArea),I.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class gw{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class OV extends gw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const vf="$chartjs",NV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},NE=n=>n===null||n==="";function kV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[vf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",NE(r)){const o=pE(n,"width");o!==void 0&&(n.width=o)}if(NE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=pE(n,"height");o!==void 0&&(n.height=o)}return n}const pw=M4?{passive:!0}:!1;function VV(n,t,e){n&&n.addEventListener(t,e,pw)}function PV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,pw)}function LV(n,t){const e=NV[n.type]||n.type,{x:i,y:r}=ba(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Qf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function zV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Qf(h.addedNodes,i),c=c&&!Qf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function UV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Qf(h.removedNodes,i),c=c&&!Qf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Jc=new Map;let kE=0;function _w(){const n=window.devicePixelRatio;n!==kE&&(kE=n,Jc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function jV(n,t){Jc.size||window.addEventListener("resize",_w),Jc.set(n,t)}function BV(n){Jc.delete(n),Jc.size||window.removeEventListener("resize",_w)}function FV(n,t,e){const i=n.canvas,r=i&&j_(i);if(!r)return;const o=Z1((h,f)=>{const m=r.clientWidth;e(h,f),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,_=f.contentRect.height;m===0&&_===0||o(m,_)});return c.observe(r),jV(n,o),c}function Qg(n,t,e){e&&e.disconnect(),t==="resize"&&BV(n)}function HV(n,t,e){const i=n.canvas,r=Z1(o=>{n.ctx!==null&&e(LV(o,n))},n);return VV(i,t,r),r}class qV extends gw{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(kV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[vf])return!1;const i=e[vf].initial;["height","width"].forEach(o=>{const c=i[o];Qt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[vf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:zV,detach:UV,resize:FV}[e]||HV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Qg,detach:Qg,resize:Qg}[e]||PV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return I4(t,e,i,r)}isAttached(t){const e=t&&j_(t);return!!(e&&e.isConnected)}}function GV(n){return!U_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?OV:qV}class Ls{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Qc(this.x)&&Qc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function YV(n,t){const e=n.options.ticks,i=KV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?QV(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>r)return $V(t,m,o,c/r),m;const _=XV(o,t,r);if(c>0){let y,T;const x=c>1?Math.round((f-h)/(c-1)):null;for(sf(t,m,_,Qt(x)?0:h-x,h),y=0,T=c-1;y<T;y++)sf(t,m,_,o[y],o[y+1]);return sf(t,m,_,f,Qt(x)?t.length:f+x),m}return sf(t,m,_),m}function KV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function XV(n,t,e){const i=WV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=Ck(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function QV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function $V(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function sf(n,t,e,i,r){const o=Mt(i,0),c=Math.min(Mt(r,n.length),n.length);let h=0,f,m,_;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===_&&(t.push(n[m]),h++,_=Math.round(o+h*e))}function WV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const ZV=n=>n==="left"?"right":n==="right"?"left":n,VE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,PE=(n,t)=>Math.min(t||n,n);function LE(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function JV(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(r-1))/2,f+=r<t?m:-m,f<o-h||f>c+h)))return f}function tP(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function yc(n){return n.drawTicks?n.tickLength:0}function zE(n,t){if(!n.display)return 0;const e=un(n.font,t),i=ti(n.padding);return(je(n.text)?n.text.length:1)*e.lineHeight+i.height}function eP(n,t){return Fa(n,{scale:t,type:"scale"})}function nP(n,t,e){return Fa(n,{tick:e,index:t,type:"tick"})}function iP(n,t,e){let i=M_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=ZV(i)),i}function sP(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:_}=f;let y=0,T,x,R;const C=c-r,I=h-o;if(n.isHorizontal()){if(x=an(i,o,h),qt(e)){const L=Object.keys(e)[0],Y=e[L];R=_[L].getPixelForValue(Y)+C-t}else e==="center"?R=(m.bottom+m.top)/2+C-t:R=VE(n,e,t);T=h-o}else{if(qt(e)){const L=Object.keys(e)[0],Y=e[L];x=_[L].getPixelForValue(Y)-I+t}else e==="center"?x=(m.left+m.right)/2-I+t:x=VE(n,e,t);R=an(i,c,r),y=e==="left"?-Fe:Fe}return{titleX:x,titleY:R,maxWidth:T,rotation:y}}class ll extends Ls{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Bi(t,Number.POSITIVE_INFINITY),e=Bi(e,Number.NEGATIVE_INFINITY),i=Bi(i,Number.POSITIVE_INFINITY),r=Bi(r,Number.NEGATIVE_INFINITY),{min:Bi(t,i),max:Bi(e,r),minDefined:Jn(t),maxDefined:Jn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Bi(e,Bi(i,e)),max:Bi(i,Bi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=o4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?LE(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=YV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ce(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=PE(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),y=_.widest.width,T=_.highest.height,x=cn(this.chart.width-y,0,this.maxWidth);h=t.offset?this.maxWidth/i:x/(i-1),y+6>h&&(h=x/(i-(t.offset?.5:1)),f=this.maxHeight-yc(t.grid)-e.padding-zE(t.title,this.chart.options.font),m=Math.sqrt(y*y+T*T),c=Ok(Math.min(Math.asin(cn((_.highest.height+6)/h,-1,1)),Math.asin(cn(f/m,-1,1))-Math.asin(cn(T/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=zE(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=yc(o)+f):(t.height=this.maxHeight,t.width=yc(o)+f),i.display&&this.ticks.length){const{first:m,last:_,widest:y,highest:T}=this._getLabelSizes(),x=i.padding*2,R=Ms(this.labelRotation),C=Math.cos(R),I=Math.sin(R);if(h){const L=i.mirror?0:I*y.width+C*T.height;t.height=Math.min(this.maxHeight,t.height+L+x)}else{const L=i.mirror?0:C*y.width+I*T.height;t.width=Math.min(this.maxWidth,t.width+L+x)}this._calculatePadding(m,_,I,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,x=0;f?m?(T=r*t.width,x=i*e.height):(T=i*t.height,x=r*e.width):o==="start"?x=e.width:o==="end"?T=t.width:o!=="inner"&&(T=t.width/2,x=e.width/2),this.paddingLeft=Math.max((T-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((x-y+c)*this.width/(this.width-y),0)}else{let _=e.height/2,y=t.height/2;o==="start"?(_=0,y=t.height):o==="end"&&(_=e.height,y=0),this.paddingTop=_+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Qt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=LE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/PE(e,i));let m=0,_=0,y,T,x,R,C,I,L,Y,$,et,W;for(y=0;y<e;y+=f){if(R=t[y].label,C=this._resolveTickFontOptions(y),r.font=I=C.string,L=o[I]=o[I]||{data:{},gc:[]},Y=C.lineHeight,$=et=0,!Qt(R)&&!je(R))$=hE(r,L.data,L.gc,$,R),et=Y;else if(je(R))for(T=0,x=R.length;T<x;++T)W=R[T],!Qt(W)&&!je(W)&&($=hE(r,L.data,L.gc,$,W),et+=Y);c.push($),h.push(et),m=Math.max($,m),_=Math.max(et,_)}tP(o,e);const rt=c.indexOf(m),M=h.indexOf(_),w=D=>({width:c[D]||0,height:h[D]||0});return{first:w(0),last:w(e-1),widest:w(rt),highest:w(M),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return kk(this._alignToPixels?_a(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=nP(this.getContext(),t,i))}return this.$context||(this.$context=eP(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ms(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,m=this.isHorizontal(),y=this.ticks.length+(f?1:0),T=yc(o),x=[],R=h.setContext(this.getContext()),C=R.display?R.width:0,I=C/2,L=function(K){return _a(i,K,C)};let Y,$,et,W,rt,M,w,D,P,k,z,O;if(c==="top")Y=L(this.bottom),M=this.bottom-T,D=Y-I,k=L(t.top)+I,O=t.bottom;else if(c==="bottom")Y=L(this.top),k=t.top,O=L(t.bottom)-I,M=Y+I,D=this.top+T;else if(c==="left")Y=L(this.right),rt=this.right-T,w=Y-I,P=L(t.left)+I,z=t.right;else if(c==="right")Y=L(this.left),P=t.left,z=L(t.right)-I,rt=Y+I,w=this.left+T;else if(e==="x"){if(c==="center")Y=L((t.top+t.bottom)/2+.5);else if(qt(c)){const K=Object.keys(c)[0],at=c[K];Y=L(this.chart.scales[K].getPixelForValue(at))}k=t.top,O=t.bottom,M=Y+I,D=M+T}else if(e==="y"){if(c==="center")Y=L((t.left+t.right)/2);else if(qt(c)){const K=Object.keys(c)[0],at=c[K];Y=L(this.chart.scales[K].getPixelForValue(at))}rt=Y-I,w=rt-T,P=t.left,z=t.right}const Dt=Mt(r.ticks.maxTicksLimit,y),Et=Math.max(1,Math.ceil(y/Dt));for($=0;$<y;$+=Et){const K=this.getContext($),at=o.setContext(K),ht=h.setContext(K),vt=at.lineWidth,kt=at.color,U=ht.dash||[],J=ht.dashOffset,lt=at.tickWidth,ct=at.tickColor,_t=at.tickBorderDash||[],bt=at.tickBorderDashOffset;et=JV(this,$,f),et!==void 0&&(W=_a(i,et,vt),m?rt=w=P=z=W:M=D=k=O=W,x.push({tx1:rt,ty1:M,tx2:w,ty2:D,x1:P,y1:k,x2:z,y2:O,width:vt,color:kt,borderDash:U,borderDashOffset:J,tickWidth:lt,tickColor:ct,tickBorderDash:_t,tickBorderDashOffset:bt}))}return this._ticksLength=y,this._borderValue=Y,x}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:_,mirror:y}=o,T=yc(i.grid),x=T+_,R=y?-_:x,C=-Ms(this.labelRotation),I=[];let L,Y,$,et,W,rt,M,w,D,P,k,z,O="middle";if(r==="top")rt=this.bottom-R,M=this._getXAxisLabelAlignment();else if(r==="bottom")rt=this.top+R,M=this._getXAxisLabelAlignment();else if(r==="left"){const Et=this._getYAxisLabelAlignment(T);M=Et.textAlign,W=Et.x}else if(r==="right"){const Et=this._getYAxisLabelAlignment(T);M=Et.textAlign,W=Et.x}else if(e==="x"){if(r==="center")rt=(t.top+t.bottom)/2+x;else if(qt(r)){const Et=Object.keys(r)[0],K=r[Et];rt=this.chart.scales[Et].getPixelForValue(K)+x}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")W=(t.left+t.right)/2-x;else if(qt(r)){const Et=Object.keys(r)[0],K=r[Et];W=this.chart.scales[Et].getPixelForValue(K)}M=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const Dt=this._getLabelSizes();for(L=0,Y=h.length;L<Y;++L){$=h[L],et=$.label;const Et=o.setContext(this.getContext(L));w=this.getPixelForTick(L)+o.labelOffset,D=this._resolveTickFontOptions(L),P=D.lineHeight,k=je(et)?et.length:1;const K=k/2,at=Et.color,ht=Et.textStrokeColor,vt=Et.textStrokeWidth;let kt=M;c?(W=w,M==="inner"&&(L===Y-1?kt=this.options.reverse?"left":"right":L===0?kt=this.options.reverse?"right":"left":kt="center"),r==="top"?m==="near"||C!==0?z=-k*P+P/2:m==="center"?z=-Dt.highest.height/2-K*P+P:z=-Dt.highest.height+P/2:m==="near"||C!==0?z=P/2:m==="center"?z=Dt.highest.height/2-K*P:z=Dt.highest.height-k*P,y&&(z*=-1),C!==0&&!Et.showLabelBackdrop&&(W+=P/2*Math.sin(C))):(rt=w,z=(1-k)*P/2);let U;if(Et.showLabelBackdrop){const J=ti(Et.backdropPadding),lt=Dt.heights[L],ct=Dt.widths[L];let _t=z-J.top,bt=0-J.left;switch(O){case"middle":_t-=lt/2;break;case"bottom":_t-=lt;break}switch(M){case"center":bt-=ct/2;break;case"right":bt-=ct;break;case"inner":L===Y-1?bt-=ct:L>0&&(bt-=ct/2);break}U={left:bt,top:_t,width:ct+J.width,height:lt+J.height,color:Et.backdropColor}}I.push({label:et,font:D,textOffset:z,options:{rotation:C,color:at,strokeColor:ht,strokeWidth:vt,textAlign:kt,textBaseline:O,translation:[W,rt],backdrop:U}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ms(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,_;return e==="left"?r?(_=this.right+o,i==="near"?m="left":i==="center"?(m="center",_+=f/2):(m="right",_+=f)):(_=this.right-h,i==="near"?m="right":i==="center"?(m="center",_-=f/2):(m="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?m="right":i==="center"?(m="center",_-=f/2):(m="left",_-=f)):(_=this.left+h,i==="near"?m="left":i==="center"?(m="center",_+=f/2):(m="right",_=this.right)):m="right",{textAlign:m,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,_,y,T;this.isHorizontal()?(m=_a(t,this.left,c)-c/2,_=_a(t,this.right,h)+h/2,y=T=f):(y=_a(t,this.top,c)-c/2,T=_a(t,this.bottom,h)+h/2,m=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,y),e.lineTo(_,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&N_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,_=c.textOffset;Zc(i,m,0,_,f,h)}r&&k_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=un(i.font),c=ti(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,je(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:_,maxWidth:y,rotation:T}=sP(this,f,e,h);Zc(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:T,textAlign:iP(h,e,r),textBaseline:"middle",translation:[m,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Mt(t.grid&&t.grid.z,-1),r=Mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ll.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return un(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class rf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;oP(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,rP(t,c,i),this.override&&Se.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Se[r]&&(delete Se[r][i],this.override&&delete Va[i])}}function rP(n,t,e){const i=Kc(Object.create(null),[e?Se.get(e):{},Se.get(t),n.defaults]);Se.set(t,i),n.defaultRoutes&&aP(t,n.defaultRoutes),n.descriptors&&Se.describe(t,n.descriptors)}function aP(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Se.route(o,r,f,h)})}function oP(n){return"id"in n&&"defaults"in n}class lP{constructor(){this.controllers=new rf(yd,"datasets",!0),this.elements=new rf(Ls,"elements"),this.plugins=new rf(Object,"plugins"),this.scales=new rf(ll,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=C_(t);ce(i["before"+r],[],i),e[t](i),ce(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Hi=new lP;class cP{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(ce(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Mt(i.options&&i.options.plugins,{}),o=uP(i);return r===!1&&!e?[]:fP(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function uP(n){const t={},e=[],i=Object.keys(Hi.plugins.items);for(let o=0;o<i.length;o++)e.push(Hi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function hP(n,t){return!t&&n===!1?null:n===!0?{}:n}function fP(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=hP(i[f],r);m!==null&&o.push({plugin:h,options:dP(n.config,{plugin:h,local:e[f]},m,c)})}return o}function dP(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ap(n,t){const e=Se.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function mP(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function gP(n,t){return n===t?"_index_":"_value_"}function UE(n){if(n==="x"||n==="y"||n==="r")return n}function pP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Rp(n,...t){if(UE(n))return n;for(const e of t){const i=e.axis||pP(e.position)||n.length>1&&UE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function jE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function _P(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return jE(n,"x",e[0])||jE(n,"y",e[0])}return{}}function yP(n,t){const e=Va[n.type]||{scales:{}},i=t.scales||{},r=Ap(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Rp(c,h,_P(c,n),Se.scales[h.type]),m=gP(f,r),_=e.scales||{};o[c]=Nc(Object.create(null),[{axis:f},h,_[f],_[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Ap(h,t),_=(Va[h]||{}).scales||{};Object.keys(_).forEach(y=>{const T=mP(y,f),x=c[T+"AxisID"]||T;o[x]=o[x]||Object.create(null),Nc(o[x],[{axis:T},i[x],_[y]])})}),Object.keys(o).forEach(c=>{const h=o[c];Nc(h,[Se.scales[h.type],Se.scale])}),o}function yw(n){const t=n.options||(n.options={});t.plugins=Mt(t.plugins,{}),t.scales=yP(n,t)}function vw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function vP(n){return n=n||{},n.data=vw(n.data),yw(n),n}const BE=new Map,bw=new Set;function af(n,t){let e=BE.get(n);return e||(e=t(),BE.set(n,e),bw.add(e)),e}const vc=(n,t,e)=>{const i=ka(t,e);i!==void 0&&n.add(i)};class bP{constructor(t){this._config=vP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=vw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),yw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return af(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return af(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return af(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return af(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(y=>vc(f,t,y))),_.forEach(y=>vc(f,r,y)),_.forEach(y=>vc(f,Va[o]||{},y)),_.forEach(y=>vc(f,Se,y)),_.forEach(y=>vc(f,Sp,y))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),bw.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Va[e]||{},Se.datasets[e]||{},{type:e},Se,Sp]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=FE(this._resolverCache,t,r);let f=c;if(EP(c,e)){o.$shared=!1,i=zr(i)?i():i;const m=this.createResolver(t,i,h);f=el(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=FE(this._resolverCache,t,i);return qt(e)?el(o,e,void 0,r):o}}function FE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:P_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const TP=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>zr(n[t]));function EP(n,t){const{isScriptable:e,isIndexable:i}=nw(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(zr(h)||TP(h))||c&&je(h))return!0}return!1}var xP="4.5.0";const SP=["top","bottom","left","right","chartArea"];function HE(n,t){return n==="top"||n==="bottom"||SP.indexOf(n)===-1&&t==="x"}function qE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function GE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ce(e&&e.onComplete,[n],t)}function wP(n){const t=n.chart,e=t.options.animation;ce(e&&e.onProgress,[n],t)}function Tw(n){return U_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const bf={},YE=n=>{const t=Tw(n);return Object.values(bf).filter(e=>e.canvas===t).pop()};function AP(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function RP(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Ha=class{static defaults=Se;static instances=bf;static overrides=Va;static registry=Hi;static version=xP;static getChart=YE;static register(...t){Hi.add(...t),KE()}static unregister(...t){Hi.remove(...t),KE()}constructor(t,e){const i=this.config=new bP(e),r=Tw(t),o=YE(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||GV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,_=f&&f.width;if(this.id=vk(),this.ctx=h,this.canvas=f,this.width=_,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=zk(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],bf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ss.listen(this,"complete",GE),Ss.listen(this,"progress",wP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Qt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fE(this.canvas,this.ctx),this}stop(){return Ss.stop(this),this}resize(t,e){Ss.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,gE(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ce(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Rp(c,h),m=f==="r",_=f==="x";return{options:h,dposition:m?"chartArea":_?"bottom":"left",dtype:m?"radialLinear":_?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,m=Rp(f,h),_=Mt(h.type,c.dtype);(h.position===void 0||HE(h.position,m)!==HE(c.dposition))&&(h.position=c.dposition),r[f]=!0;let y=null;if(f in i&&i[f].type===_)y=i[f];else{const T=Hi.getScale(_);y=new T({id:f,type:_,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(h,t)}),te(r,(c,h)=>{c||delete i[h]}),te(i,c=>{Wn.configure(this,c,c.options),Wn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(qE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Ap(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Hi.getController(h),{datasetElementType:m,dataElementType:_}=Se.datasets[h];Object.assign(f,{dataElementType:Hi.getElement(_),datasetElementType:m&&Hi.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,_=this.data.datasets.length;m<_;m++){const{controller:y}=this.getDatasetMeta(m),T=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(T),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(qE("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{Wn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!nE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;AP(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!nE(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,zr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ss.has(this)?this.attached&&!Ss.running(this)&&Ss.start(this):(this.draw(),GE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=q4(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&N_(e,r),t.controller.draw(),r&&k_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Wc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=SV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Fa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Xc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ss.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),fE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete bf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},r=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!qf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,m)=>f.filter(_=>!m.some(y=>_.datasetIndex===y.datasetIndex&&_.index===y.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=wk(t),m=RP(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ce(o.onHover,[t,h,this],this),f&&ce(o.onClick,[t,h,this],this));const _=!qf(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function KE(){return te(Ha.instances,n=>n._plugins.invalidate())}function CP(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:m,borderJoinStyle:_}=f,y=Math.min(m/c,di(i-e));if(n.beginPath(),n.arc(r,o,c-m/2,i+y/2,e-y/2),h>0){const T=Math.min(m/h,di(i-e));n.arc(r,o,h+m/2,e-T/2,i+T/2,!0)}else{const T=Math.min(m/2,c*di(i-e));if(_==="round")n.arc(r,o,T,e-ee/2,i+ee/2,!0);else if(_==="bevel"){const x=2*T*T,R=-x*Math.cos(e+ee/2)+r,C=-x*Math.sin(e+ee/2)+o,I=x*Math.cos(i+ee/2)+r,L=x*Math.sin(i+ee/2)+o;n.lineTo(R,C),n.lineTo(I,L)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function IP(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let m=r/h;n.beginPath(),n.arc(o,c,h,i-m,e+m),f>r?(m=r/f,n.arc(o,c,f,e+m,i-m,!0)):n.arc(o,c,r,e+Fe,i-Fe),n.closePath(),n.clip()}function MP(n){return V_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function DP(n,t,e,i){const r=MP(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const m=(e-Math.min(o,f))*i/2;return cn(f,0,Math.min(o,m))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:cn(r.innerStart,0,c),innerEnd:cn(r.innerEnd,0,c)}}function Po(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function $f(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:m,innerRadius:_}=t,y=Math.max(t.outerRadius+i+e-m,0),T=_>0?_+i+e+m:0;let x=0;const R=r-f;if(i){const Et=_>0?_-i:0,K=y>0?y-i:0,at=(Et+K)/2,ht=at!==0?R*at/(at+i):R;x=(R-ht)/2}const C=Math.max(.001,R*y-e/ee)/y,I=(R-C)/2,L=f+I+x,Y=r-I-x,{outerStart:$,outerEnd:et,innerStart:W,innerEnd:rt}=DP(t,T,y,Y-L),M=y-$,w=y-et,D=L+$/M,P=Y-et/w,k=T+W,z=T+rt,O=L+W/k,Dt=Y-rt/z;if(n.beginPath(),o){const Et=(D+P)/2;if(n.arc(c,h,y,D,Et),n.arc(c,h,y,Et,P),et>0){const vt=Po(w,P,c,h);n.arc(vt.x,vt.y,et,P,Y+Fe)}const K=Po(z,Y,c,h);if(n.lineTo(K.x,K.y),rt>0){const vt=Po(z,Dt,c,h);n.arc(vt.x,vt.y,rt,Y+Fe,Dt+Math.PI)}const at=(Y-rt/T+(L+W/T))/2;if(n.arc(c,h,T,Y-rt/T,at,!0),n.arc(c,h,T,at,L+W/T,!0),W>0){const vt=Po(k,O,c,h);n.arc(vt.x,vt.y,W,O+Math.PI,L-Fe)}const ht=Po(M,L,c,h);if(n.lineTo(ht.x,ht.y),$>0){const vt=Po(M,D,c,h);n.arc(vt.x,vt.y,$,L-Fe,D)}}else{n.moveTo(c,h);const Et=Math.cos(D)*y+c,K=Math.sin(D)*y+h;n.lineTo(Et,K);const at=Math.cos(P)*y+c,ht=Math.sin(P)*y+h;n.lineTo(at,ht)}n.closePath()}function OP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){$f(n,t,e,i,f,r);for(let m=0;m<o;++m)n.fill();isNaN(h)||(f=c+(h%ye||ye))}return $f(n,t,e,i,f,r),n.fill(),f}function NP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:m,borderJoinStyle:_,borderDash:y,borderDashOffset:T,borderRadius:x}=f,R=f.borderAlign==="inner";if(!m)return;n.setLineDash(y||[]),n.lineDashOffset=T,R?(n.lineWidth=m*2,n.lineJoin=_||"round"):(n.lineWidth=m,n.lineJoin=_||"bevel");let C=t.endAngle;if(o){$f(n,t,e,i,C,r);for(let I=0;I<o;++I)n.stroke();isNaN(h)||(C=c+(h%ye||ye))}R&&IP(n,t,C),f.selfJoin&&C-c>=ee&&x===0&&_!=="miter"&&CP(n,t,C),o||($f(n,t,e,i,C,r),n.stroke())}class kP extends Ls{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=X1(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:_,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),T=(this.options.spacing+this.options.borderWidth)/2,x=Mt(y,f-h),R=$c(o,h,f)&&h!==f,C=x>=ye||R,I=Sr(c,m+T,_+T);return C&&I}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,_=(r+o)/2,y=(c+h+m+f)/2;return{x:e+Math.cos(_)*y,y:i+Math.sin(_)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ye?Math.floor(i/ye):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ee,i||0)),m=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,OP(t,this,m,o,c),NP(t,this,m,o,c),t.restore()}}function Ew(n,t,e=t){n.lineCap=Mt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Mt(e.borderDash,t.borderDash)),n.lineDashOffset=Mt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Mt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Mt(e.borderWidth,t.borderWidth),n.strokeStyle=Mt(e.borderColor,t.borderColor)}function VP(n,t,e){n.lineTo(e.x,e.y)}function PP(n){return n.stepped?Zk:n.tension||n.cubicInterpolationMode==="monotone"?Jk:VP}function xw(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),m=Math.min(o,h),_=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:m<f&&!_?i+m-f:m-f}}function LP(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:m}=xw(r,e,i),_=PP(o);let{move:y=!0,reverse:T}=i||{},x,R,C;for(x=0;x<=m;++x)R=r[(h+(T?m-x:x))%c],!R.skip&&(y?(n.moveTo(R.x,R.y),y=!1):_(n,C,R,T,o.stepped),C=R);return f&&(R=r[(h+(T?m:0))%c],_(n,C,R,T,o.stepped)),!!f}function zP(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=xw(r,e,i),{move:f=!0,reverse:m}=i||{};let _=0,y=0,T,x,R,C,I,L;const Y=et=>(c+(m?h-et:et))%o,$=()=>{C!==I&&(n.lineTo(_,I),n.lineTo(_,C),n.lineTo(_,L))};for(f&&(x=r[Y(0)],n.moveTo(x.x,x.y)),T=0;T<=h;++T){if(x=r[Y(T)],x.skip)continue;const et=x.x,W=x.y,rt=et|0;rt===R?(W<C?C=W:W>I&&(I=W),_=(y*_+et)/++y):($(),n.lineTo(et,W),R=rt,y=0,C=I=W),L=W}$()}function Cp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?zP:LP}function UP(n){return n.stepped?D4:n.tension||n.cubicInterpolationMode==="monotone"?O4:Ta}function jP(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),Ew(n,t.options),n.stroke(r)}function BP(n,t,e,i){const{segments:r,options:o}=t,c=Cp(t);for(const h of r)Ew(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const FP=typeof Path2D=="function";function HP(n,t,e,i){FP&&!t.options.segment?jP(n,t,e,i):BP(n,t,e,i)}class qP extends Ls{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;x4(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=j4(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=L4(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=UP(i);let m,_;for(m=0,_=c.length;m<_;++m){const{start:y,end:T}=c[m],x=o[y],R=o[T];if(x===R){h.push(x);continue}const C=Math.abs((r-x[e])/(R[e]-x[e])),I=f(x,R,C,i.stepped);I[e]=t[e],h.push(I)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Cp(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Cp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),HP(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function XE(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class GP extends Ls{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return XE(this,t,"x",e)}inYRange(t,e){return XE(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Wc(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,wp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Sw(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,m,_,y;return n.horizontal?(y=c/2,h=Math.min(e,r),f=Math.max(e,r),m=i-y,_=i+y):(y=o/2,h=e-y,f=e+y,m=Math.min(i,r),_=Math.max(i,r)),{left:h,top:m,right:f,bottom:_}}function wr(n,t,e,i){return n?0:cn(t,e,i)}function YP(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=ew(i);return{t:wr(r.top,o.top,0,e),r:wr(r.right,o.right,0,t),b:wr(r.bottom,o.bottom,0,e),l:wr(r.left,o.left,0,t)}}function KP(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Yo(r),c=Math.min(t,e),h=n.borderSkipped,f=i||qt(r);return{topLeft:wr(!f||h.top||h.left,o.topLeft,0,c),topRight:wr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:wr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:wr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function XP(n){const t=Sw(n),e=t.right-t.left,i=t.bottom-t.top,r=YP(n,e/2,i/2),o=KP(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function $g(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&Sw(n,i);return h&&(r||Sr(t,h.left,h.right))&&(o||Sr(e,h.top,h.bottom))}function QP(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function $P(n,t){n.rect(t.x,t.y,t.w,t.h)}function Wg(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class ww extends Ls{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=XP(this),h=QP(c.radius)?Kf:$P;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Wg(c,e,o)),t.clip(),h(t,Wg(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Wg(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return $g(this,t,e,i)}inXRange(t,e){return $g(this,t,null,e)}inYRange(t,e){return $g(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const QE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},WP=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class $E extends Ls{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=un(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=QE(i,o);let m,_;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,m=this._fitCols(c,r,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],_=r+h;let y=t;o.textAlign="left",o.textBaseline="middle";let T=-1,x=-_;return this.legendItems.forEach((R,C)=>{const I=i+e/2+o.measureText(R.text).width;(C===0||m[m.length-1]+I+2*h>c)&&(y+=_,m[m.length-(C>0?0:1)]=0,x+=_,T++),f[C]={left:0,top:x,row:T,width:I,height:r},m[m.length-1]+=I+h}),y}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],_=c-t;let y=h,T=0,x=0,R=0,C=0;return this.legendItems.forEach((I,L)=>{const{itemWidth:Y,itemHeight:$}=ZP(i,e,o,I,r);L>0&&x+$+2*h>_&&(y+=T+h,m.push({width:T,height:x}),R+=T+h,C++,T=x=0),f[L]={left:R,top:x,col:C,width:Y,height:$},T=Math.max(T,Y),x+=$+h}),y+=T,m.push({width:T,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Ko(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=an(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=an(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+r}else{let h=0,f=an(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=an(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;N_(t,this),this._draw(),k_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Se.color,f=Ko(t.rtl,this.left,this.width),m=un(c.font),{padding:_}=c,y=m.size,T=y/2;let x;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:R,boxHeight:C,itemHeight:I}=QE(c,y),L=function(rt,M,w){if(isNaN(R)||R<=0||isNaN(C)||C<0)return;r.save();const D=Mt(w.lineWidth,1);if(r.fillStyle=Mt(w.fillStyle,h),r.lineCap=Mt(w.lineCap,"butt"),r.lineDashOffset=Mt(w.lineDashOffset,0),r.lineJoin=Mt(w.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Mt(w.strokeStyle,h),r.setLineDash(Mt(w.lineDash,[])),c.usePointStyle){const P={radius:C*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:D},k=f.xPlus(rt,R/2),z=M+T;tw(r,P,k,z,c.pointStyleWidth&&R)}else{const P=M+Math.max((y-C)/2,0),k=f.leftForLtr(rt,R),z=Yo(w.borderRadius);r.beginPath(),Object.values(z).some(O=>O!==0)?Kf(r,{x:k,y:P,w:R,h:C,radius:z}):r.rect(k,P,R,C),r.fill(),D!==0&&r.stroke()}r.restore()},Y=function(rt,M,w){Zc(r,w.text,rt,M+I/2,m,{strikethrough:w.hidden,textAlign:f.textAlign(w.textAlign)})},$=this.isHorizontal(),et=this._computeTitleHeight();$?x={x:an(o,this.left+_,this.right-i[0]),y:this.top+_+et,line:0}:x={x:this.left+_,y:an(o,this.top+et+_,this.bottom-e[0].height),line:0},ow(this.ctx,t.textDirection);const W=I+_;this.legendItems.forEach((rt,M)=>{r.strokeStyle=rt.fontColor,r.fillStyle=rt.fontColor;const w=r.measureText(rt.text).width,D=f.textAlign(rt.textAlign||(rt.textAlign=c.textAlign)),P=R+T+w;let k=x.x,z=x.y;f.setWidth(this.width),$?M>0&&k+P+_>this.right&&(z=x.y+=W,x.line++,k=x.x=an(o,this.left+_,this.right-i[x.line])):M>0&&z+W>this.bottom&&(k=x.x=k+e[x.line].width+_,x.line++,z=x.y=an(o,this.top+et+_,this.bottom-e[x.line].height));const O=f.x(k);if(L(O,z,rt),k=Uk(D,k+R+T,$?k+P:this.right,t.rtl),Y(f.x(k),z,rt),$)x.x+=P+_;else if(typeof rt.text!="string"){const Dt=m.lineHeight;x.y+=Aw(rt,Dt)+_}else x.y+=W}),lw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=un(e.font),r=ti(e.padding);if(!e.display)return;const o=Ko(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=r.top+f;let _,y=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),_=this.top+m,y=an(t.align,y,this.right-T);else{const R=this.columnSizes.reduce((C,I)=>Math.max(C,I.height),0);_=m+an(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const x=an(h,y,y+T);c.textAlign=o.textAlign(M_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Zc(c,e.text,x,_,i)}_computeTitleHeight(){const t=this.options.title,e=un(t.font),i=ti(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Sr(t,this.left,this.right)&&Sr(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Sr(t,r.left,r.left+r.width)&&Sr(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!e6(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=WP(r,i);r&&!o&&ce(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ce(e.onHover,[t,i,this],this)}else i&&ce(e.onClick,[t,i,this],this)}}function ZP(n,t,e,i,r){const o=JP(i,n,t,e),c=t6(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function JP(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function t6(n,t,e){let i=n;return typeof t.text!="string"&&(i=Aw(t,e)),i}function Aw(n,t){const e=n.text?n.text.length:0;return t*e}function e6(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var bd={id:"legend",_element:$E,start(n,t,e){const i=n.legend=new $E({ctx:n.ctx,options:e,chart:n});Wn.configure(n,i,e),Wn.addBox(n,i)},stop(n){Wn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Wn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),_=ti(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Rw extends Ls{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=je(i.text)?i.text.length:1;this._padding=ti(i.padding);const o=r*un(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,m,_,y;return this.isHorizontal()?(_=an(h,i,o),y=e+t,m=o-i):(c.position==="left"?(_=i+t,y=an(h,r,e),f=ee*-.5):(_=o-t,y=an(h,e,r),f=ee*.5),m=r-e),{titleX:_,titleY:y,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=un(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);Zc(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:M_(e.align),textBaseline:"middle",translation:[c,h]})}}function n6(n,t){const e=new Rw({ctx:n.ctx,options:t,chart:n});Wn.configure(n,e,t),Wn.addBox(n,e),n.titleBlock=e}var F_={id:"title",_element:Rw,start(n,t,e){n6(n,e)},stop(n){const t=n.titleBlock;Wn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Wn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ac={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),_=xp(t,m);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Fi(n,t){return t&&(je(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ws(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function i6(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function WE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=un(t.bodyFont),m=un(t.titleFont),_=un(t.footerFont),y=o.length,T=r.length,x=i.length,R=ti(t.padding);let C=R.height,I=0,L=i.reduce((et,W)=>et+W.before.length+W.lines.length+W.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,y&&(C+=y*m.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),L){const et=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;C+=x*et+(L-x)*f.lineHeight+(L-1)*t.bodySpacing}T&&(C+=t.footerMarginTop+T*_.lineHeight+(T-1)*t.footerSpacing);let Y=0;const $=function(et){I=Math.max(I,e.measureText(et).width+Y)};return e.save(),e.font=m.string,te(n.title,$),e.font=f.string,te(n.beforeBody.concat(n.afterBody),$),Y=t.displayColors?c+2+t.boxPadding:0,te(i,et=>{te(et.before,$),te(et.lines,$),te(et.after,$)}),Y=0,e.font=_.string,te(n.footer,$),e.restore(),I+=R.width,{width:I,height:C}}function s6(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function r6(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function a6(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=r<=(h+f)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),r6(m,n,t,e)&&(m="center"),m}function ZE(n,t,e){const i=e.yAlign||t.yAlign||s6(n,e);return{xAlign:e.xAlign||t.xAlign||a6(n,t,e,i),yAlign:i}}function o6(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function l6(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function JE(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=r+o,{topLeft:_,topRight:y,bottomLeft:T,bottomRight:x}=Yo(c);let R=o6(t,h);const C=l6(t,f,m);return f==="center"?h==="left"?R+=m:h==="right"&&(R-=m):h==="left"?R-=Math.max(_,T)+r:h==="right"&&(R+=Math.max(y,x)+r),{x:cn(R,0,i.width-t.width),y:cn(C,0,i.height-t.height)}}function of(n,t,e){const i=ti(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function tx(n){return Fi([],ws(n))}function c6(n,t,e){return Fa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function ex(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Cw={beforeTitle:xs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:xs,beforeBody:xs,beforeLabel:xs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Qt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:xs,afterBody:xs,beforeFooter:xs,footer:xs,afterFooter:xs};function En(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?Cw[t].call(e,i):r}class nx extends Ls{static positioners=Ac;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new uw(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=c6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=En(i,"beforeTitle",this,t),o=En(i,"title",this,t),c=En(i,"afterTitle",this,t);let h=[];return h=Fi(h,ws(r)),h=Fi(h,ws(o)),h=Fi(h,ws(c)),h}getBeforeBody(t,e){return tx(En(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=ex(i,o);Fi(c.before,ws(En(h,"beforeLabel",this,o))),Fi(c.lines,En(h,"label",this,o)),Fi(c.after,ws(En(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return tx(En(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=En(i,"beforeFooter",this,t),o=En(i,"footer",this,t),c=En(i,"afterFooter",this,t);let h=[];return h=Fi(h,ws(r)),h=Fi(h,ws(o)),h=Fi(h,ws(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(i6(this.chart,e[f]));return t.filter&&(h=h.filter((_,y,T)=>t.filter(_,y,T,i))),t.itemSort&&(h=h.sort((_,y)=>t.itemSort(_,y,i))),te(h,_=>{const y=ex(t.callbacks,_);r.push(En(y,"labelColor",this,_)),o.push(En(y,"labelPointStyle",this,_)),c.push(En(y,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Ac[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=WE(this,i),m=Object.assign({},h,f),_=ZE(this.chart,i,m),y=JE(i,m,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:_,bottomRight:y}=Yo(h),{x:T,y:x}=t,{width:R,height:C}=e;let I,L,Y,$,et,W;return o==="center"?(et=x+C/2,r==="left"?(I=T,L=I-c,$=et+c,W=et-c):(I=T+R,L=I+c,$=et-c,W=et+c),Y=I):(r==="left"?L=T+Math.max(f,_)+c:r==="right"?L=T+R-Math.max(m,y)-c:L=this.caretX,o==="top"?($=x,et=$-c,I=L-c,Y=L+c):($=x+C,et=$+c,I=L+c,Y=L-c),W=$),{x1:I,x2:L,x3:Y,y1:$,y2:et,y3:W}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const m=Ko(i.rtl,this.x,this.width);for(t.x=of(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=un(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,_=un(o.bodyFont),y=of(this,"left",o),T=r.x(y),x=f<_.lineHeight?(_.lineHeight-f)/2:0,R=e.y+x;if(o.usePointStyle){const C={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},I=r.leftForLtr(T,m)+m/2,L=R+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,wp(t,C,I,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,wp(t,C,I,L)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=r.leftForLtr(T,m),I=r.leftForLtr(r.xPlus(T,1),m-2),L=Yo(c.borderRadius);Object.values(L).some(Y=>Y!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Kf(t,{x:C,y:R,w:m,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Kf(t,{x:I,y:R+1,w:m-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,R,m,f),t.strokeRect(C,R,m,f),t.fillStyle=c.backgroundColor,t.fillRect(I,R+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:_}=i,y=un(i.bodyFont);let T=y.lineHeight,x=0;const R=Ko(i.rtl,this.x,this.width),C=function(w){e.fillText(w,R.x(t.x+x),t.y+T/2),t.y+=T+o},I=R.textAlign(c);let L,Y,$,et,W,rt,M;for(e.textAlign=c,e.textBaseline="middle",e.font=y.string,t.x=of(this,I,i),e.fillStyle=i.bodyColor,te(this.beforeBody,C),x=h&&I!=="right"?c==="center"?m/2+_:m+2+_:0,et=0,rt=r.length;et<rt;++et){for(L=r[et],Y=this.labelTextColors[et],e.fillStyle=Y,te(L.before,C),$=L.lines,h&&$.length&&(this._drawColorBox(e,t,et,R,i),T=Math.max(y.lineHeight,f)),W=0,M=$.length;W<M;++W)C($[W]),T=y.lineHeight;te(L.after,C)}x=0,T=y.lineHeight,te(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=Ko(i.rtl,this.x,this.width);for(t.x=of(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=un(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:_}=i,{topLeft:y,topRight:T,bottomLeft:x,bottomRight:R}=Yo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+y,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-T,f),e.quadraticCurveTo(h+m,f,h+m,f+T),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,f+_-R),e.quadraticCurveTo(h+m,f+_,h+m-R,f+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+x,f+_),e.quadraticCurveTo(h,f+_,h,f+_-x),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+y),e.quadraticCurveTo(h,f,h+y,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Ac[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=WE(this,t),f=Object.assign({},c,this._size),m=ZE(e,t,f),_=JE(t,f,m,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ti(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),ow(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),lw(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!qf(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!qf(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Ac[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Td={id:"tooltip",_element:nx,positioners:Ac,afterInit(n,t,e){e&&(n.tooltip=new nx({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Cw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const u6=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function h6(n,t,e,i){const r=n.indexOf(t);if(r===-1)return u6(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const f6=(n,t)=>n===null?null:cn(Math.round(n),0,t);function ix(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class H_ extends ll{static id="category";static defaults={ticks:{callback:ix}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Qt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:h6(i,t,Mt(e,t),this._addedLabels),f6(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return ix.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function d6(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:m,maxTicks:_,maxDigits:y,includeBounds:T}=n,x=o||1,R=_-1,{min:C,max:I}=t,L=!Qt(c),Y=!Qt(h),$=!Qt(m),et=(I-C)/(y+1);let W=sE((I-C)/R/x)*x,rt,M,w,D;if(W<1e-14&&!L&&!Y)return[{value:C},{value:I}];D=Math.ceil(I/W)-Math.floor(C/W),D>R&&(W=sE(D*W/R/x)*x),Qt(f)||(rt=Math.pow(10,f),W=Math.ceil(W*rt)/rt),r==="ticks"?(M=Math.floor(C/W)*W,w=Math.ceil(I/W)*W):(M=C,w=I),L&&Y&&o&&Mk((h-c)/o,W/1e3)?(D=Math.round(Math.min((h-c)/W,_)),W=(h-c)/D,M=c,w=h):$?(M=L?c:M,w=Y?h:w,D=m-1,W=(w-M)/D):(D=(w-M)/W,kc(D,Math.round(D),W/1e3)?D=Math.round(D):D=Math.ceil(D));const P=Math.max(rE(W),rE(M));rt=Math.pow(10,Qt(f)?P:f),M=Math.round(M*rt)/rt,w=Math.round(w*rt)/rt;let k=0;for(L&&(T&&M!==c?(e.push({value:c}),M<c&&k++,kc(Math.round((M+k*W)*rt)/rt,c,sx(c,et,n))&&k++):M<c&&k++);k<D;++k){const z=Math.round((M+k*W)*rt)/rt;if(Y&&z>h)break;e.push({value:z})}return Y&&T&&w!==h?e.length&&kc(e[e.length-1].value,h,sx(h,et,n))?e[e.length-1].value=h:e.push({value:h}):(!Y||w===h)&&e.push({value:w}),e}function sx(n,t,{horizontal:e,minRotation:i}){const r=Ms(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class m6 extends ll{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Qt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=Wi(r),m=Wi(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=d6(r,o);return t.bounds==="ticks"&&Dk(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return O_(t,this.chart.options.locale,this.options.ticks.format)}}class q_ extends m6{static id="linear";static defaults={ticks:{callback:J1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Jn(t)?t:0,this.max=Jn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ms(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ed={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Sn=Object.keys(Ed);function rx(n,t){return n-t}function ax(n,t){if(Qt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Jn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Qc(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function ox(n,t,e,i){const r=Sn.length;for(let o=Sn.indexOf(n);o<r-1;++o){const c=Ed[Sn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Sn[o]}return Sn[r-1]}function g6(n,t,e,i,r){for(let o=Sn.length-1;o>=Sn.indexOf(e);o--){const c=Sn[o];if(Ed[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Sn[e?Sn.indexOf(e):0]}function p6(n){for(let t=Sn.indexOf(n)+1,e=Sn.length;t<e;++t)if(Ed[Sn[t]].common)return Sn[t]}function lx(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=I_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function _6(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function cx(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:_6(n,i,r,e)}class ux extends ll{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new vV._date(t.adapters.date);r.init(e),Nc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:ax(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Jn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Jn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=Pk(r,o,c);return this._unit=e.unit||(i.autoSkip?ox(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):g6(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:p6(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),cx(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=cn(e,0,c),i=cn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||ox(o.minUnit,e,i,this._getLabelCapacity(e)),h=Mt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Qc(f)||f===!0,_={};let y=e,T,x;if(m&&(y=+t.startOf(y,"isoWeek",f)),y=+t.startOf(y,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(T=y,x=0;T<i;T=+t.add(T,h,c),x++)lx(_,T,R);return(T===i||r.bounds==="ticks"||x===1)&&lx(_,T,R),Object.keys(_).sort(rx).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return ce(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,_=f&&h[f],y=m&&h[m],T=i[e],x=m&&y&&T&&T.major;return this._adapter.format(t,r||(x?y:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ms(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,cx(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(ax(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $1(t.sort(rx))}}function lf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Sa(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Sa(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class B6 extends ux{static id="timeseries";static defaults=ux.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=lf(e,this.min),this._tableRange=lf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,m,_;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],f=r[c-1],m=r[c],Math.round((_+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(lf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return lf(this._table,i*this._tableRange+this._minPos,!0)}}const Iw="label";function hx(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function y6(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function Mw(n,t){n.labels=t}function Dw(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Iw;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function v6(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Iw;const e={labels:[],datasets:[]};return Mw(e,n.labels),Dw(e,n.datasets,t),e}function b6(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:_,updateMode:y,...T}=n,x=Ht.useRef(null),R=Ht.useRef(null),C=()=>{x.current&&(R.current=new Ha(x.current,{type:c,data:v6(h,o),options:f&&{...f},plugins:m}),hx(t,R.current))},I=()=>{hx(t,null),R.current&&(R.current.destroy(),R.current=null)};return Ht.useEffect(()=>{!r&&R.current&&f&&y6(R.current,f)},[r,f]),Ht.useEffect(()=>{!r&&R.current&&Mw(R.current.config.data,h.labels)},[r,h.labels]),Ht.useEffect(()=>{!r&&R.current&&h.datasets&&Dw(R.current.config.data,h.datasets,o)},[r,h.datasets]),Ht.useEffect(()=>{R.current&&(r?(I(),setTimeout(C)):R.current.update(y))},[r,f,h.labels,h.datasets,y]),Ht.useEffect(()=>{R.current&&(I(),setTimeout(C))},[c]),Ht.useEffect(()=>(C(),()=>I()),[]),dx.createElement("canvas",{ref:x,role:"img",height:e,width:i,...T},_)}const T6=Ht.forwardRef(b6);function G_(n,t){return Ha.register(t),Ht.forwardRef((e,i)=>dx.createElement(T6,{...e,ref:i,type:n}))}const E6=G_("line",yV),Ow=G_("bar",gV),x6=G_("doughnut",_V);Ha.register(H_,q_,ww,F_,Td,bd);const S6=({isDark:n})=>{const t={labels:["January","February","March"],datasets:[{label:"Fuel Consumption",data:[20,42,88],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption Overview",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return N.jsx(Ow,{data:t,options:e})};Ha.register(H_,q_,GP,qP,F_,Td,bd);const w6=({isDark:n})=>{const t={labels:["January","February","March","April"],datasets:[{label:"Mileage",data:[40,52,70,88],fill:!1,borderColor:"rgba(101, 119, 255, 1)",tension:.1}]},e={responsive:!0,plugins:{legend:{position:"top",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Mileage Efficiency",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return N.jsx(E6,{data:t,options:e})};Ha.register(kP,Td,bd);const A6=({isDark:n})=>{const t={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Total Expenses",color:n?"#FFFCE1":"#0E100F"},tooltip:{backgroundColor:n?"#0E100F":"#FFFCE1",titleColor:n?"#FFFCE1":"#0E100F",bodyColor:n?"#FFFCE1":"#0E100F",borderColor:n?"#555":"#ccc",borderWidth:1}}},e={labels:["January","February","March"],datasets:[{label:"Expenses",data:[300,50,100],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderColor:n?"#0E100F":"#FFFCE1",borderWidth:2}]};return N.jsx(x6,{data:e,options:t})};function R6({isDark:n}){const t=yi();return N.jsxs("div",{className:`flex-col
            fade-in flex items-center justify-center h-screen w-full p-[calc(0.4vw+0.6rem)]`,children:[N.jsx("section",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)]",children:N.jsxs("div",{className:`${t?"flex-col items-center gap-[calc(0.4vw+0.6rem)]":"flex-row items-center"}
                    h-auto w-full flex justify-center p-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]`,children:[N.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("img",{src:n?Mp:Tf,className:`h-[calc(6vw+6.4rem)] w-[calc(6vw+6.4rem)] cursor-pointer\r
                            filter hover:brightness-60 transition duration-300`,alt:""}),N.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),N.jsxs("div",{className:"flex-3 h-full flex flex-col items-start justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[N.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"Subscribe to our newsletter"}),N.jsxs("div",{className:"w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] pl-0",children:[N.jsx("input",{type:"email",placeholder:"Enter your email",className:`${n?"border-[var(--light-color)]":"border-[var(--dark-color)]"}
                                    w-full outline-none px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] border-b`}),N.jsx("i",{className:"bx bx-arrow-right-stroke-circle bx-spin-hover hovered text-[calc(1vw+1.4rem)] cursor-pointer"})]})]}),N.jsxs("div",{className:`${t?"pb-[calc(0.4vw+0.6rem)]":"p-[calc(0.4vw+0.6rem)]"}
                            flex-3 w-full flex items-center justify-center gap-[calc(1.4vw+1.6rem)]`,children:[N.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"About Us"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Mission"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Team"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"})]}),N.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Support"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Contact"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Support"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"FAQ's"})]}),N.jsxs("div",{className:"h-auto flex-1 flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Social"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Facebook"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Instagram"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Github"})]})]})]})]})}),N.jsxs("section",{className:"w-full flex flex-row items-center justify-between flex-wrap",children:[N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Copyright © DriveSense 2025"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Terms of Service"}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"A100 Group 6 BSIT Mini-Capstone Project"}),N.jsxs("div",{className:"flex flex-row items-center justify-center",children:[N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Back to top"}),N.jsx("i",{className:"bx bx-arrow-up-square bx-tada-hover text-[calc(1vw+1.4rem)] cursor-pointer hovered",onClick:()=>{const e=document.getElementById("landing-section");e&&e.scrollIntoView({behavior:"smooth"})}})]})]})]})}function C6({isDark:n}){const t=yi();return N.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in h-screen w-full flex flex-col items-center justify-start overflow-y-scroll snap-y snap-mandatory scroll-smooth no-scrollbar`,children:[N.jsxs("section",{id:"landing-section",className:`${t?"flex-col min-h-screen w-full justify-center":"w-[90%] flex-row min-h-screen justify-around snap-start"}
                flex items-center border-b border-[var(--border-color)]`,children:[N.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:N.jsxs("div",{className:"flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(1.6vw+1.4rem)] font-bold cursor-pointer hovered",children:"Fuel Consumption and Vehicle Usage Monitoring System"}),!t&&N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),!t&&N.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--dark-color)] font-semibold`,children:"Get Started"}),N.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer font-semibold
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)]`,children:"Sign In"})]})]})}),N.jsx("div",{className:"relative h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:N.jsx("img",{src:S_,className:`${t?"h-[calc(18vw+16rem)] min-w-[calc(18vw+16rem)]":"h-[calc(18vw+16rem)] w-[calc(24vw+18rem)] mb-[48px]"}`,alt:""})}),t&&N.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:N.jsxs("div",{className:"w-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),N.jsxs("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer`,children:"Get Started"}),N.jsx("span",{className:`${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md hovered cursor-pointer font-semibold`,children:"Sign In"})]})]})})]}),N.jsxs("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)] border-b border-[var(--border-color)]`,children:[N.jsx("span",{className:"text-[calc(0.8vw+1rem)] cursor-pointer font-semibold hovered",children:"Why Use DriveSense?"}),N.jsxs("div",{className:`${n?"text-[var(--light-color)]":"text-[var(--dark-color)]"}
                        ${t?"flex-row items-center flex-wrap":"flex-row items-start"}
                        w-full flex justify-center gap-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)]`,children:[N.jsx(Kh,{icon:N.jsx("i",{className:"bx bx-petrol-pump bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Monitor Fuel Consumption",info:"Track fuel volume, cost and refusing data.",isDark:n}),N.jsx(Kh,{icon:N.jsx("i",{className:"bx bx-chart-bar-columns bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Analyze Efficiency",info:"Generate reports on vehicle mileage and performance.",isDark:n}),N.jsx(Kh,{icon:N.jsx("i",{className:"bx bx-car bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Manage Vehicles",info:"Register and update vehicle details with ease.",isDark:n}),N.jsx(Kh,{icon:N.jsx("i",{className:"bx bx-lock-keyhole bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Secure Access",info:"Role: based login for admin, driver and owner.",isDark:n})]}),N.jsxs("div",{className:`${t?"flex-col justify-start w-full":"flex-row justify-center h-[320px] w-full"}
                    h-auto flex items-center p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[N.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:N.jsx(S6,{isDark:n})}),N.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:N.jsx(w6,{isDark:n})}),N.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:N.jsx(A6,{isDark:n})})]})]}),N.jsx("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)]`,children:N.jsx(R6,{isDark:n})})]})}function I6({isLoggedIn:n,setIsLoggedIn:t,setUser:e}){const[i,r]=Ht.useState(!0);return N.jsxs("div",{className:`${i?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            h-screen w-screen overflow-hidden flex flex-col items-center justify-start`,children:[N.jsx($N,{isDark:i,setIsDark:r,isLoggedIn:n,setIsLoggedIn:t,setUser:e}),N.jsx(C6,{isDark:i})]})}const Nw=({icon:n,title:t})=>N.jsxs(N.Fragment,{children:[N.jsx("i",{className:`${n} text-[calc(0.6vw+1rem)]`}),N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] hovered",children:t})]});function M6({isDark:n,setIsDark:t,activeIndex:e,setActiveIndex:i,user:r}){const o=yi(),[c,h]=Ht.useState(!1),f=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicle"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-map bx-tada-hover hovered",title:"Trip"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],m=r?.displayName?.split(" ")[0]??"Guest";return N.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[N.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&N.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(_=>!_)}),N.jsx("img",{src:n?Mp:Tf,className:"h-[calc(1vw+1.4rem)] w-[calc(1vw+1.4rem)] cursor-pointer hovered"}),N.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),N.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[r&&N.jsx("img",{src:r?.photoURL??"",className:"rounded-full h-[calc(0.8vw+1.4rem)]  w-[calc(0.8vw+1.4rem)] cursor-pointer",alt:""}),!r&&N.jsx("i",{className:"bx bx-user-circle bx-tada-hover hovered text-[calc(1vw+1.2rem)] cursor-pointer"}),N.jsx("span",{className:`${o?"text-[calc(0.4vw+0.8rem)]":"text-[calc(0.4vw+0.6rem)]"} 
                    cursor-pointer hovered`,children:o?m:r?.displayName??"Guest"}),N.jsx(mx,{isDark:n,setIsDark:t})]}),o&&c&&N.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:N.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[N.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(_=>!_)}),f.map((_,y)=>N.jsx("div",{className:`${e===y?"bg-[var(--border-color)]":""} flex flex-row items-center justify-start gap-[calc(0.4vw+0.6rem)] 
                            cursor-pointer transition duration-300 ease-in-out`,onClick:()=>i(y),children:N.jsx(Nw,{icon:_.icon,title:_.title})},y))]})})]})}function yr({title:n,descrip:t,isDark:e}){return N.jsxs("div",{className:`
            text-[var(--light-color)] bg-[var(--purple-color)]
            h-auto w-full flex flex-col items-start justify-center rounded-lg
            p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[N.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer text-center",children:n}),N.jsx("span",{className:"text-[calc(0.6vw+1.2rem)] cursor-pointer",children:t})]})}Ha.register(H_,q_,ww,F_,Td,bd);const D6=({isDark:n})=>{const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],datasets:[{label:"Fuel Consumption",data:[20,42,98,66,32,52,44,80,74],backgroundColor:["rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)","rgba(101, 119, 255, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption",color:n?"#FFFCE1":"#0E100F",align:"start",font:{size:16}}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return N.jsx(Ow,{data:t,options:e})};function fx({isDark:n,user:t}){const e=yi(),[i,r]=Ht.useState("0"),[o,c]=Ht.useState("0"),[h,f]=Ht.useState("0"),[m,_]=Ht.useState("0");return Ht.useEffect(()=>{(async()=>{try{if(!t||!t.uid){console.warn("User not available.");return}const T=R1(Gc,"users",t?.uid,"dashboard-data"),R=(await z1(T)).size;console.log(`Total documents in dashboard-data: ${R}`);const C=y_(Gc,"users",t?.uid,"dashboard-data","2026 Ford Mustang"),I=await E_(C);if(I.exists()){const L=I.data();console.log("Dashboard data:",L),r(L.totalVehicle??R),c(L.fuelCost??"0"),f(L.mileAge??"0"),_(L.totalTrips??"0")}else console.log("No such document!");return R}catch(T){console.error("Error fetching dashboard data:",T)}})()},[]),N.jsxs("section",{id:"main",className:`${e?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
        flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:[N.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Dashboard"}),N.jsxs("span",{className:"text-[calc(0.4vw+0.8rem)] cursor-pointer hovered",children:["Welcome back, ",t?.displayName]}),!e&&N.jsxs("div",{className:"h-auto w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx(yr,{title:"Total Vehicles",descrip:i,isDark:n}),N.jsx(yr,{title:"Monthly Fuel Cost",descrip:o,isDark:n}),N.jsx(yr,{title:"Mileage Efficiency",descrip:h,isDark:n}),N.jsx(yr,{title:"Total Trips",descrip:m,isDark:n})]}),e&&N.jsxs("div",{className:"h-auto w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[N.jsx(yr,{title:"Total Vehicles",descrip:i,isDark:n}),N.jsx(yr,{title:"Monthly Fuel Cost",descrip:o,isDark:n})]}),N.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[N.jsx(yr,{title:"Mileage Efficiency",descrip:h,isDark:n}),N.jsx(yr,{title:"Total Trips",descrip:m,isDark:n})]})]})]}),N.jsxs("div",{className:`${e?"flex-col items-center mt-[calc(0.4vw+0.6rem)]":"flex-row items-start"}
                h-full w-full flex justify-start gap-[calc(0.4vw+0.6rem)]`,children:[N.jsx("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:N.jsx(D6,{isDark:n})}),N.jsxs("div",{className:`${e?"w-full":"flex-1"}
                    h-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:[N.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] p-[calc(0.4vw+0.6rem)] pl-0 cursor-pointer",children:"Recent Activity"}),N.jsxs("div",{className:"h-full w-full flex flex-row items-start justify-around py-[calc(0.4vw+0.6rem)]",children:[N.jsxs("div",{className:"h-full flex-1 flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]  text-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"hovered w-full p-[calc(0.3vw+0.4rem)] border-b border-[var(--border-color)] cursor-pointer pl-0",children:"Activity"}),N.jsx("span",{className:"cursor-pointer hovered",children:"Refuel"}),N.jsx("span",{className:"cursor-pointer hovered",children:"Trip"}),N.jsx("span",{className:"cursor-pointer hovered",children:"Maintenance"}),N.jsx("span",{className:"cursor-pointer hovered",children:"Refuel"})]}),N.jsxs("div",{className:"h-full flex-1 flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]  text-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:" hovered w-full p-[calc(0.3vw+0.4rem)] border-b border-[var(--border-color)] cursor-pointer pl-0",children:"Date"}),N.jsx("span",{className:"cursor-pointer hovered",children:"Sep 23, 2025"}),N.jsx("span",{className:"cursor-pointer hovered",children:"Sep 23, 2025"}),N.jsx("span",{className:"cursor-pointer hovered",children:"Oct 04, 2025"}),N.jsx("span",{className:"cursor-pointer hovered",children:"Oct 18, 2025"})]}),N.jsxs("div",{className:"h-full flex-1 flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]  text-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"hovered w-full p-[calc(0.3vw+0.4rem)] border-b border-[var(--border-color)] cursor-pointer pl-0",children:"Time"}),N.jsx("span",{className:"cursor-pointer hovered",children:"9:15 AM"}),N.jsx("span",{className:"cursor-pointer hovered",children:"1:20 PM"}),N.jsx("span",{className:"cursor-pointer hovered",children:"4:32 PM"}),N.jsx("span",{className:"cursor-pointer hovered",children:"8:44 PM"})]})]})]})]})]})}function O6({user:n}){const[t,e]=Ht.useState(!1),i=yi();return N.jsx(N.Fragment,{children:!t&&N.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:N.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[N.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>e(r=>!r)}),N.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[N.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:N.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),N.jsx("div",{className:" w-full flex flex-col items-center justify-end ",children:N.jsx("img",{src:S_,className:`${i?"h-full min-wfull":"h-full w-full"}`,alt:""})}),N.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("input",{type:"text",placeholder:"Vehicle Name",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),N.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,children:"Continue"})]})]})]})})})}function N6({isDark:n,user:t}){const e=yi(),[i,r]=Ht.useState(!1);return N.jsxs("section",{id:"main",className:`${e?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
        
        flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[N.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Vehicle Information"}),N.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] bg-[var(--purple-color)] \r
                px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg cursor-pointer`,onClick:()=>r(o=>!o),children:"Add Vehicle"})]}),i&&N.jsx(O6,{user:t}),N.jsx("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)] rounded-xl bordered"})]})}function k6({user:n}){const[t,e]=Ht.useState(!1),i=yi();return N.jsx(N.Fragment,{children:!t&&N.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:N.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[N.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>e(r=>!r)}),N.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[N.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:N.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new driver"})}),N.jsx("div",{className:" w-full flex flex-col items-center justify-end ",children:N.jsx("img",{src:S_,className:`${i?"h-full min-wfull":"h-full w-full"}`,alt:""})}),N.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("input",{type:"text",placeholder:"Driver Name",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,required:!0}),N.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,children:"Continue"})]})]})]})})})}function V6({isDark:n,user:t}){const e=yi(),[i,r]=Ht.useState(!1),[o,c]=Ht.useState([]),[h,f]=Ht.useState([]);return Ht.useEffect(()=>{const m=async()=>{try{if(!t?.uid)return;const _=R1(Gc,"users",t?.uid,"drivers"),y=await z1(_),T=[];y.forEach(R=>{T.push(R.id),console.log("Driver name: ",R.id),console.log(m)}),c(T);const x=[];try{if(T.length>0){for(const R of T){const C=y_(Gc,"users",t?.uid,"drivers",R),I=await E_(C);if(I.exists()&&o){const L=I.data();console.log(`Driver ID: ${R}, Name: ${L.name}`),x.push(L.name),console.log(x)}}f(x),console.log(h)}}catch(R){console.error("Bruh can't fetch the names :D",R)}}catch(_){console.error("Can't fetch drivers :D",_)}};m()},[]),N.jsxs("section",{id:"main",className:`${e?"p-[calc(0.4vw+0.6rem)] h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
        
        flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[N.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[N.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Driver Information"}),N.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] bg-[var(--purple-color)] \r
                px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg cursor-pointer`,onClick:()=>r(m=>!m),children:"Add Driver"})]}),i&&N.jsx(k6,{user:t}),N.jsx("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:h.map(m=>N.jsxs("div",{className:"h-auto w-full p-[calc(0.4vw+0.6rem)] flex flex-row items-start justify-start rounded-xl bordered",children:[N.jsx("div",{className:"h-full flex flex-row items-center justify-center",children:N.jsx("span",{className:"hovered cursor-pointer text-[calc(0.4vw+0.6rem)]",children:m},m)}),N.jsxs("div",{className:"h-full flex flex-row items-center justify-center ml-auto",children:[N.jsx("i",{className:"bx bx-edit bx-tada-hover hovered text-[calc(0.8vw+1rem)] gap-[calc(0.4vw+0.6rem)] cursor-pointer"}),N.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out gap-[calc(0.4vw+0.6rem)] cursor-pointer"})]})]}))})]})}function P6({isDark:n,activeIndex:t,setActiveIndex:e,user:i}){const r=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-user bx-tada-hover hovered",title:"Drivers"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicles"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-map bx-tada-hover hovered",title:"Trip"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],o=[N.jsx(fx,{isDark:n,user:i}),N.jsx(V6,{isDark:n,user:i}),N.jsx(N6,{isDark:n,user:i})],c=yi();return N.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            ${c?"h-auto":"h-screen"}
            fade-in w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]`,children:[!c&&N.jsx("section",{id:"side-nav",className:"h-full w-full flex-1",children:r.map((h,f)=>N.jsx("div",{className:`${t===f?"text-[var(--dark-color)] bg-[var(--border-color)]":""} flex flex-row items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] 
                        cursor-pointer transition duration-300 ease-in-out`,onClick:()=>e(f),children:N.jsx(Nw,{icon:h.icon,title:h.title})},f))}),o[t]??N.jsx(fx,{isDark:n,user:i})]})}function L6({user:n}){const[t,e]=Ht.useState(!0),[i,r]=Ht.useState(0);return N.jsxs("div",{children:[N.jsx(M6,{isDark:t,setIsDark:e,activeIndex:i,setActiveIndex:r,user:n}),N.jsx(P6,{isDark:t,activeIndex:i,setActiveIndex:r,user:n})]})}function z6(){const[n,t]=Ht.useState(!1),[e,i]=Ht.useState(null);return N.jsxs("div",{children:[!n&&N.jsx(I6,{isLoggedIn:n,setIsLoggedIn:t,setUser:i}),n&&N.jsx(L6,{user:e})]})}bR.createRoot(document.getElementById("root")).render(N.jsx(Ht.StrictMode,{children:N.jsx(z6,{})}));
