(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function kR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pp={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function VR(){if(Rb)return Ec;Rb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Ec.Fragment=t,Ec.jsx=e,Ec.jsxs=e,Ec}var Cb;function PR(){return Cb||(Cb=1,Pp.exports=VR()),Pp.exports}var w=PR(),Lp={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function LR(){if(Ib)return At;Ib=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function V(U,tt,ct){this.props=U,this.context=tt,this.refs=I,this.updater=ct||A}V.prototype.isReactComponent={},V.prototype.setState=function(U,tt){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,tt,"setState")},V.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=V.prototype;function H(U,tt,ct){this.props=U,this.context=tt,this.refs=I,this.updater=ct||A}var Z=H.prototype=new B;Z.constructor=H,C(Z,V.prototype),Z.isPureReactComponent=!0;var Q=Array.isArray;function rt(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function M(U,tt,ct){var ut=ct.ref;return{$$typeof:n,type:U,key:tt,ref:ut!==void 0?ut:null,props:ct}}function L(U,tt){return M(U.type,tt,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function j(U){var tt={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ct){return tt[ct]})}var O=/\/+/g;function Mt(U,tt){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):tt.toString(36)}function Tt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(rt,rt):(U.status="pending",U.then(function(tt){U.status==="pending"&&(U.status="fulfilled",U.value=tt)},function(tt){U.status==="pending"&&(U.status="rejected",U.reason=tt)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function K(U,tt,ct,ut,_t){var xt=typeof U;(xt==="undefined"||xt==="boolean")&&(U=null);var Ft=!1;if(U===null)Ft=!0;else switch(xt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(U.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=U._init,K(Ft(U._payload),tt,ct,ut,_t)}}if(Ft)return _t=_t(U),Ft=ut===""?"."+Mt(U,0):ut,Q(_t)?(ct="",Ft!=null&&(ct=Ft.replace(O,"$&/")+"/"),K(_t,tt,ct,"",function(Kr){return Kr})):_t!=null&&(k(_t)&&(_t=L(_t,ct+(_t.key==null||U&&U.key===_t.key?"":(""+_t.key).replace(O,"$&/")+"/")+Ft)),tt.push(_t)),1;Ft=0;var Le=ut===""?".":ut+":";if(Q(U))for(var fe=0;fe<U.length;fe++)ut=U[fe],xt=Le+Mt(ut,fe),Ft+=K(ut,tt,ct,xt,_t);else if(fe=T(U),typeof fe=="function")for(U=fe.call(U),fe=0;!(ut=U.next()).done;)ut=ut.value,xt=Le+Mt(ut,fe++),Ft+=K(ut,tt,ct,xt,_t);else if(xt==="object"){if(typeof U.then=="function")return K(Tt(U),tt,ct,ut,_t);throw tt=String(U),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function ot(U,tt,ct){if(U==null)return U;var ut=[],_t=0;return K(U,ut,"","",function(xt){return tt.call(ct,xt,_t++)}),ut}function ft(U){if(U._status===-1){var tt=U._result;tt=tt(),tt.then(function(ct){(U._status===0||U._status===-1)&&(U._status=1,U._result=ct)},function(ct){(U._status===0||U._status===-1)&&(U._status=2,U._result=ct)}),U._status===-1&&(U._status=0,U._result=tt)}if(U._status===1)return U._result.default;throw U._result}var bt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Vt={map:ot,forEach:function(U,tt,ct){ot(U,function(){tt.apply(this,arguments)},ct)},count:function(U){var tt=0;return ot(U,function(){tt++}),tt},toArray:function(U){return ot(U,function(tt){return tt})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return At.Activity=_,At.Children=Vt,At.Component=V,At.Fragment=e,At.Profiler=r,At.PureComponent=H,At.StrictMode=i,At.Suspense=f,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,At.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},At.cache=function(U){return function(){return U.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(U,tt,ct){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ut=C({},U.props),_t=U.key;if(tt!=null)for(xt in tt.key!==void 0&&(_t=""+tt.key),tt)!R.call(tt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&tt.ref===void 0||(ut[xt]=tt[xt]);var xt=arguments.length-2;if(xt===1)ut.children=ct;else if(1<xt){for(var Ft=Array(xt),Le=0;Le<xt;Le++)Ft[Le]=arguments[Le+2];ut.children=Ft}return M(U.type,_t,ut)},At.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},At.createElement=function(U,tt,ct){var ut,_t={},xt=null;if(tt!=null)for(ut in tt.key!==void 0&&(xt=""+tt.key),tt)R.call(tt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=tt[ut]);var Ft=arguments.length-2;if(Ft===1)_t.children=ct;else if(1<Ft){for(var Le=Array(Ft),fe=0;fe<Ft;fe++)Le[fe]=arguments[fe+2];_t.children=Le}if(U&&U.defaultProps)for(ut in Ft=U.defaultProps,Ft)_t[ut]===void 0&&(_t[ut]=Ft[ut]);return M(U,xt,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(U){return{$$typeof:h,render:U}},At.isValidElement=k,At.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ft}},At.memo=function(U,tt){return{$$typeof:d,type:U,compare:tt===void 0?null:tt}},At.startTransition=function(U){var tt=D.T,ct={};D.T=ct;try{var ut=U(),_t=D.S;_t!==null&&_t(ct,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(rt,bt)}catch(xt){bt(xt)}finally{tt!==null&&ct.types!==null&&(tt.types=ct.types),D.T=tt}},At.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},At.use=function(U){return D.H.use(U)},At.useActionState=function(U,tt,ct){return D.H.useActionState(U,tt,ct)},At.useCallback=function(U,tt){return D.H.useCallback(U,tt)},At.useContext=function(U){return D.H.useContext(U)},At.useDebugValue=function(){},At.useDeferredValue=function(U,tt){return D.H.useDeferredValue(U,tt)},At.useEffect=function(U,tt){return D.H.useEffect(U,tt)},At.useEffectEvent=function(U){return D.H.useEffectEvent(U)},At.useId=function(){return D.H.useId()},At.useImperativeHandle=function(U,tt,ct){return D.H.useImperativeHandle(U,tt,ct)},At.useInsertionEffect=function(U,tt){return D.H.useInsertionEffect(U,tt)},At.useLayoutEffect=function(U,tt){return D.H.useLayoutEffect(U,tt)},At.useMemo=function(U,tt){return D.H.useMemo(U,tt)},At.useOptimistic=function(U,tt){return D.H.useOptimistic(U,tt)},At.useReducer=function(U,tt,ct){return D.H.useReducer(U,tt,ct)},At.useRef=function(U){return D.H.useRef(U)},At.useState=function(U){return D.H.useState(U)},At.useSyncExternalStore=function(U,tt,ct){return D.H.useSyncExternalStore(U,tt,ct)},At.useTransition=function(){return D.H.useTransition()},At.version="19.2.0",At}var Nb;function Gg(){return Nb||(Nb=1,Lp.exports=LR()),Lp.exports}var nt=Gg();const DE=kR(nt);var jp={exports:{}},Tc={},Up={exports:{}},zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function jR(){return Db||(Db=1,(function(n){function t(K,ot){var ft=K.length;K.push(ot);t:for(;0<ft;){var bt=ft-1>>>1,Vt=K[bt];if(0<r(Vt,ot))K[bt]=ot,K[ft]=Vt,ft=bt;else break t}}function e(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ot=K[0],ft=K.pop();if(ft!==ot){K[0]=ft;t:for(var bt=0,Vt=K.length,U=Vt>>>1;bt<U;){var tt=2*(bt+1)-1,ct=K[tt],ut=tt+1,_t=K[ut];if(0>r(ct,ft))ut<Vt&&0>r(_t,ct)?(K[bt]=_t,K[ut]=ft,bt=ut):(K[bt]=ct,K[tt]=ft,bt=tt);else if(ut<Vt&&0>r(_t,ft))K[bt]=_t,K[ut]=ft,bt=ut;else break t}}return ot}function r(K,ot){var ft=K.sortIndex-ot.sortIndex;return ft!==0?ft:K.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],y=1,_=null,b=3,T=!1,A=!1,C=!1,I=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Z(K){for(var ot=e(d);ot!==null;){if(ot.callback===null)i(d);else if(ot.startTime<=K)i(d),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=e(d)}}function Q(K){if(C=!1,Z(K),!A)if(e(f)!==null)A=!0,rt||(rt=!0,j());else{var ot=e(d);ot!==null&&Tt(Q,ot.startTime-K)}}var rt=!1,D=-1,R=5,M=-1;function L(){return I?!0:!(n.unstable_now()-M<R)}function k(){if(I=!1,rt){var K=n.unstable_now();M=K;var ot=!0;try{t:{A=!1,C&&(C=!1,B(D),D=-1),T=!0;var ft=b;try{e:{for(Z(K),_=e(f);_!==null&&!(_.expirationTime>K&&L());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,b=_.priorityLevel;var Vt=bt(_.expirationTime<=K);if(K=n.unstable_now(),typeof Vt=="function"){_.callback=Vt,Z(K),ot=!0;break e}_===e(f)&&i(f),Z(K)}else i(f);_=e(f)}if(_!==null)ot=!0;else{var U=e(d);U!==null&&Tt(Q,U.startTime-K),ot=!1}}break t}finally{_=null,b=ft,T=!1}ot=void 0}}finally{ot?j():rt=!1}}}var j;if(typeof H=="function")j=function(){H(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Mt=O.port2;O.port1.onmessage=k,j=function(){Mt.postMessage(null)}}else j=function(){V(k,0)};function Tt(K,ot){D=V(function(){K(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var ft=b;b=ot;try{return K()}finally{b=ft}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(K,ot){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=b;b=K;try{return ot()}finally{b=ft}},n.unstable_scheduleCallback=function(K,ot,ft){var bt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?bt+ft:bt):ft=bt,K){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ft+Vt,K={id:y++,callback:ot,priorityLevel:K,startTime:ft,expirationTime:Vt,sortIndex:-1},ft>bt?(K.sortIndex=ft,t(d,K),e(f)===null&&K===e(d)&&(C?(B(D),D=-1):C=!0,Tt(Q,ft-bt))):(K.sortIndex=Vt,t(f,K),A||T||(A=!0,rt||(rt=!0,j()))),K},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(K){var ot=b;return function(){var ft=b;b=ot;try{return K.apply(this,arguments)}finally{b=ft}}}})(zp)),zp}var Mb;function UR(){return Mb||(Mb=1,Up.exports=jR()),Up.exports}var Bp={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function zR(){if(Ob)return an;Ob=1;var n=Gg();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:d,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,y)},an.flushSync=function(f){var d=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=y,i.d.f()}},an.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},an.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},an.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,_=h(y,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:T}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},an.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},an.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,_=h(y,d.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},an.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},an.requestFormReset=function(f){i.d.r(f)},an.unstable_batchedUpdates=function(f,d){return f(d)},an.useFormState=function(f,d,y){return c.H.useFormState(f,d,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.0",an}var kb;function BR(){if(kb)return Bp.exports;kb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Bp.exports=zR(),Bp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function FR(){if(Vb)return Tc;Vb=1;var n=UR(),t=Gg(),e=BR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return f(p),s;if(g===u)return f(p),a;g=g.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=g;else{for(var x=!1,S=p.child;S;){if(S===l){x=!0,l=p,u=g;break}if(S===u){x=!0,u=p,l=g;break}S=S.sibling}if(!x){for(S=g.child;S;){if(S===l){x=!0,l=g,u=p;break}if(S===u){x=!0,u=g,l=p;break}S=S.sibling}if(!x)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Mt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case V:return"Profiler";case I:return"StrictMode";case Q:return"Suspense";case rt:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case H:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case Z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return a=s.displayName||null,a!==null?a:Mt(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return Mt(s(a))}catch{}}return null}var Tt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},bt=[],Vt=-1;function U(s){return{current:s}}function tt(s){0>Vt||(s.current=bt[Vt],bt[Vt]=null,Vt--)}function ct(s,a){Vt++,bt[Vt]=s.current,s.current=a}var ut=U(null),_t=U(null),xt=U(null),Ft=U(null);function Le(s,a){switch(ct(xt,a),ct(_t,s),ct(ut,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Q0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Q0(a),s=W0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}tt(ut),ct(ut,s)}function fe(){tt(ut),tt(_t),tt(xt)}function Kr(s){s.memoizedState!==null&&ct(Ft,s);var a=ut.current,l=W0(a,s.type);a!==l&&(ct(_t,s),ct(ut,l))}function Za(s){_t.current===s&&(tt(ut),tt(_t)),Ft.current===s&&(tt(Ft),vc._currentValue=ft)}var Ja,to;function Ei(s){if(Ja===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ja=a&&a[1]||"",to=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ja+s+to}var vl=!1;function Xr(s,a){if(!s||vl)return"";vl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(W){var $=W}Reflect.construct(s,[],it)}else{try{it.call()}catch(W){$=W}s.call(it.prototype)}}else{try{throw Error()}catch(W){$=W}(it=s())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],S=g[1];if(x&&S){var P=x.split(`
`),Y=S.split(`
`);for(p=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(u===P.length||p===Y.length)for(u=P.length-1,p=Y.length-1;1<=u&&0<=p&&P[u]!==Y[p];)p--;for(;1<=u&&0<=p;u--,p--)if(P[u]!==Y[p]){if(u!==1||p!==1)do if(u--,p--,0>p||P[u]!==Y[p]){var J=`
`+P[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=p);break}}}finally{vl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ei(l):""}function bl(s,a){switch(s.tag){case 26:case 27:case 5:return Ei(s.type);case 16:return Ei("Lazy");case 13:return s.child!==a&&a!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Xr(s.type,!1);case 11:return Xr(s.type.render,!1);case 1:return Xr(s.type,!0);case 31:return Ei("Activity");default:return""}}function xl(s){try{var a="",l=null;do a+=bl(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,Hs=n.unstable_cancelCallback,jd=n.unstable_shouldYield,Au=n.unstable_requestPaint,mn=n.unstable_now,Qr=n.unstable_getCurrentPriorityLevel,wl=n.unstable_ImmediatePriority,El=n.unstable_UserBlockingPriority,qs=n.unstable_NormalPriority,Ud=n.unstable_LowPriority,Ru=n.unstable_IdlePriority,Cu=n.log,Iu=n.unstable_setDisableYieldValue,si=null,Qe=null;function jn(s){if(typeof Cu=="function"&&Iu(s),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(si,s)}catch{}}var ve=Math.clz32?Math.clz32:Du,Nu=Math.log,eo=Math.LN2;function Du(s){return s>>>=0,s===0?32:31-(Nu(s)/eo|0)|0}var Ti=256,Wr=262144,Ae=4194304;function Si(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ai(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,g=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?p=Si(u):(x&=S,x!==0?p=Si(x):l||(l=S&~s,l!==0&&(p=Si(l))))):(S=u&~g,S!==0?p=Si(S):x!==0?p=Si(x):l||(l=u&~s,l!==0&&(p=Si(l)))),p===0?0:a!==0&&a!==p&&(a&g)===0&&(g=p&-p,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:p}function ri(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function zd(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Ri(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Zr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Bd(s,a,l,u,p,g){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,P=s.expirationTimes,Y=s.hiddenUpdates;for(l=x&~l;0<l;){var J=31-ve(l),it=1<<J;S[J]=0,P[J]=-1;var $=Y[J];if($!==null)for(Y[J]=null,J=0;J<$.length;J++){var W=$[J];W!==null&&(W.lane&=-536870913)}l&=~it}u!==0&&Jr(s,u,0),g!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=g&~(x&~a))}function Jr(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-ve(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function Tl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-ve(l),p=1<<u;p&a|s[u]&a&&(s[u]|=a),l&=~p}}function Sl(s,a){var l=a&-a;return l=(l&42)!==0?1:ta(l),(l&(s.suspendedLanes|a))!==0?0:l}function ta(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function os(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ou(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:bb(s.type))}function ai(s,a){var l=ot.p;try{return ot.p=s,a()}finally{ot.p=l}}var oi=Math.random().toString(36).slice(2),Re="__reactFiber$"+oi,Ye="__reactProps$"+oi,Ci="__reactContainer$"+oi,no="__reactEvents$"+oi,Fd="__reactListeners$"+oi,ku="__reactHandles$"+oi,Vu="__reactResources$"+oi,Ii="__reactMarker$"+oi;function io(s){delete s[Re],delete s[Ye],delete s[no],delete s[Fd],delete s[ku]}function Ni(s){var a=s[Re];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Ci]||l[Re]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=sb(s);s!==null;){if(l=s[Re])return l;s=sb(s)}return a}s=l,l=s.parentNode}return null}function Un(s){if(s=s[Re]||s[Ci]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function In(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Di(s){var a=s[Vu];return a||(a=s[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ce(s){s[Ii]=!0}var Al=new Set,Rl={};function Mi(s,a){Oi(s,a),Oi(s+"Capture",a)}function Oi(s,a){for(Rl[s]=a,s=0;s<a.length;s++)Al.add(a[s])}var Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Nl={};function Pu(s){return Se.call(Nl,s)?!0:Se.call(Il,s)?!1:Cl.test(s)?Nl[s]=!0:(Il[s]=!0,!1)}function so(s,a,l){if(Pu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Nn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ie(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function $e(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Gs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Dl(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(x){l=""+x,g.call(this,x)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Wt(s){if(!s._valueTracker){var a=Gs(s)?"checked":"value";s._valueTracker=Dl(s,a,""+s[a])}}function ea(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Gs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function ki(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var na=/[\n"\\]/g;function _n(s){return s.replace(na,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ro(s,a,l,u,p,g,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+$e(a)):s.value!==""+$e(a)&&(s.value=""+$e(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?Ml(s,x,$e(a)):l!=null?Ml(s,x,$e(l)):u!=null&&s.removeAttribute("value"),p==null&&g!=null&&(s.defaultChecked=!!g),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+$e(S):s.removeAttribute("name")}function Lu(s,a,l,u,p,g,x,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){Wt(s);return}l=l!=null?""+$e(l):"",a=a!=null?""+$e(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),Wt(s)}function Ml(s,a,l){a==="number"&&ki(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ys(s,a,l,u){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+$e(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function ju(s,a,l){if(a!=null&&(a=""+$e(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+$e(l):""}function $s(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Tt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=$e(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Wt(s)}function vn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Uu.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function kl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&l[p]!==u&&Ol(s,p,u)}else for(var g in a)a.hasOwnProperty(g)&&Ol(s,g,a[g])}function ao(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(s){return Ks.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function li(){}var Vl=null;function zn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xs=null,Vi=null;function ia(s){var a=Un(s);if(a&&(s=a.stateNode)){var l=s[Ye]||null;t:switch(s=a.stateNode,a.type){case"input":if(ro(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_n(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var p=u[Ye]||null;if(!p)throw Error(i(90));ro(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&ea(u)}break t;case"textarea":ju(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Ys(s,!!l.multiple,a,!1)}}}var lo=!1;function Qs(s,a,l){if(lo)return s(a,l);lo=!0;try{var u=s(a);return u}finally{if(lo=!1,(Xs!==null||Vi!==null)&&(Oh(),Xs&&(a=Xs,s=Vi,Vi=Xs=null,ia(a),s)))for(a=0;a<s.length;a++)ia(s[a])}}function ci(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Ye]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(Bn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){sa=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{sa=!1}var Pi=null,Pl=null,ra=null;function Ll(){if(ra)return ra;var s,a=Pl,l=a.length,u,p="value"in Pi?Pi.value:Pi.textContent,g=p.length;for(s=0;s<l&&a[s]===p[s];s++);var x=l-s;for(u=1;u<=x&&a[l-u]===p[g-u];u++);return ra=p.slice(s,1<u?1-u:void 0)}function aa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ls(){return!0}function ui(){return!1}function We(s){function a(l,u,p,g,x){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ls:ui,this.isPropagationStopped=ui,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),a}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=We(cs),Ws=_({},cs,{view:0,detail:0}),jl=We(Ws),Zs,co,ji,uo=_({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ji&&(ji&&s.type==="mousemove"?(Zs=s.screenX-ji.screenX,co=s.screenY-ji.screenY):co=Zs=0,ji=s),Zs)},movementY:function(s){return"movementY"in s?s.movementY:co}}),Ul=We(uo),oa=_({},uo,{dataTransfer:0}),Bu=We(oa),Fu=_({},Ws,{relatedTarget:0}),la=We(Fu),zl=_({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=We(zl),ho=_({},cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),qu=We(ho),Gu=_({},cs,{data:0}),Ui=We(Gu),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ku[s])?!!a[s]:!1}function Js(){return Xu}var pn=_({},Ws,{key:function(s){if(s.key){var a=Yu[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=aa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$u[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(s){return s.type==="keypress"?aa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?aa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qu=We(pn),Wu=_({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=We(Wu),m=_({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),v=We(m),E=_({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=We(E),q=_({},uo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=We(q),lt=_({},cs,{newState:0,oldState:0}),Ct=We(lt),be=[9,13,27,32],$t=Bn&&"CompositionEvent"in window,de=null;Bn&&"documentMode"in document&&(de=document.documentMode);var Fn=Bn&&"TextEvent"in window&&!de,zi=Bn&&(!$t||de&&8<de&&11>=de),hi=" ",fi=!1;function ca(s,a){switch(s){case"keyup":return be.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var mo=!1;function sA(s,a){switch(s){case"compositionend":return fo(a);case"keypress":return a.which!==32?null:(fi=!0,hi);case"textInput":return s=a.data,s===hi&&fi?null:s;default:return null}}function rA(s,a){if(mo)return s==="compositionend"||!$t&&ca(s,a)?(s=Ll(),ra=Pl=Pi=null,mo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return zi&&a.locale!=="ko"?null:a.data;default:return null}}var aA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!aA[s.type]:a==="textarea"}function l_(s,a,l,u){Xs?Vi?Vi.push(u):Vi=[u]:Xs=u,a=zh(a,"onChange"),0<a.length&&(l=new Li("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Bl=null,Fl=null;function oA(s){q0(s,0)}function Zu(s){var a=In(s);if(ea(a))return s}function c_(s,a){if(s==="change")return a}var u_=!1;if(Bn){var Hd;if(Bn){var qd="oninput"in document;if(!qd){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),qd=typeof h_.oninput=="function"}Hd=qd}else Hd=!1;u_=Hd&&(!document.documentMode||9<document.documentMode)}function f_(){Bl&&(Bl.detachEvent("onpropertychange",d_),Fl=Bl=null)}function d_(s){if(s.propertyName==="value"&&Zu(Fl)){var a=[];l_(a,Fl,s,zn(s)),Qs(oA,a)}}function lA(s,a,l){s==="focusin"?(f_(),Bl=a,Fl=l,Bl.attachEvent("onpropertychange",d_)):s==="focusout"&&f_()}function cA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Zu(Fl)}function uA(s,a){if(s==="click")return Zu(a)}function hA(s,a){if(s==="input"||s==="change")return Zu(a)}function fA(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Dn=typeof Object.is=="function"?Object.is:fA;function Hl(s,a){if(Dn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Se.call(a,p)||!Dn(s[p],a[p]))return!1}return!0}function m_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function p_(s,a){var l=m_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=m_(l)}}function g_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?g_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function y_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ki(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=ki(s.document)}return a}function Gd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var dA=Bn&&"documentMode"in document&&11>=document.documentMode,po=null,Yd=null,ql=null,$d=!1;function __(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$d||po==null||po!==ki(u)||(u=po,"selectionStart"in u&&Gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ql&&Hl(ql,u)||(ql=u,u=zh(Yd,"onSelect"),0<u.length&&(a=new Li("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=po)))}function ua(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var go={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Kd={},v_={};Bn&&(v_=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function ha(s){if(Kd[s])return Kd[s];if(!go[s])return s;var a=go[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in v_)return Kd[s]=a[l];return s}var b_=ha("animationend"),x_=ha("animationiteration"),w_=ha("animationstart"),mA=ha("transitionrun"),pA=ha("transitionstart"),gA=ha("transitioncancel"),E_=ha("transitionend"),T_=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function di(s,a){T_.set(s,a),Mi(a,[s])}var Ju=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Hn=[],yo=0,Qd=0;function th(){for(var s=yo,a=Qd=yo=0;a<s;){var l=Hn[a];Hn[a++]=null;var u=Hn[a];Hn[a++]=null;var p=Hn[a];Hn[a++]=null;var g=Hn[a];if(Hn[a++]=null,u!==null&&p!==null){var x=u.pending;x===null?p.next=p:(p.next=x.next,x.next=p),u.pending=p}g!==0&&S_(l,p,g)}}function eh(s,a,l,u){Hn[yo++]=s,Hn[yo++]=a,Hn[yo++]=l,Hn[yo++]=u,Qd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Wd(s,a,l,u){return eh(s,a,l,u),nh(s)}function fa(s,a){return eh(s,null,null,a),nh(s)}function S_(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,g=s.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(p=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,p&&a!==null&&(p=31-ve(l),s=g.hiddenUpdates,u=s[p],u===null?s[p]=[a]:u.push(a),a.lane=l|536870912),g):null}function nh(s){if(50<fc)throw fc=0,ap=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var _o={};function yA(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,a,l,u){return new yA(s,a,l,u)}function Zd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,a){var l=s.alternate;return l===null?(l=Mn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function A_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function ih(s,a,l,u,p,g){var x=0;if(u=s,typeof s=="function")Zd(s)&&(x=1);else if(typeof s=="string")x=wR(s,l,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=Mn(31,l,a,p),s.elementType=M,s.lanes=g,s;case C:return da(l.children,p,g,a);case I:x=8,p|=24;break;case V:return s=Mn(12,l,a,p|2),s.elementType=V,s.lanes=g,s;case Q:return s=Mn(13,l,a,p),s.elementType=Q,s.lanes=g,s;case rt:return s=Mn(19,l,a,p),s.elementType=rt,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:x=10;break t;case B:x=9;break t;case Z:x=11;break t;case D:x=14;break t;case R:x=16,u=null;break t}x=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Mn(x,l,a,p),a.elementType=s,a.type=u,a.lanes=g,a}function da(s,a,l,u){return s=Mn(7,s,u,a),s.lanes=l,s}function Jd(s,a,l){return s=Mn(6,s,null,a),s.lanes=l,s}function R_(s){var a=Mn(18,null,null,0);return a.stateNode=s,a}function tm(s,a,l){return a=Mn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var C_=new WeakMap;function qn(s,a){if(typeof s=="object"&&s!==null){var l=C_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:xl(a)},C_.set(s,a),a)}return{value:s,source:a,stack:xl(a)}}var vo=[],bo=0,sh=null,Gl=0,Gn=[],Yn=0,tr=null,Bi=1,Fi="";function fs(s,a){vo[bo++]=Gl,vo[bo++]=sh,sh=s,Gl=a}function I_(s,a,l){Gn[Yn++]=Bi,Gn[Yn++]=Fi,Gn[Yn++]=tr,tr=s;var u=Bi;s=Fi;var p=32-ve(u)-1;u&=~(1<<p),l+=1;var g=32-ve(a)+p;if(30<g){var x=p-p%5;g=(u&(1<<x)-1).toString(32),u>>=x,p-=x,Bi=1<<32-ve(a)+p|l<<p|u,Fi=g+s}else Bi=1<<g|l<<p|u,Fi=s}function em(s){s.return!==null&&(fs(s,1),I_(s,1,0))}function nm(s){for(;s===sh;)sh=vo[--bo],vo[bo]=null,Gl=vo[--bo],vo[bo]=null;for(;s===tr;)tr=Gn[--Yn],Gn[Yn]=null,Fi=Gn[--Yn],Gn[Yn]=null,Bi=Gn[--Yn],Gn[Yn]=null}function N_(s,a){Gn[Yn++]=Bi,Gn[Yn++]=Fi,Gn[Yn++]=tr,Bi=a.id,Fi=a.overflow,tr=s}var Ze=null,oe=null,Bt=!1,er=null,$n=!1,im=Error(i(519));function nr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(qn(a,s)),im}function D_(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Re]=s,a[Ye]=u,l){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(l=0;l<mc.length;l++)kt(mc[l],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),Lu(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),$s(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||K0(a.textContent,l)?(u.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),u.onScroll!=null&&kt("scroll",a),u.onScrollEnd!=null&&kt("scrollend",a),u.onClick!=null&&(a.onclick=li),a=!0):a=!1,a||nr(s,!0)}function M_(s){for(Ze=s.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ze=Ze.return}}function xo(s){if(s!==Ze)return!1;if(!Bt)return M_(s),Bt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||xp(s.type,s.memoizedProps)),l=!l),l&&oe&&nr(s),M_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=ib(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=ib(s)}else a===27?(a=oe,gr(s.type)?(s=Ap,Ap=null,oe=s):oe=a):oe=Ze?Xn(s.stateNode.nextSibling):null;return!0}function ma(){oe=Ze=null,Bt=!1}function sm(){var s=er;return s!==null&&(En===null?En=s:En.push.apply(En,s),er=null),s}function Yl(s){er===null?er=[s]:er.push(s)}var rm=U(null),pa=null,ds=null;function ir(s,a,l){ct(rm,a._currentValue),a._currentValue=l}function ms(s){s._currentValue=rm.current,tt(rm)}function am(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function om(s,a,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var g=p.dependencies;if(g!==null){var x=p.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=p;for(var P=0;P<a.length;P++)if(S.context===a[P]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),am(g.return,l,s),u||(x=null);break t}g=S.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(i(341));x.lanes|=l,g=x.alternate,g!==null&&(g.lanes|=l),am(x,l,s),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===s){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function wo(s,a,l,u){s=null;for(var p=a,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var S=p.type;Dn(p.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(p===Ft.current){if(x=p.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(vc):s=[vc])}p=p.return}s!==null&&om(a,s,l,u),a.flags|=262144}function rh(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ga(s){pa=s,ds=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Je(s){return O_(pa,s)}function ah(s,a){return pa===null&&ga(s),O_(s,a)}function O_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ds===null){if(s===null)throw Error(i(308));ds=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ds=ds.next=a;return l}var _A=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},vA=n.unstable_scheduleCallback,bA=n.unstable_NormalPriority,Ne={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new _A,data:new Map,refCount:0}}function $l(s){s.refCount--,s.refCount===0&&vA(bA,function(){s.controller.abort()})}var Kl=null,cm=0,Eo=0,To=null;function xA(s,a){if(Kl===null){var l=Kl=[];cm=0,Eo=fp(),To={status:"pending",value:void 0,then:function(u){l.push(u)}}}return cm++,a.then(k_,k_),a}function k_(){if(--cm===0&&Kl!==null){To!==null&&(To.status="fulfilled");var s=Kl;Kl=null,Eo=0,To=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function wA(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var V_=K.S;K.S=function(s,a){_0=mn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&xA(s,a),V_!==null&&V_(s,a)};var ya=U(null);function um(){var s=ya.current;return s!==null?s:ae.pooledCache}function oh(s,a){a===null?ct(ya,ya.current):ct(ya,a.pool)}function P_(){var s=um();return s===null?null:{parent:Ne._currentValue,pool:s}}var So=Error(i(460)),hm=Error(i(474)),lh=Error(i(542)),ch={then:function(){}};function L_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function j_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(li,li),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,z_(s),s;default:if(typeof a.status=="string")a.then(li,li);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,z_(s),s}throw va=a,So}}function _a(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(va=l,So):l}}var va=null;function U_(){if(va===null)throw Error(i(459));var s=va;return va=null,s}function z_(s){if(s===So||s===lh)throw Error(i(483))}var Ao=null,Xl=0;function uh(s){var a=Xl;return Xl+=1,Ao===null&&(Ao=[]),j_(Ao,s,a)}function Ql(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function hh(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function B_(s){function a(F,z){if(s){var G=F.deletions;G===null?(F.deletions=[z],F.flags|=16):G.push(z)}}function l(F,z){if(!s)return null;for(;z!==null;)a(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function p(F,z){return F=hs(F,z),F.index=0,F.sibling=null,F}function g(F,z,G){return F.index=G,s?(G=F.alternate,G!==null?(G=G.index,G<z?(F.flags|=67108866,z):G):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function x(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function S(F,z,G,et){return z===null||z.tag!==6?(z=Jd(G,F.mode,et),z.return=F,z):(z=p(z,G),z.return=F,z)}function P(F,z,G,et){var gt=G.type;return gt===C?J(F,z,G.props.children,et,G.key):z!==null&&(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&_a(gt)===z.type)?(z=p(z,G.props),Ql(z,G),z.return=F,z):(z=ih(G.type,G.key,G.props,null,F.mode,et),Ql(z,G),z.return=F,z)}function Y(F,z,G,et){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=tm(G,F.mode,et),z.return=F,z):(z=p(z,G.children||[]),z.return=F,z)}function J(F,z,G,et,gt){return z===null||z.tag!==7?(z=da(G,F.mode,et,gt),z.return=F,z):(z=p(z,G),z.return=F,z)}function it(F,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Jd(""+z,F.mode,G),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return G=ih(z.type,z.key,z.props,null,F.mode,G),Ql(G,z),G.return=F,G;case A:return z=tm(z,F.mode,G),z.return=F,z;case R:return z=_a(z),it(F,z,G)}if(Tt(z)||j(z))return z=da(z,F.mode,G,null),z.return=F,z;if(typeof z.then=="function")return it(F,uh(z),G);if(z.$$typeof===H)return it(F,ah(F,z),G);hh(F,z)}return null}function $(F,z,G,et){var gt=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return gt!==null?null:S(F,z,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===gt?P(F,z,G,et):null;case A:return G.key===gt?Y(F,z,G,et):null;case R:return G=_a(G),$(F,z,G,et)}if(Tt(G)||j(G))return gt!==null?null:J(F,z,G,et,null);if(typeof G.then=="function")return $(F,z,uh(G),et);if(G.$$typeof===H)return $(F,z,ah(F,G),et);hh(F,G)}return null}function W(F,z,G,et,gt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return F=F.get(G)||null,S(z,F,""+et,gt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case T:return F=F.get(et.key===null?G:et.key)||null,P(z,F,et,gt);case A:return F=F.get(et.key===null?G:et.key)||null,Y(z,F,et,gt);case R:return et=_a(et),W(F,z,G,et,gt)}if(Tt(et)||j(et))return F=F.get(G)||null,J(z,F,et,gt,null);if(typeof et.then=="function")return W(F,z,G,uh(et),gt);if(et.$$typeof===H)return W(F,z,G,ah(z,et),gt);hh(z,et)}return null}function dt(F,z,G,et){for(var gt=null,Gt=null,mt=z,Nt=z=0,Lt=null;mt!==null&&Nt<G.length;Nt++){mt.index>Nt?(Lt=mt,mt=null):Lt=mt.sibling;var Yt=$(F,mt,G[Nt],et);if(Yt===null){mt===null&&(mt=Lt);break}s&&mt&&Yt.alternate===null&&a(F,mt),z=g(Yt,z,Nt),Gt===null?gt=Yt:Gt.sibling=Yt,Gt=Yt,mt=Lt}if(Nt===G.length)return l(F,mt),Bt&&fs(F,Nt),gt;if(mt===null){for(;Nt<G.length;Nt++)mt=it(F,G[Nt],et),mt!==null&&(z=g(mt,z,Nt),Gt===null?gt=mt:Gt.sibling=mt,Gt=mt);return Bt&&fs(F,Nt),gt}for(mt=u(mt);Nt<G.length;Nt++)Lt=W(mt,F,Nt,G[Nt],et),Lt!==null&&(s&&Lt.alternate!==null&&mt.delete(Lt.key===null?Nt:Lt.key),z=g(Lt,z,Nt),Gt===null?gt=Lt:Gt.sibling=Lt,Gt=Lt);return s&&mt.forEach(function(xr){return a(F,xr)}),Bt&&fs(F,Nt),gt}function vt(F,z,G,et){if(G==null)throw Error(i(151));for(var gt=null,Gt=null,mt=z,Nt=z=0,Lt=null,Yt=G.next();mt!==null&&!Yt.done;Nt++,Yt=G.next()){mt.index>Nt?(Lt=mt,mt=null):Lt=mt.sibling;var xr=$(F,mt,Yt.value,et);if(xr===null){mt===null&&(mt=Lt);break}s&&mt&&xr.alternate===null&&a(F,mt),z=g(xr,z,Nt),Gt===null?gt=xr:Gt.sibling=xr,Gt=xr,mt=Lt}if(Yt.done)return l(F,mt),Bt&&fs(F,Nt),gt;if(mt===null){for(;!Yt.done;Nt++,Yt=G.next())Yt=it(F,Yt.value,et),Yt!==null&&(z=g(Yt,z,Nt),Gt===null?gt=Yt:Gt.sibling=Yt,Gt=Yt);return Bt&&fs(F,Nt),gt}for(mt=u(mt);!Yt.done;Nt++,Yt=G.next())Yt=W(mt,F,Nt,Yt.value,et),Yt!==null&&(s&&Yt.alternate!==null&&mt.delete(Yt.key===null?Nt:Yt.key),z=g(Yt,z,Nt),Gt===null?gt=Yt:Gt.sibling=Yt,Gt=Yt);return s&&mt.forEach(function(OR){return a(F,OR)}),Bt&&fs(F,Nt),gt}function re(F,z,G,et){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:t:{for(var gt=G.key;z!==null;){if(z.key===gt){if(gt=G.type,gt===C){if(z.tag===7){l(F,z.sibling),et=p(z,G.props.children),et.return=F,F=et;break t}}else if(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&_a(gt)===z.type){l(F,z.sibling),et=p(z,G.props),Ql(et,G),et.return=F,F=et;break t}l(F,z);break}else a(F,z);z=z.sibling}G.type===C?(et=da(G.props.children,F.mode,et,G.key),et.return=F,F=et):(et=ih(G.type,G.key,G.props,null,F.mode,et),Ql(et,G),et.return=F,F=et)}return x(F);case A:t:{for(gt=G.key;z!==null;){if(z.key===gt)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){l(F,z.sibling),et=p(z,G.children||[]),et.return=F,F=et;break t}else{l(F,z);break}else a(F,z);z=z.sibling}et=tm(G,F.mode,et),et.return=F,F=et}return x(F);case R:return G=_a(G),re(F,z,G,et)}if(Tt(G))return dt(F,z,G,et);if(j(G)){if(gt=j(G),typeof gt!="function")throw Error(i(150));return G=gt.call(G),vt(F,z,G,et)}if(typeof G.then=="function")return re(F,z,uh(G),et);if(G.$$typeof===H)return re(F,z,ah(F,G),et);hh(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(l(F,z.sibling),et=p(z,G),et.return=F,F=et):(l(F,z),et=Jd(G,F.mode,et),et.return=F,F=et),x(F)):l(F,z)}return function(F,z,G,et){try{Xl=0;var gt=re(F,z,G,et);return Ao=null,gt}catch(mt){if(mt===So||mt===lh)throw mt;var Gt=Mn(29,mt,null,F.mode);return Gt.lanes=et,Gt.return=F,Gt}finally{}}}var ba=B_(!0),F_=B_(!1),sr=!1;function fm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function rr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ar(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=nh(s),S_(s,null,l),a}return eh(s,u,a,l),nh(s)}function Wl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Tl(s,l)}}function mm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=x:g=g.next=x,l=l.next}while(l!==null);g===null?p=g=a:g=g.next=a}else p=g=a;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var pm=!1;function Zl(){if(pm){var s=To;if(s!==null)throw s}}function Jl(s,a,l,u){pm=!1;var p=s.updateQueue;sr=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var P=S,Y=P.next;P.next=null,x===null?g=Y:x.next=Y,x=P;var J=s.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==x&&(S===null?J.firstBaseUpdate=Y:S.next=Y,J.lastBaseUpdate=P))}if(g!==null){var it=p.baseState;x=0,J=Y=P=null,S=g;do{var $=S.lane&-536870913,W=$!==S.lane;if(W?(Pt&$)===$:(u&$)===$){$!==0&&$===Eo&&(pm=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=s,vt=S;$=a;var re=l;switch(vt.tag){case 1:if(dt=vt.payload,typeof dt=="function"){it=dt.call(re,it,$);break t}it=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=vt.payload,$=typeof dt=="function"?dt.call(re,it,$):dt,$==null)break t;it=_({},it,$);break t;case 2:sr=!0}}$=S.callback,$!==null&&(s.flags|=64,W&&(s.flags|=8192),W=p.callbacks,W===null?p.callbacks=[$]:W.push($))}else W={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(Y=J=W,P=it):J=J.next=W,x|=$;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;W=S,S=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);J===null&&(P=it),p.baseState=P,p.firstBaseUpdate=Y,p.lastBaseUpdate=J,g===null&&(p.shared.lanes=0),hr|=x,s.lanes=x,s.memoizedState=it}}function H_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function q_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)H_(l[s],a)}var Ro=U(null),fh=U(0);function G_(s,a){s=Es,ct(fh,s),ct(Ro,a),Es=s|a.baseLanes}function gm(){ct(fh,Es),ct(Ro,Ro.current)}function ym(){Es=fh.current,tt(Ro),tt(fh)}var On=U(null),Kn=null;function or(s){var a=s.alternate;ct(xe,xe.current&1),ct(On,s),Kn===null&&(a===null||Ro.current!==null||a.memoizedState!==null)&&(Kn=s)}function _m(s){ct(xe,xe.current),ct(On,s),Kn===null&&(Kn=s)}function Y_(s){s.tag===22?(ct(xe,xe.current),ct(On,s),Kn===null&&(Kn=s)):lr()}function lr(){ct(xe,xe.current),ct(On,On.current)}function kn(s){tt(On),Kn===s&&(Kn=null),tt(xe)}var xe=U(0);function dh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Tp(l)||Sp(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ps=0,It=null,ie=null,De=null,mh=!1,Co=!1,xa=!1,ph=0,tc=0,Io=null,EA=0;function ge(){throw Error(i(321))}function vm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Dn(s[l],a[l]))return!1;return!0}function bm(s,a,l,u,p,g){return ps=g,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=s===null||s.memoizedState===null?Iv:Vm,xa=!1,g=l(u,p),xa=!1,Co&&(g=K_(a,l,u,p)),$_(s),g}function $_(s){K.H=ic;var a=ie!==null&&ie.next!==null;if(ps=0,De=ie=It=null,mh=!1,tc=0,Io=null,a)throw Error(i(300));s===null||Me||(s=s.dependencies,s!==null&&rh(s)&&(Me=!0))}function K_(s,a,l,u){It=s;var p=0;do{if(Co&&(Io=null),tc=0,Co=!1,25<=p)throw Error(i(301));if(p+=1,De=ie=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}K.H=Nv,g=a(l,u)}while(Co);return g}function TA(){var s=K.H,a=s.useState()[0];return a=typeof a.then=="function"?ec(a):a,s=s.useState()[0],(ie!==null?ie.memoizedState:null)!==s&&(It.flags|=1024),a}function xm(){var s=ph!==0;return ph=0,s}function wm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Em(s){if(mh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}mh=!1}ps=0,De=ie=It=null,Co=!1,tc=ph=0,Io=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?It.memoizedState=De=s:De=De.next=s,De}function we(){if(ie===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=ie.next;var a=De===null?It.memoizedState:De.next;if(a!==null)De=a,ie=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));ie=s,s={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},De===null?It.memoizedState=De=s:De=De.next=s}return De}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(s){var a=tc;return tc+=1,Io===null&&(Io=[]),s=j_(Io,s,a),a=It,(De===null?a.memoizedState:De.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?Iv:Vm),s}function yh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ec(s);if(s.$$typeof===H)return Je(s)}throw Error(i(438,String(s)))}function Tm(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=gh(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=L;return a.index++,l}function gs(s,a){return typeof a=="function"?a(s):a}function _h(s){var a=we();return Sm(a,ie,s)}function Sm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=s.baseQueue,g=u.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}a.baseQueue=p=g,u.pending=null}if(g=s.baseState,p===null)s.memoizedState=g;else{a=p.next;var S=x=null,P=null,Y=a,J=!1;do{var it=Y.lane&-536870913;if(it!==Y.lane?(Pt&it)===it:(ps&it)===it){var $=Y.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),it===Eo&&(J=!0);else if((ps&$)===$){Y=Y.next,$===Eo&&(J=!0);continue}else it={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(S=P=it,x=g):P=P.next=it,It.lanes|=$,hr|=$;it=Y.action,xa&&l(g,it),g=Y.hasEagerState?Y.eagerState:l(g,it)}else $={lane:it,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(S=P=$,x=g):P=P.next=$,It.lanes|=it,hr|=it;Y=Y.next}while(Y!==null&&Y!==a);if(P===null?x=g:P.next=S,!Dn(g,s.memoizedState)&&(Me=!0,J&&(l=To,l!==null)))throw l;s.memoizedState=g,s.baseState=x,s.baseQueue=P,u.lastRenderedState=g}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Am(s){var a=we(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,g=a.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do g=s(g,x.action),x=x.next;while(x!==p);Dn(g,a.memoizedState)||(Me=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,u]}function X_(s,a,l){var u=It,p=we(),g=Bt;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=a();var x=!Dn((ie||p).memoizedState,l);if(x&&(p.memoizedState=l,Me=!0),p=p.queue,Im(Z_.bind(null,u,p,s),[s]),p.getSnapshot!==a||x||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,No(9,{destroy:void 0},W_.bind(null,u,p,l,a),null),ae===null)throw Error(i(349));g||(ps&127)!==0||Q_(u,a,l)}return l}function Q_(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=gh(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function W_(s,a,l,u){a.value=l,a.getSnapshot=u,J_(a)&&tv(s)}function Z_(s,a,l){return l(function(){J_(a)&&tv(s)})}function J_(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Dn(s,l)}catch{return!0}}function tv(s){var a=fa(s,2);a!==null&&Tn(a,s,2)}function Rm(s){var a=gn();if(typeof s=="function"){var l=s;if(s=l(),xa){jn(!0);try{l()}finally{jn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},a}function ev(s,a,l,u){return s.baseState=l,Sm(s,ie,typeof u=="function"?u:gs)}function SA(s,a,l,u,p){if(xh(s))throw Error(i(485));if(s=a.action,s!==null){var g={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};K.T!==null?l(!0):g.isTransition=!1,u(g),l=a.pending,l===null?(g.next=a.pending=g,nv(a,g)):(g.next=l.next,a.pending=l.next=g)}}function nv(s,a){var l=a.action,u=a.payload,p=s.state;if(a.isTransition){var g=K.T,x={};K.T=x;try{var S=l(p,u),P=K.S;P!==null&&P(x,S),iv(s,a,S)}catch(Y){Cm(s,a,Y)}finally{g!==null&&x.types!==null&&(g.types=x.types),K.T=g}}else try{g=l(p,u),iv(s,a,g)}catch(Y){Cm(s,a,Y)}}function iv(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){sv(s,a,u)},function(u){return Cm(s,a,u)}):sv(s,a,l)}function sv(s,a,l){a.status="fulfilled",a.value=l,rv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,nv(s,l)))}function Cm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,rv(a),a=a.next;while(a!==u)}s.action=null}function rv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function av(s,a){return a}function ov(s,a){if(Bt){var l=ae.formState;if(l!==null){t:{var u=It;if(Bt){if(oe){e:{for(var p=oe,g=$n;p.nodeType!==8;){if(!g){p=null;break e}if(p=Xn(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){oe=Xn(p.nextSibling),u=p.data==="F!";break t}}nr(u)}u=!1}u&&(a=l[0])}}return l=gn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:a},l.queue=u,l=Av.bind(null,It,u),u.dispatch=l,u=Rm(!1),g=km.bind(null,It,!1,u.queue),u=gn(),p={state:a,dispatch:null,action:s,pending:null},u.queue=p,l=SA.bind(null,It,p,g,l),p.dispatch=l,u.memoizedState=s,[a,l,!1]}function lv(s){var a=we();return cv(a,ie,s)}function cv(s,a,l){if(a=Sm(s,a,av)[0],s=_h(gs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=ec(a)}catch(x){throw x===So?lh:x}else u=a;a=we();var p=a.queue,g=p.dispatch;return l!==a.memoizedState&&(It.flags|=2048,No(9,{destroy:void 0},AA.bind(null,p,l),null)),[u,g,s]}function AA(s,a){s.action=a}function uv(s){var a=we(),l=ie;if(l!==null)return cv(a,l,s);we(),a=a.memoizedState,l=we();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function No(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=gh(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function hv(){return we().memoizedState}function vh(s,a,l,u){var p=gn();It.flags|=s,p.memoizedState=No(1|a,{destroy:void 0},l,u===void 0?null:u)}function bh(s,a,l,u){var p=we();u=u===void 0?null:u;var g=p.memoizedState.inst;ie!==null&&u!==null&&vm(u,ie.memoizedState.deps)?p.memoizedState=No(a,g,l,u):(It.flags|=s,p.memoizedState=No(1|a,g,l,u))}function fv(s,a){vh(8390656,8,s,a)}function Im(s,a){bh(2048,8,s,a)}function RA(s){It.flags|=4;var a=It.updateQueue;if(a===null)a=gh(),It.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function dv(s){var a=we().memoizedState;return RA({ref:a,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function mv(s,a){return bh(4,2,s,a)}function pv(s,a){return bh(4,4,s,a)}function gv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function yv(s,a,l){l=l!=null?l.concat([s]):null,bh(4,4,gv.bind(null,a,s),l)}function Nm(){}function _v(s,a){var l=we();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&vm(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function vv(s,a){var l=we();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&vm(a,u[1]))return u[0];if(u=s(),xa){jn(!0);try{s()}finally{jn(!1)}}return l.memoizedState=[u,a],u}function Dm(s,a,l){return l===void 0||(ps&1073741824)!==0&&(Pt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=b0(),It.lanes|=s,hr|=s,l)}function bv(s,a,l,u){return Dn(l,a)?l:Ro.current!==null?(s=Dm(s,l,u),Dn(s,a)||(Me=!0),s):(ps&42)===0||(ps&1073741824)!==0&&(Pt&261930)===0?(Me=!0,s.memoizedState=l):(s=b0(),It.lanes|=s,hr|=s,a)}function xv(s,a,l,u,p){var g=ot.p;ot.p=g!==0&&8>g?g:8;var x=K.T,S={};K.T=S,km(s,!1,a,l);try{var P=p(),Y=K.S;if(Y!==null&&Y(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var J=wA(P,u);nc(s,a,J,Ln(s))}else nc(s,a,u,Ln(s))}catch(it){nc(s,a,{then:function(){},status:"rejected",reason:it},Ln())}finally{ot.p=g,x!==null&&S.types!==null&&(x.types=S.types),K.T=x}}function CA(){}function Mm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var p=wv(s).queue;xv(s,p,a,ft,l===null?CA:function(){return Ev(s),l(u)})}function wv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:ft},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Ev(s){var a=wv(s);a.next===null&&(a=s.alternate.memoizedState),nc(s,a.next.queue,{},Ln())}function Om(){return Je(vc)}function Tv(){return we().memoizedState}function Sv(){return we().memoizedState}function IA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Ln();s=rr(l);var u=ar(a,s,l);u!==null&&(Tn(u,a,l),Wl(u,a,l)),a={cache:lm()},s.payload=a;return}a=a.return}}function NA(s,a,l){var u=Ln();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xh(s)?Rv(a,l):(l=Wd(s,a,l,u),l!==null&&(Tn(l,s,u),Cv(l,a,u)))}function Av(s,a,l){var u=Ln();nc(s,a,l,u)}function nc(s,a,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(xh(s))Rv(a,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var x=a.lastRenderedState,S=g(x,l);if(p.hasEagerState=!0,p.eagerState=S,Dn(S,x))return eh(s,a,p,0),ae===null&&th(),!1}catch{}finally{}if(l=Wd(s,a,p,u),l!==null)return Tn(l,s,u),Cv(l,a,u),!0}return!1}function km(s,a,l,u){if(u={lane:2,revertLane:fp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xh(s)){if(a)throw Error(i(479))}else a=Wd(s,l,u,2),a!==null&&Tn(a,s,2)}function xh(s){var a=s.alternate;return s===It||a!==null&&a===It}function Rv(s,a){Co=mh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Cv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Tl(s,l)}}var ic={readContext:Je,use:yh,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};ic.useEffectEvent=ge;var Iv={readContext:Je,use:yh,useCallback:function(s,a){return gn().memoizedState=[s,a===void 0?null:a],s},useContext:Je,useEffect:fv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,vh(4194308,4,gv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return vh(4194308,4,s,a)},useInsertionEffect:function(s,a){vh(4,2,s,a)},useMemo:function(s,a){var l=gn();a=a===void 0?null:a;var u=s();if(xa){jn(!0);try{s()}finally{jn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=gn();if(l!==void 0){var p=l(a);if(xa){jn(!0);try{l(a)}finally{jn(!1)}}}else p=a;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=NA.bind(null,It,s),[u.memoizedState,s]},useRef:function(s){var a=gn();return s={current:s},a.memoizedState=s},useState:function(s){s=Rm(s);var a=s.queue,l=Av.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Nm,useDeferredValue:function(s,a){var l=gn();return Dm(l,s,a)},useTransition:function(){var s=Rm(!1);return s=xv.bind(null,It,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=It,p=gn();if(Bt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ae===null)throw Error(i(349));(Pt&127)!==0||Q_(u,a,l)}p.memoizedState=l;var g={value:l,getSnapshot:a};return p.queue=g,fv(Z_.bind(null,u,g,s),[s]),u.flags|=2048,No(9,{destroy:void 0},W_.bind(null,u,g,l,a),null),l},useId:function(){var s=gn(),a=ae.identifierPrefix;if(Bt){var l=Fi,u=Bi;l=(u&~(1<<32-ve(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=ph++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=EA++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Om,useFormState:ov,useActionState:ov,useOptimistic:function(s){var a=gn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=km.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:Tm,useCacheRefresh:function(){return gn().memoizedState=IA.bind(null,It)},useEffectEvent:function(s){var a=gn(),l={impl:s};return a.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Vm={readContext:Je,use:yh,useCallback:_v,useContext:Je,useEffect:Im,useImperativeHandle:yv,useInsertionEffect:mv,useLayoutEffect:pv,useMemo:vv,useReducer:_h,useRef:hv,useState:function(){return _h(gs)},useDebugValue:Nm,useDeferredValue:function(s,a){var l=we();return bv(l,ie.memoizedState,s,a)},useTransition:function(){var s=_h(gs)[0],a=we().memoizedState;return[typeof s=="boolean"?s:ec(s),a]},useSyncExternalStore:X_,useId:Tv,useHostTransitionStatus:Om,useFormState:lv,useActionState:lv,useOptimistic:function(s,a){var l=we();return ev(l,ie,s,a)},useMemoCache:Tm,useCacheRefresh:Sv};Vm.useEffectEvent=dv;var Nv={readContext:Je,use:yh,useCallback:_v,useContext:Je,useEffect:Im,useImperativeHandle:yv,useInsertionEffect:mv,useLayoutEffect:pv,useMemo:vv,useReducer:Am,useRef:hv,useState:function(){return Am(gs)},useDebugValue:Nm,useDeferredValue:function(s,a){var l=we();return ie===null?Dm(l,s,a):bv(l,ie.memoizedState,s,a)},useTransition:function(){var s=Am(gs)[0],a=we().memoizedState;return[typeof s=="boolean"?s:ec(s),a]},useSyncExternalStore:X_,useId:Tv,useHostTransitionStatus:Om,useFormState:uv,useActionState:uv,useOptimistic:function(s,a){var l=we();return ie!==null?ev(l,ie,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Tm,useCacheRefresh:Sv};Nv.useEffectEvent=dv;function Pm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Lm={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Ln(),p=rr(u);p.payload=a,l!=null&&(p.callback=l),a=ar(s,p,u),a!==null&&(Tn(a,s,u),Wl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Ln(),p=rr(u);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=ar(s,p,u),a!==null&&(Tn(a,s,u),Wl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Ln(),u=rr(l);u.tag=2,a!=null&&(u.callback=a),a=ar(s,u,l),a!==null&&(Tn(a,s,l),Wl(a,s,l))}};function Dv(s,a,l,u,p,g,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,x):a.prototype&&a.prototype.isPureReactComponent?!Hl(l,u)||!Hl(p,g):!0}function Mv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Lm.enqueueReplaceState(a,a.state,null)}function wa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}function Ov(s){Ju(s)}function kv(s){console.error(s)}function Vv(s){Ju(s)}function wh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Pv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function jm(s,a,l){return l=rr(l),l.tag=3,l.payload={element:null},l.callback=function(){wh(s,a)},l}function Lv(s){return s=rr(s),s.tag=3,s}function jv(s,a,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;s.payload=function(){return p(g)},s.callback=function(){Pv(a,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){Pv(a,l,u),typeof p!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function DA(s,a,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&wo(a,l,p,!0),l=On.current,l!==null){switch(l.tag){case 31:case 13:return Kn===null?kh():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===ch?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),cp(s,u,p)),!1;case 22:return l.flags|=65536,u===ch?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),cp(s,u,p)),!1}throw Error(i(435,l.tag))}return cp(s,u,p),kh(),!1}if(Bt)return a=On.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==im&&(s=Error(i(422),{cause:u}),Yl(qn(s,l)))):(u!==im&&(a=Error(i(423),{cause:u}),Yl(qn(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=qn(u,l),p=jm(s.stateNode,u,p),mm(s,p),ye!==4&&(ye=2)),!1;var g=Error(i(520),{cause:u});if(g=qn(g,l),hc===null?hc=[g]:hc.push(g),ye!==4&&(ye=2),a===null)return!0;u=qn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=jm(l.stateNode,u,s),mm(l,s),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fr===null||!fr.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Lv(p),jv(p,s,l,u),mm(l,p),!1}l=l.return}while(l!==null);return!1}var Um=Error(i(461)),Me=!1;function tn(s,a,l,u){a.child=s===null?F_(a,null,l,u):ba(a,s.child,l,u)}function Uv(s,a,l,u,p){l=l.render;var g=a.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return ga(a),u=bm(s,a,l,x,g,p),S=xm(),s!==null&&!Me?(wm(s,a,p),ys(s,a,p)):(Bt&&S&&em(a),a.flags|=1,tn(s,a,u,p),a.child)}function zv(s,a,l,u,p){if(s===null){var g=l.type;return typeof g=="function"&&!Zd(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,Bv(s,a,g,u,p)):(s=ih(l.type,null,u,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(g=s.child,!$m(s,p)){var x=g.memoizedProps;if(l=l.compare,l=l!==null?l:Hl,l(x,u)&&s.ref===a.ref)return ys(s,a,p)}return a.flags|=1,s=hs(g,u),s.ref=a.ref,s.return=a,a.child=s}function Bv(s,a,l,u,p){if(s!==null){var g=s.memoizedProps;if(Hl(g,u)&&s.ref===a.ref)if(Me=!1,a.pendingProps=u=g,$m(s,p))(s.flags&131072)!==0&&(Me=!0);else return a.lanes=s.lanes,ys(s,a,p)}return zm(s,a,l,u,p)}function Fv(s,a,l,u){var p=u.children,g=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,s!==null){for(u=a.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,a.child=null;return Hv(s,a,g,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&oh(a,g!==null?g.cachePool:null),g!==null?G_(a,g):gm(),Y_(a);else return u=a.lanes=536870912,Hv(s,a,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(oh(a,g.cachePool),G_(a,g),lr(),a.memoizedState=null):(s!==null&&oh(a,null),gm(),lr());return tn(s,a,p,l),a.child}function sc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Hv(s,a,l,u,p){var g=um();return g=g===null?null:{parent:Ne._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},s!==null&&oh(a,null),gm(),Y_(a),s!==null&&wo(s,a,u,!0),a.childLanes=p,null}function Eh(s,a){return a=Sh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function qv(s,a,l){return ba(a,s.child,null,l),s=Eh(a,a.pendingProps),s.flags|=2,kn(a),a.memoizedState=null,s}function MA(s,a,l){var u=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Bt){if(u.mode==="hidden")return s=Eh(a,u),a.lanes=536870912,sc(null,s);if(_m(a),(s=oe)?(s=nb(s,$n),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:tr!==null?{id:Bi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},l=R_(s),l.return=a,a.child=l,Ze=a,oe=null)):s=null,s===null)throw nr(a);return a.lanes=536870912,null}return Eh(a,u)}var g=s.memoizedState;if(g!==null){var x=g.dehydrated;if(_m(a),p)if(a.flags&256)a.flags&=-257,a=qv(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Me||wo(s,a,l,!1),p=(l&s.childLanes)!==0,Me||p){if(u=ae,u!==null&&(x=Sl(u,l),x!==0&&x!==g.retryLane))throw g.retryLane=x,fa(s,x),Tn(u,s,x),Um;kh(),a=qv(s,a,l)}else s=g.treeContext,oe=Xn(x.nextSibling),Ze=a,Bt=!0,er=null,$n=!1,s!==null&&N_(a,s),a=Eh(a,u),a.flags|=4096;return a}return s=hs(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Th(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function zm(s,a,l,u,p){return ga(a),l=bm(s,a,l,u,void 0,p),u=xm(),s!==null&&!Me?(wm(s,a,p),ys(s,a,p)):(Bt&&u&&em(a),a.flags|=1,tn(s,a,l,p),a.child)}function Gv(s,a,l,u,p,g){return ga(a),a.updateQueue=null,l=K_(a,u,l,p),$_(s),u=xm(),s!==null&&!Me?(wm(s,a,g),ys(s,a,g)):(Bt&&u&&em(a),a.flags|=1,tn(s,a,l,g),a.child)}function Yv(s,a,l,u,p){if(ga(a),a.stateNode===null){var g=_o,x=l.contextType;typeof x=="object"&&x!==null&&(g=Je(x)),g=new l(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Lm,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},fm(a),x=l.contextType,g.context=typeof x=="object"&&x!==null?Je(x):_o,g.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Pm(a,l,x,u),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Lm.enqueueReplaceState(g,g.state,null),Jl(a,u,g,p),Zl(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){g=a.stateNode;var S=a.memoizedProps,P=wa(l,S);g.props=P;var Y=g.context,J=l.contextType;x=_o,typeof J=="object"&&J!==null&&(x=Je(J));var it=l.getDerivedStateFromProps;J=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Y!==x)&&Mv(a,g,u,x),sr=!1;var $=a.memoizedState;g.state=$,Jl(a,u,g,p),Zl(),Y=a.memoizedState,S||$!==Y||sr?(typeof it=="function"&&(Pm(a,l,it,u),Y=a.memoizedState),(P=sr||Dv(a,l,P,u,$,Y,x))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),g.props=u,g.state=Y,g.context=x,u=P):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,dm(s,a),x=a.memoizedProps,J=wa(l,x),g.props=J,it=a.pendingProps,$=g.context,Y=l.contextType,P=_o,typeof Y=="object"&&Y!==null&&(P=Je(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==it||$!==P)&&Mv(a,g,u,P),sr=!1,$=a.memoizedState,g.state=$,Jl(a,u,g,p),Zl();var W=a.memoizedState;x!==it||$!==W||sr||s!==null&&s.dependencies!==null&&rh(s.dependencies)?(typeof S=="function"&&(Pm(a,l,S,u),W=a.memoizedState),(J=sr||Dv(a,l,J,u,$,W,P)||s!==null&&s.dependencies!==null&&rh(s.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,P)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=W),g.props=u,g.state=W,g.context=P,u=J):(typeof g.componentDidUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),u=!1)}return g=u,Th(s,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,s!==null&&u?(a.child=ba(a,s.child,null,p),a.child=ba(a,null,l,p)):tn(s,a,l,p),a.memoizedState=g.state,s=a.child):s=ys(s,a,p),s}function $v(s,a,l,u){return ma(),a.flags|=256,tn(s,a,l,u),a.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fm(s){return{baseLanes:s,cachePool:P_()}}function Hm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Pn),s}function Kv(s,a,l){var u=a.pendingProps,p=!1,g=(a.flags&128)!==0,x;if((x=g)||(x=s!==null&&s.memoizedState===null?!1:(xe.current&2)!==0),x&&(p=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if(Bt){if(p?or(a):lr(),(s=oe)?(s=nb(s,$n),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:tr!==null?{id:Bi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},l=R_(s),l.return=a,a.child=l,Ze=a,oe=null)):s=null,s===null)throw nr(a);return Sp(s)?a.lanes=32:a.lanes=536870912,null}var S=u.children;return u=u.fallback,p?(lr(),p=a.mode,S=Sh({mode:"hidden",children:S},p),u=da(u,p,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,u=a.child,u.memoizedState=Fm(l),u.childLanes=Hm(s,x,l),a.memoizedState=Bm,sc(null,u)):(or(a),qm(a,S))}var P=s.memoizedState;if(P!==null&&(S=P.dehydrated,S!==null)){if(g)a.flags&256?(or(a),a.flags&=-257,a=Gm(s,a,l)):a.memoizedState!==null?(lr(),a.child=s.child,a.flags|=128,a=null):(lr(),S=u.fallback,p=a.mode,u=Sh({mode:"visible",children:u.children},p),S=da(S,p,l,null),S.flags|=2,u.return=a,S.return=a,u.sibling=S,a.child=u,ba(a,s.child,null,l),u=a.child,u.memoizedState=Fm(l),u.childLanes=Hm(s,x,l),a.memoizedState=Bm,a=sc(null,u));else if(or(a),Sp(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var Y=x.dgst;x=Y,u=Error(i(419)),u.stack="",u.digest=x,Yl({value:u,source:null,stack:null}),a=Gm(s,a,l)}else if(Me||wo(s,a,l,!1),x=(l&s.childLanes)!==0,Me||x){if(x=ae,x!==null&&(u=Sl(x,l),u!==0&&u!==P.retryLane))throw P.retryLane=u,fa(s,u),Tn(x,s,u),Um;Tp(S)||kh(),a=Gm(s,a,l)}else Tp(S)?(a.flags|=192,a.child=s.child,a=null):(s=P.treeContext,oe=Xn(S.nextSibling),Ze=a,Bt=!0,er=null,$n=!1,s!==null&&N_(a,s),a=qm(a,u.children),a.flags|=4096);return a}return p?(lr(),S=u.fallback,p=a.mode,P=s.child,Y=P.sibling,u=hs(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,Y!==null?S=hs(Y,S):(S=da(S,p,l,null),S.flags|=2),S.return=a,u.return=a,u.sibling=S,a.child=u,sc(null,u),u=a.child,S=s.child.memoizedState,S===null?S=Fm(l):(p=S.cachePool,p!==null?(P=Ne._currentValue,p=p.parent!==P?{parent:P,pool:P}:p):p=P_(),S={baseLanes:S.baseLanes|l,cachePool:p}),u.memoizedState=S,u.childLanes=Hm(s,x,l),a.memoizedState=Bm,sc(s.child,u)):(or(a),l=s.child,s=l.sibling,l=hs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=l,a.memoizedState=null,l)}function qm(s,a){return a=Sh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Sh(s,a){return s=Mn(22,s,null,a),s.lanes=0,s}function Gm(s,a,l){return ba(a,s.child,null,l),s=qm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Xv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),am(s.return,a,l)}function Ym(s,a,l,u,p,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=p,x.treeForkCount=g)}function Qv(s,a,l){var u=a.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var x=xe.current,S=(x&2)!==0;if(S?(x=x&1|2,a.flags|=128):x&=1,ct(xe,x),tn(s,a,u,l),u=Bt?Gl:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Xv(s,l,a);else if(s.tag===19)Xv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&dh(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Ym(a,!1,p,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&dh(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Ym(a,!0,l,null,g,u);break;case"together":Ym(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ys(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),hr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(wo(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=hs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=hs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function $m(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&rh(s)))}function OA(s,a,l){switch(a.tag){case 3:Le(a,a.stateNode.containerInfo),ir(a,Ne,s.memoizedState.cache),ma();break;case 27:case 5:Kr(a);break;case 4:Le(a,a.stateNode.containerInfo);break;case 10:ir(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,_m(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(or(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Kv(s,a,l):(or(a),s=ys(s,a,l),s!==null?s.sibling:null);or(a);break;case 19:var p=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(wo(s,a,l,!1),u=(l&a.childLanes)!==0),p){if(u)return Qv(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ct(xe,xe.current),u)break;return null;case 22:return a.lanes=0,Fv(s,a,l,a.pendingProps);case 24:ir(a,Ne,s.memoizedState.cache)}return ys(s,a,l)}function Wv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Me=!0;else{if(!$m(s,l)&&(a.flags&128)===0)return Me=!1,OA(s,a,l);Me=(s.flags&131072)!==0}else Me=!1,Bt&&(a.flags&1048576)!==0&&I_(a,Gl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=_a(a.elementType),a.type=s,typeof s=="function")Zd(s)?(u=wa(s,u),a.tag=1,a=Yv(null,a,s,u,l)):(a.tag=0,a=zm(null,a,s,u,l));else{if(s!=null){var p=s.$$typeof;if(p===Z){a.tag=11,a=Uv(null,a,s,u,l);break t}else if(p===D){a.tag=14,a=zv(null,a,s,u,l);break t}}throw a=Mt(s)||s,Error(i(306,a,""))}}return a;case 0:return zm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,p=wa(u,a.pendingProps),Yv(s,a,u,p,l);case 3:t:{if(Le(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;p=g.element,dm(s,a),Jl(a,u,null,l);var x=a.memoizedState;if(u=x.cache,ir(a,Ne,u),u!==g.cache&&om(a,[Ne],l,!0),Zl(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=$v(s,a,u,l);break t}else if(u!==p){p=qn(Error(i(424)),a),Yl(p),a=$v(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(oe=Xn(s.firstChild),Ze=a,Bt=!0,er=null,$n=!0,l=F_(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ma(),u===p){a=ys(s,a,l);break t}tn(s,a,u,l)}a=a.child}return a;case 26:return Th(s,a),s===null?(l=lb(a.type,null,a.pendingProps,null))?a.memoizedState=l:Bt||(l=a.type,s=a.pendingProps,u=Bh(xt.current).createElement(l),u[Re]=a,u[Ye]=s,en(u,l,s),Ce(u),a.stateNode=u):a.memoizedState=lb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Kr(a),s===null&&Bt&&(u=a.stateNode=rb(a.type,a.pendingProps,xt.current),Ze=a,$n=!0,p=oe,gr(a.type)?(Ap=p,oe=Xn(u.firstChild)):oe=p),tn(s,a,a.pendingProps.children,l),Th(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Bt&&((p=u=oe)&&(u=cR(u,a.type,a.pendingProps,$n),u!==null?(a.stateNode=u,Ze=a,oe=Xn(u.firstChild),$n=!1,p=!0):p=!1),p||nr(a)),Kr(a),p=a.type,g=a.pendingProps,x=s!==null?s.memoizedProps:null,u=g.children,xp(p,g)?u=null:x!==null&&xp(p,x)&&(a.flags|=32),a.memoizedState!==null&&(p=bm(s,a,TA,null,null,l),vc._currentValue=p),Th(s,a),tn(s,a,u,l),a.child;case 6:return s===null&&Bt&&((s=l=oe)&&(l=uR(l,a.pendingProps,$n),l!==null?(a.stateNode=l,Ze=a,oe=null,s=!0):s=!1),s||nr(a)),null;case 13:return Kv(s,a,l);case 4:return Le(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=ba(a,null,u,l):tn(s,a,u,l),a.child;case 11:return Uv(s,a,a.type,a.pendingProps,l);case 7:return tn(s,a,a.pendingProps,l),a.child;case 8:return tn(s,a,a.pendingProps.children,l),a.child;case 12:return tn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,ir(a,a.type,u.value),tn(s,a,u.children,l),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,ga(a),p=Je(p),u=u(p),a.flags|=1,tn(s,a,u,l),a.child;case 14:return zv(s,a,a.type,a.pendingProps,l);case 15:return Bv(s,a,a.type,a.pendingProps,l);case 19:return Qv(s,a,l);case 31:return MA(s,a,l);case 22:return Fv(s,a,l,a.pendingProps);case 24:return ga(a),u=Je(Ne),s===null?(p=um(),p===null&&(p=ae,g=lm(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),a.memoizedState={parent:u,cache:p},fm(a),ir(a,Ne,p)):((s.lanes&l)!==0&&(dm(s,a),Jl(a,null,null,l),Zl()),p=s.memoizedState,g=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),ir(a,Ne,u)):(u=g.cache,ir(a,Ne,u),u!==p.cache&&om(a,[Ne],l,!0))),tn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function _s(s){s.flags|=4}function Km(s,a,l,u,p){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(T0())s.flags|=8192;else throw va=ch,hm}else s.flags&=-16777217}function Zv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!db(a))if(T0())s.flags|=8192;else throw va=ch,hm}function Ah(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Mu():536870912,s.lanes|=a,ko|=a)}function rc(s,a){if(!Bt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function le(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function kA(s,a,l){var u=a.pendingProps;switch(nm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(a),null;case 1:return le(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ms(Ne),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(xo(a)?_s(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,sm())),le(a),null;case 26:var p=a.type,g=a.memoizedState;return s===null?(_s(a),g!==null?(le(a),Zv(a,g)):(le(a),Km(a,p,null,u,l))):g?g!==s.memoizedState?(_s(a),le(a),Zv(a,g)):(le(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&_s(a),le(a),Km(a,p,s,u,l)),null;case 27:if(Za(a),l=xt.current,p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&_s(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}s=ut.current,xo(a)?D_(a):(s=rb(p,u,l),a.stateNode=s,_s(a))}return le(a),null;case 5:if(Za(a),p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&_s(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return le(a),null}if(g=ut.current,xo(a))D_(a);else{var x=Bh(xt.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?x.createElement(p,{is:u.is}):x.createElement(p)}}g[Re]=a,g[Ye]=u;t:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break t;for(;x.sibling===null;){if(x.return===null||x.return===a)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=g;t:switch(en(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&_s(a)}}return le(a),Km(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&_s(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=xt.current,xo(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,p=Ze,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Re]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||K0(s.nodeValue,l)),s||nr(a,!0)}else s=Bh(s).createTextNode(u),s[Re]=a,a.stateNode=s}return le(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=xo(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Re]=a}else ma(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),s=!1}else l=sm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(kn(a),a):(kn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return le(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=xo(a),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Re]=a}else ma(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;le(a),p=!1}else p=sm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(kn(a),a):(kn(a),null)}return kn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),Ah(a,a.updateQueue),le(a),null);case 4:return fe(),s===null&&gp(a.stateNode.containerInfo),le(a),null;case 10:return ms(a.type),le(a),null;case 19:if(tt(xe),u=a.memoizedState,u===null)return le(a),null;if(p=(a.flags&128)!==0,g=u.rendering,g===null)if(p)rc(u,!1);else{if(ye!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(g=dh(s),g!==null){for(a.flags|=128,rc(u,!1),s=g.updateQueue,a.updateQueue=s,Ah(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)A_(l,s),l=l.sibling;return ct(xe,xe.current&1|2),Bt&&fs(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&mn()>Dh&&(a.flags|=128,p=!0,rc(u,!1),a.lanes=4194304)}else{if(!p)if(s=dh(g),s!==null){if(a.flags|=128,p=!0,s=s.updateQueue,a.updateQueue=s,Ah(a,s),rc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Bt)return le(a),null}else 2*mn()-u.renderingStartTime>Dh&&l!==536870912&&(a.flags|=128,p=!0,rc(u,!1),a.lanes=4194304);u.isBackwards?(g.sibling=a.child,a.child=g):(s=u.last,s!==null?s.sibling=g:a.child=g,u.last=g)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=mn(),s.sibling=null,l=xe.current,ct(xe,p?l&1|2:l&1),Bt&&fs(a,u.treeForkCount),s):(le(a),null);case 22:case 23:return kn(a),ym(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(le(a),a.subtreeFlags&6&&(a.flags|=8192)):le(a),l=a.updateQueue,l!==null&&Ah(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&tt(ya),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ms(Ne),le(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function VA(s,a){switch(nm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ms(Ne),fe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Za(a),null;case 31:if(a.memoizedState!==null){if(kn(a),a.alternate===null)throw Error(i(340));ma()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(kn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ma()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return tt(xe),null;case 4:return fe(),null;case 10:return ms(a.type),null;case 22:case 23:return kn(a),ym(),s!==null&&tt(ya),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ms(Ne),null;case 25:return null;default:return null}}function Jv(s,a){switch(nm(a),a.tag){case 3:ms(Ne),fe();break;case 26:case 27:case 5:Za(a);break;case 4:fe();break;case 31:a.memoizedState!==null&&kn(a);break;case 13:kn(a);break;case 19:tt(xe);break;case 10:ms(a.type);break;case 22:case 23:kn(a),ym(),s!==null&&tt(ya);break;case 24:ms(Ne)}}function ac(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var g=l.create,x=l.inst;u=g(),x.destroy=u}l=l.next}while(l!==p)}}catch(S){Jt(a,a.return,S)}}function cr(s,a,l){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&s)===s){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,p=a;var P=l,Y=S;try{Y()}catch(J){Jt(p,P,J)}}}u=u.next}while(u!==g)}}catch(J){Jt(a,a.return,J)}}function t0(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{q_(a,l)}catch(u){Jt(s,s.return,u)}}}function e0(s,a,l){l.props=wa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,a,u)}}function oc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){Jt(s,a,p)}}function Hi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){Jt(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Jt(s,a,p)}else l.current=null}function n0(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){Jt(s,s.return,p)}}function Xm(s,a,l){try{var u=s.stateNode;iR(u,s.type,l,a),u[Ye]=a}catch(p){Jt(s,s.return,p)}}function i0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&gr(s.type)||s.tag===4}function Qm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||i0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&gr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=li));else if(u!==4&&(u===27&&gr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Wm(s,a,l),s=s.sibling;s!==null;)Wm(s,a,l),s=s.sibling}function Rh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&gr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Rh(s,a,l),s=s.sibling;s!==null;)Rh(s,a,l),s=s.sibling}function s0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);en(a,u,l),a[Re]=s,a[Ye]=l}catch(g){Jt(s,s.return,g)}}var vs=!1,Oe=!1,Zm=!1,r0=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function PA(s,a){if(s=s.containerInfo,vp=Kh,s=y_(s),Gd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break t}var x=0,S=-1,P=-1,Y=0,J=0,it=s,$=null;e:for(;;){for(var W;it!==l||p!==0&&it.nodeType!==3||(S=x+p),it!==g||u!==0&&it.nodeType!==3||(P=x+u),it.nodeType===3&&(x+=it.nodeValue.length),(W=it.firstChild)!==null;)$=it,it=W;for(;;){if(it===s)break e;if($===l&&++Y===p&&(S=x),$===g&&++J===u&&(P=x),(W=it.nextSibling)!==null)break;it=$,$=it.parentNode}it=W}l=S===-1||P===-1?null:{start:S,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(bp={focusedElem:s,selectionRange:l},Kh=!1,Ke=a;Ke!==null;)if(a=Ke,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ke=s;else for(;Ke!==null;){switch(a=Ke,g=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)p=s[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,l=a,p=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var dt=wa(l.type,p);s=u.getSnapshotBeforeUpdate(dt,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(vt){Jt(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Ep(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ep(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ke=s;break}Ke=a.return}}function a0(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:xs(s,l),u&4&&ac(5,l);break;case 1:if(xs(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(x){Jt(l,l.return,x)}else{var p=wa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){Jt(l,l.return,x)}}u&64&&t0(l),u&512&&oc(l,l.return);break;case 3:if(xs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{q_(s,a)}catch(x){Jt(l,l.return,x)}}break;case 27:a===null&&u&4&&s0(l);case 26:case 5:xs(s,l),a===null&&u&4&&n0(l),u&512&&oc(l,l.return);break;case 12:xs(s,l);break;case 31:xs(s,l),u&4&&c0(s,l);break;case 13:xs(s,l),u&4&&u0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=GA.bind(null,l),hR(s,l))));break;case 22:if(u=l.memoizedState!==null||vs,!u){a=a!==null&&a.memoizedState!==null||Oe,p=vs;var g=Oe;vs=u,(Oe=a)&&!g?ws(s,l,(l.subtreeFlags&8772)!==0):xs(s,l),vs=p,Oe=g}break;case 30:break;default:xs(s,l)}}function o0(s){var a=s.alternate;a!==null&&(s.alternate=null,o0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&io(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var me=null,bn=!1;function bs(s,a,l){for(l=l.child;l!==null;)l0(s,a,l),l=l.sibling}function l0(s,a,l){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(si,l)}catch{}switch(l.tag){case 26:Oe||Hi(l,a),bs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||Hi(l,a);var u=me,p=bn;gr(l.type)&&(me=l.stateNode,bn=!1),bs(s,a,l),gc(l.stateNode),me=u,bn=p;break;case 5:Oe||Hi(l,a);case 6:if(u=me,p=bn,me=null,bs(s,a,l),me=u,bn=p,me!==null)if(bn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(l.stateNode)}catch(g){Jt(l,a,g)}else try{me.removeChild(l.stateNode)}catch(g){Jt(l,a,g)}break;case 18:me!==null&&(bn?(s=me,tb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Fo(s)):tb(me,l.stateNode));break;case 4:u=me,p=bn,me=l.stateNode.containerInfo,bn=!0,bs(s,a,l),me=u,bn=p;break;case 0:case 11:case 14:case 15:cr(2,l,a),Oe||cr(4,l,a),bs(s,a,l);break;case 1:Oe||(Hi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&e0(l,a,u)),bs(s,a,l);break;case 21:bs(s,a,l);break;case 22:Oe=(u=Oe)||l.memoizedState!==null,bs(s,a,l),Oe=u;break;default:bs(s,a,l)}}function c0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Fo(s)}catch(l){Jt(a,a.return,l)}}}function u0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Fo(s)}catch(l){Jt(a,a.return,l)}}function LA(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new r0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new r0),a;default:throw Error(i(435,s.tag))}}function Ch(s,a){var l=LA(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var p=YA.bind(null,s,u);u.then(p,p)}})}function xn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],g=s,x=a,S=x;t:for(;S!==null;){switch(S.tag){case 27:if(gr(S.type)){me=S.stateNode,bn=!1;break t}break;case 5:me=S.stateNode,bn=!1;break t;case 3:case 4:me=S.stateNode.containerInfo,bn=!0;break t}S=S.return}if(me===null)throw Error(i(160));l0(g,x,p),me=null,bn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)h0(a,s),a=a.sibling}var mi=null;function h0(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:xn(a,s),wn(s),u&4&&(cr(3,s,s.return),ac(3,s),cr(5,s,s.return));break;case 1:xn(a,s),wn(s),u&512&&(Oe||l===null||Hi(l,l.return)),u&64&&vs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=mi;if(xn(a,s),wn(s),u&512&&(Oe||l===null||Hi(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ii]||g[Re]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),en(g,u,l),g[Re]=s,Ce(g),u=g;break t;case"link":var x=hb("link","href",p).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(g=x[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break e}}g=p.createElement(u),en(g,u,l),p.head.appendChild(g);break;case"meta":if(x=hb("meta","content",p).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(g=x[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break e}}g=p.createElement(u),en(g,u,l),p.head.appendChild(g);break;default:throw Error(i(468,u))}g[Re]=s,Ce(g),u=g}s.stateNode=u}else fb(p,s.type,s.stateNode);else s.stateNode=ub(p,u,s.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?fb(p,s.type,s.stateNode):ub(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Xm(s,s.memoizedProps,l.memoizedProps)}break;case 27:xn(a,s),wn(s),u&512&&(Oe||l===null||Hi(l,l.return)),l!==null&&u&4&&Xm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(xn(a,s),wn(s),u&512&&(Oe||l===null||Hi(l,l.return)),s.flags&32){p=s.stateNode;try{vn(p,"")}catch(dt){Jt(s,s.return,dt)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,Xm(s,p,l!==null?l.memoizedProps:p)),u&1024&&(Zm=!0);break;case 6:if(xn(a,s),wn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(dt){Jt(s,s.return,dt)}}break;case 3:if(qh=null,p=mi,mi=Fh(a.containerInfo),xn(a,s),mi=p,wn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Fo(a.containerInfo)}catch(dt){Jt(s,s.return,dt)}Zm&&(Zm=!1,f0(s));break;case 4:u=mi,mi=Fh(s.stateNode.containerInfo),xn(a,s),wn(s),mi=u;break;case 12:xn(a,s),wn(s);break;case 31:xn(a,s),wn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ch(s,u)));break;case 13:xn(a,s),wn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nh=mn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ch(s,u)));break;case 22:p=s.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,Y=vs,J=Oe;if(vs=Y||p,Oe=J||P,xn(a,s),Oe=J,vs=Y,wn(s),u&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||P||vs||Oe||Ea(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){P=l=a;try{if(g=P.stateNode,p)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=P.stateNode;var it=P.memoizedProps.style,$=it!=null&&it.hasOwnProperty("display")?it.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(dt){Jt(P,P.return,dt)}}}else if(a.tag===6){if(l===null){P=a;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(dt){Jt(P,P.return,dt)}}}else if(a.tag===18){if(l===null){P=a;try{var W=P.stateNode;p?eb(W,!0):eb(P.stateNode,!1)}catch(dt){Jt(P,P.return,dt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ch(s,l))));break;case 19:xn(a,s),wn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ch(s,u)));break;case 30:break;case 21:break;default:xn(a,s),wn(s)}}function wn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(i0(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,g=Qm(s);Rh(s,g,p);break;case 5:var x=l.stateNode;l.flags&32&&(vn(x,""),l.flags&=-33);var S=Qm(s);Rh(s,S,x);break;case 3:case 4:var P=l.stateNode.containerInfo,Y=Qm(s);Wm(s,Y,P);break;default:throw Error(i(161))}}catch(J){Jt(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function f0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;f0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function xs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)a0(s,a.alternate,a),a=a.sibling}function Ea(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:cr(4,a,a.return),Ea(a);break;case 1:Hi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&e0(a,a.return,l),Ea(a);break;case 27:gc(a.stateNode);case 26:case 5:Hi(a,a.return),Ea(a);break;case 22:a.memoizedState===null&&Ea(a);break;case 30:Ea(a);break;default:Ea(a)}s=s.sibling}}function ws(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=s,g=a,x=g.flags;switch(g.tag){case 0:case 11:case 15:ws(p,g,l),ac(4,g);break;case 1:if(ws(p,g,l),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){Jt(u,u.return,Y)}if(u=g,p=u.updateQueue,p!==null){var S=u.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)H_(P[p],S)}catch(Y){Jt(u,u.return,Y)}}l&&x&64&&t0(g),oc(g,g.return);break;case 27:s0(g);case 26:case 5:ws(p,g,l),l&&u===null&&x&4&&n0(g),oc(g,g.return);break;case 12:ws(p,g,l);break;case 31:ws(p,g,l),l&&x&4&&c0(p,g);break;case 13:ws(p,g,l),l&&x&4&&u0(p,g);break;case 22:g.memoizedState===null&&ws(p,g,l),oc(g,g.return);break;case 30:break;default:ws(p,g,l)}a=a.sibling}}function Jm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&$l(l))}function tp(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&$l(s))}function pi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)d0(s,a,l,u),a=a.sibling}function d0(s,a,l,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:pi(s,a,l,u),p&2048&&ac(9,a);break;case 1:pi(s,a,l,u);break;case 3:pi(s,a,l,u),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&$l(s)));break;case 12:if(p&2048){pi(s,a,l,u),s=a.stateNode;try{var g=a.memoizedProps,x=g.id,S=g.onPostCommit;typeof S=="function"&&S(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(P){Jt(a,a.return,P)}}else pi(s,a,l,u);break;case 31:pi(s,a,l,u);break;case 13:pi(s,a,l,u);break;case 23:break;case 22:g=a.stateNode,x=a.alternate,a.memoizedState!==null?g._visibility&2?pi(s,a,l,u):lc(s,a):g._visibility&2?pi(s,a,l,u):(g._visibility|=2,Do(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Jm(x,a);break;case 24:pi(s,a,l,u),p&2048&&tp(a.alternate,a);break;default:pi(s,a,l,u)}}function Do(s,a,l,u,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=s,x=a,S=l,P=u,Y=x.flags;switch(x.tag){case 0:case 11:case 15:Do(g,x,S,P,p),ac(8,x);break;case 23:break;case 22:var J=x.stateNode;x.memoizedState!==null?J._visibility&2?Do(g,x,S,P,p):lc(g,x):(J._visibility|=2,Do(g,x,S,P,p)),p&&Y&2048&&Jm(x.alternate,x);break;case 24:Do(g,x,S,P,p),p&&Y&2048&&tp(x.alternate,x);break;default:Do(g,x,S,P,p)}a=a.sibling}}function lc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,p=u.flags;switch(u.tag){case 22:lc(l,u),p&2048&&Jm(u.alternate,u);break;case 24:lc(l,u),p&2048&&tp(u.alternate,u);break;default:lc(l,u)}a=a.sibling}}var cc=8192;function Mo(s,a,l){if(s.subtreeFlags&cc)for(s=s.child;s!==null;)m0(s,a,l),s=s.sibling}function m0(s,a,l){switch(s.tag){case 26:Mo(s,a,l),s.flags&cc&&s.memoizedState!==null&&ER(l,mi,s.memoizedState,s.memoizedProps);break;case 5:Mo(s,a,l);break;case 3:case 4:var u=mi;mi=Fh(s.stateNode.containerInfo),Mo(s,a,l),mi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=cc,cc=16777216,Mo(s,a,l),cc=u):Mo(s,a,l));break;default:Mo(s,a,l)}}function p0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function uc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ke=u,y0(u,s)}p0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)g0(s),s=s.sibling}function g0(s){switch(s.tag){case 0:case 11:case 15:uc(s),s.flags&2048&&cr(9,s,s.return);break;case 3:uc(s);break;case 12:uc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Ih(s)):uc(s);break;default:uc(s)}}function Ih(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ke=u,y0(u,s)}p0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:cr(8,a,a.return),Ih(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Ih(a));break;default:Ih(a)}s=s.sibling}}function y0(s,a){for(;Ke!==null;){var l=Ke;switch(l.tag){case 0:case 11:case 15:cr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$l(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ke=u;else t:for(l=s;Ke!==null;){u=Ke;var p=u.sibling,g=u.return;if(o0(u),u===l){Ke=null;break t}if(p!==null){p.return=g,Ke=p;break t}Ke=g}}}var jA={getCacheForType:function(s){var a=Je(Ne),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return Je(Ne).controller.signal}},UA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Ot=null,Pt=0,Zt=0,Vn=null,ur=!1,Oo=!1,ep=!1,Es=0,ye=0,hr=0,Ta=0,np=0,Pn=0,ko=0,hc=null,En=null,ip=!1,Nh=0,_0=0,Dh=1/0,Mh=null,fr=null,Ue=0,dr=null,Vo=null,Ts=0,sp=0,rp=null,v0=null,fc=0,ap=null;function Ln(){return(Kt&2)!==0&&Pt!==0?Pt&-Pt:K.T!==null?fp():Ou()}function b0(){if(Pn===0)if((Pt&536870912)===0||Bt){var s=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),Pn=s}else Pn=536870912;return s=On.current,s!==null&&(s.flags|=32),Pn}function Tn(s,a,l){(s===ae&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Po(s,0),mr(s,Pt,Pn,!1)),Zr(s,l),((Kt&2)===0||s!==ae)&&(s===ae&&((Kt&2)===0&&(Ta|=l),ye===4&&mr(s,Pt,Pn,!1)),qi(s))}function x0(s,a,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||ri(s,a),p=u?FA(s,a):lp(s,a,!0),g=u;do{if(p===0){Oo&&!u&&mr(s,a,0,!1);break}else{if(l=s.current.alternate,g&&!zA(l)){p=lp(s,a,!1),g=!1;continue}if(p===2){if(g=a,s.errorRecoveryDisabledLanes&g)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var S=s;p=hc;var P=S.current.memoizedState.isDehydrated;if(P&&(Po(S,x).flags|=256),x=lp(S,x,!1),x!==2){if(ep&&!P){S.errorRecoveryDisabledLanes|=g,Ta|=g,p=4;break t}g=En,En=p,g!==null&&(En===null?En=g:En.push.apply(En,g))}p=x}if(g=!1,p!==2)continue}}if(p===1){Po(s,0),mr(s,a,0,!0);break}t:{switch(u=s,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:mr(u,a,Pn,!ur);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Nh+300-mn(),10<p)){if(mr(u,a,Pn,!ur),Ai(u,0,!0)!==0)break t;Ts=a,u.timeoutHandle=Z0(w0.bind(null,u,l,En,Mh,ip,a,Pn,Ta,ko,ur,g,"Throttled",-0,0),p);break t}w0(u,l,En,Mh,ip,a,Pn,Ta,ko,ur,g,null,-0,0)}}break}while(!0);qi(s)}function w0(s,a,l,u,p,g,x,S,P,Y,J,it,$,W){if(s.timeoutHandle=-1,it=a.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},m0(a,g,it);var dt=(g&62914560)===g?Nh-mn():(g&4194048)===g?_0-mn():0;if(dt=TR(it,dt),dt!==null){Ts=g,s.cancelPendingCommit=dt(N0.bind(null,s,a,g,l,u,p,x,S,P,J,it,null,$,W)),mr(s,g,x,!Y);return}}N0(s,a,g,l,u,p,x,S,P)}function zA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],g=p.getSnapshot;p=p.value;try{if(!Dn(g(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function mr(s,a,l,u){a&=~np,a&=~Ta,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var p=a;0<p;){var g=31-ve(p),x=1<<g;u[g]=-1,p&=~x}l!==0&&Jr(s,l,a)}function Oh(){return(Kt&6)===0?(dc(0),!1):!0}function op(){if(Ot!==null){if(Zt===0)var s=Ot.return;else s=Ot,ds=pa=null,Em(s),Ao=null,Xl=0,s=Ot;for(;s!==null;)Jv(s.alternate,s),s=s.return;Ot=null}}function Po(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,aR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ts=0,op(),ae=s,Ot=l=hs(s.current,null),Pt=a,Zt=0,Vn=null,ur=!1,Oo=ri(s,a),ep=!1,ko=Pn=np=Ta=hr=ye=0,En=hc=null,ip=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var p=31-ve(u),g=1<<p;a|=s[p],u&=~g}return Es=a,th(),l}function E0(s,a){It=null,K.H=ic,a===So||a===lh?(a=U_(),Zt=3):a===hm?(a=U_(),Zt=4):Zt=a===Um?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Vn=a,Ot===null&&(ye=1,wh(s,qn(a,s.current)))}function T0(){var s=On.current;return s===null?!0:(Pt&4194048)===Pt?Kn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?s===Kn:!1}function S0(){var s=K.H;return K.H=ic,s===null?ic:s}function A0(){var s=K.A;return K.A=jA,s}function kh(){ye=4,ur||(Pt&4194048)!==Pt&&On.current!==null||(Oo=!0),(hr&134217727)===0&&(Ta&134217727)===0||ae===null||mr(ae,Pt,Pn,!1)}function lp(s,a,l){var u=Kt;Kt|=2;var p=S0(),g=A0();(ae!==s||Pt!==a)&&(Mh=null,Po(s,a)),a=!1;var x=ye;t:do try{if(Zt!==0&&Ot!==null){var S=Ot,P=Vn;switch(Zt){case 8:op(),x=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(a=!0);var Y=Zt;if(Zt=0,Vn=null,Lo(s,S,P,Y),l&&Oo){x=0;break t}break;default:Y=Zt,Zt=0,Vn=null,Lo(s,S,P,Y)}}BA(),x=ye;break}catch(J){E0(s,J)}while(!0);return a&&s.shellSuspendCounter++,ds=pa=null,Kt=u,K.H=p,K.A=g,Ot===null&&(ae=null,Pt=0,th()),x}function BA(){for(;Ot!==null;)R0(Ot)}function FA(s,a){var l=Kt;Kt|=2;var u=S0(),p=A0();ae!==s||Pt!==a?(Mh=null,Dh=mn()+500,Po(s,a)):Oo=ri(s,a);t:do try{if(Zt!==0&&Ot!==null){a=Ot;var g=Vn;e:switch(Zt){case 1:Zt=0,Vn=null,Lo(s,a,g,1);break;case 2:case 9:if(L_(g)){Zt=0,Vn=null,C0(a);break}a=function(){Zt!==2&&Zt!==9||ae!==s||(Zt=7),qi(s)},g.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:L_(g)?(Zt=0,Vn=null,C0(a)):(Zt=0,Vn=null,Lo(s,a,g,7));break;case 5:var x=null;switch(Ot.tag){case 26:x=Ot.memoizedState;case 5:case 27:var S=Ot;if(x?db(x):S.stateNode.complete){Zt=0,Vn=null;var P=S.sibling;if(P!==null)Ot=P;else{var Y=S.return;Y!==null?(Ot=Y,Vh(Y)):Ot=null}break e}}Zt=0,Vn=null,Lo(s,a,g,5);break;case 6:Zt=0,Vn=null,Lo(s,a,g,6);break;case 8:op(),ye=6;break t;default:throw Error(i(462))}}HA();break}catch(J){E0(s,J)}while(!0);return ds=pa=null,K.H=u,K.A=p,Kt=l,Ot!==null?0:(ae=null,Pt=0,th(),ye)}function HA(){for(;Ot!==null&&!jd();)R0(Ot)}function R0(s){var a=Wv(s.alternate,s,Es);s.memoizedProps=s.pendingProps,a===null?Vh(s):Ot=a}function C0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Gv(l,a,a.pendingProps,a.type,void 0,Pt);break;case 11:a=Gv(l,a,a.pendingProps,a.type.render,a.ref,Pt);break;case 5:Em(a);default:Jv(l,a),a=Ot=A_(a,Es),a=Wv(l,a,Es)}s.memoizedProps=s.pendingProps,a===null?Vh(s):Ot=a}function Lo(s,a,l,u){ds=pa=null,Em(a),Ao=null,Xl=0;var p=a.return;try{if(DA(s,p,a,l,Pt)){ye=1,wh(s,qn(l,s.current)),Ot=null;return}}catch(g){if(p!==null)throw Ot=p,g;ye=1,wh(s,qn(l,s.current)),Ot=null;return}a.flags&32768?(Bt||u===1?s=!0:Oo||(Pt&536870912)!==0?s=!1:(ur=s=!0,(u===2||u===9||u===3||u===6)&&(u=On.current,u!==null&&u.tag===13&&(u.flags|=16384))),I0(a,s)):Vh(a)}function Vh(s){var a=s;do{if((a.flags&32768)!==0){I0(a,ur);return}s=a.return;var l=kA(a.alternate,a,Es);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);ye===0&&(ye=5)}function I0(s,a){do{var l=VA(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);ye=6,Ot=null}function N0(s,a,l,u,p,g,x,S,P){s.cancelPendingCommit=null;do Ph();while(Ue!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=Qd,Bd(s,l,g,x,S,P),s===ae&&(Ot=ae=null,Pt=0),Vo=a,dr=s,Ts=l,sp=g,rp=p,v0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,$A(qs,function(){return V0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,p=ot.p,ot.p=2,x=Kt,Kt|=4;try{PA(s,a,l)}finally{Kt=x,ot.p=p,K.T=u}}Ue=1,D0(),M0(),O0()}}function D0(){if(Ue===1){Ue=0;var s=dr,a=Vo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=ot.p;ot.p=2;var p=Kt;Kt|=4;try{h0(a,s);var g=bp,x=y_(s.containerInfo),S=g.focusedElem,P=g.selectionRange;if(x!==S&&S&&S.ownerDocument&&g_(S.ownerDocument.documentElement,S)){if(P!==null&&Gd(S)){var Y=P.start,J=P.end;if(J===void 0&&(J=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(J,S.value.length);else{var it=S.ownerDocument||document,$=it&&it.defaultView||window;if($.getSelection){var W=$.getSelection(),dt=S.textContent.length,vt=Math.min(P.start,dt),re=P.end===void 0?vt:Math.min(P.end,dt);!W.extend&&vt>re&&(x=re,re=vt,vt=x);var F=p_(S,vt),z=p_(S,re);if(F&&z&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var G=it.createRange();G.setStart(F.node,F.offset),W.removeAllRanges(),vt>re?(W.addRange(G),W.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),W.addRange(G))}}}}for(it=[],W=S;W=W.parentNode;)W.nodeType===1&&it.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<it.length;S++){var et=it[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Kh=!!vp,bp=vp=null}finally{Kt=p,ot.p=u,K.T=l}}s.current=a,Ue=2}}function M0(){if(Ue===2){Ue=0;var s=dr,a=Vo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=ot.p;ot.p=2;var p=Kt;Kt|=4;try{a0(s,a.alternate,a)}finally{Kt=p,ot.p=u,K.T=l}}Ue=3}}function O0(){if(Ue===4||Ue===3){Ue=0,Au();var s=dr,a=Vo,l=Ts,u=v0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ue=5:(Ue=0,Vo=dr=null,k0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(fr=null),os(l),a=a.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(si,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=K.T,p=ot.p,ot.p=2,K.T=null;try{for(var g=s.onRecoverableError,x=0;x<u.length;x++){var S=u[x];g(S.value,{componentStack:S.stack})}}finally{K.T=a,ot.p=p}}(Ts&3)!==0&&Ph(),qi(s),p=s.pendingLanes,(l&261930)!==0&&(p&42)!==0?s===ap?fc++:(fc=0,ap=s):fc=0,dc(0)}}function k0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,$l(a)))}function Ph(){return D0(),M0(),O0(),V0()}function V0(){if(Ue!==5)return!1;var s=dr,a=sp;sp=0;var l=os(Ts),u=K.T,p=ot.p;try{ot.p=32>l?32:l,K.T=null,l=rp,rp=null;var g=dr,x=Ts;if(Ue=0,Vo=dr=null,Ts=0,(Kt&6)!==0)throw Error(i(331));var S=Kt;if(Kt|=4,g0(g.current),d0(g,g.current,x,l),Kt=S,dc(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(si,g)}catch{}return!0}finally{ot.p=p,K.T=u,k0(s,a)}}function P0(s,a,l){a=qn(l,a),a=jm(s.stateNode,a,2),s=ar(s,a,2),s!==null&&(Zr(s,2),qi(s))}function Jt(s,a,l){if(s.tag===3)P0(s,s,l);else for(;a!==null;){if(a.tag===3){P0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fr===null||!fr.has(u))){s=qn(l,s),l=Lv(2),u=ar(a,l,2),u!==null&&(jv(l,u,a,s),Zr(u,2),qi(u));break}}a=a.return}}function cp(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new UA;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(l)||(ep=!0,p.add(l),s=qA.bind(null,s,a,l),a.then(s,s))}function qA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Pt&l)===l&&(ye===4||ye===3&&(Pt&62914560)===Pt&&300>mn()-Nh?(Kt&2)===0&&Po(s,0):np|=l,ko===Pt&&(ko=0)),qi(s)}function L0(s,a){a===0&&(a=Mu()),s=fa(s,a),s!==null&&(Zr(s,a),qi(s))}function GA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),L0(s,l)}function YA(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),L0(s,l)}function $A(s,a){return je(s,a)}var Lh=null,jo=null,up=!1,jh=!1,hp=!1,pr=0;function qi(s){s!==jo&&s.next===null&&(jo===null?Lh=jo=s:jo=jo.next=s),jh=!0,up||(up=!0,XA())}function dc(s,a){if(!hp&&jh){hp=!0;do for(var l=!1,u=Lh;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var x=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-ve(42|s)+1)-1,g&=p&~(x&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,B0(u,g))}else g=Pt,g=Ai(u,u===ae?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ri(u,g)||(l=!0,B0(u,g));u=u.next}while(l);hp=!1}}function KA(){j0()}function j0(){jh=up=!1;var s=0;pr!==0&&rR()&&(s=pr);for(var a=mn(),l=null,u=Lh;u!==null;){var p=u.next,g=U0(u,a);g===0?(u.next=null,l===null?Lh=p:l.next=p,p===null&&(jo=l)):(l=u,(s!==0||(g&3)!==0)&&(jh=!0)),u=p}Ue!==0&&Ue!==5||dc(s),pr!==0&&(pr=0)}function U0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var x=31-ve(g),S=1<<x,P=p[x];P===-1?((S&l)===0||(S&u)!==0)&&(p[x]=zd(S,a)):P<=a&&(s.expiredLanes|=S),g&=~S}if(a=ae,l=Pt,l=Ai(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Hs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ri(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Hs(u),os(l)){case 2:case 8:l=El;break;case 32:l=qs;break;case 268435456:l=Ru;break;default:l=qs}return u=z0.bind(null,s),l=je(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Hs(u),s.callbackPriority=2,s.callbackNode=null,2}function z0(s,a){if(Ue!==0&&Ue!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Ph()&&s.callbackNode!==l)return null;var u=Pt;return u=Ai(s,s===ae?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(x0(s,u,a),U0(s,mn()),s.callbackNode!=null&&s.callbackNode===l?z0.bind(null,s):null)}function B0(s,a){if(Ph())return null;x0(s,a,!0)}function XA(){oR(function(){(Kt&6)!==0?je(wl,KA):j0()})}function fp(){if(pr===0){var s=Eo;s===0&&(s=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),pr=s}return pr}function F0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:oo(""+s)}function H0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function QA(s,a,l,u,p){if(a==="submit"&&l&&l.stateNode===p){var g=F0((p[Ye]||null).action),x=u.submitter;x&&(a=(a=x[Ye]||null)?F0(a.formAction):x.getAttribute("formAction"),a!==null&&(g=a,x=null));var S=new Li("action","action",null,u,p);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pr!==0){var P=x?H0(p,x):new FormData(p);Mm(l,{pending:!0,data:P,method:p.method,action:g},null,P)}}else typeof g=="function"&&(S.preventDefault(),P=x?H0(p,x):new FormData(p),Mm(l,{pending:!0,data:P,method:p.method,action:g},g,P))},currentTarget:p}]})}}for(var dp=0;dp<Xd.length;dp++){var mp=Xd[dp],WA=mp.toLowerCase(),ZA=mp[0].toUpperCase()+mp.slice(1);di(WA,"on"+ZA)}di(b_,"onAnimationEnd"),di(x_,"onAnimationIteration"),di(w_,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(mA,"onTransitionRun"),di(pA,"onTransitionStart"),di(gA,"onTransitionCancel"),di(E_,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function q0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;t:{var g=void 0;if(a)for(var x=u.length-1;0<=x;x--){var S=u[x],P=S.instance,Y=S.currentTarget;if(S=S.listener,P!==g&&p.isPropagationStopped())break t;g=S,p.currentTarget=Y;try{g(p)}catch(J){Ju(J)}p.currentTarget=null,g=P}else for(x=0;x<u.length;x++){if(S=u[x],P=S.instance,Y=S.currentTarget,S=S.listener,P!==g&&p.isPropagationStopped())break t;g=S,p.currentTarget=Y;try{g(p)}catch(J){Ju(J)}p.currentTarget=null,g=P}}}}function kt(s,a){var l=a[no];l===void 0&&(l=a[no]=new Set);var u=s+"__bubble";l.has(u)||(G0(a,s,2,!1),l.add(u))}function pp(s,a,l){var u=0;a&&(u|=4),G0(l,s,u,a)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function gp(s){if(!s[Uh]){s[Uh]=!0,Al.forEach(function(l){l!=="selectionchange"&&(JA.has(l)||pp(l,!1,s),pp(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Uh]||(a[Uh]=!0,pp("selectionchange",!1,a))}}function G0(s,a,l,u){switch(bb(a)){case 2:var p=RR;break;case 8:p=CR;break;default:p=Dp}l=p.bind(null,a,l,s),p=void 0,!sa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function yp(s,a,l,u,p){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===p)break;if(x===4)for(x=u.return;x!==null;){var P=x.tag;if((P===3||P===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;S!==null;){if(x=Ni(S),x===null)return;if(P=x.tag,P===5||P===6||P===26||P===27){u=g=x;continue t}S=S.parentNode}}u=u.return}Qs(function(){var Y=g,J=zn(l),it=[];t:{var $=T_.get(s);if($!==void 0){var W=Li,dt=s;switch(s){case"keypress":if(aa(l)===0)break t;case"keydown":case"keyup":W=Qu;break;case"focusin":dt="focus",W=la;break;case"focusout":dt="blur",W=la;break;case"beforeblur":case"afterblur":W=la;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case b_:case x_:case w_:W=Hu;break;case E_:W=N;break;case"scroll":case"scrollend":W=jl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=us;break;case"toggle":case"beforetoggle":W=Ct}var vt=(a&4)!==0,re=!vt&&(s==="scroll"||s==="scrollend"),F=vt?$!==null?$+"Capture":null:$;vt=[];for(var z=Y,G;z!==null;){var et=z;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||F===null||(et=ci(z,F),et!=null&&vt.push(pc(z,et,G))),re)break;z=z.return}0<vt.length&&($=new W($,dt,null,l,J),it.push({event:$,listeners:vt}))}}if((a&7)===0){t:{if($=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",$&&l!==Vl&&(dt=l.relatedTarget||l.fromElement)&&(Ni(dt)||dt[Ci]))break t;if((W||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,W?(dt=l.relatedTarget||l.toElement,W=Y,dt=dt?Ni(dt):null,dt!==null&&(re=o(dt),vt=dt.tag,dt!==re||vt!==5&&vt!==27&&vt!==6)&&(dt=null)):(W=null,dt=Y),W!==dt)){if(vt=Ul,et="onMouseLeave",F="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(vt=us,et="onPointerLeave",F="onPointerEnter",z="pointer"),re=W==null?$:In(W),G=dt==null?$:In(dt),$=new vt(et,z+"leave",W,l,J),$.target=re,$.relatedTarget=G,et=null,Ni(J)===Y&&(vt=new vt(F,z+"enter",dt,l,J),vt.target=G,vt.relatedTarget=re,et=vt),re=et,W&&dt)e:{for(vt=tR,F=W,z=dt,G=0,et=F;et;et=vt(et))G++;et=0;for(var gt=z;gt;gt=vt(gt))et++;for(;0<G-et;)F=vt(F),G--;for(;0<et-G;)z=vt(z),et--;for(;G--;){if(F===z||z!==null&&F===z.alternate){vt=F;break e}F=vt(F),z=vt(z)}vt=null}else vt=null;W!==null&&Y0(it,$,W,vt,!1),dt!==null&&re!==null&&Y0(it,re,dt,vt,!0)}}t:{if($=Y?In(Y):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var Gt=c_;else if(o_($))if(u_)Gt=hA;else{Gt=cA;var mt=lA}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&ao(Y.elementType)&&(Gt=c_):Gt=uA;if(Gt&&(Gt=Gt(s,Y))){l_(it,Gt,l,J);break t}mt&&mt(s,$,Y),s==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Ml($,"number",$.value)}switch(mt=Y?In(Y):window,s){case"focusin":(o_(mt)||mt.contentEditable==="true")&&(po=mt,Yd=Y,ql=null);break;case"focusout":ql=Yd=po=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,__(it,l,J);break;case"selectionchange":if(dA)break;case"keydown":case"keyup":__(it,l,J)}var Nt;if($t)t:{switch(s){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else mo?ca(s,l)&&(Lt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(zi&&l.locale!=="ko"&&(mo||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&mo&&(Nt=Ll()):(Pi=J,Pl="value"in Pi?Pi.value:Pi.textContent,mo=!0)),mt=zh(Y,Lt),0<mt.length&&(Lt=new Ui(Lt,s,null,l,J),it.push({event:Lt,listeners:mt}),Nt?Lt.data=Nt:(Nt=fo(l),Nt!==null&&(Lt.data=Nt)))),(Nt=Fn?sA(s,l):rA(s,l))&&(Lt=zh(Y,"onBeforeInput"),0<Lt.length&&(mt=new Ui("onBeforeInput","beforeinput",null,l,J),it.push({event:mt,listeners:Lt}),mt.data=Nt)),QA(it,s,Y,l,J)}q0(it,a)})}function pc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function zh(s,a){for(var l=a+"Capture",u=[];s!==null;){var p=s,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ci(s,l),p!=null&&u.unshift(pc(s,p,g)),p=ci(s,a),p!=null&&u.push(pc(s,p,g))),s.tag===3)return u;s=s.return}return[]}function tR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Y0(s,a,l,u,p){for(var g=a._reactName,x=[];l!==null&&l!==u;){var S=l,P=S.alternate,Y=S.stateNode;if(S=S.tag,P!==null&&P===u)break;S!==5&&S!==26&&S!==27||Y===null||(P=Y,p?(Y=ci(l,g),Y!=null&&x.unshift(pc(l,Y,P))):p||(Y=ci(l,g),Y!=null&&x.push(pc(l,Y,P)))),l=l.return}x.length!==0&&s.push({event:a,listeners:x})}var eR=/\r\n?/g,nR=/\u0000|\uFFFD/g;function $0(s){return(typeof s=="string"?s:""+s).replace(eR,`
`).replace(nR,"")}function K0(s,a){return a=$0(a),$0(s)===a}function se(s,a,l,u,p,g){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||vn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&vn(s,""+u);break;case"className":Nn(s,"class",u);break;case"tabIndex":Nn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(s,l,u);break;case"style":kl(s,u,g);break;case"data":if(a!=="object"){Nn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=oo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&se(s,a,"name",p.name,p,null),se(s,a,"formEncType",p.formEncType,p,null),se(s,a,"formMethod",p.formMethod,p,null),se(s,a,"formTarget",p.formTarget,p,null)):(se(s,a,"encType",p.encType,p,null),se(s,a,"method",p.method,p,null),se(s,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=oo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=li);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=oo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":kt("beforetoggle",s),kt("toggle",s),so(s,"popover",u);break;case"xlinkActuate":Ie(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":so(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zu.get(l)||l,so(s,l,u))}}function _p(s,a,l,u,p,g){switch(l){case"style":kl(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?vn(s,u):(typeof u=="number"||typeof u=="bigint")&&vn(s,""+u);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),g=s[Ye]||null,g=g!=null?g[l]:null,typeof g=="function"&&s.removeEventListener(a,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,p);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):so(s,l,u)}}}function en(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var u=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var x=l[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,g,x,l,null)}}p&&se(s,a,"srcSet",l.srcSet,l,null),u&&se(s,a,"src",l.src,l,null);return;case"input":kt("invalid",s);var S=g=x=p=null,P=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":p=J;break;case"type":x=J;break;case"checked":P=J;break;case"defaultChecked":Y=J;break;case"value":g=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:se(s,a,u,J,l,null)}}Lu(s,g,S,P,Y,x,p,!1);return;case"select":kt("invalid",s),u=x=g=null;for(p in l)if(l.hasOwnProperty(p)&&(S=l[p],S!=null))switch(p){case"value":g=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:se(s,a,p,S,l,null)}a=g,l=x,s.multiple=!!u,a!=null?Ys(s,!!u,a,!1):l!=null&&Ys(s,!!u,l,!0);return;case"textarea":kt("invalid",s),g=p=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":p=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:se(s,a,x,S,l,null)}$s(s,u,p,g);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(u=l[P],u!=null))switch(P){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:se(s,a,P,u,l,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(u=0;u<mc.length;u++)kt(mc[u],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,Y,u,l,null)}return;default:if(ao(a)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&_p(s,a,J,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&se(s,a,S,u,l,null))}function iR(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,x=null,S=null,P=null,Y=null,J=null;for(W in l){var it=l[W];if(l.hasOwnProperty(W)&&it!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=it;default:u.hasOwnProperty(W)||se(s,a,W,null,u,it)}}for(var $ in u){var W=u[$];if(it=l[$],u.hasOwnProperty($)&&(W!=null||it!=null))switch($){case"type":g=W;break;case"name":p=W;break;case"checked":Y=W;break;case"defaultChecked":J=W;break;case"value":x=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==it&&se(s,a,$,W,u,it)}}ro(s,x,S,P,Y,J,g,p);return;case"select":W=x=S=$=null;for(g in l)if(P=l[g],l.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":W=P;default:u.hasOwnProperty(g)||se(s,a,g,null,u,P)}for(p in u)if(g=u[p],P=l[p],u.hasOwnProperty(p)&&(g!=null||P!=null))switch(p){case"value":$=g;break;case"defaultValue":S=g;break;case"multiple":x=g;default:g!==P&&se(s,a,p,g,u,P)}a=S,l=x,u=W,$!=null?Ys(s,!!l,$,!1):!!u!=!!l&&(a!=null?Ys(s,!!l,a,!0):Ys(s,!!l,l?[]:"",!1));return;case"textarea":W=$=null;for(S in l)if(p=l[S],l.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(s,a,S,null,u,p)}for(x in u)if(p=u[x],g=l[x],u.hasOwnProperty(x)&&(p!=null||g!=null))switch(x){case"value":$=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&se(s,a,x,p,u,g)}ju(s,$,W);return;case"option":for(var dt in l)if($=l[dt],l.hasOwnProperty(dt)&&$!=null&&!u.hasOwnProperty(dt))switch(dt){case"selected":s.selected=!1;break;default:se(s,a,dt,null,u,$)}for(P in u)if($=u[P],W=l[P],u.hasOwnProperty(P)&&$!==W&&($!=null||W!=null))switch(P){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:se(s,a,P,$,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)$=l[vt],l.hasOwnProperty(vt)&&$!=null&&!u.hasOwnProperty(vt)&&se(s,a,vt,null,u,$);for(Y in u)if($=u[Y],W=l[Y],u.hasOwnProperty(Y)&&$!==W&&($!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:se(s,a,Y,$,u,W)}return;default:if(ao(a)){for(var re in l)$=l[re],l.hasOwnProperty(re)&&$!==void 0&&!u.hasOwnProperty(re)&&_p(s,a,re,void 0,u,$);for(J in u)$=u[J],W=l[J],!u.hasOwnProperty(J)||$===W||$===void 0&&W===void 0||_p(s,a,J,$,u,W);return}}for(var F in l)$=l[F],l.hasOwnProperty(F)&&$!=null&&!u.hasOwnProperty(F)&&se(s,a,F,null,u,$);for(it in u)$=u[it],W=l[it],!u.hasOwnProperty(it)||$===W||$==null&&W==null||se(s,a,it,$,u,W)}function X0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],g=p.transferSize,x=p.initiatorType,S=p.duration;if(g&&S&&X0(x)){for(x=0,S=p.responseEnd,u+=1;u<l.length;u++){var P=l[u],Y=P.startTime;if(Y>S)break;var J=P.transferSize,it=P.initiatorType;J&&X0(it)&&(P=P.responseEnd,x+=J*(P<S?1:(S-Y)/(P-Y)))}if(--u,a+=8*(g+x)/(p.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var vp=null,bp=null;function Bh(s){return s.nodeType===9?s:s.ownerDocument}function Q0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function xp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wp=null;function rR(){var s=window.event;return s&&s.type==="popstate"?s===wp?!1:(wp=s,!0):(wp=null,!1)}var Z0=typeof setTimeout=="function"?setTimeout:void 0,aR=typeof clearTimeout=="function"?clearTimeout:void 0,J0=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof J0<"u"?function(s){return J0.resolve(null).then(s).catch(lR)}:Z0;function lR(s){setTimeout(function(){throw s})}function gr(s){return s==="head"}function tb(s,a){var l=a,u=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(p),Fo(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")gc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,gc(l);for(var g=l.firstChild;g;){var x=g.nextSibling,S=g.nodeName;g[Ii]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=x}}else l==="body"&&gc(s.ownerDocument.body);l=p}while(l);Fo(a)}function eb(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Ep(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ep(l),io(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function cR(s,a,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ii])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=Xn(s.nextSibling),s===null)break}return null}function uR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Xn(s.nextSibling),s===null))return null;return s}function nb(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Xn(s.nextSibling),s===null))return null;return s}function Tp(s){return s.data==="$?"||s.data==="$~"}function Sp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function hR(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Xn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Ap=null;function ib(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Xn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function sb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function rb(s,a,l){switch(a=Bh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function gc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);io(s)}var Qn=new Map,ab=new Set;function Fh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ss=ot.d;ot.d={f:fR,r:dR,D:mR,C:pR,L:gR,m:yR,X:vR,S:_R,M:bR};function fR(){var s=Ss.f(),a=Oh();return s||a}function dR(s){var a=Un(s);a!==null&&a.tag===5&&a.type==="form"?Ev(a):Ss.r(s)}var Uo=typeof document>"u"?null:document;function ob(s,a,l){var u=Uo;if(u&&typeof a=="string"&&a){var p=_n(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),ab.has(p)||(ab.add(p),s={rel:s,crossOrigin:l,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),en(a,"link",s),Ce(a),u.head.appendChild(a)))}}function mR(s){Ss.D(s),ob("dns-prefetch",s,null)}function pR(s,a){Ss.C(s,a),ob("preconnect",s,a)}function gR(s,a,l){Ss.L(s,a,l);var u=Uo;if(u&&s&&a){var p='link[rel="preload"][as="'+_n(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+_n(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+_n(l.imageSizes)+'"]')):p+='[href="'+_n(s)+'"]';var g=p;switch(a){case"style":g=zo(s);break;case"script":g=Bo(s)}Qn.has(g)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Qn.set(g,s),u.querySelector(p)!==null||a==="style"&&u.querySelector(yc(g))||a==="script"&&u.querySelector(_c(g))||(a=u.createElement("link"),en(a,"link",s),Ce(a),u.head.appendChild(a)))}}function yR(s,a){Ss.m(s,a);var l=Uo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(s)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bo(s)}if(!Qn.has(g)&&(s=_({rel:"modulepreload",href:s},a),Qn.set(g,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_c(g)))return}u=l.createElement("link"),en(u,"link",s),Ce(u),l.head.appendChild(u)}}}function _R(s,a,l){Ss.S(s,a,l);var u=Uo;if(u&&s){var p=Di(u).hoistableStyles,g=zo(s);a=a||"default";var x=p.get(g);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(yc(g)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Qn.get(g))&&Rp(s,l);var P=x=u.createElement("link");Ce(P),en(P,"link",s),P._p=new Promise(function(Y,J){P.onload=Y,P.onerror=J}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hh(x,a,u)}x={type:"stylesheet",instance:x,count:1,state:S},p.set(g,x)}}}function vR(s,a){Ss.X(s,a);var l=Uo;if(l&&s){var u=Di(l).hoistableScripts,p=Bo(s),g=u.get(p);g||(g=l.querySelector(_c(p)),g||(s=_({src:s,async:!0},a),(a=Qn.get(p))&&Cp(s,a),g=l.createElement("script"),Ce(g),en(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function bR(s,a){Ss.M(s,a);var l=Uo;if(l&&s){var u=Di(l).hoistableScripts,p=Bo(s),g=u.get(p);g||(g=l.querySelector(_c(p)),g||(s=_({src:s,async:!0,type:"module"},a),(a=Qn.get(p))&&Cp(s,a),g=l.createElement("script"),Ce(g),en(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function lb(s,a,l,u){var p=(p=xt.current)?Fh(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=zo(l.href),l=Di(p).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=zo(l.href);var g=Di(p).hoistableStyles,x=g.get(s);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,x),(g=p.querySelector(yc(s)))&&!g._p&&(x.instance=g,x.state.loading=5),Qn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Qn.set(s,l),g||xR(p,s,l,x.state))),a&&u===null)throw Error(i(528,""));return x}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bo(l),l=Di(p).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function zo(s){return'href="'+_n(s)+'"'}function yc(s){return'link[rel="stylesheet"]['+s+"]"}function cb(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function xR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),en(a,"link",l),Ce(a),s.head.appendChild(a))}function Bo(s){return'[src="'+_n(s)+'"]'}function _c(s){return"script[async]"+s}function ub(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+_n(l.href)+'"]');if(u)return a.instance=u,Ce(u),u;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ce(u),en(u,"style",p),Hh(u,l.precedence,s),a.instance=u;case"stylesheet":p=zo(l.href);var g=s.querySelector(yc(p));if(g)return a.state.loading|=4,a.instance=g,Ce(g),g;u=cb(l),(p=Qn.get(p))&&Rp(u,p),g=(s.ownerDocument||s).createElement("link"),Ce(g);var x=g;return x._p=new Promise(function(S,P){x.onload=S,x.onerror=P}),en(g,"link",u),a.state.loading|=4,Hh(g,l.precedence,s),a.instance=g;case"script":return g=Bo(l.src),(p=s.querySelector(_c(g)))?(a.instance=p,Ce(p),p):(u=l,(p=Qn.get(g))&&(u=_({},l),Cp(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Ce(p),en(p,"link",u),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Hh(u,l.precedence,s));return a.instance}function Hh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===a)g=S;else if(g!==p)break}g?g.parentNode.insertBefore(s,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Rp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Cp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var qh=null;function hb(s,a,l){if(qh===null){var u=new Map,p=qh=new Map;p.set(l,u)}else p=qh,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var g=l[p];if(!(g[Ii]||g[Re]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(a)||"";x=s+x;var S=u.get(x);S?S.push(g):u.set(x,[g])}}return u}function fb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function wR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function db(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function ER(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=zo(u.href),g=a.querySelector(yc(p));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Gh.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=g,Ce(g);return}g=a.ownerDocument||a,u=cb(u),(p=Qn.get(p))&&Rp(u,p),g=g.createElement("link"),Ce(g);var x=g;x._p=new Promise(function(S,P){x.onload=S,x.onerror=P}),en(g,"link",u),l.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Gh.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var Ip=0;function TR(s,a){return s.stylesheets&&s.count===0&&$h(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&$h(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+a);0<s.imgBytes&&Ip===0&&(Ip=62500*sR());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&$h(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Ip?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Gh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Yh=null;function $h(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Yh=new Map,a.forEach(SR,s),Yh=null,Gh.call(s))}function SR(s,a){if(!(a.state.loading&4)){var l=Yh.get(s);if(l)var u=l.get(null);else{l=new Map,Yh.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var x=p[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}p=a.instance,x=p.getAttribute("data-precedence"),g=l.get(x)||u,g===u&&l.set(null,p),l.set(x,p),this.count++,u=Gh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var vc={$$typeof:H,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function AR(s,a,l,u,p,g,x,S,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function mb(s,a,l,u,p,g,x,S,P,Y,J,it){return s=new AR(s,a,l,x,P,Y,J,it,S),a=1,g===!0&&(a|=24),g=Mn(3,null,null,a),s.current=g,g.stateNode=s,a=lm(),a.refCount++,s.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:a},fm(g),s}function pb(s){return s?(s=_o,s):_o}function gb(s,a,l,u,p,g){p=pb(p),u.context===null?u.context=p:u.pendingContext=p,u=rr(a),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=ar(s,u,a),l!==null&&(Tn(l,s,a),Wl(l,s,a))}function yb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Np(s,a){yb(s,a),(s=s.alternate)&&yb(s,a)}function _b(s){if(s.tag===13||s.tag===31){var a=fa(s,67108864);a!==null&&Tn(a,s,67108864),Np(s,67108864)}}function vb(s){if(s.tag===13||s.tag===31){var a=Ln();a=ta(a);var l=fa(s,a);l!==null&&Tn(l,s,a),Np(s,a)}}var Kh=!0;function RR(s,a,l,u){var p=K.T;K.T=null;var g=ot.p;try{ot.p=2,Dp(s,a,l,u)}finally{ot.p=g,K.T=p}}function CR(s,a,l,u){var p=K.T;K.T=null;var g=ot.p;try{ot.p=8,Dp(s,a,l,u)}finally{ot.p=g,K.T=p}}function Dp(s,a,l,u){if(Kh){var p=Mp(u);if(p===null)yp(s,a,u,Xh,l),xb(s,u);else if(NR(p,s,a,l,u))u.stopPropagation();else if(xb(s,u),a&4&&-1<IR.indexOf(s)){for(;p!==null;){var g=Un(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Si(g.pendingLanes);if(x!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var P=1<<31-ve(x);S.entanglements[1]|=P,x&=~P}qi(g),(Kt&6)===0&&(Dh=mn()+500,dc(0))}}break;case 31:case 13:S=fa(g,2),S!==null&&Tn(S,g,2),Oh(),Np(g,2)}if(g=Mp(u),g===null&&yp(s,a,u,Xh,l),g===p)break;p=g}p!==null&&u.stopPropagation()}else yp(s,a,u,null,l)}}function Mp(s){return s=zn(s),Op(s)}var Xh=null;function Op(s){if(Xh=null,s=Ni(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Xh=s,null}function bb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case wl:return 2;case El:return 8;case qs:case Ud:return 32;case Ru:return 268435456;default:return 32}default:return 32}}var kp=!1,yr=null,_r=null,vr=null,bc=new Map,xc=new Map,br=[],IR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xb(s,a){switch(s){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":bc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(a.pointerId)}}function wc(s,a,l,u,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},a!==null&&(a=Un(a),a!==null&&_b(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function NR(s,a,l,u,p){switch(a){case"focusin":return yr=wc(yr,s,a,l,u,p),!0;case"dragenter":return _r=wc(_r,s,a,l,u,p),!0;case"mouseover":return vr=wc(vr,s,a,l,u,p),!0;case"pointerover":var g=p.pointerId;return bc.set(g,wc(bc.get(g)||null,s,a,l,u,p)),!0;case"gotpointercapture":return g=p.pointerId,xc.set(g,wc(xc.get(g)||null,s,a,l,u,p)),!0}return!1}function wb(s){var a=Ni(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,ai(s.priority,function(){vb(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,ai(s.priority,function(){vb(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Mp(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Vl=u,l.target.dispatchEvent(u),Vl=null}else return a=Un(l),a!==null&&_b(a),s.blockedOn=l,!1;a.shift()}return!0}function Eb(s,a,l){Qh(s)&&l.delete(a)}function DR(){kp=!1,yr!==null&&Qh(yr)&&(yr=null),_r!==null&&Qh(_r)&&(_r=null),vr!==null&&Qh(vr)&&(vr=null),bc.forEach(Eb),xc.forEach(Eb)}function Wh(s,a){s.blockedOn===a&&(s.blockedOn=null,kp||(kp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,DR)))}var Zh=null;function Tb(s){Zh!==s&&(Zh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zh===s&&(Zh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],p=s[a+2];if(typeof u!="function"){if(Op(u||l)===null)continue;break}var g=Un(l);g!==null&&(s.splice(a,3),a-=3,Mm(g,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function Fo(s){function a(P){return Wh(P,s)}yr!==null&&Wh(yr,s),_r!==null&&Wh(_r,s),vr!==null&&Wh(vr,s),bc.forEach(a),xc.forEach(a);for(var l=0;l<br.length;l++){var u=br[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<br.length&&(l=br[0],l.blockedOn===null);)wb(l),l.blockedOn===null&&br.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],g=l[u+1],x=p[Ye]||null;if(typeof g=="function")x||Tb(l);else if(x){var S=null;if(g&&g.hasAttribute("formAction")){if(p=g,x=g[Ye]||null)S=x.formAction;else if(Op(p)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),Tb(l)}}}function Sb(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Vp(s){this._internalRoot=s}Jh.prototype.render=Vp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Ln();gb(l,u,s,a,null,null)},Jh.prototype.unmount=Vp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;gb(s.current,2,null,s,null,null),Oh(),a[Ci]=null}};function Jh(s){this._internalRoot=s}Jh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ou();s={blockedOn:null,target:s,priority:a};for(var l=0;l<br.length&&a!==0&&a<br[l].priority;l++);br.splice(l,0,s),l===0&&wb(s)}};var Ab=t.version;if(Ab!=="19.2.0")throw Error(i(527,Ab,"19.2.0"));ot.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var MR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{si=tf.inject(MR),Qe=tf}catch{}}return Tc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",p=Ov,g=kv,x=Vv;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=mb(s,1,!1,null,null,l,u,null,p,g,x,Sb),s[Ci]=a.current,gp(s),new Vp(a)},Tc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,p="",g=Ov,x=kv,S=Vv,P=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),a=mb(s,1,!0,a,l??null,u,p,P,g,x,S,Sb),a.context=pb(null),l=a.current,u=Ln(),u=ta(u),p=rr(u),p.callback=null,ar(l,p,u),l=u,a.current.lanes=l,Zr(a,l),qi(a),s[Ci]=a.current,gp(s),new Jh(a)},Tc.version="19.2.0",Tc}var Pb;function HR(){if(Pb)return jp.exports;Pb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),jp.exports=FR(),jp.exports}var qR=HR();const GR=()=>{};var Lb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},YR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let b=(h&15)<<2|d>>6,T=d&63;f||(T=64,c||(b=64)),i.push(e[y],e[_],e[b],e[T])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(ME(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):YR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||d==null||_==null)throw new $R;const b=o<<2|h>>4;if(i.push(b),d!==64){const T=h<<4&240|d>>2;if(i.push(T),_!==64){const A=d<<6&192|_;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KR=function(n){const t=ME(n);return OE.encodeByteArray(t,!0)},Pf=function(n){return KR(n).replace(/\./g,"")},kE=function(n){try{return OE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=()=>XR().__FIREBASE_DEFAULTS__,WR=()=>{if(typeof process>"u"||typeof Lb>"u")return;const n=Lb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&kE(n[1]);return t&&JSON.parse(t)},hd=()=>{try{return GR()||QR()||WR()||ZR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},VE=n=>hd()?.emulatorHosts?.[n],PE=n=>{const t=VE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},LE=()=>hd()?.config,jE=n=>hd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Pf(JSON.stringify(e)),Pf(JSON.stringify(c)),""].join(".")}const Uc={};function tC(){const n={prod:[],emulator:[]};for(const t of Object.keys(Uc))Uc[t]?n.emulator.push(t):n.prod.push(t);return n}function eC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let jb=!1;function $g(n,t){if(typeof window>"u"||typeof document>"u"||!qa(window.location.host)||Uc[n]===t||Uc[n]||jb)return;Uc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=tC().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{jb=!0,c()},b}function y(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=eC(i),T=e("text"),A=document.getElementById(T)||document.createElement("span"),C=e("learnmore"),I=document.getElementById(C)||document.createElement("a"),V=e("preprendIcon"),B=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;h(H),y(I,C);const Z=d();f(B,V),H.append(B,A,I,Z),document.body.appendChild(H)}o?(A.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function iC(){const n=hd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oC(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lC(){return!iC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cC(){try{return typeof indexedDB=="object"}catch{return!1}}function uC(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="FirebaseError";class rs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=hC,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?fC(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new rs(r,h,i)}}function fC(n,t){return n.replace(dC,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const dC=/\{\$([^}]+)}/g;function mC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Pa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(Ub(o)&&Ub(c)){if(!Pa(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Ub(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Nc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Dc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function pC(n,t){const e=new gC(n,t);return e.subscribe.bind(e)}class gC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");yC(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Fp),r.error===void 0&&(r.error=Fp),r.complete===void 0&&(r.complete=Fp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(n){return n&&n._delegate?n._delegate:n}class Lr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new JR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bC(t))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ca){return this.instances.has(t)}getOptions(t=Ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vC(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ca){return this.component?this.component.multipleInstances?t:Ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vC(n){return n===Ca?void 0:n}function bC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new _C(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const wC={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},EC=jt.INFO,TC={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},SC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=TC[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Kg{constructor(t){this.name=t,this._logLevel=EC,this._logHandler=SC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const AC=(n,t)=>t.some(e=>n instanceof e);let zb,Bb;function RC(){return zb||(zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CC(){return Bb||(Bb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,dg=new WeakMap,BE=new WeakMap,Hp=new WeakMap,Xg=new WeakMap;function IC(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Dr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&zE.set(e,n)}).catch(()=>{}),Xg.set(t,n),t}function NC(n){if(dg.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});dg.set(n,t)}let mg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return dg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||BE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Dr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function DC(n){mg=n(mg)}function MC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(qp(this),t,...e);return BE.set(i,t.sort?t.sort():[t]),Dr(i)}:CC().includes(n)?function(...t){return n.apply(qp(this),t),Dr(zE.get(this))}:function(...t){return Dr(n.apply(qp(this),t))}}function OC(n){return typeof n=="function"?MC(n):(n instanceof IDBTransaction&&NC(n),AC(n,RC())?new Proxy(n,mg):n)}function Dr(n){if(n instanceof IDBRequest)return IC(n);if(Hp.has(n))return Hp.get(n);const t=OC(n);return t!==n&&(Hp.set(n,t),Xg.set(t,n)),t}const qp=n=>Xg.get(n);function kC(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Dr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Dr(c.result),f.oldVersion,f.newVersion,Dr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const VC=["get","getKey","getAll","getAllKeys","count"],PC=["put","add","delete","clear"],Gp=new Map;function Fb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Gp.get(t))return Gp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=PC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||VC.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),r&&f.done]))[0]};return Gp.set(t,o),o}DC(n=>({...n,get:(t,e,i)=>Fb(t,e)||n.get(t,e,i),has:(t,e)=>!!Fb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(jC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function jC(n){return n.getComponent()?.type==="VERSION"}const pg="@firebase/app",Hb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Kg("@firebase/app"),UC="@firebase/app-compat",zC="@firebase/analytics-compat",BC="@firebase/analytics",FC="@firebase/app-check-compat",HC="@firebase/app-check",qC="@firebase/auth",GC="@firebase/auth-compat",YC="@firebase/database",$C="@firebase/data-connect",KC="@firebase/database-compat",XC="@firebase/functions",QC="@firebase/functions-compat",WC="@firebase/installations",ZC="@firebase/installations-compat",JC="@firebase/messaging",tI="@firebase/messaging-compat",eI="@firebase/performance",nI="@firebase/performance-compat",iI="@firebase/remote-config",sI="@firebase/remote-config-compat",rI="@firebase/storage",aI="@firebase/storage-compat",oI="@firebase/firestore",lI="@firebase/ai",cI="@firebase/firestore-compat",uI="firebase",hI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",fI={[pg]:"fire-core",[UC]:"fire-core-compat",[BC]:"fire-analytics",[zC]:"fire-analytics-compat",[HC]:"fire-app-check",[FC]:"fire-app-check-compat",[qC]:"fire-auth",[GC]:"fire-auth-compat",[YC]:"fire-rtdb",[$C]:"fire-data-connect",[KC]:"fire-rtdb-compat",[XC]:"fire-fn",[QC]:"fire-fn-compat",[WC]:"fire-iid",[ZC]:"fire-iid-compat",[JC]:"fire-fcm",[tI]:"fire-fcm-compat",[eI]:"fire-perf",[nI]:"fire-perf-compat",[iI]:"fire-rc",[sI]:"fire-rc-compat",[rI]:"fire-gcs",[aI]:"fire-gcs-compat",[oI]:"fire-fst",[cI]:"fire-fst-compat",[lI]:"fire-vertex","fire-js":"fire-js",[uI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Map,dI=new Map,yg=new Map;function qb(n,t){try{n.container.addComponent(t)}catch(e){Ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function La(n){const t=n.name;if(yg.has(t))return Ps.debug(`There were multiple attempts to register component ${t}.`),!1;yg.set(t,n);for(const e of Lf.values())qb(e,n);for(const e of dI.values())qb(e,n);return!0}function fd(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Rn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new fu("app","Firebase",mI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=hI;function FE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:gg,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Mr.create("bad-app-name",{appName:String(r)});if(e||(e=LE()),!e)throw Mr.create("no-options");const o=Lf.get(r);if(o){if(Pa(e,o.options)&&Pa(i,o.config))return o;throw Mr.create("duplicate-app",{appName:r})}const c=new xC(r);for(const f of yg.values())c.addComponent(f);const h=new pI(e,i,c);return Lf.set(r,h),h}function Qg(n=gg){const t=Lf.get(n);if(!t&&n===gg&&LE())return FE();if(!t)throw Mr.create("no-app",{appName:n});return t}function Xi(n,t,e){let i=fI[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ps.warn(c.join(" "));return}La(new Lr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebase-heartbeat-database",yI=1,Xc="firebase-heartbeat-store";let Yp=null;function HE(){return Yp||(Yp=kC(gI,yI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Xc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Mr.create("idb-open",{originalErrorMessage:n.message})})),Yp}async function _I(n){try{const e=(await HE()).transaction(Xc),i=await e.objectStore(Xc).get(qE(n));return await e.done,i}catch(t){if(t instanceof rs)Ps.warn(t.message);else{const e=Mr.create("idb-get",{originalErrorMessage:t?.message});Ps.warn(e.message)}}}async function Gb(n,t){try{const i=(await HE()).transaction(Xc,"readwrite");await i.objectStore(Xc).put(t,qE(n)),await i.done}catch(e){if(e instanceof rs)Ps.warn(e.message);else{const i=Mr.create("idb-set",{originalErrorMessage:e?.message});Ps.warn(i.message)}}}function qE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=1024,bI=30;class xI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new EI(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>bI){const r=TI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Yb(),{heartbeatsToSend:e,unsentEntries:i}=wI(this._heartbeatsCache.heartbeats),r=Pf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ps.warn(t),""}}}function Yb(){return new Date().toISOString().substring(0,10)}function wI(n,t=vI){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),$b(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),$b(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class EI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cC()?uC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await _I(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function $b(n){return Pf(JSON.stringify({version:2,heartbeats:n})).length}function TI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){La(new Lr("platform-logger",t=>new LC(t),"PRIVATE")),La(new Lr("heartbeat",t=>new xI(t),"PRIVATE")),Xi(pg,Hb,n),Xi(pg,Hb,"esm2020"),Xi("fire-js","")}SI("");function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AI=GE,YE=new fu("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Kg("@firebase/auth");function RI(n,...t){jf.logLevel<=jt.WARN&&jf.warn(`Auth (${Ga}): ${n}`,...t)}function Tf(n,...t){jf.logLevel<=jt.ERROR&&jf.error(`Auth (${Ga}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(n,...t){throw Zg(n,...t)}function bi(n,...t){return Zg(n,...t)}function Wg(n,t,e){const i={...AI(),[t]:e};return new fu("auth","Firebase",i).create(t,{appName:n.name})}function ks(n){return Wg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CI(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&ei(n,"argument-error"),Wg(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zg(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return YE.create(n,...t)}function wt(n,t,...e){if(!n)throw Zg(t,...e)}function Ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Tf(t),new Error(t)}function Ls(n,t){n||Ds(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){return typeof self<"u"&&self.location?.href||""}function II(){return Kb()==="http:"||Kb()==="https:"}function Kb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(II()||rC()||"connection"in navigator)?navigator.onLine:!0}function DI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ls(e>t,"Short delay should be less than long delay!"),this.isMobile=nC()||aC()}get(){return NI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(n,t){Ls(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kI=new mu(3e4,6e4);function Gr(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Yr(n,t,e,i,r={}){return KE(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=du({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return sC()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&qa(n.emulatorConfig.host)&&(d.credentials="include"),$E.fetch()(await XE(n,n.config.apiHost,e,h),d)})}async function KE(n,t,e){n._canInitEmulator=!1;const i={...MI,...t};try{const r=new PI(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw ef(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw ef(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw ef(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Wg(n,y,d);ei(n,y)}}catch(r){if(r instanceof rs)throw r;ei(n,"network-request-failed",{message:String(r)})}}async function pu(n,t,e,i,r={}){const o=await Yr(n,t,e,i,r);return"mfaPendingCredential"in o&&ei(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function XE(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Jg(n.config,r):`${n.config.apiScheme}://${r}`;return OI.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function VI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(bi(this.auth,"network-request-failed")),kI.get())})}}function ef(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=bi(n,t,i);return r.customData._tokenResponse=e,r}function Xb(n){return n!==void 0&&n.enterprise!==void 0}class LI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return VI(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jI(n,t){return Yr(n,"GET","/v2/recaptchaConfig",Gr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(n,t){return Yr(n,"POST","/v1/accounts:delete",t)}async function Uf(n,t){return Yr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zI(n,t=!1){const e=yn(n),i=await e.getIdToken(t),r=ty(i);wt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:zc($p(r.auth_time)),issuedAtTime:zc($p(r.iat)),expirationTime:zc($p(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function $p(n){return Number(n)*1e3}function ty(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const r=kE(e);return r?JSON.parse(r):(Tf("Failed to decode base64 JWT payload"),null)}catch(r){return Tf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Qb(n){const t=ty(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof rs&&BI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function BI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(n){const t=n.auth,e=await n.getIdToken(),i=await Qc(n,Uf(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?QE(r.providerUserInfo):[],c=qI(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,d=h?f:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new vg(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function HI(n){const t=yn(n);await zf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qI(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function QE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(n,t){const e=await KE(n,{},async()=>{const i=du({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await XE(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&qa(n.emulatorConfig.host)&&(f.credentials="include"),$E.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function YI(n,t){return Yr(n,"POST","/v2/accounts:revokeToken",Gr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Qb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=Qb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await GI(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Xo;return i&&(wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(wt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(wt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class yi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new FI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new vg(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Qc(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return zI(this,t)}reload(){return HI(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new yi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await zf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await Qc(this,UI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:T,providerData:A,stsTokenManager:C}=e;wt(_&&C,t,"internal-error");const I=Xo.fromJSON(this.name,C);wt(typeof _=="string",t,"internal-error"),wr(i,t.name),wr(r,t.name),wt(typeof b=="boolean",t,"internal-error"),wt(typeof T=="boolean",t,"internal-error"),wr(o,t.name),wr(c,t.name),wr(h,t.name),wr(f,t.name),wr(d,t.name),wr(y,t.name);const V=new yi({uid:_,auth:t,email:r,emailVerified:b,displayName:i,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:I,createdAt:d,lastLoginAt:y});return A&&Array.isArray(A)&&(V.providerData=A.map(B=>({...B}))),f&&(V._redirectEventId=f),V}static async _fromIdTokenResponse(t,e,i=!1){const r=new Xo;r.updateFromServerResponse(e);const o=new yi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await zf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];wt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?QE(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Xo;h.updateFromIdToken(i);const f=new yi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new vg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;function Ms(n){Ls(n instanceof Function,"Expected a class definition");let t=Wb.get(n);return t?(Ls(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Wb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}WE.type="NONE";const Zb=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(n,t,e){return`firebase:${n}:${t}:${e}`}class Qo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Sf(this.userKey,r.apiKey,o),this.fullPersistenceKey=Sf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Uf(this.auth,{idToken:t}).catch(()=>{});return e?yi._fromGetAccountInfoResponse(this.auth,e,t):null}return yi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Qo(Ms(Zb),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Ms(Zb);const c=Sf(i,t.config.apiKey,t.name);let h=null;for(const d of e)try{const y=await d._get(c);if(y){let _;if(typeof y=="string"){const b=await Uf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await yi._fromGetAccountInfoResponse(t,b,y)}else _=yi._fromJSON(t,y);d!==o&&(h=_),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Qo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new Qo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ZE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iT(t))return"Blackberry";if(sT(t))return"Webos";if(JE(t))return"Safari";if((t.includes("chrome/")||tT(t))&&!t.includes("edge/"))return"Chrome";if(nT(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function ZE(n=dn()){return/firefox\//i.test(n)}function JE(n=dn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tT(n=dn()){return/crios\//i.test(n)}function eT(n=dn()){return/iemobile/i.test(n)}function nT(n=dn()){return/android/i.test(n)}function iT(n=dn()){return/blackberry/i.test(n)}function sT(n=dn()){return/webos/i.test(n)}function ey(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $I(n=dn()){return ey(n)&&!!window.navigator?.standalone}function KI(){return oC()&&document.documentMode===10}function rT(n=dn()){return ey(n)||nT(n)||sT(n)||iT(n)||/windows phone/i.test(n)||eT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n,t=[]){let e;switch(n){case"Browser":e=Jb(dn());break;case"Worker":e=`${Jb(dn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ga}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(n,t={}){return Yr(n,"GET","/v2/passwordPolicy",Gr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=6;class ZI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??WI,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tx(this),this.idTokenSubscription=new tx(this),this.beforeStateQueue=new XI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ms(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Uf(this,{idToken:t}),i=await yi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await zf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Rn(this.app))return Promise.reject(ks(this));const e=t?yn(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Rn(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QI(this),e=new ZI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new fu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await YI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ms(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Ms(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&RI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $r(n){return yn(n)}class tx{constructor(t){this.auth=t,this.observer=null,this.addObserver=pC(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t2(n){dd=n}function oT(n){return dd.loadJS(n)}function e2(){return dd.recaptchaEnterpriseScript}function n2(){return dd.gapiScript}function i2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class s2{constructor(){this.enterprise=new r2}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class r2{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const a2="recaptcha-enterprise",lT="NO_RECAPTCHA";class o2{constructor(t){this.type=a2,this.auth=$r(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{jI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new LI(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,c(d.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;Xb(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{c(d)}).catch(()=>{c(lT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s2().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&Xb(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=e2();f.length!==0&&(f+=h),oT(f).then(()=>{r(h,o,c)}).catch(d=>{c(d)})}}).catch(h=>{c(h)})})}}async function ex(n,t,e,i=!1,r=!1){const o=new o2(n);let c;if(r)c=lT;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function bg(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ex(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ex(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n,t){const e=fd(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Pa(o,t??{}))return r;ei(r,"already-initialized")}return e.initialize({options:t})}function c2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ms);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function u2(n,t,e){const i=$r(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=cT(t),{host:c,port:h}=h2(t),f=h===null?"":`:${h}`,d={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Pa(d,i.config.emulator)&&Pa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,qa(c)?(Yg(`${o}//${c}${f}`),$g("Auth",!0)):f2()}function cT(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function h2(n){const t=cT(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:nx(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:nx(c)}}}function nx(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function f2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ds("not implemented")}_getIdTokenResponse(t){return Ds("not implemented")}_linkToIdToken(t,e){return Ds("not implemented")}_getReauthenticationResolver(t){return Ds("not implemented")}}async function d2(n,t){return Yr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(n,t){return pu(n,"POST","/v1/accounts:signInWithPassword",Gr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(n,t){return pu(n,"POST","/v1/accounts:signInWithEmailLink",Gr(n,t))}async function g2(n,t){return pu(n,"POST","/v1/accounts:signInWithEmailLink",Gr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends ny{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Wc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Wc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(t,e,"signInWithPassword",m2);case"emailLink":return p2(t,{email:this._email,oobCode:this._password});default:ei(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(t,i,"signUpPassword",d2);case"emailLink":return g2(t,{idToken:e,email:this._email,oobCode:this._password});default:ei(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(n,t){return pu(n,"POST","/v1/accounts:signInWithIdp",Gr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="http://localhost";class ja extends ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ja(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ei("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new ja(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Wo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Wo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Wo(t,e)}buildRequest(){const t={requestUri:y2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=du(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v2(n){const t=Nc(Dc(n)).link,e=t?Nc(Dc(t)).deep_link_id:null,i=Nc(Dc(n)).deep_link_id;return(i?Nc(Dc(i)).link:null)||i||e||t||n}class iy{constructor(t){const e=Nc(Dc(t)),i=e.apiKey??null,r=e.oobCode??null,o=_2(e.mode??null);wt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=v2(t);try{return new iy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(t,e){return Wc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=iy.parseLink(e);return wt(i,"argument-error"),Wc._fromEmailAndCode(t,i.code,i.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends gu{constructor(){super("facebook.com")}static credential(t){return ja._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ja._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ns.credential(e,i)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends gu{constructor(){super("github.com")}static credential(t){return ja._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends gu{constructor(){super("twitter.com")}static credential(t,e){return ja._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Ar.credential(e,i)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(n,t){return pu(n,"POST","/v1/accounts:signUp",Gr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await yi._fromIdTokenResponse(t,i,r),c=ix(i);return new Ua({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=ix(i);return new Ua({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function ix(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends rs{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Bf(t,e,i,r)}}function uT(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bf._fromErrorAndOperation(n,o,t,i):o})}async function x2(n,t,e=!1){const i=await Qc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ua._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,t,e=!1){const{auth:i}=n;if(Rn(i.app))return Promise.reject(ks(i));const r="reauthenticate";try{const o=await Qc(n,uT(i,r,t,n),e);wt(o.idToken,i,"internal-error");const c=ty(o.idToken);wt(c,i,"internal-error");const{sub:h}=c;return wt(n.uid===h,i,"user-mismatch"),Ua._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ei(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(n,t,e=!1){if(Rn(n.app))return Promise.reject(ks(n));const i="signIn",r=await uT(n,i,t),o=await Ua._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function E2(n,t){return hT($r(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(n){const t=$r(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function T2(n,t,e){if(Rn(n.app))return Promise.reject(ks(n));const i=$r(n),c=await bg(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b2).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&fT(n),f}),h=await Ua._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function S2(n,t,e){return Rn(n.app)?Promise.reject(ks(n)):E2(yn(n),ul.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&fT(n),i})}function A2(n,t,e,i){return yn(n).onIdTokenChanged(t,e,i)}function R2(n,t,e){return yn(n).beforeAuthStateChanged(t,e)}function C2(n,t,e,i){return yn(n).onAuthStateChanged(t,e,i)}function I2(n){return yn(n).signOut()}const Ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=1e3,D2=10;class mT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);KI()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,D2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}mT.type="LOCAL";const M2=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}pT.type="SESSION";const gT=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new md(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async d=>d(e.origin,o)),f=await O2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const d=ry("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const b=_;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function V2(n){Qi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function P2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L2(){return navigator?.serviceWorker?.controller||null}function j2(){return yT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebaseLocalStorageDb",U2=1,Hf="firebaseLocalStorage",vT="fbase_key";class yu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function pd(n,t){return n.transaction([Hf],t?"readwrite":"readonly").objectStore(Hf)}function z2(){const n=indexedDB.deleteDatabase(_T);return new yu(n).toPromise()}function xg(){const n=indexedDB.open(_T,U2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Hf,{keyPath:vT})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Hf)?t(i):(i.close(),await z2(),t(await xg()))})})}async function sx(n,t,e){const i=pd(n,!0).put({[vT]:t,value:e});return new yu(i).toPromise()}async function B2(n,t){const e=pd(n,!1).get(t),i=await new yu(e).toPromise();return i===void 0?null:i.value}function rx(n,t){const e=pd(n,!0).delete(t);return new yu(e).toPromise()}const F2=800,H2=3;class bT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>H2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(j2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await P2(),!this.activeServiceWorker)return;this.sender=new k2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||L2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xg();return await sx(t,Ff,"1"),await rx(t,Ff),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>sx(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>B2(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>rx(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=pd(r,!1).getAll();return new yu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bT.type="LOCAL";const q2=bT;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n,t){return t?Ms(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends ny{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Wo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Wo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function G2(n){return hT(n.auth,new ay(n),n.bypassAuthState)}function Y2(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),w2(e,new ay(n),n.bypassAuthState)}async function $2(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),x2(e,new ay(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return G2;case"linkViaPopup":case"linkViaRedirect":return $2;case"reauthViaPopup":case"reauthViaRedirect":return Y2;default:ei(this.auth,"internal-error")}}resolve(t){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new mu(2e3,1e4);async function X2(n,t,e){if(Rn(n.app))return Promise.reject(bi(n,"operation-not-supported-in-this-environment"));const i=$r(n);CI(n,t,sy);const r=xT(i,e);return new Da(i,"signInViaPopup",t,r).executeNotNull()}class Da extends wT{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const t=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,K2.get())};t()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="pendingRedirect",Af=new Map;class W2 extends wT{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Af.get(this.auth._key());if(!t){try{const i=await Z2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Af.set(this.auth._key(),t)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z2(n,t){const e=eN(t),i=tN(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function J2(n,t){Af.set(n._key(),t)}function tN(n){return Ms(n._redirectPersistence)}function eN(n){return Sf(Q2,n.config.apiKey,n.name)}async function nN(n,t,e=!1){if(Rn(n.app))return Promise.reject(ks(n));const i=$r(n),r=xT(i,t),c=await new W2(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=600*1e3;class sN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!ET(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(bi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ax(t))}saveEventToCache(t){this.cachedEventUids.add(ax(t)),this.lastProcessedEventTime=Date.now()}}function ax(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function ET({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function rN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(n,t={}){return Yr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lN=/^https?/;async function cN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await aN(n);for(const e of t)try{if(uN(e))return}catch{}ei(n,"unauthorized-domain")}function uN(n){const t=_g(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!lN.test(e))return!1;if(oN.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new mu(3e4,6e4);function ox(){const n=Qi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function fN(n){return new Promise((t,e)=>{function i(){ox(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ox(),e(bi(n,"network-request-failed"))},timeout:hN.get()})}if(Qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Qi().gapi?.load)i();else{const r=i2("iframefcb");return Qi()[r]=()=>{gapi.load?i():e(bi(n,"network-request-failed"))},oT(`${n2()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw Rf=null,t})}let Rf=null;function dN(n){return Rf=Rf||fN(n),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new mu(5e3,15e3),pN="__/auth/iframe",gN="emulator/auth/iframe",yN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vN(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Jg(t,gN):`https://${n.config.authDomain}/${pN}`,i={apiKey:t.apiKey,appName:n.name,v:Ga},r=_N.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${du(i).slice(1)}`}async function bN(n){const t=await dN(n),e=Qi().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:vN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=bi(n,"network-request-failed"),h=Qi().setTimeout(()=>{o(c)},mN.get());function f(){Qi().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wN=500,EN=600,TN="_blank",SN="http://localhost";class lx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AN(n,t,e,i=wN,r=EN){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...xN,width:i.toString(),height:r.toString(),top:o,left:c},d=dn().toLowerCase();e&&(h=tT(d)?TN:e),ZE(d)&&(t=t||SN,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[T,A])=>`${b}${T}=${A},`,"");if($I(d)&&h!=="_self")return RN(t||"",h),new lx(null);const _=window.open(t||"",h,y);wt(_,n,"popup-blocked");try{_.focus()}catch{}return new lx(_)}function RN(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="__/auth/handler",IN="emulator/auth/handler",NN=encodeURIComponent("fac");async function cx(n,t,e,i,r,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ga,eventId:r};if(t instanceof sy){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",mC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof gu){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),d=f?`#${NN}=${encodeURIComponent(f)}`:"";return`${DN(n)}?${du(h).slice(1)}${d}`}function DN({config:n}){return n.emulator?Jg(n,IN):`https://${n.authDomain}/${CN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class MN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gT,this._completeRedirectFn=nN,this._overrideRedirectResult=J2}async _openPopup(t,e,i,r){Ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await cx(t,e,i,_g(),r);return AN(t,o,ry())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await cx(t,e,i,_g(),r);return V2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Ls(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await bN(t),i=new sN(t);return e.register("authEvent",r=>(wt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Kp,{type:Kp},r=>{const o=r?.[0]?.[Kp];o!==void 0&&e(!!o),ei(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=cN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return rT()||JE()||ey()}}const ON=MN;var ux="@firebase/auth",hx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PN(n){La(new Lr("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(n)},d=new JI(i,r,o,f);return c2(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),La(new Lr("auth-internal",t=>{const e=$r(t.getProvider("auth").getImmediate());return(i=>new kN(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(ux,hx,VN(n)),Xi(ux,hx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=300,jN=jE("authIdTokenMaxAge")||LN;let fx=null;const UN=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>jN)return;const r=e?.token;fx!==r&&(fx=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function _u(n=Qg()){const t=fd(n,"auth");if(t.isInitialized())return t.getImmediate();const e=l2(n,{popupRedirectResolver:ON,persistence:[q2,M2,gT]}),i=jE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=UN(o.toString());R2(e,c,()=>c(e.currentUser)),A2(e,h=>c(h))}}const r=VE("auth");return r&&u2(e,`http://${r}`),e}function zN(){return document.getElementsByTagName("head")?.[0]??document}t2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=bi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",zN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PN("Browser");function TT({isDark:n,setIsDark:t}){return w.jsx("div",{className:`flex flex-row items-center justify-center
        `,title:"Switch Theme",onClick:()=>t(e=>!e),children:w.jsx("i",{className:n?"bx bx-sun bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--light-color)] hovered":"bx bx-moon bx-tada-hover text-[calc(0.4vw+1rem)] cursor-pointer text-[var(--dark-color)] hovered"})})}const Or="/DriveSense/assets/app-icon-B1NYOGE_.png";function Pe(n=768){const[t,e]=nt.useState(typeof window<"u"?window.innerWidth<n:!1);return nt.useEffect(()=>{const i=()=>{e(window.innerWidth<n)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),t}var BN="firebase",FN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(BN,FN,"app");var dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,ST;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,R){function M(){}M.prototype=R.prototype,D.F=R.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(L,k,j){for(var O=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)O[Mt-2]=arguments[Mt];return R.prototype[k].apply(L,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,R,M){M||(M=0);const L=Array(16);if(typeof R=="string")for(var k=0;k<16;++k)L[k]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(k=0;k<16;++k)L[k]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=D.g[0],M=D.g[1],k=D.g[2];let j=D.g[3],O;O=R+(j^M&(k^j))+L[0]+3614090360&4294967295,R=M+(O<<7&4294967295|O>>>25),O=j+(k^R&(M^k))+L[1]+3905402710&4294967295,j=R+(O<<12&4294967295|O>>>20),O=k+(M^j&(R^M))+L[2]+606105819&4294967295,k=j+(O<<17&4294967295|O>>>15),O=M+(R^k&(j^R))+L[3]+3250441966&4294967295,M=k+(O<<22&4294967295|O>>>10),O=R+(j^M&(k^j))+L[4]+4118548399&4294967295,R=M+(O<<7&4294967295|O>>>25),O=j+(k^R&(M^k))+L[5]+1200080426&4294967295,j=R+(O<<12&4294967295|O>>>20),O=k+(M^j&(R^M))+L[6]+2821735955&4294967295,k=j+(O<<17&4294967295|O>>>15),O=M+(R^k&(j^R))+L[7]+4249261313&4294967295,M=k+(O<<22&4294967295|O>>>10),O=R+(j^M&(k^j))+L[8]+1770035416&4294967295,R=M+(O<<7&4294967295|O>>>25),O=j+(k^R&(M^k))+L[9]+2336552879&4294967295,j=R+(O<<12&4294967295|O>>>20),O=k+(M^j&(R^M))+L[10]+4294925233&4294967295,k=j+(O<<17&4294967295|O>>>15),O=M+(R^k&(j^R))+L[11]+2304563134&4294967295,M=k+(O<<22&4294967295|O>>>10),O=R+(j^M&(k^j))+L[12]+1804603682&4294967295,R=M+(O<<7&4294967295|O>>>25),O=j+(k^R&(M^k))+L[13]+4254626195&4294967295,j=R+(O<<12&4294967295|O>>>20),O=k+(M^j&(R^M))+L[14]+2792965006&4294967295,k=j+(O<<17&4294967295|O>>>15),O=M+(R^k&(j^R))+L[15]+1236535329&4294967295,M=k+(O<<22&4294967295|O>>>10),O=R+(k^j&(M^k))+L[1]+4129170786&4294967295,R=M+(O<<5&4294967295|O>>>27),O=j+(M^k&(R^M))+L[6]+3225465664&4294967295,j=R+(O<<9&4294967295|O>>>23),O=k+(R^M&(j^R))+L[11]+643717713&4294967295,k=j+(O<<14&4294967295|O>>>18),O=M+(j^R&(k^j))+L[0]+3921069994&4294967295,M=k+(O<<20&4294967295|O>>>12),O=R+(k^j&(M^k))+L[5]+3593408605&4294967295,R=M+(O<<5&4294967295|O>>>27),O=j+(M^k&(R^M))+L[10]+38016083&4294967295,j=R+(O<<9&4294967295|O>>>23),O=k+(R^M&(j^R))+L[15]+3634488961&4294967295,k=j+(O<<14&4294967295|O>>>18),O=M+(j^R&(k^j))+L[4]+3889429448&4294967295,M=k+(O<<20&4294967295|O>>>12),O=R+(k^j&(M^k))+L[9]+568446438&4294967295,R=M+(O<<5&4294967295|O>>>27),O=j+(M^k&(R^M))+L[14]+3275163606&4294967295,j=R+(O<<9&4294967295|O>>>23),O=k+(R^M&(j^R))+L[3]+4107603335&4294967295,k=j+(O<<14&4294967295|O>>>18),O=M+(j^R&(k^j))+L[8]+1163531501&4294967295,M=k+(O<<20&4294967295|O>>>12),O=R+(k^j&(M^k))+L[13]+2850285829&4294967295,R=M+(O<<5&4294967295|O>>>27),O=j+(M^k&(R^M))+L[2]+4243563512&4294967295,j=R+(O<<9&4294967295|O>>>23),O=k+(R^M&(j^R))+L[7]+1735328473&4294967295,k=j+(O<<14&4294967295|O>>>18),O=M+(j^R&(k^j))+L[12]+2368359562&4294967295,M=k+(O<<20&4294967295|O>>>12),O=R+(M^k^j)+L[5]+4294588738&4294967295,R=M+(O<<4&4294967295|O>>>28),O=j+(R^M^k)+L[8]+2272392833&4294967295,j=R+(O<<11&4294967295|O>>>21),O=k+(j^R^M)+L[11]+1839030562&4294967295,k=j+(O<<16&4294967295|O>>>16),O=M+(k^j^R)+L[14]+4259657740&4294967295,M=k+(O<<23&4294967295|O>>>9),O=R+(M^k^j)+L[1]+2763975236&4294967295,R=M+(O<<4&4294967295|O>>>28),O=j+(R^M^k)+L[4]+1272893353&4294967295,j=R+(O<<11&4294967295|O>>>21),O=k+(j^R^M)+L[7]+4139469664&4294967295,k=j+(O<<16&4294967295|O>>>16),O=M+(k^j^R)+L[10]+3200236656&4294967295,M=k+(O<<23&4294967295|O>>>9),O=R+(M^k^j)+L[13]+681279174&4294967295,R=M+(O<<4&4294967295|O>>>28),O=j+(R^M^k)+L[0]+3936430074&4294967295,j=R+(O<<11&4294967295|O>>>21),O=k+(j^R^M)+L[3]+3572445317&4294967295,k=j+(O<<16&4294967295|O>>>16),O=M+(k^j^R)+L[6]+76029189&4294967295,M=k+(O<<23&4294967295|O>>>9),O=R+(M^k^j)+L[9]+3654602809&4294967295,R=M+(O<<4&4294967295|O>>>28),O=j+(R^M^k)+L[12]+3873151461&4294967295,j=R+(O<<11&4294967295|O>>>21),O=k+(j^R^M)+L[15]+530742520&4294967295,k=j+(O<<16&4294967295|O>>>16),O=M+(k^j^R)+L[2]+3299628645&4294967295,M=k+(O<<23&4294967295|O>>>9),O=R+(k^(M|~j))+L[0]+4096336452&4294967295,R=M+(O<<6&4294967295|O>>>26),O=j+(M^(R|~k))+L[7]+1126891415&4294967295,j=R+(O<<10&4294967295|O>>>22),O=k+(R^(j|~M))+L[14]+2878612391&4294967295,k=j+(O<<15&4294967295|O>>>17),O=M+(j^(k|~R))+L[5]+4237533241&4294967295,M=k+(O<<21&4294967295|O>>>11),O=R+(k^(M|~j))+L[12]+1700485571&4294967295,R=M+(O<<6&4294967295|O>>>26),O=j+(M^(R|~k))+L[3]+2399980690&4294967295,j=R+(O<<10&4294967295|O>>>22),O=k+(R^(j|~M))+L[10]+4293915773&4294967295,k=j+(O<<15&4294967295|O>>>17),O=M+(j^(k|~R))+L[1]+2240044497&4294967295,M=k+(O<<21&4294967295|O>>>11),O=R+(k^(M|~j))+L[8]+1873313359&4294967295,R=M+(O<<6&4294967295|O>>>26),O=j+(M^(R|~k))+L[15]+4264355552&4294967295,j=R+(O<<10&4294967295|O>>>22),O=k+(R^(j|~M))+L[6]+2734768916&4294967295,k=j+(O<<15&4294967295|O>>>17),O=M+(j^(k|~R))+L[13]+1309151649&4294967295,M=k+(O<<21&4294967295|O>>>11),O=R+(k^(M|~j))+L[4]+4149444226&4294967295,R=M+(O<<6&4294967295|O>>>26),O=j+(M^(R|~k))+L[11]+3174756917&4294967295,j=R+(O<<10&4294967295|O>>>22),O=k+(R^(j|~M))+L[2]+718787259&4294967295,k=j+(O<<15&4294967295|O>>>17),O=M+(j^(k|~R))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+j&4294967295}i.prototype.v=function(D,R){R===void 0&&(R=D.length);const M=R-this.blockSize,L=this.C;let k=this.h,j=0;for(;j<R;){if(k==0)for(;j<=M;)r(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<R;)if(L[k++]=D.charCodeAt(j++),k==this.blockSize){r(this,L),k=0;break}}else for(;j<R;)if(L[k++]=D[j++],k==this.blockSize){r(this,L),k=0;break}}this.h=k,this.o+=R},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,M=0;M<4;++M)for(let L=0;L<32;L+=8)D[R++]=this.g[M]>>>L&255;return D};function o(D,R){var M=h;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=R(D)}function c(D,R){this.h=R;const M=[];let L=!0;for(let k=D.length-1;k>=0;k--){const j=D[k]|0;L&&j==R||(M[k]=j,L=!1)}this.g=M}var h={};function f(D){return-128<=D&&D<128?o(D,function(R){return new c([R|0],R<0?-1:0)}):new c([D|0],D<0?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return _;if(D<0)return I(d(-D));const R=[];let M=1;for(let L=0;D>=M;L++)R[L]=D/M|0,M*=4294967296;return new c(R,0)}function y(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return I(y(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(R,8));let L=_;for(let j=0;j<D.length;j+=8){var k=Math.min(8,D.length-j);const O=parseInt(D.substring(j,j+k),R);k<8?(k=d(Math.pow(R,k)),L=L.j(k).add(d(O))):(L=L.j(M),L=L.add(d(O)))}return L}var _=f(0),b=f(1),T=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-I(this).m();let D=0,R=1;for(let M=0;M<this.g.length;M++){const L=this.i(M);D+=(L>=0?L:4294967296+L)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(C(this))return"-"+I(this).toString(D);const R=d(Math.pow(D,6));var M=this;let L="";for(;;){const k=Z(M,R).g;M=V(M,k.j(R));let j=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=k,A(M))return j+L;for(;j.length<6;)j="0"+j;L=j+L}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function C(D){return D.h==-1}n.l=function(D){return D=V(this,D),C(D)?-1:A(D)?0:1};function I(D){const R=D.g.length,M=[];for(let L=0;L<R;L++)M[L]=~D.g[L];return new c(M,~D.h).add(b)}n.abs=function(){return C(this)?I(this):this},n.add=function(D){const R=Math.max(this.g.length,D.g.length),M=[];let L=0;for(let k=0;k<=R;k++){let j=L+(this.i(k)&65535)+(D.i(k)&65535),O=(j>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);L=O>>>16,j&=65535,O&=65535,M[k]=O<<16|j}return new c(M,M[M.length-1]&-2147483648?-1:0)};function V(D,R){return D.add(I(R))}n.j=function(D){if(A(this)||A(D))return _;if(C(this))return C(D)?I(this).j(I(D)):I(I(this).j(D));if(C(D))return I(this.j(I(D)));if(this.l(T)<0&&D.l(T)<0)return d(this.m()*D.m());const R=this.g.length+D.g.length,M=[];for(var L=0;L<2*R;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<D.g.length;k++){const j=this.i(L)>>>16,O=this.i(L)&65535,Mt=D.i(k)>>>16,Tt=D.i(k)&65535;M[2*L+2*k]+=O*Tt,B(M,2*L+2*k),M[2*L+2*k+1]+=j*Tt,B(M,2*L+2*k+1),M[2*L+2*k+1]+=O*Mt,B(M,2*L+2*k+1),M[2*L+2*k+2]+=j*Mt,B(M,2*L+2*k+2)}for(D=0;D<R;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=R;D<2*R;D++)M[D]=0;return new c(M,0)};function B(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function H(D,R){this.g=D,this.h=R}function Z(D,R){if(A(R))throw Error("division by zero");if(A(D))return new H(_,_);if(C(D))return R=Z(I(D),R),new H(I(R.g),I(R.h));if(C(R))return R=Z(D,I(R)),new H(I(R.g),R.h);if(D.g.length>30){if(C(D)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var M=b,L=R;L.l(D)<=0;)M=Q(M),L=Q(L);var k=rt(M,1),j=rt(L,1);for(L=rt(L,2),M=rt(M,2);!A(L);){var O=j.add(L);O.l(D)<=0&&(k=k.add(M),j=O),L=rt(L,1),M=rt(M,1)}return R=V(D,k.j(R)),new H(k,R)}for(k=_;D.l(R)>=0;){for(M=Math.max(1,Math.floor(D.m()/R.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),j=d(M),O=j.j(R);C(O)||O.l(D)>0;)M-=L,j=d(M),O=j.j(R);A(j)&&(j=b),k=k.add(j),D=V(D,O)}return new H(k,D)}n.B=function(D){return Z(this,D).h},n.and=function(D){const R=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)&D.i(L);return new c(M,this.h&D.h)},n.or=function(D){const R=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)|D.i(L);return new c(M,this.h|D.h)},n.xor=function(D){const R=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)^D.i(L);return new c(M,this.h^D.h)};function Q(D){const R=D.g.length+1,M=[];for(let L=0;L<R;L++)M[L]=D.i(L)<<1|D.i(L-1)>>>31;return new c(M,D.h)}function rt(D,R){const M=R>>5;R%=32;const L=D.g.length-M,k=[];for(let j=0;j<L;j++)k[j]=R>0?D.i(j+M)>>>R|D.i(j+M+1)<<32-R:D.i(j+M);return new c(k,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ST=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=y,kr=c}).apply(typeof dx<"u"?dx:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AT,Mc,RT,Cf,wg,CT,IT,NT;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var v=0;v<m.length;++v){var E=m[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(m,v){if(v)t:{var E=i;m=m.split(".");for(var N=0;N<m.length-1;N++){var q=m[N];if(!(q in E))break t;E=E[q]}m=m[m.length-1],N=E[m],v=v(N),v!=N&&v!=null&&t(E,m,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(v){var E=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&E.push([N,v[N]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(m){var v=typeof m;return v=="object"&&m!=null||v=="function"}function f(m,v,E){return m.call.apply(m.bind,arguments)}function d(m,v,E){return d=f,d.apply(null,arguments)}function y(m,v){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),m.apply(this,N)}}function _(m,v){function E(){}E.prototype=v.prototype,m.Z=v.prototype,m.prototype=new E,m.prototype.constructor=m,m.Ob=function(N,q,X){for(var lt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)lt[Ct-2]=arguments[Ct];return v.prototype[q].apply(N,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function T(m){const v=m.length;if(v>0){const E=Array(v);for(let N=0;N<v;N++)E[N]=m[N];return E}return[]}function A(m,v){for(let N=1;N<arguments.length;N++){const q=arguments[N];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=m.length||0;const X=q.length||0;m.length=E+X;for(let lt=0;lt<X;lt++)m[E+lt]=q[lt]}else m.push(q)}}class C{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function I(m){c.setTimeout(()=>{throw m},0)}function V(){var m=D;let v=null;return m.g&&(v=m.g,m.g=m.g.next,m.g||(m.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,E){const N=H.get();N.set(v,E),this.h?this.h.next=N:this.g=N,this.h=N}}var H=new C(()=>new Z,m=>m.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,rt=!1,D=new B,R=()=>{const m=Promise.resolve(void 0);Q=()=>{m.then(M)}};function M(){for(var m;m=V();){try{m.h.call(m.g)}catch(E){I(E)}var v=H;v.j(m),v.h<100&&(v.h++,m.next=v.g,v.g=m)}rt=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(m,v){this.type=m,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,v=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return m})();function O(m){return/^[\s\xa0]*$/.test(m)}function Mt(m,v){k.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,v)}_(Mt,k),Mt.prototype.init=function(m,v){const E=this.type=m.type,N=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=v,v=m.relatedTarget,v||(E=="mouseover"?v=m.fromElement:E=="mouseout"&&(v=m.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Mt.Z.h.call(this)},Mt.prototype.h=function(){Mt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),K=0;function ot(m,v,E,N,q){this.listener=m,this.proxy=null,this.src=v,this.type=E,this.capture=!!N,this.ha=q,this.key=++K,this.da=this.fa=!1}function ft(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function bt(m,v,E){for(const N in m)v.call(E,m[N],N,m)}function Vt(m,v){for(const E in m)v.call(void 0,m[E],E,m)}function U(m){const v={};for(const E in m)v[E]=m[E];return v}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(m,v){let E,N;for(let q=1;q<arguments.length;q++){N=arguments[q];for(E in N)m[E]=N[E];for(let X=0;X<tt.length;X++)E=tt[X],Object.prototype.hasOwnProperty.call(N,E)&&(m[E]=N[E])}}function ut(m){this.src=m,this.g={},this.h=0}ut.prototype.add=function(m,v,E,N,q){const X=m.toString();m=this.g[X],m||(m=this.g[X]=[],this.h++);const lt=xt(m,v,N,q);return lt>-1?(v=m[lt],E||(v.fa=!1)):(v=new ot(v,this.src,X,!!N,q),v.fa=E,m.push(v)),v};function _t(m,v){const E=v.type;if(E in m.g){var N=m.g[E],q=Array.prototype.indexOf.call(N,v,void 0),X;(X=q>=0)&&Array.prototype.splice.call(N,q,1),X&&(ft(v),m.g[E].length==0&&(delete m.g[E],m.h--))}}function xt(m,v,E,N){for(let q=0;q<m.length;++q){const X=m[q];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==N)return q}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Le={};function fe(m,v,E,N,q){if(Array.isArray(v)){for(let X=0;X<v.length;X++)fe(m,v[X],E,N,q);return null}return E=xl(E),m&&m[Tt]?m.J(v,E,h(N)?!!N.capture:!1,q):Kr(m,v,E,!1,N,q)}function Kr(m,v,E,N,q,X){if(!v)throw Error("Invalid event type");const lt=h(q)?!!q.capture:!!q;let Ct=Xr(m);if(Ct||(m[Ft]=Ct=new ut(m)),E=Ct.add(v,E,N,lt,X),E.proxy)return E;if(N=Za(),E.proxy=N,N.src=m,N.listener=E,m.addEventListener)j||(q=lt),q===void 0&&(q=!1),m.addEventListener(v.toString(),N,q);else if(m.attachEvent)m.attachEvent(Ei(v.toString()),N);else if(m.addListener&&m.removeListener)m.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Za(){function m(E){return v.call(m.src,m.listener,E)}const v=vl;return m}function Ja(m,v,E,N,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ja(m,v[X],E,N,q);else N=h(N)?!!N.capture:!!N,E=xl(E),m&&m[Tt]?(m=m.i,X=String(v).toString(),X in m.g&&(v=m.g[X],E=xt(v,E,N,q),E>-1&&(ft(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete m.g[X],m.h--)))):m&&(m=Xr(m))&&(v=m.g[v.toString()],m=-1,v&&(m=xt(v,E,N,q)),(E=m>-1?v[m]:null)&&to(E))}function to(m){if(typeof m!="number"&&m&&!m.da){var v=m.src;if(v&&v[Tt])_t(v.i,m);else{var E=m.type,N=m.proxy;v.removeEventListener?v.removeEventListener(E,N,m.capture):v.detachEvent?v.detachEvent(Ei(E),N):v.addListener&&v.removeListener&&v.removeListener(N),(E=Xr(v))?(_t(E,m),E.h==0&&(E.src=null,v[Ft]=null)):ft(m)}}}function Ei(m){return m in Le?Le[m]:Le[m]="on"+m}function vl(m,v){if(m.da)m=!0;else{v=new Mt(v,this);const E=m.listener,N=m.ha||m.src;m.fa&&to(m),m=E.call(N,v)}return m}function Xr(m){return m=m[Ft],m instanceof ut?m:null}var bl="__closure_events_fn_"+(Math.random()*1e9>>>0);function xl(m){return typeof m=="function"?m:(m[bl]||(m[bl]=function(v){return m.handleEvent(v)}),m[bl])}function Se(){L.call(this),this.i=new ut(this),this.M=this,this.G=null}_(Se,L),Se.prototype[Tt]=!0,Se.prototype.removeEventListener=function(m,v,E,N){Ja(this,m,v,E,N)};function je(m,v){var E,N=m.G;if(N)for(E=[];N;N=N.G)E.push(N);if(m=m.M,N=v.type||v,typeof v=="string")v=new k(v,m);else if(v instanceof k)v.target=v.target||m;else{var q=v;v=new k(N,m),ct(v,q)}q=!0;let X,lt;if(E)for(lt=E.length-1;lt>=0;lt--)X=v.g=E[lt],q=Hs(X,N,!0,v)&&q;if(X=v.g=m,q=Hs(X,N,!0,v)&&q,q=Hs(X,N,!1,v)&&q,E)for(lt=0;lt<E.length;lt++)X=v.g=E[lt],q=Hs(X,N,!1,v)&&q}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var m=this.i;for(const v in m.g){const E=m.g[v];for(let N=0;N<E.length;N++)ft(E[N]);delete m.g[v],m.h--}}this.G=null},Se.prototype.J=function(m,v,E,N){return this.i.add(String(m),v,!1,E,N)},Se.prototype.K=function(m,v,E,N){return this.i.add(String(m),v,!0,E,N)};function Hs(m,v,E,N){if(v=m.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let X=0;X<v.length;++X){const lt=v[X];if(lt&&!lt.da&&lt.capture==E){const Ct=lt.listener,be=lt.ha||lt.src;lt.fa&&_t(m.i,lt),q=Ct.call(be,N)!==!1&&q}}return q&&!N.defaultPrevented}function jd(m,v){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(m,v||0)}function Au(m){m.g=jd(()=>{m.g=null,m.i&&(m.i=!1,Au(m))},m.l);const v=m.h;m.h=null,m.m.apply(null,v)}class mn extends L{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(m){L.call(this),this.h=m,this.g={}}_(Qr,L);var wl=[];function El(m){bt(m.g,function(v,E){this.g.hasOwnProperty(E)&&to(v)},m),m.g={}}Qr.prototype.N=function(){Qr.Z.N.call(this),El(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qs=c.JSON.stringify,Ud=c.JSON.parse,Ru=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Cu(){}function Iu(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){k.call(this,"d")}_(Qe,k);function jn(){k.call(this,"c")}_(jn,k);var ve={},Nu=null;function eo(){return Nu=Nu||new Se}ve.Ia="serverreachability";function Du(m){k.call(this,ve.Ia,m)}_(Du,k);function Ti(m){const v=eo();je(v,new Du(v))}ve.STAT_EVENT="statevent";function Wr(m,v){k.call(this,ve.STAT_EVENT,m),this.stat=v}_(Wr,k);function Ae(m){const v=eo();je(v,new Wr(v,m))}ve.Ja="timingevent";function Si(m,v){k.call(this,ve.Ja,m),this.size=v}_(Si,k);function Ai(m,v){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},v)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function zd(m,v,E,N,q,X){m.info(function(){if(m.g)if(X){var lt="",Ct=X.split("&");for(let $t=0;$t<Ct.length;$t++){var be=Ct[$t].split("=");if(be.length>1){const de=be[0];be=be[1];const Fn=de.split("_");lt=Fn.length>=2&&Fn[1]=="type"?lt+(de+"="+be+"&"):lt+(de+"=redacted&")}}}else lt=null;else lt=X;return"XMLHTTP REQ ("+N+") [attempt "+q+"]: "+v+`
`+E+`
`+lt})}function Mu(m,v,E,N,q,X,lt){m.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+q+"]: "+v+`
`+E+`
`+X+" "+lt})}function Ri(m,v,E,N){m.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bd(m,E)+(N?" "+N:"")})}function Zr(m,v){m.info(function(){return"TIMEOUT: "+v})}ri.prototype.info=function(){};function Bd(m,v){if(!m.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(m=0;m<X.length;m++)if(Array.isArray(X[m])){var E=X[m];if(!(E.length<2)){var N=E[1];if(Array.isArray(N)&&!(N.length<1)){var q=N[0];if(q!="noop"&&q!="stop"&&q!="close")for(let lt=1;lt<N.length;lt++)N[lt]=""}}}}return qs(X)}catch{return v}}var Jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function ta(){}_(ta,Cu),ta.prototype.g=function(){return new XMLHttpRequest},Sl=new ta;function os(m){return encodeURIComponent(String(m))}function Ou(m){var v=1;m=m.split(":");const E=[];for(;v>0&&m.length;)E.push(m.shift()),v--;return m.length&&E.push(m.join(":")),E}function ai(m,v,E,N){this.j=m,this.i=v,this.l=E,this.S=N||1,this.V=new Qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Re={},Ye={};function Ci(m,v,E){m.M=1,m.A=ea(Ie(v)),m.u=E,m.R=!0,no(m,null)}function no(m,v){m.F=Date.now(),Ii(m),m.B=Ie(m.A);var E=m.B,N=m.S;Array.isArray(N)||(N=[String(N)]),ao(E.i,"t",N),m.C=0,E=m.j.L,m.h=new oi,m.g=Ku(m.j,E?v:null,!m.u),m.P>0&&(m.O=new mn(d(m.Y,m,m.g),m.P)),v=m.V,E=m.g,N=m.ba;var q="readystatechange";Array.isArray(q)||(q&&(wl[0]=q.toString()),q=wl);for(let X=0;X<q.length;X++){const lt=fe(E,q[X],N||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=m.J?U(m.J):{},m.u?(m.v||(m.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,v)):(m.v="GET",m.g.ea(m.B,m.v,null,v)),Ti(),zd(m.i,m.v,m.B,m.l,m.S,m.u)}ai.prototype.ba=function(m){m=m.target;const v=this.O;v&&ui(m)==3?v.j():this.Y(m)},ai.prototype.Y=function(m){try{if(m==this.g)t:{const Ct=ui(this.g),be=this.g.ya(),$t=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||Ct!=4||be==7||(be==8||$t<=0?Ti(3):Ti(2)),Ni(this);var v=this.g.ca();this.X=v;var E=Fd(this);if(this.o=v==200,Mu(this.i,this.v,this.B,this.l,this.S,Ct,v),this.o){if(this.U&&!this.L){e:{if(this.g){var N,q=this.g;if((N=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(N)){var X=N;break e}}X=null}if(m=X)Ri(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,m);else{this.o=!1,this.m=3,Ae(12),In(this),Un(this);break t}}if(this.R){m=!0;let de;for(;!this.K&&this.C<E.length;)if(de=Vu(this,E),de==Ye){Ct==4&&(this.m=4,Ae(14),m=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Re){this.m=4,Ae(15),Ri(this.i,this.l,E,"[Invalid Chunk]"),m=!1;break}else Ri(this.i,this.l,de,null),Di(this,de);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),m=!1),this.o=this.o&&m,!m)Ri(this.i,this.l,E,"[Invalid Chunked Response]"),In(this),Un(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),zl(lt),lt.P=!0,Ae(11))}}else Ri(this.i,this.l,E,null),Di(this,E);Ct==4&&In(this),this.o&&!this.K&&(Ct==4?qu(this.j,this):(this.o=!1,Ii(this)))}else cs(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),In(this),Un(this)}}}catch{}finally{}};function Fd(m){if(!ku(m))return m.g.la();const v=We(m.g);if(v==="")return"";let E="";const N=v.length,q=ui(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return In(m),Un(m),"";m.h.i=new c.TextDecoder}for(let X=0;X<N;X++)m.h.h=!0,E+=m.h.i.decode(v[X],{stream:!(q&&X==N-1)});return v.length=0,m.h.g+=E,m.C=0,m.h.g}function ku(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Vu(m,v){var E=m.C,N=v.indexOf(`
`,E);return N==-1?Ye:(E=Number(v.substring(E,N)),isNaN(E)?Re:(N+=1,N+E>v.length?Ye:(v=v.slice(N,N+E),m.C=N+E,v)))}ai.prototype.cancel=function(){this.K=!0,In(this)};function Ii(m){m.T=Date.now()+m.H,io(m,m.H)}function io(m,v){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ai(d(m.aa,m),v)}function Ni(m){m.D&&(c.clearTimeout(m.D),m.D=null)}ai.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Zr(this.i,this.B),this.M!=2&&(Ti(),Ae(17)),In(this),this.m=2,Un(this)):io(this,this.T-m)};function Un(m){m.j.I==0||m.K||qu(m.j,m)}function In(m){Ni(m);var v=m.O;v&&typeof v.dispose=="function"&&v.dispose(),m.O=null,El(m.V),m.g&&(v=m.g,m.g=null,v.abort(),v.dispose())}function Di(m,v){try{var E=m.j;if(E.I!=0&&(E.g==m||Oi(E.h,m))){if(!m.L&&Oi(E.h,m)&&E.I==3){try{var N=E.Ba.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var q=N;if(q[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<m.F)ho(E),Zs(E);else break t;la(E),Ae(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ai(d(E.Va,E),6e3));Mi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ui(E,11)}else if((m.L||E.g==m)&&ho(E),!O(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let $t=q[v];const de=$t[0];if(!(de<=E.K))if(E.K=de,$t=$t[1],E.I==2)if($t[0]=="c"){E.M=$t[1],E.ba=$t[2];const Fn=$t[3];Fn!=null&&(E.ka=Fn,E.j.info("VER="+E.ka));const zi=$t[4];zi!=null&&(E.za=zi,E.j.info("SVER="+E.za));const hi=$t[5];hi!=null&&typeof hi=="number"&&hi>0&&(N=1.5*hi,E.O=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const fi=m.g;if(fi){const ca=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var X=N.h;X.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Cl(X,X.h),X.h=null))}if(N.G){const fo=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(N.wa=fo,Wt(N.J,N.G,fo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-m.F,E.j.info("Handshake RTT: "+E.T+"ms")),N=E;var lt=m;if(N.na=$u(N,N.L?N.ba:null,N.W),lt.L){Il(N.h,lt);var Ct=lt,be=N.O;be&&(Ct.H=be),Ct.D&&(Ni(Ct),Ii(Ct)),N.g=lt}else Fu(N);E.i.length>0&&ji(E)}else $t[0]!="stop"&&$t[0]!="close"||Ui(E,7);else E.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ui(E,7):jl(E):$t[0]!="noop"&&E.l&&E.l.qa($t),E.A=0)}}Ti(4)}catch{}}var Ce=class{constructor(m,v){this.g=m,this.map=v}};function Al(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Mi(m){return m.h?1:m.g?m.g.size:0}function Oi(m,v){return m.h?m.h==v:m.g?m.g.has(v):!1}function Cl(m,v){m.g?m.g.add(v):m.h=v}function Il(m,v){m.h&&m.h==v?m.h=null:m.g&&m.g.has(v)&&m.g.delete(v)}Al.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Nl(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let v=m.i;for(const E of m.g.values())v=v.concat(E.G);return v}return T(m.i)}var Pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(m,v){if(m){m=m.split("&");for(let E=0;E<m.length;E++){const N=m[E].indexOf("=");let q,X=null;N>=0?(q=m[E].substring(0,N),X=m[E].substring(N+1)):q=m[E],v(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Nn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;m instanceof Nn?(this.l=m.l,$e(this,m.j),this.o=m.o,this.g=m.g,Gs(this,m.u),this.h=m.h,Dl(this,zu(m.i)),this.m=m.m):m&&(v=String(m).match(Pu))?(this.l=!1,$e(this,v[1]||"",!0),this.o=ki(v[2]||""),this.g=ki(v[3]||"",!0),Gs(this,v[4]),this.h=ki(v[5]||"",!0),Dl(this,v[6]||"",!0),this.m=ki(v[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}Nn.prototype.toString=function(){const m=[];var v=this.j;v&&m.push(na(v,ro,!0),":");var E=this.g;return(E||v=="file")&&(m.push("//"),(v=this.o)&&m.push(na(v,ro,!0),"@"),m.push(os(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&m.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(na(E,E.charAt(0)=="/"?Ml:Lu,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",na(E,ju)),m.join("")},Nn.prototype.resolve=function(m){const v=Ie(this);let E=!!m.j;E?$e(v,m.j):E=!!m.o,E?v.o=m.o:E=!!m.g,E?v.g=m.g:E=m.u!=null;var N=m.h;if(E)Gs(v,m.u);else if(E=!!m.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var q=v.h.lastIndexOf("/");q!=-1&&(N=v.h.slice(0,q+1)+N)}if(q=N,q==".."||q==".")N="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){N=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let lt=0;lt<q.length;){const Ct=q[lt++];Ct=="."?N&&lt==q.length&&X.push(""):Ct==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),N&&lt==q.length&&X.push("")):(X.push(Ct),N=!0)}N=X.join("/")}else N=q}return E?v.h=N:E=m.i.toString()!=="",E?Dl(v,zu(m.i)):E=!!m.m,E&&(v.m=m.m),v};function Ie(m){return new Nn(m)}function $e(m,v,E){m.j=E?ki(v,!0):v,m.j&&(m.j=m.j.replace(/:$/,""))}function Gs(m,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);m.u=v}else m.u=null}function Dl(m,v,E){v instanceof $s?(m.i=v,oo(m.i,m.l)):(E||(v=na(v,Ys)),m.i=new $s(v,m.l))}function Wt(m,v,E){m.i.set(v,E)}function ea(m){return Wt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ki(m,v){return m?v?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function na(m,v,E){return typeof m=="string"?(m=encodeURI(m).replace(v,_n),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function _n(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ro=/[#\/\?@]/g,Lu=/[#\?:]/g,Ml=/[#\?]/g,Ys=/[#\?@]/g,ju=/#/g;function $s(m,v){this.h=this.g=null,this.i=m||null,this.j=!!v}function vn(m){m.g||(m.g=new Map,m.h=0,m.i&&so(m.i,function(v,E){m.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=$s.prototype,n.add=function(m,v){vn(this),this.i=null,m=Ks(this,m);let E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(v),this.h+=1,this};function Uu(m,v){vn(m),v=Ks(m,v),m.g.has(v)&&(m.i=null,m.h-=m.g.get(v).length,m.g.delete(v))}function Ol(m,v){return vn(m),v=Ks(m,v),m.g.has(v)}n.forEach=function(m,v){vn(this),this.g.forEach(function(E,N){E.forEach(function(q){m.call(v,q,N,this)},this)},this)};function kl(m,v){vn(m);let E=[];if(typeof v=="string")Ol(m,v)&&(E=E.concat(m.g.get(Ks(m,v))));else for(m=Array.from(m.g.values()),v=0;v<m.length;v++)E=E.concat(m[v]);return E}n.set=function(m,v){return vn(this),this.i=null,m=Ks(this,m),Ol(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[v]),this.h+=1,this},n.get=function(m,v){return m?(m=kl(this,m),m.length>0?String(m[0]):v):v};function ao(m,v,E){Uu(m,v),E.length>0&&(m.i=null,m.g.set(Ks(m,v),T(E)),m.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var E=v[N];const q=os(E);E=kl(this,E);for(let X=0;X<E.length;X++){let lt=q;E[X]!==""&&(lt+="="+os(E[X])),m.push(lt)}}return this.i=m.join("&")};function zu(m){const v=new $s;return v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),v}function Ks(m,v){return v=String(v),m.j&&(v=v.toLowerCase()),v}function oo(m,v){v&&!m.j&&(vn(m),m.i=null,m.g.forEach(function(E,N){const q=N.toLowerCase();N!=q&&(Uu(this,N),ao(this,q,E))},m)),m.j=v}function li(m,v){const E=new ri;if(c.Image){const N=new Image;N.onload=y(zn,E,"TestLoadImage: loaded",!0,v,N),N.onerror=y(zn,E,"TestLoadImage: error",!1,v,N),N.onabort=y(zn,E,"TestLoadImage: abort",!1,v,N),N.ontimeout=y(zn,E,"TestLoadImage: timeout",!1,v,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=m}else v(!1)}function Vl(m,v){const E=new ri,N=new AbortController,q=setTimeout(()=>{N.abort(),zn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(m,{signal:N.signal}).then(X=>{clearTimeout(q),X.ok?zn(E,"TestPingServer: ok",!0,v):zn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),zn(E,"TestPingServer: error",!1,v)})}function zn(m,v,E,N,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),N(E)}catch{}}function Xs(){this.g=new Ru}function Vi(m){this.i=m.Sb||null,this.h=m.ab||!1}_(Vi,Cu),Vi.prototype.g=function(){return new ia(this.i,this.h)};function ia(m,v){Se.call(this),this.H=m,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ia,Se),n=ia.prototype,n.open=function(m,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=v,this.readyState=1,ci(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(v.body=m),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function lo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var v=m.value?m.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!m.done}))&&(this.response=this.responseText+=v)}m.done?Qs(this):ci(this),this.readyState==3&&lo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Qs(this))},n.Na=function(m){this.g&&(this.response=m,Qs(this))},n.ga=function(){this.g&&Qs(this)};function Qs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ci(m)}n.setRequestHeader=function(m,v){this.A.append(m,v)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=v.next();return m.join(`\r
`)};function ci(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Bn(m){let v="";return bt(m,function(E,N){v+=N,v+=":",v+=E,v+=`\r
`}),v}function sa(m,v,E){t:{for(N in E){var N=!1;break t}N=!0}N||(E=Bn(E),typeof m=="string"?E!=null&&os(E):Wt(m,v,E))}function ne(m){Se.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ne,Se);var Pi=/^https?$/i,Pl=["POST","PUT"];n=ne.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,v,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);v=v?v.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(v,String(m),!0),this.B=!1}catch(X){ra(this,X);return}if(m=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var q in N)E.set(q,N[q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const X of N.keys())E.set(X,N.get(X));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Pl,v,void 0)>=0)||N||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,lt]of E)this.g.setRequestHeader(X,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(X){ra(this,X)}};function ra(m,v){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=v,m.o=5,Ll(m),ls(m)}function Ll(m){m.A||(m.A=!0,je(m,"complete"),je(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,je(this,"complete"),je(this,"abort"),ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?aa(this):this.Xa())},n.Xa=function(){aa(this)};function aa(m){if(m.h&&typeof o<"u"){if(m.v&&ui(m)==4)setTimeout(m.Ca.bind(m),0);else if(je(m,"readystatechange"),ui(m)==4){m.h=!1;try{const X=m.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var N;if(N=X===0){let lt=String(m.D).match(Pu)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),N=!Pi.test(lt?lt.toLowerCase():"")}E=N}if(E)je(m,"complete"),je(m,"success");else{m.o=6;try{var q=ui(m)>2?m.g.statusText:""}catch{q=""}m.l=q+" ["+m.ca()+"]",Ll(m)}}finally{ls(m)}}}}function ls(m,v){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const E=m.g;m.g=null,v||je(m,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ui(m){return m.g?m.g.readyState:0}n.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var v=this.g.responseText;return m&&v.indexOf(m)==0&&(v=v.substring(m.length)),Ud(v)}};function We(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(m){const v={};m=(m.g&&ui(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<m.length;N++){if(O(m[N]))continue;var E=Ou(m[N]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[q]||[];v[q]=X,X.push(E)}Vt(v,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(m,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||v}function Ws(m){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,m),this.Za=Li("retryDelaySeedMs",1e4,m),this.Ta=Li("forwardChannelMaxRetries",2,m),this.va=Li("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(m&&m.concurrentRequestLimit),this.Ba=new Xs,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ws.prototype,n.ka=8,n.I=1,n.connect=function(m,v,E,N){Ae(0),this.W=m,this.H=v||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.J=$u(this,null,this.W),ji(this)};function jl(m){if(co(m),m.I==3){var v=m.V++,E=Ie(m.J);if(Wt(E,"SID",m.M),Wt(E,"RID",v),Wt(E,"TYPE","terminate"),oa(m,E),v=new ai(m,m.j,v),v.M=2,v.A=ea(Ie(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Ku(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ii(v)}Yu(m)}function Zs(m){m.g&&(zl(m),m.g.cancel(),m.g=null)}function co(m){Zs(m),m.v&&(c.clearTimeout(m.v),m.v=null),ho(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function ji(m){if(!Rl(m.h)&&!m.m){m.m=!0;var v=m.Ea;Q||R(),rt||(Q(),rt=!0),D.add(v,m),m.D=0}}function uo(m,v){return Mi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=v.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ai(d(m.Ea,m,v),Gu(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const q=new ai(this,this.j,m);let X=this.o;if(this.U&&(X?(X=U(X),ct(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Bu(this,q,v),E=Ie(this.J),Wt(E,"RID",m),Wt(E,"CVER",22),this.G&&Wt(E,"X-HTTP-Session-Id",this.G),oa(this,E),X&&(this.R?v="headers="+os(Bn(X))+"&"+v:this.u&&sa(E,this.u,X)),Cl(this.h,q),this.Ra&&Wt(E,"TYPE","init"),this.S?(Wt(E,"$req",v),Wt(E,"SID","null"),q.U=!0,Ci(q,E,null)):Ci(q,E,v),this.I=2}}else this.I==3&&(m?Ul(this,m):this.i.length==0||Rl(this.h)||Ul(this))};function Ul(m,v){var E;v?E=v.l:E=m.V++;const N=Ie(m.J);Wt(N,"SID",m.M),Wt(N,"RID",E),Wt(N,"AID",m.K),oa(m,N),m.u&&m.o&&sa(N,m.u,m.o),E=new ai(m,m.j,E,m.D+1),m.u===null&&(E.J=m.o),v&&(m.i=v.G.concat(m.i)),v=Bu(m,E,1e3),E.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Cl(m.h,E),Ci(E,N,v)}function oa(m,v){m.H&&bt(m.H,function(E,N){Wt(v,N,E)}),m.l&&bt({},function(E,N){Wt(v,N,E)})}function Bu(m,v,E){E=Math.min(m.i.length,E);const N=m.l?d(m.l.Ka,m.l,m):null;t:{var q=m.i;let Ct=-1;for(;;){const be=["count="+E];Ct==-1?E>0?(Ct=q[0].g,be.push("ofs="+Ct)):Ct=0:be.push("ofs="+Ct);let $t=!0;for(let de=0;de<E;de++){var X=q[de].g;const Fn=q[de].map;if(X-=Ct,X<0)Ct=Math.max(0,q[de].g-100),$t=!1;else try{X="req"+X+"_"||"";try{var lt=Fn instanceof Map?Fn:Object.entries(Fn);for(const[zi,hi]of lt){let fi=hi;h(hi)&&(fi=qs(hi)),be.push(X+zi+"="+encodeURIComponent(fi))}}catch(zi){throw be.push(X+"type="+encodeURIComponent("_badmap")),zi}}catch{N&&N(Fn)}}if($t){lt=be.join("&");break t}}lt=void 0}return m=m.i.splice(0,E),v.G=m,lt}function Fu(m){if(!m.g&&!m.v){m.Y=1;var v=m.Da;Q||R(),rt||(Q(),rt=!0),D.add(v,m),m.A=0}}function la(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ai(d(m.Da,m),Gu(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ai(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Zs(this),Hu(this))};function zl(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function Hu(m){m.g=new ai(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var v=Ie(m.na);Wt(v,"RID","rpc"),Wt(v,"SID",m.M),Wt(v,"AID",m.K),Wt(v,"CI",m.F?"0":"1"),!m.F&&m.ia&&Wt(v,"TO",m.ia),Wt(v,"TYPE","xmlhttp"),oa(m,v),m.u&&m.o&&sa(v,m.u,m.o),m.O&&(m.g.H=m.O);var E=m.g;m=m.ba,E.M=1,E.A=ea(Ie(v)),E.u=null,E.R=!0,no(E,m)}n.Va=function(){this.C!=null&&(this.C=null,Zs(this),la(this),Ae(19))};function ho(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function qu(m,v){var E=null;if(m.g==v){ho(m),zl(m),m.g=null;var N=2}else if(Oi(m.h,v))E=v.G,Il(m.h,v),N=1;else return;if(m.I!=0){if(v.o)if(N==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=m.D;N=eo(),je(N,new Si(N,E)),ji(m)}else Fu(m);else if(q=v.m,q==3||q==0&&v.X>0||!(N==1&&uo(m,v)||N==2&&la(m)))switch(E&&E.length>0&&(v=m.h,v.i=v.i.concat(E)),q){case 1:Ui(m,5);break;case 4:Ui(m,10);break;case 3:Ui(m,6);break;default:Ui(m,2)}}}function Gu(m,v){let E=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(E*=2),E*v}function Ui(m,v){if(m.j.info("Error code "+v),v==2){var E=d(m.bb,m),N=m.Ua;const q=!N;N=new Nn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$e(N,"https"),ea(N),q?li(N.toString(),E):Vl(N.toString(),E)}else Ae(2);m.I=0,m.l&&m.l.pa(v),Yu(m),co(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Yu(m){if(m.I=0,m.ja=[],m.l){const v=Nl(m.h);(v.length!=0||m.i.length!=0)&&(A(m.ja,v),A(m.ja,m.i),m.h.i.length=0,T(m.i),m.i.length=0),m.l.oa()}}function $u(m,v,E){var N=E instanceof Nn?Ie(E):new Nn(E);if(N.g!="")v&&(N.g=v+"."+N.g),Gs(N,N.u);else{var q=c.location;N=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const X=new Nn(null);N&&$e(X,N),v&&(X.g=v),q&&Gs(X,q),E&&(X.h=E),N=X}return E=m.G,v=m.wa,E&&v&&Wt(N,E,v),Wt(N,"VER",m.ka),oa(m,N),N}function Ku(m,v,E){if(v&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=m.Aa&&!m.ma?new ne(new Vi({ab:E})):new ne(m.ma),v.Fa(m.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}n=Xu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Js(){}Js.prototype.g=function(m,v){return new pn(m,v)};function pn(m,v){Se.call(this),this.g=new Ws(v),this.l=m,this.h=v&&v.messageUrlParams||null,m=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(m?m["X-WebChannel-Content-Type"]=v.messageContentType:m={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(m?m["X-WebChannel-Client-Profile"]=v.sa:m={"X-WebChannel-Client-Profile":v.sa}),this.g.U=m,(m=v&&v.Qb)&&!O(m)&&(this.g.u=m),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,m=this.h,m!==null&&v in m&&(m=this.h,v in m&&delete m[v])),this.j=new us(this)}_(pn,Se),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){jl(this.g)},pn.prototype.o=function(m){var v=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.v&&(E={},E.__data__=qs(m),m=E);v.i.push(new Ce(v.Ya++,m)),v.I==3&&ji(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,pn.Z.N.call(this)};function Qu(m){Qe.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var v=m.__sm__;if(v){t:{for(const E in v){m=E;break t}m=void 0}(this.i=m)&&(m=this.i,v=v!==null&&m in v?v[m]:void 0),this.data=v}else this.data=m}_(Qu,Qe);function Wu(){jn.call(this),this.status=1}_(Wu,jn);function us(m){this.g=m}_(us,Xu),us.prototype.ra=function(){je(this.g,"a")},us.prototype.qa=function(m){je(this.g,new Qu(m))},us.prototype.pa=function(m){je(this.g,new Wu)},us.prototype.oa=function(){je(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,NT=function(){return new Js},IT=function(){return eo()},CT=ve,wg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,Cf=Jr,Tl.COMPLETE="complete",RT=Tl,Iu.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Mc=Iu,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,AT=ne}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});const mx="@firebase/firestore",px="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Kg("@firebase/firestore");function Go(){return za.logLevel}function ht(n,...t){if(za.logLevel<=jt.DEBUG){const e=t.map(oy);za.debug(`Firestore (${hl}): ${n}`,...e)}}function js(n,...t){if(za.logLevel<=jt.ERROR){const e=t.map(oy);za.error(`Firestore (${hl}): ${n}`,...e)}}function nl(n,...t){if(za.logLevel<=jt.WARN){const e=t.map(oy);za.warn(`Firestore (${hl}): ${n}`,...e)}}function oy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,DT(n,i,e)}function DT(n,t,e){let i=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw js(i),new Error(i)}function Qt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||DT(t,r,i)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends rs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cn.UNAUTHENTICATED)))}shutdown(){}}class qN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class GN{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vs,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vs)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new MT(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class YN{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $N{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new YN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new gx(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=XN(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ut(n,t){return n<t?-1:n>t?1:0}function Eg(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Xp(r)===Xp(o)?Ut(r,o):Xp(r)?1:-1}return Ut(n.length,t.length)}const QN=55296,WN=57343;function Xp(n){const t=n.charCodeAt(0);return t>=QN&&t<=WN}function il(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="__name__";class Ki{constructor(t,e,i){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Et(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ki.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ki?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Ki.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ut(t.length,e.length)}static compareSegments(t,e){const i=Ki.isNumericId(t),r=Ki.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Ki.extractNumericId(t).compare(Ki.extractNumericId(e)):Eg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return kr.fromString(t.substring(4,t.length-2))}}class ue extends Ki{construct(t,e,i){return new ue(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new pt(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ki{construct(t,e,i){return new sn(t,e,i)}static isValidIdentifier(t){return ZN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yx}static keyField(){return new sn([yx])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new pt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new pt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new pt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(e)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ue.fromString(t))}static fromName(t){return new yt(ue.fromString(t).popFirst(5))}static empty(){return new yt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n,t,e){if(!e)throw new pt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function JN(n,t,e,i){if(t===!0&&i===!0)throw new pt(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function _x(n){if(!yt.isDocumentKey(n))throw new pt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vx(n){if(yt.isDocumentKey(n))throw new pt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function cy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function Us(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cy(n);throw new pt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,t){const e={typeString:n};return t&&(e.value=t),e}function vu(n,t){if(!kT(n))throw new pt(at.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new pt(at.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=-62135596800,xx=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*xx);return new he(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<bx)throw new pt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xx}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vu(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ve("string",he._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new he(0,0))}static max(){return new St(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=-1;function tD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new he(e+1,0):new he(e,i));return new jr(r,yt.empty(),t)}function eD(n){return new jr(n.readTime,n.key,Zc)}class jr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new jr(St.min(),yt.empty(),Zc)}static max(){return new jr(St.max(),yt.empty(),Zc)}}function nD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Ut(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==iD)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,i)=>{e(t)}))}static reject(t){return new st(((e,i)=>{i(t)}))}static waitFor(t){return new st(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next((r=>r?st.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new st(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((y=>{c[d]=y,++h,h===o&&i(c)}),(y=>r(y)))}}))}static doWhile(t,e){return new st(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function rD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function dl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=-1;function yd(n){return n==null}function qf(n){return n===0&&1/n==-1/0}function aD(n){return typeof n=="number"&&Number.isInteger(n)&&!qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="";function oD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=wx(t)),t=lD(n.get(e),t);return wx(t)}function lD(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case VT:e+="";break;default:e+=o}}return e}function wx(n){return n+VT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ya(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function PT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,e){this.comparator=t,this.root=e||nn.EMPTY}insert(t,e){return new pe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sf(this.root,t,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sf(this.root,t,this.comparator,!0)}}class sf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??nn.RED,this.left=r??nn.EMPTY,this.right=o??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new nn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return nn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new nn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Tx(this.data.getIterator())}getIteratorFrom(t){return new Tx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new qe(this.comparator);return e.data=t,e}}class Tx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new _i([])}unionWith(t){let e=new qe(sn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new _i(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return il(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LT("Invalid base64 string: "+o):o}})(t);return new rn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new rn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const cD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=cD.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zr(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="server_timestamp",UT="__type__",zT="__previous_value__",BT="__local_write_time__";function hy(n){return(n?.mapValue?.fields||{})[UT]?.stringValue===jT}function _d(n){const t=n.mapValue.fields[zT];return hy(t)?_d(t):t}function Jc(n){const t=Ur(n.mapValue.fields[BT].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,e,i,r,o,c,h,f,d,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y}}const Gf="(default)";class tu{constructor(t,e){this.projectId=t,this.database=e||Gf}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(t){return t instanceof tu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__type__",hD="__max__",rf={mapValue:{}},HT="__vector__",Yf="value";function Br(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hy(n)?4:dD(n)?9007199254740991:fD(n)?10:11:Et(28295,{value:n})}function ns(n,t){if(n===t)return!0;const e=Br(n);if(e!==Br(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Jc(n).isEqual(Jc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Ur(r.timestampValue),h=Ur(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return zr(r.bytesValue).isEqual(zr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Ee(r.geoPointValue.latitude)===Ee(o.geoPointValue.latitude)&&Ee(r.geoPointValue.longitude)===Ee(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Ee(r.integerValue)===Ee(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Ee(r.doubleValue),h=Ee(o.doubleValue);return c===h?qf(c)===qf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return il(n.arrayValue.values||[],t.arrayValue.values||[],ns);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Ex(c)!==Ex(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ns(c[f],h[f])))return!1;return!0})(n,t);default:return Et(52216,{left:n})}}function eu(n,t){return(n.values||[]).find((e=>ns(e,t)))!==void 0}function sl(n,t){if(n===t)return 0;const e=Br(n),i=Br(t);if(e!==i)return Ut(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Ee(o.integerValue||o.doubleValue),f=Ee(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return Sx(n.timestampValue,t.timestampValue);case 4:return Sx(Jc(n),Jc(t));case 5:return Eg(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=zr(o),f=zr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let d=0;d<h.length&&d<f.length;d++){const y=Ut(h[d],f[d]);if(y!==0)return y}return Ut(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Ut(Ee(o.latitude),Ee(c.latitude));return h!==0?h:Ut(Ee(o.longitude),Ee(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Ax(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},d=h[Yf]?.arrayValue,y=f[Yf]?.arrayValue,_=Ut(d?.values?.length||0,y?.values?.length||0);return _!==0?_:Ax(d,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===rf.mapValue&&c===rf.mapValue)return 0;if(o===rf.mapValue)return 1;if(c===rf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=c.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const b=Eg(f[_],y[_]);if(b!==0)return b;const T=sl(h[f[_]],d[y[_]]);if(T!==0)return T}return Ut(f.length,y.length)})(n.mapValue,t.mapValue);default:throw Et(23264,{he:e})}}function Sx(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const e=Ur(n),i=Ur(t),r=Ut(e.seconds,i.seconds);return r!==0?r:Ut(e.nanos,i.nanos)}function Ax(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=sl(e[r],i[r]);if(o)return o}return Ut(e.length,i.length)}function rl(n){return Tg(n)}function Tg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Ur(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return zr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Tg(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${Tg(e.fields[c])}`;return r+"}"})(n.mapValue):Et(61005,{value:n})}function If(n){switch(Br(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_d(n);return t?16+If(t):16;case 5:return 2*n.stringValue.length;case 6:return zr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+If(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Ya(i.fields,((o,c)=>{r+=o.length+If(c)})),r})(n.mapValue);default:throw Et(13486,{value:n})}}function Sg(n){return!!n&&"integerValue"in n}function fy(n){return!!n&&"arrayValue"in n}function Rx(n){return!!n&&"nullValue"in n}function Cx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nf(n){return!!n&&"mapValue"in n}function fD(n){return(n?.mapValue?.fields||{})[FT]?.stringValue===HT}function Bc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ya(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Bc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Bc(n.arrayValue.values[e]);return t}return{...n}}function dD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===hD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.value=t}static empty(){return new Zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Nf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bc(e)}setAll(t){let e=sn.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Bc(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Nf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ns(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Nf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ya(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Zn(Bc(this.value))}}function qT(n){const t=[];return Ya(n.fields,((e,i)=>{const r=new sn([e]);if(Nf(i)){const o=qT(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new _i(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new un(t,0,St.min(),St.min(),St.min(),Zn.empty(),0)}static newFoundDocument(t,e,i,r){return new un(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new un(t,2,e,St.min(),St.min(),Zn.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,St.min(),St.min(),Zn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,e){this.position=t,this.inclusive=e}}function Ix(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(c.referenceValue),e.key):i=sl(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Nx(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ns(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,e="asc"){this.field=t,this.dir=e}}function mD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{}class ze extends GT{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new gD(t,e,i):e==="array-contains"?new vD(t,i):e==="in"?new bD(t,i):e==="not-in"?new xD(t,i):e==="array-contains-any"?new wD(t,i):new ze(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new yD(t,i):new _D(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(sl(e,this.value)):e!==null&&Br(this.value)===Br(e)&&this.matchesComparison(sl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends GT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new is(t,e)}matches(t){return YT(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YT(n){return n.op==="and"}function $T(n){return pD(n)&&YT(n)}function pD(n){for(const t of n.filters)if(t instanceof is)return!1;return!0}function Ag(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+rl(n.value);if($T(n))return n.filters.map((t=>Ag(t))).join(",");{const t=n.filters.map((e=>Ag(e))).join(",");return`${n.op}(${t})`}}function KT(n,t){return n instanceof ze?(function(i,r){return r instanceof ze&&i.op===r.op&&i.field.isEqual(r.field)&&ns(i.value,r.value)})(n,t):n instanceof is?(function(i,r){return r instanceof is&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&KT(c,r.filters[h])),!0):!1})(n,t):void Et(19439)}function XT(n){return n instanceof ze?(function(e){return`${e.field.canonicalString()} ${e.op} ${rl(e.value)}`})(n):n instanceof is?(function(e){return e.op.toString()+" {"+e.getFilters().map(XT).join(" ,")+"}"})(n):"Filter"}class gD extends ze{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class yD extends ze{constructor(t,e){super(t,"in",e),this.keys=QT("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class _D extends ze{constructor(t,e){super(t,"not-in",e),this.keys=QT("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function QT(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class vD extends ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return fy(e)&&eu(e.arrayValue,this.value)}}class bD extends ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&eu(this.value.arrayValue,e)}}class xD extends ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!eu(this.value.arrayValue,e)}}class wD extends ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!fy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>eu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Dx(n,t=null,e=[],i=[],r=null,o=null,c=null){return new ED(n,t,e,i,r,o,c)}function dy(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Ag(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),yd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>rl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>rl(i))).join(",")),t.Te=e}return t.Te}function my(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!mD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!KT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Nx(n.startAt,t.startAt)&&Nx(n.endAt,t.endAt)}function Rg(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TD(n,t,e,i,r,o,c,h){return new vd(n,t,e,i,r,o,c,h)}function py(n){return new vd(n)}function Mx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SD(n){return n.collectionGroup!==null}function Fc(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new qe(sn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Kf(o,i))})),e.has(sn.keyField().canonicalString())||t.Ie.push(new Kf(sn.keyField(),i))}return t.Ie}function Wi(n){const t=Rt(n);return t.Ee||(t.Ee=AD(t,Fc(n))),t.Ee}function AD(n,t){if(n.limitType==="F")return Dx(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Kf(r.field,o)}));const e=n.endAt?new $f(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new $f(n.startAt.position,n.startAt.inclusive):null;return Dx(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Cg(n,t,e){return new vd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function bd(n,t){return my(Wi(n),Wi(t))&&n.limitType===t.limitType}function WT(n){return`${dy(Wi(n))}|lt:${n.limitType}`}function Yo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>XT(r))).join(", ")}]`),yd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>rl(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>rl(r))).join(",")),`Target(${i})`})(Wi(n))}; limitType=${n.limitType})`}function xd(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Fc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const d=Ix(c,h,f);return c.inclusive?d<=0:d<0})(i.startAt,Fc(i),r)||i.endAt&&!(function(c,h,f){const d=Ix(c,h,f);return c.inclusive?d>=0:d>0})(i.endAt,Fc(i),r))})(n,t)}function RD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZT(n){return(t,e)=>{let i=!1;for(const r of Fc(n)){const o=CD(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function CD(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),d=h.data.field(o);return f!==null&&d!==null?sl(f,d):Et(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ya(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return PT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new pe(yt.comparator);function zs(){return ID}const JT=new pe(yt.comparator);function Oc(...n){let t=JT;for(const e of n)t=t.insert(e.key,e);return t}function tS(n){let t=JT;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ma(){return Hc()}function eS(){return Hc()}function Hc(){return new $a((n=>n.toString()),((n,t)=>n.isEqual(t)))}const ND=new pe(yt.comparator),DD=new qe(yt.comparator);function zt(...n){let t=DD;for(const e of n)t=t.add(e);return t}const MD=new qe(Ut);function OD(){return MD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(t)?"-0":t}}function nS(n){return{integerValue:""+n}}function kD(n,t){return aD(t)?nS(t):gy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this._=void 0}}function VD(n,t,e){return n instanceof Xf?(function(r,o){const c={fields:{[UT]:{stringValue:jT},[BT]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&hy(o)&&(o=_d(o)),o&&(c.fields[zT]=o),{mapValue:c}})(e,t):n instanceof nu?sS(n,t):n instanceof iu?rS(n,t):(function(r,o){const c=iS(r,o),h=Ox(c)+Ox(r.Ae);return Sg(c)&&Sg(r.Ae)?nS(h):gy(r.serializer,h)})(n,t)}function PD(n,t,e){return n instanceof nu?sS(n,t):n instanceof iu?rS(n,t):e}function iS(n,t){return n instanceof Qf?(function(i){return Sg(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Xf extends wd{}class nu extends wd{constructor(t){super(),this.elements=t}}function sS(n,t){const e=aS(t);for(const i of n.elements)e.some((r=>ns(r,i)))||e.push(i);return{arrayValue:{values:e}}}class iu extends wd{constructor(t){super(),this.elements=t}}function rS(n,t){let e=aS(t);for(const i of n.elements)e=e.filter((r=>!ns(r,i)));return{arrayValue:{values:e}}}class Qf extends wd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Ox(n){return Ee(n.integerValue||n.doubleValue)}function aS(n){return fy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function LD(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof nu&&r instanceof nu||i instanceof iu&&r instanceof iu?il(i.elements,r.elements,ns):i instanceof Qf&&r instanceof Qf?ns(i.Ae,r.Ae):i instanceof Xf&&r instanceof Xf})(n.transform,t.transform)}class jD{constructor(t,e){this.version=t,this.transformResults=e}}class xi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Df(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Ed{}function oS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new yy(n.key,xi.none()):new bu(n.key,n.data,xi.none());{const e=n.data,i=Zn.empty();let r=new qe(sn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Ka(n.key,i,new _i(r.toArray()),xi.none())}}function UD(n,t,e){n instanceof bu?(function(r,o,c){const h=r.value.clone(),f=Vx(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Ka?(function(r,o,c){if(!Df(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Vx(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(lS(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function qc(n,t,e,i){return n instanceof bu?(function(o,c,h,f){if(!Df(o.precondition,c))return h;const d=o.value.clone(),y=Px(o.fieldTransforms,f,c);return d.setAll(y),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof Ka?(function(o,c,h,f){if(!Df(o.precondition,c))return h;const d=Px(o.fieldTransforms,f,c),y=c.data;return y.setAll(lS(o)),y.setAll(d),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,h){return Df(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function zD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=iS(i.transform,r||null);o!=null&&(e===null&&(e=Zn.empty()),e.set(i.field,o))}return e||null}function kx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&il(i,r,((o,c)=>LD(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class bu extends Ed{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ka extends Ed{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function lS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function Vx(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,PD(c,h,e[r]))}return i}function Px(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,VD(o,c,t))}return i}class yy extends Ed{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BD extends Ed{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&UD(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=qc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=qc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=eS();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=oS(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(St.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),zt())}isEqual(t){return this.batchId===t.batchId&&il(this.mutations,t.mutations,((e,i)=>kx(e,i)))&&il(this.baseMutations,t.baseMutations,((e,i)=>kx(e,i)))}}class _y{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return ND})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new _y(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,Ht;function GD(n){switch(n){case at.OK:return Et(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function cS(n){if(n===void 0)return js("GRPC error has no .code"),at.UNKNOWN;switch(n){case ke.OK:return at.OK;case ke.CANCELLED:return at.CANCELLED;case ke.UNKNOWN:return at.UNKNOWN;case ke.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case ke.INTERNAL:return at.INTERNAL;case ke.UNAVAILABLE:return at.UNAVAILABLE;case ke.UNAUTHENTICATED:return at.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case ke.NOT_FOUND:return at.NOT_FOUND;case ke.ALREADY_EXISTS:return at.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return at.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case ke.ABORTED:return at.ABORTED;case ke.OUT_OF_RANGE:return at.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return at.UNIMPLEMENTED;case ke.DATA_LOSS:return at.DATA_LOSS;default:return Et(39323,{code:n})}}(Ht=ke||(ke={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new kr([4294967295,4294967295],0);function Lx(n){const t=YD().encode(n),e=new ST;return e.update(t),new Uint8Array(e.digest())}function jx(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new kr([e,i],0),new kr([r,o],0)]}class vy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new kc(`Invalid padding: ${e}`);if(i<0)throw new kc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new kc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=kr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(kr.fromNumber(i)));return r.compare($D)===1&&(r=new kr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Lx(t),[i,r]=jx(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new vy(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=Lx(t),[i,r]=jx(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,xu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Td(St.min(),r,new pe(Ut),zs(),zt())}}class xu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new xu(i,e,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class uS{constructor(t,e){this.targetId=t,this.Ce=e}}class hS{constructor(t,e,i=rn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Ux{constructor(){this.ve=0,this.Fe=zx(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),e=zt(),i=zt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Et(38017,{changeType:o})}})),new xu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=zx()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KD{constructor(t){this.Ge=t,this.ze=new Map,this.je=zs(),this.Je=af(),this.He=af(),this.Ye=new pe(Ut)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(Rg(o))if(i===0){const c=new yt(o.path);this.et(e,c,un.newNoDocument(c,St.min()))}else Qt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=zr(i).toUint8Array()}catch(f){if(f instanceof LT)return nl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new vy(c,r,o)}catch(f){return nl(f instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Rg(h.target)){const f=new yt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,un.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=zt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new Td(t,e,this.Ye,this.je,i);return this.je=zs(),this.Je=af(),this.He=af(),this.Ye=new pe(Ut),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Ux,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new qe(Ut),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new qe(Ut),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ux),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function af(){return new pe(yt.comparator)}function zx(){return new pe(yt.comparator)}const XD={asc:"ASCENDING",desc:"DESCENDING"},QD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WD={and:"AND",or:"OR"};class ZD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ig(n,t){return n.useProto3Json||yd(t)?t:{value:t}}function Wf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function JD(n,t){return Wf(n,t.toTimestamp())}function Zi(n){return Qt(!!n,49232),St.fromTimestamp((function(e){const i=Ur(e);return new he(i.seconds,i.nanos)})(n))}function by(n,t){return Ng(n,t).canonicalString()}function Ng(n,t){const e=(function(r){return new ue(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function dS(n){const t=ue.fromString(n);return Qt(_S(t),10190,{key:t.toString()}),t}function Dg(n,t){return by(n.databaseId,t.path)}function Qp(n,t){const e=dS(t);if(e.get(1)!==n.databaseId.projectId)throw new pt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new pt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(pS(e))}function mS(n,t){return by(n.databaseId,t)}function tM(n){const t=dS(n);return t.length===4?ue.emptyPath():pS(t)}function Mg(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pS(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Bx(n,t,e){return{name:Dg(n,t),fields:e.value.mapValue.fields}}function eM(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Et(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(d){const y=d.code===void 0?at.UNKNOWN:cS(d.code);return new pt(y,d.message||"")})(c);e=new hS(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Qp(n,i.document.name),o=Zi(i.document.updateTime),c=i.document.createTime?Zi(i.document.createTime):St.min(),h=new Zn({mapValue:{fields:i.document.fields}}),f=un.newFoundDocument(r,o,c,h),d=i.targetIds||[],y=i.removedTargetIds||[];e=new Mf(d,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Qp(n,i.document),o=i.readTime?Zi(i.readTime):St.min(),c=un.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Mf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Qp(n,i.document),o=i.removedTargetIds||[];e=new Mf([],o,r,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new qD(r,o),h=i.targetId;e=new uS(h,c)}}return e}function nM(n,t){let e;if(t instanceof bu)e={update:Bx(n,t.key,t.value)};else if(t instanceof yy)e={delete:Dg(n,t.key)};else if(t instanceof Ka)e={update:Bx(n,t.key,t.data),updateMask:hM(t.fieldMask)};else{if(!(t instanceof BD))return Et(16599,{Vt:t.type});e={verify:Dg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Xf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof nu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Qf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Et(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:JD(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Et(27497)})(n,t.precondition)),e}function iM(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?Zi(r.updateTime):Zi(o);return c.isEqual(St.min())&&(c=Zi(o)),new jD(c,r.transformResults||[])})(e,t)))):[]}function sM(n,t){return{documents:[mS(n,t.path)]}}function rM(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=mS(n,r);const o=(function(d){if(d.length!==0)return yS(is.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((y=>(function(b){return{field:$o(b.field),direction:lM(b.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Ig(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function aM(n){let t=tM(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(_){const b=gS(_);return b instanceof is&&$T(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((b=>(function(A){return new Kf(Ko(A.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(e.orderBy));let h=null;e.limit&&(h=(function(_){let b;return b=typeof _=="object"?_.value:_,yd(b)?null:b})(e.limit));let f=null;e.startAt&&(f=(function(_){const b=!!_.before,T=_.values||[];return new $f(T,b)})(e.startAt));let d=null;return e.endAt&&(d=(function(_){const b=!_.before,T=_.values||[];return new $f(T,b)})(e.endAt)),TD(t,r,c,o,h,"F",f,d)}function oM(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function gS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ko(e.unaryFilter.field);return ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ko(e.unaryFilter.field);return ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ko(e.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ko(e.unaryFilter.field);return ze.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ze.create(Ko(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return is.create(e.compositeFilter.filters.map((i=>gS(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(e.compositeFilter.op))})(n):Et(30097,{filter:n})}function lM(n){return XD[n]}function cM(n){return QD[n]}function uM(n){return WD[n]}function $o(n){return{fieldPath:n.canonicalString()}}function Ko(n){return sn.fromServerFormat(n.fieldPath)}function yS(n){return n instanceof ze?(function(e){if(e.op==="=="){if(Cx(e.value))return{unaryFilter:{field:$o(e.field),op:"IS_NAN"}};if(Rx(e.value))return{unaryFilter:{field:$o(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Cx(e.value))return{unaryFilter:{field:$o(e.field),op:"IS_NOT_NAN"}};if(Rx(e.value))return{unaryFilter:{field:$o(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(e.field),op:cM(e.op),value:e.value}}})(n):n instanceof is?(function(e){const i=e.getFilters().map((r=>yS(r)));return i.length===1?i[0]:{compositeFilter:{op:uM(e.op),filters:i}}})(n):Et(54877,{filter:n})}function hM(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function _S(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,e,i,r,o=St.min(),c=St.min(),h=rn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t){this.yt=t}}function dM(n){const t=aM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Cg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.Cn=new pM}addToCollectionParentIndex(t,e){return this.Cn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(jr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(jr.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class pM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new qe(ue.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new qe(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(vS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="LruGarbageCollector",gM=1048576;function qx([n,t],[e,i]){const r=Ut(n,e);return r===0?Ut(t,i):r}class yM{constructor(t){this.Ir=t,this.buffer=new qe(qx),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();qx(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class _M{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(Hx,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){dl(e)?ht(Hx,"Ignoring IndexedDB error during garbage collection: ",e):await fl(e)}await this.Vr(3e5)}))}}class vM{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(gd.ce);const i=new yM(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(Fx)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fx):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,d;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,c=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(d=Date.now(),Go()<=jt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function bM(n,t){return new vM(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.changes=new $a((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&qc(i.mutation,r,_i.empty(),he.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,zt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=zt()){const r=Ma();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=Oc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Ma();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,zt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=zs();const c=Hc(),h=(function(){return Hc()})();return e.forEach(((f,d)=>{const y=i.get(d.key);r.has(d.key)&&(y===void 0||y.mutation instanceof Ka)?o=o.insert(d.key,d):y!==void 0?(c.set(d.key,y.mutation.getFieldMask()),qc(y.mutation,d,y.mutation.getFieldMask(),he.now())):c.set(d.key,_i.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,y)=>c.set(d,y))),e.forEach(((d,y)=>h.set(d,new wM(y,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Hc();let r=new pe(((c,h)=>c-h)),o=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let y=i.get(f)||_i.empty();y=h.applyToLocalView(d,y),i.set(f,y);const _=(r.get(h.batchId)||zt()).add(f);r=r.insert(h.batchId,_)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,y=f.value,_=eS();y.forEach((b=>{if(!o.has(b)){const T=oS(e.get(b),i.get(b));T!==null&&_.set(b,T),o=o.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,d,_))}return st.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):SD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(Ma());let h=Zc,f=o;return c.next((d=>st.forEach(d,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{f=f.insert(y,b)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,zt()))).next((y=>({batchId:h,changes:tS(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((i=>{let r=Oc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Oc();return this.indexManager.getCollectionParents(t,o).next((h=>st.forEach(h,(f=>{const d=(function(_,b){return new vd(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,d)=>{const y=d.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let h=Oc();return c.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&qc(y.mutation,d,_i.empty(),he.now()),xd(e,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return st.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Zi(r.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:dM(r.bundledQuery),readTime:Zi(r.readTime)}})(e)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.overlays=new pe(yt.comparator),this.qr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ma();return st.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=Ma(),o=e.length+1,c=new yt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new pe(((d,y)=>d-y));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let y=o.get(d.largestBatchId);y===null&&(y=Ma(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const h=Ma(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>h.set(d,y))),!(h.size()>=r)););return st.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new HD(e,i));let o=this.qr.get(e);o===void 0&&(o=zt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.Qr=new qe(Xe.$r),this.Ur=new qe(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Xe(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Xe(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new yt(new ue([])),i=new Xe(e,t),r=new Xe(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new ue([])),i=new Xe(e,t),r=new Xe(e,t+1);let o=zt();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Xe(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Xe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||Ut(t.Yr,e.Yr)}static Kr(t,e){return Ut(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Xe.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new FD(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Xe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?uy:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Xe(e,0),r=new Xe(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new qe(Ut);return e.forEach((r=>{const o=new Xe(r,0),c=new Xe(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),st.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const c=new Xe(new yt(o),0);let h=new qe(Ut);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(h=h.add(f.Yr)),!0)}),c),st.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return st.forEach(e.mutations,(r=>{const o=new Xe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Xe(e,0),r=this.Zr.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.ri=t,this.docs=(function(){return new pe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let i=zs();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():un.newInvalidDocument(r))})),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=zs();const c=e.path,h=new yt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||nD(eD(y),i)<=0||(r.has(y.key)||xd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Et(9500)}ii(t,e){return st.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new IM(this)}getSize(t){return st.resolve(this.size)}}class IM extends xM{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),st.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t){this.persistence=t,this.si=new $a((e=>dy(e)),my),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new xy,this.targetCount=0,this.ai=al.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),st.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new al(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Pr(e),st.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),st.waitFor(o).next((()=>r))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),st.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,e){this.ui={},this.overlays={},this.ci=new gd(0),this.li=!1,this.li=!0,this.hi=new AM,this.referenceDelegate=t(this),this.Pi=new NM(this),this.indexManager=new mM,this.remoteDocumentCache=(function(r){return new CM(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new fM(e),this.Ii=new TM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new SM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new RM(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new DM(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return st.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class DM extends sD{constructor(t){super(),this.currentSequenceNumber=t}}class wy{constructor(t){this.persistence=t,this.Ri=new xy,this.Vi=null}static mi(t){return new wy(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(i=>{const r=yt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,St.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Zf{constructor(t,e){this.persistence=t,this.pi=new $a((i=>oD(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=bM(this,e)}static mi(t,e){return new Zf(t,e)}Ei(){}di(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return st.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?st.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,St.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=If(t.data.value)),e}br(t,e,i){return st.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return st.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=zt(),r=zt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ey(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lC()?8:rD(dn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new MM;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Go()<=jt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Yo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Go()<=jt.DEBUG&&ht("QueryEngine","Query:",Yo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Go()<=jt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Yo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wi(e))):st.resolve())}ys(t,e){if(Mx(e))return st.resolve(null);let i=Wi(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Cg(e,null,"F"),i=Wi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=zt(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,h);return this.Cs(e,d,c,f.readTime)?this.ys(t,Cg(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,r){return Mx(e)||r.isEqual(St.min())?st.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?st.resolve(null):(Go()<=jt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yo(e)),this.vs(t,c,e,tD(r,Zc)).next((h=>h)))}))}Ds(t,e){let i=new qe(ZT(t));return e.forEach(((r,o)=>{xd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Go()<=jt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Yo(e)),this.ps.getDocumentsMatchingQuery(t,e,jr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LocalStore",kM=3e8;class VM{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new pe(Ut),this.xs=new $a((o=>dy(o)),my),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function PM(n,t,e,i){return new VM(n,t,e,i)}async function xS(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=zt();for(const d of r){c.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){h.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function LM(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,y){const _=d.batch,b=_.keys();let T=st.resolve();return b.forEach((A=>{T=T.next((()=>y.getEntry(f,A))).next((C=>{const I=d.docVersions.get(A);Qt(I!==null,48541),C.version.compareTo(I)<0&&(_.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),y.addEntry(C)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=zt();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function wS(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function jM(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((y,_)=>{const b=r.get(_);if(!b)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,_))));let T=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?T=T.withResumeToken(rn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,i)),r=r.insert(_,T),(function(C,I,V){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=kM?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(b,T,y)&&h.push(e.Pi.updateTargetData(o,T))}));let f=zs(),d=zt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(UM(o,c,t.documentUpdates).next((y=>{f=y.ks,d=y.qs}))),!i.isEqual(St.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return st.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function UM(n,t,e){let i=zt(),r=zt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=zs();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(St.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ht(Ty,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function zM(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=uy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function BM(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,st.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new Rr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Og(n,t,e){const i=Rt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!dl(c))throw c;ht(Ty,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function Gx(n,t,e){const i=Rt(n);let r=St.min(),o=zt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,y){const _=Rt(f),b=_.xs.get(y);return b!==void 0?st.resolve(_.Ms.get(b)):_.Pi.getTargetData(d,y)})(i,c,Wi(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:St.min(),e?o:zt()))).next((h=>(FM(i,RD(t),h),{documents:h,Qs:o})))))}function FM(n,t,e){let i=n.Os.get(t)||St.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class Yx{constructor(){this.activeTargetIds=OD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HM{constructor(){this.Mo=new Yx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Yx,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="ConnectivityMonitor";class Kx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht($x,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht($x,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function kg(){return of===null?of=(function(){return 268435456+Math.round(2147483648*Math.random())})():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="RestConnection",GM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Gf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=kg(),h=this.zo(t,e.toUriEncodedString());ht(Wp,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:d}=new URL(h),y=qa(d);return this.Jo(t,h,f,i,y).then((_=>(ht(Wp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw nl(Wp,`RPC '${t}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=GM[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class KM extends YM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=kg();return new Promise(((h,f)=>{const d=new AT;d.setWithCredentials(!0),d.listenOnce(RT.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Cf.NO_ERROR:const _=d.getResponseJson();ht(on,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),h(_);break;case Cf.TIMEOUT:ht(on,`RPC '${t}' ${c} timed out`),f(new pt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const b=d.getStatus();if(ht(on,`RPC '${t}' ${c} failed with status:`,b,"response text:",d.getResponseText()),b>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T?.error;if(A&&A.status&&A.message){const C=(function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(B)>=0?B:at.UNKNOWN})(A.status);f(new pt(C,A.message))}else f(new pt(at.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new pt(at.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ht(on,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(r);ht(on,`RPC '${t}' ${c} sending request:`,r),d.send(e,"POST",y,i,15)}))}T_(t,e,i){const r=kg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=NT(),h=IT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ht(on,`Creating RPC '${t}' stream ${r}: ${y}`,f);const _=c.createWebChannel(y,f);this.I_(_);let b=!1,T=!1;const A=new $M({Yo:I=>{T?ht(on,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(b||(ht(on,`Opening RPC '${t}' stream ${r} transport.`),_.open(),b=!0),ht(on,`RPC '${t}' stream ${r} sending:`,I),_.send(I))},Zo:()=>_.close()}),C=(I,V,B)=>{I.listen(V,(H=>{try{B(H)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return C(_,Mc.EventType.OPEN,(()=>{T||(ht(on,`RPC '${t}' stream ${r} transport opened.`),A.o_())})),C(_,Mc.EventType.CLOSE,(()=>{T||(T=!0,ht(on,`RPC '${t}' stream ${r} transport closed`),A.a_(),this.E_(_))})),C(_,Mc.EventType.ERROR,(I=>{T||(T=!0,nl(on,`RPC '${t}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),A.a_(new pt(at.UNAVAILABLE,"The operation could not be completed")))})),C(_,Mc.EventType.MESSAGE,(I=>{if(!T){const V=I.data[0];Qt(!!V,16349);const B=V,H=B?.error||B[0]?.error;if(H){ht(on,`RPC '${t}' stream ${r} received error:`,H);const Z=H.status;let Q=(function(R){const M=ke[R];if(M!==void 0)return cS(M)})(Z),rt=H.message;Q===void 0&&(Q=at.INTERNAL,rt="Unknown error status: "+Z+" with message "+H.message),T=!0,A.a_(new pt(Q,rt)),_.close()}else ht(on,`RPC '${t}' stream ${r} received:`,V),A.u_(V)}})),C(h,CT.STAT_EVENT,(I=>{I.stat===wg.PROXY?ht(on,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===wg.NOPROXY&&ht(on,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(n){return new ZD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="PersistentStream";class TS{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ES(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?(js(e.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new pt(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(Xx,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ht(Xx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XM extends TS{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=eM(this.serializer,t),i=(function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Zi(c.readTime):St.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Mg(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=Rg(f)?{documents:sM(o,f)}:{query:rM(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=fS(o,c.resumeToken);const d=Ig(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(St.min())>0){h.readTime=Wf(o,c.snapshotVersion.toTimestamp());const d=Ig(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const i=oM(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Mg(this.serializer),e.removeTarget=t,this.q_(e)}}class QM extends TS{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=iM(t.writeResults,t.commitTime),i=Zi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Mg(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>nM(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{}class ZM extends WM{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new pt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,Ng(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(at.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,Ng(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(at.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class JM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(js(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class tO{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Xa(this)&&(ht(Ba,"Restarting streams for network reachability change."),await(async function(f){const d=Rt(f);d.Ea.add(4),await wu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ad(d)})(this))}))})),this.Ra=new JM(i,r)}}async function Ad(n){if(Xa(n))for(const t of n.da)await t(!0)}async function wu(n){for(const t of n.da)await t(!1)}function SS(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Cy(e)?Ry(e):ml(e).O_()&&Ay(e,t))}function Sy(n,t){const e=Rt(n),i=ml(e);e.Ia.delete(t),i.O_()&&AS(e,t),e.Ia.size===0&&(i.O_()?i.L_():Xa(e)&&e.Ra.set("Unknown"))}function Ay(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ml(n).Y_(t)}function AS(n,t){n.Va.Ue(t),ml(n).Z_(t)}function Ry(n){n.Va=new KD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ml(n).start(),n.Ra.ua()}function Cy(n){return Xa(n)&&!ml(n).x_()&&n.Ia.size>0}function Xa(n){return Rt(n).Ea.size===0}function RS(n){n.Va=void 0}async function eO(n){n.Ra.set("Online")}async function nO(n){n.Ia.forEach(((t,e)=>{Ay(n,t)}))}async function iO(n,t){RS(n),Cy(n)?(n.Ra.ha(t),Ry(n)):n.Ra.set("Unknown")}async function sO(n,t,e){if(n.Ra.set("Online"),t instanceof hS&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ht(Ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Jf(n,i)}else if(t instanceof Mf?n.Va.Ze(t):t instanceof uS?n.Va.st(t):n.Va.tt(t),!e.isEqual(St.min()))try{const i=await wS(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),AS(o,f);const _=new Rr(y.target,f,d,y.sequenceNumber);Ay(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ht(Ba,"Failed to raise snapshot:",i),await Jf(n,i)}}async function Jf(n,t,e){if(!dl(t))throw t;n.Ea.add(1),await wu(n),n.Ra.set("Offline"),e||(e=()=>wS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(Ba,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Ad(n)}))}function CS(n,t){return t().catch((e=>Jf(n,e,t)))}async function Rd(n){const t=Rt(n),e=Fr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:uy;for(;rO(t);)try{const r=await zM(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,aO(t,r)}catch(r){await Jf(t,r)}IS(t)&&NS(t)}function rO(n){return Xa(n)&&n.Ta.length<10}function aO(n,t){n.Ta.push(t);const e=Fr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function IS(n){return Xa(n)&&!Fr(n).x_()&&n.Ta.length>0}function NS(n){Fr(n).start()}async function oO(n){Fr(n).ra()}async function lO(n){const t=Fr(n);for(const e of n.Ta)t.ea(e.mutations)}async function cO(n,t,e){const i=n.Ta.shift(),r=_y.from(i,t,e);await CS(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Rd(n)}async function uO(n,t){t&&Fr(n).X_&&await(async function(i,r){if((function(c){return GD(c)&&c!==at.ABORTED})(r.code)){const o=i.Ta.shift();Fr(i).B_(),await CS(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Rd(i)}})(n,t),IS(n)&&NS(n)}async function Qx(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ht(Ba,"RemoteStore received new credentials");const i=Xa(e);e.Ea.add(3),await wu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Ad(e)}async function hO(n,t){const e=Rt(n);t?(e.Ea.delete(2),await Ad(e)):t||(e.Ea.add(2),await wu(e),e.Ra.set("Unknown"))}function ml(n){return n.ma||(n.ma=(function(e,i,r){const o=Rt(e);return o.sa(),new XM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:eO.bind(null,n),t_:nO.bind(null,n),r_:iO.bind(null,n),H_:sO.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Cy(n)?Ry(n):n.Ra.set("Unknown")):(await n.ma.stop(),RS(n))}))),n.ma}function Fr(n){return n.fa||(n.fa=(function(e,i,r){const o=Rt(e);return o.sa(),new QM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:oO.bind(null,n),r_:uO.bind(null,n),ta:lO.bind(null,n),na:cO.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Rd(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(Ba,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new Iy(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ny(n,t){if(js("AsyncQueue",`${t}: ${n}`),dl(n))return new pt(at.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static emptySet(t){return new Zo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=Oc(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Zo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Zo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.ga=new pe(yt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class ol{constructor(t,e,i,r,o,c,h,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new ol(t,e,Zo.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class dO{constructor(){this.queries=Zx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=Zx(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new pt(at.ABORTED,"Firestore shutting down"))}}function Zx(){return new $a((n=>WT(n)),bd)}async function DS(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new fO,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=Ny(c,`Initialization of query '${Yo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Dy(e)}async function MS(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function mO(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&Dy(e)}function pO(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function Dy(n){n.Ca.forEach((t=>{t.next()}))}var Vg,Jx;(Jx=Vg||(Vg={})).Ma="default",Jx.Cache="cache";class OS{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new ol(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=ol.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.key=t}}class VS{constructor(t){this.key=t}}class gO{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=ZT(t),this.tu=new Zo(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new Wx,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((y,_)=>{const b=r.get(y),T=xd(this.query,_)?_:null,A=!!b&&this.mutatedKeys.has(b.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let I=!1;b&&T?b.data.isEqual(T.data)?A!==C&&(i.track({type:3,doc:T}),I=!0):this.su(b,T)||(i.track({type:2,doc:T}),I=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(h=!0)):!b&&T?(i.track({type:0,doc:T}),I=!0):b&&!T&&(i.track({type:1,doc:b}),I=!0,(f||d)&&(h=!0)),I&&(T?(c=c.add(T),o=C?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(T,A){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:I})}};return C(T)-C(A)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,c.length!==0||d?{snapshot:new ol(this.query,t.tu,o,c,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new VS(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new kS(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=zt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const My="SyncEngine";class yO{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class _O{constructor(t){this.key=t,this.hu=!1}}class vO{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new $a((h=>WT(h)),bd),this.Iu=new Map,this.Eu=new Set,this.du=new pe(yt.comparator),this.Au=new Map,this.Ru=new xy,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bO(n,t,e=!0){const i=BS(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await PS(i,t,e,!0),r}async function xO(n,t){const e=BS(n);await PS(e,t,!0,!1)}async function PS(n,t,e,i){const r=await BM(n.localStore,Wi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await wO(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&SS(n.remoteStore,r),h}async function wO(n,t,e,i,r){n.pu=(_,b,T)=>(async function(C,I,V,B){let H=I.view.ru(V);H.Cs&&(H=await Gx(C.localStore,I.query,!1).then((({documents:D})=>I.view.ru(D,H))));const Z=B&&B.targetChanges.get(I.targetId),Q=B&&B.targetMismatches.get(I.targetId)!=null,rt=I.view.applyChanges(H,C.isPrimaryClient,Z,Q);return ew(C,I.targetId,rt.au),rt.snapshot})(n,_,b,T);const o=await Gx(n.localStore,t,!0),c=new gO(t,o.Qs),h=c.ru(o.documents),f=xu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=c.applyChanges(h,n.isPrimaryClient,f);ew(n,e,d.au);const y=new yO(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function EO(n,t,e){const i=Rt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!bd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Og(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&Sy(i.remoteStore,r.targetId),Pg(i,r.targetId)})).catch(fl)):(Pg(i,r.targetId),await Og(i.localStore,r.targetId,!0))}async function TO(n,t){const e=Rt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Sy(e.remoteStore,i.targetId))}async function SO(n,t,e){const i=MO(n);try{const r=await(function(c,h){const f=Rt(c),d=he.now(),y=h.reduce(((T,A)=>T.add(A.key)),zt());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let A=zs(),C=zt();return f.Ns.getEntries(T,y).next((I=>{A=I,A.forEach(((V,B)=>{B.isValidDocument()||(C=C.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,A))).next((I=>{_=I;const V=[];for(const B of h){const H=zD(B,_.get(B.key).overlayedDocument);H!=null&&V.push(new Ka(B.key,H,qT(H.value.mapValue),xi.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,V,h)})).next((I=>{b=I;const V=I.applyToLocalDocumentSet(_,C);return f.documentOverlayCache.saveOverlays(T,I.batchId,V)}))})).then((()=>({batchId:b.batchId,changes:tS(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let d=c.Vu[c.currentUser.toKey()];d||(d=new pe(Ut)),d=d.insert(h,f),c.Vu[c.currentUser.toKey()]=d})(i,r.batchId,e),await Eu(i,r.changes),await Rd(i.remoteStore)}catch(r){const o=Ny(r,"Failed to persist write");e.reject(o)}}async function LS(n,t){const e=Rt(n);try{const i=await jM(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Qt(c.hu,14607):r.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await Eu(e,i,t)}catch(i){await fl(i)}}function tw(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Rt(c);f.onlineState=h;let d=!1;f.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(h)&&(d=!0)})),d&&Dy(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function AO(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new pe(yt.comparator);c=c.insert(o,un.newNoDocument(o,St.min()));const h=zt().add(o),f=new Td(St.min(),new Map,new pe(Ut),c,h);await LS(i,f),i.du=i.du.remove(o),i.Au.delete(t),Oy(i)}else await Og(i.localStore,t,!1).then((()=>Pg(i,t,e))).catch(fl)}async function RO(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await LM(e.localStore,t);US(e,i,null),jS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Eu(e,r)}catch(r){await fl(r)}}async function CO(n,t,e){const i=Rt(n);try{const r=await(function(c,h){const f=Rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,h).next((_=>(Qt(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(i.localStore,t);US(i,t,e),jS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Eu(i,r)}catch(r){await fl(r)}}function jS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function US(n,t,e){const i=Rt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Pg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||zS(n,i)}))}function zS(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Sy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Oy(n))}function ew(n,t,e){for(const i of e)i instanceof kS?(n.Ru.addReference(i.key,t),IO(n,i)):i instanceof VS?(ht(My,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||zS(n,i.key)):Et(19791,{wu:i})}function IO(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ht(My,"New document in limbo: "+e),n.Eu.add(i),Oy(n))}function Oy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(ue.fromString(t)),i=n.fu.next();n.Au.set(i,new _O(e)),n.du=n.du.insert(e,i),SS(n.remoteStore,new Rr(Wi(py(e.path)),i,"TargetPurposeLimboResolution",gd.ce))}}async function Eu(n,t,e){const i=Rt(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const y=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){r.push(d);const y=Ey.As(f.targetId,d);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,d){const y=Rt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(d,(b=>st.forEach(b.Es,(T=>y.persistence.referenceDelegate.addReference(_,b.targetId,T))).next((()=>st.forEach(b.ds,(T=>y.persistence.referenceDelegate.removeReference(_,b.targetId,T)))))))))}catch(_){if(!dl(_))throw _;ht(Ty,"Failed to update sequence numbers: "+_)}for(const _ of d){const b=_.targetId;if(!_.fromCache){const T=y.Ms.get(b),A=T.snapshotVersion,C=T.withLastLimboFreeSnapshotVersion(A);y.Ms=y.Ms.insert(b,C)}}})(i.localStore,o))}async function NO(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ht(My,"User change. New user:",t.toKey());const i=await xS(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new pt(at.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Eu(e,i.Ls)}}function DO(n,t){const e=Rt(n),i=e.Au.get(t);if(i&&i.hu)return zt().add(i.key);{let r=zt();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function BS(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AO.bind(null,t),t.Pu.H_=mO.bind(null,t.eventManager),t.Pu.yu=pO.bind(null,t.eventManager),t}function MO(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CO.bind(null,t),t}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return PM(this.persistence,new OM,t.initialUser,this.serializer)}Cu(t){return new bS(wy.mi,this.serializer)}Du(t){return new HM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class OO extends td{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof Zf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new _M(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new bS((i=>Zf.mi(i,e)),this.serializer)}}class Lg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=NO.bind(null,this.syncEngine),await hO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new dO})()}createDatastore(t){const e=Sd(t.databaseInfo.databaseId),i=(function(o){return new KM(o)})(t.databaseInfo);return(function(o,c,h,f){return new ZM(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new tO(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>tw(this.syncEngine,e,0)),(function(){return Kx.v()?new Kx:new qM})())}createSyncEngine(t,e){return(function(r,o,c,h,f,d,y){const _=new vO(r,o,c,h,f,d);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Rt(e);ht(Ba,"RemoteStore shutting down."),i.Ea.add(5),await wu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):js("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="FirestoreClient";class kO{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=cn.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ht(Hr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ht(Hr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Ny(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Jp(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Hr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await xS(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function nw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await VO(n);ht(Hr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Qx(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>Qx(t.remoteStore,r))),n._onlineComponents=t}async function VO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Hr,"Using user provided OfflineComponentProvider");try{await Jp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===at.FAILED_PRECONDITION||r.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;nl("Error using user provided cache. Falling back to memory cache: "+e),await Jp(n,new td)}}else ht(Hr,"Using default OfflineComponentProvider"),await Jp(n,new OO(void 0));return n._offlineComponents}async function HS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Hr,"Using user provided OnlineComponentProvider"),await nw(n,n._uninitializedComponentsProvider._online)):(ht(Hr,"Using default OnlineComponentProvider"),await nw(n,new Lg))),n._onlineComponents}function PO(n){return HS(n).then((t=>t.syncEngine))}async function qS(n){const t=await HS(n),e=t.eventManager;return e.onListen=bO.bind(null,t.syncEngine),e.onUnlisten=EO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=xO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=TO.bind(null,t.syncEngine),e}function LO(n,t,e={}){const i=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,d){const y=new FS({next:b=>{y.Nu(),c.enqueueAndForget((()=>MS(o,_)));const T=b.docs.has(h);!T&&b.fromCache?d.reject(new pt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&f&&f.source==="server"?d.reject(new pt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new OS(py(h.path),y,{includeMetadataChanges:!0,qa:!0});return DS(o,_)})(await qS(n),n.asyncQueue,t,e,i))),i.promise}function jO(n,t,e={}){const i=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,d){const y=new FS({next:b=>{y.Nu(),c.enqueueAndForget((()=>MS(o,_))),b.fromCache&&f.source==="server"?d.reject(new pt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new OS(h,y,{includeMetadataChanges:!0,qa:!0});return DS(o,_)})(await qS(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firestore.googleapis.com",sw=!0;class rw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YS,this.ssl=sw}else this.host=t.host,this.ssl=t.ssl??sw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gM)throw new pt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GS(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cd{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new HN;switch(i.type){case"firstParty":return new $N(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=iw.get(e);i&&(ht("ComponentProvider","Removing Datastore"),iw.delete(e),i.terminate())})(this),Promise.resolve()}}function UO(n,t,e,i={}){n=Us(n,Cd);const r=qa(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Yg(`https://${h}`),$g("Firestore",!0)),o.host!==YS&&o.host!==h&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!Pa(f,c)&&(n._setSettings(f),i.mockUserToken)){let d,y;if(typeof i.mockUserToken=="string")d=i.mockUserToken,y=cn.MOCK_USER;else{d=UE(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new pt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new cn(_)}n._authCredentials=new qN(new MT(d,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Id(this.firestore,t,this._query)}}class Fe{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(vu(e,Fe._jsonSchema))return new Fe(t,i||null,new yt(ue.fromString(e.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:Ve("string",Fe._jsonSchemaVersion),referencePath:Ve("string")};class Vr extends Id{constructor(t,e,i){super(t,e,py(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new yt(t))}withConverter(t){return new Vr(this.firestore,t,this._path)}}function wi(n,t,...e){if(n=yn(n),OT("collection","path",t),n instanceof Cd){const i=ue.fromString(t,...e);return vx(i),new Vr(n,null,i)}{if(!(n instanceof Fe||n instanceof Vr))throw new pt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return vx(i),new Vr(n.firestore,null,i)}}function Bs(n,t,...e){if(n=yn(n),arguments.length===1&&(t=ly.newId()),OT("doc","path",t),n instanceof Cd){const i=ue.fromString(t,...e);return _x(i),new Fe(n,null,new yt(i))}{if(!(n instanceof Fe||n instanceof Vr))throw new pt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return _x(i),new Fe(n.firestore,n instanceof Vr?n.converter:null,new yt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="AsyncQueue";class ow{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ES(this,"async_queue_retry"),this._c=()=>{const i=Zp();i&&ht(aw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Zp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Zp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!dl(t))throw t;ht(aw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,js("INTERNAL UNHANDLED ERROR: ",lw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=Iy.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Et(47125,{Pc:lw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function lw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class pl extends Cd{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new ow,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ow(t),this._firestoreClient=void 0,await t}}}function zO(n,t){const e=typeof n=="object"?n:Qg(),i=typeof n=="string"?n:Gf,r=fd(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=PE("firestore");o&&UO(r,...o)}return r}function ky(n){if(n._terminated)throw new pt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BO(n),n._firestoreClient}function BO(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new uD(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,GS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new kO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(rn.fromBase64String(t))}catch(e){throw new pt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jn(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vu(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Ve("string",Jn._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new pt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new pt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(t){if(vu(t,Ji._jsonSchema))return new Ji(t.latitude,t.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Ve("string",Ji._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vu(t,ts._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ts(t.vectorValues);throw new pt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ts._jsonSchemaVersion="firestore/vectorValue/1.0",ts._jsonSchema={type:Ve("string",ts._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=/^__.*__$/;class HO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ka(t,this.data,this.fieldMask,e,this.fieldTransforms):new bu(t,this.data,e,this.fieldTransforms)}}function KS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:n})}}class Py{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Py({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ed(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(KS(this.Ac)&&FO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class qO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Sd(t)}Cc(t,e,i,r=!1){return new Py({Ac:t,methodName:e,Dc:i,path:sn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XS(n){const t=n._freezeSettings(),e=Sd(n._databaseId);return new qO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function QS(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);t1("Data must be an object, but it was:",c,i);const h=ZS(i,c);let f,d;if(o.merge)f=new _i(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const b=GO(t,_,e);if(!c.contains(b))throw new pt(at.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$O(y,b)||y.push(b)}f=new _i(y),d=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=c.fieldTransforms;return new HO(new Zn(h),f,d)}function WS(n,t){if(JS(n=yn(n)))return t1("Unsupported field value:",t,n),ZS(n,t);if(n instanceof $S)return(function(i,r){if(!KS(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=WS(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=yn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return kD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=he.fromDate(i);return{timestampValue:Wf(r.serializer,o)}}if(i instanceof he){const o=new he(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wf(r.serializer,o)}}if(i instanceof Ji)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jn)return{bytesValue:fS(r.serializer,i._byteString)};if(i instanceof Fe){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:by(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ts)return(function(c,h){return{mapValue:{fields:{[FT]:{stringValue:HT},[Yf]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return gy(h.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${cy(i)}`)})(n,t)}function ZS(n,t){const e={};return PT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ya(n,((i,r)=>{const o=WS(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function JS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof he||n instanceof Ji||n instanceof Jn||n instanceof Fe||n instanceof $S||n instanceof ts)}function t1(n,t,e){if(!JS(e)||!kT(e)){const i=cy(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function GO(n,t,e){if((t=yn(t))instanceof Vy)return t._internalPath;if(typeof t=="string")return e1(n,t);throw ed("Field path arguments must be of type string or ",n,!1,void 0,e)}const YO=new RegExp("[~\\*/\\[\\]]");function e1(n,t,e){if(t.search(YO)>=0)throw ed(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Vy(...t.split("."))._internalPath}catch{throw ed(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function ed(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new pt(at.INVALID_ARGUMENT,h+n+f)}function $O(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(i1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class KO extends n1{data(){return super.data()}}function i1(n,t){return typeof t=="string"?e1(n,t):t instanceof Vy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QO{convertValue(t,e="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ya(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Yf].arrayValue?.values?.map((i=>Ee(i.doubleValue)));return new ts(e)}convertGeoPoint(t){return new Ji(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=_d(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Jc(t));default:return null}}convertTimestamp(t){const e=Ur(t);return new he(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ue.fromString(t);Qt(_S(i),9688,{name:t});const r=new tu(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return r.isEqual(e)||js(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Vc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ka extends n1{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(i1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ka._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:Ve("string",ka._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Of extends ka{data(t={}){return super.data(t)}}class Jo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Vc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Of(this._firestore,this._userDataWriter,i.key,i,new Vc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new Of(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Vc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Of(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Vc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,y=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:WO(h.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Jo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(n){n=Us(n,Fe);const t=Us(n.firestore,pl);return LO(ky(t),n._key).then((e=>JO(t,n,e)))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:Ve("string",Jo._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class r1 extends QO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,e)}}function Tu(n){n=Us(n,Id);const t=Us(n.firestore,pl),e=ky(t),i=new r1(t);return XO(n._query),jO(e,n._query).then((r=>new Jo(t,i,n,r)))}function gl(n,t,e){n=Us(n,Fe);const i=Us(n.firestore,pl),r=s1(n.converter,t);return Ly(i,[QS(XS(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,xi.none())])}function a1(n){return Ly(Us(n.firestore,pl),[new yy(n._key,xi.none())])}function yl(n,t){const e=Us(n.firestore,pl),i=Bs(n),r=s1(n.converter,t);return Ly(e,[QS(XS(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,xi.exists(!1))]).then((()=>i))}function Ly(n,t){return(function(i,r){const o=new Vs;return i.asyncQueue.enqueueAndForget((async()=>SO(await PO(i),r,o))),o.promise})(ky(n),t)}function JO(n,t,e){const i=e.docs.get(t._key),r=new r1(n);return new ka(n,r,t._key,i,new Vc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){hl=r})(Ga),La(new Lr("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new pl(new GN(i.getProvider("auth-internal")),new KN(c,i.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new pt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(d.options.projectId,y)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Xi(mx,px,t),Xi(mx,px,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebasestorage.googleapis.com",t4="storageBucket",e4=120*1e3,n4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends rs{constructor(t,e,i=0){super(tg(t),`Firebase Storage: ${e} (${tg(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,as.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return tg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ss;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ss||(ss={}));function tg(n){return"storage/"+n}function i4(){const n="An unknown error occurred, please check the error payload for server response.";return new as(ss.UNKNOWN,n)}function s4(){return new as(ss.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function r4(){return new as(ss.CANCELED,"User canceled the upload/download.")}function a4(n){return new as(ss.INVALID_URL,"Invalid URL '"+n+"'.")}function o4(n){return new as(ss.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function cw(n){return new as(ss.INVALID_ARGUMENT,n)}function l1(){return new as(ss.APP_DELETED,"The Firebase app was deleted.")}function l4(n){return new as(ss.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=vi.makeFromUrl(t,e)}catch{return new vi(t,"")}if(i.path==="")return i;throw o4(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function d(Z){Z.path_=decodeURIComponent(Z.path)}const y="v[A-Za-z0-9_]+",_=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",T=new RegExp(`^https?://${_}/${y}/b/${r}/o${b}`,"i"),A={bucket:1,path:3},C=e===o1?"(?:storage.googleapis.com|storage.cloud.google.com)":e,I="([^?#]*)",V=new RegExp(`^https?://${C}/${r}/${I}`,"i"),H=[{regex:h,indices:f,postModify:o},{regex:T,indices:A,postModify:d},{regex:V,indices:{bucket:1,path:2},postModify:d}];for(let Z=0;Z<H.length;Z++){const Q=H[Z],rt=Q.regex.exec(t);if(rt){const D=rt[Q.indices.bucket];let R=rt[Q.indices.path];R||(R=""),i=new vi(D,R),Q.postModify(i);break}}if(i==null)throw a4(t);return i}}class c4{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let d=!1;function y(...I){d||(d=!0,t.apply(null,I))}function _(I){r=setTimeout(()=>{r=null,n(T,f())},I)}function b(){o&&clearTimeout(o)}function T(I,...V){if(d){b();return}if(I){b(),y.call(null,I,...V);return}if(f()||c){b(),y.call(null,I,...V);return}i<64&&(i*=2);let H;h===1?(h=2,H=0):H=(i+Math.random())*1e3,_(H)}let A=!1;function C(I){A||(A=!0,b(),!d&&(r!==null?(I||(h=2),clearTimeout(r),_(0)):I||(h=1)))}return _(0),o=setTimeout(()=>{c=!0,C(!0)},e),C}function h4(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(n){return n!==void 0}function uw(n,t,e,i){if(i<t)throw cw(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw cw(`Invalid value for '${n}'. Expected ${e} or less.`)}function d4(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var nd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(nd||(nd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t,e,i,r,o,c,h,f,d,y,_,b=!0,T=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,C)=>{this.resolve_=A,this.reject_=C,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new lf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===nd.NO_ERROR,f=o.getStatus();if(!h||m4(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===nd.ABORT;i(!1,new lf(!1,null,y));return}const d=this.successCodes_.indexOf(f)!==-1;i(!0,new lf(d,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());f4(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=i4();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?l1():r4();c(f)}else{const f=s4();c(f)}};this.canceled_?e(!1,new lf(!1,null,!0)):this.backoffId_=u4(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&h4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lf{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function g4(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function y4(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function _4(n,t){t&&(n["X-Firebase-GMPID"]=t)}function v4(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function b4(n,t,e,i,r,o,c=!0,h=!1){const f=d4(n.urlParams),d=n.url+f,y=Object.assign({},n.headers);return _4(y,t),g4(y,e),y4(y,o),v4(y,i),new p4(d,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function w4(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t,e){this._service=t,e instanceof vi?this._location=e:this._location=vi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new id(t,e)}get root(){const t=new vi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w4(this._location.path)}get storage(){return this._service}get parent(){const t=x4(this._location.path);if(t===null)return null;const e=new vi(this._location.bucket,t);return new id(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw l4(t)}}function hw(n,t){const e=t?.[t4];return e==null?null:vi.makeFromBucketSpec(e,n)}function E4(n,t,e,i={}){n.host=`${t}:${e}`;const r=qa(t);r&&(Yg(`https://${n.host}/b`),$g("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:UE(o,n.app.options.projectId))}class T4{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=o1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e4,this._maxUploadRetryTime=n4,this._requests=new Set,r!=null?this._bucket=vi.makeFromBucketSpec(r,this._host):this._bucket=hw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=vi.makeFromBucketSpec(this._url,t):this._bucket=hw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){uw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){uw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new id(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new c4(l1());{const c=b4(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const fw="@firebase/storage",dw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="storage";function S4(n=Qg(),t){n=yn(n);const i=fd(n,c1).getImmediate({identifier:t}),r=PE("storage");return r&&A4(i,...r),i}function A4(n,t,e,i={}){E4(n,t,e,i)}function R4(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new T4(e,i,r,t,Ga)}function C4(){La(new Lr(c1,R4,"PUBLIC").setMultipleInstances(!0)),Xi(fw,dw,""),Xi(fw,dw,"esm2020")}C4();const I4={apiKey:"AIzaSyBpLnEBDMz-FXoSYWN9EWsUuMAIu-Dpt9M",authDomain:"drivesense-7cac6.firebaseapp.com",projectId:"drivesense-7cac6",storageBucket:"drivesense-7cac6.firebasestorage.app",messagingSenderId:"751400174977",appId:"1:751400174977:web:c1d4109794ca4d41bb5480"},jy=FE(I4),N4=_u(jy),Ge=zO(jy);S4(jy);const mw=({isLoggedIn:n,setIsLoggedIn:t,setUser:e})=>{const i=Pe(),r=async()=>{const o=new Ns;try{const h=(await X2(N4,o)).user;e({displayName:h.displayName,email:h.email,photoURL:h.photoURL,uid:h.uid});const f=Bs(Ge,"users",h.uid);(await ZO(f)).exists()||await gl(f,{uid:h.uid,name:h.displayName,email:h.email,photoURL:h.photoURL,createdAt:new Date().toISOString()}),t(y=>!y),n&&console.log("Google Sign-In successful:",h)}catch(c){console.error("Google Sign-In error:",c)}};return w.jsxs("div",{className:`flex flex-row items-center justify-center px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)]  \r
            bg-[var(--blue-color)] text-[var(--light-color)] cursor-pointer rounded-full gap-[calc(0.2vw+0.3rem)] \r
            hover:bg-[var(--purple-color)] hover:text-[var(--dark-color)] transition duration-300 ease-in-out`,children:[w.jsx("i",{className:"bxl bx-google bx-tada-hover text-[calc(0.4vw+0.8rem)]"}),w.jsx("span",{onClick:r,className:`${i?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}`,children:"Sign in with Google"})]})},u1=({closePopup:n,children:t})=>w.jsx("div",{className:"fixed top-0 left-0 w-screen h-screen flex items-center justify-center bg-[rgba(0,0,0,0.5)] z-4",children:w.jsxs("div",{className:"relative bg-[var(--light-color)] p-6 rounded-xl rounded-tr-none flex flex-col items-center justify-center",children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                    flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:n}),t]})});function D4({isLoggedIn:n,setIsLoggedIn:t,setUser:e,setIsFormVisible:i}){const r=Pe();console.log("Sign up form is visible");const[o,c]=nt.useState(!1),[h,f]=nt.useState(""),[d,y]=nt.useState(""),_=_u(),b=async()=>{try{const A=(await T2(_,h,d)).user;e({displayName:null,email:A.email,photoURL:null,uid:A.uid});const C=Bs(Ge,"users",A.uid);await gl(C,{uid:A.uid,email:A.email,name:null,photoURL:null,createdAt:new Date().toISOString()}),console.log("User document created"),console.log("Signed up successfully!",A),console.log("Uid: ",A.uid),i(!1),t(!0)}catch(T){c(!0),console.error("Error signing up:",T.message)}};return w.jsx(w.Fragment,{children:!n&&w.jsxs(w.Fragment,{children:[w.jsx("input",{type:"email",placeholder:"Email",className:`${r?"placeholder:text-[calc(0.4vw+0.6rem)] text-[calc(0.4vw+0.6rem)]":"placeholder:text-[calc(0.4vw+0.5rem)] text-[calc(0.4vw+0.5rem)]"} 
                    cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]
                    placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] w-full`,required:!0,onChange:T=>f(T.target.value)}),w.jsx("input",{type:"password",placeholder:"Password",className:`${r?"placeholder:text-[calc(0.4vw+0.6rem)] text-[calc(0.4vw+0.6rem)]":"placeholder:text-[calc(0.4vw+0.5rem)] text-[calc(0.4vw+0.5rem)]"} 
                    cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]
                    placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] w-full`,required:!0,onChange:T=>y(T.target.value)}),w.jsx("span",{className:`${r?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}
                    text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer 
                    bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>b(),children:"Continue"}),o&&w.jsx(u1,{closePopup:()=>c(!1),children:w.jsx("p",{className:"text-[calc(0.4vw+0.5rem)]",children:"Email is invalid or already in used."})})]})})}function M4({isLoggedIn:n,setIsLoggedIn:t,setIsFormVisible:e,setUser:i}){const r=Pe();console.log("Sign in form is visible");const[o,c]=nt.useState(!1),[h,f]=nt.useState(""),[d,y]=nt.useState(""),_=_u(),b=async()=>{try{await S2(_,h,d).then(T=>{const A=T.user;console.log("Signed in sukses!",A),console.log("Uid: ",A.uid),i({displayName:null,email:A.email,photoURL:null,uid:A.uid}),e(!1),setTimeout(()=>{t(!0)},3e3)}).catch(T=>{const A=T.code,C=T.message;c(!0),console.log(A,C)})}catch(T){c(!0),console.log("Can't sign in!",T)}};return w.jsx(w.Fragment,{children:!n&&w.jsxs(w.Fragment,{children:[w.jsx("input",{type:"email",placeholder:"Email",className:`${r?"placeholder:text-[calc(0.4vw+0.6rem)] text-[calc(0.4vw+0.6rem)]":"placeholder:text-[calc(0.4vw+0.5rem)] text-[calc(0.4vw+0.5rem)]"} 
                    cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]
                    placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] w-full`,required:!0,onChange:T=>f(T.target.value)}),w.jsx("input",{type:"password",placeholder:"Password",className:`${r?"placeholder:text-[calc(0.4vw+0.6rem)] text-[calc(0.4vw+0.6rem)]":"placeholder:text-[calc(0.4vw+0.5rem)] text-[calc(0.4vw+0.5rem)]"}
                    cursor-pointer outline-none border border-[var(--border-color)] rounded-xl focus:border-[var(--purple-color)]
                    placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] w-full`,required:!0,onChange:T=>y(T.target.value)}),w.jsx("span",{className:`${r?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}
                    text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer 
                    bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>b(),children:"Continue"}),o&&w.jsx(u1,{closePopup:()=>c(!1),children:w.jsx("p",{className:"text-[calc(0.4vw+0.5rem)]",children:"The email address you've entered doesn't match any account."})})]})})}function O4({isDark:n,setIsDark:t,isLoggedIn:e,setIsLoggedIn:i,setUser:r}){const o=Pe(),[c,h]=nt.useState(!1),[f,d]=nt.useState(!1),[y,_]=nt.useState(!1),b=()=>{d(T=>!T)};return w.jsxs("div",{className:`
            ${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[w.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[o&&w.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>h(T=>!T)}),w.jsx("img",{src:Or,className:"h-[calc(1.2vw+1.8rem)] w-[calc(1.2vw+1.8rem)] cursor-pointer hovered"}),w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),!o&&w.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",onClick:()=>{location.reload()},children:"Home"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Features"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",onClick:()=>{window.open("https://github.com/Yureusu/DriveSense/actions")},children:"Github"})]}),w.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Docs"}),w.jsx("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}
                    ${n?"text-[var(--dark-color)] bg-[var(--light-color)]":"text-[var(--light-color)] bg-[var(--dark-color)]"}
                    px-[calc(0.4vw+0.6rem)] py-[calc(0.2vw+0.3rem)] rounded-md cursor-pointer
                    hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--light-color)] font-semibold`,onClick:()=>b(),children:"Sign In"}),f&&w.jsx("div",{className:"fade-in absolute top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:w.jsxs("div",{className:`${o?"h-auto w-[90%] p-[12px]":"h-[420px] w-[420px]"}
                        bg-[var(--light-color)] flex flex-col items-center justify-start relative rounded-xl rounded-tr-none`,children:[w.jsx("i",{className:`${o?"text-[calc(1vw+1.6rem)] top-[-8px] right-[-12px]":"text-[calc(1vw+1.2rem)] top-[-10px] right-[-14px]"}
                            fa-solid fa-circle-xmark text-[var(--blue-color)] hovered
                            flex flex-row items-center justify-center absolute cursor-pointer`,onClick:()=>d(T=>!T)}),w.jsxs("div",{className:`${o?"py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)]":"py-[calc(0.4vw+0.6rem)] px-[calc(2.4vw+2.6rem)]"}
                            w-full flex flex-col items-center justify-start gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]`,children:[w.jsx("img",{src:Or,className:"h-[calc(1.2vw+1.8rem)] w-[calc(1.2vw+1.8rem)] cursor-pointer",alt:""}),!y&&w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold text-center",children:"Sign in to your account"}),w.jsx(mw,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),w.jsx("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}`,children:"Or continue with"}),w.jsx(M4,{isLoggedIn:e,setIsLoggedIn:i,setUser:r,setIsFormVisible:d}),w.jsxs("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}`,children:["Don't have an account?",w.jsx("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"} text-[var(--blue-color)] hovered cursor-pointer`,onClick:()=>_(T=>!T),children:" Sign Up"})]})]}),y&&w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Sign up an account"}),w.jsx(D4,{isLoggedIn:e,setIsLoggedIn:i,setUser:r,setIsFormVisible:d}),w.jsx("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}`,children:"Or continue with"}),w.jsx(mw,{isLoggedIn:e,setIsLoggedIn:i,setUser:r}),w.jsxs("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}`,children:["Already have an account?",w.jsx("span",{className:`${o?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"} text-[var(--blue-color)] hovered cursor-pointer`,onClick:()=>_(T=>!T),children:" Sign In"})]})]})]})]})}),w.jsx(TT,{isDark:n,setIsDark:t})]}),o&&c&&w.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)] p-[calc(0.4vw+0.7rem)]`,children:[w.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)]",onClick:()=>h(T=>!T)}),w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] w-full cursor-pointer hovered font-semibold",onClick:()=>{location.reload()},children:"Home"}),w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] w-full cursor-pointer hovered font-semibold",children:"Features"}),w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] w-full cursor-pointer hovered font-semibold",children:"Github"})]})})]})}const k4="/DriveSense/assets/car-img-DqpG-dY6.png",cf=({icon:n,title:t,info:e,isDark:i})=>{const r=Pe();return w.jsxs("div",{className:`
            ${r?"w-[152px] h-[240px]":"flex-1"}
            flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)] 
            p-[calc(0.4vw+0.6rem)] rounded-lg border border-[var(--border-color)]`,children:[n,w.jsx("span",{className:`${r?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} font-semibold text-center`,children:t}),w.jsx("span",{className:`${r?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} text-center`,children:e})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Su(n){return n+.5|0}const Cr=(n,t,e)=>Math.max(Math.min(n,e),t);function Pc(n){return Cr(Su(n*2.55),0,255)}function Pr(n){return Cr(Su(n*255),0,255)}function Is(n){return Cr(Su(n/2.55)/100,0,1)}function pw(n){return Cr(Su(n*100),0,100)}const Wn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jg=[..."0123456789ABCDEF"],V4=n=>jg[n&15],P4=n=>jg[(n&240)>>4]+jg[n&15],uf=n=>(n&240)>>4===(n&15),L4=n=>uf(n.r)&&uf(n.g)&&uf(n.b)&&uf(n.a);function j4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Wn[n[1]]*17,g:255&Wn[n[2]]*17,b:255&Wn[n[3]]*17,a:t===5?Wn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Wn[n[1]]<<4|Wn[n[2]],g:Wn[n[3]]<<4|Wn[n[4]],b:Wn[n[5]]<<4|Wn[n[6]],a:t===9?Wn[n[7]]<<4|Wn[n[8]]:255})),e}const U4=(n,t)=>n<255?t(n):"";function z4(n){var t=L4(n)?V4:P4;return n?"#"+t(n.r)+t(n.g)+t(n.b)+U4(n.a,t):void 0}const B4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function h1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function F4(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function H4(n,t,e){const i=h1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function q4(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Uy(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,d,y;return o!==c&&(y=o-c,d=h>.5?y/(2-o-c):y/(o+c),f=q4(e,i,r,y,o),f=f*60+.5),[f|0,d||0,h]}function zy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Pr)}function By(n,t,e){return zy(h1,n,t,e)}function G4(n,t,e){return zy(H4,n,t,e)}function Y4(n,t,e){return zy(F4,n,t,e)}function f1(n){return(n%360+360)%360}function $4(n){const t=B4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Pc(+t[5]):Pr(+t[5]));const r=f1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=G4(r,o,c):t[1]==="hsv"?i=Y4(r,o,c):i=By(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function K4(n,t){var e=Uy(n);e[0]=f1(e[0]+t),e=By(e),n.r=e[0],n.g=e[1],n.b=e[2]}function X4(n){if(!n)return;const t=Uy(n),e=t[0],i=pw(t[1]),r=pw(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Is(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const gw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Q4(){const n={},t=Object.keys(yw),e=Object.keys(gw);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,gw[o]);o=parseInt(yw[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let hf;function W4(n){hf||(hf=Q4(),hf.transparent=[0,0,0,0]);const t=hf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Z4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function J4(n){const t=Z4.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Pc(c):Cr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Pc(i):Cr(i,0,255)),r=255&(t[4]?Pc(r):Cr(r,0,255)),o=255&(t[6]?Pc(o):Cr(o,0,255)),{r:i,g:r,b:o,a:e}}}function tk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Is(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const eg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ho=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ek(n,t,e){const i=Ho(Is(n.r)),r=Ho(Is(n.g)),o=Ho(Is(n.b));return{r:Pr(eg(i+e*(Ho(Is(t.r))-i))),g:Pr(eg(r+e*(Ho(Is(t.g))-r))),b:Pr(eg(o+e*(Ho(Is(t.b))-o))),a:n.a+e*(t.a-n.a)}}function ff(n,t,e){if(n){let i=Uy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=By(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function d1(n,t){return n&&Object.assign(t||{},n)}function _w(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Pr(n[3]))):(t=d1(n,{r:0,g:0,b:0,a:1}),t.a=Pr(t.a)),t}function nk(n){return n.charAt(0)==="r"?J4(n):$4(n)}class su{constructor(t){if(t instanceof su)return t;const e=typeof t;let i;e==="object"?i=_w(t):e==="string"&&(i=j4(t)||W4(t)||nk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=d1(this._rgb);return t&&(t.a=Is(t.a)),t}set rgb(t){this._rgb=_w(t)}rgbString(){return this._valid?tk(this._rgb):void 0}hexString(){return this._valid?z4(this._rgb):void 0}hslString(){return this._valid?X4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,d=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=ek(this._rgb,t._rgb,e)),this}clone(){return new su(this.rgb)}alpha(t){return this._rgb.a=Pr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Su(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ff(this._rgb,2,t),this}darken(t){return ff(this._rgb,2,-t),this}saturate(t){return ff(this._rgb,1,t),this}desaturate(t){return ff(this._rgb,1,-t),this}rotate(t){return K4(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function As(){}const ik=(()=>{let n=0;return()=>n++})();function Xt(n){return n==null}function Be(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ni(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Gi(n,t){return ni(n)?n:t}function Dt(n,t){return typeof n>"u"?t:n}const sk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,m1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ce(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,c;if(Be(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function sd(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function rd(n){if(Be(n))return n.map(rd);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=rd(n[e[r]]);return t}return n}function p1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function rk(n,t,e,i){if(!p1(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?ru(r,o,i):t[n]=rd(o)}function ru(n,t,e){const i=Be(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||rk;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let d=0,y=f.length;d<y;++d)o(f[d],n,c,e)}return n}function Gc(n,t){return ru(n,t,{merger:ak})}function ak(n,t,e){if(!p1(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?Gc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=rd(r))}const vw={"":n=>n,x:n=>n.x,y:n=>n.y};function ok(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function lk(n){const t=ok(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Fa(n,t){return(vw[t]||(vw[t]=lk(t)))(n)}function Fy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const au=n=>typeof n<"u",qr=n=>typeof n=="function",bw=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function ck(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ee=Math.PI,_e=2*ee,uk=_e+ee,ad=Number.POSITIVE_INFINITY,hk=ee/180,He=ee/2,Sa=ee/4,xw=ee*2/3,g1=Math.log10,es=Math.sign;function Yc(n,t,e){return Math.abs(n-t)<e}function ww(n){const t=Math.round(n);n=Yc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(g1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function fk(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function dk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ou(n){return!dk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function mk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function pk(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Os(n){return n*(ee/180)}function gk(n){return n*(180/ee)}function Ew(n){if(!ni(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function y1(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ee&&(o+=_e),{angle:o,distance:r}}function Ug(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function yk(n,t){return(n-t+uk)%_e-ee}function gi(n){return(n%_e+_e)%_e}function lu(n,t,e,i){const r=gi(n),o=gi(t),c=gi(e),h=gi(o-r),f=gi(c-r),d=gi(r-o),y=gi(r-c);return r===o||r===c||i&&o===c||h>f&&d<y}function hn(n,t,e){return Math.max(t,Math.min(e,n))}function _k(n){return hn(n,-32768,32767)}function Ir(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Hy(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Oa=(n,t,e,i)=>Hy(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),vk=(n,t,e)=>Hy(n,e,i=>n[i][t]>=e);function bk(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const _1=["push","pop","shift","splice","unshift"];function xk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),_1.forEach(e=>{const i="_onData"+Fy(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function Tw(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(_1.forEach(o=>{delete n[o]}),delete n._chartjs)}function v1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const b1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function x1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,b1.call(window,()=>{i=!1,n.apply(t,e)}))}}function wk(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const qy=n=>n==="start"?"left":n==="end"?"right":"center",ln=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Ek=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Tk(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:_,max:b,minDefined:T,maxDefined:A}=c.getUserBounds();if(T){if(r=Math.min(Oa(f,y,_).lo,e?i:Oa(t,y,c.getPixelForValue(_)).lo),d){const C=f.slice(0,r+1).reverse().findIndex(I=>!Xt(I[h.axis]));r-=Math.max(0,C)}r=hn(r,0,i-1)}if(A){let C=Math.max(Oa(f,c.axis,b,!0).hi+1,e?0:Oa(t,y,c.getPixelForValue(b),!0).hi+1);if(d){const I=f.slice(C-1).findIndex(V=>!Xt(V[h.axis]));C+=Math.max(0,I)}o=hn(C,r,i)-r}else o=i-r}return{start:r,count:o}}function Sk(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const df=n=>n===0||n===1,Sw=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*_e/e)),Aw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*_e/e)+1,$c={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*He)+1,easeOutSine:n=>Math.sin(n*He),easeInOutSine:n=>-.5*(Math.cos(ee*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>df(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>df(n)?n:Sw(n,.075,.3),easeOutElastic:n=>df(n)?n:Aw(n,.075,.3),easeInOutElastic(n){return df(n)?n:n<.5?.5*Sw(n*2,.1125,.45):.5+.5*Aw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-$c.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?$c.easeInBounce(n*2)*.5:$c.easeOutBounce(n*2-1)*.5+.5};function Gy(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Rw(n){return Gy(n)?n:new su(n)}function ng(n){return Gy(n)?n:new su(n).saturate(.5).darken(.1).hexString()}const Ak=["x","y","borderWidth","radius","tension"],Rk=["color","borderColor","backgroundColor"];function Ck(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Rk},numbers:{type:"number",properties:Ak}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Ik(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Cw=new Map;function Nk(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Cw.get(e);return i||(i=new Intl.NumberFormat(n,t),Cw.set(e,i)),i}function Yy(n,t,e){return Nk(t,e).format(n)}const Dk={values(n){return Be(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=Mk(n,e)}const c=g1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Yy(n,i,f)}};function Mk(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var w1={formatters:Dk};function Ok(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:w1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ha=Object.create(null),zg=Object.create(null);function Kc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function ig(n,t,e){return typeof t=="string"?ru(Kc(n,t),e):ru(Kc(n,""),t)}class kk{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>ng(r.backgroundColor),this.hoverBorderColor=(i,r)=>ng(r.borderColor),this.hoverColor=(i,r)=>ng(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ig(this,t,e)}get(t){return Kc(this,t)}describe(t,e){return ig(zg,t,e)}override(t,e){return ig(Ha,t,e)}route(t,e,i,r){const o=Kc(this,t),c=Kc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],d=c[r];return qt(f)?Object.assign({},d,f):Dt(f,d)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Te=new kk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ck,Ik,Ok]);function Vk(n){return!n||Xt(n.size)||Xt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Iw(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Aa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function Nw(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Bg(n,t,e,i){E1(n,t,e,i,null)}function E1(n,t,e,i,r){let o,c,h,f,d,y,_,b;const T=t.pointStyle,A=t.rotation,C=t.radius;let I=(A||0)*hk;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),T){default:r?n.ellipse(e,i,r/2,C,0,0,_e):n.arc(e,i,C,0,_e),n.closePath();break;case"triangle":y=r?r/2:C,n.moveTo(e+Math.sin(I)*y,i-Math.cos(I)*C),I+=xw,n.lineTo(e+Math.sin(I)*y,i-Math.cos(I)*C),I+=xw,n.lineTo(e+Math.sin(I)*y,i-Math.cos(I)*C),n.closePath();break;case"rectRounded":d=C*.516,f=C-d,c=Math.cos(I+Sa)*f,_=Math.cos(I+Sa)*(r?r/2-d:f),h=Math.sin(I+Sa)*f,b=Math.sin(I+Sa)*(r?r/2-d:f),n.arc(e-_,i-h,d,I-ee,I-He),n.arc(e+b,i-c,d,I-He,I),n.arc(e+_,i+h,d,I,I+He),n.arc(e-b,i+c,d,I+He,I+ee),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*C,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}I+=Sa;case"rectRot":_=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+b,i-c),n.lineTo(e+_,i+h),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":I+=Sa;case"cross":_=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":_=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),I+=Sa,_=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(I)*C,h=Math.sin(I)*C,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(r?r/2:C),i+Math.sin(I)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function cu(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function $y(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ky(n){n.restore()}function Pk(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Lk(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function jk(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Xt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function Uk(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function zk(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function uu(n,t,e,i,r,o={}){const c=Be(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,jk(n,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&zk(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Xt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),Uk(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function od(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ee,ee,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ee,He,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,He,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-He,!0),n.lineTo(e+c.topLeft,i)}const Bk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Fk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Hk(n,t){const e=(""+n).match(Bk);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const qk=n=>+n||0;function Xy(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>Dt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=qk(o(c));return e}function T1(n){return Xy(n,{top:"y",right:"x",bottom:"y",left:"x"})}function tl(n){return Xy(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ii(n){const t=T1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fn(n,t){n=n||{},t=t||Te.font;let e=Dt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Dt(n.style,t.style);i&&!(""+i).match(Fk)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Dt(n.family,t.family),lineHeight:Hk(Dt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Dt(n.weight,t.weight),string:""};return r.string=Vk(r),r}function mf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function Gk(n,t,e){const{min:i,max:r}=n,o=m1(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Qa(n,t){return Object.assign(Object.create(n),t)}function Qy(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=C1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>Qy([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return A1(h,f,()=>Jk(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return Mw(h).includes(f)},ownKeys(h){return Mw(h)},set(h,f,d){const y=h._storage||(h._storage=r());return h[f]=y[f]=d,delete h._keys,!0}})}function ll(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:S1(n,i),setContext:o=>ll(n,o,e,i),override:o=>ll(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return A1(o,c,()=>$k(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function S1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:qr(e)?e:()=>e,isIndexable:qr(i)?i:()=>i}}const Yk=(n,t)=>n?n+Fy(t):t,Wy=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function A1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function $k(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return qr(h)&&c.isScriptable(t)&&(h=Kk(t,h,n,e)),Be(h)&&h.length&&(h=Xk(t,h,n,c.isIndexable)),Wy(t,h)&&(h=ll(h,r,o&&o[t],c)),h}function Kk(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),Wy(n,f)&&(f=Zy(r._scopes,r,n,f)),f}function Xk(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,d=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const _=Zy(d,r,n,y);t.push(ll(_,o,c&&c[n],h))}}return t}function R1(n,t,e){return qr(n)?n(t,e):n}const Qk=(n,t)=>n===!0?t:typeof n=="string"?Fa(t,n):void 0;function Wk(n,t,e,i,r){for(const o of t){const c=Qk(e,o);if(c){n.add(c);const h=R1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Zy(n,t,e,i){const r=t._rootScopes,o=R1(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=Dw(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=Dw(h,c,o,f,i),f===null)?!1:Qy(Array.from(h),[""],r,o,()=>Zk(t,e,i))}function Dw(n,t,e,i,r){for(;e;)e=Wk(n,t,e,i,r);return e}function Zk(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Be(r)&&qt(e)?e:r||{}}function Jk(n,t,e,i){let r;for(const o of t)if(r=C1(Yk(o,n),e),typeof r<"u")return Wy(n,r)?Zy(e,i,n,r):r}function C1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Mw(n){let t=n._keys;return t||(t=n._keys=t6(n._scopes)),t}function t6(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const e6=Number.EPSILON||1e-14,cl=(n,t)=>t<n.length&&!n[t].skip&&n[t],I1=n=>n==="x"?"y":"x";function n6(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=Ug(o,r),f=Ug(c,o);let d=h/(h+f),y=f/(h+f);d=isNaN(d)?0:d,y=isNaN(y)?0:y;const _=i*d,b=i*y;return{previous:{x:o.x-_*(c.x-r.x),y:o.y-_*(c.y-r.y)},next:{x:o.x+b*(c.x-r.x),y:o.y+b*(c.y-r.y)}}}function i6(n,t,e){const i=n.length;let r,o,c,h,f,d=cl(n,0);for(let y=0;y<i-1;++y)if(f=d,d=cl(n,y+1),!(!f||!d)){if(Yc(t[y],0,e6)){e[y]=e[y+1]=0;continue}r=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=r*c*t[y],e[y+1]=o*c*t[y])}}function s6(n,t,e="x"){const i=I1(e),r=n.length;let o,c,h,f=cl(n,0);for(let d=0;d<r;++d){if(c=h,h=f,f=cl(n,d+1),!h)continue;const y=h[e],_=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=_-o*t[d]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=_+o*t[d])}}function r6(n,t="x"){const e=I1(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,d=cl(n,0);for(c=0;c<i;++c)if(h=f,f=d,d=cl(n,c+1),!!f){if(d){const y=d[t]-f[t];r[c]=y!==0?(d[e]-f[e])/y:0}o[c]=h?d?es(r[c-1])!==es(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}i6(n,r,o),s6(n,o,t)}function pf(n,t,e){return Math.max(Math.min(n,e),t)}function a6(n,t){let e,i,r,o,c,h=cu(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&cu(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=pf(r.cp1x,t.left,t.right),r.cp1y=pf(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=pf(r.cp2x,t.left,t.right),r.cp2y=pf(r.cp2y,t.top,t.bottom)))}function o6(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")r6(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=n6(d,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,d=h}t.capBezierPoints&&a6(n,e)}function Jy(){return typeof window<"u"&&typeof document<"u"}function t_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ld(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Nd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function l6(n,t){return Nd(n).getPropertyValue(t)}const c6=["top","right","bottom","left"];function Va(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=c6[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const u6=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function h6(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(u6(r,o,n.target))h=r,f=o;else{const d=t.getBoundingClientRect();h=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:h,y:f,box:c}}function Ia(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Nd(e),o=r.boxSizing==="border-box",c=Va(r,"padding"),h=Va(r,"border","width"),{x:f,y:d,box:y}=h6(n,e),_=c.left+(y&&h.left),b=c.top+(y&&h.top);let{width:T,height:A}=t;return o&&(T-=c.width+h.width,A-=c.height+h.height),{x:Math.round((f-_)/T*e.width/i),y:Math.round((d-b)/A*e.height/i)}}function f6(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&t_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Nd(o),f=Va(h,"border","width"),d=Va(h,"padding");t=c.width-d.width-f.width,e=c.height-d.height-f.height,i=ld(h.maxWidth,o,"clientWidth"),r=ld(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||ad,maxHeight:r||ad}}const gf=n=>Math.round(n*10)/10;function d6(n,t,e,i){const r=Nd(n),o=Va(r,"margin"),c=ld(r.maxWidth,n,"clientWidth")||ad,h=ld(r.maxHeight,n,"clientHeight")||ad,f=f6(n,t,e);let{width:d,height:y}=f;if(r.boxSizing==="content-box"){const b=Va(r,"border","width"),T=Va(r,"padding");d-=T.width+b.width,y-=T.height+b.height}return d=Math.max(0,d-o.width),y=Math.max(0,i?d/i:y-o.height),d=gf(Math.min(d,c,f.maxWidth)),y=gf(Math.min(y,h,f.maxHeight)),d&&!y&&(y=gf(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,d=gf(Math.floor(y*i))),{width:d,height:y}}function Ow(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const m6=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Jy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function kw(n,t){const e=l6(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Na(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function p6(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function g6(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Na(n,r,e),h=Na(r,o,e),f=Na(o,t,e),d=Na(c,h,e),y=Na(h,f,e);return Na(d,y,e)}const y6=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},_6=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function el(n,t,e){return n?y6(t,e):_6()}function N1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function D1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function M1(n){return n==="angle"?{between:lu,compare:yk,normalize:gi}:{between:Ir,compare:(t,e)=>t-e,normalize:t=>t}}function Vw({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function v6(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=M1(i),f=t.length;let{start:d,end:y,loop:_}=n,b,T;if(_){for(d+=f,y+=f,b=0,T=f;b<T&&c(h(t[d%f][i]),r,o);++b)d--,y--;d%=f,y%=f}return y<d&&(y+=f),{start:d,end:y,loop:_,style:n.style}}function b6(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:d}=M1(i),{start:y,end:_,loop:b,style:T}=v6(n,t,e),A=[];let C=!1,I=null,V,B,H;const Z=()=>f(r,H,V)&&h(r,H)!==0,Q=()=>h(o,V)===0||f(o,H,V),rt=()=>C||Z(),D=()=>!C||Q();for(let R=y,M=y;R<=_;++R)B=t[R%c],!B.skip&&(V=d(B[i]),V!==H&&(C=f(V,r,o),I===null&&rt()&&(I=h(V,r)===0?R:M),I!==null&&D()&&(A.push(Vw({start:I,end:R,loop:b,count:c,style:T})),I=null),M=R,H=V));return I!==null&&A.push(Vw({start:I,end:_,loop:b,count:c,style:T})),A}function x6(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=b6(i[r],n.points,t);o.length&&e.push(...o)}return e}function w6(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function E6(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%r];d.skip||d.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=d.stop?f:null):(c=f,h.skip&&(t=f)),h=d}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function T6(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=w6(e,r,o,i);if(i===!0)return Pw(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,d=!!n._fullLoop&&c===0&&h===r-1;return Pw(n,E6(e,c,f,d),e,t)}function Pw(n,t,e,i){return!i||!i.setContext||!e?t:S6(n,t,e,i)}function S6(n,t,e,i){const r=n._chart.getContext(),o=Lw(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,d=[];let y=o,_=t[0].start,b=_;function T(A,C,I,V){const B=h?-1:1;if(A!==C){for(A+=f;e[A%f].skip;)A-=B;for(;e[C%f].skip;)C+=B;A%f!==C%f&&(d.push({start:A%f,end:C%f,loop:I,style:V}),y=V,_=C%f)}}for(const A of t){_=h?_:A.start;let C=e[_%f],I;for(b=_+1;b<=A.end;b++){const V=e[b%f];I=Lw(i.setContext(Qa(r,{type:"segment",p0:C,p1:V,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),A6(I,y)&&T(_,b-1,A.loop,y),C=V,y=I}_<b-1&&T(_,b-1,A.loop,y)}return d}function Lw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function A6(n,t){if(!t)return!1;const e=[],i=function(r,o){return Gy(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function yf(n,t,e){return n.options.clip?n[e]:t[e]}function R6(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:yf(e,t,"left"),right:yf(e,t,"right"),top:yf(i,t,"top"),bottom:yf(i,t,"bottom")}:t}function C6(n,t){const e=t._clip;if(e.disabled)return!1;const i=R6(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class I6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=b1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Rs=new I6;const jw="transparent",N6={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Rw(n||jw),r=i.valid&&Rw(t||jw);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class D6{constructor(t,e,i,r){const o=e[i];r=mf([t.to,r,o,t.from]);const c=mf([t.from,o,r]);this._active=!0,this._fn=t.fn||N6[t.type||typeof c],this._easing=$c[t.easing]||$c.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=mf([t.to,e,r,t.from]),this._from=mf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class O1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Te.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(Be(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=O6(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&M6(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[d];let _=o[d];const b=i.get(d);if(_)if(b&&_.active()){_.update(b,y,h);continue}else _.cancel();if(!b||!b.duration){t[d]=y;continue}o[d]=_=new D6(b,t,d,y),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Rs.add(this._chart,i),!0}}function M6(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function O6(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Uw(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function k6(n,t,e){if(e===!1)return!1;const i=Uw(n,e),r=Uw(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function V6(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function k1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function zw(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,d;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(y=!0,i.all)continue;break}d=n.values[f],ni(d)&&(o||t===0||es(t)===es(d))&&(t+=d)}return!y&&!i.all?0:t}function P6(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,d,y;for(f=0,d=c.length;f<d;++f)y=c[f],h[f]={[r]:y,[o]:n[y]};return h}function sg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function L6(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function j6(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function U6(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Bw(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function Fw(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,d=c.axis,y=L6(o,c,i),_=t.length;let b;for(let T=0;T<_;++T){const A=t[T],{[f]:C,[d]:I}=A,V=A._stacks||(A._stacks={});b=V[d]=U6(r,y,C),b[h]=I,b._top=Bw(b,c,!0,i.type),b._bottom=Bw(b,c,!1,i.type);const B=b._visualValues||(b._visualValues={});B[h]=I}}function rg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function z6(n,t){return Qa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function B6(n,t,e){return Qa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Sc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const ag=n=>n==="reset"||n==="none",Hw=(n,t)=>t?n:Object.assign({},n),F6=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:k1(e,!0),values:null};class Dd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=sg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Sc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,b,T,A)=>_==="x"?b:_==="r"?A:T,o=e.xAxisID=Dt(i.xAxisID,rg(t,"x")),c=e.yAxisID=Dt(i.yAxisID,rg(t,"y")),h=e.rAxisID=Dt(i.rAxisID,rg(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,c,h),y=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Tw(this._data,this),t._stacked&&Sc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=P6(e,r)}else if(i!==e){if(i){Tw(i,this);const r=this._cachedMeta;Sc(r),r._parsed=[]}e&&Object.isExtensible(e)&&xk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=sg(e.vScale,e),e.stack!==i.stack&&(r=!0,Sc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(Fw(this,e._parsed),e._stacked=sg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],y,_,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Be(r[t])?b=this.parseArrayData(i,r,t,e):qt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const T=()=>_[h]===null||d&&_[h]<d[h];for(y=0;y<e;++y)i._parsed[y+t]=_=b[y],f&&(T()&&(f=!1),d=_);i._sorted=f}c&&Fw(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,d=o.getLabels(),y=o===c,_=new Array(r);let b,T,A;for(b=0,T=r;b<T;++b)A=b+i,_[b]={[h]:y||o.parse(d[A],A),[f]:c.parse(e[A],A)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,d,y,_;for(f=0,d=r;f<d;++f)y=f+i,_=e[y],h[f]={x:o.parse(_[0],y),y:c.parse(_[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let y,_,b,T;for(y=0,_=r;y<_;++y)b=y+i,T=e[b],d[y]={x:o.parse(Fa(T,h),b),y:c.parse(Fa(T,f),b)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:k1(r,!0),values:e._stacks[t.axis]._visualValues};return zw(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=zw(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=F6(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:_}=j6(h);let b,T;function A(){T=r[b];const C=T[h.axis];return!ni(T[t.axis])||y>C||_<C}for(b=0;b<c&&!(!A()&&(this.updateRangeFromParsed(d,t,T,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(d,t,T,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ni(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=V6(Dt(this.options.clip,k6(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,d=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const _=r[y];_.hidden||(_.active&&d?c.push(_):_.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=B6(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=z6(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&au(i);if(h)return Hw(h,f);const d=this.chart.config,y=d.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],b=d.getOptionScopes(this.getDataset(),y),T=Object.keys(Te.elements[t]),A=()=>this.getContext(i,r,e),C=d.resolveNamedOptions(b,T,A,_);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(Hw(C,f))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,_=y.datasetAnimationScopeKeys(this._type,e),b=y.getOptionScopes(this.getDataset(),_);f=y.createResolver(b,this.getContext(t,i,e))}const d=new O1(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ag(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){ag(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!ag(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,d]of this._syncList)this[h](f,d);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=d=>{for(d.length+=e,h=d.length-1;h>=c;h--)d[h]=d[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Sc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function H6(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=v1(i.sort((r,o)=>r-o))}return n._cache.$bar}function q6(n){const t=n.iScale,e=H6(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(au(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function G6(n,t,e,i){const r=e.barThickness;let o,c;return Xt(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function Y6(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const d=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:d}}function $6(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,d=h;Math.abs(c)>Math.abs(h)&&(f=h,d=c),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:c,max:h}}function V1(n,t,e,i){return Be(n)?$6(n,t,e,i):t[e.axis]=e.parse(n,i),t}function qw(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let d,y,_,b;for(d=e,y=e+i;d<y;++d)b=t[d],_={},_[r.axis]=h||r.parse(c[d],d),f.push(V1(b,_,o,d));return f}function og(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function K6(n,t,e){return n!==0?es(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function X6(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function Q6(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:d,bottom:y}=X6(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=y:(o[Gw(y,c,h,f)]=!0,r=d)),o[Gw(r,c,h,f)]=!0,n.borderSkipped=o}function Gw(n,t,e,i){return i?(n=W6(n,t,e),n=Yw(n,e,t)):n=Yw(n,t,e),n}function W6(n,t,e){return n===t?e:n===e?t:n}function Yw(n,t,e){return n==="start"?t:n==="end"?e:n}function Z6(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class J6 extends Dd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return qw(t,e,i,r)}parseArrayData(t,e,i,r){return qw(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?h:f,y=c.axis==="x"?h:f,_=[];let b,T,A,C;for(b=i,T=i+r;b<T;++b)C=e[b],A={},A[o.axis]=o.parse(Fa(C,d),b),_.push(V1(Fa(C,y),A,c,b));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=og(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),d=h.isHorizontal(),y=this._getRuler(),{sharedOptions:_,includeOptions:b}=this._getSharedOptions(e,r);for(let T=e;T<e+i;T++){const A=this.getParsed(T),C=o||Xt(A[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(T),I=this._calculateBarIndexPixels(T,y),V=(A._stacks||{})[h.axis],B={horizontal:d,base:C.base,enableBorderRadius:!V||og(A._custom)||c===V._top||c===V._bottom,x:d?C.head:I.center,y:d?I.center:C.head,height:d?I.size:Math.abs(C.size),width:d?Math.abs(C.size):I.size};b&&(B.options=_||this.resolveDataElementOptions(T,t[T].active?"active":r));const H=B.options||t[T].options;Q6(B,H,V,c),Z6(B,H,y.ratio),this.updateElement(t[T],T,B,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],d=y=>{const _=y._parsed.find(T=>T[i.axis]===f),b=_&&_[y.vScale.axis];if(Xt(b)||isNaN(b))return!0};for(const y of r)if(!(e!==void 0&&d(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Dt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||q6(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),d=f._custom,y=og(d);let _=f[e.axis],b=0,T=i?this.applyStack(e,f,i):_,A,C;T!==_&&(b=T-_,T=_),y&&(_=d.barStart,T=d.barEnd-d.barStart,_!==0&&es(_)!==es(d.barEnd)&&(b=0),b+=_);const I=!Xt(o)&&!y?o:b;let V=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?A=e.getPixelForValue(b+T):A=V,C=A-V,Math.abs(C)<c){C=K6(C,e,h)*c,_===h&&(V-=C/2);const B=e.getPixelForDecimal(0),H=e.getPixelForDecimal(1),Z=Math.min(B,H),Q=Math.max(B,H);V=Math.max(Math.min(V,Q),Z),A=V+C,i&&!y&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(A)-e.getValueForPixel(V))}if(V===e.getPixelForValue(h)){const B=es(C)*e.getLineWidthForValue(h)/2;V+=B,C-=B}return{size:C,base:V,head:A,center:A+C/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Dt(r.maxBarThickness,1/0);let h,f;const d=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?Y6(t,e,r,y*d):G6(t,e,r,y*d),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(Dt(b,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+T;h=_.start+_.chunk*A+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function tV(n,t,e){let i=1,r=1,o=0,c=0;if(t<_e){const h=n,f=h+t,d=Math.cos(h),y=Math.sin(h),_=Math.cos(f),b=Math.sin(f),T=(H,Z,Q)=>lu(H,h,f,!0)?1:Math.max(Z,Z*e,Q,Q*e),A=(H,Z,Q)=>lu(H,h,f,!0)?-1:Math.min(Z,Z*e,Q,Q*e),C=T(0,d,_),I=T(He,y,b),V=A(ee,d,_),B=A(ee+He,y,b);i=(C-V)/2,r=(I-B)/2,o=-(C+V)/2,c=-(I+B)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class eV extends Dd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(qt(i[t])){const{key:f="value"}=this._parsing;o=d=>+Fa(i[d],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Os(this.options.rotation-90)}_getCircumference(){return Os(this.options.circumference)}_getRotationExtents(){let t=_e,e=-_e;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(sk(this.options.cutout,h),1),d=this._getRingWeight(this.index),{circumference:y,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:T,offsetX:A,offsetY:C}=tV(_,y,f),I=(i.width-c)/b,V=(i.height-c)/T,B=Math.max(Math.min(I,V)/2,0),H=m1(this.options.radius,B),Z=Math.max(H*f,0),Q=(H-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=A*H,this.offsetY=C*H,r.total=this.calculateTotal(),this.outerRadius=H-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/_e)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,d=c.options.animation,y=(h.left+h.right)/2,_=(h.top+h.bottom)/2,b=o&&d.animateScale,T=b?0:this.innerRadius,A=b?0:this.outerRadius,{sharedOptions:C,includeOptions:I}=this._getSharedOptions(e,r);let V=this._getRotation(),B;for(B=0;B<e;++B)V+=this._circumference(B,o);for(B=e;B<e+i;++B){const H=this._circumference(B,o),Z=t[B],Q={x:y+this.offsetX,y:_+this.offsetY,startAngle:V,endAngle:V+H,circumference:H,outerRadius:A,innerRadius:T};I&&(Q.options=C||this.resolveDataElementOptions(B,Z.active?"active":r)),V+=H,this.updateElement(Z,B,Q,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?_e*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=Yy(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Dt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class nV extends Dd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=Tk(e,r,c);this._drawStart=h,this._drawCount=f,Sk(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:d},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(e,r),b=c.axis,T=h.axis,{spanGaps:A,segment:C}=this.options,I=ou(A)?A:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||o||r==="none",B=e+i,H=t.length;let Z=e>0&&this.getParsed(e-1);for(let Q=0;Q<H;++Q){const rt=t[Q],D=V?rt:{};if(Q<e||Q>=B){D.skip=!0;continue}const R=this.getParsed(Q),M=Xt(R[T]),L=D[b]=c.getPixelForValue(R[b],Q),k=D[T]=o||M?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,R,f):R[T],Q);D.skip=isNaN(L)||isNaN(k)||M,D.stop=Q>0&&Math.abs(R[b]-Z[b])>I,C&&(D.parsed=R,D.raw=d.data[Q]),_&&(D.options=y||this.resolveDataElementOptions(Q,rt.active?"active":r)),V||this.updateElement(rt,Q,D,r),Z=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Ra(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class e_{static override(t){Object.assign(e_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ra()}parse(){return Ra()}format(){return Ra()}add(){return Ra()}diff(){return Ra()}startOf(){return Ra()}endOf(){return Ra()}}var iV={_date:e_};function sV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const d=h._reversePixels?vk:Oa;if(i){if(r._sharedOptions){const y=o[0],_=typeof y.getRange=="function"&&y.getRange(t);if(_){const b=d(o,t,e-_),T=d(o,t,e+_);return{lo:b.lo,hi:T.hi}}}}else{const y=d(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:b}=n,T=b.slice(0,y.lo+1).reverse().findIndex(C=>!Xt(C[_.axis]));y.lo-=Math.max(0,T);const A=b.slice(y.hi).findIndex(C=>!Xt(C[_.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function Md(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:d,data:y}=o[h],{lo:_,hi:b}=sV(o[h],t,c,r);for(let T=_;T<=b;++T){const A=y[T];A.skip||i(A,d,T)}}}function rV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function lg(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Md(n,e,t,function(h,f,d){!r&&!cu(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:d})},!0),o}function aV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:d,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:_}=y1(c,{x:t.x,y:t.y});lu(_,d,y)&&r.push({element:c,datasetIndex:h,index:f})}return Md(n,e,t,o),r}function oV(n,t,e,i,r,o){let c=[];const h=rV(e);let f=Number.POSITIVE_INFINITY;function d(y,_,b){const T=y.inRange(t.x,t.y,r);if(i&&!T)return;const A=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!T)return;const I=h(t,A);I<f?(c=[{element:y,datasetIndex:_,index:b}],f=I):I===f&&c.push({element:y,datasetIndex:_,index:b})}return Md(n,e,t,d),c}function cg(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?aV(n,t,e,r):oV(n,t,e,i,r,o)}function $w(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Md(n,e,t,(f,d,y)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:d,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var lV={modes:{index(n,t,e,i){const r=Ia(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?lg(n,r,o,i,c):cg(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const y=h[0].index,_=d.data[y];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:y})}),f):[]},dataset(n,t,e,i){const r=Ia(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?lg(n,r,o,i,c):cg(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,d=n.getDatasetMeta(f).data;h=[];for(let y=0;y<d.length;++y)h.push({element:d[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=Ia(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return lg(n,r,o,i,c)},nearest(n,t,e,i){const r=Ia(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return cg(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ia(t,n);return $w(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ia(t,n);return $w(n,r,"y",e.intersect,i)}}};const P1=["left","top","right","bottom"];function Ac(n,t){return n.filter(e=>e.pos===t)}function Kw(n,t){return n.filter(e=>P1.indexOf(e.pos)===-1&&e.box.axis===t)}function Rc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function cV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function uV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!P1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function hV(n,t){const e=uV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,d=e[h.stack],y=d&&h.stackWeight/d.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function fV(n){const t=cV(n),e=Rc(t.filter(d=>d.box.fullSize),!0),i=Rc(Ac(t,"left"),!0),r=Rc(Ac(t,"right")),o=Rc(Ac(t,"top"),!0),c=Rc(Ac(t,"bottom")),h=Kw(t,"x"),f=Kw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Ac(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function Xw(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function L1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function dV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&L1(c,o.getPadding());const h=Math.max(0,t.outerWidth-Xw(c,n,"left","right")),f=Math.max(0,t.outerHeight-Xw(c,n,"top","bottom")),d=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:d,other:y}:{same:y,other:d}}function mV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function pV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Lc(n,t,e,i){const r=[];let o,c,h,f,d,y;for(o=0,c=n.length,d=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,pV(h.horizontal,t));const{same:_,other:b}=dV(t,e,h,i);d|=_&&r.length,y=y||b,f.fullSize||r.push(h)}return d&&Lc(r,t,e,i)||y}function _f(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Qw(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,d=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/d.weight||1;if(h.horizontal){const _=t.w*y,b=d.size||f.height;au(d.start)&&(c=d.start),f.fullSize?_f(f,r.left,c,e.outerWidth-r.right-r.left,b):_f(f,t.left+d.placed,c,_,b),d.start=c,d.placed+=_,c=f.bottom}else{const _=t.h*y,b=d.size||f.width;au(d.start)&&(o=d.start),f.fullSize?_f(f,o,r.top,b,e.outerHeight-r.bottom-r.top):_f(f,o,t.top+d.placed,b,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=c}var ti={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ii(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=fV(n.boxes),f=h.vertical,d=h.horizontal;te(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const y=f.reduce((C,I)=>I.box.options&&I.box.options.display===!1?C:C+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),b=Object.assign({},r);L1(b,ii(i));const T=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),A=hV(f.concat(d),_);Lc(h.fullSize,T,_,A),Lc(f,T,_,A),Lc(d,T,_,A)&&Lc(f,T,_,A),mV(T),Qw(h.leftAndTop,T,_,A),T.x+=T.w,T.y+=T.h,Qw(h.rightAndBottom,T,_,A),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},te(h.chartArea,C=>{const I=C.box;Object.assign(I,n.chartArea),I.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class j1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class gV extends j1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const kf="$chartjs",yV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ww=n=>n===null||n==="";function _V(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[kf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Ww(r)){const o=kw(n,"width");o!==void 0&&(n.width=o)}if(Ww(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=kw(n,"height");o!==void 0&&(n.height=o)}return n}const U1=m6?{passive:!0}:!1;function vV(n,t,e){n&&n.addEventListener(t,e,U1)}function bV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,U1)}function xV(n,t){const e=yV[n.type]||n.type,{x:i,y:r}=Ia(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function cd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function wV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||cd(h.addedNodes,i),c=c&&!cd(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function EV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||cd(h.removedNodes,i),c=c&&!cd(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const hu=new Map;let Zw=0;function z1(){const n=window.devicePixelRatio;n!==Zw&&(Zw=n,hu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function TV(n,t){hu.size||window.addEventListener("resize",z1),hu.set(n,t)}function SV(n){hu.delete(n),hu.size||window.removeEventListener("resize",z1)}function AV(n,t,e){const i=n.canvas,r=i&&t_(i);if(!r)return;const o=x1((h,f)=>{const d=r.clientWidth;e(h,f),d<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],d=f.contentRect.width,y=f.contentRect.height;d===0&&y===0||o(d,y)});return c.observe(r),TV(n,o),c}function ug(n,t,e){e&&e.disconnect(),t==="resize"&&SV(n)}function RV(n,t,e){const i=n.canvas,r=x1(o=>{n.ctx!==null&&e(xV(o,n))},n);return vV(i,t,r),r}class CV extends j1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(_V(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[kf])return!1;const i=e[kf].initial;["height","width"].forEach(o=>{const c=i[o];Xt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[kf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:wV,detach:EV,resize:AV}[e]||RV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:ug,detach:ug,resize:ug}[e]||bV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return d6(t,e,i,r)}isAttached(t){const e=t&&t_(t);return!!(e&&e.isConnected)}}function IV(n){return!Jy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?gV:CV}class Fs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ou(this.x)&&ou(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function NV(n,t){const e=n.options.ticks,i=DV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?OV(t):[],c=o.length,h=o[0],f=o[c-1],d=[];if(c>r)return kV(t,d,o,c/r),d;const y=MV(o,t,r);if(c>0){let _,b;const T=c>1?Math.round((f-h)/(c-1)):null;for(vf(t,d,y,Xt(T)?0:h-T,h),_=0,b=c-1;_<b;_++)vf(t,d,y,o[_],o[_+1]);return vf(t,d,y,f,Xt(T)?t.length:f+T),d}return vf(t,d,y),d}function DV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function MV(n,t,e){const i=VV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=fk(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function OV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function kV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function vf(n,t,e,i,r){const o=Dt(i,0),c=Math.min(Dt(r,n.length),n.length);let h=0,f,d,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(d=Math.max(o,0);d<c;d++)d===y&&(t.push(n[d]),h++,y=Math.round(o+h*e))}function VV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const PV=n=>n==="left"?"right":n==="right"?"left":n,Jw=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,tE=(n,t)=>Math.min(t||n,n);function eE(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function LV(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,c-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-h||f>c+h)))return f}function jV(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Cc(n){return n.drawTicks?n.tickLength:0}function nE(n,t){if(!n.display)return 0;const e=fn(n.font,t),i=ii(n.padding);return(Be(n.text)?n.text.length:1)*e.lineHeight+i.height}function UV(n,t){return Qa(n,{scale:t,type:"scale"})}function zV(n,t,e){return Qa(n,{tick:e,index:t,type:"tick"})}function BV(n,t,e){let i=qy(n);return(e&&t!=="right"||!e&&t==="right")&&(i=PV(i)),i}function FV(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:d,scales:y}=f;let _=0,b,T,A;const C=c-r,I=h-o;if(n.isHorizontal()){if(T=ln(i,o,h),qt(e)){const V=Object.keys(e)[0],B=e[V];A=y[V].getPixelForValue(B)+C-t}else e==="center"?A=(d.bottom+d.top)/2+C-t:A=Jw(n,e,t);b=h-o}else{if(qt(e)){const V=Object.keys(e)[0],B=e[V];T=y[V].getPixelForValue(B)-I+t}else e==="center"?T=(d.left+d.right)/2-I+t:T=Jw(n,e,t);A=ln(i,c,r),_=e==="left"?-He:He}return{titleX:T,titleY:A,maxWidth:b,rotation:_}}class _l extends Fs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Gi(t,Number.POSITIVE_INFINITY),e=Gi(e,Number.NEGATIVE_INFINITY),i=Gi(i,Number.POSITIVE_INFINITY),r=Gi(r,Number.NEGATIVE_INFINITY),{min:Gi(t,i),max:Gi(e,r),minDefined:ni(t),maxDefined:ni(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,d=h.length;f<d;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Gi(e,Gi(i,e)),max:Gi(i,Gi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Gk(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?eE(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=NV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ce(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=tE(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),_=y.widest.width,b=y.highest.height,T=hn(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:T/(i-1),_+6>h&&(h=T/(i-(t.offset?.5:1)),f=this.maxHeight-Cc(t.grid)-e.padding-nE(t.title,this.chart.options.font),d=Math.sqrt(_*_+b*b),c=gk(Math.min(Math.asin(hn((y.highest.height+6)/h,-1,1)),Math.asin(hn(f/d,-1,1))-Math.asin(hn(b/d,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=nE(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Cc(o)+f):(t.height=this.maxHeight,t.width=Cc(o)+f),i.display&&this.ticks.length){const{first:d,last:y,widest:_,highest:b}=this._getLabelSizes(),T=i.padding*2,A=Os(this.labelRotation),C=Math.cos(A),I=Math.sin(A);if(h){const V=i.mirror?0:I*_.width+C*b.height;t.height=Math.min(this.maxHeight,t.height+V+T)}else{const V=i.mirror?0:C*_.width+I*b.height;t.width=Math.min(this.maxWidth,t.width+V+T)}this._calculatePadding(d,y,I,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,d=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,T=0;f?d?(b=r*t.width,T=i*e.height):(b=i*t.height,T=r*e.width):o==="start"?T=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,T=e.width/2),this.paddingLeft=Math.max((b-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((T-_+c)*this.width/(this.width-_),0)}else{let y=e.height/2,_=t.height/2;o==="start"?(y=0,_=t.height):o==="end"&&(y=e.height,_=0),this.paddingTop=y+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Xt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=eE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/tE(e,i));let d=0,y=0,_,b,T,A,C,I,V,B,H,Z,Q;for(_=0;_<e;_+=f){if(A=t[_].label,C=this._resolveTickFontOptions(_),r.font=I=C.string,V=o[I]=o[I]||{data:{},gc:[]},B=C.lineHeight,H=Z=0,!Xt(A)&&!Be(A))H=Iw(r,V.data,V.gc,H,A),Z=B;else if(Be(A))for(b=0,T=A.length;b<T;++b)Q=A[b],!Xt(Q)&&!Be(Q)&&(H=Iw(r,V.data,V.gc,H,Q),Z+=B);c.push(H),h.push(Z),d=Math.max(H,d),y=Math.max(Z,y)}jV(o,e);const rt=c.indexOf(d),D=h.indexOf(y),R=M=>({width:c[M]||0,height:h[M]||0});return{first:R(0),last:R(e-1),widest:R(rt),highest:R(D),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return _k(this._alignToPixels?Aa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=zV(this.getContext(),t,i))}return this.$context||(this.$context=UV(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Os(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),b=Cc(o),T=[],A=h.setContext(this.getContext()),C=A.display?A.width:0,I=C/2,V=function(K){return Aa(i,K,C)};let B,H,Z,Q,rt,D,R,M,L,k,j,O;if(c==="top")B=V(this.bottom),D=this.bottom-b,M=B-I,k=V(t.top)+I,O=t.bottom;else if(c==="bottom")B=V(this.top),k=t.top,O=V(t.bottom)-I,D=B+I,M=this.top+b;else if(c==="left")B=V(this.right),rt=this.right-b,R=B-I,L=V(t.left)+I,j=t.right;else if(c==="right")B=V(this.left),L=t.left,j=V(t.right)-I,rt=B+I,R=this.left+b;else if(e==="x"){if(c==="center")B=V((t.top+t.bottom)/2+.5);else if(qt(c)){const K=Object.keys(c)[0],ot=c[K];B=V(this.chart.scales[K].getPixelForValue(ot))}k=t.top,O=t.bottom,D=B+I,M=D+b}else if(e==="y"){if(c==="center")B=V((t.left+t.right)/2);else if(qt(c)){const K=Object.keys(c)[0],ot=c[K];B=V(this.chart.scales[K].getPixelForValue(ot))}rt=B-I,R=rt-b,L=t.left,j=t.right}const Mt=Dt(r.ticks.maxTicksLimit,_),Tt=Math.max(1,Math.ceil(_/Mt));for(H=0;H<_;H+=Tt){const K=this.getContext(H),ot=o.setContext(K),ft=h.setContext(K),bt=ot.lineWidth,Vt=ot.color,U=ft.dash||[],tt=ft.dashOffset,ct=ot.tickWidth,ut=ot.tickColor,_t=ot.tickBorderDash||[],xt=ot.tickBorderDashOffset;Z=LV(this,H,f),Z!==void 0&&(Q=Aa(i,Z,bt),d?rt=R=L=j=Q:D=M=k=O=Q,T.push({tx1:rt,ty1:D,tx2:R,ty2:M,x1:L,y1:k,x2:j,y2:O,width:bt,color:Vt,borderDash:U,borderDashOffset:tt,tickWidth:ct,tickColor:ut,tickBorderDash:_t,tickBorderDashOffset:xt}))}return this._ticksLength=_,this._borderValue=B,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:d,padding:y,mirror:_}=o,b=Cc(i.grid),T=b+y,A=_?-y:T,C=-Os(this.labelRotation),I=[];let V,B,H,Z,Q,rt,D,R,M,L,k,j,O="middle";if(r==="top")rt=this.bottom-A,D=this._getXAxisLabelAlignment();else if(r==="bottom")rt=this.top+A,D=this._getXAxisLabelAlignment();else if(r==="left"){const Tt=this._getYAxisLabelAlignment(b);D=Tt.textAlign,Q=Tt.x}else if(r==="right"){const Tt=this._getYAxisLabelAlignment(b);D=Tt.textAlign,Q=Tt.x}else if(e==="x"){if(r==="center")rt=(t.top+t.bottom)/2+T;else if(qt(r)){const Tt=Object.keys(r)[0],K=r[Tt];rt=this.chart.scales[Tt].getPixelForValue(K)+T}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Q=(t.left+t.right)/2-T;else if(qt(r)){const Tt=Object.keys(r)[0],K=r[Tt];Q=this.chart.scales[Tt].getPixelForValue(K)}D=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const Mt=this._getLabelSizes();for(V=0,B=h.length;V<B;++V){H=h[V],Z=H.label;const Tt=o.setContext(this.getContext(V));R=this.getPixelForTick(V)+o.labelOffset,M=this._resolveTickFontOptions(V),L=M.lineHeight,k=Be(Z)?Z.length:1;const K=k/2,ot=Tt.color,ft=Tt.textStrokeColor,bt=Tt.textStrokeWidth;let Vt=D;c?(Q=R,D==="inner"&&(V===B-1?Vt=this.options.reverse?"left":"right":V===0?Vt=this.options.reverse?"right":"left":Vt="center"),r==="top"?d==="near"||C!==0?j=-k*L+L/2:d==="center"?j=-Mt.highest.height/2-K*L+L:j=-Mt.highest.height+L/2:d==="near"||C!==0?j=L/2:d==="center"?j=Mt.highest.height/2-K*L:j=Mt.highest.height-k*L,_&&(j*=-1),C!==0&&!Tt.showLabelBackdrop&&(Q+=L/2*Math.sin(C))):(rt=R,j=(1-k)*L/2);let U;if(Tt.showLabelBackdrop){const tt=ii(Tt.backdropPadding),ct=Mt.heights[V],ut=Mt.widths[V];let _t=j-tt.top,xt=0-tt.left;switch(O){case"middle":_t-=ct/2;break;case"bottom":_t-=ct;break}switch(D){case"center":xt-=ut/2;break;case"right":xt-=ut;break;case"inner":V===B-1?xt-=ut:V>0&&(xt-=ut/2);break}U={left:xt,top:_t,width:ut+tt.width,height:ct+tt.height,color:Tt.backdropColor}}I.push({label:Z,font:M,textOffset:j,options:{rotation:C,color:ot,strokeColor:ft,strokeWidth:bt,textAlign:Vt,textBaseline:O,translation:[Q,rt],backdrop:U}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Os(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let d,y;return e==="left"?r?(y=this.right+o,i==="near"?d="left":i==="center"?(d="center",y+=f/2):(d="right",y+=f)):(y=this.right-h,i==="near"?d="right":i==="center"?(d="center",y-=f/2):(d="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?d="right":i==="center"?(d="center",y-=f/2):(d="left",y-=f)):(y=this.left+h,i==="near"?d="left":i==="center"?(d="center",y+=f/2):(d="right",y=this.right)):d="right",{textAlign:d,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,d,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,y,_,b;this.isHorizontal()?(d=Aa(t,this.left,c)-c/2,y=Aa(t,this.right,h)+h/2,_=b=f):(_=Aa(t,this.top,c)-c/2,b=Aa(t,this.bottom,h)+h/2,d=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(y,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&$y(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,d=c.label,y=c.textOffset;uu(i,d,0,y,f,h)}r&&Ky(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=fn(i.font),c=ii(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,Be(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:y,maxWidth:_,rotation:b}=FV(this,f,e,h);uu(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:b,textAlign:BV(h,e,r),textBaseline:"middle",translation:[d,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Dt(t.grid&&t.grid.z,-1),r=Dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==_l.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return fn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class bf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;GV(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,HV(t,c,i),this.override&&Te.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Te[r]&&(delete Te[r][i],this.override&&delete Ha[i])}}function HV(n,t,e){const i=ru(Object.create(null),[e?Te.get(e):{},Te.get(t),n.defaults]);Te.set(t,i),n.defaultRoutes&&qV(t,n.defaultRoutes),n.descriptors&&Te.describe(t,n.descriptors)}function qV(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Te.route(o,r,f,h)})}function GV(n){return"id"in n&&"defaults"in n}class YV{constructor(){this.controllers=new bf(Dd,"datasets",!0),this.elements=new bf(Fs,"elements"),this.plugins=new bf(Object,"plugins"),this.scales=new bf(_l,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=Fy(t);ce(i["before"+r],[],i),e[t](i),ce(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var $i=new YV;class $V{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(ce(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Dt(i.options&&i.options.plugins,{}),o=KV(i);return r===!1&&!e?[]:QV(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function KV(n){const t={},e=[],i=Object.keys($i.plugins.items);for(let o=0;o<i.length;o++)e.push($i.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function XV(n,t){return!t&&n===!1?null:n===!0?{}:n}function QV(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,d=XV(i[f],r);d!==null&&o.push({plugin:h,options:WV(n.config,{plugin:h,local:e[f]},d,c)})}return o}function WV(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fg(n,t){const e=Te.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function ZV(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function JV(n,t){return n===t?"_index_":"_value_"}function iE(n){if(n==="x"||n==="y"||n==="r")return n}function tP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Hg(n,...t){if(iE(n))return n;for(const e of t){const i=e.axis||tP(e.position)||n.length>1&&iE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function sE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function eP(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return sE(n,"x",e[0])||sE(n,"y",e[0])}return{}}function nP(n,t){const e=Ha[n.type]||{scales:{}},i=t.scales||{},r=Fg(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Hg(c,h,eP(c,n),Te.scales[h.type]),d=JV(f,r),y=e.scales||{};o[c]=Gc(Object.create(null),[{axis:f},h,y[f],y[d]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Fg(h,t),y=(Ha[h]||{}).scales||{};Object.keys(y).forEach(_=>{const b=ZV(_,f),T=c[b+"AxisID"]||b;o[T]=o[T]||Object.create(null),Gc(o[T],[{axis:b},i[T],y[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];Gc(h,[Te.scales[h.type],Te.scale])}),o}function B1(n){const t=n.options||(n.options={});t.plugins=Dt(t.plugins,{}),t.scales=nP(n,t)}function F1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function iP(n){return n=n||{},n.data=F1(n.data),B1(n),n}const rE=new Map,H1=new Set;function xf(n,t){let e=rE.get(n);return e||(e=t(),rE.set(n,e),H1.add(e)),e}const Ic=(n,t,e)=>{const i=Fa(t,e);i!==void 0&&n.add(i)};class sP{constructor(t){this._config=iP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=F1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),B1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return xf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return xf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return xf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return xf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(_=>Ic(f,t,_))),y.forEach(_=>Ic(f,r,_)),y.forEach(_=>Ic(f,Ha[o]||{},_)),y.forEach(_=>Ic(f,Te,_)),y.forEach(_=>Ic(f,zg,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),H1.has(e)&&c.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ha[e]||{},Te.datasets[e]||{},{type:e},Te,zg]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=aE(this._resolverCache,t,r);let f=c;if(aP(c,e)){o.$shared=!1,i=qr(i)?i():i;const d=this.createResolver(t,i,h);f=ll(c,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=aE(this._resolverCache,t,i);return qt(e)?ll(o,e,void 0,r):o}}function aE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:Qy(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const rP=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>qr(n[t]));function aP(n,t){const{isScriptable:e,isIndexable:i}=S1(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(qr(h)||rP(h))||c&&Be(h))return!0}return!1}var oP="4.5.0";const lP=["top","bottom","left","right","chartArea"];function oE(n,t){return n==="top"||n==="bottom"||lP.indexOf(n)===-1&&t==="x"}function lE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function cE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ce(e&&e.onComplete,[n],t)}function cP(n){const t=n.chart,e=t.options.animation;ce(e&&e.onProgress,[n],t)}function q1(n){return Jy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Vf={},uE=n=>{const t=q1(n);return Object.values(Vf).filter(e=>e.canvas===t).pop()};function uP(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function hP(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Wa=class{static defaults=Te;static instances=Vf;static overrides=Ha;static registry=$i;static version=oP;static getChart=uE;static register(...t){$i.add(...t),hE()}static unregister(...t){$i.remove(...t),hE()}constructor(t,e){const i=this.config=new sP(e),r=q1(t),o=uE(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||IV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,d=f&&f.height,y=f&&f.width;if(this.id=ik(),this.ctx=h,this.canvas=f,this.width=y,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $V,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wk(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],Vf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Rs.listen(this,"complete",cE),Rs.listen(this,"progress",cP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Xt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return $i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ow(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nw(this.canvas,this.ctx),this}stop(){return Rs.stop(this),this}resize(t,e){Rs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Ow(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ce(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Hg(c,h),d=f==="r",y=f==="x";return{options:h,dposition:d?"chartArea":y?"bottom":"left",dtype:d?"radialLinear":y?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,d=Hg(f,h),y=Dt(h.type,c.dtype);(h.position===void 0||oE(h.position,d)!==oE(c.dposition))&&(h.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===y)_=i[f];else{const b=$i.getScale(y);_=new b({id:f,type:y,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),te(r,(c,h)=>{c||delete i[h]}),te(i,c=>{ti.configure(this,c,c.options),ti.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(lE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Fg(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=$i.getController(h),{datasetElementType:d,dataElementType:y}=Te.datasets[h];Object.assign(f,{dataElementType:$i.getElement(y),datasetElementType:d&&$i.getElement(d)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,y=this.data.datasets.length;d<y;d++){const{controller:_}=this.getDatasetMeta(d),b=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(b),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(lE("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{ti.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!bw(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;uP(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!bw(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ti.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,qr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rs.has(this)?this.attached&&!Rs.running(this)&&Rs.start(this):(this.draw(),cE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=C6(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&$y(e,r),t.controller.draw(),r&&Ky(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return cu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=lV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Qa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);au(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Rs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Nw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Vf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!sd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(y=>!d.some(_=>y.datasetIndex===_.datasetIndex&&y.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=ck(t),d=hP(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ce(o.onHover,[t,h,this],this),f&&ce(o.onClick,[t,h,this],this));const y=!sd(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=d,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function hE(){return te(Wa.instances,n=>n._plugins.invalidate())}function fP(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:d,borderJoinStyle:y}=f,_=Math.min(d/c,gi(i-e));if(n.beginPath(),n.arc(r,o,c-d/2,i+_/2,e-_/2),h>0){const b=Math.min(d/h,gi(i-e));n.arc(r,o,h+d/2,e-b/2,i+b/2,!0)}else{const b=Math.min(d/2,c*gi(i-e));if(y==="round")n.arc(r,o,b,e-ee/2,i+ee/2,!0);else if(y==="bevel"){const T=2*b*b,A=-T*Math.cos(e+ee/2)+r,C=-T*Math.sin(e+ee/2)+o,I=T*Math.cos(i+ee/2)+r,V=T*Math.sin(i+ee/2)+o;n.lineTo(A,C),n.lineTo(I,V)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function dP(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let d=r/h;n.beginPath(),n.arc(o,c,h,i-d,e+d),f>r?(d=r/f,n.arc(o,c,f,e+d,i-d,!0)):n.arc(o,c,r,e+He,i-He),n.closePath(),n.clip()}function mP(n){return Xy(n,["outerStart","outerEnd","innerStart","innerEnd"])}function pP(n,t,e,i){const r=mP(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const d=(e-Math.min(o,f))*i/2;return hn(f,0,Math.min(o,d))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:hn(r.innerStart,0,c),innerEnd:hn(r.innerEnd,0,c)}}function qo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function ud(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:d,innerRadius:y}=t,_=Math.max(t.outerRadius+i+e-d,0),b=y>0?y+i+e+d:0;let T=0;const A=r-f;if(i){const Tt=y>0?y-i:0,K=_>0?_-i:0,ot=(Tt+K)/2,ft=ot!==0?A*ot/(ot+i):A;T=(A-ft)/2}const C=Math.max(.001,A*_-e/ee)/_,I=(A-C)/2,V=f+I+T,B=r-I-T,{outerStart:H,outerEnd:Z,innerStart:Q,innerEnd:rt}=pP(t,b,_,B-V),D=_-H,R=_-Z,M=V+H/D,L=B-Z/R,k=b+Q,j=b+rt,O=V+Q/k,Mt=B-rt/j;if(n.beginPath(),o){const Tt=(M+L)/2;if(n.arc(c,h,_,M,Tt),n.arc(c,h,_,Tt,L),Z>0){const bt=qo(R,L,c,h);n.arc(bt.x,bt.y,Z,L,B+He)}const K=qo(j,B,c,h);if(n.lineTo(K.x,K.y),rt>0){const bt=qo(j,Mt,c,h);n.arc(bt.x,bt.y,rt,B+He,Mt+Math.PI)}const ot=(B-rt/b+(V+Q/b))/2;if(n.arc(c,h,b,B-rt/b,ot,!0),n.arc(c,h,b,ot,V+Q/b,!0),Q>0){const bt=qo(k,O,c,h);n.arc(bt.x,bt.y,Q,O+Math.PI,V-He)}const ft=qo(D,V,c,h);if(n.lineTo(ft.x,ft.y),H>0){const bt=qo(D,M,c,h);n.arc(bt.x,bt.y,H,V-He,M)}}else{n.moveTo(c,h);const Tt=Math.cos(M)*_+c,K=Math.sin(M)*_+h;n.lineTo(Tt,K);const ot=Math.cos(L)*_+c,ft=Math.sin(L)*_+h;n.lineTo(ot,ft)}n.closePath()}function gP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){ud(n,t,e,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(h)||(f=c+(h%_e||_e))}return ud(n,t,e,i,f,r),n.fill(),f}function yP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:d,borderJoinStyle:y,borderDash:_,borderDashOffset:b,borderRadius:T}=f,A=f.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=b,A?(n.lineWidth=d*2,n.lineJoin=y||"round"):(n.lineWidth=d,n.lineJoin=y||"bevel");let C=t.endAngle;if(o){ud(n,t,e,i,C,r);for(let I=0;I<o;++I)n.stroke();isNaN(h)||(C=c+(h%_e||_e))}A&&dP(n,t,C),f.selfJoin&&C-c>=ee&&T===0&&y!=="miter"&&fP(n,t,C),o||(ud(n,t,e,i,C,r),n.stroke())}class _P extends Fs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=y1(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:d,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,T=Dt(_,f-h),A=lu(o,h,f)&&h!==f,C=T>=_e||A,I=Ir(c,d+b,y+b);return C&&I}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:d}=this.options,y=(r+o)/2,_=(c+h+d+f)/2;return{x:e+Math.cos(y)*_,y:i+Math.sin(y)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>_e?Math.floor(i/_e):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ee,i||0)),d=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,gP(t,this,d,o,c),yP(t,this,d,o,c),t.restore()}}function G1(n,t,e=t){n.lineCap=Dt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Dt(e.borderDash,t.borderDash)),n.lineDashOffset=Dt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Dt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Dt(e.borderWidth,t.borderWidth),n.strokeStyle=Dt(e.borderColor,t.borderColor)}function vP(n,t,e){n.lineTo(e.x,e.y)}function bP(n){return n.stepped?Pk:n.tension||n.cubicInterpolationMode==="monotone"?Lk:vP}function Y1(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),d=Math.min(o,h),y=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:d<f&&!y?i+d-f:d-f}}function xP(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:d}=Y1(r,e,i),y=bP(o);let{move:_=!0,reverse:b}=i||{},T,A,C;for(T=0;T<=d;++T)A=r[(h+(b?d-T:T))%c],!A.skip&&(_?(n.moveTo(A.x,A.y),_=!1):y(n,C,A,b,o.stepped),C=A);return f&&(A=r[(h+(b?d:0))%c],y(n,C,A,b,o.stepped)),!!f}function wP(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=Y1(r,e,i),{move:f=!0,reverse:d}=i||{};let y=0,_=0,b,T,A,C,I,V;const B=Z=>(c+(d?h-Z:Z))%o,H=()=>{C!==I&&(n.lineTo(y,I),n.lineTo(y,C),n.lineTo(y,V))};for(f&&(T=r[B(0)],n.moveTo(T.x,T.y)),b=0;b<=h;++b){if(T=r[B(b)],T.skip)continue;const Z=T.x,Q=T.y,rt=Z|0;rt===A?(Q<C?C=Q:Q>I&&(I=Q),y=(_*y+Z)/++_):(H(),n.lineTo(Z,Q),A=rt,_=0,C=I=Q),V=Q}H()}function qg(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?wP:xP}function EP(n){return n.stepped?p6:n.tension||n.cubicInterpolationMode==="monotone"?g6:Na}function TP(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),G1(n,t.options),n.stroke(r)}function SP(n,t,e,i){const{segments:r,options:o}=t,c=qg(t);for(const h of r)G1(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const AP=typeof Path2D=="function";function RP(n,t,e,i){AP&&!t.options.segment?TP(n,t,e,i):SP(n,t,e,i)}class CP extends Fs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;o6(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=T6(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=x6(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=EP(i);let d,y;for(d=0,y=c.length;d<y;++d){const{start:_,end:b}=c[d],T=o[_],A=o[b];if(T===A){h.push(T);continue}const C=Math.abs((r-T[e])/(A[e]-T[e])),I=f(T,A,C,i.stepped);I[e]=t[e],h.push(I)}return h.length===1?h[0]:h}pathSegment(t,e,i){return qg(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=qg(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),RP(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function fE(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class IP extends Fs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return fE(this,t,"x",e)}inYRange(t,e){return fE(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!cu(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Bg(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function $1(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,d,y,_;return n.horizontal?(_=c/2,h=Math.min(e,r),f=Math.max(e,r),d=i-_,y=i+_):(_=o/2,h=e-_,f=e+_,d=Math.min(i,r),y=Math.max(i,r)),{left:h,top:d,right:f,bottom:y}}function Nr(n,t,e,i){return n?0:hn(t,e,i)}function NP(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=T1(i);return{t:Nr(r.top,o.top,0,e),r:Nr(r.right,o.right,0,t),b:Nr(r.bottom,o.bottom,0,e),l:Nr(r.left,o.left,0,t)}}function DP(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=tl(r),c=Math.min(t,e),h=n.borderSkipped,f=i||qt(r);return{topLeft:Nr(!f||h.top||h.left,o.topLeft,0,c),topRight:Nr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Nr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Nr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function MP(n){const t=$1(n),e=t.right-t.left,i=t.bottom-t.top,r=NP(n,e/2,i/2),o=DP(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function hg(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&$1(n,i);return h&&(r||Ir(t,h.left,h.right))&&(o||Ir(e,h.top,h.bottom))}function OP(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function kP(n,t){n.rect(t.x,t.y,t.w,t.h)}function fg(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class K1 extends Fs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=MP(this),h=OP(c.radius)?od:kP;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,fg(c,e,o)),t.clip(),h(t,fg(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,fg(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return hg(this,t,e,i)}inXRange(t,e){return hg(this,t,null,e)}inYRange(t,e){return hg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const dE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},VP=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class mE extends Fs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=fn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=dE(i,o);let d,y;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,d=this._fitCols(c,r,h,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],y=r+h;let _=t;o.textAlign="left",o.textBaseline="middle";let b=-1,T=-y;return this.legendItems.forEach((A,C)=>{const I=i+e/2+o.measureText(A.text).width;(C===0||d[d.length-1]+I+2*h>c)&&(_+=y,d[d.length-(C>0?0:1)]=0,T+=y,b++),f[C]={left:0,top:T,row:b,width:I,height:r},d[d.length-1]+=I+h}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],y=c-t;let _=h,b=0,T=0,A=0,C=0;return this.legendItems.forEach((I,V)=>{const{itemWidth:B,itemHeight:H}=PP(i,e,o,I,r);V>0&&T+H+2*h>y&&(_+=b+h,d.push({width:b,height:T}),A+=b+h,C++,b=T=0),f[V]={left:A,top:T,col:C,width:B,height:H},b=Math.max(b,B),T+=H+h}),_+=b,d.push({width:b,height:T}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=el(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=ln(i,this.left+r,this.right-this.lineWidths[h]);for(const d of e)h!==d.row&&(h=d.row,f=ln(i,this.left+r,this.right-this.lineWidths[h])),d.top+=this.top+t+r,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+r}else{let h=0,f=ln(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const d of e)d.col!==h&&(h=d.col,f=ln(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),d.top=f,d.left+=this.left+r,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;$y(t,this),this._draw(),Ky(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Te.color,f=el(t.rtl,this.left,this.width),d=fn(c.font),{padding:y}=c,_=d.size,b=_/2;let T;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:A,boxHeight:C,itemHeight:I}=dE(c,_),V=function(rt,D,R){if(isNaN(A)||A<=0||isNaN(C)||C<0)return;r.save();const M=Dt(R.lineWidth,1);if(r.fillStyle=Dt(R.fillStyle,h),r.lineCap=Dt(R.lineCap,"butt"),r.lineDashOffset=Dt(R.lineDashOffset,0),r.lineJoin=Dt(R.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Dt(R.strokeStyle,h),r.setLineDash(Dt(R.lineDash,[])),c.usePointStyle){const L={radius:C*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:M},k=f.xPlus(rt,A/2),j=D+b;E1(r,L,k,j,c.pointStyleWidth&&A)}else{const L=D+Math.max((_-C)/2,0),k=f.leftForLtr(rt,A),j=tl(R.borderRadius);r.beginPath(),Object.values(j).some(O=>O!==0)?od(r,{x:k,y:L,w:A,h:C,radius:j}):r.rect(k,L,A,C),r.fill(),M!==0&&r.stroke()}r.restore()},B=function(rt,D,R){uu(r,R.text,rt,D+I/2,d,{strikethrough:R.hidden,textAlign:f.textAlign(R.textAlign)})},H=this.isHorizontal(),Z=this._computeTitleHeight();H?T={x:ln(o,this.left+y,this.right-i[0]),y:this.top+y+Z,line:0}:T={x:this.left+y,y:ln(o,this.top+Z+y,this.bottom-e[0].height),line:0},N1(this.ctx,t.textDirection);const Q=I+y;this.legendItems.forEach((rt,D)=>{r.strokeStyle=rt.fontColor,r.fillStyle=rt.fontColor;const R=r.measureText(rt.text).width,M=f.textAlign(rt.textAlign||(rt.textAlign=c.textAlign)),L=A+b+R;let k=T.x,j=T.y;f.setWidth(this.width),H?D>0&&k+L+y>this.right&&(j=T.y+=Q,T.line++,k=T.x=ln(o,this.left+y,this.right-i[T.line])):D>0&&j+Q>this.bottom&&(k=T.x=k+e[T.line].width+y,T.line++,j=T.y=ln(o,this.top+Z+y,this.bottom-e[T.line].height));const O=f.x(k);if(V(O,j,rt),k=Ek(M,k+A+b,H?k+L:this.right,t.rtl),B(f.x(k),j,rt),H)T.x+=L+y;else if(typeof rt.text!="string"){const Mt=d.lineHeight;T.y+=X1(rt,Mt)+y}else T.y+=Q}),D1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=fn(e.font),r=ii(e.padding);if(!e.display)return;const o=el(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,d=r.top+f;let y,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+d,_=ln(t.align,_,this.right-b);else{const A=this.columnSizes.reduce((C,I)=>Math.max(C,I.height),0);y=d+ln(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const T=ln(h,_,_+b);c.textAlign=o.textAlign(qy(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,uu(c,e.text,T,y,i)}_computeTitleHeight(){const t=this.options.title,e=fn(t.font),i=ii(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Ir(t,this.left,this.right)&&Ir(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Ir(t,r.left,r.left+r.width)&&Ir(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!UP(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=VP(r,i);r&&!o&&ce(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ce(e.onHover,[t,i,this],this)}else i&&ce(e.onClick,[t,i,this],this)}}function PP(n,t,e,i,r){const o=LP(i,n,t,e),c=jP(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function LP(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function jP(n,t,e){let i=n;return typeof t.text!="string"&&(i=X1(t,e)),i}function X1(n,t){const e=n.text?n.text.length:0;return t*e}function UP(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Od={id:"legend",_element:mE,start(n,t,e){const i=n.legend=new mE({ctx:n.ctx,options:e,chart:n});ti.configure(n,i,e),ti.addBox(n,i)},stop(n){ti.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ti.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),y=ii(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:c&&(h||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Q1 extends Fs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Be(i.text)?i.text.length:1;this._padding=ii(i.padding);const o=r*fn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,d,y,_;return this.isHorizontal()?(y=ln(h,i,o),_=e+t,d=o-i):(c.position==="left"?(y=i+t,_=ln(h,r,e),f=ee*-.5):(y=o-t,_=ln(h,e,r),f=ee*.5),d=r-e),{titleX:y,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=fn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:d}=this._drawArgs(o);uu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:qy(e.align),textBaseline:"middle",translation:[c,h]})}}function zP(n,t){const e=new Q1({ctx:n.ctx,options:t,chart:n});ti.configure(n,e,t),ti.addBox(n,e),n.titleBlock=e}var n_={id:"title",_element:Q1,start(n,t,e){zP(n,e)},stop(n){const t=n.titleBlock;ti.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ti.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),y=Ug(t,d);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Yi(n,t){return t&&(Be(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Cs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function BP(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function pE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=fn(t.bodyFont),d=fn(t.titleFont),y=fn(t.footerFont),_=o.length,b=r.length,T=i.length,A=ii(t.padding);let C=A.height,I=0,V=i.reduce((Z,Q)=>Z+Q.before.length+Q.lines.length+Q.after.length,0);if(V+=n.beforeBody.length+n.afterBody.length,_&&(C+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),V){const Z=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;C+=T*Z+(V-T)*f.lineHeight+(V-1)*t.bodySpacing}b&&(C+=t.footerMarginTop+b*y.lineHeight+(b-1)*t.footerSpacing);let B=0;const H=function(Z){I=Math.max(I,e.measureText(Z).width+B)};return e.save(),e.font=d.string,te(n.title,H),e.font=f.string,te(n.beforeBody.concat(n.afterBody),H),B=t.displayColors?c+2+t.boxPadding:0,te(i,Z=>{te(Z.before,H),te(Z.lines,H),te(Z.after,H)}),B=0,e.font=y.string,te(n.footer,H),e.restore(),I+=A.width,{width:I,height:C}}function FP(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function HP(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function qP(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let d="center";return i==="center"?d=r<=(h+f)/2?"left":"right":r<=o/2?d="left":r>=c-o/2&&(d="right"),HP(d,n,t,e)&&(d="center"),d}function gE(n,t,e){const i=e.yAlign||t.yAlign||FP(n,e);return{xAlign:e.xAlign||t.xAlign||qP(n,t,e,i),yAlign:i}}function GP(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function YP(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function yE(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,d=r+o,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:T}=tl(c);let A=GP(t,h);const C=YP(t,f,d);return f==="center"?h==="left"?A+=d:h==="right"&&(A-=d):h==="left"?A-=Math.max(y,b)+r:h==="right"&&(A+=Math.max(_,T)+r),{x:hn(A,0,i.width-t.width),y:hn(C,0,i.height-t.height)}}function wf(n,t,e){const i=ii(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function _E(n){return Yi([],Cs(n))}function $P(n,t,e){return Qa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function vE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const W1={beforeTitle:As,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:As,beforeBody:As,beforeLabel:As,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Xt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:As,afterBody:As,beforeFooter:As,footer:As,afterFooter:As};function Sn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?W1[t].call(e,i):r}class bE extends Fs{static positioners=jc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new O1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=$P(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Sn(i,"beforeTitle",this,t),o=Sn(i,"title",this,t),c=Sn(i,"afterTitle",this,t);let h=[];return h=Yi(h,Cs(r)),h=Yi(h,Cs(o)),h=Yi(h,Cs(c)),h}getBeforeBody(t,e){return _E(Sn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=vE(i,o);Yi(c.before,Cs(Sn(h,"beforeLabel",this,o))),Yi(c.lines,Sn(h,"label",this,o)),Yi(c.after,Cs(Sn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return _E(Sn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Sn(i,"beforeFooter",this,t),o=Sn(i,"footer",this,t),c=Sn(i,"afterFooter",this,t);let h=[];return h=Yi(h,Cs(r)),h=Yi(h,Cs(o)),h=Yi(h,Cs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,d;for(f=0,d=e.length;f<d;++f)h.push(BP(this.chart,e[f]));return t.filter&&(h=h.filter((y,_,b)=>t.filter(y,_,b,i))),t.itemSort&&(h=h.sort((y,_)=>t.itemSort(y,_,i))),te(h,y=>{const _=vE(t.callbacks,y);r.push(Sn(_,"labelColor",this,y)),o.push(Sn(_,"labelPointStyle",this,y)),c.push(Sn(_,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=jc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=pE(this,i),d=Object.assign({},h,f),y=gE(this.chart,i,d),_=yE(i,d,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:d,bottomLeft:y,bottomRight:_}=tl(h),{x:b,y:T}=t,{width:A,height:C}=e;let I,V,B,H,Z,Q;return o==="center"?(Z=T+C/2,r==="left"?(I=b,V=I-c,H=Z+c,Q=Z-c):(I=b+A,V=I+c,H=Z-c,Q=Z+c),B=I):(r==="left"?V=b+Math.max(f,y)+c:r==="right"?V=b+A-Math.max(d,_)-c:V=this.caretX,o==="top"?(H=T,Z=H-c,I=V-c,B=V+c):(H=T+C,Z=H+c,I=V+c,B=V-c),Q=H),{x1:I,x2:V,x3:B,y1:H,y2:Z,y3:Q}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const d=el(i.rtl,this.x,this.width);for(t.x=wf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",c=fn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,y=fn(o.bodyFont),_=wf(this,"left",o),b=r.x(_),T=f<y.lineHeight?(y.lineHeight-f)/2:0,A=e.y+T;if(o.usePointStyle){const C={radius:Math.min(d,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},I=r.leftForLtr(b,d)+d/2,V=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Bg(t,C,I,V),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Bg(t,C,I,V)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=r.leftForLtr(b,d),I=r.leftForLtr(r.xPlus(b,1),d-2),V=tl(c.borderRadius);Object.values(V).some(B=>B!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,od(t,{x:C,y:A,w:d,h:f,radius:V}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),od(t,{x:I,y:A+1,w:d-2,h:f-2,radius:V}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,A,d,f),t.strokeRect(C,A,d,f),t.fillStyle=c.backgroundColor,t.fillRect(I,A+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:d,boxPadding:y}=i,_=fn(i.bodyFont);let b=_.lineHeight,T=0;const A=el(i.rtl,this.x,this.width),C=function(R){e.fillText(R,A.x(t.x+T),t.y+b/2),t.y+=b+o},I=A.textAlign(c);let V,B,H,Z,Q,rt,D;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=wf(this,I,i),e.fillStyle=i.bodyColor,te(this.beforeBody,C),T=h&&I!=="right"?c==="center"?d/2+y:d+2+y:0,Z=0,rt=r.length;Z<rt;++Z){for(V=r[Z],B=this.labelTextColors[Z],e.fillStyle=B,te(V.before,C),H=V.lines,h&&H.length&&(this._drawColorBox(e,t,Z,A,i),b=Math.max(_.lineHeight,f)),Q=0,D=H.length;Q<D;++Q)C(H[Q]),b=_.lineHeight;te(V.after,C)}T=0,b=_.lineHeight,te(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=el(i.rtl,this.x,this.width);for(t.x=wf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=fn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:d,height:y}=i,{topLeft:_,topRight:b,bottomLeft:T,bottomRight:A}=tl(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+d-b,f),e.quadraticCurveTo(h+d,f,h+d,f+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+d,f+y-A),e.quadraticCurveTo(h+d,f+y,h+d-A,f+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+T,f+y),e.quadraticCurveTo(h,f+y,h,f+y-T),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=jc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=pE(this,t),f=Object.assign({},c,this._size),d=gE(e,t,f),y=yE(t,f,d,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ii(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),N1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),D1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const d=this.chart.getDatasetMeta(h);if(!d)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:d.data[f],index:f}}),o=!sd(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!sd(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=jc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var kd={id:"tooltip",_element:bE,positioners:jc,afterInit(n,t,e){e&&(n.tooltip=new bE({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:W1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const KP=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function XP(n,t,e,i){const r=n.indexOf(t);if(r===-1)return KP(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const QP=(n,t)=>n===null?null:hn(Math.round(n),0,t);function xE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class i_ extends _l{static id="category";static defaults={ticks:{callback:xE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Xt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:XP(i,t,Dt(e,t),this._addedLabels),QP(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return xE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function WP(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:d,maxTicks:y,maxDigits:_,includeBounds:b}=n,T=o||1,A=y-1,{min:C,max:I}=t,V=!Xt(c),B=!Xt(h),H=!Xt(d),Z=(I-C)/(_+1);let Q=ww((I-C)/A/T)*T,rt,D,R,M;if(Q<1e-14&&!V&&!B)return[{value:C},{value:I}];M=Math.ceil(I/Q)-Math.floor(C/Q),M>A&&(Q=ww(M*Q/A/T)*T),Xt(f)||(rt=Math.pow(10,f),Q=Math.ceil(Q*rt)/rt),r==="ticks"?(D=Math.floor(C/Q)*Q,R=Math.ceil(I/Q)*Q):(D=C,R=I),V&&B&&o&&mk((h-c)/o,Q/1e3)?(M=Math.round(Math.min((h-c)/Q,y)),Q=(h-c)/M,D=c,R=h):H?(D=V?c:D,R=B?h:R,M=d-1,Q=(R-D)/M):(M=(R-D)/Q,Yc(M,Math.round(M),Q/1e3)?M=Math.round(M):M=Math.ceil(M));const L=Math.max(Ew(Q),Ew(D));rt=Math.pow(10,Xt(f)?L:f),D=Math.round(D*rt)/rt,R=Math.round(R*rt)/rt;let k=0;for(V&&(b&&D!==c?(e.push({value:c}),D<c&&k++,Yc(Math.round((D+k*Q)*rt)/rt,c,wE(c,Z,n))&&k++):D<c&&k++);k<M;++k){const j=Math.round((D+k*Q)*rt)/rt;if(B&&j>h)break;e.push({value:j})}return B&&b&&R!==h?e.length&&Yc(e[e.length-1].value,h,wE(h,Z,n))?e[e.length-1].value=h:e.push({value:h}):(!B||R===h)&&e.push({value:R}),e}function wE(n,t,{horizontal:e,minRotation:i}){const r=Os(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class ZP extends _l{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Xt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=es(r),d=es(o);f<0&&d<0?h(0):f>0&&d>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=WP(r,o);return t.bounds==="ticks"&&pk(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Yy(t,this.chart.options.locale,this.options.ticks.format)}}class s_ extends ZP{static id="linear";static defaults={ticks:{callback:w1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ni(t)?t:0,this.max=ni(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Os(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Vd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cn=Object.keys(Vd);function EE(n,t){return n-t}function TE(n,t){if(Xt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ni(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(ou(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function SE(n,t,e,i){const r=Cn.length;for(let o=Cn.indexOf(n);o<r-1;++o){const c=Vd[Cn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Cn[o]}return Cn[r-1]}function JP(n,t,e,i,r){for(let o=Cn.length-1;o>=Cn.indexOf(e);o--){const c=Cn[o];if(Vd[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Cn[e?Cn.indexOf(e):0]}function tL(n){for(let t=Cn.indexOf(n)+1,e=Cn.length;t<e;++t)if(Vd[Cn[t]].common)return Cn[t]}function AE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=Hy(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function eL(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function RE(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:eL(n,i,r,e)}class CE extends _l{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new iV._date(t.adapters.date);r.init(e),Gc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:TE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!h&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=ni(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ni(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=bk(r,o,c);return this._unit=e.unit||(i.autoSkip?SE(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):JP(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:tL(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),RE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=hn(e,0,c),i=hn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||SE(o.minUnit,e,i,this._getLabelCapacity(e)),h=Dt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=ou(f)||f===!0,y={};let _=e,b,T;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(b=_,T=0;b<i;b=+t.add(b,h,c),T++)AE(y,b,A);return(b===i||r.bounds==="ticks"||T===1)&&AE(y,b,A),Object.keys(y).sort(EE).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return ce(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,d=this._majorUnit,y=f&&h[f],_=d&&h[d],b=i[e],T=d&&_&&b&&b.major;return this._adapter.format(t,r||(T?_:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Os(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,RE(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(TE(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return v1(t.sort(EE))}}function Ef(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Oa(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Oa(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const d=c-o;return d?h+(f-h)*(t-o)/d:h}class VL extends CE{static id="timeseries";static defaults=CE.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ef(e,this.min),this._tableRange=Ef(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,d,y;for(c=0,h=t.length;c<h;++c)d=t[c],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],f=r[c-1],d=r[c],Math.round((y+f)/2)!==d&&o.push({time:d,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Ef(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Ef(this._table,i*this._tableRange+this._minPos,!0)}}const Z1="label";function IE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function nL(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function J1(n,t){n.labels=t}function tA(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z1;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function iL(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z1;const e={labels:[],datasets:[]};return J1(e,n.labels),tA(e,n.datasets,t),e}function sL(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:d=[],fallbackContent:y,updateMode:_,...b}=n,T=nt.useRef(null),A=nt.useRef(null),C=()=>{T.current&&(A.current=new Wa(T.current,{type:c,data:iL(h,o),options:f&&{...f},plugins:d}),IE(t,A.current))},I=()=>{IE(t,null),A.current&&(A.current.destroy(),A.current=null)};return nt.useEffect(()=>{!r&&A.current&&f&&nL(A.current,f)},[r,f]),nt.useEffect(()=>{!r&&A.current&&J1(A.current.config.data,h.labels)},[r,h.labels]),nt.useEffect(()=>{!r&&A.current&&h.datasets&&tA(A.current.config.data,h.datasets,o)},[r,h.datasets]),nt.useEffect(()=>{A.current&&(r?(I(),setTimeout(C)):A.current.update(_))},[r,f,h.labels,h.datasets,_]),nt.useEffect(()=>{A.current&&(I(),setTimeout(C))},[c]),nt.useEffect(()=>(C(),()=>I()),[]),DE.createElement("canvas",{ref:T,role:"img",height:e,width:i,...b},y)}const rL=nt.forwardRef(sL);function r_(n,t){return Wa.register(t),nt.forwardRef((e,i)=>DE.createElement(rL,{...e,ref:i,type:n}))}const aL=r_("line",nV),eA=r_("bar",J6),oL=r_("doughnut",eV);Wa.register(i_,s_,K1,n_,kd,Od);const lL=({isDark:n})=>{const t={labels:["January","February","March"],datasets:[{label:"Fuel Consumption",data:[20,42,88],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderWidth:1}]},e={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption Overview",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return w.jsx(eA,{data:t,options:e})};Wa.register(i_,s_,IP,CP,n_,kd,Od);const cL=({isDark:n})=>{const t={labels:["January","February","March","April"],datasets:[{label:"Mileage",data:[40,52,70,88],fill:!1,borderColor:"rgba(101, 119, 255, 1)",tension:.1}]},e={responsive:!0,plugins:{legend:{position:"top",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Mileage Efficiency",color:n?"#FFFCE1":"#0E100F"}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return w.jsx(aL,{data:t,options:e})};Wa.register(_P,kd,Od);const uL=({isDark:n})=>{const t={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Total Expenses",color:n?"#FFFCE1":"#0E100F"},tooltip:{backgroundColor:n?"#0E100F":"#FFFCE1",titleColor:n?"#FFFCE1":"#0E100F",bodyColor:n?"#FFFCE1":"#0E100F",borderColor:n?"#555":"#ccc",borderWidth:1}}},e={labels:["January","February","March"],datasets:[{label:"Expenses",data:[300,50,100],backgroundColor:["rgba(101, 119, 255, 1)","rgba(100, 205, 253, 1)","rgba(7, 76, 145, 1)"],borderColor:n?"#0E100F":"#FFFCE1",borderWidth:2}]};return w.jsx(oL,{data:e,options:t})};function hL({isDark:n}){const t=Pe();return w.jsxs("div",{className:`flex-col
            fade-in flex items-center justify-center h-screen w-full p-[calc(0.4vw+0.6rem)]`,children:[w.jsx("section",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:`${t?"flex-col items-center gap-[calc(0.4vw+0.6rem)]":"flex-row items-center"}
                    h-auto w-full flex justify-center py-[calc(0.4vw+0.6rem)] border-b border-[var(--border-color)]`,children:[w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("img",{src:Or,className:`h-[calc(6vw+6.4rem)] w-[calc(6vw+6.4rem)] cursor-pointer\r
                            filter hover:brightness-60 transition duration-300`,alt:""}),w.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),w.jsxs("div",{className:`${t?"w-full":""}
                        flex-3 h-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]`,children:[w.jsxs("div",{className:"flex-1 w-full flex flex-col items-start justify-center py-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"w-full text-[calc(0.4vw+1rem)] text-center cursor-pointer font-semibold hovered",children:"Subscribe to our newsletter"}),w.jsxs("div",{className:"w-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] pl-0",children:[w.jsx("input",{type:"email",placeholder:"Enter your email",className:`${t?"text-[calc(0.4vw+0.7rem)] placeholder:text-[calc(0.4vw+0.7rem)]":""}
                                    ${n?"border-[var(--light-color)]":"border-[var(--dark-color)]"}
                                    w-full outline-none px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] border-b`}),w.jsx("i",{className:"bx bx-arrow-right-stroke-circle bx-spin-hover hovered text-[calc(1vw+1.4rem)] cursor-pointer"})]})]}),w.jsxs("div",{className:`${t?"pb-[calc(0.4vw+0.6rem)]":"p-[calc(0.4vw+0.6rem)]"}
                            flex-3 w-full flex items-center justify-center gap-[calc(1.4vw+1.6rem)]`,children:[w.jsxs("div",{className:`${t?"items-center":"items-start"}
                                h-auto flex-1 flex flex-col justify-center gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"About Us"}),w.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Mission"}),w.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Team"}),w.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Docs"})]}),w.jsxs("div",{className:`${t?"items-center":"items-start"}
                                h-auto flex-1 flex flex-col justify-center gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Support"}),w.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Contact"}),w.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Support"}),w.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"FAQ's"})]}),w.jsxs("div",{className:`${t?"items-center":"items-start"}
                                h-auto flex-1 flex flex-col justify-center gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] font-semibold cursor-pointer hovered",children:"Social"}),w.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Facebook"}),w.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,children:"Instagram"}),w.jsx("span",{className:`${t?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} cursor-pointer hovered`,onClick:()=>{window.open("https://github.com/Yureusu/DriveSense/actions")},children:"Github"})]})]})]})]})}),w.jsxs("section",{className:"w-full flex flex-row items-center justify-between flex-wrap",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Copyright  DriveSense 2025"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Terms of Service"}),w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"A100 Group 6 BSIT Mini-Capstone Project"}),w.jsxs("div",{className:"flex flex-row items-center justify-center",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] text-center cursor-pointer hovered p-[calc(0.4vw+0.6rem)]",children:"Back to top"}),w.jsx("i",{className:"bx bx-arrow-up-square bx-tada-hover text-[calc(1vw+1.4rem)] cursor-pointer hovered",onClick:()=>{const e=document.getElementById("landing-section");e&&e.scrollIntoView({behavior:"smooth"})}})]})]})]})}function fL({isDark:n}){const t=Pe();return w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in h-screen w-full flex flex-col items-center justify-start overflow-y-scroll snap-y snap-mandatory scroll-smooth no-scrollbar`,children:[w.jsxs("section",{id:"landing-section",className:`${t?"flex-col min-h-screen w-full justify-center":"w-[90%] flex-row min-h-screen justify-around snap-start"}
                flex items-center border-b border-[var(--border-color)]`,children:[w.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:`${t?"text-center":""} text-[calc(1.6vw+1.4rem)] font-bold cursor-pointer hovered`,children:"Fuel Consumption and Vehicle Usage Monitoring System"}),!t&&w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),!t&&w.jsx("div",{className:"flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:w.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)] rounded-md cursor-pointer
                                hover:bg-[var(--purple-color)] transition duration-300 ease-in-out hover:text-[var(--dark-color)] font-semibold`,children:"Get Started"})})]})}),w.jsx("div",{className:"relative h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:w.jsx("img",{src:k4,className:`${t?"h-[calc(18vw+16rem)] min-w-[calc(18vw+16rem)]":"h-[calc(18vw+16rem)] w-[calc(24vw+18rem)] mb-[48px]"}`,alt:""})}),t&&w.jsx("div",{className:"h-auto w-full flex-1 flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"w-full flex flex-col items-start justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] text-center font-bold cursor-pointer hovered",children:"Enhancing Vehicle Efficiency Through Digital Monitoring"}),w.jsx("div",{className:"w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:w.jsx("span",{className:`text-[var(--light-color)] bg-[var(--blue-color)]
                                text-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.8rem)] rounded-md hovered cursor-pointer font-semibold`,children:"Get Started"})})]})})]}),w.jsxs("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)] border-b border-[var(--border-color)]`,children:[w.jsx("span",{className:"text-[calc(0.8vw+1rem)] cursor-pointer font-semibold hovered",children:"Why Use DriveSense?"}),w.jsxs("div",{className:`${n?"text-[var(--light-color)]":"text-[var(--dark-color)]"}
                        ${t?"flex-row items-center flex-wrap":"flex-row items-start"}
                        w-full flex justify-center gap-[calc(0.4vw+0.6rem)] p-[calc(0.4vw+0.6rem)]`,children:[w.jsx(cf,{icon:w.jsx("i",{className:"bx bx-petrol-pump bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Monitor Fuel Consumption",info:"Track fuel volume, cost and refusing data.",isDark:n}),w.jsx(cf,{icon:w.jsx("i",{className:"bx bx-chart-bar-columns bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Analyze Efficiency",info:"Generate reports on vehicle mileage and performance.",isDark:n}),w.jsx(cf,{icon:w.jsx("i",{className:"bx bx-car bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Manage Vehicles",info:"Register and update vehicle details with ease.",isDark:n}),w.jsx(cf,{icon:w.jsx("i",{className:"bx bx-lock-keyhole bx-tada-hover text-[calc(1.6vw+2.2rem)] text-[var(--purple-color)] font-semibold cursor-pointer"}),title:"Secure Access",info:"Role: based login for drivers and owners.",isDark:n})]}),w.jsxs("div",{className:`${t?"flex-col justify-start w-full":"flex-row justify-center h-[320px] w-full"}
                    h-auto flex items-center p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:w.jsx(lL,{isDark:n})}),w.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+0.6rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:w.jsx(cL,{isDark:n})}),w.jsx("div",{className:`${t?"h-[300px] w-full":"h-[300px] flex-1"} cursor-pointer
                        p-[calc(0.4vw+1rem)] rounded-md border border-[var(--border-color)] flex flex-col items-center justify-center`,children:w.jsx(uL,{isDark:n})})]})]}),w.jsx("section",{className:`${t?"flex-col h-auto w-full justify-center":"w-[90%] flex-col min-h-screen justify-start snap-start"}
                flex items-center py-[calc(0.8vw+1.2rem)]`,children:w.jsx(hL,{isDark:n})})]})}function dL({isLoggedIn:n,setIsLoggedIn:t,setUser:e}){const[i,r]=nt.useState(!1);return w.jsxs("div",{className:`${i?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            h-screen w-screen overflow-hidden flex flex-col items-center justify-start`,children:[w.jsx(O4,{isDark:i,setIsDark:r,isLoggedIn:n,setIsLoggedIn:t,setUser:e}),w.jsx(fL,{isDark:i})]})}const nA=({icon:n,title:t})=>{const e=Pe();return w.jsxs("div",{className:`${e?"p-[calc(0.4vw+0.6rem)]":""} flex flex-row items-center justify-start gap-[calc(0.3vw+0.4rem)] w-full`,children:[w.jsx("i",{className:`${n} text-[calc(0.6vw+1rem)]`}),w.jsx("span",{className:`${e?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} hovered`,children:t})]})};function mL({isDark:n,setIsDark:t,activeIndex:e,setActiveIndex:i,user:r,isLoggedIn:o,setIsLoggedIn:c}){const h=Pe(),[f,d]=nt.useState(!1),y=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-user bx-tada-hover hovered",title:"Drivers"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicle"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],_=r?.displayName?.split(" ")[0]??"Guest",b=()=>{const T=_u();I2(T).then(()=>{console.log("Signed out successfully!"),c(!1)}).catch(A=>{console.error(A)})};return w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            fade-in sticky top-0 left-0 z-2 h-auto w-full flex flex-row items-center justify-between border-b border-[var(--border-color)] p-[12px]`,children:[w.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[h&&w.jsx("i",{className:"bx bx-menu bx-bounce-hover text-[calc(0.8vw+1.2rem)] cursor-pointer",onClick:()=>d(T=>!T)}),w.jsx("img",{src:Or,className:"h-[calc(1.2vw+1.8rem)] w-[calc(1.2vw+1.8rem)] cursor-pointer hovered"}),w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] cursor-pointer font-semibold hovered",children:"DriveSense"})]}),w.jsxs("div",{className:"flex flex-row items-center gap-[calc(0.4vw+0.6rem)]",children:[r&&w.jsx("img",{src:r?.photoURL??Or,className:"rounded-full h-[calc(0.8vw+1.4rem)]  w-[calc(0.8vw+1.4rem)] cursor-pointer",alt:""}),!r&&w.jsx("i",{className:"bx bx-user-circle bx-tada-hover hovered text-[calc(1vw+1.2rem)] cursor-pointer"}),w.jsx("span",{className:`${h?"text-[calc(0.4vw+0.7rem)]":"text-[calc(0.4vw+0.6rem)]"} 
                    cursor-pointer hovered`,children:h?_:r?.displayName??"Guest"}),w.jsx(TT,{isDark:n,setIsDark:t}),o&&w.jsx("i",{className:"bx bx-arrow-out-right-square-half bx-tada-hover text-[calc(0.4vw+1rem)] hover:text-red-500 transition duration-300 ease-in-out cursor-pointer",onClick:()=>b()})]}),h&&f&&w.jsx("div",{className:"h-screen w-screen bg-[rgba(0,0,0,0.50)] absolute top-0 left-0",children:w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-screen w-[50vw] absolute top-0 left-0 flex flex-col items-start justify-start p-[calc(0.4vw+0.7rem)]`,children:[w.jsx("i",{className:"bx bx-x bx-rotate-hover text-[calc(0.6vw+1rem)] cursor-pointer mt-[calc(0.2vw+0.2rem)] mb-[calc(0.4vw+0.6rem)]",onClick:()=>d(T=>!T)}),y.map((T,A)=>w.jsx("div",{className:`${e===A?"bg-[var(--border-color)] text-[var(--dark-color)]":""} flex flex-row items-center justify-start
                            cursor-pointer w-full transition duration-300 ease-in-out`,onClick:()=>i(A),children:w.jsx(nA,{icon:T.icon,title:T.title})},A))]})})]})}function Er({title:n,descrip:t,isDark:e}){return w.jsxs("div",{className:`
            text-[var(--light-color)] bg-[var(--purple-color)]
            h-auto w-full flex flex-col items-start justify-center rounded-lg
            p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] cursor-pointer text-center",children:n}),w.jsx("span",{className:"text-[calc(0.6vw+1.2rem)] cursor-pointer",children:t})]})}function a_(n){const[t,e]=nt.useState([]),[i,r]=nt.useState(!0),[o,c]=nt.useState(null),h=nt.useCallback(async()=>{if(n?.uid)try{r(!0);const f=wi(Ge,"users",n.uid,"fuels"),d=await Tu(f),y=[];d.forEach(_=>{const b=_.data();y.push({id:_.id||null,vehicle:b.vehicle??"null",volume:b.volume??"null",cost:b.cost??"null",addedBy:b.addedBy??"null",logDate:b.logDate??"null"})}),e(y)}catch(f){console.error("Failed to fetch fuel logs:",f),c(f)}finally{r(!1)}},[n]);return nt.useEffect(()=>{h()},[h]),{fuelInfo:t,loading:i,error:o,refetch:h}}Wa.register(i_,s_,K1,n_,kd,Od);const pL=({isDark:n,user:t})=>{const{fuelInfo:e}=a_(t),[i,r]=nt.useState([]),[o,c]=nt.useState([]);nt.useEffect(()=>{if(!e||e.length===0){r([]),c([]);return}const d=e.map(_=>Number(_.cost)||0);r(d);const y=e.map(_=>{if(!_.logDate)return null;const b=new Date(_.logDate);return isNaN(b.getTime())?null:b.toISOString().split("T")[0]}).filter(_=>!!_);c(y)},[e]),console.log(o);const h={labels:o,datasets:[{label:"Fuel Consumption",data:i,backgroundColor:["rgba(101, 119, 255, 1)"],borderWidth:1}]},f={responsive:!0,plugins:{legend:{labels:{color:n?"#FFFCE1":"#0E100F"}},title:{display:!0,text:"Fuel Consumption",color:n?"#FFFCE1":"#0E100F",align:"start",font:{size:16}}},scales:{x:{ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{beginAtZero:!0,ticks:{color:n?"#FFFCE1":"#0E100F"},grid:{color:n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}};return w.jsx(eA,{data:h,options:f})};function Pd(n){const[t,e]=nt.useState([]),[i,r]=nt.useState(!0),[o,c]=nt.useState(null),h=nt.useCallback(async()=>{if(n?.uid)try{r(!0);const f=wi(Ge,"users",n.uid,"vehicles"),d=await Tu(f),y=[];d.forEach(_=>{const b=_.data();y.push({id:_.id,plateNumber:b.plateNumber??"null",model:b.model??"null",driver:b.driver??"null",createdAt:b.createdAt??"null"})}),e(y)}catch(f){console.error("Failed to fetch vehicle logs:",f),c(f)}finally{r(!1)}},[n]);return nt.useEffect(()=>{h()},[h]),{vehicleInfo:t,loading:i,error:o,refetch:h}}function Ld(n){const[t,e]=nt.useState([]),[i,r]=nt.useState(!0),[o,c]=nt.useState(null),h=nt.useCallback(async()=>{if(n?.uid)try{r(!0);const f=wi(Ge,"users",n.uid,"drivers"),d=await Tu(f),y=[];d.forEach(_=>{const b=_.data();y.push({id:_.id,name:b.name??"null",contact:b.contact??"null",license:b.license??"null"})}),e(y)}catch(f){console.error("Failed to fetch vehicle logs:",f),c(f)}finally{r(!1)}},[n]);return nt.useEffect(()=>{n?.uid&&h()},[h]),{driverInfo:t,loading:i,error:o,refetch:h}}function iA(n){const[t,e]=nt.useState([]),[i,r]=nt.useState(!0),[o,c]=nt.useState(null),h=nt.useCallback(async()=>{if(n?.uid)try{r(!0);const f=wi(Ge,"users",n.uid,"maintenance"),d=await Tu(f),y=[];d.forEach(_=>{const b=_.data();y.push({id:_.id||null,vehicle:b.vehicle??"null",description:b.description??"null",cost:b.cost??"null",createdAt:b.createdAt??"null"})}),e(y)}catch(f){console.error("Failed to fetch fuel logs:",f),c(f)}finally{r(!1)}},[n]);return nt.useEffect(()=>{h()},[h]),{maintenanceInfo:t,loading:i,error:o,refetch:h}}function gL(n){const[t,e]=nt.useState([]),[i,r]=nt.useState(!0),[o,c]=nt.useState(null),h=nt.useCallback(async()=>{if(n?.uid)try{r(!0);const f=wi(Ge,"users",n.uid,"activities"),d=await Tu(f),y=[];d.forEach(_=>{const b=_.data();y.push({activity:b.activity??"null",date:b.date??"null",time:b.time??"null"})}),e(y)}catch(f){console.error("Failed to fetch recent activities:",f),c(f)}finally{r(!1)}},[n]);return nt.useEffect(()=>{n?.uid&&h()},[h]),{recentActivity:t,loading:i,error:o,refetch:h}}function NE({isDark:n,user:t}){console.log(t);const{fuelInfo:e}=a_(t),{vehicleInfo:i}=Pd(t),{driverInfo:r}=Ld(t),{maintenanceInfo:o}=iA(t),{recentActivity:c}=gL(t);console.log("vehicleInfo",i),console.log("fuelInfo",e),console.log("driverInfo",r),console.log("maintenanceInfo",o);const h=Pe(),[f,d]=nt.useState(0),[y,_]=nt.useState("0"),[b,T]=nt.useState("0"),[A,C]=nt.useState(0);return nt.useEffect(()=>{if(!e||!i||!r||!o)return;const I=e.reduce((V,B)=>V+Number(B.cost||0),0);d(i.length),_(r.length.toString()),T(o.length.toString()),C(I),console.log({totalFuel:I,vehicleCount:i.length,driverCount:r.length,maintenanceCount:o.length})},[e,i,r,o]),nt.useEffect(()=>{console.log("Recent activities: ",c)},[c]),w.jsxs("div",{id:"main",className:`${h?"h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
        flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)]`,children:[w.jsxs("div",{className:`${h?"":"pb-[calc(0.4vw+0.6rem)]"}
                w-full h-auto flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("span",{className:"text-[calc(0.8vw+1.2rem)] font-semibold cursor-pointer hovered",children:"Dashboard"}),w.jsxs("span",{className:"text-[calc(0.4vw+0.8rem)] cursor-pointer hovered",children:["Welcome back, ",t?.displayName?.split(" ")[0]]}),!h&&w.jsxs("div",{className:"h-auto w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx(Er,{title:"Total Vehicles",descrip:f.toString()??"0",isDark:n}),w.jsx(Er,{title:"Monthly Fuel Cost",descrip:A?.toString()??"0",isDark:n}),w.jsx(Er,{title:"Total Drivers",descrip:y,isDark:n}),w.jsx(Er,{title:"Maintenance Logs",descrip:b,isDark:n})]}),h&&w.jsxs("div",{className:"h-auto w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx(Er,{title:"Total Vehicles",descrip:f.toString()??"0",isDark:n}),w.jsx(Er,{title:"Monthly Fuel Cost",descrip:A?.toString()??"0",isDark:n})]}),w.jsxs("div",{className:"h-auto w-full flex flex-row items-center jsutify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx(Er,{title:"Total Drivers",descrip:y,isDark:n}),w.jsx(Er,{title:"Maintenance Logs",descrip:b,isDark:n})]})]})]}),w.jsxs("div",{className:`${h?"flex-col items-start mt-[calc(0.4vw+0.6rem)]":"flex-row items-start"}
                h-full w-full flex justify-start gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("div",{className:`${h?"w-full":"flex-1"}
                    h-full flex flex-row items-center justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:w.jsx(pL,{isDark:n,user:t})}),w.jsxs("div",{className:`${h?"w-full max-h-[220px]":"flex-1"}
                    h-full flex flex-col items-start justify-center p-[calc(0.4vw+0.6rem)] rounded-lg bordered`,children:[w.jsx("span",{className:"text-[calc(0.6vw+0.8rem)] p-[calc(0.4vw+0.6rem)] pl-0 cursor-pointer",children:"Recent Activity"}),w.jsxs("div",{className:"h-full w-full overflow-y-scroll  flex flex-col items-start justify-start py-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]",children:[w.jsxs("div",{className:"w-full flex flex-row items-center justify-start",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Activity"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Date"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] cursor-pointer hovered",children:"Time"})]}),c.sort((I,V)=>new Date(`${V.date} ${V.time}`).getTime()-new Date(`${I.date} ${I.time}`).getTime()).map((I,V)=>w.jsxs("div",{className:"w-full flex flex-row items-center justify-start flex-wrap",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:I.activity}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:I.date}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:I.time})]},I.activity??V))]})]})]})]})}function yL({user:n,isDark:t,vehicleInfo:e,setVehicleInfo:i,setIsVisible:r}){const{driverInfo:o}=Ld(n),[c,h]=nt.useState(!1),f=Pe(),[d,y]=nt.useState(null);nt.useEffect(()=>{if(console.log("driverInfo prop:",o),o&&Array.isArray(o)){const B=o.map(H=>H.name??"null");y(B)}},[o]),nt.useEffect(()=>{console.log("Driver Names: ",d)},[d]);const[_,b]=nt.useState(null),[T,A]=nt.useState(null),[C,I]=nt.useState(null),V=async()=>{if(!n?.uid)return;const B=new Date,H=`${B.toLocaleDateString()} ${B.toLocaleTimeString()}`,Z=(e.length+1).toString(),Q=Bs(Ge,"users",n?.uid,"vehicles",Z),rt=await gl(Q,{id:Z,plateNumber:_,model:T,driver:C,createdAt:H}),D={id:Z,plateNumber:_,model:T,driver:C,createdAt:H};i(M=>[...M,D]),console.log(e);const R=wi(Ge,"users",n.uid,"activities");await yl(R,{activity:"Added new vehicle",date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()}),console.log("Added the vehicle successfully: ",rt),h(M=>!M),r(!1)};return w.jsx(w.Fragment,{children:!c&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:w.jsxs("div",{className:`${t?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>h(B=>!B)}),w.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),w.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("input",{type:"text",placeholder:"Plate Number",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:B=>b(B.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"Model",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:B=>A(B.target.value),required:!0}),w.jsxs("select",{id:"driver-names",value:C??"",className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",onChange:B=>I(B.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),d?.map((B,H)=>w.jsx("option",{value:B,className:"text-[var(--dark-color)] cursor-pointer",children:B},H))]}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>V(),children:"Continue"})]})]})]})})})}function _L({selectedDriverIndex:n,user:t,refetch:e,setIsDelete:i}){nt.useEffect(()=>{console.log("SelectedDriverIndex: ",n)},[]);const[r,o]=nt.useState(!0),c=async()=>{try{if(!t?.uid||n===null)return;const h=Bs(Ge,"users",t?.uid,"vehicles",n.toString());await a1(h);const f=wi(Ge,"users",t.uid,"activities");await yl(f,{activity:"Deleted a vehicle",date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()}),e()}catch(h){console.error(h)}o(!1),i(!1),console.log("Deleted vehicle successfully!")};return w.jsx(w.Fragment,{children:r&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:w.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>o(!1)}),w.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[w.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this vehicle?"})}),w.jsxs("div",{className:"flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>o(!1),children:"No"}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>c(),children:"Yes"})]})]})]})})})}function vL({isDark:n,user:t,driverInfo:e}){const i=Pe(),[r,o]=nt.useState(!1),[c,h]=nt.useState(!1),[f,d]=nt.useState(null),{vehicleInfo:y,loading:_,error:b,refetch:T}=Pd(t);return _?w.jsx("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-gray-500`,children:"Loading vehicles..."}):b?w.jsxs("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-red-500`,children:["Error: ",b.message]}):w.jsxs("section",{id:"main",className:`${i?"h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:`${i?"text-[calc(0.6vw+0.9rem)]":"text-[calc(0.6vw+1rem)]"}
                    font-semibold cursor-pointer hovered`,children:"Vehicle Information"}),i&&w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>T()})}),w.jsxs("div",{className:`${i?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}
                    flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[var(--light-color)] 
                    bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>o(A=>!A),children:[w.jsx("i",{className:"bx bx-plus bx-tada-hover"}),w.jsx("span",{children:"Add"})]})]}),r&&w.jsx(yL,{user:t,driverInfo:e,isDark:n,vehicleInfo:y,setVehicleInfo:()=>T(),setIsVisible:o}),w.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("div",{className:`h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] \r
                p-[calc(0.4vw+0.6rem)]`,children:w.jsxs("div",{className:`${i?"gap-[calc(0.4vw+0.6rem)]":""}
                        h-auto w-full flex flex-row items-start justify-start`,children:[w.jsx("span",{className:`${i?"":"flex-1"}
                            text-[calc(0.4vw+0.6rem)]`,children:"Id"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Driver"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Plate no."}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Model"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Created At"}),!i&&w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>T()})})]})}),!i&&y.map(A=>w.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-row items-start justify-start flex-wrap",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.driver??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.plateNumber??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] flex-wrap",children:A.model??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.createdAt??"null"}),w.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer",onClick:()=>{h(C=>!C),d(Number(A.id))}})]})]})},A.id)),i&&y.map(A=>w.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+1rem)]",children:w.jsxs("div",{className:"flex flex-col items-start justify-start flex-wrap gap-[calc(0.4vw+1rem)]",children:[w.jsxs("div",{className:"flex flex-row items-start justify-start flex-wrap gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)]",children:A.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.driver??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.plateNumber??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] flex-wrap",children:A.model??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:A.createdAt??"null"})]}),w.jsxs("div",{className:"w-full flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer",onClick:()=>{h(C=>!C),d(Number(A.id))}})]})]})},A.id)),c&&w.jsx(_L,{selectedDriverIndex:f,user:t,refetch:T,setIsDelete:h})]})]})}function bL({user:n,refetch:t,driverInfo:e,setIsAddDriverVisible:i}){const[r,o]=nt.useState(!0),[c,h]=nt.useState(""),[f,d]=nt.useState(""),[y,_]=nt.useState(""),b=async()=>{try{if(!n?.uid)return;const T=(e.length+1).toString(),A=Bs(Ge,"users",n.uid,"drivers",T);await gl(A,{name:c,contact:f,license:y}),console.log("Added the driver successfully");const C=wi(Ge,"users",n.uid,"activities");await yl(C,{activity:"Added new driver",date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()}),t(),o(I=>!I),i(!1)}catch(T){console.error("Can't add the driver.",T)}};return w.jsx(w.Fragment,{children:r&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:w.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>o(T=>!T)}),w.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[w.jsx("div",{className:"w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new driver"})}),w.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("input",{type:"text",placeholder:"Name",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:T=>h(T.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"Contact",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:T=>d(T.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"License",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                    placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:T=>_(T.target.value),required:!0}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                    bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:b,children:"Continue"})]})]})]})})})}function xL({user:n,driverId:t,driverIndex:e,driverInfo:i,setDriverInfo:r,refetch:o,setIsDelete:c}){const[h,f]=nt.useState(!0),d=Pe(),y=async()=>{try{if(!n?.uid||!t)return;const _=Bs(Ge,"users",n?.uid,"drivers",t);await a1(_),r(T=>T.filter((A,C)=>C!==e));const b=wi(Ge,"users",n.uid,"activities");await yl(b,{activity:"Deleted a driver",date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()}),o(),f(T=>!T),c(!1)}catch(_){console.error("Cant delete the driver.",_)}};return console.log("Updated driver info: ",i),w.jsx(w.Fragment,{children:h&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.50)]",children:w.jsxs("div",{className:"h-auto w-[420px] bg-[var(--light-color)] flex flex-col items-center justify-center relative rounded-xl rounded-tr-none",children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>f(_=>!_)}),w.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-start py-[calc(0.4vw+0.6rem)] px-[calc(1.4vw+1.6rem)] gap-[calc(0.4vw+0.6rem)] text-[var(--dark-color)]",children:[w.jsx("div",{className:" flex-2 w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)] font-semibold",children:"Are you sure you want to delete this driver?"})}),w.jsxs("div",{className:`
                            flex-2 w-full flex flex-row items-center justify-center gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-red-500 transition duration-300 ease-in-out`,onClick:()=>f(_=>!_),children:"No"}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-xl text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-green-500 transition duration-300 ease-in-out`,onClick:()=>y(),children:"Yes"})]})]})]})})})}function wL({isDark:n,user:t}){const[e,i]=nt.useState([]),r=Pe(),[o,c]=nt.useState(!1),[h,f]=nt.useState(!1),[d,y]=nt.useState(null),[_,b]=nt.useState(null),{driverInfo:T,loading:A,error:C,refetch:I}=Ld(t);return A?w.jsx("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-gray-500`,children:"Loading drivers..."}):C?w.jsxs("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-red-500`,children:["Error: ",C.message]}):w.jsxs("div",{id:"main",className:`${r?"h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-auto"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:`${r?"text-[calc(0.6vw+0.9rem)]":"text-[calc(0.6vw+1rem)]"}
                    font-semibold cursor-pointer hovered`,children:"Driver Information"}),r&&w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover text-[calc(0.6vw+1rem)] cursor-pointer hover:text-[var(--dark-color)] transition duration-300 ease-in-out",onClick:I})}),w.jsxs("div",{className:`${r?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}
                    flex flex-row items-center jsutify-center rounded-lg cursor-pointer  
                    text-[var(--light-color)] bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>c(V=>!V),children:[w.jsx("i",{className:"bx bx-plus bx-tada-hover"}),w.jsx("span",{children:"Add"})]})]}),o&&w.jsx(bL,{user:t,refetch:I,driverInfo:T,setIsAddDriverVisible:c}),w.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:`${r?"gap-[calc(0.4vw+0.6rem)]":""}
                        h-auto w-full flex flex-row items-start justify-start`,children:[w.jsx("span",{className:`${r?"":"flex-1"}
                            text-[calc(0.4vw+0.6rem)]`,children:"Id"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Name"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Contact"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"License"}),!r&&w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>I()})})]})}),!r&&T.map((V,B)=>w.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-row items-start justify-start flex-wrap",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:V.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:V.name??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:V.contact??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:V.license??"null"}),w.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer",onClick:()=>{f(!0),y(V.id??"null"),b(B)}})]})]})},V.id??B)),r&&T.map((V,B)=>w.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-col items-start justify-start flex-wrap gap-[calc(0.6vw+1rem)]",children:[w.jsxs("div",{className:"w-full flex flex-row items-start justify-start flex-wrap gap-[calc(0.6vw+1rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)]",children:V.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:V.name??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:V.contact??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:V.license??"null"})]}),w.jsxs("div",{className:"w-full flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer",onClick:()=>{f(!0),y(V.id??"null"),b(B)}})]})]})},V.id??B)),h&&d&&w.jsx(xL,{user:t,driverId:d,driverIndex:_,driverInfo:e,setDriverInfo:i,refetch:I,setIsDelete:f})]})]})}function EL({isDark:n,user:t,fuelInfo:e,refetch:i,setIsAddFuel:r}){const{vehicleInfo:o}=Pd(t),{driverInfo:c}=Ld(t),[h,f]=nt.useState([]),[d,y]=nt.useState([]),[_,b]=nt.useState([]);nt.useEffect(()=>{if(!o||!c||!e)return;const R=o.map(k=>k.model??"null");f(R);const M=c.map(k=>k.name??"null");y(M);const L=e.map(k=>k.id??"null");b(L)},[o,c,e]),nt.useEffect(()=>{console.log("Updated vehicleModel:",h)},[h]);const[T,A]=nt.useState(!0),[C,I]=nt.useState(null),[V,B]=nt.useState(null),[H,Z]=nt.useState(null),[Q,rt]=nt.useState(null),D=async()=>{try{if(!t?.uid)return;const R=(_.length+1).toString(),M=new Date,L=`${M.toLocaleDateString()} ${M.toLocaleTimeString()}`,k=Bs(Ge,"users",t?.uid,"fuels",R);await gl(k,{id:R,vehicle:C,volume:V,cost:H,addedBy:Q,logDate:L});const j=wi(Ge,"users",t.uid,"activities");await yl(j,{activity:"Added fuel log",date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()}),A(O=>!O),r(O=>!O),i()}catch(R){console.error("Cant add fuel log.",R)}};return w.jsx(w.Fragment,{children:T&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>A(R=>!R)}),w.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new vehicle"})}),w.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",value:C??"",onChange:R=>I(R.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"Select a vehicle"}),h?.map((R,M)=>w.jsx("option",{value:R,className:"text-[var(--dark-color)] cursor-pointer",children:R},M))]}),w.jsx("input",{type:"text",placeholder:"Volume",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:R=>B(R.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"Cost",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:R=>Z(R.target.value),required:!0}),w.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",value:Q??"",onChange:R=>rt(R.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"Select a driver"}),d?.map((R,M)=>w.jsx("option",{value:R,className:"text-[var(--dark-color)] cursor-pointer",children:R},M))]}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>D(),children:"Continue"})]})]})]})})})}function TL({isDark:n,user:t,driverInfo:e,vehicleInfo:i}){const r=Pe(),{fuelInfo:o,loading:c,error:h,refetch:f}=a_(t),[d,y]=nt.useState(null),[_,b]=nt.useState(null),[T,A]=nt.useState(!1);return nt.useEffect(()=>{if(e){const C=e.map(I=>I.name??"null");y(C)}},[e]),nt.useEffect(()=>{if(i){const C=i.map(I=>I.model??"null");b(C)}},[i]),c?w.jsx("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-gray-500`,children:"Loading fuel logs..."}):h?w.jsxs("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-red-500`,children:["Error: ",h.message]}):w.jsxs("section",{id:"main",className:`${r?"h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Fuel Logs"}),r&&w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>f()})}),w.jsxs("div",{className:`${r?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}
                    flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[var(--light-color)] 
                    bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>A(C=>!C),children:[w.jsx("i",{className:"bx bx-plus bx-tada-hover"}),w.jsx("span",{children:"Add"})]})]}),T&&w.jsx(EL,{isDark:n,user:t,fuelInfo:o,refetch:f,setIsAddFuel:A}),w.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsxs("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:[!r&&w.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Id"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Vehicle"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Volume(L)"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Cost"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Added By"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Log Date"}),w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>f()})})]}),r&&w.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)]",children:"Id"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Vehicle"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Volume"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Cost"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Added By"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Log Date"})]})})]}),o.map((C,I)=>w.jsxs("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:[!r&&w.jsxs("div",{className:"flex flex-row items-start justify-start flex-wrap gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.vehicle??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.volume??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.cost??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.addedBy??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.logDate??"null"}),w.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer"})]})]}),r&&w.jsxs("div",{className:"flex flex-col items-start justify-start flex-wrap gap-[calc(0.4vw+1rem)]",children:[w.jsxs("div",{className:"flex flex-row items-start justify-start flex-wrap gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)]",children:C.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.vehicle??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.volume??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.cost??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.addedBy??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:C.logDate??"null"})]}),w.jsxs("div",{className:"w-full flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer"})]})]})]},C.id??I))]})]})}function SL({isDark:n,user:t,maintenanceInfo:e,refetch:i,setIsAddMaintenance:r}){const{vehicleInfo:o}=Pd(t),[c,h]=nt.useState(!0),[f,d]=nt.useState([]),[y,_]=nt.useState([]);nt.useEffect(()=>{const H=o.map(Q=>Q.model??"null");d(H);const Z=e.map(Q=>Q.id??"null");_(Z)},[o]);const[b,T]=nt.useState(null),[A,C]=nt.useState(null),[I,V]=nt.useState(null),B=async()=>{try{if(!t?.uid)return;const H=(y.length+1).toString(),Z=new Date,Q=`${Z.toLocaleDateString()} ${Z.toLocaleTimeString()}`,rt=Bs(Ge,"users",t?.uid,"maintenance",H);await gl(rt,{id:H,vehicle:b,description:A,cost:I,createdAt:Q});const D=wi(Ge,"users",t.uid,"activities");await yl(D,{activity:"Added new maintenance record",date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()}),i(),h(R=>!R),r(R=>!R)}catch(H){console.log(H)}};return w.jsx(w.Fragment,{children:c&&w.jsx("div",{className:"fade-in absolute top-0 left-0 z-2 h-screen w-full flex flex-col items-center justify-center bg-[rgba(0,0,0,0.80)]",children:w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)] border border-[var(--light-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
                    h-auto w-[420px] flex flex-col items-center justify-center relative rounded-lg rounded-tr-none`,children:[w.jsx("i",{className:`fa-solid fa-circle-xmark text-[calc(1vw+1.2rem)] text-[var(--blue-color)] hovered\r
                        flex flex-row items-center justify-center absolute top-[-10px] right-[-14px] cursor-pointer`,onClick:()=>h(H=>!H)}),w.jsxs("div",{className:`
                        h-full w-full flex flex-col items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsx("div",{className:"flex-2 w-full flex flex-col items-center justify-end",children:w.jsx("span",{className:"text-[calc(0.4vw+0.8rem)] font-semibold",children:"Add a new record"})}),w.jsxs("div",{className:"flex-2 w-full flex flex-col items-center justify-center gap-[calc(0.4vw+0.6rem)]",children:[w.jsxs("select",{className:"focus:border-[var(--purple-color)] custom-select cursor-pointer text-[calc(0.4vw+0.5rem)] w-full p-[calc(0.3vw+0.4rem)] outline-none border border-[var(--border-color)] rounded-lg",value:b??"",onChange:H=>T(H.target.value),children:[w.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select a vehicle"}),f?.map((H,Z)=>w.jsx("option",{value:H,className:"text-[var(--dark-color)] cursor-pointer",children:H},Z))]}),w.jsx("input",{maxLength:20,type:"text",placeholder:"Description",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:H=>C(H.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"Cost",className:`cursor-pointer outline-none border border-[var(--border-color)] rounded-lg focus:border-[var(--purple-color)]\r
                                placeholder:text-[calc(0.4vw+0.5rem)] placeholder-gray-500 px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] text-[calc(0.4vw+0.5rem)] w-full`,onChange:H=>V(H.target.value),required:!0}),w.jsx("span",{className:`text-[calc(0.4vw+0.5rem)] text-[var(--light-color)] w-full px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] rounded-lg text-center cursor-pointer \r
                                bg-[var(--blue-color)] hover:bg-[var(--purple-color)] transition duration-300 ease-in-out`,onClick:()=>B(),children:"Continue"})]})]})]})})})}function AL({user:n,isDark:t,vehicleInfo:e}){const{maintenanceInfo:i,loading:r,error:o,refetch:c}=iA(n),h=Pe(),[f,d]=nt.useState(!1),[y,_]=nt.useState(null);return nt.useEffect(()=>{if(e){const b=e.map(T=>T.model??"null");_(b)}},[e]),r?w.jsx("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-gray-500`,children:"Loading maintenance records..."}):o?w.jsxs("p",{className:`"text-[calc(0.4vw+0.8rem)] flex flex-col items-center justify-center h-screen w-screen 
        text-center text-red-500`,children:["Error: ",o.message]}):w.jsxs("section",{id:"main",className:`${h?"h-screen":"border-l px-[calc(0.4vw+0.6rem)] h-full"}
            
            flex flex-col items-start justify-start w-full flex-5 border-[var(--border-color)] gap-[calc(0.4vw+0.6rem)]`,children:[w.jsxs("div",{className:"flex-1 w-full flex flex-row items-center justify-between gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.6vw+1rem)] font-semibold cursor-pointer hovered",children:"Maintenance Records"}),h&&w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>c()})}),w.jsxs("div",{className:`${h?"text-[calc(0.4vw+0.6rem)]":"text-[calc(0.4vw+0.5rem)]"}
                    flex flex-row items-center jsutify-center rounded-md cursor-pointer text-[var(--light-color)] 
                    bg-[var(--purple-color)] px-[calc(0.4vw+0.6rem)] py-[calc(0.3vw+0.4rem)] gap-[calc(0.2vw+0.3rem)]`,onClick:()=>d(b=>!b),children:[w.jsx("i",{className:"bx bx-plus bx-tada-hover"}),w.jsx("span",{children:"Add"})]})]}),f&&w.jsx(SL,{isDark:t,user:n,maintenanceInfo:i,vehicleInfo:e,refetch:c,setIsAddMaintenance:d}),w.jsxs("div",{className:"h-full w-full flex flex-col items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("div",{className:"h-auto w-full flex flex-col items-start justify-start bg-[var(--purple-color)] text-[var(--light-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"h-auto w-full flex flex-row items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:`${h?"":"flex-1"}
                            text-[calc(0.4vw+0.6rem)]`,children:"Id"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Vehicle"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)] flex-wrap",children:"Description"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Cost"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:"Created At"}),!h&&w.jsx("div",{className:"flex-1 flex flex-row items-center justify-end text-[calc(0.4vw+0.6rem)]",children:w.jsx("i",{title:"Refresh",className:"bx bx-refresh-cw bx-spin-hover hover:text-[var(--dark-color)] transition durtion-300 ease-in-out text-[calc(0.6vw+1rem)] cursor-pointer",onClick:()=>c()})})]})}),!h&&i.map((b,T)=>w.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-row items-start justify-start",children:[w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.vehicle??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.description??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.cost??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.createdAt??"null"}),w.jsxs("div",{className:"flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer"})]})]})},b.id??T)),h&&i.map((b,T)=>w.jsx("div",{className:"w-full border-b border-[var(--border-color)] p-[calc(0.4vw+0.6rem)]",children:w.jsxs("div",{className:"flex flex-col items-start justify-start gap-[calc(0.4vw+1rem)]",children:[w.jsxs("div",{className:"w-full flex flex-row items-start justify-start gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("span",{className:"text-[calc(0.4vw+0.6rem)]",children:b.id??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.vehicle??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.description??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.cost??"null"}),w.jsx("span",{className:"flex-1 text-[calc(0.4vw+0.6rem)]",children:b.createdAt??"null"})]}),w.jsxs("div",{className:"w-full flex-1 flex flex-row items-center justify-end gap-[calc(0.4vw+0.6rem)]",children:[w.jsx("i",{className:"bx bx-edit bx-tada-hover text-[calc(0.8vw+1rem)] cursor-pointer"}),w.jsx("i",{className:"bx bx-trash bx-tada-hover text-[calc(0.8vw+1rem)] hover:text-red-500 cursor-pointer"})]})]})},b.id??T))]})]})}function RL({isDark:n}){const t=Pe();return w.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Reports Tab"})}function CL({isDark:n}){const t=Pe();return w.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Users Tab"})}function IL({isDark:n}){const t=Pe();return w.jsx("div",{className:`
            ${t?"p-[calc(0.4vw+0.6rem)]":"border-l px-[calc(0.4vw+0.6rem)]"}
            flex flex-col items-center justify-start h-full w-full flex-5 border-[var(--border-color)]`,children:"Settings Tab"})}function NL({isDark:n,activeIndex:t,setActiveIndex:e,user:i,driverInfo:r,vehicleInfo:o}){const c=[{icon:"bx bx-dashboard bx-tada-hover hovered",title:"Dashboard"},{icon:"bx bx-user bx-tada-hover hovered",title:"Drivers"},{icon:"bx bx-car bx-tada-hover hovered",title:"Vehicles"},{icon:"bx bx-petrol-pump bx-tada-hover hovered",title:"Fuel"},{icon:"bx bx-spanner bx-tada-hover hovered",title:"Maintenance"},{icon:"bx bx-report bx-tada-hover hovered",title:"Reports"},{icon:"bx bx-user bx-tada-hover hovered",title:"Users"},{icon:"bx bx-cog bx-tada-hover hovered",title:"Settings"}],h=[w.jsx(NE,{isDark:n,user:i}),w.jsx(wL,{isDark:n,user:i}),w.jsx(vL,{isDark:n,user:i,driverInfo:r}),w.jsx(TL,{isDark:n,user:i,driverInfo:r,vehicleInfo:o}),w.jsx(AL,{isDark:n,user:i,vehicleInfo:o}),w.jsx(RL,{isDark:n}),w.jsx(CL,{isDark:n}),w.jsx(IL,{isDark:n})],f=Pe();return w.jsxs("div",{className:`${n?"text-[var(--light-color)] bg-[var(--dark-color)]":"text-[var(--dark-color)] bg-[var(--light-color)]"}
            ${f?"h-auto":"h-screen"}
            fade-in w-full flex flex-row items-start justify-center p-[calc(0.4vw+0.6rem)]`,children:[!f&&w.jsx("section",{id:"side-nav",className:"h-full w-full flex-1",children:c.map((d,y)=>w.jsx("div",{className:`${t===y?"text-[var(--dark-color)] bg-[var(--border-color)]":""} flex flex-row items-center justify-start p-[calc(0.4vw+0.6rem)] gap-[calc(0.4vw+0.6rem)] 
                        cursor-pointer transition duration-300 ease-in-out`,onClick:()=>e(y),children:w.jsx(nA,{icon:d.icon,title:d.title})},y))}),h[t]??w.jsx(NE,{isDark:n,user:i})]})}function DL({user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,maintenanceInfo:o,isLoggedIn:c,setIsLoggedIn:h,fuelInfo:f,recentActivity:d}){const[y,_]=nt.useState(!1),[b,T]=nt.useState(0);return w.jsxs("div",{children:[w.jsx(mL,{isDark:y,setIsDark:_,activeIndex:b,setActiveIndex:T,user:n,isLoggedIn:c,setIsLoggedIn:h}),w.jsx(NL,{isDark:y,activeIndex:b,setActiveIndex:T,user:n,driverInfo:t,setDriverInfo:e,vehicleInfo:i,setVehicleInfo:r,maintenanceInfo:o,fuelInfo:f,recentActivity:d})]})}function ML(){const[n,t]=nt.useState(!1),[e,i]=nt.useState(null),[r,o]=nt.useState([]),[c,h]=nt.useState([]),[f,d]=nt.useState([]),[y,_]=nt.useState([]),[b,T]=nt.useState([]);return nt.useEffect(()=>{const A=_u(),C=C2(A,I=>{if(I){const V={displayName:I.displayName,email:I.email,photoURL:I.photoURL,uid:I.uid};console.log("Logged in user:",V),i(V),t(!0)}else console.log("No user signed in bruh"),i(null),t(!1)});return()=>C()},[]),n?n&&!e?.uid?w.jsx("div",{className:"h-screen w-screen flex flex-col items-center justify-center",children:"Fetching user..."}):w.jsx(DL,{user:e,isLoggedIn:n,setIsLoggedIn:t,driverInfo:r,setDriverInfo:o,vehicleInfo:c,setVehicleInfo:h,fuelInfo:f,setFuelInfo:d,maintenanceInfo:y,setMaintenanceInfo:_,recentActivity:b}):w.jsx(dL,{isLoggedIn:n,setIsLoggedIn:t,setUser:i})}qR.createRoot(document.getElementById("root")).render(w.jsx(nt.StrictMode,{children:w.jsx(ML,{})}));
